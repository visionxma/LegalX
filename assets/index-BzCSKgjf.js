var cK=Object.defineProperty;var uK=(t,e,r)=>e in t?cK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var l5=(t,e,r)=>uK(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c7={exports:{}},Ib={},u7={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=Symbol.for("react.element"),dK=Symbol.for("react.portal"),fK=Symbol.for("react.fragment"),hK=Symbol.for("react.strict_mode"),pK=Symbol.for("react.profiler"),mK=Symbol.for("react.provider"),gK=Symbol.for("react.context"),yK=Symbol.for("react.forward_ref"),vK=Symbol.for("react.suspense"),wK=Symbol.for("react.memo"),bK=Symbol.for("react.lazy"),x6=Symbol.iterator;function xK(t){return t===null||typeof t!="object"?null:(t=x6&&t[x6]||t["@@iterator"],typeof t=="function"?t:null)}var d7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f7=Object.assign,h7={};function gm(t,e,r){this.props=t,this.context=e,this.refs=h7,this.updater=r||d7}gm.prototype.isReactComponent={};gm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p7(){}p7.prototype=gm.prototype;function x4(t,e,r){this.props=t,this.context=e,this.refs=h7,this.updater=r||d7}var _4=x4.prototype=new p7;_4.constructor=x4;f7(_4,gm.prototype);_4.isPureReactComponent=!0;var _6=Array.isArray,m7=Object.prototype.hasOwnProperty,E4={current:null},g7={key:!0,ref:!0,__self:!0,__source:!0};function y7(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)m7.call(e,n)&&!g7.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:ey,type:t,key:a,ref:s,props:i,_owner:E4.current}}function _K(t,e){return{$$typeof:ey,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function A4(t){return typeof t=="object"&&t!==null&&t.$$typeof===ey}function EK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var E6=/\/+/g;function c5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EK(""+t.key):e.toString(36)}function h1(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ey:case dK:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+c5(s,0):n,_6(i)?(r="",t!=null&&(r=t.replace(E6,"$&/")+"/"),h1(i,e,r,"",function(c){return c})):i!=null&&(A4(i)&&(i=_K(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(E6,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",_6(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+c5(a,o);s+=h1(a,e,r,l,i)}else if(l=xK(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+c5(a,o++),s+=h1(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function fv(t,e,r){if(t==null)return t;var n=[],i=0;return h1(t,n,"","",function(a){return e.call(r,a,i++)}),n}function AK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ra={current:null},p1={transition:null},SK={ReactCurrentDispatcher:ra,ReactCurrentBatchConfig:p1,ReactCurrentOwner:E4};function v7(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:fv,forEach:function(t,e,r){fv(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return fv(t,function(){e++}),e},toArray:function(t){return fv(t,function(e){return e})||[]},only:function(t){if(!A4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$t.Component=gm;$t.Fragment=fK;$t.Profiler=pK;$t.PureComponent=x4;$t.StrictMode=hK;$t.Suspense=vK;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SK;$t.act=v7;$t.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=f7({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=E4.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)m7.call(e,l)&&!g7.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ey,type:t.type,key:i,ref:a,props:n,_owner:s}};$t.createContext=function(t){return t={$$typeof:gK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mK,_context:t},t.Consumer=t};$t.createElement=y7;$t.createFactory=function(t){var e=y7.bind(null,t);return e.type=t,e};$t.createRef=function(){return{current:null}};$t.forwardRef=function(t){return{$$typeof:yK,render:t}};$t.isValidElement=A4;$t.lazy=function(t){return{$$typeof:bK,_payload:{_status:-1,_result:t},_init:AK}};$t.memo=function(t,e){return{$$typeof:wK,type:t,compare:e===void 0?null:e}};$t.startTransition=function(t){var e=p1.transition;p1.transition={};try{t()}finally{p1.transition=e}};$t.unstable_act=v7;$t.useCallback=function(t,e){return ra.current.useCallback(t,e)};$t.useContext=function(t){return ra.current.useContext(t)};$t.useDebugValue=function(){};$t.useDeferredValue=function(t){return ra.current.useDeferredValue(t)};$t.useEffect=function(t,e){return ra.current.useEffect(t,e)};$t.useId=function(){return ra.current.useId()};$t.useImperativeHandle=function(t,e,r){return ra.current.useImperativeHandle(t,e,r)};$t.useInsertionEffect=function(t,e){return ra.current.useInsertionEffect(t,e)};$t.useLayoutEffect=function(t,e){return ra.current.useLayoutEffect(t,e)};$t.useMemo=function(t,e){return ra.current.useMemo(t,e)};$t.useReducer=function(t,e,r){return ra.current.useReducer(t,e,r)};$t.useRef=function(t){return ra.current.useRef(t)};$t.useState=function(t){return ra.current.useState(t)};$t.useSyncExternalStore=function(t,e,r){return ra.current.useSyncExternalStore(t,e,r)};$t.useTransition=function(){return ra.current.useTransition()};$t.version="18.3.1";u7.exports=$t;var O=u7.exports;const br=bo(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NK=O,TK=Symbol.for("react.element"),PK=Symbol.for("react.fragment"),CK=Object.prototype.hasOwnProperty,kK=NK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IK={key:!0,ref:!0,__self:!0,__source:!0};function w7(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)CK.call(e,n)&&!IK.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:TK,type:t,key:a,ref:s,props:i,_owner:kK.current}}Ib.Fragment=PK;Ib.jsx=w7;Ib.jsxs=w7;c7.exports=Ib;var d=c7.exports,b7={exports:{}},Xa={},x7={exports:{}},_7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ce,ue){var xe=ce.length;ce.push(ue);e:for(;0<xe;){var we=xe-1>>>1,F=ce[we];if(0<i(F,ue))ce[we]=ue,ce[xe]=F,xe=we;else break e}}function r(ce){return ce.length===0?null:ce[0]}function n(ce){if(ce.length===0)return null;var ue=ce[0],xe=ce.pop();if(xe!==ue){ce[0]=xe;e:for(var we=0,F=ce.length,J=F>>>1;we<J;){var ie=2*(we+1)-1,fe=ce[ie],Q=ie+1,$=ce[Q];if(0>i(fe,xe))Q<F&&0>i($,fe)?(ce[we]=$,ce[Q]=xe,we=Q):(ce[we]=fe,ce[ie]=xe,we=ie);else if(Q<F&&0>i($,xe))ce[we]=$,ce[Q]=xe,we=Q;else break e}}return ue}function i(ce,ue){var xe=ce.sortIndex-ue.sortIndex;return xe!==0?xe:ce.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,p=3,h=!1,y=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(ce){for(var ue=r(c);ue!==null;){if(ue.callback===null)n(c);else if(ue.startTime<=ce)n(c),ue.sortIndex=ue.expirationTime,e(l,ue);else break;ue=r(c)}}function E(ce){if(m=!1,x(ce),!y)if(r(l)!==null)y=!0,pe(S);else{var ue=r(c);ue!==null&&X(E,ue.startTime-ce)}}function S(ce,ue){y=!1,m&&(m=!1,g(k),k=-1),h=!0;var xe=p;try{for(x(ue),f=r(l);f!==null&&(!(f.expirationTime>ue)||ce&&!M());){var we=f.callback;if(typeof we=="function"){f.callback=null,p=f.priorityLevel;var F=we(f.expirationTime<=ue);ue=t.unstable_now(),typeof F=="function"?f.callback=F:f===r(l)&&n(l),x(ue)}else n(l);f=r(l)}if(f!==null)var J=!0;else{var ie=r(c);ie!==null&&X(E,ie.startTime-ue),J=!1}return J}finally{f=null,p=xe,h=!1}}var C=!1,P=null,k=-1,T=5,W=-1;function M(){return!(t.unstable_now()-W<T)}function A(){if(P!==null){var ce=t.unstable_now();W=ce;var ue=!0;try{ue=P(!0,ce)}finally{ue?I():(C=!1,P=null)}}else C=!1}var I;if(typeof v=="function")I=function(){v(A)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,se=L.port2;L.port1.onmessage=A,I=function(){se.postMessage(null)}}else I=function(){w(A,0)};function pe(ce){P=ce,C||(C=!0,I())}function X(ce,ue){k=w(function(){ce(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ce){ce.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,pe(S))},t.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ce?Math.floor(1e3/ce):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ce){switch(p){case 1:case 2:case 3:var ue=3;break;default:ue=p}var xe=p;p=ue;try{return ce()}finally{p=xe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ce,ue){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var xe=p;p=ce;try{return ue()}finally{p=xe}},t.unstable_scheduleCallback=function(ce,ue,xe){var we=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?we+xe:we):xe=we,ce){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=xe+F,ce={id:u++,callback:ue,priorityLevel:ce,startTime:xe,expirationTime:F,sortIndex:-1},xe>we?(ce.sortIndex=xe,e(c,ce),r(l)===null&&ce===r(c)&&(m?(g(k),k=-1):m=!0,X(E,xe-we))):(ce.sortIndex=F,e(l,ce),y||h||(y=!0,pe(S))),ce},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(ce){var ue=p;return function(){var xe=p;p=ue;try{return ce.apply(this,arguments)}finally{p=xe}}}})(_7);x7.exports=_7;var jK=x7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OK=O,Ga=jK;function tt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E7=new Set,p0={};function Kf(t,e){Mp(t,e),Mp(t+"Capture",e)}function Mp(t,e){for(p0[t]=e,t=0;t<e.length;t++)E7.add(e[t])}var pc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TA=Object.prototype.hasOwnProperty,RK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A6={},S6={};function LK(t){return TA.call(S6,t)?!0:TA.call(A6,t)?!1:RK.test(t)?S6[t]=!0:(A6[t]=!0,!1)}function DK(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MK(t,e,r,n){if(e===null||typeof e>"u"||DK(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function na(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var gi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gi[t]=new na(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gi[e]=new na(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gi[t]=new na(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gi[t]=new na(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gi[t]=new na(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gi[t]=new na(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gi[t]=new na(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gi[t]=new na(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gi[t]=new na(t,5,!1,t.toLowerCase(),null,!1,!1)});var S4=/[\-:]([a-z])/g;function N4(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(S4,N4);gi[e]=new na(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(S4,N4);gi[e]=new na(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(S4,N4);gi[e]=new na(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gi[t]=new na(t,1,!1,t.toLowerCase(),null,!1,!1)});gi.xlinkHref=new na("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gi[t]=new na(t,1,!1,t.toLowerCase(),null,!0,!0)});function T4(t,e,r,n){var i=gi.hasOwnProperty(e)?gi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MK(e,r,i,n)&&(r=null),n||i===null?LK(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Pc=OK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hv=Symbol.for("react.element"),Zh=Symbol.for("react.portal"),ep=Symbol.for("react.fragment"),P4=Symbol.for("react.strict_mode"),PA=Symbol.for("react.profiler"),A7=Symbol.for("react.provider"),S7=Symbol.for("react.context"),C4=Symbol.for("react.forward_ref"),CA=Symbol.for("react.suspense"),kA=Symbol.for("react.suspense_list"),k4=Symbol.for("react.memo"),_u=Symbol.for("react.lazy"),N7=Symbol.for("react.offscreen"),N6=Symbol.iterator;function lg(t){return t===null||typeof t!="object"?null:(t=N6&&t[N6]||t["@@iterator"],typeof t=="function"?t:null)}var Kr=Object.assign,u5;function Rg(t){if(u5===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);u5=e&&e[1]||""}return`
`+u5+t}var d5=!1;function f5(t,e){if(!t||d5)return"";d5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{d5=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Rg(t):""}function FK(t){switch(t.tag){case 5:return Rg(t.type);case 16:return Rg("Lazy");case 13:return Rg("Suspense");case 19:return Rg("SuspenseList");case 0:case 2:case 15:return t=f5(t.type,!1),t;case 11:return t=f5(t.type.render,!1),t;case 1:return t=f5(t.type,!0),t;default:return""}}function IA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ep:return"Fragment";case Zh:return"Portal";case PA:return"Profiler";case P4:return"StrictMode";case CA:return"Suspense";case kA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S7:return(t.displayName||"Context")+".Consumer";case A7:return(t._context.displayName||"Context")+".Provider";case C4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k4:return e=t.displayName||null,e!==null?e:IA(t.type)||"Memo";case _u:e=t._payload,t=t._init;try{return IA(t(e))}catch{}}return null}function BK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return IA(e);case 8:return e===P4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UK(t){var e=T7(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pv(t){t._valueTracker||(t._valueTracker=UK(t))}function P7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=T7(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function K1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jA(t,e){var r=e.checked;return Kr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function T6(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C7(t,e){e=e.checked,e!=null&&T4(t,"checked",e,!1)}function OA(t,e){C7(t,e);var r=Qu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?RA(t,e.type,r):e.hasOwnProperty("defaultValue")&&RA(t,e.type,Qu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P6(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function RA(t,e,r){(e!=="number"||K1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Lg=Array.isArray;function gp(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function LA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(tt(91));return Kr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function C6(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(tt(92));if(Lg(r)){if(1<r.length)throw Error(tt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qu(r)}}function k7(t,e){var r=Qu(e.value),n=Qu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function k6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function I7(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function DA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?I7(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mv,j7=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mv=mv||document.createElement("div"),mv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function m0(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Hg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$K=["Webkit","ms","Moz","O"];Object.keys(Hg).forEach(function(t){$K.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hg[e]=Hg[t]})});function O7(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Hg.hasOwnProperty(t)&&Hg[t]?(""+e).trim():e+"px"}function R7(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=O7(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var VK=Kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function MA(t,e){if(e){if(VK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(tt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(tt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(tt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(tt(62))}}function FA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BA=null;function I4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var UA=null,yp=null,vp=null;function I6(t){if(t=ny(t)){if(typeof UA!="function")throw Error(tt(280));var e=t.stateNode;e&&(e=Db(e),UA(t.stateNode,t.type,e))}}function L7(t){yp?vp?vp.push(t):vp=[t]:yp=t}function D7(){if(yp){var t=yp,e=vp;if(vp=yp=null,I6(t),e)for(t=0;t<e.length;t++)I6(e[t])}}function M7(t,e){return t(e)}function F7(){}var h5=!1;function B7(t,e,r){if(h5)return t(e,r);h5=!0;try{return M7(t,e,r)}finally{h5=!1,(yp!==null||vp!==null)&&(F7(),D7())}}function g0(t,e){var r=t.stateNode;if(r===null)return null;var n=Db(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(tt(231,e,typeof r));return r}var $A=!1;if(pc)try{var cg={};Object.defineProperty(cg,"passive",{get:function(){$A=!0}}),window.addEventListener("test",cg,cg),window.removeEventListener("test",cg,cg)}catch{$A=!1}function zK(t,e,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Gg=!1,Y1=null,X1=!1,VA=null,qK={onError:function(t){Gg=!0,Y1=t}};function WK(t,e,r,n,i,a,s,o,l){Gg=!1,Y1=null,zK.apply(qK,arguments)}function HK(t,e,r,n,i,a,s,o,l){if(WK.apply(this,arguments),Gg){if(Gg){var c=Y1;Gg=!1,Y1=null}else throw Error(tt(198));X1||(X1=!0,VA=c)}}function Yf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function U7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j6(t){if(Yf(t)!==t)throw Error(tt(188))}function GK(t){var e=t.alternate;if(!e){if(e=Yf(t),e===null)throw Error(tt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return j6(i),t;if(a===n)return j6(i),e;a=a.sibling}throw Error(tt(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(tt(189))}}if(r.alternate!==n)throw Error(tt(190))}if(r.tag!==3)throw Error(tt(188));return r.stateNode.current===r?t:e}function $7(t){return t=GK(t),t!==null?V7(t):null}function V7(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V7(t);if(e!==null)return e;t=t.sibling}return null}var z7=Ga.unstable_scheduleCallback,O6=Ga.unstable_cancelCallback,KK=Ga.unstable_shouldYield,YK=Ga.unstable_requestPaint,hn=Ga.unstable_now,XK=Ga.unstable_getCurrentPriorityLevel,j4=Ga.unstable_ImmediatePriority,q7=Ga.unstable_UserBlockingPriority,J1=Ga.unstable_NormalPriority,JK=Ga.unstable_LowPriority,W7=Ga.unstable_IdlePriority,jb=null,nl=null;function QK(t){if(nl&&typeof nl.onCommitFiberRoot=="function")try{nl.onCommitFiberRoot(jb,t,void 0,(t.current.flags&128)===128)}catch{}}var uo=Math.clz32?Math.clz32:tY,ZK=Math.log,eY=Math.LN2;function tY(t){return t>>>=0,t===0?32:31-(ZK(t)/eY|0)|0}var gv=64,yv=4194304;function Dg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Q1(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Dg(o):(a&=s,a!==0&&(n=Dg(a)))}else s=r&~i,s!==0?n=Dg(s):a!==0&&(n=Dg(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-uo(e),i=1<<r,n|=t[r],e&=~i;return n}function rY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nY(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-uo(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=rY(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function zA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H7(){var t=gv;return gv<<=1,!(gv&4194240)&&(gv=64),t}function p5(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ty(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-uo(e),t[e]=r}function iY(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-uo(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function O4(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-uo(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var gr=0;function G7(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var K7,R4,Y7,X7,J7,qA=!1,vv=[],Mu=null,Fu=null,Bu=null,y0=new Map,v0=new Map,Su=[],aY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R6(t,e){switch(t){case"focusin":case"focusout":Mu=null;break;case"dragenter":case"dragleave":Fu=null;break;case"mouseover":case"mouseout":Bu=null;break;case"pointerover":case"pointerout":y0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":v0.delete(e.pointerId)}}function ug(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ny(e),e!==null&&R4(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sY(t,e,r,n,i){switch(e){case"focusin":return Mu=ug(Mu,t,e,r,n,i),!0;case"dragenter":return Fu=ug(Fu,t,e,r,n,i),!0;case"mouseover":return Bu=ug(Bu,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return y0.set(a,ug(y0.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,v0.set(a,ug(v0.get(a)||null,t,e,r,n,i)),!0}return!1}function Q7(t){var e=of(t.target);if(e!==null){var r=Yf(e);if(r!==null){if(e=r.tag,e===13){if(e=U7(r),e!==null){t.blockedOn=e,J7(t.priority,function(){Y7(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function m1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=WA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);BA=n,r.target.dispatchEvent(n),BA=null}else return e=ny(r),e!==null&&R4(e),t.blockedOn=r,!1;e.shift()}return!0}function L6(t,e,r){m1(t)&&r.delete(e)}function oY(){qA=!1,Mu!==null&&m1(Mu)&&(Mu=null),Fu!==null&&m1(Fu)&&(Fu=null),Bu!==null&&m1(Bu)&&(Bu=null),y0.forEach(L6),v0.forEach(L6)}function dg(t,e){t.blockedOn===e&&(t.blockedOn=null,qA||(qA=!0,Ga.unstable_scheduleCallback(Ga.unstable_NormalPriority,oY)))}function w0(t){function e(i){return dg(i,t)}if(0<vv.length){dg(vv[0],t);for(var r=1;r<vv.length;r++){var n=vv[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Mu!==null&&dg(Mu,t),Fu!==null&&dg(Fu,t),Bu!==null&&dg(Bu,t),y0.forEach(e),v0.forEach(e),r=0;r<Su.length;r++)n=Su[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Su.length&&(r=Su[0],r.blockedOn===null);)Q7(r),r.blockedOn===null&&Su.shift()}var wp=Pc.ReactCurrentBatchConfig,Z1=!0;function lY(t,e,r,n){var i=gr,a=wp.transition;wp.transition=null;try{gr=1,L4(t,e,r,n)}finally{gr=i,wp.transition=a}}function cY(t,e,r,n){var i=gr,a=wp.transition;wp.transition=null;try{gr=4,L4(t,e,r,n)}finally{gr=i,wp.transition=a}}function L4(t,e,r,n){if(Z1){var i=WA(t,e,r,n);if(i===null)A5(t,e,n,ew,r),R6(t,n);else if(sY(i,t,e,r,n))n.stopPropagation();else if(R6(t,n),e&4&&-1<aY.indexOf(t)){for(;i!==null;){var a=ny(i);if(a!==null&&K7(a),a=WA(t,e,r,n),a===null&&A5(t,e,n,ew,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else A5(t,e,n,null,r)}}var ew=null;function WA(t,e,r,n){if(ew=null,t=I4(n),t=of(t),t!==null)if(e=Yf(t),e===null)t=null;else if(r=e.tag,r===13){if(t=U7(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ew=t,null}function Z7(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XK()){case j4:return 1;case q7:return 4;case J1:case JK:return 16;case W7:return 536870912;default:return 16}default:return 16}}var Ou=null,D4=null,g1=null;function eM(){if(g1)return g1;var t,e=D4,r=e.length,n,i="value"in Ou?Ou.value:Ou.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return g1=i.slice(t,1<n?1-n:void 0)}function y1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wv(){return!0}function D6(){return!1}function Ja(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?wv:D6,this.isPropagationStopped=D6,this}return Kr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wv)},persist:function(){},isPersistent:wv}),e}var ym={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M4=Ja(ym),ry=Kr({},ym,{view:0,detail:0}),uY=Ja(ry),m5,g5,fg,Ob=Kr({},ry,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fg&&(fg&&t.type==="mousemove"?(m5=t.screenX-fg.screenX,g5=t.screenY-fg.screenY):g5=m5=0,fg=t),m5)},movementY:function(t){return"movementY"in t?t.movementY:g5}}),M6=Ja(Ob),dY=Kr({},Ob,{dataTransfer:0}),fY=Ja(dY),hY=Kr({},ry,{relatedTarget:0}),y5=Ja(hY),pY=Kr({},ym,{animationName:0,elapsedTime:0,pseudoElement:0}),mY=Ja(pY),gY=Kr({},ym,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yY=Ja(gY),vY=Kr({},ym,{data:0}),F6=Ja(vY),wY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _Y(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xY[t])?!!e[t]:!1}function F4(){return _Y}var EY=Kr({},ry,{key:function(t){if(t.key){var e=wY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=y1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F4,charCode:function(t){return t.type==="keypress"?y1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?y1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AY=Ja(EY),SY=Kr({},Ob,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B6=Ja(SY),NY=Kr({},ry,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F4}),TY=Ja(NY),PY=Kr({},ym,{propertyName:0,elapsedTime:0,pseudoElement:0}),CY=Ja(PY),kY=Kr({},Ob,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IY=Ja(kY),jY=[9,13,27,32],B4=pc&&"CompositionEvent"in window,Kg=null;pc&&"documentMode"in document&&(Kg=document.documentMode);var OY=pc&&"TextEvent"in window&&!Kg,tM=pc&&(!B4||Kg&&8<Kg&&11>=Kg),U6=" ",$6=!1;function rM(t,e){switch(t){case"keyup":return jY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tp=!1;function RY(t,e){switch(t){case"compositionend":return nM(e);case"keypress":return e.which!==32?null:($6=!0,U6);case"textInput":return t=e.data,t===U6&&$6?null:t;default:return null}}function LY(t,e){if(tp)return t==="compositionend"||!B4&&rM(t,e)?(t=eM(),g1=D4=Ou=null,tp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tM&&e.locale!=="ko"?null:e.data;default:return null}}var DY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DY[t.type]:e==="textarea"}function iM(t,e,r,n){L7(n),e=tw(e,"onChange"),0<e.length&&(r=new M4("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Yg=null,b0=null;function MY(t){mM(t,0)}function Rb(t){var e=ip(t);if(P7(e))return t}function FY(t,e){if(t==="change")return e}var aM=!1;if(pc){var v5;if(pc){var w5="oninput"in document;if(!w5){var z6=document.createElement("div");z6.setAttribute("oninput","return;"),w5=typeof z6.oninput=="function"}v5=w5}else v5=!1;aM=v5&&(!document.documentMode||9<document.documentMode)}function q6(){Yg&&(Yg.detachEvent("onpropertychange",sM),b0=Yg=null)}function sM(t){if(t.propertyName==="value"&&Rb(b0)){var e=[];iM(e,b0,t,I4(t)),B7(MY,e)}}function BY(t,e,r){t==="focusin"?(q6(),Yg=e,b0=r,Yg.attachEvent("onpropertychange",sM)):t==="focusout"&&q6()}function UY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rb(b0)}function $Y(t,e){if(t==="click")return Rb(e)}function VY(t,e){if(t==="input"||t==="change")return Rb(e)}function zY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ho=typeof Object.is=="function"?Object.is:zY;function x0(t,e){if(ho(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!TA.call(e,i)||!ho(t[i],e[i]))return!1}return!0}function W6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H6(t,e){var r=W6(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=W6(r)}}function oM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lM(){for(var t=window,e=K1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=K1(t.document)}return e}function U4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qY(t){var e=lM(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&oM(r.ownerDocument.documentElement,r)){if(n!==null&&U4(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=H6(r,a);var s=H6(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WY=pc&&"documentMode"in document&&11>=document.documentMode,rp=null,HA=null,Xg=null,GA=!1;function G6(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;GA||rp==null||rp!==K1(n)||(n=rp,"selectionStart"in n&&U4(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xg&&x0(Xg,n)||(Xg=n,n=tw(HA,"onSelect"),0<n.length&&(e=new M4("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=rp)))}function bv(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var np={animationend:bv("Animation","AnimationEnd"),animationiteration:bv("Animation","AnimationIteration"),animationstart:bv("Animation","AnimationStart"),transitionend:bv("Transition","TransitionEnd")},b5={},cM={};pc&&(cM=document.createElement("div").style,"AnimationEvent"in window||(delete np.animationend.animation,delete np.animationiteration.animation,delete np.animationstart.animation),"TransitionEvent"in window||delete np.transitionend.transition);function Lb(t){if(b5[t])return b5[t];if(!np[t])return t;var e=np[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in cM)return b5[t]=e[r];return t}var uM=Lb("animationend"),dM=Lb("animationiteration"),fM=Lb("animationstart"),hM=Lb("transitionend"),pM=new Map,K6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ud(t,e){pM.set(t,e),Kf(e,[t])}for(var x5=0;x5<K6.length;x5++){var _5=K6[x5],HY=_5.toLowerCase(),GY=_5[0].toUpperCase()+_5.slice(1);ud(HY,"on"+GY)}ud(uM,"onAnimationEnd");ud(dM,"onAnimationIteration");ud(fM,"onAnimationStart");ud("dblclick","onDoubleClick");ud("focusin","onFocus");ud("focusout","onBlur");ud(hM,"onTransitionEnd");Mp("onMouseEnter",["mouseout","mouseover"]);Mp("onMouseLeave",["mouseout","mouseover"]);Mp("onPointerEnter",["pointerout","pointerover"]);Mp("onPointerLeave",["pointerout","pointerover"]);Kf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mg));function Y6(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,HK(n,e,void 0,t),t.currentTarget=null}function mM(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Y6(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Y6(i,o,c),a=l}}}if(X1)throw t=VA,X1=!1,VA=null,t}function Dr(t,e){var r=e[QA];r===void 0&&(r=e[QA]=new Set);var n=t+"__bubble";r.has(n)||(gM(e,t,2,!1),r.add(n))}function E5(t,e,r){var n=0;e&&(n|=4),gM(r,t,n,e)}var xv="_reactListening"+Math.random().toString(36).slice(2);function _0(t){if(!t[xv]){t[xv]=!0,E7.forEach(function(r){r!=="selectionchange"&&(KY.has(r)||E5(r,!1,t),E5(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xv]||(e[xv]=!0,E5("selectionchange",!1,e))}}function gM(t,e,r,n){switch(Z7(e)){case 1:var i=lY;break;case 4:i=cY;break;default:i=L4}r=i.bind(null,e,r,t),i=void 0,!$A||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function A5(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=of(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}B7(function(){var c=a,u=I4(r),f=[];e:{var p=pM.get(t);if(p!==void 0){var h=M4,y=t;switch(t){case"keypress":if(y1(r)===0)break e;case"keydown":case"keyup":h=AY;break;case"focusin":y="focus",h=y5;break;case"focusout":y="blur",h=y5;break;case"beforeblur":case"afterblur":h=y5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=M6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=fY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=TY;break;case uM:case dM:case fM:h=mY;break;case hM:h=CY;break;case"scroll":h=uY;break;case"wheel":h=IY;break;case"copy":case"cut":case"paste":h=yY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=B6}var m=(e&4)!==0,w=!m&&t==="scroll",g=m?p!==null?p+"Capture":null:p;m=[];for(var v=c,x;v!==null;){x=v;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,g!==null&&(E=g0(v,g),E!=null&&m.push(E0(v,E,x)))),w)break;v=v.return}0<m.length&&(p=new h(p,y,null,r,u),f.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&r!==BA&&(y=r.relatedTarget||r.fromElement)&&(of(y)||y[mc]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=c,y=y?of(y):null,y!==null&&(w=Yf(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=c),h!==y)){if(m=M6,E="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=B6,E="onPointerLeave",g="onPointerEnter",v="pointer"),w=h==null?p:ip(h),x=y==null?p:ip(y),p=new m(E,v+"leave",h,r,u),p.target=w,p.relatedTarget=x,E=null,of(u)===c&&(m=new m(g,v+"enter",y,r,u),m.target=x,m.relatedTarget=w,E=m),w=E,h&&y)t:{for(m=h,g=y,v=0,x=m;x;x=Lh(x))v++;for(x=0,E=g;E;E=Lh(E))x++;for(;0<v-x;)m=Lh(m),v--;for(;0<x-v;)g=Lh(g),x--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Lh(m),g=Lh(g)}m=null}else m=null;h!==null&&X6(f,p,h,m,!1),y!==null&&w!==null&&X6(f,w,y,m,!0)}}e:{if(p=c?ip(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=FY;else if(V6(p))if(aM)S=VY;else{S=UY;var C=BY}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=$Y);if(S&&(S=S(t,c))){iM(f,S,r,u);break e}C&&C(t,p,c),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&RA(p,"number",p.value)}switch(C=c?ip(c):window,t){case"focusin":(V6(C)||C.contentEditable==="true")&&(rp=C,HA=c,Xg=null);break;case"focusout":Xg=HA=rp=null;break;case"mousedown":GA=!0;break;case"contextmenu":case"mouseup":case"dragend":GA=!1,G6(f,r,u);break;case"selectionchange":if(WY)break;case"keydown":case"keyup":G6(f,r,u)}var P;if(B4)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else tp?rM(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(tM&&r.locale!=="ko"&&(tp||k!=="onCompositionStart"?k==="onCompositionEnd"&&tp&&(P=eM()):(Ou=u,D4="value"in Ou?Ou.value:Ou.textContent,tp=!0)),C=tw(c,k),0<C.length&&(k=new F6(k,t,null,r,u),f.push({event:k,listeners:C}),P?k.data=P:(P=nM(r),P!==null&&(k.data=P)))),(P=OY?RY(t,r):LY(t,r))&&(c=tw(c,"onBeforeInput"),0<c.length&&(u=new F6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=P))}mM(f,e)})}function E0(t,e,r){return{instance:t,listener:e,currentTarget:r}}function tw(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=g0(t,r),a!=null&&n.unshift(E0(t,a,i)),a=g0(t,e),a!=null&&n.push(E0(t,a,i))),t=t.return}return n}function Lh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function X6(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=g0(r,a),l!=null&&s.unshift(E0(r,l,o))):i||(l=g0(r,a),l!=null&&s.push(E0(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var YY=/\r\n?/g,XY=/\u0000|\uFFFD/g;function J6(t){return(typeof t=="string"?t:""+t).replace(YY,`
`).replace(XY,"")}function _v(t,e,r){if(e=J6(e),J6(t)!==e&&r)throw Error(tt(425))}function rw(){}var KA=null,YA=null;function XA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var JA=typeof setTimeout=="function"?setTimeout:void 0,JY=typeof clearTimeout=="function"?clearTimeout:void 0,Q6=typeof Promise=="function"?Promise:void 0,QY=typeof queueMicrotask=="function"?queueMicrotask:typeof Q6<"u"?function(t){return Q6.resolve(null).then(t).catch(ZY)}:JA;function ZY(t){setTimeout(function(){throw t})}function S5(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),w0(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);w0(e)}function Uu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Z6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var vm=Math.random().toString(36).slice(2),Yo="__reactFiber$"+vm,A0="__reactProps$"+vm,mc="__reactContainer$"+vm,QA="__reactEvents$"+vm,eX="__reactListeners$"+vm,tX="__reactHandles$"+vm;function of(t){var e=t[Yo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[mc]||r[Yo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Z6(t);t!==null;){if(r=t[Yo])return r;t=Z6(t)}return e}t=r,r=t.parentNode}return null}function ny(t){return t=t[Yo]||t[mc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ip(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(tt(33))}function Db(t){return t[A0]||null}var ZA=[],ap=-1;function dd(t){return{current:t}}function Br(t){0>ap||(t.current=ZA[ap],ZA[ap]=null,ap--)}function Or(t,e){ap++,ZA[ap]=t.current,t.current=e}var Zu={},Mi=dd(Zu),wa=dd(!1),If=Zu;function Fp(t,e){var r=t.type.contextTypes;if(!r)return Zu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ba(t){return t=t.childContextTypes,t!=null}function nw(){Br(wa),Br(Mi)}function ek(t,e,r){if(Mi.current!==Zu)throw Error(tt(168));Or(Mi,e),Or(wa,r)}function yM(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(tt(108,BK(t)||"Unknown",i));return Kr({},r,n)}function iw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zu,If=Mi.current,Or(Mi,t),Or(wa,wa.current),!0}function tk(t,e,r){var n=t.stateNode;if(!n)throw Error(tt(169));r?(t=yM(t,e,If),n.__reactInternalMemoizedMergedChildContext=t,Br(wa),Br(Mi),Or(Mi,t)):Br(wa),Or(wa,r)}var Xl=null,Mb=!1,N5=!1;function vM(t){Xl===null?Xl=[t]:Xl.push(t)}function rX(t){Mb=!0,vM(t)}function fd(){if(!N5&&Xl!==null){N5=!0;var t=0,e=gr;try{var r=Xl;for(gr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Xl=null,Mb=!1}catch(i){throw Xl!==null&&(Xl=Xl.slice(t+1)),z7(j4,fd),i}finally{gr=e,N5=!1}}return null}var sp=[],op=0,aw=null,sw=0,hs=[],ps=0,jf=null,Zl=1,ec="";function Yd(t,e){sp[op++]=sw,sp[op++]=aw,aw=t,sw=e}function wM(t,e,r){hs[ps++]=Zl,hs[ps++]=ec,hs[ps++]=jf,jf=t;var n=Zl;t=ec;var i=32-uo(n)-1;n&=~(1<<i),r+=1;var a=32-uo(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Zl=1<<32-uo(e)+i|r<<i|n,ec=a+t}else Zl=1<<a|r<<i|n,ec=t}function $4(t){t.return!==null&&(Yd(t,1),wM(t,1,0))}function V4(t){for(;t===aw;)aw=sp[--op],sp[op]=null,sw=sp[--op],sp[op]=null;for(;t===jf;)jf=hs[--ps],hs[ps]=null,ec=hs[--ps],hs[ps]=null,Zl=hs[--ps],hs[ps]=null}var qa=null,$a=null,Vr=!1,ro=null;function bM(t,e){var r=vs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function rk(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qa=t,$a=Uu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qa=t,$a=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=jf!==null?{id:Zl,overflow:ec}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=vs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qa=t,$a=null,!0):!1;default:return!1}}function eS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tS(t){if(Vr){var e=$a;if(e){var r=e;if(!rk(t,e)){if(eS(t))throw Error(tt(418));e=Uu(r.nextSibling);var n=qa;e&&rk(t,e)?bM(n,r):(t.flags=t.flags&-4097|2,Vr=!1,qa=t)}}else{if(eS(t))throw Error(tt(418));t.flags=t.flags&-4097|2,Vr=!1,qa=t}}}function nk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qa=t}function Ev(t){if(t!==qa)return!1;if(!Vr)return nk(t),Vr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!XA(t.type,t.memoizedProps)),e&&(e=$a)){if(eS(t))throw xM(),Error(tt(418));for(;e;)bM(t,e),e=Uu(e.nextSibling)}if(nk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(tt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$a=Uu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$a=null}}else $a=qa?Uu(t.stateNode.nextSibling):null;return!0}function xM(){for(var t=$a;t;)t=Uu(t.nextSibling)}function Bp(){$a=qa=null,Vr=!1}function z4(t){ro===null?ro=[t]:ro.push(t)}var nX=Pc.ReactCurrentBatchConfig;function hg(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(tt(309));var n=r.stateNode}if(!n)throw Error(tt(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(tt(284));if(!r._owner)throw Error(tt(290,t))}return t}function Av(t,e){throw t=Object.prototype.toString.call(e),Error(tt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ik(t){var e=t._init;return e(t._payload)}function _M(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=qu(g,v),g.index=0,g.sibling=null,g}function a(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,x,E){return v===null||v.tag!==6?(v=O5(x,g.mode,E),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,E){var S=x.type;return S===ep?u(g,v,x.props.children,E,x.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_u&&ik(S)===v.type)?(E=i(v,x.props),E.ref=hg(g,v,x),E.return=g,E):(E=A1(x.type,x.key,x.props,null,g.mode,E),E.ref=hg(g,v,x),E.return=g,E)}function c(g,v,x,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=R5(x,g.mode,E),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function u(g,v,x,E,S){return v===null||v.tag!==7?(v=xf(x,g.mode,E,S),v.return=g,v):(v=i(v,x),v.return=g,v)}function f(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=O5(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hv:return x=A1(v.type,v.key,v.props,null,g.mode,x),x.ref=hg(g,null,v),x.return=g,x;case Zh:return v=R5(v,g.mode,x),v.return=g,v;case _u:var E=v._init;return f(g,E(v._payload),x)}if(Lg(v)||lg(v))return v=xf(v,g.mode,x,null),v.return=g,v;Av(g,v)}return null}function p(g,v,x,E){var S=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:o(g,v,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hv:return x.key===S?l(g,v,x,E):null;case Zh:return x.key===S?c(g,v,x,E):null;case _u:return S=x._init,p(g,v,S(x._payload),E)}if(Lg(x)||lg(x))return S!==null?null:u(g,v,x,E,null);Av(g,x)}return null}function h(g,v,x,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(x)||null,o(v,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hv:return g=g.get(E.key===null?x:E.key)||null,l(v,g,E,S);case Zh:return g=g.get(E.key===null?x:E.key)||null,c(v,g,E,S);case _u:var C=E._init;return h(g,v,x,C(E._payload),S)}if(Lg(E)||lg(E))return g=g.get(x)||null,u(v,g,E,S,null);Av(v,E)}return null}function y(g,v,x,E){for(var S=null,C=null,P=v,k=v=0,T=null;P!==null&&k<x.length;k++){P.index>k?(T=P,P=null):T=P.sibling;var W=p(g,P,x[k],E);if(W===null){P===null&&(P=T);break}t&&P&&W.alternate===null&&e(g,P),v=a(W,v,k),C===null?S=W:C.sibling=W,C=W,P=T}if(k===x.length)return r(g,P),Vr&&Yd(g,k),S;if(P===null){for(;k<x.length;k++)P=f(g,x[k],E),P!==null&&(v=a(P,v,k),C===null?S=P:C.sibling=P,C=P);return Vr&&Yd(g,k),S}for(P=n(g,P);k<x.length;k++)T=h(P,g,k,x[k],E),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?k:T.key),v=a(T,v,k),C===null?S=T:C.sibling=T,C=T);return t&&P.forEach(function(M){return e(g,M)}),Vr&&Yd(g,k),S}function m(g,v,x,E){var S=lg(x);if(typeof S!="function")throw Error(tt(150));if(x=S.call(x),x==null)throw Error(tt(151));for(var C=S=null,P=v,k=v=0,T=null,W=x.next();P!==null&&!W.done;k++,W=x.next()){P.index>k?(T=P,P=null):T=P.sibling;var M=p(g,P,W.value,E);if(M===null){P===null&&(P=T);break}t&&P&&M.alternate===null&&e(g,P),v=a(M,v,k),C===null?S=M:C.sibling=M,C=M,P=T}if(W.done)return r(g,P),Vr&&Yd(g,k),S;if(P===null){for(;!W.done;k++,W=x.next())W=f(g,W.value,E),W!==null&&(v=a(W,v,k),C===null?S=W:C.sibling=W,C=W);return Vr&&Yd(g,k),S}for(P=n(g,P);!W.done;k++,W=x.next())W=h(P,g,k,W.value,E),W!==null&&(t&&W.alternate!==null&&P.delete(W.key===null?k:W.key),v=a(W,v,k),C===null?S=W:C.sibling=W,C=W);return t&&P.forEach(function(A){return e(g,A)}),Vr&&Yd(g,k),S}function w(g,v,x,E){if(typeof x=="object"&&x!==null&&x.type===ep&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case hv:e:{for(var S=x.key,C=v;C!==null;){if(C.key===S){if(S=x.type,S===ep){if(C.tag===7){r(g,C.sibling),v=i(C,x.props.children),v.return=g,g=v;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_u&&ik(S)===C.type){r(g,C.sibling),v=i(C,x.props),v.ref=hg(g,C,x),v.return=g,g=v;break e}r(g,C);break}else e(g,C);C=C.sibling}x.type===ep?(v=xf(x.props.children,g.mode,E,x.key),v.return=g,g=v):(E=A1(x.type,x.key,x.props,null,g.mode,E),E.ref=hg(g,v,x),E.return=g,g=E)}return s(g);case Zh:e:{for(C=x.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=i(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=R5(x,g.mode,E),v.return=g,g=v}return s(g);case _u:return C=x._init,w(g,v,C(x._payload),E)}if(Lg(x))return y(g,v,x,E);if(lg(x))return m(g,v,x,E);Av(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,x),v.return=g,g=v):(r(g,v),v=O5(x,g.mode,E),v.return=g,g=v),s(g)):r(g,v)}return w}var Up=_M(!0),EM=_M(!1),ow=dd(null),lw=null,lp=null,q4=null;function W4(){q4=lp=lw=null}function H4(t){var e=ow.current;Br(ow),t._currentValue=e}function rS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function bp(t,e){lw=t,q4=lp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ya=!0),t.firstContext=null)}function As(t){var e=t._currentValue;if(q4!==t)if(t={context:t,memoizedValue:e,next:null},lp===null){if(lw===null)throw Error(tt(308));lp=t,lw.dependencies={lanes:0,firstContext:t}}else lp=lp.next=t;return e}var lf=null;function G4(t){lf===null?lf=[t]:lf.push(t)}function AM(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,G4(e)):(r.next=i.next,i.next=r),e.interleaved=r,gc(t,n)}function gc(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Eu=!1;function K4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $u(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Zt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,gc(t,r)}return i=n.interleaved,i===null?(e.next=e,G4(n)):(e.next=i.next,i.next=e),n.interleaved=e,gc(t,r)}function v1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,O4(t,r)}}function ak(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function cw(t,e,r,n){var i=t.updateQueue;Eu=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,m=o;switch(p=e,h=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(h,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,p=typeof y=="function"?y.call(h,f,p):y,p==null)break e;f=Kr({},f,p);break e;case 2:Eu=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Rf|=s,t.lanes=s,t.memoizedState=f}}function sk(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(tt(191,i));i.call(n)}}}var iy={},il=dd(iy),S0=dd(iy),N0=dd(iy);function cf(t){if(t===iy)throw Error(tt(174));return t}function Y4(t,e){switch(Or(N0,e),Or(S0,t),Or(il,iy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:DA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=DA(e,t)}Br(il),Or(il,e)}function $p(){Br(il),Br(S0),Br(N0)}function NM(t){cf(N0.current);var e=cf(il.current),r=DA(e,t.type);e!==r&&(Or(S0,t),Or(il,r))}function X4(t){S0.current===t&&(Br(il),Br(S0))}var Wr=dd(0);function uw(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var T5=[];function J4(){for(var t=0;t<T5.length;t++)T5[t]._workInProgressVersionPrimary=null;T5.length=0}var w1=Pc.ReactCurrentDispatcher,P5=Pc.ReactCurrentBatchConfig,Of=0,Hr=null,zn=null,Qn=null,dw=!1,Jg=!1,T0=0,iX=0;function Ei(){throw Error(tt(321))}function Q4(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ho(t[r],e[r]))return!1;return!0}function Z4(t,e,r,n,i,a){if(Of=a,Hr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,w1.current=t===null||t.memoizedState===null?lX:cX,t=r(n,i),Jg){a=0;do{if(Jg=!1,T0=0,25<=a)throw Error(tt(301));a+=1,Qn=zn=null,e.updateQueue=null,w1.current=uX,t=r(n,i)}while(Jg)}if(w1.current=fw,e=zn!==null&&zn.next!==null,Of=0,Qn=zn=Hr=null,dw=!1,e)throw Error(tt(300));return t}function e3(){var t=T0!==0;return T0=0,t}function Vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?Hr.memoizedState=Qn=t:Qn=Qn.next=t,Qn}function Ss(){if(zn===null){var t=Hr.alternate;t=t!==null?t.memoizedState:null}else t=zn.next;var e=Qn===null?Hr.memoizedState:Qn.next;if(e!==null)Qn=e,zn=t;else{if(t===null)throw Error(tt(310));zn=t,t={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Qn===null?Hr.memoizedState=Qn=t:Qn=Qn.next=t}return Qn}function P0(t,e){return typeof e=="function"?e(t):e}function C5(t){var e=Ss(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=zn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Of&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Hr.lanes|=u,Rf|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,ho(n,e.memoizedState)||(ya=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Hr.lanes|=a,Rf|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function k5(t){var e=Ss(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ho(a,e.memoizedState)||(ya=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function TM(){}function PM(t,e){var r=Hr,n=Ss(),i=e(),a=!ho(n.memoizedState,i);if(a&&(n.memoizedState=i,ya=!0),n=n.queue,t3(IM.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Qn!==null&&Qn.memoizedState.tag&1){if(r.flags|=2048,C0(9,kM.bind(null,r,n,i,e),void 0,null),ti===null)throw Error(tt(349));Of&30||CM(r,e,i)}return i}function CM(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Hr.updateQueue,e===null?(e={lastEffect:null,stores:null},Hr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function kM(t,e,r,n){e.value=r,e.getSnapshot=n,jM(e)&&OM(t)}function IM(t,e,r){return r(function(){jM(e)&&OM(t)})}function jM(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ho(t,r)}catch{return!0}}function OM(t){var e=gc(t,1);e!==null&&fo(e,t,1,-1)}function ok(t){var e=Vo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:P0,lastRenderedState:t},e.queue=t,t=t.dispatch=oX.bind(null,Hr,t),[e.memoizedState,t]}function C0(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Hr.updateQueue,e===null?(e={lastEffect:null,stores:null},Hr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function RM(){return Ss().memoizedState}function b1(t,e,r,n){var i=Vo();Hr.flags|=t,i.memoizedState=C0(1|e,r,void 0,n===void 0?null:n)}function Fb(t,e,r,n){var i=Ss();n=n===void 0?null:n;var a=void 0;if(zn!==null){var s=zn.memoizedState;if(a=s.destroy,n!==null&&Q4(n,s.deps)){i.memoizedState=C0(e,r,a,n);return}}Hr.flags|=t,i.memoizedState=C0(1|e,r,a,n)}function lk(t,e){return b1(8390656,8,t,e)}function t3(t,e){return Fb(2048,8,t,e)}function LM(t,e){return Fb(4,2,t,e)}function DM(t,e){return Fb(4,4,t,e)}function MM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FM(t,e,r){return r=r!=null?r.concat([t]):null,Fb(4,4,MM.bind(null,e,t),r)}function r3(){}function BM(t,e){var r=Ss();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Q4(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function UM(t,e){var r=Ss();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Q4(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function $M(t,e,r){return Of&21?(ho(r,e)||(r=H7(),Hr.lanes|=r,Rf|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ya=!0),t.memoizedState=r)}function aX(t,e){var r=gr;gr=r!==0&&4>r?r:4,t(!0);var n=P5.transition;P5.transition={};try{t(!1),e()}finally{gr=r,P5.transition=n}}function VM(){return Ss().memoizedState}function sX(t,e,r){var n=zu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zM(t))qM(e,r);else if(r=AM(t,e,r,n),r!==null){var i=Qi();fo(r,t,n,i),WM(r,e,n)}}function oX(t,e,r){var n=zu(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zM(t))qM(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,ho(o,s)){var l=e.interleaved;l===null?(i.next=i,G4(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=AM(t,e,i,n),r!==null&&(i=Qi(),fo(r,t,n,i),WM(r,e,n))}}function zM(t){var e=t.alternate;return t===Hr||e!==null&&e===Hr}function qM(t,e){Jg=dw=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function WM(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,O4(t,r)}}var fw={readContext:As,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useInsertionEffect:Ei,useLayoutEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useMutableSource:Ei,useSyncExternalStore:Ei,useId:Ei,unstable_isNewReconciler:!1},lX={readContext:As,useCallback:function(t,e){return Vo().memoizedState=[t,e===void 0?null:e],t},useContext:As,useEffect:lk,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,b1(4194308,4,MM.bind(null,e,t),r)},useLayoutEffect:function(t,e){return b1(4194308,4,t,e)},useInsertionEffect:function(t,e){return b1(4,2,t,e)},useMemo:function(t,e){var r=Vo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Vo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=sX.bind(null,Hr,t),[n.memoizedState,t]},useRef:function(t){var e=Vo();return t={current:t},e.memoizedState=t},useState:ok,useDebugValue:r3,useDeferredValue:function(t){return Vo().memoizedState=t},useTransition:function(){var t=ok(!1),e=t[0];return t=aX.bind(null,t[1]),Vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Hr,i=Vo();if(Vr){if(r===void 0)throw Error(tt(407));r=r()}else{if(r=e(),ti===null)throw Error(tt(349));Of&30||CM(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,lk(IM.bind(null,n,a,t),[t]),n.flags|=2048,C0(9,kM.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Vo(),e=ti.identifierPrefix;if(Vr){var r=ec,n=Zl;r=(n&~(1<<32-uo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=T0++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=iX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cX={readContext:As,useCallback:BM,useContext:As,useEffect:t3,useImperativeHandle:FM,useInsertionEffect:LM,useLayoutEffect:DM,useMemo:UM,useReducer:C5,useRef:RM,useState:function(){return C5(P0)},useDebugValue:r3,useDeferredValue:function(t){var e=Ss();return $M(e,zn.memoizedState,t)},useTransition:function(){var t=C5(P0)[0],e=Ss().memoizedState;return[t,e]},useMutableSource:TM,useSyncExternalStore:PM,useId:VM,unstable_isNewReconciler:!1},uX={readContext:As,useCallback:BM,useContext:As,useEffect:t3,useImperativeHandle:FM,useInsertionEffect:LM,useLayoutEffect:DM,useMemo:UM,useReducer:k5,useRef:RM,useState:function(){return k5(P0)},useDebugValue:r3,useDeferredValue:function(t){var e=Ss();return zn===null?e.memoizedState=t:$M(e,zn.memoizedState,t)},useTransition:function(){var t=k5(P0)[0],e=Ss().memoizedState;return[t,e]},useMutableSource:TM,useSyncExternalStore:PM,useId:VM,unstable_isNewReconciler:!1};function Js(t,e){if(t&&t.defaultProps){e=Kr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function nS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Kr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bb={isMounted:function(t){return(t=t._reactInternals)?Yf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Qi(),i=zu(t),a=oc(n,i);a.payload=e,r!=null&&(a.callback=r),e=$u(t,a,i),e!==null&&(fo(e,t,i,n),v1(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Qi(),i=zu(t),a=oc(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=$u(t,a,i),e!==null&&(fo(e,t,i,n),v1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Qi(),n=zu(t),i=oc(r,n);i.tag=2,e!=null&&(i.callback=e),e=$u(t,i,n),e!==null&&(fo(e,t,n,r),v1(e,t,n))}};function ck(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!x0(r,n)||!x0(i,a):!0}function HM(t,e,r){var n=!1,i=Zu,a=e.contextType;return typeof a=="object"&&a!==null?a=As(a):(i=ba(e)?If:Mi.current,n=e.contextTypes,a=(n=n!=null)?Fp(t,i):Zu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bb,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function uk(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Bb.enqueueReplaceState(e,e.state,null)}function iS(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},K4(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=As(a):(a=ba(e)?If:Mi.current,i.context=Fp(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(nS(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bb.enqueueReplaceState(i,i.state,null),cw(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vp(t,e){try{var r="",n=e;do r+=FK(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function I5(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function aS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var dX=typeof WeakMap=="function"?WeakMap:Map;function GM(t,e,r){r=oc(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){pw||(pw=!0,mS=n),aS(t,e)},r}function KM(t,e,r){r=oc(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){aS(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){aS(t,e),typeof n!="function"&&(Vu===null?Vu=new Set([this]):Vu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function dk(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new dX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=SX.bind(null,t,e,r),e.then(t,t))}function fk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hk(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=oc(-1,1),e.tag=2,$u(r,e,1))),r.lanes|=1),t)}var fX=Pc.ReactCurrentOwner,ya=!1;function Hi(t,e,r,n){e.child=t===null?EM(e,null,r,n):Up(e,t.child,r,n)}function pk(t,e,r,n,i){r=r.render;var a=e.ref;return bp(e,i),n=Z4(t,e,r,n,a,i),r=e3(),t!==null&&!ya?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yc(t,e,i)):(Vr&&r&&$4(e),e.flags|=1,Hi(t,e,n,i),e.child)}function mk(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!u3(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,YM(t,e,a,n,i)):(t=A1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:x0,r(s,n)&&t.ref===e.ref)return yc(t,e,i)}return e.flags|=1,t=qu(a,n),t.ref=e.ref,t.return=e,e.child=t}function YM(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(x0(a,n)&&t.ref===e.ref)if(ya=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(ya=!0);else return e.lanes=t.lanes,yc(t,e,i)}return sS(t,e,r,n,i)}function XM(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(up,Ma),Ma|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Or(up,Ma),Ma|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Or(up,Ma),Ma|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Or(up,Ma),Ma|=n;return Hi(t,e,i,r),e.child}function JM(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function sS(t,e,r,n,i){var a=ba(r)?If:Mi.current;return a=Fp(e,a),bp(e,i),r=Z4(t,e,r,n,a,i),n=e3(),t!==null&&!ya?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yc(t,e,i)):(Vr&&n&&$4(e),e.flags|=1,Hi(t,e,r,i),e.child)}function gk(t,e,r,n,i){if(ba(r)){var a=!0;iw(e)}else a=!1;if(bp(e,i),e.stateNode===null)x1(t,e),HM(e,r,n),iS(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=As(c):(c=ba(r)?If:Mi.current,c=Fp(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&uk(e,s,n,c),Eu=!1;var p=e.memoizedState;s.state=p,cw(e,n,s,i),l=e.memoizedState,o!==n||p!==l||wa.current||Eu?(typeof u=="function"&&(nS(e,r,u,n),l=e.memoizedState),(o=Eu||ck(e,r,o,n,p,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,SM(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Js(e.type,o),s.props=c,f=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=As(l):(l=ba(r)?If:Mi.current,l=Fp(e,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&uk(e,s,n,l),Eu=!1,p=e.memoizedState,s.state=p,cw(e,n,s,i);var y=e.memoizedState;o!==f||p!==y||wa.current||Eu?(typeof h=="function"&&(nS(e,r,h,n),y=e.memoizedState),(c=Eu||ck(e,r,c,n,p,y,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),s.props=n,s.state=y,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return oS(t,e,r,n,a,i)}function oS(t,e,r,n,i,a){JM(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&tk(e,r,!1),yc(t,e,a);n=e.stateNode,fX.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Up(e,t.child,null,a),e.child=Up(e,null,o,a)):Hi(t,e,o,a),e.memoizedState=n.state,i&&tk(e,r,!0),e.child}function QM(t){var e=t.stateNode;e.pendingContext?ek(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ek(t,e.context,!1),Y4(t,e.containerInfo)}function yk(t,e,r,n,i){return Bp(),z4(i),e.flags|=256,Hi(t,e,r,n),e.child}var lS={dehydrated:null,treeContext:null,retryLane:0};function cS(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZM(t,e,r){var n=e.pendingProps,i=Wr.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Or(Wr,i&1),t===null)return tS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Vb(s,n,0,null),t=xf(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=cS(r),e.memoizedState=lS,t):n3(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return hX(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=qu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=qu(o,a):(a=xf(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?cS(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=lS,n}return a=t.child,t=a.sibling,n=qu(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function n3(t,e){return e=Vb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sv(t,e,r,n){return n!==null&&z4(n),Up(e,t.child,null,r),t=n3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hX(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=I5(Error(tt(422))),Sv(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Vb({mode:"visible",children:n.children},i,0,null),a=xf(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Up(e,t.child,null,s),e.child.memoizedState=cS(s),e.memoizedState=lS,a);if(!(e.mode&1))return Sv(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(tt(419)),n=I5(a,n,void 0),Sv(t,e,s,n)}if(o=(s&t.childLanes)!==0,ya||o){if(n=ti,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,gc(t,i),fo(n,t,i,-1))}return c3(),n=I5(Error(tt(421))),Sv(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=NX.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,$a=Uu(i.nextSibling),qa=e,Vr=!0,ro=null,t!==null&&(hs[ps++]=Zl,hs[ps++]=ec,hs[ps++]=jf,Zl=t.id,ec=t.overflow,jf=e),e=n3(e,n.children),e.flags|=4096,e)}function vk(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),rS(t.return,e,r)}function j5(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function eF(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Hi(t,e,n.children,r),n=Wr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vk(t,r,e);else if(t.tag===19)vk(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Or(Wr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&uw(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),j5(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uw(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}j5(e,!0,r,null,a);break;case"together":j5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function x1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Rf|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(tt(153));if(e.child!==null){for(t=e.child,r=qu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=qu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function pX(t,e,r){switch(e.tag){case 3:QM(e),Bp();break;case 5:NM(e);break;case 1:ba(e.type)&&iw(e);break;case 4:Y4(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Or(ow,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Or(Wr,Wr.current&1),e.flags|=128,null):r&e.child.childLanes?ZM(t,e,r):(Or(Wr,Wr.current&1),t=yc(t,e,r),t!==null?t.sibling:null);Or(Wr,Wr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return eF(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Or(Wr,Wr.current),n)break;return null;case 22:case 23:return e.lanes=0,XM(t,e,r)}return yc(t,e,r)}var tF,uS,rF,nF;tF=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};uS=function(){};rF=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,cf(il.current);var a=null;switch(r){case"input":i=jA(t,i),n=jA(t,n),a=[];break;case"select":i=Kr({},i,{value:void 0}),n=Kr({},n,{value:void 0}),a=[];break;case"textarea":i=LA(t,i),n=LA(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=rw)}MA(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(p0.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(p0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Dr("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};nF=function(t,e,r,n){r!==n&&(e.flags|=4)};function pg(t,e){if(!Vr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ai(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function mX(t,e,r){var n=e.pendingProps;switch(V4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ai(e),null;case 1:return ba(e.type)&&nw(),Ai(e),null;case 3:return n=e.stateNode,$p(),Br(wa),Br(Mi),J4(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ev(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ro!==null&&(vS(ro),ro=null))),uS(t,e),Ai(e),null;case 5:X4(e);var i=cf(N0.current);if(r=e.type,t!==null&&e.stateNode!=null)rF(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(tt(166));return Ai(e),null}if(t=cf(il.current),Ev(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Yo]=e,n[A0]=a,t=(e.mode&1)!==0,r){case"dialog":Dr("cancel",n),Dr("close",n);break;case"iframe":case"object":case"embed":Dr("load",n);break;case"video":case"audio":for(i=0;i<Mg.length;i++)Dr(Mg[i],n);break;case"source":Dr("error",n);break;case"img":case"image":case"link":Dr("error",n),Dr("load",n);break;case"details":Dr("toggle",n);break;case"input":T6(n,a),Dr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Dr("invalid",n);break;case"textarea":C6(n,a),Dr("invalid",n)}MA(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&_v(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&_v(n.textContent,o,t),i=["children",""+o]):p0.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Dr("scroll",n)}switch(r){case"input":pv(n),P6(n,a,!0);break;case"textarea":pv(n),k6(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=rw)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=I7(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Yo]=e,t[A0]=n,tF(t,e,!1,!1),e.stateNode=t;e:{switch(s=FA(r,n),r){case"dialog":Dr("cancel",t),Dr("close",t),i=n;break;case"iframe":case"object":case"embed":Dr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Mg.length;i++)Dr(Mg[i],t);i=n;break;case"source":Dr("error",t),i=n;break;case"img":case"image":case"link":Dr("error",t),Dr("load",t),i=n;break;case"details":Dr("toggle",t),i=n;break;case"input":T6(t,n),i=jA(t,n),Dr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Kr({},n,{value:void 0}),Dr("invalid",t);break;case"textarea":C6(t,n),i=LA(t,n),Dr("invalid",t);break;default:i=n}MA(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?R7(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j7(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&m0(t,l):typeof l=="number"&&m0(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(p0.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Dr("scroll",t):l!=null&&T4(t,a,l,s))}switch(r){case"input":pv(t),P6(t,n,!1);break;case"textarea":pv(t),k6(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?gp(t,!!n.multiple,a,!1):n.defaultValue!=null&&gp(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ai(e),null;case 6:if(t&&e.stateNode!=null)nF(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(tt(166));if(r=cf(N0.current),cf(il.current),Ev(e)){if(n=e.stateNode,r=e.memoizedProps,n[Yo]=e,(a=n.nodeValue!==r)&&(t=qa,t!==null))switch(t.tag){case 3:_v(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_v(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yo]=e,e.stateNode=n}return Ai(e),null;case 13:if(Br(Wr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vr&&$a!==null&&e.mode&1&&!(e.flags&128))xM(),Bp(),e.flags|=98560,a=!1;else if(a=Ev(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(tt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(tt(317));a[Yo]=e}else Bp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ai(e),a=!1}else ro!==null&&(vS(ro),ro=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Wr.current&1?qn===0&&(qn=3):c3())),e.updateQueue!==null&&(e.flags|=4),Ai(e),null);case 4:return $p(),uS(t,e),t===null&&_0(e.stateNode.containerInfo),Ai(e),null;case 10:return H4(e.type._context),Ai(e),null;case 17:return ba(e.type)&&nw(),Ai(e),null;case 19:if(Br(Wr),a=e.memoizedState,a===null)return Ai(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)pg(a,!1);else{if(qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=uw(t),s!==null){for(e.flags|=128,pg(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Or(Wr,Wr.current&1|2),e.child}t=t.sibling}a.tail!==null&&hn()>zp&&(e.flags|=128,n=!0,pg(a,!1),e.lanes=4194304)}else{if(!n)if(t=uw(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),pg(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Vr)return Ai(e),null}else 2*hn()-a.renderingStartTime>zp&&r!==1073741824&&(e.flags|=128,n=!0,pg(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=hn(),e.sibling=null,r=Wr.current,Or(Wr,n?r&1|2:r&1),e):(Ai(e),null);case 22:case 23:return l3(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ma&1073741824&&(Ai(e),e.subtreeFlags&6&&(e.flags|=8192)):Ai(e),null;case 24:return null;case 25:return null}throw Error(tt(156,e.tag))}function gX(t,e){switch(V4(e),e.tag){case 1:return ba(e.type)&&nw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $p(),Br(wa),Br(Mi),J4(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return X4(e),null;case 13:if(Br(Wr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(tt(340));Bp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Br(Wr),null;case 4:return $p(),null;case 10:return H4(e.type._context),null;case 22:case 23:return l3(),null;case 24:return null;default:return null}}var Nv=!1,ji=!1,yX=typeof WeakSet=="function"?WeakSet:Set,ft=null;function cp(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nn(t,e,n)}else r.current=null}function dS(t,e,r){try{r()}catch(n){nn(t,e,n)}}var wk=!1;function vX(t,e){if(KA=Z1,t=lM(),U4(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(YA={focusedElem:t,selectionRange:r},Z1=!1,ft=e;ft!==null;)if(e=ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ft=t;else for(;ft!==null;){e=ft;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,w=y.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Js(e.type,m),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(E){nn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ft=t;break}ft=e.return}return y=wk,wk=!1,y}function Qg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&dS(e,r,a)}i=i.next}while(i!==n)}}function Ub(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function fS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function iF(t){var e=t.alternate;e!==null&&(t.alternate=null,iF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yo],delete e[A0],delete e[QA],delete e[eX],delete e[tX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aF(t){return t.tag===5||t.tag===3||t.tag===4}function bk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=rw));else if(n!==4&&(t=t.child,t!==null))for(hS(t,e,r),t=t.sibling;t!==null;)hS(t,e,r),t=t.sibling}function pS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(pS(t,e,r),t=t.sibling;t!==null;)pS(t,e,r),t=t.sibling}var di=null,Zs=!1;function fu(t,e,r){for(r=r.child;r!==null;)sF(t,e,r),r=r.sibling}function sF(t,e,r){if(nl&&typeof nl.onCommitFiberUnmount=="function")try{nl.onCommitFiberUnmount(jb,r)}catch{}switch(r.tag){case 5:ji||cp(r,e);case 6:var n=di,i=Zs;di=null,fu(t,e,r),di=n,Zs=i,di!==null&&(Zs?(t=di,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):di.removeChild(r.stateNode));break;case 18:di!==null&&(Zs?(t=di,r=r.stateNode,t.nodeType===8?S5(t.parentNode,r):t.nodeType===1&&S5(t,r),w0(t)):S5(di,r.stateNode));break;case 4:n=di,i=Zs,di=r.stateNode.containerInfo,Zs=!0,fu(t,e,r),di=n,Zs=i;break;case 0:case 11:case 14:case 15:if(!ji&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&dS(r,e,s),i=i.next}while(i!==n)}fu(t,e,r);break;case 1:if(!ji&&(cp(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){nn(r,e,o)}fu(t,e,r);break;case 21:fu(t,e,r);break;case 22:r.mode&1?(ji=(n=ji)||r.memoizedState!==null,fu(t,e,r),ji=n):fu(t,e,r);break;default:fu(t,e,r)}}function xk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new yX),e.forEach(function(n){var i=TX.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Gs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:di=o.stateNode,Zs=!1;break e;case 3:di=o.stateNode.containerInfo,Zs=!0;break e;case 4:di=o.stateNode.containerInfo,Zs=!0;break e}o=o.return}if(di===null)throw Error(tt(160));sF(a,s,i),di=null,Zs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){nn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oF(e,t),e=e.sibling}function oF(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gs(e,t),Bo(t),n&4){try{Qg(3,t,t.return),Ub(3,t)}catch(m){nn(t,t.return,m)}try{Qg(5,t,t.return)}catch(m){nn(t,t.return,m)}}break;case 1:Gs(e,t),Bo(t),n&512&&r!==null&&cp(r,r.return);break;case 5:if(Gs(e,t),Bo(t),n&512&&r!==null&&cp(r,r.return),t.flags&32){var i=t.stateNode;try{m0(i,"")}catch(m){nn(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&C7(i,a),FA(o,s);var c=FA(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?R7(i,f):u==="dangerouslySetInnerHTML"?j7(i,f):u==="children"?m0(i,f):T4(i,u,f,c)}switch(o){case"input":OA(i,a);break;case"textarea":k7(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?gp(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?gp(i,!!a.multiple,a.defaultValue,!0):gp(i,!!a.multiple,a.multiple?[]:"",!1))}i[A0]=a}catch(m){nn(t,t.return,m)}}break;case 6:if(Gs(e,t),Bo(t),n&4){if(t.stateNode===null)throw Error(tt(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){nn(t,t.return,m)}}break;case 3:if(Gs(e,t),Bo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{w0(e.containerInfo)}catch(m){nn(t,t.return,m)}break;case 4:Gs(e,t),Bo(t);break;case 13:Gs(e,t),Bo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(s3=hn())),n&4&&xk(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(ji=(c=ji)||u,Gs(e,t),ji=c):Gs(e,t),Bo(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ft=t,u=t.child;u!==null;){for(f=ft=u;ft!==null;){switch(p=ft,h=p.child,p.tag){case 0:case 11:case 14:case 15:Qg(4,p,p.return);break;case 1:cp(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){nn(n,r,m)}}break;case 5:cp(p,p.return);break;case 22:if(p.memoizedState!==null){Ek(f);continue}}h!==null?(h.return=p,ft=h):Ek(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=O7("display",s))}catch(m){nn(t,t.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){nn(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gs(e,t),Bo(t),n&4&&xk(t);break;case 21:break;default:Gs(e,t),Bo(t)}}function Bo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(aF(r)){var n=r;break e}r=r.return}throw Error(tt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(m0(i,""),n.flags&=-33);var a=bk(t);pS(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=bk(t);hS(t,o,s);break;default:throw Error(tt(161))}}catch(l){nn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wX(t,e,r){ft=t,lF(t)}function lF(t,e,r){for(var n=(t.mode&1)!==0;ft!==null;){var i=ft,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Nv;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ji;o=Nv;var c=ji;if(Nv=s,(ji=l)&&!c)for(ft=i;ft!==null;)s=ft,l=s.child,s.tag===22&&s.memoizedState!==null?Ak(i):l!==null?(l.return=s,ft=l):Ak(i);for(;a!==null;)ft=a,lF(a),a=a.sibling;ft=i,Nv=o,ji=c}_k(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ft=a):_k(t)}}function _k(t){for(;ft!==null;){var e=ft;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ji||Ub(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ji)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Js(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&sk(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}sk(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&w0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}ji||e.flags&512&&fS(e)}catch(p){nn(e,e.return,p)}}if(e===t){ft=null;break}if(r=e.sibling,r!==null){r.return=e.return,ft=r;break}ft=e.return}}function Ek(t){for(;ft!==null;){var e=ft;if(e===t){ft=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ft=r;break}ft=e.return}}function Ak(t){for(;ft!==null;){var e=ft;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ub(4,e)}catch(l){nn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){nn(e,i,l)}}var a=e.return;try{fS(e)}catch(l){nn(e,a,l)}break;case 5:var s=e.return;try{fS(e)}catch(l){nn(e,s,l)}}}catch(l){nn(e,e.return,l)}if(e===t){ft=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ft=o;break}ft=e.return}}var bX=Math.ceil,hw=Pc.ReactCurrentDispatcher,i3=Pc.ReactCurrentOwner,bs=Pc.ReactCurrentBatchConfig,Zt=0,ti=null,Rn=null,mi=0,Ma=0,up=dd(0),qn=0,k0=null,Rf=0,$b=0,a3=0,Zg=null,ma=null,s3=0,zp=1/0,Gl=null,pw=!1,mS=null,Vu=null,Tv=!1,Ru=null,mw=0,e0=0,gS=null,_1=-1,E1=0;function Qi(){return Zt&6?hn():_1!==-1?_1:_1=hn()}function zu(t){return t.mode&1?Zt&2&&mi!==0?mi&-mi:nX.transition!==null?(E1===0&&(E1=H7()),E1):(t=gr,t!==0||(t=window.event,t=t===void 0?16:Z7(t.type)),t):1}function fo(t,e,r,n){if(50<e0)throw e0=0,gS=null,Error(tt(185));ty(t,r,n),(!(Zt&2)||t!==ti)&&(t===ti&&(!(Zt&2)&&($b|=r),qn===4&&Nu(t,mi)),xa(t,n),r===1&&Zt===0&&!(e.mode&1)&&(zp=hn()+500,Mb&&fd()))}function xa(t,e){var r=t.callbackNode;nY(t,e);var n=Q1(t,t===ti?mi:0);if(n===0)r!==null&&O6(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&O6(r),e===1)t.tag===0?rX(Sk.bind(null,t)):vM(Sk.bind(null,t)),QY(function(){!(Zt&6)&&fd()}),r=null;else{switch(G7(n)){case 1:r=j4;break;case 4:r=q7;break;case 16:r=J1;break;case 536870912:r=W7;break;default:r=J1}r=gF(r,cF.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function cF(t,e){if(_1=-1,E1=0,Zt&6)throw Error(tt(327));var r=t.callbackNode;if(xp()&&t.callbackNode!==r)return null;var n=Q1(t,t===ti?mi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=gw(t,n);else{e=n;var i=Zt;Zt|=2;var a=dF();(ti!==t||mi!==e)&&(Gl=null,zp=hn()+500,bf(t,e));do try{EX();break}catch(o){uF(t,o)}while(!0);W4(),hw.current=a,Zt=i,Rn!==null?e=0:(ti=null,mi=0,e=qn)}if(e!==0){if(e===2&&(i=zA(t),i!==0&&(n=i,e=yS(t,i))),e===1)throw r=k0,bf(t,0),Nu(t,n),xa(t,hn()),r;if(e===6)Nu(t,n);else{if(i=t.current.alternate,!(n&30)&&!xX(i)&&(e=gw(t,n),e===2&&(a=zA(t),a!==0&&(n=a,e=yS(t,a))),e===1))throw r=k0,bf(t,0),Nu(t,n),xa(t,hn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(tt(345));case 2:Xd(t,ma,Gl);break;case 3:if(Nu(t,n),(n&130023424)===n&&(e=s3+500-hn(),10<e)){if(Q1(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Qi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=JA(Xd.bind(null,t,ma,Gl),e);break}Xd(t,ma,Gl);break;case 4:if(Nu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-uo(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=hn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bX(n/1960))-n,10<n){t.timeoutHandle=JA(Xd.bind(null,t,ma,Gl),n);break}Xd(t,ma,Gl);break;case 5:Xd(t,ma,Gl);break;default:throw Error(tt(329))}}}return xa(t,hn()),t.callbackNode===r?cF.bind(null,t):null}function yS(t,e){var r=Zg;return t.current.memoizedState.isDehydrated&&(bf(t,e).flags|=256),t=gw(t,e),t!==2&&(e=ma,ma=r,e!==null&&vS(e)),t}function vS(t){ma===null?ma=t:ma.push.apply(ma,t)}function xX(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ho(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nu(t,e){for(e&=~a3,e&=~$b,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-uo(e),n=1<<r;t[r]=-1,e&=~n}}function Sk(t){if(Zt&6)throw Error(tt(327));xp();var e=Q1(t,0);if(!(e&1))return xa(t,hn()),null;var r=gw(t,e);if(t.tag!==0&&r===2){var n=zA(t);n!==0&&(e=n,r=yS(t,n))}if(r===1)throw r=k0,bf(t,0),Nu(t,e),xa(t,hn()),r;if(r===6)throw Error(tt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xd(t,ma,Gl),xa(t,hn()),null}function o3(t,e){var r=Zt;Zt|=1;try{return t(e)}finally{Zt=r,Zt===0&&(zp=hn()+500,Mb&&fd())}}function Lf(t){Ru!==null&&Ru.tag===0&&!(Zt&6)&&xp();var e=Zt;Zt|=1;var r=bs.transition,n=gr;try{if(bs.transition=null,gr=1,t)return t()}finally{gr=n,bs.transition=r,Zt=e,!(Zt&6)&&fd()}}function l3(){Ma=up.current,Br(up)}function bf(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,JY(r)),Rn!==null)for(r=Rn.return;r!==null;){var n=r;switch(V4(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nw();break;case 3:$p(),Br(wa),Br(Mi),J4();break;case 5:X4(n);break;case 4:$p();break;case 13:Br(Wr);break;case 19:Br(Wr);break;case 10:H4(n.type._context);break;case 22:case 23:l3()}r=r.return}if(ti=t,Rn=t=qu(t.current,null),mi=Ma=e,qn=0,k0=null,a3=$b=Rf=0,ma=Zg=null,lf!==null){for(e=0;e<lf.length;e++)if(r=lf[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}lf=null}return t}function uF(t,e){do{var r=Rn;try{if(W4(),w1.current=fw,dw){for(var n=Hr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}dw=!1}if(Of=0,Qn=zn=Hr=null,Jg=!1,T0=0,i3.current=null,r===null||r.return===null){qn=1,k0=e,Rn=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=mi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=fk(s);if(h!==null){h.flags&=-257,hk(h,s,o,a,e),h.mode&1&&dk(a,c,e),e=h,l=c;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){dk(a,c,e),c3();break e}l=Error(tt(426))}}else if(Vr&&o.mode&1){var w=fk(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),hk(w,s,o,a,e),z4(Vp(l,o));break e}}a=l=Vp(l,o),qn!==4&&(qn=2),Zg===null?Zg=[a]:Zg.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=GM(a,l,e);ak(a,g);break e;case 1:o=l;var v=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Vu===null||!Vu.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=KM(a,o,e);ak(a,E);break e}}a=a.return}while(a!==null)}hF(r)}catch(S){e=S,Rn===r&&r!==null&&(Rn=r=r.return);continue}break}while(!0)}function dF(){var t=hw.current;return hw.current=fw,t===null?fw:t}function c3(){(qn===0||qn===3||qn===2)&&(qn=4),ti===null||!(Rf&268435455)&&!($b&268435455)||Nu(ti,mi)}function gw(t,e){var r=Zt;Zt|=2;var n=dF();(ti!==t||mi!==e)&&(Gl=null,bf(t,e));do try{_X();break}catch(i){uF(t,i)}while(!0);if(W4(),Zt=r,hw.current=n,Rn!==null)throw Error(tt(261));return ti=null,mi=0,qn}function _X(){for(;Rn!==null;)fF(Rn)}function EX(){for(;Rn!==null&&!KK();)fF(Rn)}function fF(t){var e=mF(t.alternate,t,Ma);t.memoizedProps=t.pendingProps,e===null?hF(t):Rn=e,i3.current=null}function hF(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=gX(r,e),r!==null){r.flags&=32767,Rn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qn=6,Rn=null;return}}else if(r=mX(r,e,Ma),r!==null){Rn=r;return}if(e=e.sibling,e!==null){Rn=e;return}Rn=e=t}while(e!==null);qn===0&&(qn=5)}function Xd(t,e,r){var n=gr,i=bs.transition;try{bs.transition=null,gr=1,AX(t,e,r,n)}finally{bs.transition=i,gr=n}return null}function AX(t,e,r,n){do xp();while(Ru!==null);if(Zt&6)throw Error(tt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(tt(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(iY(t,a),t===ti&&(Rn=ti=null,mi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Tv||(Tv=!0,gF(J1,function(){return xp(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=bs.transition,bs.transition=null;var s=gr;gr=1;var o=Zt;Zt|=4,i3.current=null,vX(t,r),oF(r,t),qY(YA),Z1=!!KA,YA=KA=null,t.current=r,wX(r),YK(),Zt=o,gr=s,bs.transition=a}else t.current=r;if(Tv&&(Tv=!1,Ru=t,mw=i),a=t.pendingLanes,a===0&&(Vu=null),QK(r.stateNode),xa(t,hn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(pw)throw pw=!1,t=mS,mS=null,t;return mw&1&&t.tag!==0&&xp(),a=t.pendingLanes,a&1?t===gS?e0++:(e0=0,gS=t):e0=0,fd(),null}function xp(){if(Ru!==null){var t=G7(mw),e=bs.transition,r=gr;try{if(bs.transition=null,gr=16>t?16:t,Ru===null)var n=!1;else{if(t=Ru,Ru=null,mw=0,Zt&6)throw Error(tt(331));var i=Zt;for(Zt|=4,ft=t.current;ft!==null;){var a=ft,s=a.child;if(ft.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ft=c;ft!==null;){var u=ft;switch(u.tag){case 0:case 11:case 15:Qg(8,u,a)}var f=u.child;if(f!==null)f.return=u,ft=f;else for(;ft!==null;){u=ft;var p=u.sibling,h=u.return;if(iF(u),u===c){ft=null;break}if(p!==null){p.return=h,ft=p;break}ft=h}}}var y=a.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}ft=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ft=s;else e:for(;ft!==null;){if(a=ft,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Qg(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,ft=g;break e}ft=a.return}}var v=t.current;for(ft=v;ft!==null;){s=ft;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,ft=x;else e:for(s=v;ft!==null;){if(o=ft,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ub(9,o)}}catch(S){nn(o,o.return,S)}if(o===s){ft=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,ft=E;break e}ft=o.return}}if(Zt=i,fd(),nl&&typeof nl.onPostCommitFiberRoot=="function")try{nl.onPostCommitFiberRoot(jb,t)}catch{}n=!0}return n}finally{gr=r,bs.transition=e}}return!1}function Nk(t,e,r){e=Vp(r,e),e=GM(t,e,1),t=$u(t,e,1),e=Qi(),t!==null&&(ty(t,1,e),xa(t,e))}function nn(t,e,r){if(t.tag===3)Nk(t,t,r);else for(;e!==null;){if(e.tag===3){Nk(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vu===null||!Vu.has(n))){t=Vp(r,t),t=KM(e,t,1),e=$u(e,t,1),t=Qi(),e!==null&&(ty(e,1,t),xa(e,t));break}}e=e.return}}function SX(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Qi(),t.pingedLanes|=t.suspendedLanes&r,ti===t&&(mi&r)===r&&(qn===4||qn===3&&(mi&130023424)===mi&&500>hn()-s3?bf(t,0):a3|=r),xa(t,e)}function pF(t,e){e===0&&(t.mode&1?(e=yv,yv<<=1,!(yv&130023424)&&(yv=4194304)):e=1);var r=Qi();t=gc(t,e),t!==null&&(ty(t,e,r),xa(t,r))}function NX(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),pF(t,r)}function TX(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(tt(314))}n!==null&&n.delete(e),pF(t,r)}var mF;mF=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||wa.current)ya=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ya=!1,pX(t,e,r);ya=!!(t.flags&131072)}else ya=!1,Vr&&e.flags&1048576&&wM(e,sw,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;x1(t,e),t=e.pendingProps;var i=Fp(e,Mi.current);bp(e,r),i=Z4(null,e,n,t,i,r);var a=e3();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ba(n)?(a=!0,iw(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,K4(e),i.updater=Bb,e.stateNode=i,i._reactInternals=e,iS(e,n,t,r),e=oS(null,e,n,!0,a,r)):(e.tag=0,Vr&&a&&$4(e),Hi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(x1(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=CX(n),t=Js(n,t),i){case 0:e=sS(null,e,n,t,r);break e;case 1:e=gk(null,e,n,t,r);break e;case 11:e=pk(null,e,n,t,r);break e;case 14:e=mk(null,e,n,Js(n.type,t),r);break e}throw Error(tt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Js(n,i),sS(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Js(n,i),gk(t,e,n,i,r);case 3:e:{if(QM(e),t===null)throw Error(tt(387));n=e.pendingProps,a=e.memoizedState,i=a.element,SM(t,e),cw(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Vp(Error(tt(423)),e),e=yk(t,e,n,r,i);break e}else if(n!==i){i=Vp(Error(tt(424)),e),e=yk(t,e,n,r,i);break e}else for($a=Uu(e.stateNode.containerInfo.firstChild),qa=e,Vr=!0,ro=null,r=EM(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bp(),n===i){e=yc(t,e,r);break e}Hi(t,e,n,r)}e=e.child}return e;case 5:return NM(e),t===null&&tS(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,XA(n,i)?s=null:a!==null&&XA(n,a)&&(e.flags|=32),JM(t,e),Hi(t,e,s,r),e.child;case 6:return t===null&&tS(e),null;case 13:return ZM(t,e,r);case 4:return Y4(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Up(e,null,n,r):Hi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Js(n,i),pk(t,e,n,i,r);case 7:return Hi(t,e,e.pendingProps,r),e.child;case 8:return Hi(t,e,e.pendingProps.children,r),e.child;case 12:return Hi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Or(ow,n._currentValue),n._currentValue=s,a!==null)if(ho(a.value,s)){if(a.children===i.children&&!wa.current){e=yc(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=oc(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),rS(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(tt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),rS(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Hi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,bp(e,r),i=As(i),n=n(i),e.flags|=1,Hi(t,e,n,r),e.child;case 14:return n=e.type,i=Js(n,e.pendingProps),i=Js(n.type,i),mk(t,e,n,i,r);case 15:return YM(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Js(n,i),x1(t,e),e.tag=1,ba(n)?(t=!0,iw(e)):t=!1,bp(e,r),HM(e,n,i),iS(e,n,i,r),oS(null,e,n,!0,t,r);case 19:return eF(t,e,r);case 22:return XM(t,e,r)}throw Error(tt(156,e.tag))};function gF(t,e){return z7(t,e)}function PX(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(t,e,r,n){return new PX(t,e,r,n)}function u3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CX(t){if(typeof t=="function")return u3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===C4)return 11;if(t===k4)return 14}return 2}function qu(t,e){var r=t.alternate;return r===null?(r=vs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function A1(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")u3(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ep:return xf(r.children,i,a,e);case P4:s=8,i|=8;break;case PA:return t=vs(12,r,e,i|2),t.elementType=PA,t.lanes=a,t;case CA:return t=vs(13,r,e,i),t.elementType=CA,t.lanes=a,t;case kA:return t=vs(19,r,e,i),t.elementType=kA,t.lanes=a,t;case N7:return Vb(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A7:s=10;break e;case S7:s=9;break e;case C4:s=11;break e;case k4:s=14;break e;case _u:s=16,n=null;break e}throw Error(tt(130,t==null?t:typeof t,""))}return e=vs(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function xf(t,e,r,n){return t=vs(7,t,n,e),t.lanes=r,t}function Vb(t,e,r,n){return t=vs(22,t,n,e),t.elementType=N7,t.lanes=r,t.stateNode={isHidden:!1},t}function O5(t,e,r){return t=vs(6,t,null,e),t.lanes=r,t}function R5(t,e,r){return e=vs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kX(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p5(0),this.expirationTimes=p5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p5(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function d3(t,e,r,n,i,a,s,o,l){return t=new kX(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=vs(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},K4(a),t}function IX(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zh,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function yF(t){if(!t)return Zu;t=t._reactInternals;e:{if(Yf(t)!==t||t.tag!==1)throw Error(tt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ba(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(tt(171))}if(t.tag===1){var r=t.type;if(ba(r))return yM(t,r,e)}return e}function vF(t,e,r,n,i,a,s,o,l){return t=d3(r,n,!0,t,i,a,s,o,l),t.context=yF(null),r=t.current,n=Qi(),i=zu(r),a=oc(n,i),a.callback=e??null,$u(r,a,i),t.current.lanes=i,ty(t,i,n),xa(t,n),t}function zb(t,e,r,n){var i=e.current,a=Qi(),s=zu(i);return r=yF(r),e.context===null?e.context=r:e.pendingContext=r,e=oc(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$u(i,e,s),t!==null&&(fo(t,i,s,a),v1(t,i,s)),s}function yw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function f3(t,e){Tk(t,e),(t=t.alternate)&&Tk(t,e)}function jX(){return null}var wF=typeof reportError=="function"?reportError:function(t){console.error(t)};function h3(t){this._internalRoot=t}qb.prototype.render=h3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(tt(409));zb(t,e,null,null)};qb.prototype.unmount=h3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lf(function(){zb(null,t,null,null)}),e[mc]=null}};function qb(t){this._internalRoot=t}qb.prototype.unstable_scheduleHydration=function(t){if(t){var e=X7();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Su.length&&e!==0&&e<Su[r].priority;r++);Su.splice(r,0,t),r===0&&Q7(t)}};function p3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pk(){}function OX(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=yw(s);a.call(c)}}var s=vF(e,n,t,0,null,!1,!1,"",Pk);return t._reactRootContainer=s,t[mc]=s.current,_0(t.nodeType===8?t.parentNode:t),Lf(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=yw(l);o.call(c)}}var l=d3(t,0,!1,null,null,!1,!1,"",Pk);return t._reactRootContainer=l,t[mc]=l.current,_0(t.nodeType===8?t.parentNode:t),Lf(function(){zb(e,l,r,n)}),l}function Hb(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=yw(s);o.call(l)}}zb(e,s,t,i)}else s=OX(r,e,t,i,n);return yw(s)}K7=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Dg(e.pendingLanes);r!==0&&(O4(e,r|1),xa(e,hn()),!(Zt&6)&&(zp=hn()+500,fd()))}break;case 13:Lf(function(){var n=gc(t,1);if(n!==null){var i=Qi();fo(n,t,1,i)}}),f3(t,1)}};R4=function(t){if(t.tag===13){var e=gc(t,134217728);if(e!==null){var r=Qi();fo(e,t,134217728,r)}f3(t,134217728)}};Y7=function(t){if(t.tag===13){var e=zu(t),r=gc(t,e);if(r!==null){var n=Qi();fo(r,t,e,n)}f3(t,e)}};X7=function(){return gr};J7=function(t,e){var r=gr;try{return gr=t,e()}finally{gr=r}};UA=function(t,e,r){switch(e){case"input":if(OA(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Db(n);if(!i)throw Error(tt(90));P7(n),OA(n,i)}}}break;case"textarea":k7(t,r);break;case"select":e=r.value,e!=null&&gp(t,!!r.multiple,e,!1)}};M7=o3;F7=Lf;var RX={usingClientEntryPoint:!1,Events:[ny,ip,Db,L7,D7,o3]},mg={findFiberByHostInstance:of,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LX={bundleType:mg.bundleType,version:mg.version,rendererPackageName:mg.rendererPackageName,rendererConfig:mg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$7(t),t===null?null:t.stateNode},findFiberByHostInstance:mg.findFiberByHostInstance||jX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pv.isDisabled&&Pv.supportsFiber)try{jb=Pv.inject(LX),nl=Pv}catch{}}Xa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RX;Xa.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p3(e))throw Error(tt(200));return IX(t,e,null,r)};Xa.createRoot=function(t,e){if(!p3(t))throw Error(tt(299));var r=!1,n="",i=wF;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=d3(t,1,!1,null,null,r,!1,n,i),t[mc]=e.current,_0(t.nodeType===8?t.parentNode:t),new h3(e)};Xa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(tt(188)):(t=Object.keys(t).join(","),Error(tt(268,t)));return t=$7(e),t=t===null?null:t.stateNode,t};Xa.flushSync=function(t){return Lf(t)};Xa.hydrate=function(t,e,r){if(!Wb(e))throw Error(tt(200));return Hb(null,t,e,!0,r)};Xa.hydrateRoot=function(t,e,r){if(!p3(t))throw Error(tt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=wF;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=vF(e,null,t,1,r??null,i,!1,a,s),t[mc]=e.current,_0(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new qb(e)};Xa.render=function(t,e,r){if(!Wb(e))throw Error(tt(200));return Hb(null,t,e,!1,r)};Xa.unmountComponentAtNode=function(t){if(!Wb(t))throw Error(tt(40));return t._reactRootContainer?(Lf(function(){Hb(null,null,t,!1,function(){t._reactRootContainer=null,t[mc]=null})}),!0):!1};Xa.unstable_batchedUpdates=o3;Xa.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Wb(r))throw Error(tt(200));if(t==null||t._reactInternals===void 0)throw Error(tt(38));return Hb(t,e,r,!1,n)};Xa.version="18.3.1-next-f1338f8080-20240426";function bF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bF)}catch(t){console.error(t)}}bF(),b7.exports=Xa;var m3=b7.exports,xF,Ck=m3;xF=Ck.createRoot,Ck.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kk="popstate";function DX(t={}){function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return wS("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:I0(i)}return FX(e,r,null,t)}function Gr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function po(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MX(){return Math.random().toString(36).substring(2,10)}function Ik(t,e){return{usr:t.state,key:t.key,idx:e}}function wS(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wm(e):e,state:r,key:e&&e.key||n||MX()}}function I0({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wm(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function FX(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function f(){o="POP";let w=u(),g=w==null?null:w-c;c=w,l&&l({action:o,location:m.location,delta:g})}function p(w,g){o="PUSH";let v=wS(m.location,w,g);c=u()+1;let x=Ik(v,c),E=m.createHref(v);try{s.pushState(x,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}a&&l&&l({action:o,location:m.location,delta:1})}function h(w,g){o="REPLACE";let v=wS(m.location,w,g);c=u();let x=Ik(v,c),E=m.createHref(v);s.replaceState(x,"",E),a&&l&&l({action:o,location:m.location,delta:0})}function y(w){return BX(w)}let m={get action(){return o},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kk,f),l=w,()=>{i.removeEventListener(kk,f),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:h,go(w){return s.go(w)}};return m}function BX(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Gr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:I0(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function _F(t,e,r="/"){return UX(t,e,r,!1)}function UX(t,e,r,n){let i=typeof e=="string"?wm(e):e,a=vc(i.pathname||"/",r);if(a==null)return null;let s=EF(t);$X(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=QX(a);o=XX(s[l],c,n)}return o}function EF(t,e=[],r=[],n="",i=!1){let a=(s,o,l=i,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;Gr(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let f=lc([n,u.relativePath]),p=r.concat(u);s.children&&s.children.length>0&&(Gr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),EF(s.children,e,p,f,l)),!(s.path==null&&!s.index)&&e.push({path:f,score:KX(f,s.index),routesMeta:p})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of AF(s.path))a(s,o,!0,c)}),e}function AF(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=AF(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function $X(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:YX(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var VX=/^:[\w-]+$/,zX=3,qX=2,WX=1,HX=10,GX=-2,jk=t=>t==="*";function KX(t,e){let r=t.split("/"),n=r.length;return r.some(jk)&&(n+=GX),e&&(n+=qX),r.filter(i=>!jk(i)).reduce((i,a)=>i+(VX.test(a)?zX:a===""?WX:HX),n)}function YX(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function XX(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=vw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=vw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:lc([a,f.pathname]),pathnameBase:rJ(lc([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=lc([a,f.pathnameBase]))}return s}function vw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=JX(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:f},p)=>{if(u==="*"){let y=o[p]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const h=o[p];return f&&!h?c[u]=void 0:c[u]=(h||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function JX(t,e=!1,r=!0){po(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function QX(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return po(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ZX(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?wm(t):t;return{pathname:r?r.startsWith("/")?r:eJ(r,e):e,search:nJ(n),hash:iJ(i)}}function eJ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function L5(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function SF(t){let e=tJ(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function NF(t,e,r,n=!1){let i;typeof t=="string"?i=wm(t):(i={...t},Gr(!i.pathname||!i.pathname.includes("?"),L5("?","pathname","search",i)),Gr(!i.pathname||!i.pathname.includes("#"),L5("#","pathname","hash",i)),Gr(!i.search||!i.search.includes("#"),L5("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=ZX(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var lc=t=>t.join("/").replace(/\/\/+/g,"/"),rJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var TF=["POST","PUT","PATCH","DELETE"];new Set(TF);var sJ=["GET",...TF];new Set(sJ);var bm=O.createContext(null);bm.displayName="DataRouter";var Gb=O.createContext(null);Gb.displayName="DataRouterState";O.createContext(!1);var PF=O.createContext({isTransitioning:!1});PF.displayName="ViewTransition";var oJ=O.createContext(new Map);oJ.displayName="Fetchers";var lJ=O.createContext(null);lJ.displayName="Await";var wl=O.createContext(null);wl.displayName="Navigation";var ay=O.createContext(null);ay.displayName="Location";var Cc=O.createContext({outlet:null,matches:[],isDataRoute:!1});Cc.displayName="Route";var g3=O.createContext(null);g3.displayName="RouteError";function cJ(t,{relative:e}={}){Gr(sy(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=O.useContext(wl),{hash:i,pathname:a,search:s}=oy(t,{relative:e}),o=a;return r!=="/"&&(o=a==="/"?r:lc([r,a])),n.createHref({pathname:o,search:s,hash:i})}function sy(){return O.useContext(ay)!=null}function kc(){return Gr(sy(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ay).location}var CF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kF(t){O.useContext(wl).static||O.useLayoutEffect(t)}function y3(){let{isDataRoute:t}=O.useContext(Cc);return t?_J():uJ()}function uJ(){Gr(sy(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(bm),{basename:e,navigator:r}=O.useContext(wl),{matches:n}=O.useContext(Cc),{pathname:i}=kc(),a=JSON.stringify(SF(n)),s=O.useRef(!1);return kF(()=>{s.current=!0}),O.useCallback((l,c={})=>{if(po(s.current,CF),!s.current)return;if(typeof l=="number"){r.go(l);return}let u=NF(l,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:lc([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,a,i,t])}O.createContext(null);function oy(t,{relative:e}={}){let{matches:r}=O.useContext(Cc),{pathname:n}=kc(),i=JSON.stringify(SF(r));return O.useMemo(()=>NF(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function dJ(t,e){return IF(t,e)}function IF(t,e,r,n,i){var v;Gr(sy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(wl),{matches:s}=O.useContext(Cc),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let x=f&&f.path||"";jF(c,!f||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=kc(),h;if(e){let x=typeof e=="string"?wm(e):e;Gr(u==="/"||((v=x.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),h=x}else h=p;let y=h.pathname||"/",m=y;if(u!=="/"){let x=u.replace(/^\//,"").split("/");m="/"+y.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=_F(t,{pathname:m});po(f||w!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),po(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=gJ(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:lc([u,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:lc([u,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n,i);return e&&g?O.createElement(ay.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},g):g}function fJ(){let t=xJ(),e=aJ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),r?O.createElement("pre",{style:i},r):null,s)}var hJ=O.createElement(fJ,null),pJ=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?O.createElement(Cc.Provider,{value:this.props.routeContext},O.createElement(g3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mJ({routeContext:t,match:e,children:r}){let n=O.useContext(bm);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Cc.Provider,{value:t},r)}function gJ(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r==null?void 0:r.errors;if(s!=null){let c=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Gr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:p}=r,h=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||h){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,u,f)=>{let p,h=!1,y=null,m=null;r&&(p=s&&u.route.id?s[u.route.id]:void 0,y=u.route.errorElement||hJ,o&&(l<0&&f===0?(jF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):l===f&&(h=!0,m=u.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,f+1)),g=()=>{let v;return p?v=y:h?v=m:u.route.Component?v=O.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=c,O.createElement(mJ,{match:u,routeContext:{outlet:c,matches:w,isDataRoute:r!=null},children:v})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?O.createElement(pJ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):g()},null)}function v3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yJ(t){let e=O.useContext(bm);return Gr(e,v3(t)),e}function vJ(t){let e=O.useContext(Gb);return Gr(e,v3(t)),e}function wJ(t){let e=O.useContext(Cc);return Gr(e,v3(t)),e}function w3(t){let e=wJ(t),r=e.matches[e.matches.length-1];return Gr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function bJ(){return w3("useRouteId")}function xJ(){var n;let t=O.useContext(g3),e=vJ("useRouteError"),r=w3("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function _J(){let{router:t}=yJ("useNavigate"),e=w3("useNavigate"),r=O.useRef(!1);return kF(()=>{r.current=!0}),O.useCallback(async(i,a={})=>{po(r.current,CF),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Ok={};function jF(t,e,r){!e&&!Ok[t]&&(Ok[t]=!0,po(!1,r))}O.memo(EJ);function EJ({routes:t,future:e,state:r,unstable_onError:n}){return IF(t,void 0,r,n,e)}function bS(t){Gr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AJ({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Gr(!sy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=O.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=wm(r));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:p="default"}=r,h=O.useMemo(()=>{let y=vc(l,s);return y==null?null:{location:{pathname:y,search:c,hash:u,state:f,key:p},navigationType:n}},[s,l,c,u,f,p,n]);return po(h!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:O.createElement(wl.Provider,{value:o},O.createElement(ay.Provider,{children:e,value:h}))}function SJ({children:t,location:e}){return dJ(xS(t),e)}function xS(t,e=[]){let r=[];return O.Children.forEach(t,(n,i)=>{if(!O.isValidElement(n))return;let a=[...e,i];if(n.type===O.Fragment){r.push.apply(r,xS(n.props.children,a));return}Gr(n.type===bS,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=xS(n.props.children,a)),r.push(s)}),r}var S1="get",N1="application/x-www-form-urlencoded";function Kb(t){return t!=null&&typeof t.tagName=="string"}function NJ(t){return Kb(t)&&t.tagName.toLowerCase()==="button"}function TJ(t){return Kb(t)&&t.tagName.toLowerCase()==="form"}function PJ(t){return Kb(t)&&t.tagName.toLowerCase()==="input"}function CJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kJ(t,e){return t.button===0&&(!e||e==="_self")&&!CJ(t)}function _S(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function IJ(t,e){let r=_S(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}var Cv=null;function jJ(){if(Cv===null)try{new FormData(document.createElement("form"),0),Cv=!1}catch{Cv=!0}return Cv}var OJ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function D5(t){return t!=null&&!OJ.has(t)?(po(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${N1}"`),null):t}function RJ(t,e){let r,n,i,a,s;if(TJ(t)){let o=t.getAttribute("action");n=o?vc(o,e):null,r=t.getAttribute("method")||S1,i=D5(t.getAttribute("enctype"))||N1,a=new FormData(t)}else if(NJ(t)||PJ(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?vc(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||S1,i=D5(t.getAttribute("formenctype"))||D5(o.getAttribute("enctype"))||N1,a=new FormData(o,t),!jJ()){let{name:c,type:u,value:f}=t;if(u==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,f)}}else{if(Kb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=S1,n=null,i=N1,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function b3(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LJ(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&vc(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function DJ(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MJ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FJ(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await DJ(a,r);return s.links?s.links():[]}return[]}));return VJ(n.flat(1).filter(MJ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Rk(t,e,r,n,i,a){let s=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,c)=>s(l,c)||o(l,c)):a==="data"?e.filter((l,c)=>{var f;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function BJ(t,e,{includeHydrateFallback:r}={}){return UJ(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function UJ(t){return[...new Set(t)]}function $J(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function VJ(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify($J(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function OF(){let t=O.useContext(bm);return b3(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zJ(){let t=O.useContext(Gb);return b3(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var x3=O.createContext(void 0);x3.displayName="FrameworkContext";function RF(){let t=O.useContext(x3);return b3(t,"You must render this element inside a <HydratedRouter> element"),t}function qJ(t,e){let r=O.useContext(x3),[n,i]=O.useState(!1),[a,s]=O.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,p=O.useRef(null);O.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let m=g=>{g.forEach(v=>{s(v.isIntersecting)})},w=new IntersectionObserver(m,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[t]),O.useEffect(()=>{if(n){let m=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(m)}}},[n]);let h=()=>{i(!0)},y=()=>{i(!1),s(!1)};return r?t!=="intent"?[a,p,{}]:[a,p,{onFocus:gg(o,h),onBlur:gg(l,y),onMouseEnter:gg(c,h),onMouseLeave:gg(u,y),onTouchStart:gg(f,h)}]:[!1,p,{}]}function gg(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function WJ({page:t,...e}){let{router:r}=OF(),n=O.useMemo(()=>_F(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?O.createElement(GJ,{page:t,matches:n,...e}):null}function HJ(t){let{manifest:e,routeModules:r}=RF(),[n,i]=O.useState([]);return O.useEffect(()=>{let a=!1;return FJ(t,e,r).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,r]),n}function GJ({page:t,matches:e,...r}){let n=kc(),{manifest:i,routeModules:a}=RF(),{basename:s}=OF(),{loaderData:o,matches:l}=zJ(),c=O.useMemo(()=>Rk(t,e,l,i,n,"data"),[t,e,l,i,n]),u=O.useMemo(()=>Rk(t,e,l,i,n,"assets"),[t,e,l,i,n]),f=O.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,m=!1;if(e.forEach(g=>{var x;let v=i.routes[g.route.id];!v||!v.hasLoader||(!c.some(E=>E.route.id===g.route.id)&&g.route.id in o&&((x=a[g.route.id])!=null&&x.shouldRevalidate)||v.hasClientLoader?m=!0:y.add(g.route.id))}),y.size===0)return[];let w=LJ(t,s,"data");return m&&y.size>0&&w.searchParams.set("_routes",e.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[s,o,n,i,c,e,t,a]),p=O.useMemo(()=>BJ(u,i),[u,i]),h=HJ(u);return O.createElement(O.Fragment,null,f.map(y=>O.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>O.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),h.map(({key:y,link:m})=>O.createElement("link",{key:y,nonce:r.nonce,...m})))}function KJ(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var LF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LF&&(window.__reactRouterVersion="7.8.2")}catch{}function YJ({basename:t,children:e,window:r}){let n=O.useRef();n.current==null&&(n.current=DX({window:r,v5Compat:!0}));let i=n.current,[a,s]=O.useState({action:i.action,location:i.location}),o=O.useCallback(l=>{O.startTransition(()=>s(l))},[s]);return O.useLayoutEffect(()=>i.listen(o),[i,o]),O.createElement(AJ,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var DF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MF=O.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f,...p},h){let{basename:y}=O.useContext(wl),m=typeof c=="string"&&DF.test(c),w,g=!1;if(typeof c=="string"&&m&&(w=c,LF))try{let T=new URL(window.location.href),W=c.startsWith("//")?new URL(T.protocol+c):new URL(c),M=vc(W.pathname,y);W.origin===T.origin&&M!=null?c=M+W.search+W.hash:g=!0}catch{po(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=cJ(c,{relative:i}),[x,E,S]=qJ(n,p),C=ZJ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function P(T){e&&e(T),T.defaultPrevented||C(T)}let k=O.createElement("a",{...p,...S,href:w||v,onClick:g||a?e:P,ref:KJ(h,E),target:l,"data-discover":!m&&r==="render"?"true":void 0});return x&&!m?O.createElement(O.Fragment,null,k,O.createElement(WJ,{page:v})):k});MF.displayName="Link";var XJ=O.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...c},u){let f=oy(s,{relative:c.relative}),p=kc(),h=O.useContext(Gb),{navigator:y,basename:m}=O.useContext(wl),w=h!=null&&aQ(f)&&o===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,v=p.pathname,x=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(v=v.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&m&&(x=vc(x,m)||x);const E=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let S=v===g||!i&&v.startsWith(g)&&v.charAt(E)==="/",C=x!=null&&(x===g||!i&&x.startsWith(g)&&x.charAt(g.length)==="/"),P={isActive:S,isPending:C,isTransitioning:w},k=S?e:void 0,T;typeof n=="function"?T=n(P):T=[n,S?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let W=typeof a=="function"?a(P):a;return O.createElement(MF,{...c,"aria-current":k,className:T,ref:u,style:W,to:s,viewTransition:o},typeof l=="function"?l(P):l)});XJ.displayName="NavLink";var JJ=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:s=S1,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...p},h)=>{let y=nQ(),m=iQ(o,{relative:c}),w=s.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&DF.test(o),v=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let E=x.nativeEvent.submitter,S=(E==null?void 0:E.getAttribute("formmethod"))||s;y(E||x.currentTarget,{fetcherKey:e,method:S,navigate:r,replace:i,state:a,relative:c,preventScrollReset:u,viewTransition:f})};return O.createElement("form",{ref:h,method:w,action:m,onSubmit:n?l:v,...p,"data-discover":!g&&t==="render"?"true":void 0})});JJ.displayName="Form";function QJ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FF(t){let e=O.useContext(bm);return Gr(e,QJ(t)),e}function ZJ(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=y3(),l=kc(),c=oy(t,{relative:a});return O.useCallback(u=>{if(kJ(u,e)){u.preventDefault();let f=r!==void 0?r:I0(l)===I0(c);o(t,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,c,r,n,e,t,i,a,s])}function eQ(t){po(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(_S(t)),r=O.useRef(!1),n=kc(),i=O.useMemo(()=>IJ(n.search,r.current?null:e.current),[n.search]),a=y3(),s=O.useCallback((o,l)=>{const c=_S(typeof o=="function"?o(new URLSearchParams(i)):o);r.current=!0,a("?"+c,l)},[a,i]);return[i,s]}var tQ=0,rQ=()=>`__${String(++tQ)}__`;function nQ(){let{router:t}=FF("useSubmit"),{basename:e}=O.useContext(wl),r=bJ();return O.useCallback(async(n,i={})=>{let{action:a,method:s,encType:o,formData:l,body:c}=RJ(n,e);if(i.navigate===!1){let u=i.fetcherKey||rQ();await t.fetch(u,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function iQ(t,{relative:e}={}){let{basename:r}=O.useContext(wl),n=O.useContext(Cc);Gr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...oy(t||".",{relative:e})},s=kc();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();a.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:lc([r,a.pathname])),I0(a)}function aQ(t,{relative:e}={}){let r=O.useContext(PF);Gr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=FF("useViewTransitionState"),i=oy(t,{relative:e});if(!r.isTransitioning)return!1;let a=vc(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=vc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return vw(i.pathname,s)!=null||vw(i.pathname,a)!=null}const sQ=()=>{};var Lk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},oQ=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},UF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|o>>4;let p=(o&15)<<2|c>>6,h=c&63;l||(h=64,s||(p=64)),n.push(r[u],r[f],r[p],r[h])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||f==null)throw new lQ;const p=a<<2|o>>4;if(n.push(p),c!==64){const h=o<<4&240|c>>2;if(n.push(h),f!==64){const y=c<<6&192|f;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cQ=function(t){const e=BF(t);return UF.encodeByteArray(e,!0)},ww=function(t){return cQ(t).replace(/\./g,"")},$F=function(t){try{return UF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ=()=>uQ().__FIREBASE_DEFAULTS__,fQ=()=>{if(typeof process>"u"||typeof Lk>"u")return;const t=Lk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$F(t[1]);return e&&JSON.parse(e)},Yb=()=>{try{return sQ()||dQ()||fQ()||hQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VF=t=>{var e,r;return(r=(e=Yb())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},pQ=t=>{const e=VF(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},zF=()=>{var t;return(t=Yb())==null?void 0:t.config},qF=t=>{var e;return(e=Yb())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WF(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ww(JSON.stringify(r)),ww(JSON.stringify(s)),""].join(".")}const t0={};function yQ(){const t={prod:[],emulator:[]};for(const e of Object.keys(t0))t0[e]?t.emulator.push(e):t.prod.push(e);return t}function vQ(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let Dk=!1;function HF(t,e){if(typeof window>"u"||typeof document>"u"||!xm(window.location.host)||t0[t]===e||t0[t]||Dk)return;t0[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=yQ().prod.length>0;function s(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,h){p.setAttribute("width","24"),p.setAttribute("id",h),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Dk=!0,s()},p}function u(p,h){p.setAttribute("id",h),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=vQ(n),h=r("text"),y=document.getElementById(h)||document.createElement("span"),m=r("learnmore"),w=document.getElementById(m)||document.createElement("a"),g=r("preprendIcon"),v=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;o(x),u(w,m);const E=c();l(v,g),x.append(v,y,w,E),document.body.appendChild(x)}a?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fi())}function bQ(){var e;const t=(e=Yb())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _Q(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EQ(){const t=Fi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AQ(){return!bQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KF(){try{return typeof indexedDB=="object"}catch{return!1}}function YF(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}function SQ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ="FirebaseError";class xo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=NQ,Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xf.prototype.create)}}class Xf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?TQ(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new xo(i,o,n)}}function TQ(t,e){return t.replace(PQ,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const PQ=/\{\$([^}]+)}/g;function CQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ed(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(Mk(a)&&Mk(s)){if(!ed(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Mk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Fg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Bg(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function kQ(t,e){const r=new IQ(t,e);return r.subscribe.bind(r)}class IQ{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");jQ(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=M5),i.error===void 0&&(i.error=M5),i.complete===void 0&&(i.complete=M5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jQ(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function M5(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ=1e3,RQ=2,LQ=4*60*60*1e3,DQ=.5;function Fk(t,e=OQ,r=RQ){const n=e*Math.pow(r,t),i=Math.round(DQ*n*(Math.random()-.5)*2);return Math.min(LQ,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class mo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MQ=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new mQ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BQ(e))try{this.getOrInitializeService({instanceIdentifier:Jd})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Jd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jd){return this.instances.has(e)}getOptions(e=Jd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:FQ(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Jd){return this.component?this.component.multipleInstances?e:Jd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FQ(t){return t===Jd?void 0:t}function BQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new MQ(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Wt||(Wt={}));const $Q={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},VQ=Wt.INFO,zQ={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},qQ=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=zQ[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xb{constructor(e){this.name=e,this._logLevel=VQ,this._logHandler=qQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$Q[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const WQ=(t,e)=>e.some(r=>t instanceof r);let Bk,Uk;function HQ(){return Bk||(Bk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GQ(){return Uk||(Uk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XF=new WeakMap,ES=new WeakMap,JF=new WeakMap,F5=new WeakMap,_3=new WeakMap;function KQ(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Wu(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&XF.set(r,t)}).catch(()=>{}),_3.set(e,t),e}function YQ(t){if(ES.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});ES.set(t,e)}let AS={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return ES.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JF.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Wu(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XQ(t){AS=t(AS)}function JQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(B5(this),e,...r);return JF.set(n,e.sort?e.sort():[e]),Wu(n)}:GQ().includes(t)?function(...e){return t.apply(B5(this),e),Wu(XF.get(this))}:function(...e){return Wu(t.apply(B5(this),e))}}function QQ(t){return typeof t=="function"?JQ(t):(t instanceof IDBTransaction&&YQ(t),WQ(t,HQ())?new Proxy(t,AS):t)}function Wu(t){if(t instanceof IDBRequest)return KQ(t);if(F5.has(t))return F5.get(t);const e=QQ(t);return e!==t&&(F5.set(t,e),_3.set(e,t)),e}const B5=t=>_3.get(t);function QF(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Wu(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Wu(s.result),l.oldVersion,l.newVersion,Wu(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const ZQ=["get","getKey","getAll","getAllKeys","count"],eZ=["put","add","delete","clear"],U5=new Map;function $k(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(U5.get(e))return U5.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=eZ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||ZQ.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return U5.set(e,a),a}XQ(t=>({...t,get:(e,r,n)=>$k(e,r)||t.get(e,r,n),has:(e,r)=>!!$k(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(rZ(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function rZ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const SS="@firebase/app",Vk="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Xb("@firebase/app"),nZ="@firebase/app-compat",iZ="@firebase/analytics-compat",aZ="@firebase/analytics",sZ="@firebase/app-check-compat",oZ="@firebase/app-check",lZ="@firebase/auth",cZ="@firebase/auth-compat",uZ="@firebase/database",dZ="@firebase/data-connect",fZ="@firebase/database-compat",hZ="@firebase/functions",pZ="@firebase/functions-compat",mZ="@firebase/installations",gZ="@firebase/installations-compat",yZ="@firebase/messaging",vZ="@firebase/messaging-compat",wZ="@firebase/performance",bZ="@firebase/performance-compat",xZ="@firebase/remote-config",_Z="@firebase/remote-config-compat",EZ="@firebase/storage",AZ="@firebase/storage-compat",SZ="@firebase/firestore",NZ="@firebase/ai",TZ="@firebase/firestore-compat",PZ="firebase",CZ="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="[DEFAULT]",kZ={[SS]:"fire-core",[nZ]:"fire-core-compat",[aZ]:"fire-analytics",[iZ]:"fire-analytics-compat",[oZ]:"fire-app-check",[sZ]:"fire-app-check-compat",[lZ]:"fire-auth",[cZ]:"fire-auth-compat",[uZ]:"fire-rtdb",[dZ]:"fire-data-connect",[fZ]:"fire-rtdb-compat",[hZ]:"fire-fn",[pZ]:"fire-fn-compat",[mZ]:"fire-iid",[gZ]:"fire-iid-compat",[yZ]:"fire-fcm",[vZ]:"fire-fcm-compat",[wZ]:"fire-perf",[bZ]:"fire-perf-compat",[xZ]:"fire-rc",[_Z]:"fire-rc-compat",[EZ]:"fire-gcs",[AZ]:"fire-gcs-compat",[SZ]:"fire-fst",[TZ]:"fire-fst-compat",[NZ]:"fire-vertex","fire-js":"fire-js",[PZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Map,IZ=new Map,TS=new Map;function zk(t,e){try{t.container.addComponent(e)}catch(r){wc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function pl(t){const e=t.name;if(TS.has(e))return wc.debug(`There were multiple attempts to register component ${e}.`),!1;TS.set(e,t);for(const r of bw.values())zk(r,t);for(const r of IZ.values())zk(r,t);return!0}function Jf(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function gs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hu=new Xf("app","Firebase",jZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=CZ;function ZF(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:NS,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Hu.create("bad-app-name",{appName:String(i)});if(r||(r=zF()),!r)throw Hu.create("no-options");const a=bw.get(i);if(a){if(ed(r,a.options)&&ed(n,a.config))return a;throw Hu.create("duplicate-app",{appName:i})}const s=new UQ(i);for(const l of TS.values())s.addComponent(l);const o=new OZ(r,n,s);return bw.set(i,o),o}function E3(t=NS){const e=bw.get(t);if(!e&&t===NS&&zF())return ZF();if(!e)throw Hu.create("no-app",{appName:t});return e}function xs(t,e,r){let n=kZ[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wc.warn(s.join(" "));return}pl(new mo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZ="firebase-heartbeat-database",LZ=1,j0="firebase-heartbeat-store";let $5=null;function e9(){return $5||($5=QF(RZ,LZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(j0)}catch(r){console.warn(r)}}}}).catch(t=>{throw Hu.create("idb-open",{originalErrorMessage:t.message})})),$5}async function DZ(t){try{const r=(await e9()).transaction(j0),n=await r.objectStore(j0).get(t9(t));return await r.done,n}catch(e){if(e instanceof xo)wc.warn(e.message);else{const r=Hu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wc.warn(r.message)}}}async function qk(t,e){try{const n=(await e9()).transaction(j0,"readwrite");await n.objectStore(j0).put(e,t9(t)),await n.done}catch(r){if(r instanceof xo)wc.warn(r.message);else{const n=Hu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});wc.warn(n.message)}}}function t9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZ=1024,FZ=30;class BZ{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new $Z(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Wk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>FZ){const s=VZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){wc.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Wk(),{heartbeatsToSend:n,unsentEntries:i}=UZ(this._heartbeatsCache.heartbeats),a=ww(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return wc.warn(r),""}}}function Wk(){return new Date().toISOString().substring(0,10)}function UZ(t,e=MZ){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),Hk(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Hk(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class $Z{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KF()?YF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await DZ(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return qk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return qk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Hk(t){return ww(JSON.stringify({version:2,heartbeats:t})).length}function VZ(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(t){pl(new mo("platform-logger",e=>new tZ(e),"PRIVATE")),pl(new mo("heartbeat",e=>new BZ(e),"PRIVATE")),xs(SS,Vk,t),xs(SS,Vk,"esm2020"),xs("fire-js","")}zZ("");function r9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qZ=r9,n9=new Xf("auth","Firebase",r9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Xb("@firebase/auth");function WZ(t,...e){xw.logLevel<=Wt.WARN&&xw.warn(`Auth (${_m}): ${t}`,...e)}function T1(t,...e){xw.logLevel<=Wt.ERROR&&xw.error(`Auth (${_m}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,...e){throw A3(t,...e)}function al(t,...e){return A3(t,...e)}function i9(t,e,r){const n={...qZ(),[e]:r};return new Xf("auth","Firebase",n).create(e,{appName:t.name})}function cc(t){return i9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A3(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return n9.create(t,...e)}function St(t,e,...r){if(!t)throw A3(e,...r)}function tc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw T1(e),new Error(e)}function bc(t,e){t||tc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function HZ(){return Gk()==="http:"||Gk()==="https:"}function Gk(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HZ()||GF()||"connection"in navigator)?navigator.onLine:!0}function KZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,r){this.shortDelay=e,this.longDelay=r,bc(r>e,"Short delay should be less than long delay!"),this.isMobile=wQ()||_Q()}get(){return GZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e){bc(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JZ=new cy(3e4,6e4);function hd(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function pd(t,e,r,n,i={}){return s9(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=ly({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return xQ()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&xm(t.emulatorConfig.host)&&(c.credentials="include"),a9.fetch()(await o9(t,t.config.apiHost,r,o),c)})}async function s9(t,e,r){t._canInitEmulator=!1;const n={...YZ,...e};try{const i=new ZZ(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw kv(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kv(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw kv(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw kv(t,"user-disabled",s);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw i9(t,u,c);go(t,u)}}catch(i){if(i instanceof xo)throw i;go(t,"network-request-failed",{message:String(i)})}}async function uy(t,e,r,n,i={}){const a=await pd(t,e,r,n,i);return"mfaPendingCredential"in a&&go(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function o9(t,e,r,n){const i=`${e}${r}?${n}`,a=t,s=a.config.emulator?S3(t.config,i):`${t.config.apiScheme}://${i}`;return XZ.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function QZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(al(this.auth,"network-request-failed")),JZ.get())})}}function kv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=al(t,e,n);return i.customData._tokenResponse=r,i}function Kk(t){return t!==void 0&&t.enterprise!==void 0}class eee{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return QZ(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tee(t,e){return pd(t,"GET","/v2/recaptchaConfig",hd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ree(t,e){return pd(t,"POST","/v1/accounts:delete",e)}async function _w(t,e){return pd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nee(t,e=!1){const r=on(t),n=await r.getIdToken(e),i=N3(n);St(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:r0(V5(i.auth_time)),issuedAtTime:r0(V5(i.iat)),expirationTime:r0(V5(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function V5(t){return Number(t)*1e3}function N3(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return T1("JWT malformed, contained fewer than 3 sections"),null;try{const i=$F(r);return i?JSON.parse(i):(T1("Failed to decode base64 JWT payload"),null)}catch(i){return T1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Yk(t){const e=N3(t);return St(e,"internal-error"),St(typeof e.exp<"u","internal-error"),St(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O0(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof xo&&iee(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function iee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=r0(this.lastLoginAt),this.creationTime=r0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(t){var f;const e=t.auth,r=await t.getIdToken(),n=await O0(t,_w(e,{idToken:r}));St(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?l9(i.providerUserInfo):[],s=oee(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new CS(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function see(t){const e=on(t);await Ew(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oee(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function l9(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lee(t,e){const r=await s9(t,{},async()=>{const n=ly({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await o9(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&xm(t.emulatorConfig.host)&&(l.credentials="include"),a9.fetch()(s,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function cee(t,e){return pd(t,"POST","/v2/accounts:revokeToken",hd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){St(e.idToken,"internal-error"),St(typeof e.idToken<"u","internal-error"),St(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){St(e.length!==0,"internal-error");const r=Yk(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await lee(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new _p;return n&&(St(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(St(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(St(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _p,this.toJSON())}_performRefresh(){return tc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t,e){St(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class co{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new aee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new CS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await O0(this,this.stsTokenManager.getToken(this.auth,e));return St(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return nee(this,e)}reload(){return see(this)}_assign(e){this!==e&&(St(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new co({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Ew(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gs(this.auth.app))return Promise.reject(cc(this.auth));const e=await this.getIdToken();return await O0(this,ree(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:h,providerData:y,stsTokenManager:m}=r;St(f&&m,e,"internal-error");const w=_p.fromJSON(this.name,m);St(typeof f=="string",e,"internal-error"),hu(n,e.name),hu(i,e.name),St(typeof p=="boolean",e,"internal-error"),St(typeof h=="boolean",e,"internal-error"),hu(a,e.name),hu(s,e.name),hu(o,e.name),hu(l,e.name),hu(c,e.name),hu(u,e.name);const g=new co({uid:f,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:h,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:w,createdAt:c,lastLoginAt:u});return y&&Array.isArray(y)&&(g.providerData=y.map(v=>({...v}))),l&&(g._redirectEventId=l),g}static async _fromIdTokenResponse(e,r,n=!1){const i=new _p;i.updateFromServerResponse(r);const a=new co({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ew(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];St(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?l9(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new _p;o.updateFromIdToken(n);const l=new co({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new CS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new Map;function rc(t){bc(t instanceof Function,"Expected a class definition");let e=Xk.get(t);return e?(bc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}c9.type="NONE";const Jk=c9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t,e,r){return`firebase:${t}:${e}:${r}`}class Ep{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=P1(this.userKey,i.apiKey,a),this.fullPersistenceKey=P1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await _w(this.auth,{idToken:e}).catch(()=>{});return r?co._fromGetAccountInfoResponse(this.auth,r,e):null}return co._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ep(rc(Jk),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||rc(Jk);const s=P1(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const p=await _w(e,{idToken:u}).catch(()=>{});if(!p)break;f=await co._fromGetAccountInfoResponse(e,p,u)}else f=co._fromJSON(e,u);c!==a&&(o=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ep(a,e,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Ep(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m9(e))return"Blackberry";if(g9(e))return"Webos";if(d9(e))return"Safari";if((e.includes("chrome/")||f9(e))&&!e.includes("edge/"))return"Chrome";if(p9(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function u9(t=Fi()){return/firefox\//i.test(t)}function d9(t=Fi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f9(t=Fi()){return/crios\//i.test(t)}function h9(t=Fi()){return/iemobile/i.test(t)}function p9(t=Fi()){return/android/i.test(t)}function m9(t=Fi()){return/blackberry/i.test(t)}function g9(t=Fi()){return/webos/i.test(t)}function T3(t=Fi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uee(t=Fi()){var e;return T3(t)&&!!((e=window.navigator)!=null&&e.standalone)}function dee(){return EQ()&&document.documentMode===10}function y9(t=Fi()){return T3(t)||p9(t)||g9(t)||m9(t)||/windows phone/i.test(t)||h9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t,e=[]){let r;switch(t){case"Browser":r=Qk(Fi());break;case"Worker":r=`${Qk(Fi())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${_m}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hee(t,e={}){return pd(t,"GET","/v2/passwordPolicy",hd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee=6;class mee{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??pee,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zk(this),this.idTokenSubscription=new Zk(this),this.beforeStateQueue=new fee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=rc(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Ep.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await _w(this,{idToken:e}),n=await co._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(gs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ew(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gs(this.app))return Promise.reject(cc(this));const r=e?on(e):null;return r&&St(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&St(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gs(this.app)?Promise.reject(cc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gs(this.app)?Promise.reject(cc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hee(this),r=new mee(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await cee(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&rc(e)||this._popupRedirectResolver;St(r,this,"argument-error"),this.redirectPersistenceManager=await Ep.create(this,[rc(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{s=!0,l()}}else{const l=e.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&WZ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qf(t){return on(t)}class Zk{constructor(e){this.auth=e,this.observer=null,this.addObserver=kQ(r=>this.observer=r)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yee(t){Jb=t}function w9(t){return Jb.loadJS(t)}function vee(){return Jb.recaptchaEnterpriseScript}function wee(){return Jb.gapiScript}function bee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xee{constructor(){this.enterprise=new _ee}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class _ee{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Eee="recaptcha-enterprise",b9="NO_RECAPTCHA";class Aee{constructor(e){this.type=Eee,this.auth=Qf(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{tee(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new eee(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;Kk(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(b9)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xee().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&Kk(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vee();l.length!==0&&(l+=o),w9(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function eI(t,e,r,n=!1,i=!1){const a=new Aee(t);let s;if(i)s=b9;else try{s=await a.verify(r)}catch{s=await a.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function kS(t,e,r,n,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await eI(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await eI(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function See(t,e){const r=Jf(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(ed(a,e??{}))return i;go(i,"already-initialized")}return r.initialize({options:e})}function Nee(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(rc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Tee(t,e,r){const n=Qf(t);St(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=x9(e),{host:s,port:o}=Pee(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){St(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),St(ed(c,n.config.emulator)&&ed(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,xm(s)?(WF(`${a}//${s}${l}`),HF("Auth",!0)):Cee()}function x9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Pee(t){const e=x9(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:tI(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:tI(s)}}}function tI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Cee(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return tc("not implemented")}_getIdTokenResponse(e){return tc("not implemented")}_linkToIdToken(e,r){return tc("not implemented")}_getReauthenticationResolver(e){return tc("not implemented")}}async function kee(t,e){return pd(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iee(t,e){return uy(t,"POST","/v1/accounts:signInWithPassword",hd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jee(t,e){return uy(t,"POST","/v1/accounts:signInWithEmailLink",hd(t,e))}async function Oee(t,e){return uy(t,"POST","/v1/accounts:signInWithEmailLink",hd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0 extends P3{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new R0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new R0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kS(e,r,"signInWithPassword",Iee);case"emailLink":return jee(e,{email:this._email,oobCode:this._password});default:go(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kS(e,n,"signUpPassword",kee);case"emailLink":return Oee(e,{idToken:r,email:this._email,oobCode:this._password});default:go(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(t,e){return uy(t,"POST","/v1/accounts:signInWithIdp",hd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree="http://localhost";class Df extends P3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Df(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):go("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new Df(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Ap(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Ap(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ap(e,r)}buildRequest(){const e={requestUri:Ree,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=ly(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dee(t){const e=Fg(Bg(t)).link,r=e?Fg(Bg(e)).deep_link_id:null,n=Fg(Bg(t)).deep_link_id;return(n?Fg(Bg(n)).link:null)||n||r||e||t}class C3{constructor(e){const r=Fg(Bg(e)),n=r.apiKey??null,i=r.oobCode??null,a=Lee(r.mode??null);St(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Dee(e);try{return new C3(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.providerId=Em.PROVIDER_ID}static credential(e,r){return R0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=C3.parseLink(r);return St(n,"argument-error"),R0._fromEmailAndCode(e,n.code,n.tenantId)}}Em.PROVIDER_ID="password";Em.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Em.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy extends _9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends dy{constructor(){super("facebook.com")}static credential(e){return Df._fromParams({providerId:Tu.PROVIDER_ID,signInMethod:Tu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tu.credentialFromTaggedObject(e)}static credentialFromError(e){return Tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tu.credential(e.oauthAccessToken)}catch{return null}}}Tu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends dy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Df._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Pu.credential(r,n)}catch{return null}}}Pu.GOOGLE_SIGN_IN_METHOD="google.com";Pu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends dy{constructor(){super("github.com")}static credential(e){return Df._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cu.credential(e.oauthAccessToken)}catch{return null}}}Cu.GITHUB_SIGN_IN_METHOD="github.com";Cu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends dy{constructor(){super("twitter.com")}static credential(e,r){return Df._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ku.credential(r,n)}catch{return null}}}ku.TWITTER_SIGN_IN_METHOD="twitter.com";ku.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mee(t,e){return uy(t,"POST","/v1/accounts:signUp",hd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await co._fromIdTokenResponse(e,n,i),s=rI(n);return new Mf({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=rI(n);return new Mf({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function rI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw extends xo{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Aw.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Aw(e,r,n,i)}}function E9(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Aw._fromErrorAndOperation(t,a,e,n):a})}async function Fee(t,e,r=!1){const n=await O0(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Mf._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bee(t,e,r=!1){const{auth:n}=t;if(gs(n.app))return Promise.reject(cc(n));const i="reauthenticate";try{const a=await O0(t,E9(n,i,e,t),r);St(a.idToken,n,"internal-error");const s=N3(a.idToken);St(s,n,"internal-error");const{sub:o}=s;return St(t.uid===o,n,"user-mismatch"),Mf._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&go(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(t,e,r=!1){if(gs(t.app))return Promise.reject(cc(t));const n="signIn",i=await E9(t,n,e),a=await Mf._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function Uee(t,e){return A9(Qf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t){const e=Qf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $ee(t,e,r){if(gs(t.app))return Promise.reject(cc(t));const n=Qf(t),s=await kS(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mee).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&S9(t),l}),o=await Mf._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function Vee(t,e,r){return gs(t.app)?Promise.reject(cc(t)):Uee(on(t),Em.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&S9(t),n})}function zee(t,e,r,n){return on(t).onIdTokenChanged(e,r,n)}function qee(t,e,r){return on(t).beforeAuthStateChanged(e,r)}function Wee(t,e,r,n){return on(t).onAuthStateChanged(e,r,n)}function Hee(t){return on(t).signOut()}const Sw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Sw,"1"),this.storage.removeItem(Sw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gee=1e3,Kee=10;class T9 extends N9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);dee()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Kee):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Gee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}T9.type="LOCAL";const Yee=T9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9 extends N9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}P9.type="SESSION";const C9=P9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Qb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async c=>c(r.origin,a)),l=await Xee(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=k3("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(){return window}function Qee(t){sl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(){return typeof sl().WorkerGlobalScope<"u"&&typeof sl().importScripts=="function"}async function Zee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ete(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function tte(){return k9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="firebaseLocalStorageDb",rte=1,Nw="firebaseLocalStorage",j9="fbase_key";class fy{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Zb(t,e){return t.transaction([Nw],e?"readwrite":"readonly").objectStore(Nw)}function nte(){const t=indexedDB.deleteDatabase(I9);return new fy(t).toPromise()}function IS(){const t=indexedDB.open(I9,rte);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Nw,{keyPath:j9})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Nw)?e(n):(n.close(),await nte(),e(await IS()))})})}async function nI(t,e,r){const n=Zb(t,!0).put({[j9]:e,value:r});return new fy(n).toPromise()}async function ite(t,e){const r=Zb(t,!1).get(e),n=await new fy(r).toPromise();return n===void 0?null:n.value}function iI(t,e){const r=Zb(t,!0).delete(e);return new fy(r).toPromise()}const ate=800,ste=3;class O9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await IS(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>ste)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qb._getInstance(tte()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Zee(),!this.activeServiceWorker)return;this.sender=new Jee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ete()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await IS();return await nI(e,Sw,"1"),await iI(e,Sw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>nI(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>ite(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>iI(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Zb(i,!1).getAll();return new fy(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ate)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O9.type="LOCAL";const ote=O9;new cy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(t,e){return e?rc(e):(St(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3 extends P3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ap(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ap(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ap(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function cte(t){return A9(t.auth,new I3(t),t.bypassAuthState)}function ute(t){const{auth:e,user:r}=t;return St(r,e,"internal-error"),Bee(r,new I3(t),t.bypassAuthState)}async function dte(t){const{auth:e,user:r}=t;return St(r,e,"internal-error"),Fee(r,new I3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cte;case"linkViaPopup":case"linkViaRedirect":return dte;case"reauthViaPopup":case"reauthViaRedirect":return ute;default:go(this.auth,"internal-error")}}resolve(e){bc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fte=new cy(2e3,1e4);class dp extends R9{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,dp.currentPopupAction&&dp.currentPopupAction.cancel(),dp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return St(e,this.auth,"internal-error"),e}async onExecution(){bc(this.filter.length===1,"Popup operations only handle one event");const e=k3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(al(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(al(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(al(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fte.get())};e()}}dp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte="pendingRedirect",C1=new Map;class pte extends R9{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=C1.get(this.auth._key());if(!e){try{const n=await mte(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}C1.set(this.auth._key(),e)}return this.bypassAuthState||C1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mte(t,e){const r=vte(e),n=yte(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function gte(t,e){C1.set(t._key(),e)}function yte(t){return rc(t._redirectPersistence)}function vte(t){return P1(hte,t.config.apiKey,t.name)}async function wte(t,e,r=!1){if(gs(t.app))return Promise.reject(cc(t));const n=Qf(t),i=lte(n,e),s=await new pte(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte=10*60*1e3;class xte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_te(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!L9(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(al(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bte&&this.cachedEventUids.clear(),this.cachedEventUids.has(aI(e))}saveEventToCache(e){this.cachedEventUids.add(aI(e)),this.lastProcessedEventTime=Date.now()}}function aI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function L9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _te(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ete(t,e={}){return pd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ate=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ste=/^https?/;async function Nte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ete(t);for(const r of e)try{if(Tte(r))return}catch{}go(t,"unauthorized-domain")}function Tte(t){const e=PS(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!Ste.test(r))return!1;if(Ate.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pte=new cy(3e4,6e4);function sI(){const t=sl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Cte(t){return new Promise((e,r)=>{var i,a,s;function n(){sI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sI(),r(al(t,"network-request-failed"))},timeout:Pte.get()})}if((a=(i=sl().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=sl().gapi)!=null&&s.load)n();else{const o=bee("iframefcb");return sl()[o]=()=>{gapi.load?n():r(al(t,"network-request-failed"))},w9(`${wee()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw k1=null,e})}let k1=null;function kte(t){return k1=k1||Cte(t),k1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ite=new cy(5e3,15e3),jte="__/auth/iframe",Ote="emulator/auth/iframe",Rte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dte(t){const e=t.config;St(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?S3(e,Ote):`https://${t.config.authDomain}/${jte}`,n={apiKey:e.apiKey,appName:t.name,v:_m},i=Lte.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${ly(n).slice(1)}`}async function Mte(t){const e=await kte(t),r=sl().gapi;return St(r,t,"internal-error"),e.open({where:document.body,url:Dte(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rte,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=al(t,"network-request-failed"),o=sl().setTimeout(()=>{a(s)},Ite.get());function l(){sl().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bte=500,Ute=600,$te="_blank",Vte="http://localhost";class oI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zte(t,e,r,n=Bte,i=Ute){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...Fte,width:n.toString(),height:i.toString(),top:a,left:s},c=Fi().toLowerCase();r&&(o=f9(c)?$te:r),u9(c)&&(e=e||Vte,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[h,y])=>`${p}${h}=${y},`,"");if(uee(c)&&o!=="_self")return qte(e||"",o),new oI(null);const f=window.open(e||"",o,u);St(f,t,"popup-blocked");try{f.focus()}catch{}return new oI(f)}function qte(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wte="__/auth/handler",Hte="emulator/auth/handler",Gte=encodeURIComponent("fac");async function lI(t,e,r,n,i,a){St(t.config.authDomain,t,"auth-domain-config-required"),St(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:_m,eventId:i};if(e instanceof _9){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",CQ(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof dy){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${Gte}=${encodeURIComponent(l)}`:"";return`${Kte(t)}?${ly(o).slice(1)}${c}`}function Kte({config:t}){return t.emulator?S3(t,Hte):`https://${t.authDomain}/${Wte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="webStorageSupport";class Yte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C9,this._completeRedirectFn=wte,this._overrideRedirectResult=gte}async _openPopup(e,r,n,i){var s;bc((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await lI(e,r,n,PS(),i);return zte(e,a,k3())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await lI(e,r,n,PS(),i);return Qee(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(bc(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Mte(e),n=new xte(e);return r.register("authEvent",i=>(St(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(z5,{type:z5},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[z5];a!==void 0&&r(!!a),go(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Nte(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return y9()||d9()||T3()}}const Xte=Yte;var cI="@firebase/auth",uI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zte(t){pl(new mo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;St(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v9(t)},c=new gee(n,i,a,l);return Nee(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),pl(new mo("auth-internal",e=>{const r=Qf(e.getProvider("auth").getImmediate());return(n=>new Jte(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(cI,uI,Qte(t)),xs(cI,uI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ere=5*60,tre=qF("authIdTokenMaxAge")||ere;let dI=null;const rre=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>tre)return;const i=r==null?void 0:r.token;dI!==i&&(dI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nre(t=E3()){const e=Jf(t,"auth");if(e.isInitialized())return e.getImmediate();const r=See(t,{popupRedirectResolver:Xte,persistence:[ote,Yee,C9]}),n=qF("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=rre(a.toString());qee(r,s,()=>s(r.currentUser)),zee(r,o=>s(o))}}const i=VF("auth");return i&&Tee(r,`http://${i}`),r}function ire(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}yee({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=al("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",ire().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zte("Browser");var fI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gu,D9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,k){function T(){}T.prototype=k.prototype,P.D=k.prototype,P.prototype=new T,P.prototype.constructor=P,P.C=function(W,M,A){for(var I=Array(arguments.length-2),L=2;L<arguments.length;L++)I[L-2]=arguments[L];return k.prototype[M].apply(W,I)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,k,T){T||(T=0);var W=Array(16);if(typeof k=="string")for(var M=0;16>M;++M)W[M]=k.charCodeAt(T++)|k.charCodeAt(T++)<<8|k.charCodeAt(T++)<<16|k.charCodeAt(T++)<<24;else for(M=0;16>M;++M)W[M]=k[T++]|k[T++]<<8|k[T++]<<16|k[T++]<<24;k=P.g[0],T=P.g[1],M=P.g[2];var A=P.g[3],I=k+(A^T&(M^A))+W[0]+3614090360&4294967295;k=T+(I<<7&4294967295|I>>>25),I=A+(M^k&(T^M))+W[1]+3905402710&4294967295,A=k+(I<<12&4294967295|I>>>20),I=M+(T^A&(k^T))+W[2]+606105819&4294967295,M=A+(I<<17&4294967295|I>>>15),I=T+(k^M&(A^k))+W[3]+3250441966&4294967295,T=M+(I<<22&4294967295|I>>>10),I=k+(A^T&(M^A))+W[4]+4118548399&4294967295,k=T+(I<<7&4294967295|I>>>25),I=A+(M^k&(T^M))+W[5]+1200080426&4294967295,A=k+(I<<12&4294967295|I>>>20),I=M+(T^A&(k^T))+W[6]+2821735955&4294967295,M=A+(I<<17&4294967295|I>>>15),I=T+(k^M&(A^k))+W[7]+4249261313&4294967295,T=M+(I<<22&4294967295|I>>>10),I=k+(A^T&(M^A))+W[8]+1770035416&4294967295,k=T+(I<<7&4294967295|I>>>25),I=A+(M^k&(T^M))+W[9]+2336552879&4294967295,A=k+(I<<12&4294967295|I>>>20),I=M+(T^A&(k^T))+W[10]+4294925233&4294967295,M=A+(I<<17&4294967295|I>>>15),I=T+(k^M&(A^k))+W[11]+2304563134&4294967295,T=M+(I<<22&4294967295|I>>>10),I=k+(A^T&(M^A))+W[12]+1804603682&4294967295,k=T+(I<<7&4294967295|I>>>25),I=A+(M^k&(T^M))+W[13]+4254626195&4294967295,A=k+(I<<12&4294967295|I>>>20),I=M+(T^A&(k^T))+W[14]+2792965006&4294967295,M=A+(I<<17&4294967295|I>>>15),I=T+(k^M&(A^k))+W[15]+1236535329&4294967295,T=M+(I<<22&4294967295|I>>>10),I=k+(M^A&(T^M))+W[1]+4129170786&4294967295,k=T+(I<<5&4294967295|I>>>27),I=A+(T^M&(k^T))+W[6]+3225465664&4294967295,A=k+(I<<9&4294967295|I>>>23),I=M+(k^T&(A^k))+W[11]+643717713&4294967295,M=A+(I<<14&4294967295|I>>>18),I=T+(A^k&(M^A))+W[0]+3921069994&4294967295,T=M+(I<<20&4294967295|I>>>12),I=k+(M^A&(T^M))+W[5]+3593408605&4294967295,k=T+(I<<5&4294967295|I>>>27),I=A+(T^M&(k^T))+W[10]+38016083&4294967295,A=k+(I<<9&4294967295|I>>>23),I=M+(k^T&(A^k))+W[15]+3634488961&4294967295,M=A+(I<<14&4294967295|I>>>18),I=T+(A^k&(M^A))+W[4]+3889429448&4294967295,T=M+(I<<20&4294967295|I>>>12),I=k+(M^A&(T^M))+W[9]+568446438&4294967295,k=T+(I<<5&4294967295|I>>>27),I=A+(T^M&(k^T))+W[14]+3275163606&4294967295,A=k+(I<<9&4294967295|I>>>23),I=M+(k^T&(A^k))+W[3]+4107603335&4294967295,M=A+(I<<14&4294967295|I>>>18),I=T+(A^k&(M^A))+W[8]+1163531501&4294967295,T=M+(I<<20&4294967295|I>>>12),I=k+(M^A&(T^M))+W[13]+2850285829&4294967295,k=T+(I<<5&4294967295|I>>>27),I=A+(T^M&(k^T))+W[2]+4243563512&4294967295,A=k+(I<<9&4294967295|I>>>23),I=M+(k^T&(A^k))+W[7]+1735328473&4294967295,M=A+(I<<14&4294967295|I>>>18),I=T+(A^k&(M^A))+W[12]+2368359562&4294967295,T=M+(I<<20&4294967295|I>>>12),I=k+(T^M^A)+W[5]+4294588738&4294967295,k=T+(I<<4&4294967295|I>>>28),I=A+(k^T^M)+W[8]+2272392833&4294967295,A=k+(I<<11&4294967295|I>>>21),I=M+(A^k^T)+W[11]+1839030562&4294967295,M=A+(I<<16&4294967295|I>>>16),I=T+(M^A^k)+W[14]+4259657740&4294967295,T=M+(I<<23&4294967295|I>>>9),I=k+(T^M^A)+W[1]+2763975236&4294967295,k=T+(I<<4&4294967295|I>>>28),I=A+(k^T^M)+W[4]+1272893353&4294967295,A=k+(I<<11&4294967295|I>>>21),I=M+(A^k^T)+W[7]+4139469664&4294967295,M=A+(I<<16&4294967295|I>>>16),I=T+(M^A^k)+W[10]+3200236656&4294967295,T=M+(I<<23&4294967295|I>>>9),I=k+(T^M^A)+W[13]+681279174&4294967295,k=T+(I<<4&4294967295|I>>>28),I=A+(k^T^M)+W[0]+3936430074&4294967295,A=k+(I<<11&4294967295|I>>>21),I=M+(A^k^T)+W[3]+3572445317&4294967295,M=A+(I<<16&4294967295|I>>>16),I=T+(M^A^k)+W[6]+76029189&4294967295,T=M+(I<<23&4294967295|I>>>9),I=k+(T^M^A)+W[9]+3654602809&4294967295,k=T+(I<<4&4294967295|I>>>28),I=A+(k^T^M)+W[12]+3873151461&4294967295,A=k+(I<<11&4294967295|I>>>21),I=M+(A^k^T)+W[15]+530742520&4294967295,M=A+(I<<16&4294967295|I>>>16),I=T+(M^A^k)+W[2]+3299628645&4294967295,T=M+(I<<23&4294967295|I>>>9),I=k+(M^(T|~A))+W[0]+4096336452&4294967295,k=T+(I<<6&4294967295|I>>>26),I=A+(T^(k|~M))+W[7]+1126891415&4294967295,A=k+(I<<10&4294967295|I>>>22),I=M+(k^(A|~T))+W[14]+2878612391&4294967295,M=A+(I<<15&4294967295|I>>>17),I=T+(A^(M|~k))+W[5]+4237533241&4294967295,T=M+(I<<21&4294967295|I>>>11),I=k+(M^(T|~A))+W[12]+1700485571&4294967295,k=T+(I<<6&4294967295|I>>>26),I=A+(T^(k|~M))+W[3]+2399980690&4294967295,A=k+(I<<10&4294967295|I>>>22),I=M+(k^(A|~T))+W[10]+4293915773&4294967295,M=A+(I<<15&4294967295|I>>>17),I=T+(A^(M|~k))+W[1]+2240044497&4294967295,T=M+(I<<21&4294967295|I>>>11),I=k+(M^(T|~A))+W[8]+1873313359&4294967295,k=T+(I<<6&4294967295|I>>>26),I=A+(T^(k|~M))+W[15]+4264355552&4294967295,A=k+(I<<10&4294967295|I>>>22),I=M+(k^(A|~T))+W[6]+2734768916&4294967295,M=A+(I<<15&4294967295|I>>>17),I=T+(A^(M|~k))+W[13]+1309151649&4294967295,T=M+(I<<21&4294967295|I>>>11),I=k+(M^(T|~A))+W[4]+4149444226&4294967295,k=T+(I<<6&4294967295|I>>>26),I=A+(T^(k|~M))+W[11]+3174756917&4294967295,A=k+(I<<10&4294967295|I>>>22),I=M+(k^(A|~T))+W[2]+718787259&4294967295,M=A+(I<<15&4294967295|I>>>17),I=T+(A^(M|~k))+W[9]+3951481745&4294967295,P.g[0]=P.g[0]+k&4294967295,P.g[1]=P.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+A&4294967295}n.prototype.u=function(P,k){k===void 0&&(k=P.length);for(var T=k-this.blockSize,W=this.B,M=this.h,A=0;A<k;){if(M==0)for(;A<=T;)i(this,P,A),A+=this.blockSize;if(typeof P=="string"){for(;A<k;)if(W[M++]=P.charCodeAt(A++),M==this.blockSize){i(this,W),M=0;break}}else for(;A<k;)if(W[M++]=P[A++],M==this.blockSize){i(this,W),M=0;break}}this.h=M,this.o+=k},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var k=1;k<P.length-8;++k)P[k]=0;var T=8*this.o;for(k=P.length-8;k<P.length;++k)P[k]=T&255,T/=256;for(this.u(P),P=Array(16),k=T=0;4>k;++k)for(var W=0;32>W;W+=8)P[T++]=this.g[k]>>>W&255;return P};function a(P,k){var T=o;return Object.prototype.hasOwnProperty.call(T,P)?T[P]:T[P]=k(P)}function s(P,k){this.h=k;for(var T=[],W=!0,M=P.length-1;0<=M;M--){var A=P[M]|0;W&&A==k||(T[M]=A,W=!1)}this.g=T}var o={};function l(P){return-128<=P&&128>P?a(P,function(k){return new s([k|0],0>k?-1:0)}):new s([P|0],0>P?-1:0)}function c(P){if(isNaN(P)||!isFinite(P))return f;if(0>P)return w(c(-P));for(var k=[],T=1,W=0;P>=T;W++)k[W]=P/T|0,T*=4294967296;return new s(k,0)}function u(P,k){if(P.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P.charAt(0)=="-")return w(u(P.substring(1),k));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(k,8)),W=f,M=0;M<P.length;M+=8){var A=Math.min(8,P.length-M),I=parseInt(P.substring(M,M+A),k);8>A?(A=c(Math.pow(k,A)),W=W.j(A).add(c(I))):(W=W.j(T),W=W.add(c(I)))}return W}var f=l(0),p=l(1),h=l(16777216);t=s.prototype,t.m=function(){if(m(this))return-w(this).m();for(var P=0,k=1,T=0;T<this.g.length;T++){var W=this.i(T);P+=(0<=W?W:4294967296+W)*k,k*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(y(this))return"0";if(m(this))return"-"+w(this).toString(P);for(var k=c(Math.pow(P,6)),T=this,W="";;){var M=E(T,k).g;T=g(T,M.j(k));var A=((0<T.g.length?T.g[0]:T.h)>>>0).toString(P);if(T=M,y(T))return A+W;for(;6>A.length;)A="0"+A;W=A+W}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function y(P){if(P.h!=0)return!1;for(var k=0;k<P.g.length;k++)if(P.g[k]!=0)return!1;return!0}function m(P){return P.h==-1}t.l=function(P){return P=g(this,P),m(P)?-1:y(P)?0:1};function w(P){for(var k=P.g.length,T=[],W=0;W<k;W++)T[W]=~P.g[W];return new s(T,~P.h).add(p)}t.abs=function(){return m(this)?w(this):this},t.add=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],W=0,M=0;M<=k;M++){var A=W+(this.i(M)&65535)+(P.i(M)&65535),I=(A>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);W=I>>>16,A&=65535,I&=65535,T[M]=I<<16|A}return new s(T,T[T.length-1]&-2147483648?-1:0)};function g(P,k){return P.add(w(k))}t.j=function(P){if(y(this)||y(P))return f;if(m(this))return m(P)?w(this).j(w(P)):w(w(this).j(P));if(m(P))return w(this.j(w(P)));if(0>this.l(h)&&0>P.l(h))return c(this.m()*P.m());for(var k=this.g.length+P.g.length,T=[],W=0;W<2*k;W++)T[W]=0;for(W=0;W<this.g.length;W++)for(var M=0;M<P.g.length;M++){var A=this.i(W)>>>16,I=this.i(W)&65535,L=P.i(M)>>>16,se=P.i(M)&65535;T[2*W+2*M]+=I*se,v(T,2*W+2*M),T[2*W+2*M+1]+=A*se,v(T,2*W+2*M+1),T[2*W+2*M+1]+=I*L,v(T,2*W+2*M+1),T[2*W+2*M+2]+=A*L,v(T,2*W+2*M+2)}for(W=0;W<k;W++)T[W]=T[2*W+1]<<16|T[2*W];for(W=k;W<2*k;W++)T[W]=0;return new s(T,0)};function v(P,k){for(;(P[k]&65535)!=P[k];)P[k+1]+=P[k]>>>16,P[k]&=65535,k++}function x(P,k){this.g=P,this.h=k}function E(P,k){if(y(k))throw Error("division by zero");if(y(P))return new x(f,f);if(m(P))return k=E(w(P),k),new x(w(k.g),w(k.h));if(m(k))return k=E(P,w(k)),new x(w(k.g),k.h);if(30<P.g.length){if(m(P)||m(k))throw Error("slowDivide_ only works with positive integers.");for(var T=p,W=k;0>=W.l(P);)T=S(T),W=S(W);var M=C(T,1),A=C(W,1);for(W=C(W,2),T=C(T,2);!y(W);){var I=A.add(W);0>=I.l(P)&&(M=M.add(T),A=I),W=C(W,1),T=C(T,1)}return k=g(P,M.j(k)),new x(M,k)}for(M=f;0<=P.l(k);){for(T=Math.max(1,Math.floor(P.m()/k.m())),W=Math.ceil(Math.log(T)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),A=c(T),I=A.j(k);m(I)||0<I.l(P);)T-=W,A=c(T),I=A.j(k);y(A)&&(A=p),M=M.add(A),P=g(P,I)}return new x(M,P)}t.A=function(P){return E(this,P).h},t.and=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],W=0;W<k;W++)T[W]=this.i(W)&P.i(W);return new s(T,this.h&P.h)},t.or=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],W=0;W<k;W++)T[W]=this.i(W)|P.i(W);return new s(T,this.h|P.h)},t.xor=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],W=0;W<k;W++)T[W]=this.i(W)^P.i(W);return new s(T,this.h^P.h)};function S(P){for(var k=P.g.length+1,T=[],W=0;W<k;W++)T[W]=P.i(W)<<1|P.i(W-1)>>>31;return new s(T,P.h)}function C(P,k){var T=k>>5;k%=32;for(var W=P.g.length-T,M=[],A=0;A<W;A++)M[A]=0<k?P.i(A+T)>>>k|P.i(A+T+1)<<32-k:P.i(A+T);return new s(M,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,D9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Gu=s}).apply(typeof fI<"u"?fI:typeof self<"u"?self:typeof window<"u"?window:{});var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M9,Ug,F9,I1,jS,B9,U9,$9;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,z,Y){return _==Array.prototype||_==Object.prototype||(_[z]=Y.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iv=="object"&&Iv];for(var z=0;z<_.length;++z){var Y=_[z];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var n=r(this);function i(_,z){if(z)e:{var Y=n;_=_.split(".");for(var me=0;me<_.length-1;me++){var je=_[me];if(!(je in Y))break e;Y=Y[je]}_=_[_.length-1],me=Y[_],z=z(me),z!=me&&z!=null&&e(Y,_,{configurable:!0,writable:!0,value:z})}}function a(_,z){_ instanceof String&&(_+="");var Y=0,me=!1,je={next:function(){if(!me&&Y<_.length){var Me=Y++;return{value:z(Me,_[Me]),done:!1}}return me=!0,{done:!0,value:void 0}}};return je[Symbol.iterator]=function(){return je},je}i("Array.prototype.values",function(_){return _||function(){return a(this,function(z,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(_){var z=typeof _;return z=z!="object"?z:_?Array.isArray(_)?"array":z:"null",z=="array"||z=="object"&&typeof _.length=="number"}function c(_){var z=typeof _;return z=="object"&&_!=null||z=="function"}function u(_,z,Y){return _.call.apply(_.bind,arguments)}function f(_,z,Y){if(!_)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(je,me),_.apply(z,je)}}return function(){return _.apply(z,arguments)}}function p(_,z,Y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,p.apply(null,arguments)}function h(_,z){var Y=Array.prototype.slice.call(arguments,1);return function(){var me=Y.slice();return me.push.apply(me,arguments),_.apply(this,me)}}function y(_,z){function Y(){}Y.prototype=z.prototype,_.aa=z.prototype,_.prototype=new Y,_.prototype.constructor=_,_.Qb=function(me,je,Me){for(var Je=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Je[kt-2]=arguments[kt];return z.prototype[je].apply(me,Je)}}function m(_){const z=_.length;if(0<z){const Y=Array(z);for(let me=0;me<z;me++)Y[me]=_[me];return Y}return[]}function w(_,z){for(let Y=1;Y<arguments.length;Y++){const me=arguments[Y];if(l(me)){const je=_.length||0,Me=me.length||0;_.length=je+Me;for(let Je=0;Je<Me;Je++)_[je+Je]=me[Je]}else _.push(me)}}class g{constructor(z,Y){this.i=z,this.j=Y,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function v(_){return/^[\s\xa0]*$/.test(_)}function x(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function E(_){return E[" "](_),_}E[" "]=function(){};var S=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function C(_,z,Y){for(const me in _)z.call(Y,_[me],me,_)}function P(_,z){for(const Y in _)z.call(void 0,_[Y],Y,_)}function k(_){const z={};for(const Y in _)z[Y]=_[Y];return z}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(_,z){let Y,me;for(let je=1;je<arguments.length;je++){me=arguments[je];for(Y in me)_[Y]=me[Y];for(let Me=0;Me<T.length;Me++)Y=T[Me],Object.prototype.hasOwnProperty.call(me,Y)&&(_[Y]=me[Y])}}function M(_){var z=1;_=_.split(":");const Y=[];for(;0<z&&_.length;)Y.push(_.shift()),z--;return _.length&&Y.push(_.join(":")),Y}function A(_){o.setTimeout(()=>{throw _},0)}function I(){var _=ue;let z=null;return _.g&&(z=_.g,_.g=_.g.next,_.g||(_.h=null),z.next=null),z}class L{constructor(){this.h=this.g=null}add(z,Y){const me=se.get();me.set(z,Y),this.h?this.h.next=me:this.g=me,this.h=me}}var se=new g(()=>new pe,_=>_.reset());class pe{constructor(){this.next=this.g=this.h=null}set(z,Y){this.h=z,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ce=!1,ue=new L,xe=()=>{const _=o.Promise.resolve(void 0);X=()=>{_.then(we)}};var we=()=>{for(var _;_=I();){try{_.h.call(_.g)}catch(Y){A(Y)}var z=se;z.j(_),100>z.h&&(z.h++,_.next=z.g,z.g=_)}ce=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(_,z){this.type=_,this.g=this.target=z,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,z=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const Y=()=>{};o.addEventListener("test",Y,z),o.removeEventListener("test",Y,z)}catch{}return _}();function fe(_,z){if(J.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var Y=this.type=_.type,me=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=z,z=_.relatedTarget){if(S){e:{try{E(z.nodeName);var je=!0;break e}catch{}je=!1}je||(z=null)}}else Y=="mouseover"?z=_.fromElement:Y=="mouseout"&&(z=_.toElement);this.relatedTarget=z,me?(this.clientX=me.clientX!==void 0?me.clientX:me.pageX,this.clientY=me.clientY!==void 0?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:Q[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&fe.aa.h.call(this)}}y(fe,J);var Q={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),V=0;function te(_,z,Y,me,je){this.listener=_,this.proxy=null,this.src=z,this.type=Y,this.capture=!!me,this.ha=je,this.key=++V,this.da=this.fa=!1}function ae(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Z(_){this.src=_,this.g={},this.h=0}Z.prototype.add=function(_,z,Y,me,je){var Me=_.toString();_=this.g[Me],_||(_=this.g[Me]=[],this.h++);var Je=_e(_,z,me,je);return-1<Je?(z=_[Je],Y||(z.fa=!1)):(z=new te(z,this.src,Me,!!me,je),z.fa=Y,_.push(z)),z};function ee(_,z){var Y=z.type;if(Y in _.g){var me=_.g[Y],je=Array.prototype.indexOf.call(me,z,void 0),Me;(Me=0<=je)&&Array.prototype.splice.call(me,je,1),Me&&(ae(z),_.g[Y].length==0&&(delete _.g[Y],_.h--))}}function _e(_,z,Y,me){for(var je=0;je<_.length;++je){var Me=_[je];if(!Me.da&&Me.listener==z&&Me.capture==!!Y&&Me.ha==me)return je}return-1}var H="closure_lm_"+(1e6*Math.random()|0),ve={};function B(_,z,Y,me,je){if(Array.isArray(z)){for(var Me=0;Me<z.length;Me++)B(_,z[Me],Y,me,je);return null}return Y=Se(Y),_&&_[$]?_.K(z,Y,c(me)?!!me.capture:!!me,je):j(_,z,Y,!1,me,je)}function j(_,z,Y,me,je,Me){if(!z)throw Error("Invalid event type");var Je=c(je)?!!je.capture:!!je,kt=Ae(_);if(kt||(_[H]=kt=new Z(_)),Y=kt.add(z,Y,me,Je,Me),Y.proxy)return Y;if(me=R(),Y.proxy=me,me.src=_,me.listener=Y,_.addEventListener)ie||(je=Je),je===void 0&&(je=!1),_.addEventListener(z.toString(),me,je);else if(_.attachEvent)_.attachEvent(ne(z.toString()),me);else if(_.addListener&&_.removeListener)_.addListener(me);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function R(){function _(Y){return z.call(_.src,_.listener,Y)}const z=re;return _}function q(_,z,Y,me,je){if(Array.isArray(z))for(var Me=0;Me<z.length;Me++)q(_,z[Me],Y,me,je);else me=c(me)?!!me.capture:!!me,Y=Se(Y),_&&_[$]?(_=_.i,z=String(z).toString(),z in _.g&&(Me=_.g[z],Y=_e(Me,Y,me,je),-1<Y&&(ae(Me[Y]),Array.prototype.splice.call(Me,Y,1),Me.length==0&&(delete _.g[z],_.h--)))):_&&(_=Ae(_))&&(z=_.g[z.toString()],_=-1,z&&(_=_e(z,Y,me,je)),(Y=-1<_?z[_]:null)&&G(Y))}function G(_){if(typeof _!="number"&&_&&!_.da){var z=_.src;if(z&&z[$])ee(z.i,_);else{var Y=_.type,me=_.proxy;z.removeEventListener?z.removeEventListener(Y,me,_.capture):z.detachEvent?z.detachEvent(ne(Y),me):z.addListener&&z.removeListener&&z.removeListener(me),(Y=Ae(z))?(ee(Y,_),Y.h==0&&(Y.src=null,z[H]=null)):ae(_)}}}function ne(_){return _ in ve?ve[_]:ve[_]="on"+_}function re(_,z){if(_.da)_=!0;else{z=new fe(z,this);var Y=_.listener,me=_.ha||_.src;_.fa&&G(_),_=Y.call(me,z)}return _}function Ae(_){return _=_[H],_ instanceof Z?_:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(_){return typeof _=="function"?_:(_[Ne]||(_[Ne]=function(z){return _.handleEvent(z)}),_[Ne])}function Ie(){F.call(this),this.i=new Z(this),this.M=this,this.F=null}y(Ie,F),Ie.prototype[$]=!0,Ie.prototype.removeEventListener=function(_,z,Y,me){q(this,_,z,Y,me)};function Fe(_,z){var Y,me=_.F;if(me)for(Y=[];me;me=me.F)Y.push(me);if(_=_.M,me=z.type||z,typeof z=="string")z=new J(z,_);else if(z instanceof J)z.target=z.target||_;else{var je=z;z=new J(me,_),W(z,je)}if(je=!0,Y)for(var Me=Y.length-1;0<=Me;Me--){var Je=z.g=Y[Me];je=Ke(Je,me,!0,z)&&je}if(Je=z.g=_,je=Ke(Je,me,!0,z)&&je,je=Ke(Je,me,!1,z)&&je,Y)for(Me=0;Me<Y.length;Me++)Je=z.g=Y[Me],je=Ke(Je,me,!1,z)&&je}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var _=this.i,z;for(z in _.g){for(var Y=_.g[z],me=0;me<Y.length;me++)ae(Y[me]);delete _.g[z],_.h--}}this.F=null},Ie.prototype.K=function(_,z,Y,me){return this.i.add(String(_),z,!1,Y,me)},Ie.prototype.L=function(_,z,Y,me){return this.i.add(String(_),z,!0,Y,me)};function Ke(_,z,Y,me){if(z=_.i.g[String(z)],!z)return!0;z=z.concat();for(var je=!0,Me=0;Me<z.length;++Me){var Je=z[Me];if(Je&&!Je.da&&Je.capture==Y){var kt=Je.listener,Vt=Je.ha||Je.src;Je.fa&&ee(_.i,Je),je=kt.call(Vt,me)!==!1&&je}}return je&&!me.defaultPrevented}function nt(_,z,Y){if(typeof _=="function")Y&&(_=p(_,Y));else if(_&&typeof _.handleEvent=="function")_=p(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:o.setTimeout(_,z||0)}function bt(_){_.g=nt(()=>{_.g=null,_.i&&(_.i=!1,bt(_))},_.l);const z=_.h;_.h=null,_.m.apply(null,z)}class et extends F{constructor(z,Y){super(),this.m=z,this.l=Y,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(_){F.call(this),this.h=_,this.g={}}y(ar,F);var gt=[];function qr(_){C(_.g,function(z,Y){this.g.hasOwnProperty(Y)&&G(z)},_),_.g={}}ar.prototype.N=function(){ar.aa.N.call(this),qr(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ut=o.JSON.stringify,Dt=o.JSON.parse,ai=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function Mt(){}Mt.prototype.h=null;function Qa(_){return _.h||(_.h=_.i())}function xr(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){J.call(this,"d")}y(Bn,J);function nr(){J.call(this,"c")}y(nr,J);var _t={},Jt=null;function Za(){return Jt=Jt||new Ie}_t.La="serverreachability";function Sn(_){J.call(this,_t.La,_)}y(Sn,J);function wi(_){const z=Za();Fe(z,new Sn(z))}_t.STAT_EVENT="statevent";function Ta(_,z){J.call(this,_t.STAT_EVENT,_),this.stat=z}y(Ta,J);function dt(_){const z=Za();Fe(z,new Ta(z,_))}_t.Ma="timingevent";function ia(_,z){J.call(this,_t.Ma,_),this.size=z}y(ia,J);function bi(_,z){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},z)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function ln(_,z,Y,me,je,Me){_.info(function(){if(_.g)if(Me)for(var Je="",kt=Me.split("&"),Vt=0;Vt<kt.length;Vt++){var It=kt[Vt].split("=");if(1<It.length){var or=It[0];It=It[1];var _r=or.split("_");Je=2<=_r.length&&_r[1]=="type"?Je+(or+"="+It+"&"):Je+(or+"=redacted&")}}else Je=null;else Je=Me;return"XMLHTTP REQ ("+me+") [attempt "+je+"]: "+z+`
`+Y+`
`+Je})}function Jr(_,z,Y,me,je,Me,Je){_.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+je+"]: "+z+`
`+Y+`
`+Me+" "+Je})}function Tn(_,z,Y,me){_.info(function(){return"XMLHTTP TEXT ("+z+"): "+Ds(_,Y)+(me?" "+me:"")})}function Mc(_,z){_.info(function(){return"TIMEOUT: "+z})}Nn.prototype.info=function(){};function Ds(_,z){if(!_.g)return z;if(!z)return null;try{var Y=JSON.parse(z);if(Y){for(_=0;_<Y.length;_++)if(Array.isArray(Y[_])){var me=Y[_];if(!(2>me.length)){var je=me[1];if(Array.isArray(je)&&!(1>je.length)){var Me=je[0];if(Me!="noop"&&Me!="stop"&&Me!="close")for(var Je=1;Je<je.length;Je++)je[Je]=""}}}}return Ut(Y)}catch{return z}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ui;function $i(){}y($i,Mt),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},Ui=new $i;function cn(_,z,Y,me){this.j=_,this.i=z,this.l=Y,this.R=me||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pa}function Pa(){this.i=null,this.g="",this.h=!1}var No={},To={};function Po(_,z,Y){_.L=1,_.v=Cl(Vi(z)),_.m=Y,_.P=!0,Al(_,null)}function Al(_,z){_.F=Date.now(),Fc(_),_.A=Vi(_.v);var Y=_.A,me=_.R;Array.isArray(me)||(me=[String(me)]),Tt(Y.i,"t",me),_.C=0,Y=_.j.J,_.h=new Pa,_.g=oe(_.j,Y?z:null,!_.m),0<_.O&&(_.M=new et(p(_.Y,_,_.g),_.O)),z=_.U,Y=_.g,me=_.ca;var je="readystatechange";Array.isArray(je)||(je&&(gt[0]=je.toString()),je=gt);for(var Me=0;Me<je.length;Me++){var Je=B(Y,je[Me],me||z.handleEvent,!1,z.h||z);if(!Je)break;z.g[Je.key]=Je}z=_.H?k(_.H):{},_.m?(_.u||(_.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,z)):(_.u="GET",_.g.ea(_.A,_.u,null,z)),wi(),ln(_.i,_.u,_.A,_.l,_.R,_.m)}cn.prototype.ca=function(_){_=_.target;const z=this.M;z&&Un(_)==3?z.j():this.Y(_)},cn.prototype.Y=function(_){try{if(_==this.g)e:{const _r=Un(this.g);var z=this.g.Ba();const qs=this.g.Z();if(!(3>_r)&&(_r!=3||this.g&&(this.h.h||this.g.oa()||bh(this.g)))){this.J||_r!=4||z==7||(z==8||0>=qs?wi(3):wi(2)),Co(this);var Y=this.g.Z();this.X=Y;t:if(Sl(this)){var me=bh(this.g);_="";var je=me.length,Me=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),ko(this);var Je="";break t}this.h.i=new o.TextDecoder}for(z=0;z<je;z++)this.h.h=!0,_+=this.h.i.decode(me[z],{stream:!(Me&&z==je-1)});me.length=0,this.h.g+=_,this.C=0,Je=this.h.g}else Je=this.g.oa();if(this.o=Y==200,Jr(this.i,this.u,this.A,this.l,this.R,_r,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,Vt=this.g;if((kt=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(kt)){var It=kt;break t}}It=null}if(Y=It)Tn(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nl(this,Y);else{this.o=!1,this.s=3,dt(12),Ms(this),ko(this);break e}}if(this.P){Y=!0;let oi;for(;!this.J&&this.C<Je.length;)if(oi=dh(this,Je),oi==To){_r==4&&(this.s=4,dt(14),Y=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(oi==No){this.s=4,dt(15),Tn(this.i,this.l,Je,"[Invalid Chunk]"),Y=!1;break}else Tn(this.i,this.l,oi,null),Nl(this,oi);if(Sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_r!=4||Je.length!=0||this.h.h||(this.s=1,dt(16),Y=!1),this.o=this.o&&Y,!Y)Tn(this.i,this.l,Je,"[Invalid Chunked Response]"),Ms(this),ko(this);else if(0<Je.length&&!this.W){this.W=!0;var or=this.j;or.g==this&&or.ba&&!or.M&&(or.j.info("Great, no buffering proxy detected. Bytes received: "+Je.length),Qc(or),or.M=!0,dt(11))}}else Tn(this.i,this.l,Je,null),Nl(this,Je);_r==4&&Ms(this),this.o&&!this.J&&(_r==4?Lo(this.j,this):(this.o=!1,Fc(this)))}else Oo(this.g),Y==400&&0<Je.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Ms(this),ko(this)}}}catch{}finally{}};function Sl(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function dh(_,z){var Y=_.C,me=z.indexOf(`
`,Y);return me==-1?To:(Y=Number(z.substring(Y,me)),isNaN(Y)?No:(me+=1,me+Y>z.length?To:(z=z.slice(me,me+Y),_.C=me+Y,z)))}cn.prototype.cancel=function(){this.J=!0,Ms(this)};function Fc(_){_.S=Date.now()+_.I,fh(_,_.I)}function fh(_,z){if(_.B!=null)throw Error("WatchDog timer not null");_.B=bi(p(_.ba,_),z)}function Co(_){_.B&&(o.clearTimeout(_.B),_.B=null)}cn.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Mc(this.i,this.A),this.L!=2&&(wi(),dt(17)),Ms(this),this.s=2,ko(this)):fh(this,this.S-_)};function ko(_){_.j.G==0||_.J||Lo(_.j,_)}function Ms(_){Co(_);var z=_.M;z&&typeof z.ma=="function"&&z.ma(),_.M=null,qr(_.U),_.g&&(z=_.g,_.g=null,z.abort(),z.ma())}function Nl(_,z){try{var Y=_.j;if(Y.G!=0&&(Y.g==_||Td(Y.h,_))){if(!_.K&&Td(Y.h,_)&&Y.G==3){try{var me=Y.Da.g.parse(z)}catch{me=null}if(Array.isArray(me)&&me.length==3){var je=me;if(je[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<_.F)zs(Y),Kc(Y);else break e;Rl(Y),dt(18)}}else Y.za=je[1],0<Y.za-Y.T&&37500>je[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=bi(p(Y.Za,Y),6e3));if(1>=Tl(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else _i(Y,11)}else if((_.K||Y.g==_)&&zs(Y),!v(z))for(je=Y.Da.g.parse(z),z=0;z<je.length;z++){let It=je[z];if(Y.T=It[0],It=It[1],Y.G==2)if(It[0]=="c"){Y.K=It[1],Y.ia=It[2];const or=It[3];or!=null&&(Y.la=or,Y.j.info("VER="+Y.la));const _r=It[4];_r!=null&&(Y.Aa=_r,Y.j.info("SVER="+Y.Aa));const qs=It[5];qs!=null&&typeof qs=="number"&&0<qs&&(me=1.5*qs,Y.L=me,Y.j.info("backChannelRequestTimeoutMs_="+me)),me=Y;const oi=_.g;if(oi){const Do=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Do){var Me=me.h;Me.g||Do.indexOf("spdy")==-1&&Do.indexOf("quic")==-1&&Do.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(Rr(Me,Me.h),Me.h=null))}if(me.D){const Mo=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(me.ya=Mo,cr(me.I,me.D,Mo))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-_.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),me=Y;var Je=_;if(me.qa=D(me,me.J?me.ia:null,me.W),Je.K){Pd(me.h,Je);var kt=Je,Vt=me.L;Vt&&(kt.I=Vt),kt.B&&(Co(kt),Fc(kt)),me.g=Je}else Jc(me);0<Y.i.length&&Yc(Y)}else It[0]!="stop"&&It[0]!="close"||_i(Y,7);else Y.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?_i(Y,7):Vs(Y):It[0]!="noop"&&Y.l&&Y.l.ta(It),Y.v=0)}}wi(4)}catch{}}var zm=class{constructor(_,z){this.g=_,this.map=z}};function Nd(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hh(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Tl(_){return _.h?1:_.g?_.g.size:0}function Td(_,z){return _.h?_.h==z:_.g?_.g.has(z):!1}function Rr(_,z){_.g?_.g.add(z):_.h=z}function Pd(_,z){_.h&&_.h==z?_.h=null:_.g&&_.g.has(z)&&_.g.delete(z)}Nd.prototype.cancel=function(){if(this.i=Cd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Cd(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let z=_.i;for(const Y of _.g.values())z=z.concat(Y.D);return z}return m(_.i)}function ph(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var z=[],Y=_.length,me=0;me<Y;me++)z.push(_[me]);return z}z=[],Y=0;for(me in _)z[Y++]=_[me];return z}function kd(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var z=[];_=_.length;for(var Y=0;Y<_;Y++)z.push(Y);return z}z=[],Y=0;for(const me in _)z[Y++]=me;return z}}}function mh(_,z){if(_.forEach&&typeof _.forEach=="function")_.forEach(z,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,z,void 0);else for(var Y=kd(_),me=ph(_),je=me.length,Me=0;Me<je;Me++)z.call(void 0,me[Me],Y&&Y[Me],_)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bc(_,z){if(_){_=_.split("&");for(var Y=0;Y<_.length;Y++){var me=_[Y].indexOf("="),je=null;if(0<=me){var Me=_[Y].substring(0,me);je=_[Y].substring(me+1)}else Me=_[Y];z(Me,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function Qr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Qr){this.h=_.h,Pl(this,_.j),this.o=_.o,this.g=_.g,Uc(this,_.s),this.l=_.l;var z=_.i,Y=new Io;Y.i=z.i,z.g&&(Y.g=new Map(z.g),Y.h=z.h),Id(this,Y),this.m=_.m}else _&&(z=String(_).match(sa))?(this.h=!1,Pl(this,z[1]||"",!0),this.o=kl(z[2]||""),this.g=kl(z[3]||"",!0),Uc(this,z[4]),this.l=kl(z[5]||"",!0),Id(this,z[6]||"",!0),this.m=kl(z[7]||"")):(this.h=!1,this.i=new Io(null,this.h))}Qr.prototype.toString=function(){var _=[],z=this.j;z&&_.push(Fs(z,gh,!0),":");var Y=this.g;return(Y||z=="file")&&(_.push("//"),(z=this.o)&&_.push(Fs(z,gh,!0),"@"),_.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&_.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&_.push("/"),_.push(Fs(Y,Y.charAt(0)=="/"?Bs:Wm,!0))),(Y=this.i.toString())&&_.push("?",Y),(Y=this.m)&&_.push("#",Fs(Y,Vc)),_.join("")};function Vi(_){return new Qr(_)}function Pl(_,z,Y){_.j=Y?kl(z,!0):z,_.j&&(_.j=_.j.replace(/:$/,""))}function Uc(_,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);_.s=z}else _.s=null}function Id(_,z,Y){z instanceof Io?(_.i=z,Hm(_.i,_.h)):(Y||(z=Fs(z,$c)),_.i=new Io(z,_.h))}function cr(_,z,Y){_.i.set(z,Y)}function Cl(_){return cr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function kl(_,z){return _?z?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Fs(_,z,Y){return typeof _=="string"?(_=encodeURI(_).replace(z,qm),Y&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function qm(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var gh=/[#\/\?@]/g,Wm=/[#\?:]/g,Bs=/[#\?]/g,$c=/[#\?@]/g,Vc=/#/g;function Io(_,z){this.h=this.g=null,this.i=_||null,this.j=!!z}function Lr(_){_.g||(_.g=new Map,_.h=0,_.i&&Bc(_.i,function(z,Y){_.add(decodeURIComponent(z.replace(/\+/g," ")),Y)}))}t=Io.prototype,t.add=function(_,z){Lr(this),this.i=null,_=jo(this,_);var Y=this.g.get(_);return Y||this.g.set(_,Y=[]),Y.push(z),this.h+=1,this};function yh(_,z){Lr(_),z=jo(_,z),_.g.has(z)&&(_.i=null,_.h-=_.g.get(z).length,_.g.delete(z))}function jd(_,z){return Lr(_),z=jo(_,z),_.g.has(z)}t.forEach=function(_,z){Lr(this),this.g.forEach(function(Y,me){Y.forEach(function(je){_.call(z,je,me,this)},this)},this)},t.na=function(){Lr(this);const _=Array.from(this.g.values()),z=Array.from(this.g.keys()),Y=[];for(let me=0;me<z.length;me++){const je=_[me];for(let Me=0;Me<je.length;Me++)Y.push(z[me])}return Y},t.V=function(_){Lr(this);let z=[];if(typeof _=="string")jd(this,_)&&(z=z.concat(this.g.get(jo(this,_))));else{_=Array.from(this.g.values());for(let Y=0;Y<_.length;Y++)z=z.concat(_[Y])}return z},t.set=function(_,z){return Lr(this),this.i=null,_=jo(this,_),jd(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[z]),this.h+=1,this},t.get=function(_,z){return _?(_=this.V(_),0<_.length?String(_[0]):z):z};function Tt(_,z,Y){yh(_,z),0<Y.length&&(_.i=null,_.g.set(jo(_,z),m(Y)),_.h+=Y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],z=Array.from(this.g.keys());for(var Y=0;Y<z.length;Y++){var me=z[Y];const Me=encodeURIComponent(String(me)),Je=this.V(me);for(me=0;me<Je.length;me++){var je=Me;Je[me]!==""&&(je+="="+encodeURIComponent(String(Je[me]))),_.push(je)}}return this.i=_.join("&")};function jo(_,z){return z=String(z),_.j&&(z=z.toLowerCase()),z}function Hm(_,z){z&&!_.j&&(Lr(_),_.i=null,_.g.forEach(function(Y,me){var je=me.toLowerCase();me!=je&&(yh(this,me),Tt(this,je,Y))},_)),_.j=z}function es(_,z){const Y=new Nn;if(o.Image){const me=new Image;me.onload=h(Ca,Y,"TestLoadImage: loaded",!0,z,me),me.onerror=h(Ca,Y,"TestLoadImage: error",!1,z,me),me.onabort=h(Ca,Y,"TestLoadImage: abort",!1,z,me),me.ontimeout=h(Ca,Y,"TestLoadImage: timeout",!1,z,me),o.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=_}else z(!1)}function vh(_,z){const Y=new Nn,me=new AbortController,je=setTimeout(()=>{me.abort(),Ca(Y,"TestPingServer: timeout",!1,z)},1e4);fetch(_,{signal:me.signal}).then(Me=>{clearTimeout(je),Me.ok?Ca(Y,"TestPingServer: ok",!0,z):Ca(Y,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(je),Ca(Y,"TestPingServer: error",!1,z)})}function Ca(_,z,Y,me,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),me(Y)}catch{}}function zc(){this.g=new ai}function Od(_,z,Y){const me=Y||"";try{mh(_,function(je,Me){let Je=je;c(je)&&(Je=Ut(je)),z.push(me+Me+"="+encodeURIComponent(Je))})}catch(je){throw z.push(me+"type="+encodeURIComponent("_badmap")),je}}function qc(_){this.l=_.Ub||null,this.j=_.eb||!1}y(qc,Mt),qc.prototype.g=function(){return new Wc(this.l,this.j)},qc.prototype.i=function(_){return function(){return _}}({});function Wc(_,z){Ie.call(this),this.D=_,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Wc,Ie),t=Wc.prototype,t.open=function(_,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=z,this.readyState=1,ka(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(z.body=_),(this.D||o).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wh(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function wh(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var z=_.value?_.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!_.done}))&&(this.response=this.responseText+=z)}_.done?Us(this):ka(this),this.readyState==3&&wh(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Us(this))},t.Qa=function(_){this.g&&(this.response=_,Us(this))},t.ga=function(){this.g&&Us(this)};function Us(_){_.readyState=4,_.l=null,_.j=null,_.v=null,ka(_)}t.setRequestHeader=function(_,z){this.u.append(_,z)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],z=this.h.entries();for(var Y=z.next();!Y.done;)Y=Y.value,_.push(Y[0]+": "+Y[1]),Y=z.next();return _.join(`\r
`)};function ka(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function $s(_){let z="";return C(_,function(Y,me){z+=me,z+=":",z+=Y,z+=`\r
`}),z}function Rd(_,z,Y){e:{for(me in Y){var me=!1;break e}me=!0}me||(Y=$s(Y),typeof _=="string"?Y!=null&&encodeURIComponent(String(Y)):cr(_,z,Y))}function sr(_){Ie.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(sr,Ie);var Ld=/^https?$/i,Hc=["POST","PUT"];t=sr.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,z,Y,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);z=z?z.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ui.g(),this.v=this.o?Qa(this.o):Qa(Ui),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(z,String(_),!0),this.B=!1}catch(Me){Dd(this,Me);return}if(_=Y||"",Y=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var je in me)Y.set(je,me[je]);else if(typeof me.keys=="function"&&typeof me.get=="function")for(const Me of me.keys())Y.set(Me,me.get(Me));else throw Error("Unknown input type for opt_headers: "+String(me));me=Array.from(Y.keys()).find(Me=>Me.toLowerCase()=="content-type"),je=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Hc,z,void 0))||me||je||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,Je]of Y)this.g.setRequestHeader(Me,Je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(_),this.u=!1}catch(Me){Dd(this,Me)}};function Dd(_,z){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=z,_.m=5,Md(_),Il(_)}function Md(_){_.A||(_.A=!0,Fe(_,"complete"),Fe(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Fe(this,"complete"),Fe(this,"abort"),Il(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Il(this,!0)),sr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fd(this):this.bb())},t.bb=function(){Fd(this)};function Fd(_){if(_.h&&typeof s<"u"&&(!_.v[1]||Un(_)!=4||_.Z()!=2)){if(_.u&&Un(_)==4)nt(_.Ea,0,_);else if(Fe(_,"readystatechange"),Un(_)==4){_.h=!1;try{const Je=_.Z();e:switch(Je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var Y;if(!(Y=z)){var me;if(me=Je===0){var je=String(_.D).match(sa)[1]||null;!je&&o.self&&o.self.location&&(je=o.self.location.protocol.slice(0,-1)),me=!Ld.test(je?je.toLowerCase():"")}Y=me}if(Y)Fe(_,"complete"),Fe(_,"success");else{_.m=6;try{var Me=2<Un(_)?_.g.statusText:""}catch{Me=""}_.l=Me+" ["+_.Z()+"]",Md(_)}}finally{Il(_)}}}}function Il(_,z){if(_.g){Ia(_);const Y=_.g,me=_.v[0]?()=>{}:null;_.g=null,_.v=null,z||Fe(_,"ready");try{Y.onreadystatechange=me}catch{}}}function Ia(_){_.I&&(o.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function Un(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var z=this.g.responseText;return _&&z.indexOf(_)==0&&(z=z.substring(_.length)),Dt(z)}};function bh(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Oo(_){const z={};_=(_.g&&2<=Un(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let me=0;me<_.length;me++){if(v(_[me]))continue;var Y=M(_[me]);const je=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Me=z[je]||[];z[je]=Me,Me.push(Y)}P(z,function(me){return me.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(_,z,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[_]||z}function Gc(_){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=si("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=si("baseRetryDelayMs",5e3,_),this.cb=si("retryDelaySeedMs",1e4,_),this.Wa=si("forwardChannelMaxRetries",2,_),this.wa=si("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Nd(_&&_.concurrentRequestLimit),this.Da=new zc,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Gc.prototype,t.la=8,t.G=1,t.connect=function(_,z,Y,me){dt(0),this.W=_,this.H=z||{},Y&&me!==void 0&&(this.H.OSID=Y,this.H.OAID=me),this.F=this.X,this.I=D(this,null,this.W),Yc(this)};function Vs(_){if(jl(_),_.G==3){var z=_.U++,Y=Vi(_.I);if(cr(Y,"SID",_.K),cr(Y,"RID",z),cr(Y,"TYPE","terminate"),Ro(_,Y),z=new cn(_,_.j,z),z.L=2,z.v=Cl(Vi(Y)),Y=!1,o.navigator&&o.navigator.sendBeacon)try{Y=o.navigator.sendBeacon(z.v.toString(),"")}catch{}!Y&&o.Image&&(new Image().src=z.v,Y=!0),Y||(z.g=oe(z.j,null),z.g.ea(z.v)),z.F=Date.now(),Fc(z)}eu(_)}function Kc(_){_.g&&(Qc(_),_.g.cancel(),_.g=null)}function jl(_){Kc(_),_.u&&(o.clearTimeout(_.u),_.u=null),zs(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function Yc(_){if(!hh(_.h)&&!_.s){_.s=!0;var z=_.Ga;X||xe(),ce||(X(),ce=!0),ue.add(z,_),_.B=0}}function Bd(_,z){return Tl(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=z.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=bi(p(_.Ga,_,z),Zc(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const je=new cn(this,this.j,_);let Me=this.o;if(this.S&&(Me?(Me=k(Me),W(Me,this.S)):Me=this.S),this.m!==null||this.O||(je.H=Me,Me=null),this.P)e:{for(var z=0,Y=0;Y<this.i.length;Y++){t:{var me=this.i[Y];if("__data__"in me.map&&(me=me.map.__data__,typeof me=="string")){me=me.length;break t}me=void 0}if(me===void 0)break;if(z+=me,4096<z){z=Y;break e}if(z===4096||Y===this.i.length-1){z=Y+1;break e}}z=1e3}else z=1e3;z=Ol(this,je,z),Y=Vi(this.I),cr(Y,"RID",_),cr(Y,"CVER",22),this.D&&cr(Y,"X-HTTP-Session-Id",this.D),Ro(this,Y),Me&&(this.O?z="headers="+encodeURIComponent(String($s(Me)))+"&"+z:this.m&&Rd(Y,this.m,Me)),Rr(this.h,je),this.Ua&&cr(Y,"TYPE","init"),this.P?(cr(Y,"$req",z),cr(Y,"SID","null"),je.T=!0,Po(je,Y,null)):Po(je,Y,z),this.G=2}}else this.G==3&&(_?Xc(this,_):this.i.length==0||hh(this.h)||Xc(this))};function Xc(_,z){var Y;z?Y=z.l:Y=_.U++;const me=Vi(_.I);cr(me,"SID",_.K),cr(me,"RID",Y),cr(me,"AID",_.T),Ro(_,me),_.m&&_.o&&Rd(me,_.m,_.o),Y=new cn(_,_.j,Y,_.B+1),_.m===null&&(Y.H=_.o),z&&(_.i=z.D.concat(_.i)),z=Ol(_,Y,1e3),Y.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Rr(_.h,Y),Po(Y,me,z)}function Ro(_,z){_.H&&C(_.H,function(Y,me){cr(z,me,Y)}),_.l&&mh({},function(Y,me){cr(z,me,Y)})}function Ol(_,z,Y){Y=Math.min(_.i.length,Y);var me=_.l?p(_.l.Na,_.l,_):null;e:{var je=_.i;let Me=-1;for(;;){const Je=["count="+Y];Me==-1?0<Y?(Me=je[0].g,Je.push("ofs="+Me)):Me=0:Je.push("ofs="+Me);let kt=!0;for(let Vt=0;Vt<Y;Vt++){let It=je[Vt].g;const or=je[Vt].map;if(It-=Me,0>It)Me=Math.max(0,je[Vt].g-100),kt=!1;else try{Od(or,Je,"req"+It+"_")}catch{me&&me(or)}}if(kt){me=Je.join("&");break e}}}return _=_.i.splice(0,Y),z.D=_,me}function Jc(_){if(!_.g&&!_.u){_.Y=1;var z=_.Fa;X||xe(),ce||(X(),ce=!0),ue.add(z,_),_.v=0}}function Rl(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=bi(p(_.Fa,_),Zc(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,xh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=bi(p(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Kc(this),xh(this))};function Qc(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function xh(_){_.g=new cn(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var z=Vi(_.qa);cr(z,"RID","rpc"),cr(z,"SID",_.K),cr(z,"AID",_.T),cr(z,"CI",_.F?"0":"1"),!_.F&&_.ja&&cr(z,"TO",_.ja),cr(z,"TYPE","xmlhttp"),Ro(_,z),_.m&&_.o&&Rd(z,_.m,_.o),_.L&&(_.g.I=_.L);var Y=_.g;_=_.ia,Y.L=1,Y.v=Cl(Vi(z)),Y.m=null,Y.P=!0,Al(Y,_)}t.Za=function(){this.C!=null&&(this.C=null,Kc(this),Rl(this),dt(19))};function zs(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function Lo(_,z){var Y=null;if(_.g==z){zs(_),Qc(_),_.g=null;var me=2}else if(Td(_.h,z))Y=z.D,Pd(_.h,z),me=1;else return;if(_.G!=0){if(z.o)if(me==1){Y=z.m?z.m.length:0,z=Date.now()-z.F;var je=_.B;me=Za(),Fe(me,new ia(me,Y)),Yc(_)}else Jc(_);else if(je=z.s,je==3||je==0&&0<z.X||!(me==1&&Bd(_,z)||me==2&&Rl(_)))switch(Y&&0<Y.length&&(z=_.h,z.i=z.i.concat(Y)),je){case 1:_i(_,5);break;case 4:_i(_,10);break;case 3:_i(_,6);break;default:_i(_,2)}}}function Zc(_,z){let Y=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(Y*=2),Y*z}function _i(_,z){if(_.j.info("Error code "+z),z==2){var Y=p(_.fb,_),me=_.Xa;const je=!me;me=new Qr(me||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Pl(me,"https"),Cl(me),je?es(me.toString(),Y):vh(me.toString(),Y)}else dt(2);_.G=0,_.l&&_.l.sa(z),eu(_),jl(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function eu(_){if(_.G=0,_.ka=[],_.l){const z=Cd(_.h);(z.length!=0||_.i.length!=0)&&(w(_.ka,z),w(_.ka,_.i),_.h.i.length=0,m(_.i),_.i.length=0),_.l.ra()}}function D(_,z,Y){var me=Y instanceof Qr?Vi(Y):new Qr(Y);if(me.g!="")z&&(me.g=z+"."+me.g),Uc(me,me.s);else{var je=o.location;me=je.protocol,z=z?z+"."+je.hostname:je.hostname,je=+je.port;var Me=new Qr(null);me&&Pl(Me,me),z&&(Me.g=z),je&&Uc(Me,je),Y&&(Me.l=Y),me=Me}return Y=_.D,z=_.ya,Y&&z&&cr(me,Y,z),cr(me,"VER",_.la),Ro(_,me),me}function oe(_,z,Y){if(z&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=_.Ca&&!_.pa?new sr(new qc({eb:Y})):new sr(_.pa),z.Ha(_.J),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ee(){}t=Ee.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Te(){}Te.prototype.g=function(_,z){return new Oe(_,z)};function Oe(_,z){Ie.call(this),this.g=new Gc(z),this.l=_,this.h=z&&z.messageUrlParams||null,_=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(_?_["X-WebChannel-Content-Type"]=z.messageContentType:_={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(_?_["X-WebChannel-Client-Profile"]=z.va:_={"X-WebChannel-Client-Profile":z.va}),this.g.S=_,(_=z&&z.Sb)&&!v(_)&&(this.g.m=_),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!v(z)&&(this.g.D=z,_=this.h,_!==null&&z in _&&(_=this.h,z in _&&delete _[z])),this.j=new at(this)}y(Oe,Ie),Oe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Oe.prototype.close=function(){Vs(this.g)},Oe.prototype.o=function(_){var z=this.g;if(typeof _=="string"){var Y={};Y.__data__=_,_=Y}else this.u&&(Y={},Y.__data__=Ut(_),_=Y);z.i.push(new zm(z.Ya++,_)),z.G==3&&Yc(z)},Oe.prototype.N=function(){this.g.l=null,delete this.j,Vs(this.g),delete this.g,Oe.aa.N.call(this)};function $e(_){Bn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var z=_.__sm__;if(z){e:{for(const Y in z){_=Y;break e}_=void 0}(this.i=_)&&(_=this.i,z=z!==null&&_ in z?z[_]:void 0),this.data=z}else this.data=_}y($e,Bn);function Xe(){nr.call(this),this.status=1}y(Xe,nr);function at(_){this.g=_}y(at,Ee),at.prototype.ua=function(){Fe(this.g,"a")},at.prototype.ta=function(_){Fe(this.g,new $e(_))},at.prototype.sa=function(_){Fe(this.g,new Xe)},at.prototype.ra=function(){Fe(this.g,"b")},Te.prototype.createWebChannel=Te.prototype.g,Oe.prototype.send=Oe.prototype.o,Oe.prototype.open=Oe.prototype.m,Oe.prototype.close=Oe.prototype.close,$9=function(){return new Te},U9=function(){return Za()},B9=_t,jS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,I1=xi,aa.COMPLETE="complete",F9=aa,xr.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,Ug=xr,sr.prototype.listenOnce=sr.prototype.L,sr.prototype.getLastError=sr.prototype.Ka,sr.prototype.getLastErrorCode=sr.prototype.Ba,sr.prototype.getStatus=sr.prototype.Z,sr.prototype.getResponseJson=sr.prototype.Oa,sr.prototype.getResponseText=sr.prototype.oa,sr.prototype.send=sr.prototype.ea,sr.prototype.setWithCredentials=sr.prototype.Ha,M9=sr}).apply(typeof Iv<"u"?Iv:typeof self<"u"?self:typeof window<"u"?window:{});const hI="@firebase/firestore",pI="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new Xb("@firebase/firestore");function Hh(){return Ff.logLevel}function ut(t,...e){if(Ff.logLevel<=Wt.DEBUG){const r=e.map(j3);Ff.debug(`Firestore (${Am}): ${t}`,...r)}}function xc(t,...e){if(Ff.logLevel<=Wt.ERROR){const r=e.map(j3);Ff.error(`Firestore (${Am}): ${t}`,...r)}}function qp(t,...e){if(Ff.logLevel<=Wt.WARN){const r=e.map(j3);Ff.warn(`Firestore (${Am}): ${t}`,...r)}}function j3(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,V9(t,n,r)}function V9(t,e,r){let n=`FIRESTORE (${Am}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw xc(n),new Error(n)}function lr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||V9(e,i,n)}function Ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends xo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class are{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ii.UNAUTHENTICATED))}shutdown(){}}class sre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ore{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){lr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new uc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new uc,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new uc)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(lr(typeof n.accessToken=="string",31837,{l:n}),new z9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lr(e===null||typeof e=="string",2055,{h:e}),new Ii(e)}}class lre{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cre{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new lre(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ure{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){lr(this.o===void 0,3512);const n=a=>{a.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ut("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(lr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new mI(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=dre(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Ht(t,e){return t<e?-1:t>e?1:0}function OS(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return q5(i)===q5(a)?Ht(i,a):q5(i)?1:-1}return Ht(t.length,e.length)}const fre=55296,hre=57343;function q5(t){const e=t.charCodeAt(0);return e>=fre&&e<=hre}function Wp(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="__name__";class zo{constructor(e,r,n){r===void 0?r=0:r>e.length&&Nt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Nt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return zo.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof zo?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=zo.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Ht(e.length,r.length)}static compareSegments(e,r){const n=zo.isNumericId(e),i=zo.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?zo.extractNumericId(e).compare(zo.extractNumericId(r)):OS(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gu.fromString(e.substring(4,e.length-2))}}class jr extends zo{construct(e,r,n){return new jr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ot(Ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new jr(r)}static emptyPath(){return new jr([])}}const pre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pi extends zo{construct(e,r,n){return new pi(e,r,n)}static isValidIdentifier(e){return pre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gI}static keyField(){return new pi([gI])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ot(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ot(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ot(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new ot(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pi(r)}static emptyPath(){return new pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(jr.fromString(e))}static fromName(e){return new wt(jr.fromString(e).popFirst(5))}static empty(){return new wt(jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return jr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new jr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t,e,r){if(!r)throw new ot(Ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mre(t,e,r,n){if(e===!0&&n===!0)throw new ot(Ve.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function yI(t){if(!wt.isDocumentKey(t))throw new ot(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vI(t){if(wt.isDocumentKey(t))throw new ot(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function W9(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ex(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Nt(12329,{type:typeof t})}function Ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ot(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ex(t);throw new ot(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,e){const r={typeString:t};return e&&(r.value=e),r}function hy(t,e){if(!W9(t))throw new ot(Ve.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new ot(Ve.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=-62135596800,bI=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*bI);return new Bt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ot(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ot(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<wI)throw new ot(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bI}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hy(e,Bt._jsonSchema))return new Bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:Dn("string",Bt._jsonSchemaVersion),seconds:Dn("number"),nanoseconds:Dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Bt(0,0))}static max(){return new Ct(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=-1;function gre(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ct.fromTimestamp(n===1e9?new Bt(r+1,0):new Bt(r,n));return new td(i,wt.empty(),e)}function yre(t){return new td(t.readTime,t.key,L0)}class td{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new td(Ct.min(),wt.empty(),L0)}static max(){return new td(Ct.max(),wt.empty(),L0)}}function vre(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=wt.comparator(t.documentKey,e.documentKey),r!==0?r:Ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t){if(t.code!==Ve.FAILED_PRECONDITION||t.message!==wre)throw t;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ge((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ge?r:Ge.resolve(r)}catch(r){return Ge.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ge.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ge.reject(r)}static resolve(e){return new Ge((r,n)=>{r(e)})}static reject(e){return new Ge((r,n)=>{n(e)})}static waitFor(e){return new Ge((r,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(e){let r=Ge.resolve(!1);for(const n of e)r=r.next(i=>i?Ge.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new Ge((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(u=>{s[c]=u,++o,o===a&&n(s)},u=>i(u))}})}static doWhile(e,r){return new Ge((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function xre(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Nm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=-1;function rx(t){return t==null}function Tw(t){return t===0&&1/t==-1/0}function _re(t){return typeof t=="number"&&Number.isInteger(t)&&!Tw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="";function Ere(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=xI(e)),e=Are(t.get(r),e);return xI(e)}function Are(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case H9:r+="";break;default:r+=a}}return r}function xI(t){return t+H9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function md(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function G9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,r){this.comparator=e,this.root=r||fi.EMPTY}insert(e,r){return new Yr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,fi.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jv(this.root,e,this.comparator,!1)}getReverseIterator(){return new jv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jv(this.root,e,this.comparator,!0)}}class jv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fi{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??fi.RED,this.left=i??fi.EMPTY,this.right=a??fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new fi(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return fi.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Nt(27949);return e+(this.isRed()?0:1)}}fi.EMPTY=null,fi.RED=!0,fi.BLACK=!1;fi.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new fi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new EI(this.data.getIterator())}getIteratorFrom(e){return new EI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Wn(this.comparator);return r.data=e,r}}class EI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.fields=e,e.sort(pi.comparator)}static empty(){return new Va([])}unionWith(e){let r=new Wn(pi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Va(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Wp(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new K9("Invalid base64 string: "+a):a}}(e);return new yi(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new yi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yi.EMPTY_BYTE_STRING=new yi("");const Sre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rd(t){if(lr(!!t,39018),typeof t=="string"){let e=0;const r=Sre.exec(t);if(lr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nd(t){return typeof t=="string"?yi.fromBase64String(t):yi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9="server_timestamp",X9="__type__",J9="__previous_value__",Q9="__local_write_time__";function L3(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[X9])==null?void 0:n.stringValue)===Y9}function nx(t){const e=t.mapValue.fields[J9];return L3(e)?nx(e):e}function D0(t){const e=rd(t.mapValue.fields[Q9].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{constructor(e,r,n,i,a,s,o,l,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Pw="(default)";class M0{constructor(e,r){this.projectId=e,this.database=r||Pw}static empty(){return new M0("","")}get isDefaultDatabase(){return this.database===Pw}isEqual(e){return e instanceof M0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="__type__",eB="__max__",Ov={mapValue:{fields:{__type__:{stringValue:eB}}}},tB="__vector__",Cw="value";function id(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L3(t)?4:Pre(t)?9007199254740991:Tre(t)?10:11:Nt(28295,{value:t})}function ml(t,e){if(t===e)return!0;const r=id(t);if(r!==id(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return D0(t).isEqual(D0(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=rd(i.timestampValue),o=rd(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return nd(i.bytesValue).isEqual(nd(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return fn(i.geoPointValue.latitude)===fn(a.geoPointValue.latitude)&&fn(i.geoPointValue.longitude)===fn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return fn(i.integerValue)===fn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=fn(i.doubleValue),o=fn(a.doubleValue);return s===o?Tw(s)===Tw(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Wp(t.arrayValue.values||[],e.arrayValue.values||[],ml);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(_I(s)!==_I(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!ml(s[l],o[l])))return!1;return!0}(t,e);default:return Nt(52216,{left:t})}}function F0(t,e){return(t.values||[]).find(r=>ml(r,e))!==void 0}function Hp(t,e){if(t===e)return 0;const r=id(t),n=id(e);if(r!==n)return Ht(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ht(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=fn(a.integerValue||a.doubleValue),l=fn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return AI(t.timestampValue,e.timestampValue);case 4:return AI(D0(t),D0(e));case 5:return OS(t.stringValue,e.stringValue);case 6:return function(a,s){const o=nd(a),l=nd(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Ht(o[c],l[c]);if(u!==0)return u}return Ht(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Ht(fn(a.latitude),fn(s.latitude));return o!==0?o:Ht(fn(a.longitude),fn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SI(t.arrayValue,e.arrayValue);case 10:return function(a,s){var p,h,y,m;const o=a.fields||{},l=s.fields||{},c=(p=o[Cw])==null?void 0:p.arrayValue,u=(h=l[Cw])==null?void 0:h.arrayValue,f=Ht(((y=c==null?void 0:c.values)==null?void 0:y.length)||0,((m=u==null?void 0:u.values)==null?void 0:m.length)||0);return f!==0?f:SI(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Ov.mapValue&&s===Ov.mapValue)return 0;if(a===Ov.mapValue)return 1;if(s===Ov.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const p=OS(l[f],u[f]);if(p!==0)return p;const h=Hp(o[l[f]],c[u[f]]);if(h!==0)return h}return Ht(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Nt(23264,{he:r})}}function AI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ht(t,e);const r=rd(t),n=rd(e),i=Ht(r.seconds,n.seconds);return i!==0?i:Ht(r.nanos,n.nanos)}function SI(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Hp(r[i],n[i]);if(a)return a}return Ht(r.length,n.length)}function Gp(t){return RS(t)}function RS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=rd(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return nd(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return wt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=RS(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${RS(r.fields[s])}`;return i+"}"}(t.mapValue):Nt(61005,{value:t})}function j1(t){switch(id(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nx(t);return e?16+j1(e):16;case 5:return 2*t.stringValue.length;case 6:return nd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+j1(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return md(n.fields,(a,s)=>{i+=a.length+j1(s)}),i}(t.mapValue);default:throw Nt(13486,{value:t})}}function NI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function LS(t){return!!t&&"integerValue"in t}function D3(t){return!!t&&"arrayValue"in t}function TI(t){return!!t&&"nullValue"in t}function PI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function O1(t){return!!t&&"mapValue"in t}function Tre(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[Z9])==null?void 0:n.stringValue)===tB}function n0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return md(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=n0(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=n0(t.arrayValue.values[r]);return e}return{...t}}function Pre(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.value=e}static empty(){return new ga({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!O1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=n0(r)}setAll(e){let r=pi.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=n0(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());O1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ml(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];O1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){md(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new ga(n0(this.value))}}function rB(t){const e=[];return md(t.fields,(r,n)=>{const i=new pi([r]);if(O1(n)){const a=rB(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Va(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Oi(e,0,Ct.min(),Ct.min(),Ct.min(),ga.empty(),0)}static newFoundDocument(e,r,n,i){return new Oi(e,1,r,Ct.min(),n,i,0)}static newNoDocument(e,r){return new Oi(e,2,r,Ct.min(),Ct.min(),ga.empty(),0)}static newUnknownDocument(e,r){return new Oi(e,3,r,Ct.min(),Ct.min(),ga.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ga.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ga.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,r){this.position=e,this.inclusive=r}}function CI(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=wt.comparator(wt.fromName(s.referenceValue),r.key):n=Hp(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function kI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ml(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,r="asc"){this.field=e,this.dir=r}}function Cre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{}class Ln extends nB{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Ire(e,r,n):r==="array-contains"?new Rre(e,n):r==="in"?new Lre(e,n):r==="not-in"?new Dre(e,n):r==="array-contains-any"?new Mre(e,n):new Ln(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new jre(e,n):new Ore(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Hp(r,this.value)):r!==null&&id(this.value)===id(r)&&this.matchesComparison(Hp(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yo extends nB{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new yo(e,r)}matches(e){return iB(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iB(t){return t.op==="and"}function aB(t){return kre(t)&&iB(t)}function kre(t){for(const e of t.filters)if(e instanceof yo)return!1;return!0}function DS(t){if(t instanceof Ln)return t.field.canonicalString()+t.op.toString()+Gp(t.value);if(aB(t))return t.filters.map(e=>DS(e)).join(",");{const e=t.filters.map(r=>DS(r)).join(",");return`${t.op}(${e})`}}function sB(t,e){return t instanceof Ln?function(n,i){return i instanceof Ln&&n.op===i.op&&n.field.isEqual(i.field)&&ml(n.value,i.value)}(t,e):t instanceof yo?function(n,i){return i instanceof yo&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&sB(s,i.filters[o]),!0):!1}(t,e):void Nt(19439)}function oB(t){return t instanceof Ln?function(r){return`${r.field.canonicalString()} ${r.op} ${Gp(r.value)}`}(t):t instanceof yo?function(r){return r.op.toString()+" {"+r.getFilters().map(oB).join(" ,")+"}"}(t):"Filter"}class Ire extends Ln{constructor(e,r,n){super(e,r,n),this.key=wt.fromName(n.referenceValue)}matches(e){const r=wt.comparator(e.key,this.key);return this.matchesComparison(r)}}class jre extends Ln{constructor(e,r){super(e,"in",r),this.keys=lB("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ore extends Ln{constructor(e,r){super(e,"not-in",r),this.keys=lB("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function lB(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>wt.fromName(n.referenceValue))}class Rre extends Ln{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return D3(r)&&F0(r.arrayValue,this.value)}}class Lre extends Ln{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&F0(this.value.arrayValue,r)}}class Dre extends Ln{constructor(e,r){super(e,"not-in",r)}matches(e){if(F0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!F0(this.value.arrayValue,r)}}class Mre extends Ln{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!D3(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>F0(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function II(t,e=null,r=[],n=[],i=null,a=null,s=null){return new Fre(t,e,r,n,i,a,s)}function M3(t){const e=Ot(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>DS(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),rx(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Gp(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Gp(n)).join(",")),e.Te=r}return e.Te}function F3(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Cre(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!sB(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kI(t.startAt,e.startAt)&&kI(t.endAt,e.endAt)}function MS(t){return wt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Bre(t,e,r,n,i,a,s,o){return new Tm(t,e,r,n,i,a,s,o)}function B3(t){return new Tm(t)}function jI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cB(t){return t.collectionGroup!==null}function i0(t){const e=Ot(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Wn(pi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new B0(a,n))}),r.has(pi.keyField().canonicalString())||e.Ie.push(new B0(pi.keyField(),n))}return e.Ie}function ol(t){const e=Ot(t);return e.Ee||(e.Ee=Ure(e,i0(t))),e.Ee}function Ure(t,e){if(t.limitType==="F")return II(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new B0(i.field,a)});const r=t.endAt?new kw(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new kw(t.startAt.position,t.startAt.inclusive):null;return II(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function FS(t,e){const r=t.filters.concat([e]);return new Tm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function BS(t,e,r){return new Tm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function ix(t,e){return F3(ol(t),ol(e))&&t.limitType===e.limitType}function uB(t){return`${M3(ol(t))}|lt:${t.limitType}`}function Gh(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>oB(i)).join(", ")}]`),rx(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Gp(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Gp(i)).join(",")),`Target(${n})`}(ol(t))}; limitType=${t.limitType})`}function ax(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):wt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of i0(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,o,l){const c=CI(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,i0(n),i)||n.endAt&&!function(s,o,l){const c=CI(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,i0(n),i))}(t,e)}function $re(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dB(t){return(e,r)=>{let n=!1;for(const i of i0(t)){const a=Vre(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Vre(t,e,r){const n=t.field.isKeyField()?wt.comparator(e.key,r.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?Hp(l,c):Nt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Nt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){md(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return G9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre=new Yr(wt.comparator);function _c(){return zre}const fB=new Yr(wt.comparator);function $g(...t){let e=fB;for(const r of t)e=e.insert(r.key,r);return e}function hB(t){let e=fB;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function uf(){return a0()}function pB(){return a0()}function a0(){return new Zf(t=>t.toString(),(t,e)=>t.isEqual(e))}const qre=new Yr(wt.comparator),Wre=new Wn(wt.comparator);function Gt(...t){let e=Wre;for(const r of t)e=e.add(r);return e}const Hre=new Wn(Ht);function Gre(){return Hre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tw(e)?"-0":e}}function mB(t){return{integerValue:""+t}}function Kre(t,e){return _re(e)?mB(e):U3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this._=void 0}}function Yre(t,e,r){return t instanceof Iw?function(i,a){const s={fields:{[X9]:{stringValue:Y9},[Q9]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&L3(a)&&(a=nx(a)),a&&(s.fields[J9]=a),{mapValue:s}}(r,e):t instanceof U0?yB(t,e):t instanceof $0?vB(t,e):function(i,a){const s=gB(i,a),o=OI(s)+OI(i.Ae);return LS(s)&&LS(i.Ae)?mB(o):U3(i.serializer,o)}(t,e)}function Xre(t,e,r){return t instanceof U0?yB(t,e):t instanceof $0?vB(t,e):r}function gB(t,e){return t instanceof jw?function(n){return LS(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Iw extends sx{}class U0 extends sx{constructor(e){super(),this.elements=e}}function yB(t,e){const r=wB(e);for(const n of t.elements)r.some(i=>ml(i,n))||r.push(n);return{arrayValue:{values:r}}}class $0 extends sx{constructor(e){super(),this.elements=e}}function vB(t,e){let r=wB(e);for(const n of t.elements)r=r.filter(i=>!ml(i,n));return{arrayValue:{values:r}}}class jw extends sx{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function OI(t){return fn(t.integerValue||t.doubleValue)}function wB(t){return D3(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Jre(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof U0&&i instanceof U0||n instanceof $0&&i instanceof $0?Wp(n.elements,i.elements,ml):n instanceof jw&&i instanceof jw?ml(n.Ae,i.Ae):n instanceof Iw&&i instanceof Iw}(t.transform,e.transform)}class Qre{constructor(e,r){this.version=e,this.transformResults=r}}class Zi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Zi}static exists(e){return new Zi(void 0,e)}static updateTime(e){return new Zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function R1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ox{}function bB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lx(t.key,Zi.none()):new py(t.key,t.data,Zi.none());{const r=t.data,n=ga.empty();let i=new Wn(pi.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new gd(t.key,n,new Va(i.toArray()),Zi.none())}}function Zre(t,e,r){t instanceof py?function(i,a,s){const o=i.value.clone(),l=LI(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof gd?function(i,a,s){if(!R1(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=LI(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(xB(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function s0(t,e,r,n){return t instanceof py?function(a,s,o,l){if(!R1(a.precondition,s))return o;const c=a.value.clone(),u=DI(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof gd?function(a,s,o,l){if(!R1(a.precondition,s))return o;const c=DI(a.fieldTransforms,l,s),u=s.data;return u.setAll(xB(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,s,o){return R1(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function ene(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=gB(n.transform,i||null);a!=null&&(r===null&&(r=ga.empty()),r.set(n.field,a))}return r||null}function RI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Wp(n,i,(a,s)=>Jre(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class py extends ox{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gd extends ox{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xB(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function LI(t,e,r){const n=new Map;lr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,Xre(s,o,r[i]))}return n}function DI(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,Yre(a,s,e))}return n}class lx extends ox{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tne extends ox{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Zre(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=s0(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=s0(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=pB();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=bB(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ct.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Wp(this.mutations,e.mutations,(r,n)=>RI(r,n))&&Wp(this.baseMutations,e.baseMutations,(r,n)=>RI(r,n))}}class $3{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){lr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return qre}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new $3(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,Yt;function ane(t){switch(t){case Ve.OK:return Nt(64938);case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return Nt(15467,{code:t})}}function _B(t){if(t===void 0)return xc("GRPC error has no .code"),Ve.UNKNOWN;switch(t){case jn.OK:return Ve.OK;case jn.CANCELLED:return Ve.CANCELLED;case jn.UNKNOWN:return Ve.UNKNOWN;case jn.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case jn.INTERNAL:return Ve.INTERNAL;case jn.UNAVAILABLE:return Ve.UNAVAILABLE;case jn.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case jn.NOT_FOUND:return Ve.NOT_FOUND;case jn.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case jn.ABORTED:return Ve.ABORTED;case jn.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case jn.DATA_LOSS:return Ve.DATA_LOSS;default:return Nt(39323,{code:t})}}(Yt=jn||(jn={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const one=new Gu([4294967295,4294967295],0);function MI(t){const e=sne().encode(t),r=new D9;return r.update(e),new Uint8Array(r.digest())}function FI(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gu([r,n],0),new Gu([i,a],0)]}class V3{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Vg(`Invalid padding: ${r}`);if(n<0)throw new Vg(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Vg(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Vg(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Gu.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Gu.fromNumber(n)));return i.compare(one)===1&&(i=new Gu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=MI(e),[n,i]=FI(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new V3(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const r=MI(e),[n,i]=FI(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Vg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,my.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new cx(Ct.min(),i,new Yr(Ht),_c(),Gt())}}class my{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new my(n,r,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class EB{constructor(e,r){this.targetId=e,this.Ce=r}}class AB{constructor(e,r,n=yi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class BI{constructor(){this.ve=0,this.Fe=UI(),this.Me=yi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Gt(),r=Gt(),n=Gt();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Nt(38017,{changeType:a})}}),new my(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=UI()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lne{constructor(e){this.Ge=e,this.ze=new Map,this.je=_c(),this.Je=Rv(),this.He=Rv(),this.Ye=new Yr(Ht)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Nt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(MS(a))if(n===0){const s=new wt(a.path);this.et(r,s,Oi.newNoDocument(s,Ct.min()))}else lr(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=nd(n).toUint8Array()}catch(l){if(l instanceof K9)return qp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new V3(s,i,a)}catch(l){return qp(l instanceof Vg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&MS(o.target)){const l=new wt(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Oi.newNoDocument(l,e))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=Gt();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new cx(e,r,this.Ye,this.je,n);return this.je=_c(),this.Je=Rv(),this.He=Rv(),this.Ye=new Yr(Ht),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new BI,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Wn(Ht),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Wn(Ht),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ut("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BI),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Rv(){return new Yr(wt.comparator)}function UI(){return new Yr(wt.comparator)}const cne={asc:"ASCENDING",desc:"DESCENDING"},une={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dne={and:"AND",or:"OR"};class fne{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function US(t,e){return t.useProto3Json||rx(e)?e:{value:e}}function Ow(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hne(t,e){return Ow(t,e.toTimestamp())}function ll(t){return lr(!!t,49232),Ct.fromTimestamp(function(r){const n=rd(r);return new Bt(n.seconds,n.nanos)}(t))}function z3(t,e){return $S(t,e).canonicalString()}function $S(t,e){const r=function(i){return new jr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function NB(t){const e=jr.fromString(t);return lr(IB(e),10190,{key:e.toString()}),e}function VS(t,e){return z3(t.databaseId,e.path)}function W5(t,e){const r=NB(e);if(r.get(1)!==t.databaseId.projectId)throw new ot(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ot(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new wt(PB(r))}function TB(t,e){return z3(t.databaseId,e)}function pne(t){const e=NB(t);return e.length===4?jr.emptyPath():PB(e)}function zS(t){return new jr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PB(t){return lr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $I(t,e,r){return{name:VS(t,e),fields:r.value.mapValue.fields}}function mne(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Nt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(lr(u===void 0||typeof u=="string",58123),yi.fromBase64String(u||"")):(lr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),yi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Ve.UNKNOWN:_B(c.code);return new ot(u,c.message||"")}(s);r=new AB(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=W5(t,n.document.name),a=ll(n.document.updateTime),s=n.document.createTime?ll(n.document.createTime):Ct.min(),o=new ga({mapValue:{fields:n.document.fields}}),l=Oi.newFoundDocument(i,a,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new L1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=W5(t,n.document),a=n.readTime?ll(n.readTime):Ct.min(),s=Oi.newNoDocument(i,a),o=n.removedTargetIds||[];r=new L1([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=W5(t,n.document),a=n.removedTargetIds||[];r=new L1([],a,i,null)}else{if(!("filter"in e))return Nt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new ine(i,a),o=n.targetId;r=new EB(o,s)}}return r}function gne(t,e){let r;if(e instanceof py)r={update:$I(t,e.key,e.value)};else if(e instanceof lx)r={delete:VS(t,e.key)};else if(e instanceof gd)r={update:$I(t,e.key,e.data),updateMask:Sne(e.fieldMask)};else{if(!(e instanceof tne))return Nt(16599,{Vt:e.type});r={verify:VS(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Iw)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof U0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $0)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof jw)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Nt(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:hne(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Nt(27497)}(t,e.precondition)),r}function yne(t,e){return t&&t.length>0?(lr(e!==void 0,14353),t.map(r=>function(i,a){let s=i.updateTime?ll(i.updateTime):ll(a);return s.isEqual(Ct.min())&&(s=ll(a)),new Qre(s,i.transformResults||[])}(r,e))):[]}function vne(t,e){return{documents:[TB(t,e.path)]}}function wne(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=TB(t,i);const a=function(c){if(c.length!==0)return kB(yo.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Kh(p.field),direction:_ne(p.dir)}}(u))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=US(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:r,parent:i}}function bne(t){let e=pne(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){lr(n===1,65062);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];r.where&&(a=function(f){const p=CB(f);return p instanceof yo&&aB(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(p=>function(y){return new B0(Yh(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(f){let p;return p=typeof f=="object"?f.value:f,rx(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(f){const p=!!f.before,h=f.values||[];return new kw(h,p)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const p=!f.before,h=f.values||[];return new kw(h,p)}(r.endAt)),Bre(e,i,s,a,o,"F",l,c)}function xne(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function CB(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Yh(r.unaryFilter.field);return Ln.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Yh(r.unaryFilter.field);return Ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yh(r.unaryFilter.field);return Ln.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yh(r.unaryFilter.field);return Ln.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(t):t.fieldFilter!==void 0?function(r){return Ln.create(Yh(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return yo.create(r.compositeFilter.filters.map(n=>CB(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(r.compositeFilter.op))}(t):Nt(30097,{filter:t})}function _ne(t){return cne[t]}function Ene(t){return une[t]}function Ane(t){return dne[t]}function Kh(t){return{fieldPath:t.canonicalString()}}function Yh(t){return pi.fromServerFormat(t.fieldPath)}function kB(t){return t instanceof Ln?function(r){if(r.op==="=="){if(PI(r.value))return{unaryFilter:{field:Kh(r.field),op:"IS_NAN"}};if(TI(r.value))return{unaryFilter:{field:Kh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(PI(r.value))return{unaryFilter:{field:Kh(r.field),op:"IS_NOT_NAN"}};if(TI(r.value))return{unaryFilter:{field:Kh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kh(r.field),op:Ene(r.op),value:r.value}}}(t):t instanceof yo?function(r){const n=r.getFilters().map(i=>kB(i));return n.length===1?n[0]:{compositeFilter:{op:Ane(r.op),filters:n}}}(t):Nt(54877,{filter:t})}function Sne(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function IB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,r,n,i,a=Ct.min(),s=Ct.min(),o=yi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Lu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(e){this.yt=e}}function Tne(t){const e=bne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?BS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(){this.Cn=new Cne}addToCollectionParentIndex(e,r){return this.Cn.add(r),Ge.resolve()}getCollectionParents(e,r){return Ge.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Ge.resolve()}deleteFieldIndex(e,r){return Ge.resolve()}deleteAllFieldIndexes(e){return Ge.resolve()}createTargetIndexes(e,r){return Ge.resolve()}getDocumentsMatchingTarget(e,r){return Ge.resolve(null)}getIndexType(e,r){return Ge.resolve(0)}getFieldIndexes(e,r){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,r){return Ge.resolve(td.min())}getMinOffsetFromCollectionGroup(e,r){return Ge.resolve(td.min())}updateCollectionGroup(e,r,n){return Ge.resolve()}updateIndexEntries(e,r){return Ge.resolve()}}class Cne{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Wn(jr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Wn(jr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jB=41943040;class pa{static withCacheSize(e){return new pa(e,pa.DEFAULT_COLLECTION_PERCENTILE,pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pa.DEFAULT_COLLECTION_PERCENTILE=10,pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pa.DEFAULT=new pa(jB,pa.DEFAULT_COLLECTION_PERCENTILE,pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pa.DISABLED=new pa(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Kp(0)}static cr(){return new Kp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="LruGarbageCollector",kne=1048576;function qI([t,e],[r,n]){const i=Ht(t,r);return i===0?Ht(e,n):i}class Ine{constructor(e){this.Ir=e,this.buffer=new Wn(qI),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();qI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class jne{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(zI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Nm(r)?ut(zI,"Ignoring IndexedDB error during garbage collection: ",r):await Sm(r)}await this.Vr(3e5)})}}class One{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Ge.resolve(tx.ce);const n=new Ine(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(VI)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VI):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(c=Date.now(),Hh()<=Wt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function Rne(t,e){return new One(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(){this.changes=new Zf(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Oi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ge.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&s0(n.mutation,i,Va.empty(),Bt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Gt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Gt()){const i=uf();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=$g();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=uf();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Gt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,i){let a=_c();const s=a0(),o=function(){return a0()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof gd)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),s0(u.mutation,c,u.mutation.getFieldMask(),Bt.now())):s.set(c.key,Va.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>o.set(c,new Dne(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,r){const n=a0();let i=new Yr((s,o)=>s-o),a=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Va.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(i.get(o.batchId)||Gt()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=pB();u.forEach(p=>{if(!a.has(p)){const h=bB(r.get(p),n.get(p));h!==null&&f.set(p,h),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Ge.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return wt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):cB(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Ge.resolve(uf());let o=L0,l=a;return s.next(c=>Ge.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(u)?Ge.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Gt())).next(u=>({batchId:o,changes:hB(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new wt(r)).next(n=>{let i=$g();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=$g();return this.indexManager.getCollectionParents(e,a).next(o=>Ge.forEach(o,l=>{const c=function(f,p){return new Tm(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Oi.newInvalidDocument(u)))});let o=$g();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&s0(u.mutation,c,Va.empty(),Bt.now()),ax(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Ge.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:ll(i.createTime)}}(r)),Ge.resolve()}getNamedQuery(e,r){return Ge.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:Tne(i.bundledQuery),readTime:ll(i.readTime)}}(r)),Ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(){this.overlays=new Yr(wt.comparator),this.qr=new Map}getOverlay(e,r){return Ge.resolve(this.overlays.get(r))}getOverlays(e,r){const n=uf();return Ge.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),Ge.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),Ge.resolve()}getOverlaysForCollection(e,r,n){const i=uf(),a=r.length+1,s=new wt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Ge.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Yr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=uf(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=uf(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return Ge.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new nne(r,n));let a=this.qr.get(r);a===void 0&&(a=Gt(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(){this.sessionToken=yi.EMPTY_BYTE_STRING}getSessionToken(e){return Ge.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.Qr=new Wn(Xn.$r),this.Ur=new Wn(Xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Xn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Xn(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new wt(new jr([])),n=new Xn(r,e),i=new Xn(r,e+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new wt(new jr([])),n=new Xn(r,e),i=new Xn(r,e+1);let a=Gt();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Xn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Xn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return wt.comparator(e.key,r.key)||Ht(e.Yr,r.Yr)}static Kr(e,r){return Ht(e.Yr,r.Yr)||wt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Wn(Xn.$r)}checkEmpty(e){return Ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new rne(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Xn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ge.resolve(s)}lookupMutationBatch(e,r){return Ge.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return Ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(this.mutationQueue.length===0?R3:this.tr-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Xn(r,0),i=new Xn(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),Ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Wn(Ht);return r.forEach(i=>{const a=new Xn(i,0),s=new Xn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),Ge.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;wt.isDocumentKey(a)||(a=a.child(""));const s=new Xn(new wt(a),0);let o=new Wn(Ht);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},s),Ge.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){lr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ge.forEach(r.mutations,i=>{const a=new Xn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Xn(r,0),i=this.Zr.firstAfterOrEqual(n);return Ge.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ge.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e){this.ri=e,this.docs=function(){return new Yr(wt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ge.resolve(n?n.document.mutableCopy():Oi.newInvalidDocument(r))}getEntries(e,r){let n=_c();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Oi.newInvalidDocument(i))}),Ge.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=_c();const s=r.path,o=new wt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||vre(yre(u),n)<=0||(i.has(u.key)||ax(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return Ge.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Nt(9500)}ii(e,r){return Ge.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new zne(this)}getSize(e){return Ge.resolve(this.size)}}class zne extends Lne{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),Ge.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(e){this.persistence=e,this.si=new Zf(r=>M3(r),F3),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new q3,this.targetCount=0,this.ai=Kp.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Ge.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Kp(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Ge.resolve()}updateTargetData(e,r){return this.Pr(r),Ge.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Ge.waitFor(a).next(()=>i)}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return Ge.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),Ge.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),Ge.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Ge.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return Ge.resolve(n)}containsKey(e,r){return Ge.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,r){this.ui={},this.overlays={},this.ci=new tx(0),this.li=!1,this.li=!0,this.hi=new Une,this.referenceDelegate=e(this),this.Pi=new qne(this),this.indexManager=new Pne,this.remoteDocumentCache=function(i){return new Vne(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Nne(r),this.Ii=new Fne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Bne,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new $ne(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ut("MemoryPersistence","Starting transaction:",e);const i=new Wne(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return Ge.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class Wne extends bre{constructor(e){super(),this.currentSequenceNumber=e}}class W3{constructor(e){this.persistence=e,this.Ri=new q3,this.Vi=null}static mi(e){return new W3(e)}get fi(){if(this.Vi)return this.Vi;throw Nt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Ge.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Ge.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Ge.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.fi,n=>{const i=wt.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,Ct.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return Ge.or([()=>Ge.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Rw{constructor(e,r){this.persistence=e,this.pi=new Zf(n=>Ere(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Rne(this,r)}static mi(e,r){return new Rw(e,r)}Ei(){}di(e){return Ge.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return Ge.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?Ge.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,r).next(o=>{o||(n++,a.removeEntry(s,Ct.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ge.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ge.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=j1(e.data.value)),r}br(e,r,n){return Ge.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return Ge.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Gt(),i=Gt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new H3(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return AQ()?8:xre(Fi())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new Hne;return this.Ss(e,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,r,s,o.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(Hh()<=Wt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Gh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ge.resolve()):(Hh()<=Wt.DEBUG&&ut("QueryEngine","Query:",Gh(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Hh()<=Wt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Gh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ol(r))):Ge.resolve())}ys(e,r){if(jI(r))return Ge.resolve(null);let n=ol(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=BS(r,null,"F"),n=ol(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=Gt(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Ds(r,o);return this.Cs(r,c,s,l.readTime)?this.ys(e,BS(r,null,"F")):this.vs(e,c,r,l)}))})))}ws(e,r,n,i){return jI(r)||i.isEqual(Ct.min())?Ge.resolve(null):this.ps.getDocuments(e,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?Ge.resolve(null):(Hh()<=Wt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gh(r)),this.vs(e,s,r,gre(i,L0)).next(o=>o))})}Ds(e,r){let n=new Wn(dB(e));return r.forEach((i,a)=>{ax(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Hh()<=Wt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Gh(r)),this.ps.getDocumentsMatchingQuery(e,r,td.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="LocalStore",Kne=3e8;class Yne{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Yr(Ht),this.xs=new Zf(a=>M3(a),F3),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mne(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function Xne(t,e,r,n){return new Yne(t,e,r,n)}async function RB(t,e){const r=Ot(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=Gt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function Jne(t,e){const r=Ot(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,p=f.keys();let h=Ge.resolve();return p.forEach(y=>{h=h.next(()=>u.getEntry(l,y)).next(m=>{const w=c.docVersions.get(y);lr(w!==null,48541),m.version.compareTo(w)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Gt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function LB(t){const e=Ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function Qne(t,e){const r=Ot(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((u,f)=>{const p=i.get(f);if(!p)return;o.push(r.Pi.removeMatchingKeys(a,u.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(a,u.addedDocuments,f)));let h=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(yi.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,n)),i=i.insert(f,h),function(m,w,g){return m.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=Kne?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(p,h,u)&&o.push(r.Pi.updateTargetData(a,h))});let l=_c(),c=Gt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(Zne(a,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!n.isEqual(Ct.min())){const u=r.Pi.getLastRemoteSnapshotVersion(a).next(f=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(u)}return Ge.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.Ms=i,a))}function Zne(t,e,r){let n=Gt(),i=Gt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=_c();return r.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ct.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):ut(G3,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function eie(t,e){const r=Ot(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=R3),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function tie(t,e){const r=Ot(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,Ge.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new Lu(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function qS(t,e,r){const n=Ot(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Nm(s))throw s;ut(G3,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function WI(t,e,r){const n=Ot(t);let i=Ct.min(),a=Gt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Ot(l),p=f.xs.get(u);return p!==void 0?Ge.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,u)}(n,s,ol(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,e,r?i:Ct.min(),r?a:Gt())).next(o=>(rie(n,$re(e),o),{documents:o,Qs:a})))}function rie(t,e,r){let n=t.Os.get(e)||Ct.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class HI{constructor(){this.activeTargetIds=Gre()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nie{constructor(){this.Mo=new HI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HI,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iie{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="ConnectivityMonitor";class KI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(GI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(GI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv=null;function WS(){return Lv===null?Lv=function(){return 268435456+Math.round(2147483648*Math.random())}():Lv++,"0x"+Lv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="RestConnection",aie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sie{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Pw?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const s=WS(),o=this.zo(e,r.toUriEncodedString());ut(H5,`Sending RPC '${e}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:c}=new URL(o),u=xm(c);return this.Jo(e,o,l,n,u).then(f=>(ut(H5,`Received RPC '${e}' ${s}: `,f),f),f=>{throw qp(H5,`RPC '${e}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(e,r,n,i,a,s){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Am}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=aie[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oie{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="WebChannelConnection";class lie extends sie{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const s=WS();return new Promise((o,l)=>{const c=new M9;c.setWithCredentials(!0),c.listenOnce(F9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case I1.NO_ERROR:const f=c.getResponseJson();ut(Si,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case I1.TIMEOUT:ut(Si,`RPC '${e}' ${s} timed out`),l(new ot(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case I1.HTTP_ERROR:const p=c.getStatus();if(ut(Si,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const m=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(v)>=0?v:Ve.UNKNOWN}(y.status);l(new ot(m,y.message))}else l(new ot(Ve.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ot(Ve.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ut(Si,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ut(Si,`RPC '${e}' ${s} sending request:`,i),c.send(r,"POST",u,n,15)})}T_(e,r,n){const i=WS(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$9(),o=U9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");ut(Si,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let p=!1,h=!1;const y=new oie({Yo:w=>{h?ut(Si,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(ut(Si,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),ut(Si,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},Zo:()=>f.close()}),m=(w,g,v)=>{w.listen(g,x=>{try{v(x)}catch(E){setTimeout(()=>{throw E},0)}})};return m(f,Ug.EventType.OPEN,()=>{h||(ut(Si,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),m(f,Ug.EventType.CLOSE,()=>{h||(h=!0,ut(Si,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(f))}),m(f,Ug.EventType.ERROR,w=>{h||(h=!0,qp(Si,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),y.a_(new ot(Ve.UNAVAILABLE,"The operation could not be completed")))}),m(f,Ug.EventType.MESSAGE,w=>{var g;if(!h){const v=w.data[0];lr(!!v,16349);const x=v,E=(x==null?void 0:x.error)||((g=x[0])==null?void 0:g.error);if(E){ut(Si,`RPC '${e}' stream ${i} received error:`,E);const S=E.status;let C=function(T){const W=jn[T];if(W!==void 0)return _B(W)}(S),P=E.message;C===void 0&&(C=Ve.INTERNAL,P="Unknown error status: "+S+" with message "+E.message),h=!0,y.a_(new ot(C,P)),f.close()}else ut(Si,`RPC '${e}' stream ${i} received:`,v),y.u_(v)}}),m(o,B9.STAT_EVENT,w=>{w.stat===jS.PROXY?ut(Si,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===jS.NOPROXY&&ut(Si,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function G5(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t){return new fne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="PersistentStream";class MB{constructor(e,r,n,i,a,s,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DB(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ve.RESOURCE_EXHAUSTED?(xc(r.toString()),xc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new ot(Ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ut(YI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ut(YI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cie extends MB{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=mne(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ct.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ct.min():s.readTime?ll(s.readTime):Ct.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=zS(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=MS(l)?{documents:vne(a,l)}:{query:wne(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=SB(a,s.resumeToken);const c=US(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ct.min())>0){o.readTime=Ow(a,s.snapshotVersion.toTimestamp());const c=US(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=xne(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=zS(this.serializer),r.removeTarget=e,this.q_(r)}}class uie extends MB{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return lr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=yne(e.writeResults,e.commitTime),n=ll(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=zS(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>gne(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class die{}class fie extends die{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ot(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,$S(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ot(Ve.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,$S(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ot(Ve.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class hie{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xc(r),this.aa=!1):ut("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="RemoteStore";class pie{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{eh(this)&&(ut(Bf,"Restarting streams for network reachability change."),await async function(l){const c=Ot(l);c.Ea.add(4),await gy(c),c.Ra.set("Unknown"),c.Ea.delete(4),await dx(c)}(this))})}),this.Ra=new hie(n,i)}}async function dx(t){if(eh(t))for(const e of t.da)await e(!0)}async function gy(t){for(const e of t.da)await e(!1)}function FB(t,e){const r=Ot(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),J3(r)?X3(r):Pm(r).O_()&&Y3(r,e))}function K3(t,e){const r=Ot(t),n=Pm(r);r.Ia.delete(e),n.O_()&&BB(r,e),r.Ia.size===0&&(n.O_()?n.L_():eh(r)&&r.Ra.set("Unknown"))}function Y3(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Pm(t).Y_(e)}function BB(t,e){t.Va.Ue(e),Pm(t).Z_(e)}function X3(t){t.Va=new lne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pm(t).start(),t.Ra.ua()}function J3(t){return eh(t)&&!Pm(t).x_()&&t.Ia.size>0}function eh(t){return Ot(t).Ea.size===0}function UB(t){t.Va=void 0}async function mie(t){t.Ra.set("Online")}async function gie(t){t.Ia.forEach((e,r)=>{Y3(t,e)})}async function yie(t,e){UB(t),J3(t)?(t.Ra.ha(e),X3(t)):t.Ra.set("Unknown")}async function vie(t,e,r){if(t.Ra.set("Online"),e instanceof AB&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){ut(Bf,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Lw(t,n)}else if(e instanceof L1?t.Va.Ze(e):e instanceof EB?t.Va.st(e):t.Va.tt(e),!r.isEqual(Ct.min()))try{const n=await LB(t.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(yi.EMPTY_BYTE_STRING,u.snapshotVersion)),BB(a,l);const f=new Lu(u.target,l,c,u.sequenceNumber);Y3(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){ut(Bf,"Failed to raise snapshot:",n),await Lw(t,n)}}async function Lw(t,e,r){if(!Nm(e))throw e;t.Ea.add(1),await gy(t),t.Ra.set("Offline"),r||(r=()=>LB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ut(Bf,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await dx(t)})}function $B(t,e){return e().catch(r=>Lw(t,r,e))}async function fx(t){const e=Ot(t),r=ad(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:R3;for(;wie(e);)try{const i=await eie(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,bie(e,i)}catch(i){await Lw(e,i)}VB(e)&&zB(e)}function wie(t){return eh(t)&&t.Ta.length<10}function bie(t,e){t.Ta.push(e);const r=ad(t);r.O_()&&r.X_&&r.ea(e.mutations)}function VB(t){return eh(t)&&!ad(t).x_()&&t.Ta.length>0}function zB(t){ad(t).start()}async function xie(t){ad(t).ra()}async function _ie(t){const e=ad(t);for(const r of t.Ta)e.ea(r.mutations)}async function Eie(t,e,r){const n=t.Ta.shift(),i=$3.from(n,e,r);await $B(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fx(t)}async function Aie(t,e){e&&ad(t).X_&&await async function(n,i){if(function(s){return ane(s)&&s!==Ve.ABORTED}(i.code)){const a=n.Ta.shift();ad(n).B_(),await $B(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await fx(n)}}(t,e),VB(t)&&zB(t)}async function XI(t,e){const r=Ot(t);r.asyncQueue.verifyOperationInProgress(),ut(Bf,"RemoteStore received new credentials");const n=eh(r);r.Ea.add(3),await gy(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await dx(r)}async function Sie(t,e){const r=Ot(t);e?(r.Ea.delete(2),await dx(r)):e||(r.Ea.add(2),await gy(r),r.Ra.set("Unknown"))}function Pm(t){return t.ma||(t.ma=function(r,n,i){const a=Ot(r);return a.sa(),new cie(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:mie.bind(null,t),t_:gie.bind(null,t),r_:yie.bind(null,t),H_:vie.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),J3(t)?X3(t):t.Ra.set("Unknown")):(await t.ma.stop(),UB(t))})),t.ma}function ad(t){return t.fa||(t.fa=function(r,n,i){const a=Ot(r);return a.sa(),new uie(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xie.bind(null,t),r_:Aie.bind(null,t),ta:_ie.bind(null,t),na:Eie.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await fx(t)):(await t.fa.stop(),t.Ta.length>0&&(ut(Bf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new uc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new Q3(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z3(t,e){if(xc("AsyncQueue",`${e}: ${t}`),Nm(t))return new ot(Ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{static emptySet(e){return new Sp(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||wt.comparator(r.key,n.key):(r,n)=>wt.comparator(r.key,n.key),this.keyedMap=$g(),this.sortedSet=new Yr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Sp)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Sp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.ga=new Yr(wt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Nt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class Yp{constructor(e,r,n,i,a,s,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new Yp(e,r,Sp.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ix(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Tie{constructor(){this.queries=QI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Ot(r),a=i.queries;i.queries=QI(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new ot(Ve.ABORTED,"Firestore shutting down"))}}function QI(){return new Zf(t=>uB(t),ix)}async function qB(t,e){const r=Ot(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new Nie,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=Z3(s,`Initialization of query '${Gh(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&eT(r)}async function WB(t,e){const r=Ot(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Pie(t,e){const r=Ot(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&eT(r)}function Cie(t,e,r){const n=Ot(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function eT(t){t.Ca.forEach(e=>{e.next()})}var HS,ZI;(ZI=HS||(HS={})).Ma="default",ZI.Cache="cache";class HB{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Yp(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Yp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==HS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.key=e}}class KB{constructor(e){this.key=e}}class kie{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gt(),this.mutatedKeys=Gt(),this.eu=dB(e),this.tu=new Sp(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new JI,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const p=i.get(u),h=ax(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let w=!1;p&&h?p.data.isEqual(h.data)?y!==m&&(n.track({type:3,doc:h}),w=!0):this.su(p,h)||(n.track({type:2,doc:h}),w=!0,(l&&this.eu(h,l)>0||c&&this.eu(h,c)<0)&&(o=!0)):!p&&h?(n.track({type:0,doc:h}),w=!0):p&&!h&&(n.track({type:1,doc:p}),w=!0,(l||c)&&(o=!0)),w&&(h?(s=s.add(h),a=m?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,f)=>function(h,y){const m=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Rt:w})}};return m(h)-m(y)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Yp(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Gt(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new KB(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new GB(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Gt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Yp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tT="SyncEngine";class Iie{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class jie{constructor(e){this.key=e,this.hu=!1}}class Oie{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Zf(o=>uB(o),ix),this.Iu=new Map,this.Eu=new Set,this.du=new Yr(wt.comparator),this.Au=new Map,this.Ru=new q3,this.Vu={},this.mu=new Map,this.fu=Kp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Rie(t,e,r=!0){const n=eU(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await YB(n,e,r,!0),i}async function Lie(t,e){const r=eU(t);await YB(r,e,!0,!1)}async function YB(t,e,r,n){const i=await tie(t.localStore,ol(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await Die(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&FB(t.remoteStore,i),o}async function Die(t,e,r,n,i){t.pu=(f,p,h)=>async function(m,w,g,v){let x=w.view.ru(g);x.Cs&&(x=await WI(m.localStore,w.query,!1).then(({documents:P})=>w.view.ru(P,x)));const E=v&&v.targetChanges.get(w.targetId),S=v&&v.targetMismatches.get(w.targetId)!=null,C=w.view.applyChanges(x,m.isPrimaryClient,E,S);return tj(m,w.targetId,C.au),C.snapshot}(t,f,p,h);const a=await WI(t.localStore,e,!0),s=new kie(e,a.Qs),o=s.ru(a.documents),l=my.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);tj(t,r,c.au);const u=new Iie(e,r,s);return t.Tu.set(e,u),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),c.snapshot}async function Mie(t,e,r){const n=Ot(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!ix(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await qS(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&K3(n.remoteStore,i.targetId),GS(n,i.targetId)}).catch(Sm)):(GS(n,i.targetId),await qS(n.localStore,i.targetId,!0))}async function Fie(t,e){const r=Ot(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),K3(r.remoteStore,n.targetId))}async function Bie(t,e,r){const n=Hie(t);try{const i=await function(s,o){const l=Ot(s),c=Bt.now(),u=o.reduce((h,y)=>h.add(y.key),Gt());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let y=_c(),m=Gt();return l.Ns.getEntries(h,u).next(w=>{y=w,y.forEach((g,v)=>{v.isValidDocument()||(m=m.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,y)).next(w=>{f=w;const g=[];for(const v of o){const x=ene(v,f.get(v.key).overlayedDocument);x!=null&&g.push(new gd(v.key,x,rB(x.value.mapValue),Zi.exists(!0)))}return l.mutationQueue.addMutationBatch(h,c,g,o)}).next(w=>{p=w;const g=w.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(h,w.batchId,g)})}).then(()=>({batchId:p.batchId,changes:hB(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new Yr(Ht)),c=c.insert(o,l),s.Vu[s.currentUser.toKey()]=c}(n,i.batchId,r),await yy(n,i.changes),await fx(n.remoteStore)}catch(i){const a=Z3(i,"Failed to persist write");r.reject(a)}}async function XB(t,e){const r=Ot(t);try{const n=await Qne(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(lr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?lr(s.hu,14607):i.removedDocuments.size>0&&(lr(s.hu,42227),s.hu=!1))}),await yy(r,n,e)}catch(n){await Sm(n)}}function ej(t,e,r){const n=Ot(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Ot(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const p of f.Sa)p.va(o)&&(c=!0)}),c&&eT(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Uie(t,e,r){const n=Ot(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new Yr(wt.comparator);s=s.insert(a,Oi.newNoDocument(a,Ct.min()));const o=Gt().add(a),l=new cx(Ct.min(),new Map,new Yr(Ht),s,o);await XB(n,l),n.du=n.du.remove(a),n.Au.delete(e),rT(n)}else await qS(n.localStore,e,!1).then(()=>GS(n,e,r)).catch(Sm)}async function $ie(t,e){const r=Ot(t),n=e.batch.batchId;try{const i=await Jne(r.localStore,e);QB(r,n,null),JB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await yy(r,i)}catch(i){await Sm(i)}}async function Vie(t,e,r){const n=Ot(t);try{const i=await function(s,o){const l=Ot(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(lr(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);QB(n,e,r),JB(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await yy(n,i)}catch(i){await Sm(i)}}function JB(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function QB(t,e,r){const n=Ot(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function GS(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||ZB(t,n)})}function ZB(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(K3(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),rT(t))}function tj(t,e,r){for(const n of r)n instanceof GB?(t.Ru.addReference(n.key,e),zie(t,n)):n instanceof KB?(ut(tT,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||ZB(t,n.key)):Nt(19791,{wu:n})}function zie(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ut(tT,"New document in limbo: "+r),t.Eu.add(n),rT(t))}function rT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new wt(jr.fromString(e)),n=t.fu.next();t.Au.set(n,new jie(r)),t.du=t.du.insert(r,n),FB(t.remoteStore,new Lu(ol(B3(r.path)),n,"TargetPurposeLimboResolution",tx.ce))}}async function yy(t,e,r){const n=Ot(t),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=H3.As(l.targetId,c);a.push(f)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,c){const u=Ot(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ge.forEach(c,p=>Ge.forEach(p.Es,h=>u.persistence.referenceDelegate.addReference(f,p.targetId,h)).next(()=>Ge.forEach(p.ds,h=>u.persistence.referenceDelegate.removeReference(f,p.targetId,h)))))}catch(f){if(!Nm(f))throw f;ut(G3,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const h=u.Ms.get(p),y=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(y);u.Ms=u.Ms.insert(p,m)}}}(n.localStore,a))}async function qie(t,e){const r=Ot(t);if(!r.currentUser.isEqual(e)){ut(tT,"User change. New user:",e.toKey());const n=await RB(r.localStore,e);r.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new ot(Ve.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await yy(r,n.Ls)}}function Wie(t,e){const r=Ot(t),n=r.Au.get(e);if(n&&n.hu)return Gt().add(n.key);{let i=Gt();const a=r.Iu.get(e);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function eU(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uie.bind(null,e),e.Pu.H_=Pie.bind(null,e.eventManager),e.Pu.yu=Cie.bind(null,e.eventManager),e}function Hie(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$ie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vie.bind(null,e),e}class Dw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ux(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Xne(this.persistence,new Gne,e.initialUser,this.serializer)}Cu(e){return new OB(W3.mi,this.serializer)}Du(e){return new nie}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dw.provider={build:()=>new Dw};class Gie extends Dw{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){lr(this.persistence.referenceDelegate instanceof Rw,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new jne(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?pa.withCacheSize(this.cacheSizeBytes):pa.DEFAULT;return new OB(n=>Rw.mi(n,r),this.serializer)}}class KS{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ej(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=qie.bind(null,this.syncEngine),await Sie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Tie}()}createDatastore(e){const r=ux(e.databaseInfo.databaseId),n=function(a){return new lie(a)}(e.databaseInfo);return function(a,s,o,l){return new fie(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,o){return new pie(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>ej(this.syncEngine,r,0),function(){return KI.v()?new KI:new iie}())}createSyncEngine(e,r){return function(i,a,s,o,l,c,u){const f=new Oie(i,a,s,o,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ot(i);ut(Bf,"RemoteStore shutting down."),a.Ea.add(5),await gy(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}KS.provider={build:()=>new KS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xc("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="FirestoreClient";class Kie{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Ii.UNAUTHENTICATED,this.clientId=O3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{ut(sd,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(ut(sd,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new uc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Z3(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function K5(t,e){t.asyncQueue.verifyOperationInProgress(),ut(sd,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await RB(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rj(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Yie(t);ut(sd,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>XI(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>XI(e.remoteStore,i)),t._onlineComponents=e}async function Yie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ut(sd,"Using user provided OfflineComponentProvider");try{await K5(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ve.FAILED_PRECONDITION||i.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;qp("Error using user provided cache. Falling back to memory cache: "+r),await K5(t,new Dw)}}else ut(sd,"Using default OfflineComponentProvider"),await K5(t,new Gie(void 0));return t._offlineComponents}async function rU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ut(sd,"Using user provided OnlineComponentProvider"),await rj(t,t._uninitializedComponentsProvider._online)):(ut(sd,"Using default OnlineComponentProvider"),await rj(t,new KS))),t._onlineComponents}function Xie(t){return rU(t).then(e=>e.syncEngine)}async function nU(t){const e=await rU(t),r=e.eventManager;return r.onListen=Rie.bind(null,e.syncEngine),r.onUnlisten=Mie.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Lie.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Fie.bind(null,e.syncEngine),r}function Jie(t,e,r={}){const n=new uc;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new tU({next:p=>{u.Nu(),s.enqueueAndForget(()=>WB(a,f));const h=p.docs.has(o);!h&&p.fromCache?c.reject(new ot(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&p.fromCache&&l&&l.source==="server"?c.reject(new ot(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new HB(B3(o.path),u,{includeMetadataChanges:!0,qa:!0});return qB(a,f)}(await nU(t),t.asyncQueue,e,r,n)),n.promise}function Qie(t,e,r={}){const n=new uc;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new tU({next:p=>{u.Nu(),s.enqueueAndForget(()=>WB(a,f)),p.fromCache&&l.source==="server"?c.reject(new ot(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new HB(o,u,{includeMetadataChanges:!0,qa:!0});return qB(a,f)}(await nU(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU="firestore.googleapis.com",ij=!0;class aj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aU,this.ssl=ij}else this.host=e.host,this.ssl=e.ssl??ij;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kne)throw new ot(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iU(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ot(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ot(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ot(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hx{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new are;switch(n.type){case"firstParty":return new cre(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ot(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=nj.get(r);n&&(ut("ComponentProvider","Removing Datastore"),nj.delete(r),n.terminate())}(this),Promise.resolve()}}function Zie(t,e,r,n={}){var c;t=Ns(t,hx);const i=xm(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(WF(`https://${o}`),HF("Firestore",!0)),a.host!==aU&&a.host!==o&&qp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!ed(l,s)&&(t._setSettings(l),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=Ii.MOCK_USER;else{u=gQ(n.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new ot(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ii(p)}t._authCredentials=new sre(new z9(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new th(this.firestore,e,this._query)}}class yn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(hy(r,yn._jsonSchema))return new yn(e,n||null,new wt(jr.fromString(r.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:Dn("string",yn._jsonSchemaVersion),referencePath:Dn("string")};class Ku extends th{constructor(e,r,n){super(e,r,B3(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new wt(e))}withConverter(e){return new Ku(this.firestore,e,this._path)}}function Qd(t,e,...r){if(t=on(t),q9("collection","path",e),t instanceof hx){const n=jr.fromString(e,...r);return vI(n),new Ku(t,null,n)}{if(!(t instanceof yn||t instanceof Ku))throw new ot(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(jr.fromString(e,...r));return vI(n),new Ku(t.firestore,null,n)}}function hr(t,e,...r){if(t=on(t),arguments.length===1&&(e=O3.newId()),q9("doc","path",e),t instanceof hx){const n=jr.fromString(e,...r);return yI(n),new yn(t,null,new wt(n))}{if(!(t instanceof yn||t instanceof Ku))throw new ot(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(jr.fromString(e,...r));return yI(n),new yn(t.firestore,t instanceof Ku?t.converter:null,new wt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="AsyncQueue";class oj{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DB(this,"async_queue_retry"),this._c=()=>{const n=G5();n&&ut(sj,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=G5();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=G5();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new uc;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nm(e))throw e;ut(sj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,xc("INTERNAL UNHANDLED ERROR: ",lj(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=Q3.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Nt(47125,{Pc:lj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function lj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class yd extends hx{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new oj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oj(e),this._firestoreClient=void 0,await e}}}function eae(t,e){const r=typeof t=="object"?t:E3(),n=typeof t=="string"?t:Pw,i=Jf(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=pQ("firestore");a&&Zie(i,...a)}return i}function px(t){if(t._terminated)throw new ot(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tae(t),t._firestoreClient}function tae(t){var n,i,a;const e=t._freezeSettings(),r=function(o,l,c,u){return new Nre(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,iU(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Kie(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(yi.fromBase64String(e))}catch(r){throw new ot(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ys(yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ys._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hy(e,ys._jsonSchema))return ys.fromBase64String(e.bytes)}}ys._jsonSchemaVersion="firestore/bytes/1.0",ys._jsonSchema={type:Dn("string",ys._jsonSchemaVersion),bytes:Dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ot(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ot(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ot(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cl._jsonSchemaVersion}}static fromJSON(e){if(hy(e,cl._jsonSchema))return new cl(e.latitude,e.longitude)}}cl._jsonSchemaVersion="firestore/geoPoint/1.0",cl._jsonSchema={type:Dn("string",cl._jsonSchemaVersion),latitude:Dn("number"),longitude:Dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ul._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hy(e,ul._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new ul(e.vectorValues);throw new ot(Ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ul._jsonSchemaVersion="firestore/vectorValue/1.0",ul._jsonSchema={type:Dn("string",ul._jsonSchemaVersion),vectorValues:Dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rae=/^__.*__$/;class nae{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new gd(e,this.data,this.fieldMask,r,this.fieldTransforms):new py(e,this.data,r,this.fieldTransforms)}}class sU{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new gd(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function oU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ac:t})}}class iT{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new iT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mw(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oU(this.Ac)&&rae.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iae{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ux(e)}Cc(e,r,n,i=!1){return new iT({Ac:e,methodName:r,Dc:n,path:pi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wy(t){const e=t._freezeSettings(),r=ux(t._databaseId);return new iae(t._databaseId,!!e.ignoreUndefinedProperties,r)}function aT(t,e,r,n,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);sT("Data must be an object, but it was:",s,n);const o=uU(n,s);let l,c;if(a.merge)l=new Va(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const p=YS(e,f,r);if(!s.contains(p))throw new ot(Ve.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);fU(u,p)||u.push(p)}l=new Va(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new nae(new ga(o),l,c)}class mx extends nT{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mx}}function lU(t,e,r,n){const i=t.Cc(1,e,r);sT("Data must be an object, but it was:",i,n);const a=[],s=ga.empty();md(n,(l,c)=>{const u=oT(e,l,r);c=on(c);const f=i.yc(u);if(c instanceof mx)a.push(u);else{const p=by(c,f);p!=null&&(a.push(u),s.set(u,p))}});const o=new Va(a);return new sU(s,o,i.fieldTransforms)}function cU(t,e,r,n,i,a){const s=t.Cc(1,e,r),o=[YS(e,n,r)],l=[i];if(a.length%2!=0)throw new ot(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(YS(e,a[p])),l.push(a[p+1]);const c=[],u=ga.empty();for(let p=o.length-1;p>=0;--p)if(!fU(c,o[p])){const h=o[p];let y=l[p];y=on(y);const m=s.yc(h);if(y instanceof mx)c.push(h);else{const w=by(y,m);w!=null&&(c.push(h),u.set(h,w))}}const f=new Va(c);return new sU(u,f,s.fieldTransforms)}function aae(t,e,r,n=!1){return by(r,t.Cc(n?4:3,e))}function by(t,e){if(dU(t=on(t)))return sT("Unsupported field value:",e,t),uU(t,e);if(t instanceof nT)return function(n,i){if(!oU(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=by(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=on(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Kre(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Bt.fromDate(n);return{timestampValue:Ow(i.serializer,a)}}if(n instanceof Bt){const a=new Bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ow(i.serializer,a)}}if(n instanceof cl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ys)return{bytesValue:SB(i.serializer,n._byteString)};if(n instanceof yn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:z3(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ul)return function(s,o){return{mapValue:{fields:{[Z9]:{stringValue:tB},[Cw]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return U3(o.serializer,c)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${ex(n)}`)}(t,e)}function uU(t,e){const r={};return G9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):md(t,(n,i)=>{const a=by(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function dU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof cl||t instanceof ys||t instanceof yn||t instanceof nT||t instanceof ul)}function sT(t,e,r){if(!dU(r)||!W9(r)){const n=ex(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function YS(t,e,r){if((e=on(e))instanceof vy)return e._internalPath;if(typeof e=="string")return oT(t,e);throw Mw("Field path arguments must be of type string or ",t,!1,void 0,r)}const sae=new RegExp("[~\\*/\\[\\]]");function oT(t,e,r){if(e.search(sae)>=0)throw Mw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new vy(...e.split("."))._internalPath}catch{throw Mw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Mw(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new ot(Ve.INVALID_ARGUMENT,o+t+l)}function fU(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(gx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class oae extends hU{data(){return super.data()}}function gx(t,e){return typeof e=="string"?oT(t,e):e instanceof vy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lae(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ot(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lT{}class pU extends lT{}function eo(t,e,...r){let n=[];e instanceof lT&&n.push(e),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof cT).length,o=a.filter(l=>l instanceof yx).length;if(s>1||s>0&&o>0)throw new ot(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class yx extends pU{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new yx(e,r,n)}_apply(e){const r=this._parse(e);return mU(e._query,r),new th(e.firestore,e.converter,FS(e._query,r))}_parse(e){const r=wy(e.firestore);return function(a,s,o,l,c,u,f){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ot(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){uj(f,u);const y=[];for(const m of f)y.push(cj(l,a,m));p={arrayValue:{values:y}}}else p=cj(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||uj(f,u),p=aae(o,s,f,u==="in"||u==="not-in");return Ln.create(c,u,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Dh(t,e,r){const n=e,i=gx("where",t);return yx._create(i,n,r)}class cT extends lT{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new cT(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:yo.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)mU(s,l),s=FS(s,l)}(e._query,r),new th(e.firestore,e.converter,FS(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uT extends pU{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new uT(e,r)}_apply(e){const r=function(i,a,s){if(i.startAt!==null)throw new ot(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ot(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new B0(a,s)}(e._query,this._field,this._direction);return new th(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Tm(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Kl(t,e="asc"){const r=e,n=gx("orderBy",t);return uT._create(n,r)}function cj(t,e,r){if(typeof(r=on(r))=="string"){if(r==="")throw new ot(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cB(e)&&r.indexOf("/")!==-1)throw new ot(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(jr.fromString(r));if(!wt.isDocumentKey(n))throw new ot(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return NI(t,new wt(n))}if(r instanceof yn)return NI(t,r._key);throw new ot(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ex(r)}.`)}function uj(t,e){if(!Array.isArray(t)||t.length===0)throw new ot(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mU(t,e){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ot(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class cae{convertValue(e,r="none"){switch(id(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(nd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Nt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return md(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[Cw].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>fn(s.doubleValue));return new ul(r)}convertGeoPoint(e){return new cl(fn(e.latitude),fn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=nx(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(D0(e));default:return null}}convertTimestamp(e){const r=rd(e);return new Bt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=jr.fromString(e);lr(IB(n),9688,{name:e});const i=new M0(n.get(1),n.get(3)),a=new wt(n.popFirst(5));return i.isEqual(r)||xc(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class zg{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _f extends hU{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new D1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(gx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=_f._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}_f._jsonSchemaVersion="firestore/documentSnapshot/1.0",_f._jsonSchema={type:Dn("string",_f._jsonSchemaVersion),bundleSource:Dn("string","DocumentSnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class D1 extends _f{data(e={}){return super.data(e)}}class Np{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new zg(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new D1(this._firestore,this._userDataWriter,n.key,n,new zg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ot(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new D1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new zg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new D1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new zg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:uae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Np._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=O3.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){t=Ns(t,yn);const e=Ns(t.firestore,yd);return Jie(px(e),t._key).then(r=>dae(e,t,r))}Np._jsonSchemaVersion="firestore/querySnapshot/1.0",Np._jsonSchema={type:Dn("string",Np._jsonSchemaVersion),bundleSource:Dn("string","QuerySnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class gU extends cae{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,r)}}function to(t){t=Ns(t,th);const e=Ns(t.firestore,yd),r=px(e),n=new gU(e);return lae(t._query),Qie(r,t._query).then(i=>new Np(e,n,t,i))}function yU(t,e,r){t=Ns(t,yn);const n=Ns(t.firestore,yd),i=dT(t.converter,e,r);return xy(n,[aT(wy(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Zi.none())])}function Ko(t,e,r,...n){t=Ns(t,yn);const i=Ns(t.firestore,yd),a=wy(i);let s;return s=typeof(e=on(e))=="string"||e instanceof vy?cU(a,"updateDoc",t._key,e,r,n):lU(a,"updateDoc",t._key,e),xy(i,[s.toMutation(t._key,Zi.exists(!0))])}function bu(t){return xy(Ns(t.firestore,yd),[new lx(t._key,Zi.none())])}function Yl(t,e){const r=Ns(t.firestore,yd),n=hr(t),i=dT(t.converter,e);return xy(r,[aT(wy(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Zi.exists(!1))]).then(()=>n)}function xy(t,e){return function(n,i){const a=new uc;return n.asyncQueue.enqueueAndForget(async()=>Bie(await Xie(n),i,a)),a.promise}(px(t),e)}function dae(t,e,r){const n=r.docs.get(e._key),i=new gU(t);return new _f(t,i,e._key,n,new zg(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fae{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=wy(e)}set(e,r,n){this._verifyNotCommitted();const i=Y5(e,this._firestore),a=dT(i.converter,r,n),s=aT(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,Zi.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=Y5(e,this._firestore);let s;return s=typeof(r=on(r))=="string"||r instanceof vy?cU(this._dataReader,"WriteBatch.update",a._key,r,n,i):lU(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,Zi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Y5(e,this._firestore);return this._mutations=this._mutations.concat(new lx(r._key,Zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(Ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Y5(t,e){if((t=on(t)).firestore!==e)throw new ot(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hae(t){return px(t=Ns(t,yd)),new fae(t,e=>xy(t,e))}(function(e,r=!0){(function(i){Am=i})(_m),pl(new mo("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new yd(new ore(n.getProvider("auth-internal")),new ure(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ot(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new M0(c.options.projectId,u)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),xs(hI,pI,e),xs(hI,pI,"esm2020")})();var pae="firebase",mae="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(pae,mae,"app");const vU="@firebase/installations",fT="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=1e4,bU=`w:${fT}`,xU="FIS_v2",gae="https://firebaseinstallations.googleapis.com/v1",yae=60*60*1e3,vae="installations",wae="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bae={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Uf=new Xf(vae,wae,bae);function _U(t){return t instanceof xo&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU({projectId:t}){return`${gae}/projects/${t}/installations`}function AU(t){return{token:t.token,requestStatus:2,expiresIn:_ae(t.expiresIn),creationTime:Date.now()}}async function SU(t,e){const n=(await e.json()).error;return Uf.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function NU({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xae(t,{refreshToken:e}){const r=NU(t);return r.append("Authorization",Eae(e)),r}async function TU(t){const e=await t();return e.status>=500&&e.status<600?t():e}function _ae(t){return Number(t.replace("s","000"))}function Eae(t){return`${xU} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aae({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=EU(t),i=NU(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:r,authVersion:xU,appId:t.appId,sdkVersion:bU},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await TU(()=>fetch(n,o));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:AU(c.authToken)}}else throw await SU("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sae(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nae=/^[cdef][\w-]{21}$/,XS="";function Tae(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Pae(t);return Nae.test(r)?r:XS}catch{return XS}}function Pae(t){return Sae(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=new Map;function kU(t,e){const r=vx(t);IU(r,e),Cae(r,e)}function IU(t,e){const r=CU.get(t);if(r)for(const n of r)n(e)}function Cae(t,e){const r=kae();r&&r.postMessage({key:t,fid:e}),Iae()}let df=null;function kae(){return!df&&"BroadcastChannel"in self&&(df=new BroadcastChannel("[Firebase] FID Change"),df.onmessage=t=>{IU(t.data.key,t.data.fid)}),df}function Iae(){CU.size===0&&df&&(df.close(),df=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae="firebase-installations-database",Oae=1,$f="firebase-installations-store";let X5=null;function hT(){return X5||(X5=QF(jae,Oae,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($f)}}})),X5}async function Fw(t,e){const r=vx(t),i=(await hT()).transaction($f,"readwrite"),a=i.objectStore($f),s=await a.get(r);return await a.put(e,r),await i.done,(!s||s.fid!==e.fid)&&kU(t,e.fid),e}async function jU(t){const e=vx(t),n=(await hT()).transaction($f,"readwrite");await n.objectStore($f).delete(e),await n.done}async function wx(t,e){const r=vx(t),i=(await hT()).transaction($f,"readwrite"),a=i.objectStore($f),s=await a.get(r),o=e(s);return o===void 0?await a.delete(r):await a.put(o,r),await i.done,o&&(!s||s.fid!==o.fid)&&kU(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(t){let e;const r=await wx(t.appConfig,n=>{const i=Rae(n),a=Lae(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===XS?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Rae(t){const e=t||{fid:Tae(),registrationStatus:0};return OU(e)}function Lae(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Uf.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Dae(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Mae(t)}:{installationEntry:e}}async function Dae(t,e){try{const r=await Aae(t,e);return Fw(t.appConfig,r)}catch(r){throw _U(r)&&r.customData.serverCode===409?await jU(t.appConfig):await Fw(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Mae(t){let e=await dj(t.appConfig);for(;e.registrationStatus===1;)await PU(100),e=await dj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await pT(t);return n||r}return e}function dj(t){return wx(t,e=>{if(!e)throw Uf.create("installation-not-found");return OU(e)})}function OU(t){return Fae(t)?{fid:t.fid,registrationStatus:0}:t}function Fae(t){return t.registrationStatus===1&&t.registrationTime+wU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bae({appConfig:t,heartbeatServiceProvider:e},r){const n=Uae(t,r),i=xae(t,r),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:bU,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await TU(()=>fetch(n,o));if(l.ok){const c=await l.json();return AU(c)}else throw await SU("Generate Auth Token",l)}function Uae(t,{fid:e}){return`${EU(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mT(t,e=!1){let r;const n=await wx(t.appConfig,a=>{if(!RU(a))throw Uf.create("not-registered");const s=a.authToken;if(!e&&zae(s))return a;if(s.requestStatus===1)return r=$ae(t,e),a;{if(!navigator.onLine)throw Uf.create("app-offline");const o=Wae(a);return r=Vae(t,o),o}});return r?await r:n.authToken}async function $ae(t,e){let r=await fj(t.appConfig);for(;r.authToken.requestStatus===1;)await PU(100),r=await fj(t.appConfig);const n=r.authToken;return n.requestStatus===0?mT(t,e):n}function fj(t){return wx(t,e=>{if(!RU(e))throw Uf.create("not-registered");const r=e.authToken;return Hae(r)?{...e,authToken:{requestStatus:0}}:e})}async function Vae(t,e){try{const r=await Bae(t,e),n={...e,authToken:r};return await Fw(t.appConfig,n),r}catch(r){if(_U(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await jU(t.appConfig);else{const n={...e,authToken:{requestStatus:0}};await Fw(t.appConfig,n)}throw r}}function RU(t){return t!==void 0&&t.registrationStatus===2}function zae(t){return t.requestStatus===2&&!qae(t)}function qae(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+yae}function Wae(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Hae(t){return t.requestStatus===1&&t.requestTime+wU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gae(t){const e=t,{installationEntry:r,registrationPromise:n}=await pT(e);return n?n.catch(console.error):mT(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kae(t,e=!1){const r=t;return await Yae(r),(await mT(r,e)).token}async function Yae(t){const{registrationPromise:e}=await pT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xae(t){if(!t||!t.options)throw J5("App Configuration");if(!t.name)throw J5("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw J5(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function J5(t){return Uf.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="installations",Jae="installations-internal",Qae=t=>{const e=t.getProvider("app").getImmediate(),r=Xae(e),n=Jf(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Zae=t=>{const e=t.getProvider("app").getImmediate(),r=Jf(e,LU).getImmediate();return{getId:()=>Gae(r),getToken:i=>Kae(r,i)}};function ese(){pl(new mo(LU,Qae,"PUBLIC")),pl(new mo(Jae,Zae,"PRIVATE"))}ese();xs(vU,fT);xs(vU,fT,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="analytics",tse="firebase_id",rse="origin",nse=60*1e3,ise="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Xb("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wa=new Xf("analytics","Analytics",ase);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sse(t){if(!t.startsWith(gT)){const e=Wa.create("invalid-gtag-resource",{gtagURL:t});return _a.warn(e.message),""}return t}function DU(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function ose(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function lse(t,e){const r=ose("firebase-js-sdk-policy",{createScriptURL:sse}),n=document.createElement("script"),i=`${gT}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function cse(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function use(t,e,r,n,i,a){const s=n[i];try{if(s)await e[s];else{const l=(await DU(r)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){_a.error(o)}t("config",i,a)}async function dse(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await DU(r);for(const l of s){const c=o.find(f=>f.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){_a.error(a)}}function fse(t,e,r,n){async function i(a,...s){try{if(a==="event"){const[o,l]=s;await dse(t,e,r,o,l)}else if(a==="config"){const[o,l]=s;await use(t,e,r,n,o,l)}else if(a==="consent"){const[o,l]=s;t("consent",o,l)}else if(a==="get"){const[o,l,c]=s;t("get",o,l,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){_a.error(o)}}return i}function hse(t,e,r,n,i){let a=function(...s){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=fse(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function pse(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(gT)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mse=30,gse=1e3;class yse{constructor(e={},r=gse){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const MU=new yse;function vse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function wse(t){var s;const{appId:e,apiKey:r}=t,n={method:"GET",headers:vse(r)},i=ise.replace("{app-id}",e),a=await fetch(i,n);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw Wa.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function bse(t,e=MU,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw Wa.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw Wa.create("no-api-key")}const s=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Ese;return setTimeout(async()=>{o.abort()},nse),FU({appId:n,apiKey:i,measurementId:a},s,o,e)}async function FU(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=MU){var o;const{appId:a,measurementId:s}=t;try{await xse(n,e)}catch(l){if(s)return _a.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await wse(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!_se(c)){if(i.deleteThrottleMetadata(a),s)return _a.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?Fk(r,i.intervalMillis,mse):Fk(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return i.setThrottleMetadata(a,f),_a.debug(`Calling attemptFetch again in ${u} millis`),FU(t,f,n,i)}}function xse(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(Wa.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _se(t){if(!(t instanceof xo)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Ese{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ase(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,s={...n,send_to:a};t("event",r,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sse(){if(KF())try{await YF()}catch(t){return _a.warn(Wa.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return _a.warn(Wa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Nse(t,e,r,n,i,a,s){const o=bse(t);o.then(p=>{r[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&_a.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>_a.error(p)),e.push(o);const l=Sse().then(p=>{if(p)return n.getId()}),[c,u]=await Promise.all([o,l]);pse(a)||lse(a,c.measurementId),i("js",new Date);const f=(s==null?void 0:s.config)??{};return f[rse]="firebase",f.update=!0,u!=null&&(f[tse]=u),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse{constructor(e){this.app=e}_delete(){return delete o0[this.app.options.appId],Promise.resolve()}}let o0={},hj=[];const pj={};let Q5="dataLayer",Pse="gtag",mj,BU,gj=!1;function Cse(){const t=[];if(GF()&&t.push("This is a browser extension environment."),SQ()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Wa.create("invalid-analytics-context",{errorInfo:e});_a.warn(r.message)}}function kse(t,e,r){Cse();const n=t.options.appId;if(!n)throw Wa.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_a.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wa.create("no-api-key");if(o0[n]!=null)throw Wa.create("already-exists",{id:n});if(!gj){cse(Q5);const{wrappedGtag:a,gtagCore:s}=hse(o0,hj,pj,Q5,Pse);BU=a,mj=s,gj=!0}return o0[n]=Nse(t,hj,pj,e,mj,Q5,r),new Tse(t)}function Ise(t=E3()){t=on(t);const e=Jf(t,Bw);return e.isInitialized()?e.getImmediate():jse(t)}function jse(t,e={}){const r=Jf(t,Bw);if(r.isInitialized()){const i=r.getImmediate();if(ed(e,r.getOptions()))return i;throw Wa.create("already-initialized")}return r.initialize({options:e})}function Ose(t,e,r,n){t=on(t),Ase(BU,o0[t.app.options.appId],e,r,n).catch(i=>_a.error(i))}const yj="@firebase/analytics",vj="0.10.18";function Rse(){pl(new mo(Bw,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return kse(n,i,r)},"PUBLIC")),pl(new mo("analytics-internal",t,"PRIVATE")),xs(yj,vj),xs(yj,vj,"esm2020");function t(e){try{const r=e.getProvider(Bw).getImmediate();return{logEvent:(n,i,a)=>Ose(r,n,i,a)}}catch(r){throw Wa.create("interop-component-reg-failed",{reason:r})}}}Rse();const Lse={apiKey:"AIzaSyBj8BmTKrauLcB7c0BL_56GKexxzJXPocA",authDomain:"legalx-b64a7.firebaseapp.com",projectId:"legalx-b64a7",storageBucket:"legalx-b64a7.firebasestorage.app",messagingSenderId:"34186005691",appId:"1:34186005691:web:e6bf474c3893ba3a0dad9e",measurementId:"G-HESNWJTHSZ"},yT=ZF(Lse);Ise(yT);const Xi=nre(yT),qt=eae(yT);class Dse{constructor(){this.authStateListeners=[],Wee(Xi,async e=>{if(console.log("Estado de autenticação mudou:",e==null?void 0:e.uid),e)try{const r=await this.getUserData(e.uid);this.notifyAuthStateListeners(r)}catch(r){console.error("Erro ao buscar dados do usuário:",r),this.notifyAuthStateListeners(null)}else this.notifyAuthStateListeners(null)})}async register(e,r){try{console.log("Tentando registrar usuário:",e.email);const i=(await $ee(Xi,e.email,r)).user;console.log("Usuário criado no Auth:",i.uid),await new Promise(l=>setTimeout(l,1e3)),await i.getIdToken(!0);const a={id:i.uid,officeName:e.officeName,oabNumber:e.oabNumber,email:e.email,createdAt:new Date().toISOString()};let s=0;const o=3;for(;s<o;)try{if(!Xi.currentUser)throw new Error("Usuário não está mais autenticado");await yU(hr(qt,"users",i.uid),a),console.log("Dados salvos no Firestore com sucesso");break}catch(l){if(s++,console.error(`Tentativa ${s} falhou:`,l),s>=o)throw l;await new Promise(c=>setTimeout(c,1e3*s)),await i.getIdToken(!0)}return{success:!0,message:"Cadastro realizado com sucesso!",user:a}}catch(n){console.error("Erro completo ao registrar usuário:",n);let i="Erro interno. Tente novamente.";switch(n.code){case"auth/email-already-in-use":i="Este e-mail já está sendo usado por outra conta.";break;case"auth/weak-password":i="A senha é muito fraca. Use pelo menos 6 caracteres.";break;case"auth/invalid-email":i="E-mail inválido.";break;case"auth/operation-not-allowed":i="Operação não permitida. Verifique a configuração do Firebase.";break;case"permission-denied":i="Erro de permissão no banco de dados. Tente novamente em alguns segundos.";break;case"unavailable":i="Serviço temporariamente indisponível. Tente novamente.";break;default:i=`Erro: ${n.message||"Erro desconhecido"}`}return{success:!1,message:i}}}async login(e,r){try{console.log("Tentando fazer login:",e);const i=(await Vee(Xi,e,r)).user;console.log("Login bem-sucedido no Auth:",i.uid);const a=await this.getUserData(i.uid);return a?(console.log("Dados do usuário recuperados:",a),{success:!0,message:"Login realizado com sucesso!",user:a}):(console.error("Dados do usuário não encontrados no Firestore"),{success:!1,message:"Dados do usuário não encontrados."})}catch(n){console.error("Erro completo ao fazer login:",n);let i="Erro interno. Tente novamente.";switch(n.code){case"auth/user-not-found":case"auth/invalid-credential":i="E-mail ou senha incorretos.";break;case"auth/wrong-password":i="Senha incorreta.";break;case"auth/invalid-email":i="E-mail inválido.";break;case"auth/user-disabled":i="Conta desabilitada.";break;case"auth/too-many-requests":i="Muitas tentativas. Tente novamente mais tarde.";break;case"auth/network-request-failed":i="Erro de rede. Verifique sua conexão.";break;default:i=`Erro: ${n.message||"Erro desconhecido"}`}return{success:!1,message:i}}}async logout(){try{await Hee(Xi),console.log("Logout realizado com sucesso")}catch(e){throw console.error("Erro ao fazer logout:",e),e}}async getCurrentUser(){const e=Xi.currentUser;return e?await this.getUserData(e.uid):null}async getUserData(e){try{console.log("Buscando dados do usuário:",e);const r=await Gi(hr(qt,"users",e));if(!r.exists())return console.log("Documento do usuário não existe"),null;const n={id:e,...r.data()};return console.log("Dados do usuário encontrados:",n),n}catch(r){return console.error("Erro ao buscar dados do usuário:",r),null}}onAuthStateChanged(e){return this.authStateListeners.push(e),()=>{this.authStateListeners=this.authStateListeners.filter(r=>r!==e)}}notifyAuthStateListeners(e){this.authStateListeners.forEach(r=>r(e))}}const Cm=new Dse;var _y=t=>t.type==="checkbox",ff=t=>t instanceof Date,Ki=t=>t==null;const UU=t=>typeof t=="object";var vn=t=>!Ki(t)&&!Array.isArray(t)&&UU(t)&&!ff(t),Mse=t=>vn(t)&&t.target?_y(t.target)?t.target.checked:t.target.value:t,Fse=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Bse=(t,e)=>t.has(Fse(e)),Use=t=>{const e=t.constructor&&t.constructor.prototype;return vn(e)&&e.hasOwnProperty("isPrototypeOf")},vT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(vT&&(t instanceof Blob||n))&&(r||vn(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!Use(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Yn(t[i]));else return t;return e}var bx=t=>/^\w*$/.test(t),On=t=>t===void 0,wT=t=>Array.isArray(t)?t.filter(Boolean):[],bT=t=>wT(t.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(t,e,r)=>{if(!e||!vn(t))return r;const n=(bx(e)?[e]:bT(e)).reduce((i,a)=>Ki(i)?i:i[a],t);return On(n)||n===t?On(t[e])?r:t[e]:n},qo=t=>typeof t=="boolean",Ar=(t,e,r)=>{let n=-1;const i=bx(e)?[e]:bT(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let l=r;if(n!==s){const c=t[o];l=vn(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const wj={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},io={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},$se=br.createContext(null);$se.displayName="HookFormContext";var Vse=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==io.all&&(e._proxyFormState[s]=!n||io.all),t[s]}});return i};const zse=typeof window<"u"?br.useLayoutEffect:br.useEffect;var Qo=t=>typeof t=="string",qse=(t,e,r,n,i)=>Qo(t)?(n&&e.watch.add(t),pt(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),pt(r,a))):(n&&(e.watchAll=!0),r),JS=t=>Ki(t)||!UU(t);function Iu(t,e,r=new WeakSet){if(JS(t)||JS(e))return t===e;if(ff(t)&&ff(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const s=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const o=e[a];if(ff(s)&&ff(o)||vn(s)&&vn(o)||Array.isArray(s)&&Array.isArray(o)?!Iu(s,o,r):s!==o)return!1}}return!0}var $U=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},l0=t=>Array.isArray(t)?t:[t],bj=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},fa=t=>vn(t)&&!Object.keys(t).length,xT=t=>t.type==="file",ao=t=>typeof t=="function",Uw=t=>{if(!vT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},VU=t=>t.type==="select-multiple",_T=t=>t.type==="radio",Wse=t=>_T(t)||_y(t),Z5=t=>Uw(t)&&t.isConnected;function Hse(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=On(t)?n++:t[e[n++]];return t}function Gse(t){for(const e in t)if(t.hasOwnProperty(e)&&!On(t[e]))return!1;return!0}function kn(t,e){const r=Array.isArray(e)?e:bx(e)?[e]:bT(e),n=r.length===1?t:Hse(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(vn(n)&&fa(n)||Array.isArray(n)&&Gse(n))&&kn(t,r.slice(0,-1)),t}var zU=t=>{for(const e in t)if(ao(t[e]))return!0;return!1};function $w(t,e={}){const r=Array.isArray(t);if(vn(t)||r)for(const n in t)Array.isArray(t[n])||vn(t[n])&&!zU(t[n])?(e[n]=Array.isArray(t[n])?[]:{},$w(t[n],e[n])):Ki(t[n])||(e[n]=!0);return e}function qU(t,e,r){const n=Array.isArray(t);if(vn(t)||n)for(const i in t)Array.isArray(t[i])||vn(t[i])&&!zU(t[i])?On(e)||JS(r[i])?r[i]=Array.isArray(t[i])?$w(t[i],[]):{...$w(t[i])}:qU(t[i],Ki(e)?{}:e[i],r[i]):r[i]=!Iu(t[i],e[i]);return r}var yg=(t,e)=>qU(t,e,$w(e));const xj={value:!1,isValid:!1},_j={value:!0,isValid:!0};var WU=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!On(t[0].attributes.value)?On(t[0].value)||t[0].value===""?_j:{value:t[0].value,isValid:!0}:_j:xj}return xj},HU=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>On(t)?t:e?t===""?NaN:t&&+t:r&&Qo(t)?new Date(t):n?n(t):t;const Ej={isValid:!1,value:null};var GU=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Ej):Ej;function Aj(t){const e=t.ref;return xT(e)?e.files:_T(e)?GU(t.refs).value:VU(e)?[...e.selectedOptions].map(({value:r})=>r):_y(e)?WU(t.refs).value:HU(On(e.value)?t.ref.value:e.value,t)}var Kse=(t,e,r,n)=>{const i={};for(const a of t){const s=pt(e,a);s&&Ar(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Vw=t=>t instanceof RegExp,vg=t=>On(t)?t:Vw(t)?t.source:vn(t)?Vw(t.value)?t.value.source:t.value:t,Sj=t=>({isOnSubmit:!t||t===io.onSubmit,isOnBlur:t===io.onBlur,isOnChange:t===io.onChange,isOnAll:t===io.all,isOnTouch:t===io.onTouched});const Nj="AsyncFunction";var Yse=t=>!!t&&!!t.validate&&!!(ao(t.validate)&&t.validate.constructor.name===Nj||vn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Nj)),Xse=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Tj=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const c0=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=pt(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(c0(o,e))break}else if(vn(o)&&c0(o,e))break}}};function Pj(t,e,r){const n=pt(t,r);if(n||bx(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=pt(e,a),o=pt(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:r}}var Jse=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return fa(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||io.all))},Qse=(t,e,r)=>!t||!e||t===e||l0(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Zse=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,eoe=(t,e)=>!wT(pt(t,e)).length&&kn(t,e),toe=(t,e,r)=>{const n=l0(pt(t,r));return Ar(n,"root",e[r]),Ar(t,r,n),t},M1=t=>Qo(t);function Cj(t,e,r="validate"){if(M1(t)||Array.isArray(t)&&t.every(M1)||qo(t)&&!t)return{type:r,message:M1(t)?t:"",ref:e}}var Mh=t=>vn(t)&&!Vw(t)?t:{value:t,message:""},kj=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:l,maxLength:c,minLength:u,min:f,max:p,pattern:h,validate:y,name:m,valueAsNumber:w,mount:g}=t._f,v=pt(r,m);if(!g||e.has(m))return{};const x=o?o[0]:s,E=A=>{i&&x.reportValidity&&(x.setCustomValidity(qo(A)?"":A||""),x.reportValidity())},S={},C=_T(s),P=_y(s),k=C||P,T=(w||xT(s))&&On(s.value)&&On(v)||Uw(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,W=$U.bind(null,m,n,S),M=(A,I,L,se=Vl.maxLength,pe=Vl.minLength)=>{const X=A?I:L;S[m]={type:A?se:pe,message:X,ref:s,...W(A?se:pe,X)}};if(a?!Array.isArray(v)||!v.length:l&&(!k&&(T||Ki(v))||qo(v)&&!v||P&&!WU(o).isValid||C&&!GU(o).isValid)){const{value:A,message:I}=M1(l)?{value:!!l,message:l}:Mh(l);if(A&&(S[m]={type:Vl.required,message:I,ref:x,...W(Vl.required,I)},!n))return E(I),S}if(!T&&(!Ki(f)||!Ki(p))){let A,I;const L=Mh(p),se=Mh(f);if(!Ki(v)&&!isNaN(v)){const pe=s.valueAsNumber||v&&+v;Ki(L.value)||(A=pe>L.value),Ki(se.value)||(I=pe<se.value)}else{const pe=s.valueAsDate||new Date(v),X=xe=>new Date(new Date().toDateString()+" "+xe),ce=s.type=="time",ue=s.type=="week";Qo(L.value)&&v&&(A=ce?X(v)>X(L.value):ue?v>L.value:pe>new Date(L.value)),Qo(se.value)&&v&&(I=ce?X(v)<X(se.value):ue?v<se.value:pe<new Date(se.value))}if((A||I)&&(M(!!A,L.message,se.message,Vl.max,Vl.min),!n))return E(S[m].message),S}if((c||u)&&!T&&(Qo(v)||a&&Array.isArray(v))){const A=Mh(c),I=Mh(u),L=!Ki(A.value)&&v.length>+A.value,se=!Ki(I.value)&&v.length<+I.value;if((L||se)&&(M(L,A.message,I.message),!n))return E(S[m].message),S}if(h&&!T&&Qo(v)){const{value:A,message:I}=Mh(h);if(Vw(A)&&!v.match(A)&&(S[m]={type:Vl.pattern,message:I,ref:s,...W(Vl.pattern,I)},!n))return E(I),S}if(y){if(ao(y)){const A=await y(v,r),I=Cj(A,x);if(I&&(S[m]={...I,...W(Vl.validate,I.message)},!n))return E(I.message),S}else if(vn(y)){let A={};for(const I in y){if(!fa(A)&&!n)break;const L=Cj(await y[I](v,r),x,I);L&&(A={...L,...W(I,L.message)},E(L.message),n&&(S[m]=A))}if(!fa(A)&&(S[m]={ref:x,...A},!n))return S}}return E(!0),S};const roe={mode:io.onSubmit,reValidateMode:io.onChange,shouldFocusError:!0};function noe(t={}){let e={...roe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ao(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=vn(e.defaultValues)||vn(e.values)?Yn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Yn(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const p={array:bj(),state:bj()},h=e.criteriaMode===io.all,y=G=>ne=>{clearTimeout(c),c=setTimeout(G,ne)},m=async G=>{if(!e.disabled&&(u.isValid||f.isValid||G)){const ne=e.resolver?fa((await P()).errors):await T(n,!0);ne!==r.isValid&&p.state.next({isValid:ne})}},w=(G,ne)=>{!e.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((G||Array.from(o.mount)).forEach(re=>{re&&(ne?Ar(r.validatingFields,re,ne):kn(r.validatingFields,re))}),p.state.next({validatingFields:r.validatingFields,isValidating:!fa(r.validatingFields)}))},g=(G,ne=[],re,Ae,Ne=!0,Se=!0)=>{if(Ae&&re&&!e.disabled){if(s.action=!0,Se&&Array.isArray(pt(n,G))){const Ie=re(pt(n,G),Ae.argA,Ae.argB);Ne&&Ar(n,G,Ie)}if(Se&&Array.isArray(pt(r.errors,G))){const Ie=re(pt(r.errors,G),Ae.argA,Ae.argB);Ne&&Ar(r.errors,G,Ie),eoe(r.errors,G)}if((u.touchedFields||f.touchedFields)&&Se&&Array.isArray(pt(r.touchedFields,G))){const Ie=re(pt(r.touchedFields,G),Ae.argA,Ae.argB);Ne&&Ar(r.touchedFields,G,Ie)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=yg(i,a)),p.state.next({name:G,isDirty:M(G,ne),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ar(a,G,ne)},v=(G,ne)=>{Ar(r.errors,G,ne),p.state.next({errors:r.errors})},x=G=>{r.errors=G,p.state.next({errors:r.errors,isValid:!1})},E=(G,ne,re,Ae)=>{const Ne=pt(n,G);if(Ne){const Se=pt(a,G,On(re)?pt(i,G):re);On(Se)||Ae&&Ae.defaultChecked||ne?Ar(a,G,ne?Se:Aj(Ne._f)):L(G,Se),s.mount&&m()}},S=(G,ne,re,Ae,Ne)=>{let Se=!1,Ie=!1;const Fe={name:G};if(!e.disabled){if(!re||Ae){(u.isDirty||f.isDirty)&&(Ie=r.isDirty,r.isDirty=Fe.isDirty=M(),Se=Ie!==Fe.isDirty);const Ke=Iu(pt(i,G),ne);Ie=!!pt(r.dirtyFields,G),Ke?kn(r.dirtyFields,G):Ar(r.dirtyFields,G,!0),Fe.dirtyFields=r.dirtyFields,Se=Se||(u.dirtyFields||f.dirtyFields)&&Ie!==!Ke}if(re){const Ke=pt(r.touchedFields,G);Ke||(Ar(r.touchedFields,G,re),Fe.touchedFields=r.touchedFields,Se=Se||(u.touchedFields||f.touchedFields)&&Ke!==re)}Se&&Ne&&p.state.next(Fe)}return Se?Fe:{}},C=(G,ne,re,Ae)=>{const Ne=pt(r.errors,G),Se=(u.isValid||f.isValid)&&qo(ne)&&r.isValid!==ne;if(e.delayError&&re?(l=y(()=>v(G,re)),l(e.delayError)):(clearTimeout(c),l=null,re?Ar(r.errors,G,re):kn(r.errors,G)),(re?!Iu(Ne,re):Ne)||!fa(Ae)||Se){const Ie={...Ae,...Se&&qo(ne)?{isValid:ne}:{},errors:r.errors,name:G};r={...r,...Ie},p.state.next(Ie)}},P=async G=>{w(G,!0);const ne=await e.resolver(a,e.context,Kse(G||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(G),ne},k=async G=>{const{errors:ne}=await P(G);if(G)for(const re of G){const Ae=pt(ne,re);Ae?Ar(r.errors,re,Ae):kn(r.errors,re)}else r.errors=ne;return ne},T=async(G,ne,re={valid:!0})=>{for(const Ae in G){const Ne=G[Ae];if(Ne){const{_f:Se,...Ie}=Ne;if(Se){const Fe=o.array.has(Se.name),Ke=Ne._f&&Yse(Ne._f);Ke&&u.validatingFields&&w([Ae],!0);const nt=await kj(Ne,o.disabled,a,h,e.shouldUseNativeValidation&&!ne,Fe);if(Ke&&u.validatingFields&&w([Ae]),nt[Se.name]&&(re.valid=!1,ne))break;!ne&&(pt(nt,Se.name)?Fe?toe(r.errors,nt,Se.name):Ar(r.errors,Se.name,nt[Se.name]):kn(r.errors,Se.name))}!fa(Ie)&&await T(Ie,ne,re)}}return re.valid},W=()=>{for(const G of o.unMount){const ne=pt(n,G);ne&&(ne._f.refs?ne._f.refs.every(re=>!Z5(re)):!Z5(ne._f.ref))&&$(G)}o.unMount=new Set},M=(G,ne)=>!e.disabled&&(G&&ne&&Ar(a,G,ne),!Iu(xe(),i)),A=(G,ne,re)=>qse(G,o,{...s.mount?a:On(ne)?i:Qo(G)?{[G]:ne}:ne},re,ne),I=G=>wT(pt(s.mount?a:i,G,e.shouldUnregister?pt(i,G,[]):[])),L=(G,ne,re={})=>{const Ae=pt(n,G);let Ne=ne;if(Ae){const Se=Ae._f;Se&&(!Se.disabled&&Ar(a,G,HU(ne,Se)),Ne=Uw(Se.ref)&&Ki(ne)?"":ne,VU(Se.ref)?[...Se.ref.options].forEach(Ie=>Ie.selected=Ne.includes(Ie.value)):Se.refs?_y(Se.ref)?Se.refs.forEach(Ie=>{(!Ie.defaultChecked||!Ie.disabled)&&(Array.isArray(Ne)?Ie.checked=!!Ne.find(Fe=>Fe===Ie.value):Ie.checked=Ne===Ie.value||!!Ne)}):Se.refs.forEach(Ie=>Ie.checked=Ie.value===Ne):xT(Se.ref)?Se.ref.value="":(Se.ref.value=Ne,Se.ref.type||p.state.next({name:G,values:Yn(a)})))}(re.shouldDirty||re.shouldTouch)&&S(G,Ne,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&ue(G)},se=(G,ne,re)=>{for(const Ae in ne){if(!ne.hasOwnProperty(Ae))return;const Ne=ne[Ae],Se=G+"."+Ae,Ie=pt(n,Se);(o.array.has(G)||vn(Ne)||Ie&&!Ie._f)&&!ff(Ne)?se(Se,Ne,re):L(Se,Ne,re)}},pe=(G,ne,re={})=>{const Ae=pt(n,G),Ne=o.array.has(G),Se=Yn(ne);Ar(a,G,Se),Ne?(p.array.next({name:G,values:Yn(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&re.shouldDirty&&p.state.next({name:G,dirtyFields:yg(i,a),isDirty:M(G,Se)})):Ae&&!Ae._f&&!Ki(Se)?se(G,Se,re):L(G,Se,re),Tj(G,o)&&p.state.next({...r,name:G}),p.state.next({name:s.mount?G:void 0,values:Yn(a)})},X=async G=>{s.mount=!0;const ne=G.target;let re=ne.name,Ae=!0;const Ne=pt(n,re),Se=Ke=>{Ae=Number.isNaN(Ke)||ff(Ke)&&isNaN(Ke.getTime())||Iu(Ke,pt(a,re,Ke))},Ie=Sj(e.mode),Fe=Sj(e.reValidateMode);if(Ne){let Ke,nt;const bt=ne.type?Aj(Ne._f):Mse(G),et=G.type===wj.BLUR||G.type===wj.FOCUS_OUT,ar=!Xse(Ne._f)&&!e.resolver&&!pt(r.errors,re)&&!Ne._f.deps||Zse(et,pt(r.touchedFields,re),r.isSubmitted,Fe,Ie),gt=Tj(re,o,et);Ar(a,re,bt),et?(!ne||!ne.readOnly)&&(Ne._f.onBlur&&Ne._f.onBlur(G),l&&l(0)):Ne._f.onChange&&Ne._f.onChange(G);const qr=S(re,bt,et),Ut=!fa(qr)||gt;if(!et&&p.state.next({name:re,type:G.type,values:Yn(a)}),ar)return(u.isValid||f.isValid)&&(e.mode==="onBlur"?et&&m():et||m()),Ut&&p.state.next({name:re,...gt?{}:qr});if(!et&&gt&&p.state.next({...r}),e.resolver){const{errors:Dt}=await P([re]);if(Se(bt),Ae){const ai=Pj(r.errors,n,re),Mt=Pj(Dt,n,ai.name||re);Ke=Mt.error,re=Mt.name,nt=fa(Dt)}}else w([re],!0),Ke=(await kj(Ne,o.disabled,a,h,e.shouldUseNativeValidation))[re],w([re]),Se(bt),Ae&&(Ke?nt=!1:(u.isValid||f.isValid)&&(nt=await T(n,!0)));Ae&&(Ne._f.deps&&ue(Ne._f.deps),C(re,nt,Ke,qr))}},ce=(G,ne)=>{if(pt(r.errors,ne)&&G.focus)return G.focus(),1},ue=async(G,ne={})=>{let re,Ae;const Ne=l0(G);if(e.resolver){const Se=await k(On(G)?G:Ne);re=fa(Se),Ae=G?!Ne.some(Ie=>pt(Se,Ie)):re}else G?(Ae=(await Promise.all(Ne.map(async Se=>{const Ie=pt(n,Se);return await T(Ie&&Ie._f?{[Se]:Ie}:Ie)}))).every(Boolean),!(!Ae&&!r.isValid)&&m()):Ae=re=await T(n);return p.state.next({...!Qo(G)||(u.isValid||f.isValid)&&re!==r.isValid?{}:{name:G},...e.resolver||!G?{isValid:re}:{},errors:r.errors}),ne.shouldFocus&&!Ae&&c0(n,ce,G?Ne:o.mount),Ae},xe=G=>{const ne={...s.mount?a:i};return On(G)?ne:Qo(G)?pt(ne,G):G.map(re=>pt(ne,re))},we=(G,ne)=>({invalid:!!pt((ne||r).errors,G),isDirty:!!pt((ne||r).dirtyFields,G),error:pt((ne||r).errors,G),isValidating:!!pt(r.validatingFields,G),isTouched:!!pt((ne||r).touchedFields,G)}),F=G=>{G&&l0(G).forEach(ne=>kn(r.errors,ne)),p.state.next({errors:G?r.errors:{}})},J=(G,ne,re)=>{const Ae=(pt(n,G,{_f:{}})._f||{}).ref,Ne=pt(r.errors,G)||{},{ref:Se,message:Ie,type:Fe,...Ke}=Ne;Ar(r.errors,G,{...Ke,...ne,ref:Ae}),p.state.next({name:G,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},ie=(G,ne)=>ao(G)?p.state.subscribe({next:re=>"values"in re&&G(A(void 0,ne),re)}):A(G,ne,!0),fe=G=>p.state.subscribe({next:ne=>{Qse(G.name,ne.name,G.exact)&&Jse(ne,G.formState||u,j,G.reRenderRoot)&&G.callback({values:{...a},...r,...ne,defaultValues:i})}}).unsubscribe,Q=G=>(s.mount=!0,f={...f,...G.formState},fe({...G,formState:f})),$=(G,ne={})=>{for(const re of G?l0(G):o.mount)o.mount.delete(re),o.array.delete(re),ne.keepValue||(kn(n,re),kn(a,re)),!ne.keepError&&kn(r.errors,re),!ne.keepDirty&&kn(r.dirtyFields,re),!ne.keepTouched&&kn(r.touchedFields,re),!ne.keepIsValidating&&kn(r.validatingFields,re),!e.shouldUnregister&&!ne.keepDefaultValue&&kn(i,re);p.state.next({values:Yn(a)}),p.state.next({...r,...ne.keepDirty?{isDirty:M()}:{}}),!ne.keepIsValid&&m()},V=({disabled:G,name:ne})=>{(qo(G)&&s.mount||G||o.disabled.has(ne))&&(G?o.disabled.add(ne):o.disabled.delete(ne))},te=(G,ne={})=>{let re=pt(n,G);const Ae=qo(ne.disabled)||qo(e.disabled);return Ar(n,G,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:G}},name:G,mount:!0,...ne}}),o.mount.add(G),re?V({disabled:qo(ne.disabled)?ne.disabled:e.disabled,name:G}):E(G,!0,ne.value),{...Ae?{disabled:ne.disabled||e.disabled}:{},...e.progressive?{required:!!ne.required,min:vg(ne.min),max:vg(ne.max),minLength:vg(ne.minLength),maxLength:vg(ne.maxLength),pattern:vg(ne.pattern)}:{},name:G,onChange:X,onBlur:X,ref:Ne=>{if(Ne){te(G,ne),re=pt(n,G);const Se=On(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,Ie=Wse(Se),Fe=re._f.refs||[];if(Ie?Fe.find(Ke=>Ke===Se):Se===re._f.ref)return;Ar(n,G,{_f:{...re._f,...Ie?{refs:[...Fe.filter(Z5),Se,...Array.isArray(pt(i,G))?[{}]:[]],ref:{type:Se.type,name:G}}:{ref:Se}}}),E(G,!1,void 0,Se)}else re=pt(n,G,{}),re._f&&(re._f.mount=!1),(e.shouldUnregister||ne.shouldUnregister)&&!(Bse(o.array,G)&&s.action)&&o.unMount.add(G)}}},ae=()=>e.shouldFocusError&&c0(n,ce,o.mount),Z=G=>{qo(G)&&(p.state.next({disabled:G}),c0(n,(ne,re)=>{const Ae=pt(n,re);Ae&&(ne.disabled=Ae._f.disabled||G,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(Ne=>{Ne.disabled=Ae._f.disabled||G}))},0,!1))},ee=(G,ne)=>async re=>{let Ae;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let Ne=Yn(a);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Se,values:Ie}=await P();r.errors=Se,Ne=Yn(Ie)}else await T(n);if(o.disabled.size)for(const Se of o.disabled)kn(Ne,Se);if(kn(r.errors,"root"),fa(r.errors)){p.state.next({errors:{}});try{await G(Ne,re)}catch(Se){Ae=Se}}else ne&&await ne({...r.errors},re),ae(),setTimeout(ae);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fa(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},_e=(G,ne={})=>{pt(n,G)&&(On(ne.defaultValue)?pe(G,Yn(pt(i,G))):(pe(G,ne.defaultValue),Ar(i,G,Yn(ne.defaultValue))),ne.keepTouched||kn(r.touchedFields,G),ne.keepDirty||(kn(r.dirtyFields,G),r.isDirty=ne.defaultValue?M(G,Yn(pt(i,G))):M()),ne.keepError||(kn(r.errors,G),u.isValid&&m()),p.state.next({...r}))},H=(G,ne={})=>{const re=G?Yn(G):i,Ae=Yn(re),Ne=fa(G),Se=Ne?i:Ae;if(ne.keepDefaultValues||(i=re),!ne.keepValues){if(ne.keepDirtyValues){const Ie=new Set([...o.mount,...Object.keys(yg(i,a))]);for(const Fe of Array.from(Ie))pt(r.dirtyFields,Fe)?Ar(Se,Fe,pt(a,Fe)):pe(Fe,pt(Se,Fe))}else{if(vT&&On(G))for(const Ie of o.mount){const Fe=pt(n,Ie);if(Fe&&Fe._f){const Ke=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Uw(Ke)){const nt=Ke.closest("form");if(nt){nt.reset();break}}}}if(ne.keepFieldsRef)for(const Ie of o.mount)pe(Ie,pt(Se,Ie));else n={}}a=e.shouldUnregister?ne.keepDefaultValues?Yn(i):{}:Yn(Se),p.array.next({values:{...Se}}),p.state.next({values:{...Se}})}o={mount:ne.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!u.isValid||!!ne.keepIsValid||!!ne.keepDirtyValues,s.watch=!!e.shouldUnregister,p.state.next({submitCount:ne.keepSubmitCount?r.submitCount:0,isDirty:Ne?!1:ne.keepDirty?r.isDirty:!!(ne.keepDefaultValues&&!Iu(G,i)),isSubmitted:ne.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ne?{}:ne.keepDirtyValues?ne.keepDefaultValues&&a?yg(i,a):r.dirtyFields:ne.keepDefaultValues&&G?yg(i,G):ne.keepDirty?r.dirtyFields:{},touchedFields:ne.keepTouched?r.touchedFields:{},errors:ne.keepErrors?r.errors:{},isSubmitSuccessful:ne.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ve=(G,ne)=>H(ao(G)?G(a):G,ne),B=(G,ne={})=>{const re=pt(n,G),Ae=re&&re._f;if(Ae){const Ne=Ae.refs?Ae.refs[0]:Ae.ref;Ne.focus&&(Ne.focus(),ne.shouldSelect&&ao(Ne.select)&&Ne.select())}},j=G=>{r={...r,...G}},q={control:{register:te,unregister:$,getFieldState:we,handleSubmit:ee,setError:J,_subscribe:fe,_runSchema:P,_focusError:ae,_getWatch:A,_getDirty:M,_setValid:m,_setFieldArray:g,_setDisabledField:V,_setErrors:x,_getFieldArray:I,_reset:H,_resetDefaultValues:()=>ao(e.defaultValues)&&e.defaultValues().then(G=>{ve(G,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:W,_disableForm:Z,_subjects:p,_proxyFormState:u,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(G){s=G},get _defaultValues(){return i},get _names(){return o},set _names(G){o=G},get _formState(){return r},get _options(){return e},set _options(G){e={...e,...G}}},subscribe:Q,trigger:ue,register:te,handleSubmit:ee,watch:ie,setValue:pe,getValues:xe,reset:ve,resetField:_e,clearErrors:F,unregister:$,setError:J,setFocus:B,getFieldState:we};return{...q,formControl:q}}function bl(t={}){const e=br.useRef(void 0),r=br.useRef(void 0),[n,i]=br.useState({isDirty:!1,isValidating:!1,isLoading:ao(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ao(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!ao(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:s,...o}=noe(t);e.current={...o,formState:n}}const a=e.current.control;return a._options=t,zse(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,s},[a]),br.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),br.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),br.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),br.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),br.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),br.useEffect(()=>{t.values&&!Iu(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[a,t.values]),br.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=Vse(n,a),e.current}const Ij=(t,e,r)=>{if(t&&"reportValidity"in t){const n=pt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},KU=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Ij(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>Ij(i,r,t))}},ioe=(t,e)=>{e.shouldUseNativeValidation&&KU(t,e);const r={};for(const n in t){const i=pt(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(aoe(e.names||Object.keys(t),n)){const s=Object.assign({},pt(r,n));Ar(s,"root",a),Ar(r,n,s)}else Ar(r,n,a)}return r},aoe=(t,e)=>{const r=jj(e);return t.some(n=>jj(n).match(`^${r}\\.\\d+`))};function jj(t){return t.replace(/\]|\[/g,"")}function xl(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var l=(e!=null&&e.context,Promise.resolve(t[r.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},e,{context:i}))).then(function(c){return a.shouldUseNativeValidation&&KU({},a),{values:r.raw?Object.assign({},n):c,errors:{}}}))}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(s){if(!s.inner)throw s;return{values:{},errors:ioe((o=s,l=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(o.inner||[]).reduce(function(c,u){if(c[u.path]||(c[u.path]={message:u.message,type:u.type}),l){var f=c[u.path].types,p=f&&f[u.type];c[u.path]=$U(u.path,l,c,u.type,p?[].concat(p,u.message):u.message)}return c},{})),a)};var o,l}))}catch(s){return Promise.reject(s)}}}function rh(t){this._maxSize=t,this.clear()}rh.prototype.clear=function(){this._size=0,this._values=Object.create(null)};rh.prototype.get=function(t){return this._values[t]};rh.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var soe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,YU=/^\d+$/,ooe=/^\d/,loe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,coe=/^\s*(['"]?)(.*?)(\1)\s*$/,ET=512,Oj=new rh(ET),Rj=new rh(ET),Lj=new rh(ET),Ef={Cache:rh,split:QS,normalizePath:e_,setter:function(t){var e=e_(t);return Rj.get(t)||Rj.set(t,function(n,i){for(var a=0,s=e.length,o=n;a<s-1;){var l=e[a];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;o=o[e[a++]]}o[e[a]]=i})},getter:function(t,e){var r=e_(t);return Lj.get(t)||Lj.set(t,function(i){for(var a=0,s=r.length;a<s;)if(i!=null||!e)i=i[r[a++]];else return;return i})},join:function(t){return t.reduce(function(e,r){return e+(AT(r)||YU.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){uoe(Array.isArray(t)?t:QS(t),e,r)}};function e_(t){return Oj.get(t)||Oj.set(t,QS(t).map(function(e){return e.replace(coe,"$2")}))}function QS(t){return t.match(soe)||[""]}function uoe(t,e,r){var n=t.length,i,a,s,o;for(a=0;a<n;a++)i=t[a],i&&(hoe(i)&&(i='"'+i+'"'),o=AT(i),s=!o&&/^\d+$/.test(i),e.call(r,i,o,s,a,t))}function AT(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function doe(t){return t.match(ooe)&&!t.match(YU)}function foe(t){return loe.test(t)}function hoe(t){return!AT(t)&&(doe(t)||foe(t))}const poe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,xx=t=>t.match(poe)||[],_x=t=>t[0].toUpperCase()+t.slice(1),ST=(t,e)=>xx(t).join(e).toLowerCase(),XU=t=>xx(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),moe=t=>_x(XU(t)),goe=t=>ST(t,"_"),yoe=t=>ST(t,"-"),voe=t=>_x(ST(t," ")),woe=t=>xx(t).map(_x).join(" ");var t_={words:xx,upperFirst:_x,camelCase:XU,pascalCase:moe,snakeCase:goe,kebabCase:yoe,sentenceCase:voe,titleCase:woe},NT={exports:{}};NT.exports=function(t){return JU(boe(t),t)};NT.exports.array=JU;function JU(t,e){var r=t.length,n=new Array(r),i={},a=r,s=xoe(e),o=_oe(t);for(e.forEach(function(c){if(!o.has(c[0])||!o.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});a--;)i[a]||l(t[a],a,new Set);return n;function l(c,u,f){if(f.has(c)){var p;try{p=", node was:"+JSON.stringify(c)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!o.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var h=s.get(c)||new Set;if(h=Array.from(h),u=h.length){f.add(c);do{var y=h[--u];l(y,o.get(y),f)}while(u);f.delete(c)}n[--r]=c}}}function boe(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var i=t[r];e.add(i[0]),e.add(i[1])}return Array.from(e)}function xoe(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var i=t[r];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function _oe(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Eoe=NT.exports;const Aoe=bo(Eoe),Soe=Object.prototype.toString,Noe=Error.prototype.toString,Toe=RegExp.prototype.toString,Poe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Coe=/^Symbol\((.*)\)(.*)$/;function koe(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Dj(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return koe(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Poe.call(t).replace(Coe,"Symbol($1)");const n=Soe.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Noe.call(t)+"]":n==="RegExp"?Toe.call(t):null}function dc(t,e){let r=Dj(t,e);return r!==null?r:JSON.stringify(t,function(n,i){let a=Dj(this[n],e);return a!==null?a:i},2)}function QU(t){return t==null?[]:[].concat(t)}let ZU,e$,t$,Ioe=/\$\{\s*(\w+)\s*\}/g;ZU=Symbol.toStringTag;class Mj{constructor(e,r,n,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[ZU]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=i,this.errors=[],this.inner=[],QU(e).forEach(a=>{if(Yi.isError(a)){this.errors.push(...a.errors);const s=a.inner.length?a.inner:[a];this.inner.push(...s)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}e$=Symbol.hasInstance;t$=Symbol.toStringTag;class Yi extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(Ioe,(i,a)=>dc(r[a])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,i,a){const s=new Mj(e,r,n,i);if(a)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[t$]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Yi)}static[e$](e){return Mj[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Wo={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const i=n!=null&&n!==r?` (cast from the value \`${dc(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${dc(r,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${dc(r,!0)}\``+i}},da={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},xu={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ZS={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},joe={isValue:"${path} field must be ${value}"},F1={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},B1={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Ooe={notType:t=>{const{path:e,value:r,spec:n}=t,i=n.types.length;if(Array.isArray(r)){if(r.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${r.length} for value: \`${dc(r,!0)}\``;if(r.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${r.length} for value: \`${dc(r,!0)}\``}return Yi.formatError(Wo.notType,t)}};Object.assign(Object.create(null),{mixed:Wo,string:da,number:xu,date:ZS,object:F1,array:B1,boolean:joe,tuple:Ooe});const Ex=t=>t&&t.__isYupSchema__;class zw{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:a}=r,s=typeof n=="function"?n:(...o)=>o.every(l=>l===n);return new zw(e,(o,l)=>{var c;let u=s(...o)?i:a;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(a=>a.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),i=this.fn(n,e,r);if(i===void 0||i===e)return e;if(!Ex(i))throw new TypeError("conditions must return a schema object");return i.resolve(r)}}const Dv={context:"$",value:"."};function Roe(t,e){return new vd(t,e)}class vd{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Dv.context,this.isValue=this.key[0]===Dv.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Dv.context:this.isValue?Dv.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Ef.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let i=this.isContext?n:this.isValue?e:r;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}vd.prototype.__isYupRef=!0;const nc=t=>t==null;function Fh(t){function e({value:r,path:n="",options:i,originalValue:a,schema:s},o,l){const{name:c,test:u,params:f,message:p,skipAbsent:h}=t;let{parent:y,context:m,abortEarly:w=s.spec.abortEarly,disableStackTrace:g=s.spec.disableStackTrace}=i;const v={value:r,parent:y,context:m};function x(M={}){const A=r$(Object.assign({value:r,originalValue:a,label:s.spec.label,path:M.path||n,spec:s.spec,disableStackTrace:M.disableStackTrace||g},f,M.params),v),I=new Yi(Yi.formatError(M.message||p,A),r,A.path,M.type||c,A.disableStackTrace);return I.params=A,I}const E=w?o:l;let S={path:n,parent:y,type:c,from:i.from,createError:x,resolve(M){return n$(M,v)},options:i,originalValue:a,schema:s};const C=M=>{Yi.isError(M)?E(M):M?l(null):E(x())},P=M=>{Yi.isError(M)?E(M):o(M)};if(h&&nc(r))return C(!0);let T;try{var W;if(T=u.call(S,r,S),typeof((W=T)==null?void 0:W.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${S.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(T).then(C,P)}}catch(M){P(M);return}C(T)}return e.OPTIONS=t,e}function r$(t,e){if(!t)return t;for(const r of Object.keys(t))t[r]=n$(t[r],e);return t}function n$(t,e){return vd.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function Loe(t,e,r,n=r){let i,a,s;return e?(Ef.forEach(e,(o,l,c)=>{let u=l?o.slice(1,o.length-1):o;t=t.resolve({context:n,parent:i,value:r});let f=t.type==="tuple",p=c?parseInt(u,10):0;if(t.innerType||f){if(f&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(r&&p>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);i=r,r=r&&r[p],t=f?t.spec.types[p]:t.innerType}if(!c){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${s} which is a type: "${t.type}")`);i=r,r=r&&r[u],t=t.fields[u]}a=u,s=l?"["+o+"]":"."+o}),{schema:t,parent:i,parentPath:a}):{parent:i,parentPath:e,schema:t}}class qw extends Set{describe(){const e=[];for(const r of this.values())e.push(vd.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new qw(this.values())}merge(e,r){const n=this.clone();return e.forEach(i=>n.add(i)),r.forEach(i=>n.delete(i)),n}}function fp(t,e=new Map){if(Ex(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=fp(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,i]of t.entries())r.set(n,fp(i,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(fp(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,i]of Object.entries(t))r[n]=fp(i,e)}else throw Error(`Unable to clone ${t}`);return r}function Doe(t){if(!(t!=null&&t.length))return;const e=[];let r="",n=!1,i=!1;for(let a=0;a<t.length;a++){const s=t[a];if(s==="["&&!i){r&&(e.push(...r.split(".").filter(Boolean)),r=""),n=!0;continue}if(s==="]"&&!i){r&&(/^\d+$/.test(r)?e.push(r):e.push(r.replace(/^"|"$/g,"")),r=""),n=!1;continue}if(s==='"'){i=!i;continue}if(s==="."&&!n&&!i){r&&(e.push(r),r="");continue}r+=s}return r&&e.push(...r.split(".").filter(Boolean)),e}function Moe(t,e){const r=e?`${e}.${t.path}`:t.path;return t.errors.map(n=>({message:n,path:Doe(r)}))}function i$(t,e){var r;if(!((r=t.inner)!=null&&r.length)&&t.errors.length)return Moe(t,e);const n=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(i=>i$(i,n))}class Ts{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new qw,this._blacklist=new qw,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Wo.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=fp(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const i=Object.assign({},r.spec,n.spec);return n.spec=i,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(a=>{e.tests.forEach(s=>{a.test(s.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((i,a)=>a.resolve(i,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,i,a;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),i=r.assert==="ignore-optionality",a=n._cast(e,r);if(r.assert!==!1&&!n.isType(a)){if(i&&nc(a))return a;let s=dc(e),o=dc(a);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${s} 
`+(o!==s?`result of cast: ${o}`:""))}return a}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((i,a)=>a.call(this,i,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,i){let{path:a,originalValue:s=e,strict:o=this.spec.strict}=r,l=e;o||(l=this._cast(l,Object.assign({assert:!1},r)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:a,value:l,originalValue:s,options:r,tests:c},n,u=>{if(u.length)return i(u,l);this.runTests({path:a,value:l,originalValue:s,options:r,tests:this.tests},n,i)})}runTests(e,r,n){let i=!1,{tests:a,value:s,originalValue:o,path:l,options:c}=e,u=m=>{i||(i=!0,r(m,s))},f=m=>{i||(i=!0,n(m,s))},p=a.length,h=[];if(!p)return f([]);let y={value:s,originalValue:o,path:l,options:c,schema:this};for(let m=0;m<a.length;m++){const w=a[m];w(y,u,function(v){v&&(Array.isArray(v)?h.push(...v):h.push(v)),--p<=0&&f(h)})}}asNestedTest({key:e,index:r,parent:n,parentPath:i,originalParent:a,options:s}){const o=e??r;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let c=n[o];const u=Object.assign({},s,{strict:!0,parent:n,value:c,originalValue:a[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${i||""}[${l?o:`"${o}"`}]`:(i?`${i}.`:"")+e});return(f,p,h)=>this.resolve(u)._validate(c,u,p,h)}validate(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),a=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return new Promise((s,o)=>i._validate(e,r,(l,c)=>{Yi.isError(l)&&(l.value=c),o(l)},(l,c)=>{l.length?o(new Yi(l,c,void 0,void 0,a)):s(c)}))}validateSync(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),a,s=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},r,{sync:!0}),(o,l)=>{throw Yi.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new Yi(o,e,void 0,void 0,s);a=l}),a}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Yi.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Yi.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):fp(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Fh({message:r,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Fh({message:r,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Wo.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Wo.notNull){return this.nullability(!1,e)}required(e=Wo.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Wo.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),i=Fh(r),a=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(s=>!(s.OPTIONS.name===r.name&&(a||s.OPTIONS.test===i.OPTIONS.test))),n.tests.push(i),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),i=QU(e).map(a=>new vd(a));return i.forEach(a=>{a.isSibling&&n.deps.push(a.key)}),n.conditions.push(typeof r=="function"?new zw(i,r):zw.fromOptions(i,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Fh({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Wo.oneOf){let n=this.clone();return e.forEach(i=>{n._whitelist.add(i),n._blacklist.delete(i)}),n.internalTests.whiteList=Fh({message:r,name:"oneOf",skipAbsent:!0,test(i){let a=this.schema._whitelist,s=a.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:s}})}}),n}notOneOf(e,r=Wo.notOneOf){let n=this.clone();return e.forEach(i=>{n._blacklist.add(i),n._whitelist.delete(i)}),n.internalTests.blacklist=Fh({message:r,name:"notOneOf",test(i){let a=this.schema._blacklist,s=a.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(a).join(", "),resolved:s}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:i,optional:a,nullable:s}=r.spec;return{meta:i,label:n,optional:a,nullable:s,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.filter((l,c,u)=>u.findIndex(f=>f.OPTIONS.name===l.OPTIONS.name)===c).map(l=>{const c=l.OPTIONS.params&&e?r$(Object.assign({},l.OPTIONS.params),e):l.OPTIONS.params;return{name:l.OPTIONS.name,params:c}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await e.validate(n,{abortEarly:!1})}}catch(i){if(i instanceof Yi)return{issues:i$(i)};throw i}}}}}Ts.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Ts.prototype[`${t}At`]=function(e,r,n={}){const{parent:i,parentPath:a,schema:s}=Loe(this,e,r,n.context);return s[t](i&&i[a],Object.assign({},n,{parent:i,path:e}))};for(const t of["equals","is"])Ts.prototype[t]=Ts.prototype.oneOf;for(const t of["not","nope"])Ts.prototype[t]=Ts.prototype.notOneOf;const Foe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Boe(t){const e=eN(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function eN(t){var e,r;const n=Foe.exec(t);return n?{year:zl(n[1]),month:zl(n[2],1)-1,day:zl(n[3],1),hour:zl(n[4]),minute:zl(n[5]),second:zl(n[6]),millisecond:n[7]?zl(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:zl(n[10]),minuteOffset:zl(n[11])}:null}function zl(t,e=0){return Number(t)||e}let Uoe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$oe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Voe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,zoe="^\\d{4}-\\d{2}-\\d{2}",qoe="\\d{2}:\\d{2}:\\d{2}",Woe="(([+-]\\d{2}(:?\\d{2})?)|Z)",Hoe=new RegExp(`${zoe}T${qoe}(\\.\\d+)?${Woe}$`),Goe=t=>nc(t)||t===t.trim(),Koe={}.toString();function lt(){return new a$}class a$ extends Ts{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===Koe?e:i})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Wo.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=da.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=da.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=da.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,i,a;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:i,name:a}=r:i=r),this.test({name:a||"matches",message:i||da.matches,params:{regex:e},skipAbsent:!0,test:s=>s===""&&n||s.search(e)!==-1})}email(e=da.email){return this.matches(Uoe,{name:"email",message:e,excludeEmptyString:!0})}url(e=da.url){return this.matches($oe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=da.uuid){return this.matches(Voe,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,i;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:i=void 0}=e:r=e),this.matches(Hoe,{name:"datetime",message:r||da.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||da.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:a=>{if(!a||n)return!0;const s=eN(a);return s?!!s.z:!1}}).test({name:"datetime_precision",message:r||da.datetime_precision,params:{precision:i},skipAbsent:!0,test:a=>{if(!a||i==null)return!0;const s=eN(a);return s?s.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=da.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:Goe})}lowercase(e=da.lowercase){return this.transform(r=>nc(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>nc(r)||r===r.toLowerCase()})}uppercase(e=da.uppercase){return this.transform(r=>nc(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>nc(r)||r===r.toUpperCase()})}}lt.prototype=a$.prototype;let Yoe=t=>t!=+t;function km(){return new s$}class s$ extends Ts{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Yoe(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return n.isType(i)||i===null?i:parseFloat(i)})})}min(e,r=xu.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=xu.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=xu.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=xu.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=xu.positive){return this.moreThan(0,e)}negative(e=xu.negative){return this.lessThan(0,e)}integer(e=xu.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>nc(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(i=>nc(i)?i:Math[e](i))}}km.prototype=s$.prototype;let Xoe=new Date(""),Joe=t=>Object.prototype.toString.call(t)==="[object Date]";class Ax extends Ts{constructor(){super({type:"date",check(e){return Joe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=Boe(e),isNaN(e)?Ax.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(vd.isRef(e))n=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=i}return n}min(e,r=ZS.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(n)}})}max(e,r=ZS.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(n)}})}}Ax.INVALID_DATE=Xoe;Ax.prototype;function Qoe(t,e=[]){let r=[],n=new Set,i=new Set(e.map(([s,o])=>`${s}-${o}`));function a(s,o){let l=Ef.split(s)[0];n.add(l),i.has(`${o}-${l}`)||r.push([o,l])}for(const s of Object.keys(t)){let o=t[s];n.add(s),vd.isRef(o)&&o.isSibling?a(o.path,s):Ex(o)&&"deps"in o&&o.deps.forEach(l=>a(l,s))}return Aoe.array(Array.from(n),r).reverse()}function Fj(t,e){let r=1/0;return t.some((n,i)=>{var a;if((a=e.path)!=null&&a.includes(n))return r=i,!0}),r}function o$(t){return(e,r)=>Fj(t,e)-Fj(t,r)}const l$=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function U1(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=U1(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=U1(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(U1)}):"optional"in t?t.optional():t}const Zoe=(t,e)=>{const r=[...Ef.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),i=Ef.getter(Ef.join(r),!0)(t);return!!(i&&n in i)};let Bj=t=>Object.prototype.toString.call(t)==="[object Object]";function Uj(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const ele=o$([]);function js(t){return new c$(t)}class c$ extends Ts{constructor(e){super({type:"object",check(r){return Bj(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=ele,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let i=super._cast(e,r);if(i===void 0)return this.getDefault(r);if(!this._typeCheck(i))return i;let a=this.fields,s=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(i).filter(f=>!this._nodes.includes(f))),l={},c=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),u=!1;for(const f of o){let p=a[f],h=f in i;if(p){let y,m=i[f];c.path=(r.path?`${r.path}.`:"")+f,p=p.resolve({value:m,context:r.context,parent:l});let w=p instanceof Ts?p.spec:void 0,g=w==null?void 0:w.strict;if(w!=null&&w.strip){u=u||f in i;continue}y=!r.__validating||!g?p.cast(i[f],c):i[f],y!==void 0&&(l[f]=y)}else h&&!s&&(l[f]=i[f]);(h!==f in l||l[f]!==i[f])&&(u=!0)}return u?l:i}_validate(e,r={},n,i){let{from:a=[],originalValue:s=e,recursive:o=this.spec.recursive}=r;r.from=[{schema:this,value:s},...a],r.__validating=!0,r.originalValue=s,super._validate(e,r,n,(l,c)=>{if(!o||!Bj(c)){i(l,c);return}s=s||c;let u=[];for(let f of this._nodes){let p=this.fields[f];!p||vd.isRef(p)||u.push(p.asNestedTest({options:r,key:f,parent:c,parentPath:r.path,originalParent:s}))}this.runTests({tests:u,value:c,originalValue:s,options:r},n,f=>{i(f.sort(this._sortErrors).concat(l),c)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[i,a]of Object.entries(this.fields)){const s=n[i];n[i]=s===void 0?a:s}return r.withMutation(i=>i.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var i;const a=this.fields[n];let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[n]})),r[n]=a&&"getDefault"in a?a.getDefault(s):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=Qoe(e,r),n._sortErrors=o$(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let i=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),i=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),i)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return U1(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,i])=>e.includes(n)&&e.includes(i)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let i=Ef.getter(e,!0);return this.transform(a=>{if(!a)return a;let s=a;return Zoe(a,e)&&(s=Object.assign({},a),n||delete s[e],s[r]=i(a)),s})}json(){return this.transform(l$)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||F1.exact,test(r){if(r==null)return!0;const n=Uj(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=F1.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(i){if(i==null)return!0;const a=Uj(this.schema,i);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=F1.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const i of Object.keys(r))n[e(i)]=r[i];return n})}camelCase(){return this.transformKeys(t_.camelCase)}snakeCase(){return this.transformKeys(t_.snakeCase)}constantCase(){return this.transformKeys(e=>t_.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[a,s]of Object.entries(r.fields)){var i;let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[a]})),n.fields[a]=s.describe(o)}return n}}js.prototype=c$.prototype;function Im(t){return new u$(t)}class u$ extends Ts{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let i=!1;const a=n.map((s,o)=>{const l=this.innerType.cast(s,Object.assign({},r,{path:`${r.path||""}[${o}]`}));return l!==s&&(i=!0),l});return i?a:n}_validate(e,r={},n,i){var a;let s=this.innerType,o=(a=r.recursive)!=null?a:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(l,c)=>{var u;if(!o||!s||!this._typeCheck(c)){i(l,c);return}let f=new Array(c.length);for(let h=0;h<c.length;h++){var p;f[h]=s.asNestedTest({options:r,index:h,parent:c,parentPath:r.path,originalParent:(p=r.originalValue)!=null?p:e})}this.runTests({value:c,tests:f,originalValue:(u=r.originalValue)!=null?u:e,options:r},n,h=>i(h.concat(l),c))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(l$)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!Ex(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+dc(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=B1.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||B1.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||B1.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,i,a)=>!e(n,i,a):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[0]})),n.innerType=r.innerType.describe(a)}return n}}Im.prototype=u$.prototype;function tle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const d$=O.forwardRef(tle);function rle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const ea=O.forwardRef(rle);function nle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const ile=O.forwardRef(nle);function ale({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const r_=O.forwardRef(ale);function sle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const n_=O.forwardRef(sle);function ole({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const $1=O.forwardRef(ole);function lle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const cle=O.forwardRef(lle);function ule({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Sx=O.forwardRef(ule);function dle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const f$=O.forwardRef(dle);function fle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ec=O.forwardRef(fle);function hle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const ple=O.forwardRef(hle);function mle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const gle=O.forwardRef(mle);function yle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const vle=O.forwardRef(yle);function wle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Vf=O.forwardRef(wle);function ble({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Ww=O.forwardRef(ble);function xle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tN=O.forwardRef(xle);function _le({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const TT=O.forwardRef(_le);function Ele({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Ale=O.forwardRef(Ele);function Sle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const jm=O.forwardRef(Sle);function Nle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Tle=O.forwardRef(Nle);function Ple({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Xp=O.forwardRef(Ple);function Cle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Jp=O.forwardRef(Cle);function kle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const rN=O.forwardRef(kle);function Ile({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const dl=O.forwardRef(Ile);function jle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Nx=O.forwardRef(jle);function Ole({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Tx=O.forwardRef(Ole);function Rle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Lle=O.forwardRef(Rle);function Dle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const Mle=O.forwardRef(Dle);function Fle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const nN=O.forwardRef(Fle);function Ble({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const PT=O.forwardRef(Ble);function Ule({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const h$=O.forwardRef(Ule);function $le({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const ta=O.forwardRef($le);function Vle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Px=O.forwardRef(Vle);function zle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const V0=O.forwardRef(zle);function qle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Zo=O.forwardRef(qle);function Wle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Hle=O.forwardRef(Wle);function Gle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}const p$=O.forwardRef(Gle);function Kle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Yle=O.forwardRef(Kle);function Xle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const _s=O.forwardRef(Xle);function Jle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Qle=O.forwardRef(Jle);function Zle({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Cx=O.forwardRef(Zle);function ece({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Yu=O.forwardRef(ece);function tce({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const vo=O.forwardRef(tce),rce=js({email:lt().email("E-mail inválido").required("E-mail é obrigatório"),password:lt().required("Senha é obrigatória")});function nce({onSuccess:t,onSwitchToRegister:e}){const[r,n]=O.useState(!1),[i,a]=O.useState(!1),[s,o]=O.useState(""),{register:l,handleSubmit:c,formState:{errors:u}}=bl({resolver:xl(rce)}),f=async p=>{a(!0),o("");try{const h=await Cm.login(p.email,p.password);h.success&&h.user?t(h.user):o(h.message)}catch(h){console.error("Erro no login:",h),o("Erro interno. Tente novamente.")}finally{a(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]}),d.jsx("p",{className:"text-blue-200",children:"Sistema de Gestão Jurídica"})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Entrar"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Acesse sua conta no LegalX"})]}),s&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-red-600 text-sm",children:s})}),d.jsxs("form",{onSubmit:c(f),className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail"}),d.jsxs("div",{className:"relative",children:[d.jsx(Xp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...l("email"),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),u.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),d.jsxs("div",{className:"relative",children:[d.jsx(nN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...l("password"),type:r?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Sua senha"}),d.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(rN,{className:"w-5 h-5"}):d.jsx(dl,{className:"w-5 h-5"})})]}),u.password&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.password.message})]}),d.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors mt-6",children:i?"Entrando...":"Entrar"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:["Não tem uma conta?"," ",d.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Criar Conta"})]})})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("div",{className:"bg-blue-800 bg-opacity-50 rounded-lg p-4",children:[d.jsxs("p",{className:"text-blue-100 text-sm mb-2",children:[d.jsx("strong",{children:"Demo:"})," Crie uma conta para testar o sistema"]}),d.jsx("p",{className:"text-blue-200 text-xs",children:"Todos os dados são salvos localmente no seu navegador"})]})})]})})}const ice=js({officeName:lt().required("Nome do escritório é obrigatório"),oabNumber:lt().required("Número da OAB é obrigatório"),email:lt().email("E-mail inválido").required("E-mail é obrigatório"),password:lt().min(6,"Senha deve ter pelo menos 6 caracteres").required("Senha é obrigatória"),confirmPassword:lt().oneOf([Roe("password")],"Senhas não coincidem").required("Confirmação de senha é obrigatória")});function ace({onSuccess:t,onSwitchToLogin:e}){const[r,n]=O.useState(!1),[i,a]=O.useState(!1),[s,o]=O.useState(!1),[l,c]=O.useState(""),{register:u,handleSubmit:f,formState:{errors:p}}=bl({resolver:xl(ice)}),h=async y=>{o(!0),c("");try{const m=await Cm.register({officeName:y.officeName,oabNumber:y.oabNumber,email:y.email},y.password);m.success&&m.user?t(m.user):c(m.message)}catch(m){console.error("Erro no cadastro:",m),c("Erro interno. Tente novamente.")}finally{o(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]}),d.jsx("p",{className:"text-blue-200",children:"Sistema de Gestão Jurídica"})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Criar Conta"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Cadastre seu escritório no LegalX"})]}),l&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-red-600 text-sm",children:l})}),d.jsxs("form",{onSubmit:f(h),className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Escritório *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Yu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("officeName"),type:"text",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Escritório Silva & Associados"})]}),p.officeName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.officeName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB do Responsável *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Mle,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("oabNumber"),type:"text",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 123456/SP"})]}),p.oabNumber&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.oabNumber.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Xp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("email"),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),p.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha *"}),d.jsxs("div",{className:"relative",children:[d.jsx(nN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("password"),type:r?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mínimo 6 caracteres"}),d.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(rN,{className:"w-5 h-5"}):d.jsx(dl,{className:"w-5 h-5"})})]}),p.password&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.password.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha *"}),d.jsxs("div",{className:"relative",children:[d.jsx(nN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("confirmPassword"),type:i?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirme sua senha"}),d.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?d.jsx(rN,{className:"w-5 h-5"}):d.jsx(dl,{className:"w-5 h-5"})})]}),p.confirmPassword&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.confirmPassword.message})]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Criando conta...":"Criar Conta"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:["Já tem uma conta?"," ",d.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Fazer Login"})]})})]})]})})}function sce({children:t}){const[e,r]=O.useState(!1),[n,i]=O.useState(null),[a,s]=O.useState("login"),[o,l]=O.useState(!0);O.useEffect(()=>{const f=Cm.onAuthStateChanged(p=>{i(p),r(p!==null),l(!1)});return()=>f()},[]);const c=f=>{i(f),r(!0)},u=()=>{s(a==="login"?"register":"login")};return o?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),d.jsx("p",{className:"text-white",children:"Carregando..."})]})}):!e||!n?a==="login"?d.jsx(nce,{onSuccess:c,onSwitchToRegister:u}):d.jsx(ace,{onSuccess:c,onSwitchToLogin:u}):d.jsx(d.Fragment,{children:t(n)})}function oce({user:t,onLogout:e,onOpenAdmin:r}){const n=()=>{confirm("Tem certeza que deseja sair?")&&(Cm.logout(),e())};return d.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center mr-3",children:d.jsx("span",{className:"text-white font-bold text-sm",children:t.officeName.charAt(0).toUpperCase()})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t.officeName}),d.jsxs("p",{className:"text-sm text-gray-500",children:["OAB: ",t.oabNumber]})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.email}),d.jsx("p",{className:"text-xs text-gray-500",children:"Administrador"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[r&&d.jsxs("button",{onClick:r,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Administração",children:[d.jsx(Ww,{className:"w-4 h-4 mr-1"}),"Admin"]}),d.jsx(Qle,{className:"w-8 h-8 text-gray-400"}),d.jsxs("button",{onClick:n,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Sair",children:[d.jsx(ile,{className:"w-4 h-4 mr-1"}),"Sair"]})]})]})]})})}function m$(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=m$(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function tr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=m$(t))&&(n&&(n+=" "),n+=e);return n}const lce=[{name:"Dashboard",href:"dashboard",icon:Lle},{name:"Processos",href:"processes",icon:Nx},{name:"Agenda",href:"calendar",icon:Sx},{name:"Financeiro",href:"financial",icon:tN},{name:"Equipe",href:"team",icon:Cx},{name:"Documentos",href:"documents",icon:jm},{name:"Relatórios",href:"reports",icon:f$},{name:"Configurações",href:"settings",icon:Ww}],cce=[{name:"Nova Procuração",action:"new-power-of-attorney"},{name:"Novo Recibo",action:"new-receipt"},{name:"Nova Receita",action:"new-revenue"},{name:"Nova Despesa",action:"new-expense"},{name:"Novo Processo",action:"new-process"},{name:"Novo Evento",action:"new-event"},{name:"Novo Advogado",action:"new-lawyer"},{name:"Novo Colaborador",action:"new-employee"}];function uce({activeSection:t,onSectionChange:e,onQuickAction:r}){return d.jsxs("div",{className:"flex flex-col w-64 bg-blue-900 text-white h-screen",children:[d.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-blue-800",children:d.jsxs("h1",{className:"text-2xl font-bold",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d.jsx("nav",{className:"px-4 py-6 space-y-2",children:lce.map(n=>d.jsxs("button",{onClick:()=>e(n.href),className:tr("w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",t===n.href?"bg-blue-800 text-white":"text-blue-100 hover:bg-blue-800 hover:text-white"),children:[d.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),d.jsxs("div",{className:"px-4 py-4 border-t border-blue-800",children:[d.jsx("h3",{className:"text-xs font-semibold text-blue-300 uppercase tracking-wider mb-3",children:"Ações Rápidas"}),d.jsx("div",{className:"space-y-1",children:cce.map(n=>d.jsxs("button",{onClick:()=>r(n.action),className:"w-full flex items-center px-2 py-1.5 text-xs text-blue-100 hover:bg-blue-800 rounded transition-colors",children:[d.jsx(Zo,{className:"w-3 h-3 mr-2"}),n.name]},n.action))})]})]})]})}function dce({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const fce=O.forwardRef(dce);function hce({title:t,titleId:e,...r},n){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?O.createElement("title",{id:e},t):null,O.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const pce=O.forwardRef(hce);function i_({title:t,amount:e,type:r,change:n}){const i=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),a=()=>{switch(r){case"revenue":return"border-green-200 bg-green-50";case"expense":return"border-red-200 bg-red-50";case"balance":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-white"}},s=()=>{switch(r){case"revenue":return"text-green-600";case"expense":return"text-red-600";case"balance":return e>=0?"text-blue-600":"text-red-600";default:return"text-gray-600"}};return d.jsx("div",{className:`p-6 rounded-lg border-2 ${a()} transition-all hover:shadow-md`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),d.jsx("p",{className:`text-2xl font-bold ${s()}`,children:i(e)})]}),n!==void 0&&d.jsxs("div",{className:`flex items-center ${n>=0?"text-green-600":"text-red-600"}`,children:[n>=0?d.jsx(pce,{className:"w-4 h-4 mr-1"}):d.jsx(fce,{className:"w-4 h-4 mr-1"}),d.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(n),"%"]})]})]})})}function Mv({title:t,value:e,icon:r,color:n,description:i}){return d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`p-3 rounded-lg ${n}`,children:d.jsx(r,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e}),i&&d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i})]})]})})}var kx={},g$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(g$);var CT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(CT);var kT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(kT);var Ix={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let a=0,s="",o="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const c=r[a];o?c==="\\"&&a+1<i?(a++,s+=r[a]):c===o?o="":s+=c:l?c==='"'||c==="'"?o=c:c==="]"?(l=!1,n.push(s),s=""):s+=c:c==="["?(l=!0,s&&(n.push(s),s="")):c==="."?s&&(n.push(s),s=""):s+=c,a++}return s&&n.push(s),n}t.toPath=e})(Ix);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g$,r=CT,n=kT,i=Ix;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?r.isDeepKey(l)?a(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function s(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||e.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}t.get=a})(kx);var mce=kx.get;const od=bo(mce);var y$={exports:{}},Pr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=Symbol.for("react.transitional.element"),jT=Symbol.for("react.portal"),jx=Symbol.for("react.fragment"),Ox=Symbol.for("react.strict_mode"),Rx=Symbol.for("react.profiler"),Lx=Symbol.for("react.consumer"),Dx=Symbol.for("react.context"),Mx=Symbol.for("react.forward_ref"),Fx=Symbol.for("react.suspense"),Bx=Symbol.for("react.suspense_list"),Ux=Symbol.for("react.memo"),$x=Symbol.for("react.lazy"),gce=Symbol.for("react.view_transition"),yce=Symbol.for("react.client.reference");function Os(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case IT:switch(t=t.type,t){case jx:case Rx:case Ox:case Fx:case Bx:case gce:return t;default:switch(t=t&&t.$$typeof,t){case Dx:case Mx:case $x:case Ux:return t;case Lx:return t;default:return e}}case jT:return e}}}Pr.ContextConsumer=Lx;Pr.ContextProvider=Dx;Pr.Element=IT;Pr.ForwardRef=Mx;Pr.Fragment=jx;Pr.Lazy=$x;Pr.Memo=Ux;Pr.Portal=jT;Pr.Profiler=Rx;Pr.StrictMode=Ox;Pr.Suspense=Fx;Pr.SuspenseList=Bx;Pr.isContextConsumer=function(t){return Os(t)===Lx};Pr.isContextProvider=function(t){return Os(t)===Dx};Pr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===IT};Pr.isForwardRef=function(t){return Os(t)===Mx};Pr.isFragment=function(t){return Os(t)===jx};Pr.isLazy=function(t){return Os(t)===$x};Pr.isMemo=function(t){return Os(t)===Ux};Pr.isPortal=function(t){return Os(t)===jT};Pr.isProfiler=function(t){return Os(t)===Rx};Pr.isStrictMode=function(t){return Os(t)===Ox};Pr.isSuspense=function(t){return Os(t)===Fx};Pr.isSuspenseList=function(t){return Os(t)===Bx};Pr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jx||t===Rx||t===Ox||t===Fx||t===Bx||typeof t=="object"&&t!==null&&(t.$$typeof===$x||t.$$typeof===Ux||t.$$typeof===Dx||t.$$typeof===Lx||t.$$typeof===Mx||t.$$typeof===yce||t.getModuleId!==void 0)};Pr.typeOf=Os;y$.exports=Pr;var vce=y$.exports,Di=t=>t===0?0:t>0?1:-1,Ps=t=>typeof t=="number"&&t!=+t,hf=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,yt=t=>(typeof t=="number"||t instanceof Number)&&!Ps(t),gl=t=>yt(t)||typeof t=="string",wce=0,Qp=t=>{var e=++wce;return"".concat(t||"").concat(e)},Es=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(e)&&typeof e!="string")return n;var a;if(hf(e)){if(r==null)return n;var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Ps(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},v$=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},af=(t,e)=>yt(t)&&yt(e)?r=>t+r*(e-t):()=>e;function w$(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):od(n,e))===r)}var wn=t=>t===null||typeof t>"u",Ey=t=>wn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),bce=["viewBox","children"],xce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$j=["points","pathLength"],a_={svg:bce,polygon:$j,polyline:$j},OT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],RT=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(O.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{OT.includes(i)&&(n[i]=a=>r[i](r,a))}),n},_ce=(t,e,r)=>n=>(t(e,r,n),null),LT=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];OT.includes(i)&&typeof a=="function"&&(n||(n={}),n[i]=_ce(a,e,r))}),n},Vj=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",zj=null,s_=null,b$=t=>{if(t===zj&&Array.isArray(s_))return s_;var e=[];return O.Children.forEach(t,r=>{wn(r)||(vce.isFragment(r)?e=e.concat(b$(r.props.children)):e.push(r))}),s_=e,zj=t,e};function Vx(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>Vj(i)):n=[Vj(e)],b$(t).forEach(i=>{var a=od(i,"type.displayName")||od(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var x$=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Ece=(t,e,r,n)=>{var i,a=(i=n&&(a_==null?void 0:a_[n]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(n&&a.includes(e)||xce.includes(e))||r&&OT.includes(e)},er=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var s;Ece((s=n)===null||s===void 0?void 0:s[a],a,e,r)&&(i[a]=n[a])}),i},Ace=["children","width","height","viewBox","className","style","title","desc"];function iN(){return iN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iN.apply(null,arguments)}function Sce(t,e){if(t==null)return{};var r,n,i=Nce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Nce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var DT=O.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=t,u=Sce(t,Ace),f=a||{width:n,height:i,x:0,y:0},p=tr("recharts-surface",s);return O.createElement("svg",iN({},er(u,!0,"svg"),{className:p,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),O.createElement("title",null,l),O.createElement("desc",null,c),r)}),Tce=["children","className"];function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aN.apply(null,arguments)}function Pce(t,e){if(t==null)return{};var r,n,i=Cce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Cce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ea=O.forwardRef((t,e)=>{var{children:r,className:n}=t,i=Pce(t,Tce),a=tr("recharts-layer",n);return O.createElement("g",aN({className:a},er(i,!0),{ref:e}),r)}),_$=O.createContext(null),kce=()=>O.useContext(_$);function Ir(t){return function(){return t}}const E$=Math.cos,Hw=Math.sin,_o=Math.sqrt,Gw=Math.PI,zx=2*Gw,sN=Math.PI,oN=2*sN,Zd=1e-6,Ice=oN-Zd;function A$(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function jce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return A$;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Oce{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?A$:jce(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,c=i-r,u=s-e,f=o-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Zd)if(!(Math.abs(f*l-c*u)>Zd)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,y=i-o,m=l*l+c*c,w=h*h+y*y,g=Math.sqrt(m),v=Math.sqrt(p),x=a*Math.tan((sN-Math.acos((m+p-w)/(2*g*v)))/2),E=x/v,S=x/g;Math.abs(E-1)>Zd&&this._append`L${e+E*u},${r+E*f}`,this._append`A${a},${a},0,0,${+(f*h>u*y)},${this._x1=e+S*l},${this._y1=r+S*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Zd||Math.abs(this._y1-u)>Zd)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%oN+oN),p>Ice?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>Zd&&this._append`A${n},${n},0,${+(p>=sN)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function MT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Oce(e)}function FT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function S$(t){this._context=t}S$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qx(t){return new S$(t)}function N$(t){return t[0]}function T$(t){return t[1]}function P$(t,e){var r=Ir(!0),n=null,i=qx,a=null,s=MT(o);t=typeof t=="function"?t:t===void 0?N$:Ir(t),e=typeof e=="function"?e:e===void 0?T$:Ir(e);function o(l){var c,u=(l=FT(l)).length,f,p=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,c,l),+e(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ir(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ir(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ir(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Fv(t,e,r){var n=null,i=Ir(!0),a=null,s=qx,o=null,l=MT(c);t=typeof t=="function"?t:t===void 0?N$:Ir(+t),e=typeof e=="function"?e:Ir(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?T$:Ir(+r);function c(f){var p,h,y,m=(f=FT(f)).length,w,g=!1,v,x=new Array(m),E=new Array(m);for(a==null&&(o=s(v=l())),p=0;p<=m;++p){if(!(p<m&&i(w=f[p],p,f))===g)if(g=!g)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=p-1;y>=h;--y)o.point(x[y],E[y]);o.lineEnd(),o.areaEnd()}g&&(x[p]=+t(w,p,f),E[p]=+e(w,p,f),o.point(n?+n(w,p,f):x[p],r?+r(w,p,f):E[p]))}if(v)return o=null,v+""||null}function u(){return P$().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ir(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ir(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ir(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ir(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ir(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ir(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ir(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class C${constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Rce(t){return new C$(t,!0)}function Lce(t){return new C$(t,!1)}const BT={draw(t,e){const r=_o(e/Gw);t.moveTo(r,0),t.arc(0,0,r,0,zx)}},Dce={draw(t,e){const r=_o(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},k$=_o(1/3),Mce=k$*2,Fce={draw(t,e){const r=_o(e/Mce),n=r*k$;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Bce={draw(t,e){const r=_o(e),n=-r/2;t.rect(n,n,r,r)}},Uce=.8908130915292852,I$=Hw(Gw/10)/Hw(7*Gw/10),$ce=Hw(zx/10)*I$,Vce=-E$(zx/10)*I$,zce={draw(t,e){const r=_o(e*Uce),n=$ce*r,i=Vce*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=zx*a/5,o=E$(s),l=Hw(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},o_=_o(3),qce={draw(t,e){const r=-_o(e/(o_*3));t.moveTo(0,r*2),t.lineTo(-o_*r,-r),t.lineTo(o_*r,-r),t.closePath()}},ls=-.5,cs=_o(3)/2,lN=1/_o(12),Wce=(lN/2+1)*3,Hce={draw(t,e){const r=_o(e/Wce),n=r/2,i=r*lN,a=n,s=r*lN+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(ls*n-cs*i,cs*n+ls*i),t.lineTo(ls*a-cs*s,cs*a+ls*s),t.lineTo(ls*o-cs*l,cs*o+ls*l),t.lineTo(ls*n+cs*i,ls*i-cs*n),t.lineTo(ls*a+cs*s,ls*s-cs*a),t.lineTo(ls*o+cs*l,ls*l-cs*o),t.closePath()}};function Gce(t,e){let r=null,n=MT(i);t=typeof t=="function"?t:Ir(t||BT),e=typeof e=="function"?e:Ir(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ir(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ir(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Kw(){}function Yw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function j$(t){this._context=t}j$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kce(t){return new j$(t)}function O$(t){this._context=t}O$.prototype={areaStart:Kw,areaEnd:Kw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Yw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yce(t){return new O$(t)}function R$(t){this._context=t}R$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xce(t){return new R$(t)}function L$(t){this._context=t}L$.prototype={areaStart:Kw,areaEnd:Kw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Jce(t){return new L$(t)}function qj(t){return t<0?-1:1}function Wj(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(qj(a)+qj(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Hj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function l_(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function Xw(t){this._context=t}Xw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l_(this,this._t0,Hj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,l_(this,Hj(this,r=Wj(this,t,e)),r);break;default:l_(this,this._t0,r=Wj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function D$(t){this._context=new M$(t)}(D$.prototype=Object.create(Xw.prototype)).point=function(t,e){Xw.prototype.point.call(this,e,t)};function M$(t){this._context=t}M$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Qce(t){return new Xw(t)}function Zce(t){return new D$(t)}function F$(t){this._context=t}F$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Gj(t),i=Gj(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Gj(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function eue(t){return new F$(t)}function Wx(t,e){this._context=t,this._t=e}Wx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function tue(t){return new Wx(t,.5)}function rue(t){return new Wx(t,0)}function nue(t){return new Wx(t,1)}function Zp(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function cN(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function iue(t,e){return t[e]}function aue(t){const e=[];return e.key=t,e}function sue(){var t=Ir([]),e=cN,r=Zp,n=iue;function i(a){var s=Array.from(t.apply(this,arguments),aue),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=FT(e(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ir(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ir(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?cN:typeof a=="function"?a:Ir(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Zp,i):r},i}function oue(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Zp(t,e)}}function lue(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Zp(t,e)}}function cue(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[n][1]||0,p=u[n-1][1]||0,h=(f-p)/2,y=0;y<o;++y){var m=t[e[y]],w=m[n][1]||0,g=m[n-1][1]||0;h+=w-g}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Zp(t,e)}}var uue=["type","size","sizeType"];function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uN.apply(null,arguments)}function Kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(r),!0).forEach(function(n){due(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function due(t,e,r){return(e=fue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fue(t){var e=hue(t,"string");return typeof e=="symbol"?e:e+""}function hue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pue(t,e){if(t==null)return{};var r,n,i=mue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function mue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var B$={symbolCircle:BT,symbolCross:Dce,symbolDiamond:Fce,symbolSquare:Bce,symbolStar:zce,symbolTriangle:qce,symbolWye:Hce},gue=Math.PI/180,yue=t=>{var e="symbol".concat(Ey(t));return B$[e]||BT},vue=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*gue;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},wue=(t,e)=>{B$["symbol".concat(Ey(t))]=e},UT=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=pue(t,uue),a=Yj(Yj({},i),{},{type:e,size:r,sizeType:n}),s=()=>{var f=yue(e),p=Gce().type(f).size(vue(r,n,e));return p()},{className:o,cx:l,cy:c}=a,u=er(a,!0);return l===+l&&c===+c&&r===+r?O.createElement("path",uN({},u,{className:tr("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(c,")"),d:s()})):null};UT.registerSymbol=wue;function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dN.apply(null,arguments)}function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){$T(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $T(t,e,r){return(e=xue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xue(t){var e=_ue(t,"string");return typeof e=="symbol"?e:e+""}function _ue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var us=32;class VT extends O.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=us/2,a=us/6,s=us/3,o=e.inactive?n:e.color,l=r??e.type;if(l==="none")return null;if(l==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:us,y2:i,className:"recharts-legend-icon"});if(l==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(us,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return O.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(us/8,"h").concat(us,"v").concat(us*3/4,"h").concat(-us,"z"),className:"recharts-legend-icon"});if(O.isValidElement(e.legendIcon)){var c=bue({},e);return delete c.legendIcon,O.cloneElement(e.legendIcon,c)}return O.createElement(UT,{fill:o,cx:i,cy:i,size:us,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=this.props,o={x:0,y:0,width:us,height:us},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,f)=>{var p=u.formatter||i,h=tr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var y=u.inactive?a:u.color,m=p?p(u.value,u,f):u.value;return O.createElement("li",dN({className:h,style:l,key:"legend-item-".concat(f)},LT(this.props,u,f)),O.createElement(DT,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(m," legend icon")},this.renderIcon(u,s)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}$T(VT,"displayName","Legend");$T(VT,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var U$={},$$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})($$);var zT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(zT);var V$={},Hx={},z$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(z$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z$;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(Hx);var q$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(q$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hx,r=q$;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(V$);var W$={},H$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kx;function r(n){return function(i){return e.get(i,n)}}t.property=r})(H$);var G$={},c_={},u_={},qT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(qT);var WT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(WT);var Gx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(Gx);var Jj;function Eue(){return Jj||(Jj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HT(),r=qT,n=WT,i=Gx;function a(f,p,h){return typeof h!="function"?e.isMatch(f,p):s(f,p,function y(m,w,g,v,x,E){const S=h(m,w,g,v,x,E);return S!==void 0?!!S:s(m,w,y,E)},new Map)}function s(f,p,h,y){if(p===f)return!0;switch(typeof p){case"object":return o(f,p,h,y);case"function":return Object.keys(p).length>0?s(f,{...p},h,y):i.eq(f,p);default:return r.isObject(f)?typeof p=="string"?p==="":!0:i.eq(f,p)}}function o(f,p,h,y){if(p==null)return!0;if(Array.isArray(p))return c(f,p,h,y);if(p instanceof Map)return l(f,p,h,y);if(p instanceof Set)return u(f,p,h,y);const m=Object.keys(p);if(f==null)return m.length===0;if(m.length===0)return!0;if(y&&y.has(p))return y.get(p)===f;y&&y.set(p,f);try{for(let w=0;w<m.length;w++){const g=m[w];if(!n.isPrimitive(f)&&!(g in f)||p[g]===void 0&&f[g]!==void 0||p[g]===null&&f[g]!==null||!h(f[g],p[g],g,f,p,y))return!1}return!0}finally{y&&y.delete(p)}}function l(f,p,h,y){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[m,w]of p.entries()){const g=f.get(m);if(h(g,w,m,f,p,y)===!1)return!1}return!0}function c(f,p,h,y){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const m=new Set;for(let w=0;w<p.length;w++){const g=p[w];let v=!1;for(let x=0;x<f.length;x++){if(m.has(x))continue;const E=f[x];let S=!1;if(h(E,g,w,f,p,y)&&(S=!0),S){m.add(x),v=!0;break}}if(!v)return!1}return!0}function u(f,p,h,y){return p.size===0?!0:f instanceof Set?c([...f],[...p],h,y):!1}t.isMatchWith=a,t.isSetMatch=u}(u_)),u_}var Qj;function HT(){return Qj||(Qj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Eue();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(c_)),c_}var K$={},GT={},KT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(KT);var Kx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(Kx);var Yx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",p="[object ArrayBuffer]",h="[object Object]",y="[object Error]",m="[object DataView]",w="[object Uint8Array]",g="[object Uint8ClampedArray]",v="[object Uint16Array]",x="[object Uint32Array]",E="[object BigUint64Array]",S="[object Int8Array]",C="[object Int16Array]",P="[object Int32Array]",k="[object BigInt64Array]",T="[object Float32Array]",W="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=p,t.arrayTag=u,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=E,t.booleanTag=i,t.dataViewTag=m,t.dateTag=o,t.errorTag=y,t.float32ArrayTag=T,t.float64ArrayTag=W,t.functionTag=f,t.int16ArrayTag=C,t.int32ArrayTag=P,t.int8ArrayTag=S,t.mapTag=l,t.numberTag=n,t.objectTag=h,t.regexpTag=e,t.setTag=c,t.stringTag=r,t.symbolTag=s,t.uint16ArrayTag=v,t.uint32ArrayTag=x,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=g})(Yx);var Y$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(Y$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KT,r=Kx,n=Yx,i=WT,a=Y$;function s(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,p,h=new Map,y=void 0){const m=y==null?void 0:y(u,f,p,h);if(m!=null)return m;if(i.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const w=new Array(u.length);h.set(u,w);for(let g=0;g<u.length;g++)w[g]=o(u[g],g,p,h,y);return Object.hasOwn(u,"index")&&(w.index=u.index),Object.hasOwn(u,"input")&&(w.input=u.input),w}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const w=new RegExp(u.source,u.flags);return w.lastIndex=u.lastIndex,w}if(u instanceof Map){const w=new Map;h.set(u,w);for(const[g,v]of u)w.set(g,o(v,g,p,h,y));return w}if(u instanceof Set){const w=new Set;h.set(u,w);for(const g of u)w.add(o(g,void 0,p,h,y));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const w=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,w);for(let g=0;g<u.length;g++)w[g]=o(u[g],g,p,h,y);return w}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const w=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,w),l(w,u,p,h,y),w}if(typeof File<"u"&&u instanceof File){const w=new File([u],u.name,{type:u.type});return h.set(u,w),l(w,u,p,h,y),w}if(u instanceof Blob){const w=new Blob([u],{type:u.type});return h.set(u,w),l(w,u,p,h,y),w}if(u instanceof Error){const w=new u.constructor;return h.set(u,w),w.message=u.message,w.name=u.name,w.stack=u.stack,w.cause=u.cause,l(w,u,p,h,y),w}if(typeof u=="object"&&c(u)){const w=Object.create(Object.getPrototypeOf(u));return h.set(u,w),l(w,u,p,h,y),w}return u}function l(u,f,p=u,h,y){const m=[...Object.keys(f),...e.getSymbols(f)];for(let w=0;w<m.length;w++){const g=m[w],v=Object.getOwnPropertyDescriptor(u,g);(v==null||v.writable)&&(u[g]=o(f[g],g,p,h,y))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=l})(GT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GT;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(K$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HT(),r=K$;function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(G$);var X$={},J$={},Q$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GT,r=Yx;function n(i,a){return e.cloneDeepWith(i,(s,o,l,c)=>{const u=a==null?void 0:a(s,o,l,c);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case r.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=n})(Q$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q$;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(J$);var Z$={},YT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(YT);var eV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kx;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(eV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CT,r=YT,n=eV,i=Ix;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}t.has=a})(Z$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HT(),r=kT,n=J$,i=kx,a=Z$;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?a.has(c,o):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=s})(X$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zT,r=H$,n=G$,i=X$;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}t.iteratee=a})(W$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$$,r=zT,n=V$,i=W$;function a(s,o=r.identity){return n.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(U$);var Aue=U$.uniqBy;const Zj=bo(Aue);function tV(t,e,r){return e===!0?Zj(t,r):typeof e=="function"?Zj(t,e):t}var rV={exports:{}},nV={},iV={exports:{}},aV={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=O;function Sue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nue=typeof Object.is=="function"?Object.is:Sue,Tue=em.useState,Pue=em.useEffect,Cue=em.useLayoutEffect,kue=em.useDebugValue;function Iue(t,e){var r=e(),n=Tue({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return Cue(function(){i.value=r,i.getSnapshot=e,d_(i)&&a({inst:i})},[t,r,e]),Pue(function(){return d_(i)&&a({inst:i}),t(function(){d_(i)&&a({inst:i})})},[t]),kue(r),r}function d_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Nue(t,r)}catch{return!0}}function jue(t,e){return e()}var Oue=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jue:Iue;aV.useSyncExternalStore=em.useSyncExternalStore!==void 0?em.useSyncExternalStore:Oue;iV.exports=aV;var Rue=iV.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx=O,Lue=Rue;function Due(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mue=typeof Object.is=="function"?Object.is:Due,Fue=Lue.useSyncExternalStore,Bue=Xx.useRef,Uue=Xx.useEffect,$ue=Xx.useMemo,Vue=Xx.useDebugValue;nV.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=Bue(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=$ue(function(){function l(h){if(!c){if(c=!0,u=h,h=n(h),i!==void 0&&s.hasValue){var y=s.value;if(i(y,h))return f=y}return f=h}if(y=f,Mue(u,h))return y;var m=n(h);return i!==void 0&&i(y,m)?(u=h,y):(u=h,f=m)}var c=!1,u,f,p=r===void 0?null:r;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,r,n,i]);var o=Fue(t,a[0],a[1]);return Uue(function(){s.hasValue=!0,s.value=o},[o]),Vue(o),o};rV.exports=nV;var zue=rV.exports,XT=O.createContext(null),que=t=>t,Xr=()=>{var t=O.useContext(XT);return t?t.store.dispatch:que},V1=()=>{},Wue=()=>V1,Hue=(t,e)=>t===e;function vt(t){var e=O.useContext(XT);return zue.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Wue,e?e.store.getState:V1,e?e.store.getState:V1,e?t:V1,Hue)}function Gue(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Kue(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Yue(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var eO=t=>Array.isArray(t)?t:[t];function Xue(t){const e=Array.isArray(t[0])?t[0]:t;return Yue(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Jue(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Que=class{constructor(t){this.value=t}deref(){return this.value}},Zue=typeof WeakRef<"u"?WeakRef:Que,ede=0,tO=1;function Bv(){return{s:ede,v:void 0,o:null,p:null}}function sV(t,e={}){let r=Bv();const{resultEqualityCheck:n}=e;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let p=0,h=l;p<h;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let m=o.o;m===null&&(o.o=m=new WeakMap);const w=m.get(y);w===void 0?(o=Bv(),m.set(y,o)):o=w}else{let m=o.p;m===null&&(o.p=m=new Map);const w=m.get(y);w===void 0?(o=Bv(),m.set(y,o)):o=w}}const c=o;let u;if(o.s===tO)u=o.v;else if(u=t.apply(null,arguments),a++,n){const p=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;p!=null&&n(p,u)&&(u=p,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Zue(u):u}return c.s=tO,c.v=u,u}return s.clearCache=()=>{r=Bv(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function tde(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),Gue(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:h=sV,argsMemoizeOptions:y=[],devModeChecks:m={}}=u,w=eO(p),g=eO(y),v=Xue(i),x=f(function(){return a++,c.apply(null,arguments)},...w),E=h(function(){s++;const C=Jue(v,arguments);return o=x.apply(null,C),o},...g);return Object.assign(E,{resultFunc:c,memoizedResultFunc:x,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var Ue=tde(sV),rde=Object.assign((t,e=Ue)=>{Kue(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>rde}),oV={},lV={},cV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=e(n),o=e(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=r})(cV);var uV={},JT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(JT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JT,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(uV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cV,r=uV,n=Ix;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const c=(h,y)=>{let m=h;for(let w=0;w<y.length&&m!=null;++w)m=m[y[w]];return m},u=(h,y)=>y==null||h==null?y:typeof h=="object"&&"key"in h?Object.hasOwn(y,h.key)?y[h.key]:c(y,h.path):typeof h=="function"?h(y):Array.isArray(h)?c(y,h):typeof y=="object"?y[h]:y,f=s.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:f.map(y=>u(y,h))})).slice().sort((h,y)=>{for(let m=0;m<f.length;m++){const w=e.compareValues(h.criteria[m],y.criteria[m],o[m]);if(w!==0)return w}return 0}).map(h=>h.original)}t.orderBy=i})(lV);var dV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<a?s(u,l+1):i.push(u)}};return s(r,0),i}t.flatten=e})(dV);var QT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YT,r=Hx,n=qT,i=Gx;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}t.isIterateeCall=a})(QT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lV,r=dV,n=QT;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,r.flatten(s),["asc"])}t.sortBy=i})(oV);var nde=oV.sortBy;const Jx=bo(nde);var fV=t=>t.legend.settings,ide=t=>t.legend.size,ade=t=>t.legend.payload,sde=Ue([ade,fV],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Jx(n,r):n});function ode(){return vt(sde)}var Uv=1;function hV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=O.useState({height:0,left:0,top:0,width:0}),n=O.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Uv||Math.abs(s.left-e.left)>Uv||Math.abs(s.top-e.top)>Uv||Math.abs(s.width-e.width)>Uv)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function ui(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var lde=typeof Symbol=="function"&&Symbol.observable||"@@observable",rO=lde,f_=()=>Math.random().toString(36).substring(7).split("").join("."),cde={INIT:`@@redux/INIT${f_()}`,REPLACE:`@@redux/REPLACE${f_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f_()}`},Jw=cde;function ZT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function pV(t,e,r){if(typeof t!="function")throw new Error(ui(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ui(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ui(1));return r(pV)(t,e)}let n=t,i=e,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((w,g)=>{s.set(g,w)}))}function u(){if(l)throw new Error(ui(3));return i}function f(w){if(typeof w!="function")throw new Error(ui(4));if(l)throw new Error(ui(5));let g=!0;c();const v=o++;return s.set(v,w),function(){if(g){if(l)throw new Error(ui(6));g=!1,c(),s.delete(v),a=null}}}function p(w){if(!ZT(w))throw new Error(ui(7));if(typeof w.type>"u")throw new Error(ui(8));if(typeof w.type!="string")throw new Error(ui(17));if(l)throw new Error(ui(9));try{l=!0,i=n(i,w)}finally{l=!1}return(a=s).forEach(v=>{v()}),w}function h(w){if(typeof w!="function")throw new Error(ui(10));n=w,p({type:Jw.REPLACE})}function y(){const w=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(ui(11));function v(){const E=g;E.next&&E.next(u())}return v(),{unsubscribe:w(v)}},[rO](){return this}}}return p({type:Jw.INIT}),{dispatch:p,subscribe:f,getState:u,replaceReducer:h,[rO]:y}}function ude(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Jw.INIT})>"u")throw new Error(ui(12));if(typeof r(void 0,{type:Jw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ui(13))})}function mV(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(r[s]=t[s])}const n=Object.keys(r);let i;try{ude(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const f=n[u],p=r[f],h=s[f],y=p(h,o);if(typeof y>"u")throw o&&o.type,new Error(ui(14));c[f]=y,l=l||y!==h}return l=l||n.length!==Object.keys(s).length,l?c:s}}function Qw(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function dde(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(ui(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=t.map(l=>l(s));return a=Qw(...o)(i.dispatch),{...i,dispatch:a}}}function gV(t){return ZT(t)&&"type"in t&&typeof t.type=="string"}var yV=Symbol.for("immer-nothing"),nO=Symbol.for("immer-draftable"),Ka=Symbol.for("immer-state");function so(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var tm=Object.getPrototypeOf;function zf(t){return!!t&&!!t[Ka]}function Ac(t){var e;return t?vV(t)||Array.isArray(t)||!!t[nO]||!!((e=t.constructor)!=null&&e[nO])||Zx(t)||e2(t):!1}var fde=Object.prototype.constructor.toString();function vV(t){if(!t||typeof t!="object")return!1;const e=tm(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===fde}function Zw(t,e){Qx(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Qx(t){const e=t[Ka];return e?e.type_:Array.isArray(t)?1:Zx(t)?2:e2(t)?3:0}function fN(t,e){return Qx(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function wV(t,e,r){const n=Qx(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function hde(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Zx(t){return t instanceof Map}function e2(t){return t instanceof Set}function ef(t){return t.copy_||t.base_}function hN(t,e){if(Zx(t))return new Map(t);if(e2(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=vV(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Ka];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(tm(t),n)}else{const n=tm(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function eP(t,e=!1){return t2(t)||zf(t)||!Ac(t)||(Qx(t)>1&&(t.set=t.add=t.clear=t.delete=pde),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>eP(n,!0))),t}function pde(){so(2)}function t2(t){return Object.isFrozen(t)}var mde={};function qf(t){const e=mde[t];return e||so(0,t),e}var z0;function bV(){return z0}function gde(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iO(t,e){e&&(qf("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function pN(t){mN(t),t.drafts_.forEach(yde),t.drafts_=null}function mN(t){t===z0&&(z0=t.parent_)}function aO(t){return z0=gde(z0,t)}function yde(t){const e=t[Ka];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Ka].modified_&&(pN(e),so(4)),Ac(t)&&(t=eb(e,t),e.parent_||tb(e,t)),e.patches_&&qf("Patches").generateReplacementPatches_(r[Ka].base_,t,e.patches_,e.inversePatches_)):t=eb(e,r,[]),pN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==yV?t:void 0}function eb(t,e,r){if(t2(e))return e;const n=e[Ka];if(!n)return Zw(e,(i,a)=>oO(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return tb(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),Zw(a,(o,l)=>oO(t,n,i,o,l,r,s)),tb(t,i,!1),r&&t.patches_&&qf("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function oO(t,e,r,n,i,a,s){if(zf(i)){const o=a&&e&&e.type_!==3&&!fN(e.assigned_,n)?a.concat(n):void 0,l=eb(t,i,o);if(wV(r,n,l),zf(l))t.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Ac(i)&&!t2(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;eb(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&tb(t,i)}}function tb(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&eP(e,r)}function vde(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:bV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=tP;r&&(i=[n],a=q0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var tP={get(t,e){if(e===Ka)return t;const r=ef(t);if(!fN(r,e))return wde(t,r,e);const n=r[e];return t.finalized_||!Ac(n)?n:n===h_(t.base_,e)?(p_(t),t.copy_[e]=yN(n,t)):n},has(t,e){return e in ef(t)},ownKeys(t){return Reflect.ownKeys(ef(t))},set(t,e,r){const n=xV(ef(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=h_(ef(t),e),a=i==null?void 0:i[Ka];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(hde(r,i)&&(r!==void 0||fN(t.base_,e)))return!0;p_(t),gN(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return h_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,p_(t),gN(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=ef(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){so(11)},getPrototypeOf(t){return tm(t.base_)},setPrototypeOf(){so(12)}},q0={};Zw(tP,(t,e)=>{q0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});q0.deleteProperty=function(t,e){return q0.set.call(this,t,e,void 0)};q0.set=function(t,e,r){return tP.set.call(this,t[0],e,r,t[0])};function h_(t,e){const r=t[Ka];return(r?ef(r):t)[e]}function wde(t,e,r){var i;const n=xV(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function xV(t,e){if(!(e in t))return;let r=tm(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=tm(r)}}function gN(t){t.modified_||(t.modified_=!0,t.parent_&&gN(t.parent_))}function p_(t){t.copy_||(t.copy_=hN(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bde=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const s=this;return function(l=a,...c){return s.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&so(6),n!==void 0&&typeof n!="function"&&so(7);let i;if(Ac(e)){const a=aO(this),s=yN(e,void 0);let o=!0;try{i=r(s),o=!1}finally{o?pN(a):mN(a)}return iO(a,n),sO(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===yV&&(i=void 0),this.autoFreeze_&&eP(i,!0),n){const a=[],s=[];qf("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else so(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let n,i;return[this.produce(e,r,(s,o)=>{n=s,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ac(t)||so(8),zf(t)&&(t=fc(t));const e=aO(this),r=yN(t,void 0);return r[Ka].isManual_=!0,mN(e),r}finishDraft(t,e){const r=t&&t[Ka];(!r||!r.isManual_)&&so(9);const{scope_:n}=r;return iO(n,e),sO(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=qf("Patches").applyPatches_;return zf(t)?n(t,e):this.produce(t,i=>n(i,e))}};function yN(t,e){const r=Zx(t)?qf("MapSet").proxyMap_(t,e):e2(t)?qf("MapSet").proxySet_(t,e):vde(t,e);return(e?e.scope_:bV()).drafts_.push(r),r}function fc(t){return zf(t)||so(10,t),_V(t)}function _V(t){if(!Ac(t)||t2(t))return t;const e=t[Ka];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=hN(t,e.scope_.immer_.useStrictShallowCopy_)}else r=hN(t,!0);return Zw(r,(n,i)=>{wV(r,n,_V(i))}),e&&(e.finalized_=!1),r}var Ya=new bde,EV=Ya.produce;Ya.produceWithPatches.bind(Ya);Ya.setAutoFreeze.bind(Ya);Ya.setUseStrictShallowCopy.bind(Ya);Ya.applyPatches.bind(Ya);Ya.createDraft.bind(Ya);Ya.finishDraft.bind(Ya);function AV(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var xde=AV(),_de=AV,Ede=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qw:Qw.apply(null,arguments)};function Cs(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Ha(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>gV(n)&&n.type===t,r}var SV=class qg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,qg.prototype)}static get[Symbol.species](){return qg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new qg(...e[0].concat(this)):new qg(...e.concat(this))}};function lO(t){return Ac(t)?EV(t,()=>{}):t}function $v(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function Ade(t){return typeof t=="boolean"}var Sde=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new SV;return r&&(Ade(r)?s.push(xde):s.push(_de(r.extraArgument))),s},Nde="RTK_autoBatch",cO=t=>e=>{setTimeout(e,t)},Tde=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cO(10):t.type==="callback"?t.queueNotification:cO(t.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>i&&u(),p=n.subscribe(f);return o.add(u),()=>{p(),o.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[Nde]),a=!i,a&&(s||(s=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},Pde=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new SV(t);return n&&i.push(Tde(typeof n=="object"?n:void 0)),i};function Cde(t){const e=Sde(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(ZT(r))l=mV(r);else throw new Error(Ha(1));let c;typeof n=="function"?c=n(e):c=e();let u=Qw;i&&(u=Ede({trace:!1,...typeof i=="object"&&i}));const f=dde(...c),p=Pde(f);let h=typeof o=="function"?o(p):p();const y=u(...h);return pV(l,s,y)}function NV(t){const e={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Ha(28));if(o in e)throw new Error(Ha(29));return e[o]=s,i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function kde(t){return typeof t=="function"}function Ide(t,e){let[r,n,i]=NV(e),a;if(kde(t))a=()=>lO(t());else{const o=lO(t);a=()=>o}function s(o=a(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(zf(u)){const h=f(u,l);return h===void 0?u:h}else{if(Ac(u))return EV(u,p=>f(p,l));{const p=f(u,l);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},o)}return s.getInitialState=a,s}var jde="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ode=(t=21)=>{let e="",r=t;for(;r--;)e+=jde[Math.random()*64|0];return e},Rde=Symbol.for("rtk-slice-createasyncthunk");function Lde(t,e){return`${t}/${e}`}function Dde({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Rde];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Ha(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(Fde()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(E,S){const C=typeof E=="string"?E:E.type;if(!C)throw new Error(Ha(12));if(C in c.sliceCaseReducersByType)throw new Error(Ha(13));return c.sliceCaseReducersByType[C]=S,u},addMatcher(E,S){return c.sliceMatchers.push({matcher:E,reducer:S}),u},exposeAction(E,S){return c.actionCreators[E]=S,u},exposeCaseReducer(E,S){return c.sliceCaseReducersByName[E]=S,u}};l.forEach(E=>{const S=o[E],C={reducerName:E,type:Lde(a,E),createNotation:typeof i.reducers=="function"};Ude(S)?Vde(C,S,u,e):Bde(C,S,u)});function f(){const[E={},S=[],C=void 0]=typeof i.extraReducers=="function"?NV(i.extraReducers):[i.extraReducers],P={...E,...c.sliceCaseReducersByType};return Ide(i.initialState,k=>{for(let T in P)k.addCase(T,P[T]);for(let T of c.sliceMatchers)k.addMatcher(T.matcher,T.reducer);for(let T of S)k.addMatcher(T.matcher,T.reducer);C&&k.addDefaultCase(C)})}const p=E=>E,h=new Map,y=new WeakMap;let m;function w(E,S){return m||(m=f()),m(E,S)}function g(){return m||(m=f()),m.getInitialState()}function v(E,S=!1){function C(k){let T=k[E];return typeof T>"u"&&S&&(T=$v(y,C,g)),T}function P(k=p){const T=$v(h,S,()=>new WeakMap);return $v(T,k,()=>{const W={};for(const[M,A]of Object.entries(i.selectors??{}))W[M]=Mde(A,k,()=>$v(y,k,g),S);return W})}return{reducerPath:E,getSelectors:P,get selectors(){return P(C)},selectSlice:C}}const x={name:a,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...v(s),injectInto(E,{reducerPath:S,...C}={}){const P=S??s;return E.inject({reducerPath:P,reducer:w},C),{...x,...v(P,!0)}}};return x}}function Mde(t,e,r,n){function i(a,...s){let o=e(a);return typeof o>"u"&&n&&(o=r()),t(o,...s)}return i.unwrapped=t,i}var Rs=Dde();function Fde(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Bde({type:t,reducerName:e,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!$de(n))throw new Error(Ha(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Cs(t,s):Cs(t))}function Ude(t){return t._reducerDefinitionType==="asyncThunk"}function $de(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Vde({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Ha(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=r,f=i(t,a,u);n.exposeAction(e,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(e,{fulfilled:s||Vv,pending:o||Vv,rejected:l||Vv,settled:c||Vv})}function Vv(){}var zde="task",TV="listener",PV="completed",rP="cancelled",qde=`task-${rP}`,Wde=`task-${PV}`,vN=`${TV}-${rP}`,Hde=`${TV}-${PV}`,r2=class{constructor(t){l5(this,"name","TaskAbortError");l5(this,"message");this.code=t,this.message=`${zde} ${rP} (reason: ${t})`}},nP=(t,e)=>{if(typeof t!="function")throw new TypeError(Ha(32))},rb=()=>{},CV=(t,e=rb)=>(t.catch(e),t),kV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Af=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Sf=t=>{if(t.aborted){const{reason:e}=t;throw new r2(e)}};function IV(t,e){let r=rb;return new Promise((n,i)=>{const a=()=>i(new r2(t.reason));if(t.aborted){a();return}r=kV(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=rb})}var Gde=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof r2?"cancelled":"rejected",error:r}}finally{e==null||e()}},nb=t=>e=>CV(IV(t,e).then(r=>(Sf(t),r))),jV=t=>{const e=nb(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Tp}=Object,uO={},n2="listenerMiddleware",Kde=(t,e)=>{const r=n=>kV(t,()=>Af(n,t.reason));return(n,i)=>{nP(n);const a=new AbortController;r(a);const s=Gde(async()=>{Sf(t),Sf(a.signal);const o=await n({pause:nb(a.signal),delay:jV(a.signal),signal:a.signal});return Sf(a.signal),o},()=>Af(a,Wde));return i!=null&&i.autoJoin&&e.push(s.catch(rb)),{result:nb(t)(s),cancel(){Af(a,qde)}}}},Yde=(t,e)=>{const r=async(n,i)=>{Sf(e);let a=()=>{};const o=[new Promise((l,c)=>{let u=t({predicate:n,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await IV(e,Promise.race(o));return Sf(e),l}finally{a()}};return(n,i)=>CV(r(n,i))},OV=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=Cs(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Ha(21));return nP(a),{predicate:i,type:e,effect:a}},RV=Tp(t=>{const{type:e,predicate:r,effect:n}=OV(t);return{id:Ode(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ha(22))}}},{withTypes:()=>RV}),dO=(t,e)=>{const{type:r,effect:n,predicate:i}=OV(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},wN=t=>{t.pending.forEach(e=>{Af(e,vN)})},Xde=t=>()=>{t.forEach(wN),t.clear()},fO=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},LV=Tp(Cs(`${n2}/add`),{withTypes:()=>LV}),Jde=Cs(`${n2}/removeAll`),DV=Tp(Cs(`${n2}/remove`),{withTypes:()=>DV}),Qde=(...t)=>{console.error(`${n2}/error`,...t)},Ay=(t={})=>{const e=new Map,{extra:r,onError:n=Qde}=t;nP(n);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&wN(u)}),a=u=>{const f=dO(e,u)??RV(u);return i(f)};Tp(a,{withTypes:()=>a});const s=u=>{const f=dO(e,u);return f&&(f.unsubscribe(),u.cancelActive&&wN(f)),!!f};Tp(s,{withTypes:()=>s});const o=async(u,f,p,h)=>{const y=new AbortController,m=Yde(a,y.signal),w=[];try{u.pending.add(y),await Promise.resolve(u.effect(f,Tp({},p,{getOriginalState:h,condition:(g,v)=>m(g,v).then(Boolean),take:m,delay:jV(y.signal),pause:nb(y.signal),extra:r,signal:y.signal,fork:Kde(y.signal,w),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((g,v,x)=>{g!==y&&(Af(g,vN),x.delete(g))})},cancel:()=>{Af(y,vN),u.pending.delete(y)},throwIfCancelled:()=>{Sf(y.signal)}})))}catch(g){g instanceof r2||fO(n,g,{raisedBy:"effect"})}finally{await Promise.all(w),Af(y,Hde),u.pending.delete(y)}},l=Xde(e);return{middleware:u=>f=>p=>{if(!gV(p))return f(p);if(LV.match(p))return a(p.payload);if(Jde.match(p)){l();return}if(DV.match(p))return s(p.payload);let h=u.getState();const y=()=>{if(h===uO)throw new Error(Ha(23));return h};let m;try{if(m=f(p),e.size>0){const w=u.getState(),g=Array.from(e.values());for(const v of g){let x=!1;try{x=v.predicate(p,w,h)}catch(E){x=!1,fO(n,E,{raisedBy:"predicate"})}x&&o(v,p,u,y)}}}finally{h=uO}return m},startListening:a,stopListening:s,clearListeners:l}};function Ha(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Zde={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},MV=Rs({name:"chartLayout",initialState:Zde,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:efe,setLayout:tfe,setChartSize:rfe,setScale:nfe}=MV.actions,ife=MV.reducer;function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){afe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function afe(t,e,r){return(e=sfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sfe(t){var e=ofe(t,"string");return typeof e=="symbol"?e:e+""}function ofe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ib=Math.PI/180,lfe=t=>t*180/Math.PI,Mn=(t,e,r,n)=>({x:t+Math.cos(-ib*n)*r,y:e+Math.sin(-ib*n)*r}),FV=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cfe=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},ufe=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,s=cfe({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:lfe(l),angleInRadian:l}},dfe=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},ffe=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return t+s*360},hfe=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:a}=ufe({x:r,y:n},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=dfe(e),u=a,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?pO(pO({},e),{},{radius:i,angle:ffe(u,e)}):null};function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ms(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){pfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pfe(t,e,r){return(e=mfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mfe(t){var e=gfe(t,"string");return typeof e=="symbol"?e:e+""}function gfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sn(t,e,r){return wn(t)||wn(e)?r:gl(e)?od(t,e,r):typeof e=="function"?e(t):r}var yfe=(t,e,r,n,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Di(u-c)!==Di(f-u)){var h=[];if(Di(f-u)===Di(i[1]-i[0])){p=f;var y=u+i[1]-i[0];h[0]=Math.min(y,(y+c)/2),h[1]=Math.max(y,(y+c)/2)}else{p=c;var m=f+i[1]-i[0];h[0]=Math.min(u,(m+u)/2),h[1]=Math.max(u,(m+u)/2)}var w=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(t>w[0]&&t<=w[1]||t>=h[0]&&t<=h[1]){({index:s}=r[l]);break}}else{var g=Math.min(c,f),v=Math.max(c,f);if(t>(g+u)/2&&t<=(v+u)/2){({index:s}=r[l]);break}}}else if(e){for(var x=0;x<o;x++)if(x===0&&t<=(e[x].coordinate+e[x+1].coordinate)/2||x>0&&x<o-1&&t>(e[x].coordinate+e[x-1].coordinate)/2&&t<=(e[x].coordinate+e[x+1].coordinate)/2||x===o-1&&t>(e[x].coordinate+e[x-1].coordinate)/2){({index:s}=e[x]);break}}return s},vfe=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&yt(t[a]))return ms(ms({},t),{},{[a]:t[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&yt(t[s]))return ms(ms({},t),{},{[s]:t[s]+(i||0)})}return t},wd=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",BV=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(r),s},UV=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:p,axisType:h}=t;if(!s)return null;var y=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,m=i==="category"&&s.bandwidth?s.bandwidth()/y:0;if(m=h==="angleAxis"&&a&&a.length>=2?Di(a[0]-a[1])*2*m:m,f||p){var w=(f||p||[]).map((g,v)=>{var x=n?n.indexOf(g):g;return{coordinate:s(x)+m,value:g,offset:m,index:v}});return w.filter(g=>!Ps(g.coordinate))}return l&&c?c.map((g,v)=>({coordinate:s(g)+m,value:g,index:v,offset:m})):s.ticks&&!r&&u!=null?s.ticks(u).map((g,v)=>({coordinate:s(g)+m,value:g,offset:m,index:v})):s.domain().map((g,v)=>({coordinate:s(g)+m,value:n?n[g]:g,index:v,offset:m}))},gO=1e-4,wfe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-gO,a=Math.max(n[0],n[1])+gO,s=t(e[0]),o=t(e[r-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[r-1]])}},bfe=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,s=0;s<e;++s){var o=Ps(t[s][r][1])?t[s][r][0]:t[s][r][1];o>=0?(t[s][r][0]=i,t[s][r][1]=i+o,i=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+o,a=t[s][r][1])}},xfe=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var s=Ps(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=i,t[a][r][1]=i+s,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},_fe={sign:bfe,expand:oue,none:Zp,silhouette:lue,wiggle:cue,positive:xfe},Efe=(t,e,r)=>{var n=_fe[r],i=sue().keys(e).value((a,s)=>+sn(a,s,0)).order(cN).offset(n);return i(t)};function Afe(t){return t==null?void 0:String(t)}function yO(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!wn(i[e.dataKey])){var o=w$(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=sn(i,wn(s)?e.dataKey:s);return wn(l)?null:e.scale(l)}var Sfe=t=>{var e=t.flat(2).filter(yt);return[Math.min(...e),Math.max(...e)]},Nfe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Tfe=(t,e,r)=>{if(t!=null)return Nfe(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((l,c)=>{var u=Sfe(c.slice(e,r+1));return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},vO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bN=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Jx(e,u=>u.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function bO(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return ms(ms({},e),{},{dataKey:r,payload:n,value:i,name:a})}function i2(t,e){if(t)return String(t);if(typeof e=="string")return e}function Pfe(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return n?hfe({x:t,y:e},n):null}var Cfe=(t,e,r,n)=>{var i=e.find(c=>c&&c.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:s}=n;return ms(ms(ms({},n),Mn(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return ms(ms(ms({},n),Mn(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},kfe=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ic=t=>t.layout.width,jc=t=>t.layout.height,Ife=t=>t.layout.scale,$V=t=>t.layout.margin,iP=Ue(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),aP=Ue(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),VV="data-recharts-item-index",zV="data-recharts-item-data-key",a2=60;function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){jfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jfe(t,e,r){return(e=Ofe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ofe(t){var e=Rfe(t,"string");return typeof e=="symbol"?e:e+""}function Rfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lfe=t=>t.brush.height,ri=Ue([Ic,jc,$V,Lfe,iP,aP,fV,ide],(t,e,r,n,i,a,s,o)=>{var l=a.reduce((y,m)=>{var{orientation:w}=m;if(!m.mirror&&!m.hide){var g=typeof m.width=="number"?m.width:a2;return pu(pu({},y),{},{[w]:y[w]+g})}return y},{left:r.left||0,right:r.right||0}),c=i.reduce((y,m)=>{var{orientation:w}=m;return!m.mirror&&!m.hide?pu(pu({},y),{},{[w]:od(y,"".concat(w))+m.height}):y},{top:r.top||0,bottom:r.bottom||0}),u=pu(pu({},c),l),f=u.bottom;u.bottom+=n,u=vfe(u,s,o);var p=t-u.left-u.right,h=e-u.top-u.bottom;return pu(pu({brushBottom:f},u),{},{width:Math.max(p,0),height:Math.max(h,0)})}),Dfe=Ue(ri,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),qV=Ue(Ic,jc,(t,e)=>({x:0,y:0,width:t,height:e})),Mfe=O.createContext(null),Sa=()=>O.useContext(Mfe)!=null,s2=t=>t.brush,o2=Ue([s2,ri,$V],(t,e,r)=>({height:t.height,x:yt(t.x)?t.x:e.left,y:yt(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:yt(t.width)?t.width:e.width})),sP=()=>{var t,e=Sa(),r=vt(Dfe),n=vt(o2),i=(t=vt(s2))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Ffe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},WV=()=>{var t;return(t=vt(ri))!==null&&t!==void 0?t:Ffe},oP=()=>vt(Ic),lP=()=>vt(jc),Bfe={top:0,right:0,bottom:0,left:0},Ufe=()=>{var t;return(t=vt(e=>e.layout.margin))!==null&&t!==void 0?t:Bfe},Ur=t=>t.layout.layoutType,cP=()=>vt(Ur),$fe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},HV=Rs({name:"legend",initialState:$fe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=fc(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:_O,setLegendSettings:Vfe,addLegendPayload:GV,removeLegendPayload:KV}=HV.actions,zfe=HV.reducer,qfe=["contextPayload"];function xN(){return xN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xN.apply(null,arguments)}function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){uP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uP(t,e,r){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wfe(t){var e=Hfe(t,"string");return typeof e=="symbol"?e:e+""}function Hfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gfe(t,e){if(t==null)return{};var r,n,i=Kfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Kfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Yfe(t){return t.value}function Xfe(t){var{contextPayload:e}=t,r=Gfe(t,qfe),n=tV(e,t.payloadUniqBy,Yfe),i=rm(rm({},r),{},{payload:n});return O.isValidElement(t.content)?O.cloneElement(t.content,i):typeof t.content=="function"?O.createElement(t.content,i):O.createElement(VT,i)}function Jfe(t,e,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?c={left:((n||0)-a.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),rm(rm({},c),u)}function Qfe(t){var e=Xr();return O.useEffect(()=>{e(Vfe(t))},[e,t]),null}function Zfe(t){var e=Xr();return O.useEffect(()=>(e(_O(t)),()=>{e(_O({width:0,height:0}))}),[e,t]),null}function ehe(t){var e=ode(),r=kce(),n=Ufe(),{width:i,height:a,wrapperStyle:s,portal:o}=t,[l,c]=hV([e]),u=oP(),f=lP(),p=u-(n.left||0)-(n.right||0),h=l2.getWidthOrHeight(t.layout,a,i,p),y=o?s:rm(rm({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||a||"auto"},Jfe(s,t,n,u,f,l)),s),m=o??r;if(m==null)return null;var w=O.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},O.createElement(Qfe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),O.createElement(Zfe,{width:l.width,height:l.height}),O.createElement(Xfe,xN({},t,h,{margin:n,chartWidth:u,chartHeight:f,contextPayload:e})));return m3.createPortal(w,m)}class l2 extends O.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&yt(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return O.createElement(ehe,this.props)}}uP(l2,"displayName","Legend");uP(l2,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_N.apply(null,arguments)}function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){the(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function the(t,e,r){return(e=rhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rhe(t){var e=nhe(t,"string");return typeof e=="symbol"?e:e+""}function nhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ihe(t){return Array.isArray(t)&&gl(t[0])&&gl(t[1])?t.join(" ~ "):t}var ahe=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:p=!1}=t,h=()=>{if(a&&a.length){var S={padding:0,margin:0},C=(o?Jx(a,o):a).map((P,k)=>{if(P.type==="none")return null;var T=P.formatter||s||ihe,{value:W,name:M}=P,A=W,I=M;if(T){var L=T(W,M,P,k,a);if(Array.isArray(L))[A,I]=L;else if(L!=null)A=L;else return null}var se=m_({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:se},gl(I)?O.createElement("span",{className:"recharts-tooltip-item-name"},I):null,gl(I)?O.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,O.createElement("span",{className:"recharts-tooltip-item-value"},A),O.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:S},C)}return null},y=m_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=m_({margin:0},i),w=!wn(u),g=w?u:"",v=tr("recharts-default-tooltip",l),x=tr("recharts-tooltip-label",c);w&&f&&a!==void 0&&a!==null&&(g=f(u,a));var E=p?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",_N({className:v,style:y},E),O.createElement("p",{className:x,style:m},O.isValidElement(g)?g:"".concat(g)),h())},wg="recharts-tooltip-wrapper",she={visibility:"hidden"};function ohe(t){var{coordinate:e,translateX:r,translateY:n}=t;return tr(wg,{["".concat(wg,"-right")]:yt(r)&&e&&yt(e.x)&&r>=e.x,["".concat(wg,"-left")]:yt(r)&&e&&yt(e.x)&&r<e.x,["".concat(wg,"-bottom")]:yt(n)&&e&&yt(e.y)&&n>=e.y,["".concat(wg,"-top")]:yt(n)&&e&&yt(e.y)&&n<e.y})}function SO(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=t;if(a&&yt(a[n]))return a[n];var u=r[n]-o-(i>0?i:0),f=r[n]+i;if(e[n])return s[n]?u:f;var p=l[n];if(p==null)return 0;if(s[n]){var h=u,y=p;return h<y?Math.max(f,p):Math.max(u,p)}if(c==null)return 0;var m=f+o,w=p+c;return m>w?Math.max(u,p):Math.max(f,p)}function lhe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function che(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=t,c,u,f;return s.height>0&&s.width>0&&r?(u=SO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=SO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=lhe({translateX:u,translateY:f,useTranslate3d:o})):c=she,{cssProperties:c,cssClasses:ohe({translateX:u,translateY:f,coordinate:r})}}function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){EN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EN(t,e,r){return(e=uhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uhe(t){var e=dhe(t,"string");return typeof e=="symbol"?e:e+""}function dhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fhe extends O.PureComponent{constructor(){super(...arguments),EN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),EN(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:p,viewBox:h,wrapperStyle:y,lastBoundingBox:m,innerRef:w,hasPortalFromProps:g}=this.props,{cssClasses:v,cssProperties:x}=che({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:m.height,width:m.width},useTranslate3d:p,viewBox:h}),E=g?{}:zv(zv({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),S=zv(zv({},E),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},y);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:S,ref:w},a)}}var hhe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Om={isSsr:hhe()},YV=()=>vt(t=>t.rootProps.accessibilityLayer);function wo(t){return Number.isFinite(t)}function nm(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function AN(){return AN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AN.apply(null,arguments)}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){phe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function phe(t,e,r){return(e=mhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mhe(t){var e=ghe(t,"string");return typeof e=="symbol"?e:e+""}function ghe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CO={curveBasisClosed:Yce,curveBasisOpen:Xce,curveBasis:Kce,curveBumpX:Rce,curveBumpY:Lce,curveLinearClosed:Jce,curveLinear:qx,curveMonotoneX:Qce,curveMonotoneY:Zce,curveNatural:eue,curveStep:tue,curveStepAfter:nue,curveStepBefore:rue},qv=t=>wo(t.x)&&wo(t.y),bg=t=>t.x,xg=t=>t.y,yhe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Ey(t));return(r==="curveMonotone"||r==="curveBump")&&e?CO["".concat(r).concat(e==="vertical"?"Y":"X")]:CO[r]||qx},vhe=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,s=yhe(e,i),o=a?r.filter(qv):r,l;if(Array.isArray(n)){var c=a?n.filter(f=>qv(f)):n,u=o.map((f,p)=>PO(PO({},f),{},{base:c[p]}));return i==="vertical"?l=Fv().y(xg).x1(bg).x0(f=>f.base.x):l=Fv().x(bg).y1(xg).y0(f=>f.base.y),l.defined(qv).curve(s),l(u)}return i==="vertical"&&yt(n)?l=Fv().y(xg).x1(bg).x0(n):yt(n)?l=Fv().x(bg).y1(xg).y0(n):l=P$().x(bg).y(xg),l.defined(qv).curve(s),l(o)},dP=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?vhe(t):n;return O.createElement("path",AN({},er(t,!1),RT(t),{className:tr("recharts-curve",e),d:a===null?void 0:a,ref:i}))},whe=["x","y","top","left","width","height","className"];function SN(){return SN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SN.apply(null,arguments)}function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bhe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){xhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xhe(t,e,r){return(e=_he(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _he(t){var e=Ehe(t,"string");return typeof e=="symbol"?e:e+""}function Ehe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ahe(t,e){if(t==null)return{};var r,n,i=She(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function She(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Nhe=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),The=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=t,l=Ahe(t,whe),c=bhe({x:e,y:r,top:n,left:i,width:a,height:s},l);return!yt(e)||!yt(r)||!yt(a)||!yt(s)||!yt(n)||!yt(i)?null:O.createElement("path",SN({},er(c,!0),{className:tr("recharts-cross",o),d:Nhe(e,r,a,s,n,i)}))};function Phe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Che(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){khe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function khe(t,e,r){return(e=Ihe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ihe(t){var e=jhe(t,"string");return typeof e=="symbol"?e:e+""}function jhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eo(t,e){var r=Che({},t),n=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}var XV={},JV={},QV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(QV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QV,r=KT,n=Kx,i=Yx,a=Gx;function s(c,u,f){return o(c,u,void 0,void 0,void 0,void 0,f)}function o(c,u,f,p,h,y,m){const w=m(c,u,f,p,h,y);if(w!==void 0)return w;if(typeof c==typeof u)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===u;case"number":return c===u||Object.is(c,u);case"function":return c===u;case"object":return l(c,u,y,m)}return l(c,u,y,m)}function l(c,u,f,p){if(Object.is(c,u))return!0;let h=n.getTag(c),y=n.getTag(u);if(h===i.argumentsTag&&(h=i.objectTag),y===i.argumentsTag&&(y=i.objectTag),h!==y)return!1;switch(h){case i.stringTag:return c.toString()===u.toString();case i.numberTag:{const g=c.valueOf(),v=u.valueOf();return a.eq(g,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),u.valueOf());case i.regexpTag:return c.source===u.source&&c.flags===u.flags;case i.functionTag:return c===u}f=f??new Map;const m=f.get(c),w=f.get(u);if(m!=null&&w!=null)return m===u;f.set(c,u),f.set(u,c);try{switch(h){case i.mapTag:{if(c.size!==u.size)return!1;for(const[g,v]of c.entries())if(!u.has(g)||!o(v,u.get(g),g,c,u,f,p))return!1;return!0}case i.setTag:{if(c.size!==u.size)return!1;const g=Array.from(c.values()),v=Array.from(u.values());for(let x=0;x<g.length;x++){const E=g[x],S=v.findIndex(C=>o(E,C,void 0,c,u,f,p));if(S===-1)return!1;v.splice(S,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(u)||c.length!==u.length)return!1;for(let g=0;g<c.length;g++)if(!o(c[g],u[g],g,c,u,f,p))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==u.byteLength?!1:l(new Uint8Array(c),new Uint8Array(u),f,p);case i.dataViewTag:return c.byteLength!==u.byteLength||c.byteOffset!==u.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(u),f,p);case i.errorTag:return c.name===u.name&&c.message===u.message;case i.objectTag:{if(!(l(c.constructor,u.constructor,f,p)||e.isPlainObject(c)&&e.isPlainObject(u)))return!1;const v=[...Object.keys(c),...r.getSymbols(c)],x=[...Object.keys(u),...r.getSymbols(u)];if(v.length!==x.length)return!1;for(let E=0;E<v.length;E++){const S=v[E],C=c[S];if(!Object.hasOwn(u,S))return!1;const P=u[S];if(!o(C,P,S,c,u,f,p))return!1}return!0}default:return!1}}finally{f.delete(c),f.delete(u)}}t.isEqualWith=s})(JV);var ZV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(ZV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JV,r=ZV;function n(i,a){return e.isEqualWith(i,a,r.noop)}t.isEqual=n})(XV);var Ohe=XV.isEqual;const Rhe=bo(Ohe);function Lhe(t){var e={},r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=t.setTimeout(a.bind(null,c),l);return}a(l),i=t.setTimeout(a.bind(null,c));return}typeof s=="object"&&(e=s,r(e)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>t}}var ab=1e-4,ez=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],tz=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),jO=(t,e)=>r=>{var n=ez(t,e);return tz(n,r)},Dhe=(t,e)=>r=>{var n=ez(t,e),i=[...n.map((a,s)=>a*s).slice(1),0];return tz(i,r)},OO=function(){for(var e,r,n,i,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,n,r,i]=l[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else s.length===4&&([e,n,r,i]=s);var c=jO(e,r),u=jO(n,i),f=Dhe(e,r),p=y=>y>1?1:y<0?0:y,h=y=>{for(var m=y>1?1:y,w=m,g=0;g<8;++g){var v=c(w)-m,x=f(w);if(Math.abs(v-m)<ab||x<ab)return u(w);w=p(w-v/x)}return u(w)};return h.isStepper=!1,h},Mhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(s,o,l)=>{var c=-(s-o)*r,u=l*n,f=l+(c-u)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<ab&&Math.abs(f)<ab?[o,0]:[p,f]};return a.isStepper=!0,a.dt=i,a},Fhe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OO(t);case"spring":return Mhe();default:if(t.split("(")[0]==="cubic-bezier")return OO(t)}return typeof t=="function"?t:null};function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){Bhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bhe(t,e,r){return(e=Uhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uhe(t){var e=$he(t,"string");return typeof e=="symbol"?e:e+""}function $he(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vhe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),zhe=(t,e,r)=>t.map(n=>"".concat(Vhe(n)," ").concat(e,"ms ").concat(r)).join(","),qhe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),W0=(t,e)=>Object.keys(e).reduce((r,n)=>LO(LO({},r),{},{[n]:t(n,e[n])}),{});function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){Whe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Whe(t,e,r){return(e=Hhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hhe(t){var e=Ghe(t,"string");return typeof e=="symbol"?e:e+""}function Ghe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sb=(t,e,r)=>t+(e-t)*r,NN=t=>{var{from:e,to:r}=t;return e!==r},rz=(t,e,r)=>{var n=W0((i,a)=>{if(NN(a)){var[s,o]=t(a.from,a.to,a.velocity);return hi(hi({},a),{},{from:s,velocity:o})}return a},e);return r<1?W0((i,a)=>NN(a)?hi(hi({},a),{},{velocity:sb(a.velocity,n[i].velocity,r),from:sb(a.from,n[i].from,r)}):a,e):rz(t,n,r-1)};function Khe(t,e,r,n,i,a){var s,o=n.reduce((p,h)=>hi(hi({},p),{},{[h]:{from:t[h],velocity:0,to:e[h]}}),{}),l=()=>W0((p,h)=>h.from,o),c=()=>!Object.values(o).filter(NN).length,u=null,f=p=>{s||(s=p);var h=p-s,y=h/r.dt;o=rz(r,o,y),i(hi(hi(hi({},t),e),l())),s=p,c()||(u=a.setTimeout(f))};return()=>(u=a.setTimeout(f),()=>{u()})}function Yhe(t,e,r,n,i,a,s){var o=null,l=i.reduce((f,p)=>hi(hi({},f),{},{[p]:[t[p],e[p]]}),{}),c,u=f=>{c||(c=f);var p=(f-c)/n,h=W0((m,w)=>sb(...w,r(p)),l);if(a(hi(hi(hi({},t),e),h)),p<1)o=s.setTimeout(u);else{var y=W0((m,w)=>sb(...w,r(1)),l);a(hi(hi(hi({},t),e),y))}};return()=>(o=s.setTimeout(u),()=>{o()})}const Xhe=(t,e,r,n,i,a)=>{var s=qhe(t,e);return r.isStepper===!0?Khe(t,e,r,s,i,a):Yhe(t,e,r,n,s,i,a)};class Jhe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}var Qhe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function TN(){return TN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TN.apply(null,arguments)}function Zhe(t,e){if(t==null)return{};var r,n,i=epe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function epe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){pf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pf(t,e,r){return(e=tpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tpe(t){var e=rpe(t,"string");return typeof e=="symbol"?e:e+""}function rpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function npe(){return Lhe(new Jhe)}class fP extends O.PureComponent{constructor(e,r){super(e,r),pf(this,"mounted",!1),pf(this,"manager",null),pf(this,"stopJSAnimation",null),pf(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:a,to:s,children:o,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:s});return}if(a){if(typeof o=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:a,to:s,from:o}=this.props,{style:l}=this.state;if(n){if(!r){var c={style:i?{[i]:s}:s};this.state&&l&&(i&&l[i]!==s||!i&&l!==s)&&this.setState(c);return}if(!(Rhe(e.to,s)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||a?o:e.to;if(this.state&&l){var p={style:i?{[i]:f}:f};(i&&l[i]!==f||!i&&l!==f)&&this.setState(p)}this.runAnimation(mu(mu({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l}=e,c=Xhe(r,n,Fhe(a),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=c()};this.manager.start([l,s,u,i,o])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:a,easing:s,onAnimationStart:o,onAnimationEnd:l,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof c=="function"||s==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:a}:a,f=zhe(Object.keys(u),n,s);this.manager.start([o,r,mu(mu({},u),{},{transition:f}),n,l])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:a,easing:s,isActive:o,from:l,to:c,canBegin:u,onAnimationEnd:f,shouldReAnimate:p,onAnimationReStart:h,animationManager:y}=e,m=Zhe(e,Qhe),w=O.Children.count(r),g=this.state.style;if(typeof r=="function")return r(g);if(!o||w===0||i<=0)return r;var v=x=>{var{style:E={},className:S}=x.props,C=O.cloneElement(x,mu(mu({},m),{},{style:mu(mu({},E),g),className:S}));return C};return w===1?v(O.Children.only(r)):O.createElement("div",null,O.Children.map(r,x=>v(x)))}}pf(fP,"displayName","Animate");pf(fP,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var ipe=O.createContext(null);function Wf(t){var e,r,n=O.useContext(ipe);return O.createElement(fP,TN({},t,{animationManager:(e=(r=t.animationManager)!==null&&r!==void 0?r:n)!==null&&e!==void 0?e:npe()}))}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ob.apply(null,arguments)}var FO=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],f=0,p=4;f<p;f++)u[f]=i[f]>a?a:i[f];c="M".concat(t,",").concat(e+s*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+o*u[0],",").concat(e)),c+="L ".concat(t+r-o*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+r,",").concat(e+s*u[1])),c+="L ".concat(t+r,",").concat(e+n-s*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+r-o*u[2],",").concat(e+n)),c+="L ".concat(t+o*u[3],",").concat(e+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+n-s*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);c="M ".concat(t,",").concat(e+s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+o*h,",").concat(e,`
            L `).concat(t+r-o*h,",").concat(e,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+r,",").concat(e+s*h,`
            L `).concat(t+r,",").concat(e+n-s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+r-o*h,",").concat(e+n,`
            L `).concat(t+o*h,",").concat(e+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t,",").concat(e+n-s*h," Z")}else c="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},ape={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nz=t=>{var e=Eo(t,ape),r=O.useRef(null),[n,i]=O.useState(-1);O.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var g=r.current.getTotalLength();g&&i(g)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:u}=e,{animationEasing:f,animationDuration:p,animationBegin:h,isAnimationActive:y,isUpdateAnimationActive:m}=e;if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var w=tr("recharts-rectangle",u);return m?O.createElement(Wf,{canBegin:n>0,from:{width:o,height:l,x:a,y:s},to:{width:o,height:l,x:a,y:s},duration:p,animationEasing:f,isActive:m},g=>{var{width:v,height:x,x:E,y:S}=g;return O.createElement(Wf,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,isActive:y,easing:f},O.createElement("path",ob({},er(e,!0),{className:w,d:FO(E,S,v,x,c),ref:r})))}):O.createElement("path",ob({},er(e,!0),{className:w,d:FO(a,s,o,l,c)}))};function iz(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,s=Mn(e,r,n,i),o=Mn(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function PN(){return PN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PN.apply(null,arguments)}var spe=(t,e)=>{var r=Di(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Wv=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=t,c=o*(s?1:-1)+n,u=Math.asin(o/c)/ib,f=l?i:i+a*u,p=Mn(e,r,c,f),h=Mn(e,r,n,f),y=l?i-a*u:i,m=Mn(e,r,c*Math.cos(u*ib),y);return{center:p,circleTangency:h,lineTangency:m,theta:u}},az=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=t,o=spe(a,s),l=a+o,c=Mn(e,r,i,a),u=Mn(e,r,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=Mn(e,r,n,a),h=Mn(e,r,n,l);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(e,",").concat(r," Z");return f},ope=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=t,u=Di(c-l),{circleTangency:f,lineTangency:p,theta:h}=Wv({cx:e,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:y,lineTangency:m,theta:w}=Wv({cx:e,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),g=o?Math.abs(l-c):Math.abs(l-c)-h-w;if(g<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):az({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(g>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
  `);if(n>0){var{circleTangency:x,lineTangency:E,theta:S}=Wv({cx:e,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:C,lineTangency:P,theta:k}=Wv({cx:e,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),T=o?Math.abs(l-c):Math.abs(l-c)-S-k;if(T<0&&a===0)return"".concat(v,"L").concat(e,",").concat(r,"Z");v+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else v+="L".concat(e,",").concat(r,"Z");return v},lpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sz=t=>{var e=Eo(t,lpe),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=e;if(a<i||c===u)return null;var p=tr("recharts-sector",f),h=a-i,y=Es(s,h,0,!0),m;return y>0&&Math.abs(c-u)<360?m=ope({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(y,h/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):m=az({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),O.createElement("path",PN({},er(e,!0),{className:p,d:m}))};function cpe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:f}=e,p=Mn(o,l,c,f),h=Mn(o,l,u,f);n=p.x,i=p.y,a=h.x,s=h.y}else return iz(e);return[{x:n,y:i},{x:a,y:s}]}var oz={},lz={},cz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JT;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(cz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cz;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(lz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QT,r=lz;function n(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}t.range=n})(oz);var upe=oz.range;const uz=bo(upe);function Xu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hP(t){let e,r,n;t.length!==2?(e=Xu,r=(o,l)=>Xu(t(o),l),n=(o,l)=>t(o)-l):(e=t===Xu||t===dpe?t:fpe,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function fpe(){return 0}function dz(t){return t===null?NaN:+t}function*hpe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const ppe=hP(Xu),Sy=ppe.right;hP(dz).center;class BO extends Map{constructor(e,r=ype){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(UO(this,e))}has(e){return super.has(UO(this,e))}set(e,r){return super.set(mpe(this,e),r)}delete(e){return super.delete(gpe(this,e))}}function UO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function mpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function gpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function ype(t){return t!==null&&typeof t=="object"?t.valueOf():t}function vpe(t=Xu){if(t===Xu)return fz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function fz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wpe=Math.sqrt(50),bpe=Math.sqrt(10),xpe=Math.sqrt(2);function lb(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=wpe?10:a>=bpe?5:a>=xpe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?lb(t,e,r*2):[o,l,c]}function CN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?lb(e,t,r):lb(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function kN(t,e,r){return e=+e,t=+t,r=+r,lb(t,e,r)[2]}function IN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?kN(e,t,r):kN(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function $O(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function VO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hz(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?fz:vpe(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(e-c*f/l+p)),y=Math.min(n,Math.floor(e+(l-c)*f/l+p));hz(t,e,h,y,i)}const a=t[e];let s=r,o=n;for(_g(t,r,e),i(t[n],a)>0&&_g(t,r,n);s<o;){for(_g(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?_g(t,r,o):(++o,_g(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function _g(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function _pe(t,e,r){if(t=Float64Array.from(hpe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return VO(t);if(e>=1)return $O(t);var n,i=(n-1)*e,a=Math.floor(i),s=$O(hz(t,a).subarray(0,a+1)),o=VO(t.subarray(a+1));return s+(o-s)*(i-a)}}function Epe(t,e,r=dz){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Ape(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Ls(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const jN=Symbol("implicit");function pP(){var t=new BO,e=[],r=[],n=jN;function i(a){let s=t.get(a);if(s===void 0){if(n!==jN)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new BO;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return pP(e,r).unknown(n)},Ls.apply(i,arguments),i}function mP(){var t=pP().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var p=e().length,h=i<n,y=h?i:n,m=h?n:i;a=(m-y)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),y+=(m-y-a*(p-l))*u,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var w=Ape(p).map(function(g){return y+a*g});return r(h?w.reverse():w)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,f()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},t.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},t.copy=function(){return mP(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Ls.apply(f(),arguments)}function pz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pz(e())},t}function Spe(){return pz(mP.apply(null,arguments).paddingInner(1))}function gP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function mz(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ny(){}var H0=.7,cb=1/H0,Pp="\\s*([+-]?\\d+)\\s*",G0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Npe=/^#([0-9a-f]{3,8})$/,Tpe=new RegExp(`^rgb\\(${Pp},${Pp},${Pp}\\)$`),Ppe=new RegExp(`^rgb\\(${fl},${fl},${fl}\\)$`),Cpe=new RegExp(`^rgba\\(${Pp},${Pp},${Pp},${G0}\\)$`),kpe=new RegExp(`^rgba\\(${fl},${fl},${fl},${G0}\\)$`),Ipe=new RegExp(`^hsl\\(${G0},${fl},${fl}\\)$`),jpe=new RegExp(`^hsla\\(${G0},${fl},${fl},${G0}\\)$`),zO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gP(Ny,K0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qO,formatHex:qO,formatHex8:Ope,formatHsl:Rpe,formatRgb:WO,toString:WO});function qO(){return this.rgb().formatHex()}function Ope(){return this.rgb().formatHex8()}function Rpe(){return gz(this).formatHsl()}function WO(){return this.rgb().formatRgb()}function K0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Npe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?HO(e):r===3?new va(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Hv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Hv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Tpe.exec(t))?new va(e[1],e[2],e[3],1):(e=Ppe.exec(t))?new va(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Cpe.exec(t))?Hv(e[1],e[2],e[3],e[4]):(e=kpe.exec(t))?Hv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ipe.exec(t))?YO(e[1],e[2]/100,e[3]/100,1):(e=jpe.exec(t))?YO(e[1],e[2]/100,e[3]/100,e[4]):zO.hasOwnProperty(t)?HO(zO[t]):t==="transparent"?new va(NaN,NaN,NaN,0):null}function HO(t){return new va(t>>16&255,t>>8&255,t&255,1)}function Hv(t,e,r,n){return n<=0&&(t=e=r=NaN),new va(t,e,r,n)}function Lpe(t){return t instanceof Ny||(t=K0(t)),t?(t=t.rgb(),new va(t.r,t.g,t.b,t.opacity)):new va}function ON(t,e,r,n){return arguments.length===1?Lpe(t):new va(t,e,r,n??1)}function va(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}gP(va,ON,mz(Ny,{brighter(t){return t=t==null?cb:Math.pow(cb,t),new va(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?H0:Math.pow(H0,t),new va(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new va(Nf(this.r),Nf(this.g),Nf(this.b),ub(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GO,formatHex:GO,formatHex8:Dpe,formatRgb:KO,toString:KO}));function GO(){return`#${mf(this.r)}${mf(this.g)}${mf(this.b)}`}function Dpe(){return`#${mf(this.r)}${mf(this.g)}${mf(this.b)}${mf((isNaN(this.opacity)?1:this.opacity)*255)}`}function KO(){const t=ub(this.opacity);return`${t===1?"rgb(":"rgba("}${Nf(this.r)}, ${Nf(this.g)}, ${Nf(this.b)}${t===1?")":`, ${t})`}`}function ub(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mf(t){return t=Nf(t),(t<16?"0":"")+t.toString(16)}function YO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new oo(t,e,r,n)}function gz(t){if(t instanceof oo)return new oo(t.h,t.s,t.l,t.opacity);if(t instanceof Ny||(t=K0(t)),!t)return new oo;if(t instanceof oo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new oo(s,o,l,t.opacity)}function Mpe(t,e,r,n){return arguments.length===1?gz(t):new oo(t,e,r,n??1)}function oo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}gP(oo,Mpe,mz(Ny,{brighter(t){return t=t==null?cb:Math.pow(cb,t),new oo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?H0:Math.pow(H0,t),new oo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new va(g_(t>=240?t-240:t+120,i,n),g_(t,i,n),g_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new oo(XO(this.h),Gv(this.s),Gv(this.l),ub(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ub(this.opacity);return`${t===1?"hsl(":"hsla("}${XO(this.h)}, ${Gv(this.s)*100}%, ${Gv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function XO(t){return t=(t||0)%360,t<0?t+360:t}function Gv(t){return Math.max(0,Math.min(1,t||0))}function g_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const yP=t=>()=>t;function Fpe(t,e){return function(r){return t+r*e}}function Bpe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Upe(t){return(t=+t)==1?yz:function(e,r){return r-e?Bpe(e,r,t):yP(isNaN(e)?r:e)}}function yz(t,e){var r=e-t;return r?Fpe(t,r):yP(isNaN(t)?e:t)}const JO=function t(e){var r=Upe(e);function n(i,a){var s=r((i=ON(i)).r,(a=ON(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=yz(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function $pe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Vpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zpe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Rm(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function qpe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function db(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Wpe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Rm(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var RN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y_=new RegExp(RN.source,"g");function Hpe(t){return function(){return t}}function Gpe(t){return function(e){return t(e)+""}}function Kpe(t,e){var r=RN.lastIndex=y_.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=RN.exec(t))&&(i=y_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:db(n,i)})),r=y_.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Gpe(l[0].x):Hpe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Rm(t,e){var r=typeof e,n;return e==null||r==="boolean"?yP(e):(r==="number"?db:r==="string"?(n=K0(e))?(e=n,JO):Kpe:e instanceof K0?JO:e instanceof Date?qpe:Vpe(e)?$pe:Array.isArray(e)?zpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Wpe:db)(t,e)}function vP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Ype(t,e){e===void 0&&(e=t,t=Rm);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Xpe(t){return function(){return t}}function fb(t){return+t}var QO=[0,1];function Ji(t){return t}function LN(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Xpe(isNaN(e)?NaN:.5)}function Jpe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Qpe(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=LN(i,n),a=r(s,a)):(n=LN(n,i),a=r(a,s)),function(o){return a(n(o))}}function Zpe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=LN(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=Sy(t,o,1,n)-1;return a[l](i[l](o))}}function Ty(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function c2(){var t=QO,e=QO,r=Rm,n,i,a,s=Ji,o,l,c;function u(){var p=Math.min(t.length,e.length);return s!==Ji&&(s=Jpe(t[0],t[p-1])),o=p>2?Zpe:Qpe,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(n),e,r)))(n(s(p)))}return f.invert=function(p){return s(i((c||(c=o(e,t.map(n),db)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,fb),u()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),u()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=vP,u()},f.clamp=function(p){return arguments.length?(s=p?!0:Ji,u()):s!==Ji},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,u()}}function wP(){return c2()(Ji,Ji)}function eme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hb(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function im(t){return t=hb(Math.abs(t)),t?t[1]:NaN}function tme(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function rme(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var nme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Y0(t){if(!(e=nme.exec(t)))throw new Error("invalid format: "+t);var e;return new bP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Y0.prototype=bP.prototype;function bP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ime(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var vz;function ame(t,e){var r=hb(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(vz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+hb(t,Math.max(0,e+a-1))[0]}function ZO(t,e){var r=hb(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const eR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:eme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ZO(t*100,e),r:ZO,s:ame,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function tR(t){return t}var rR=Array.prototype.map,nR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sme(t){var e=t.grouping===void 0||t.thousands===void 0?tR:tme(rR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?tR:rme(rR.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Y0(f);var p=f.fill,h=f.align,y=f.sign,m=f.symbol,w=f.zero,g=f.width,v=f.comma,x=f.precision,E=f.trim,S=f.type;S==="n"?(v=!0,S="g"):eR[S]||(x===void 0&&(x=12),E=!0,S="g"),(w||p==="0"&&h==="=")&&(w=!0,p="0",h="=");var C=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=m==="$"?n:/[%p]/.test(S)?s:"",k=eR[S],T=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function W(M){var A=C,I=P,L,se,pe;if(S==="c")I=k(M)+I,M="";else{M=+M;var X=M<0||1/M<0;if(M=isNaN(M)?l:k(Math.abs(M),x),E&&(M=ime(M)),X&&+M==0&&y!=="+"&&(X=!1),A=(X?y==="("?y:o:y==="-"||y==="("?"":y)+A,I=(S==="s"?nR[8+vz/3]:"")+I+(X&&y==="("?")":""),T){for(L=-1,se=M.length;++L<se;)if(pe=M.charCodeAt(L),48>pe||pe>57){I=(pe===46?i+M.slice(L+1):M.slice(L))+I,M=M.slice(0,L);break}}}v&&!w&&(M=e(M,1/0));var ce=A.length+M.length+I.length,ue=ce<g?new Array(g-ce+1).join(p):"";switch(v&&w&&(M=e(ue+M,ue.length?g-I.length:1/0),ue=""),h){case"<":M=A+M+I+ue;break;case"=":M=A+ue+M+I;break;case"^":M=ue.slice(0,ce=ue.length>>1)+A+M+I+ue.slice(ce);break;default:M=ue+A+M+I;break}return a(M)}return W.toString=function(){return f+""},W}function u(f,p){var h=c((f=Y0(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(im(p)/3)))*3,m=Math.pow(10,-y),w=nR[8+y/3];return function(g){return h(m*g)+w}}return{format:c,formatPrefix:u}}var Kv,xP,wz;ome({thousands:",",grouping:[3],currency:["$",""]});function ome(t){return Kv=sme(t),xP=Kv.format,wz=Kv.formatPrefix,Kv}function lme(t){return Math.max(0,-im(Math.abs(t)))}function cme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(im(e)/3)))*3-im(Math.abs(t)))}function ume(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,im(e)-im(t))+1}function bz(t,e,r,n){var i=IN(t,e,r),a;switch(n=Y0(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=cme(i,s))&&(n.precision=a),wz(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=ume(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=lme(i))&&(n.precision=a-(n.type==="%")*2);break}}return xP(n)}function bd(t){var e=t.domain;return t.ticks=function(r){var n=e();return CN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return bz(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=kN(s,o,r),c===l)return n[i]=s,n[a]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function xz(){var t=wP();return t.copy=function(){return Ty(t,xz())},Ls.apply(t,arguments),bd(t)}function _z(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,fb),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return _z(t).unknown(e)},t=arguments.length?Array.from(t,fb):[0,1],bd(r)}function Ez(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function iR(t){return Math.log(t)}function aR(t){return Math.exp(t)}function dme(t){return-Math.log(-t)}function fme(t){return-Math.exp(-t)}function hme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pme(t){return t===10?hme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function mme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sR(t){return(e,r)=>-t(-e,r)}function _P(t){const e=t(iR,aR),r=e.domain;let n=10,i,a;function s(){return i=mme(n),a=pme(n),r()[0]<0?(i=sR(i),a=sR(a),t(dme,fme)):t(iR,aR),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=i(c),h=i(u),y,m;const w=o==null?10:+o;let g=[];if(!(n%1)&&h-p<w){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(y=1;y<n;++y)if(m=p<0?y/a(-p):y*a(p),!(m<c)){if(m>u)break;g.push(m)}}else for(;p<=h;++p)for(y=n-1;y>=1;--y)if(m=p>0?y/a(-p):y*a(p),!(m<c)){if(m>u)break;g.push(m)}g.length*2<w&&(g=CN(c,u,w))}else g=CN(p,h,Math.min(h-p,w)).map(a);return f?g.reverse():g},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Y0(l)).precision==null&&(l.trim=!0),l=xP(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(Ez(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function Az(){const t=_P(c2()).domain([1,10]);return t.copy=()=>Ty(t,Az()).base(t.base()),Ls.apply(t,arguments),t}function oR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function lR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function EP(t){var e=1,r=t(oR(e),lR(e));return r.constant=function(n){return arguments.length?t(oR(e=+n),lR(e)):e},bd(r)}function Sz(){var t=EP(c2());return t.copy=function(){return Ty(t,Sz()).constant(t.constant())},Ls.apply(t,arguments)}function cR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function gme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function yme(t){return t<0?-t*t:t*t}function AP(t){var e=t(Ji,Ji),r=1;function n(){return r===1?t(Ji,Ji):r===.5?t(gme,yme):t(cR(r),cR(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},bd(e)}function SP(){var t=AP(c2());return t.copy=function(){return Ty(t,SP()).exponent(t.exponent())},Ls.apply(t,arguments),t}function vme(){return SP.apply(null,arguments).exponent(.5)}function uR(t){return Math.sign(t)*t*t}function wme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Nz(){var t=wP(),e=[0,1],r=!1,n;function i(a){var s=wme(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(uR(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,fb)).map(uR)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Nz(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ls.apply(i,arguments),bd(i)}function Tz(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=Epe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Sy(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Xu),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Tz().domain(t).range(e).unknown(n)},Ls.apply(a,arguments)}function Pz(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Sy(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Pz().domain([t,e]).range(i).unknown(a)},Ls.apply(bd(s),arguments)}function Cz(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Sy(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Cz().domain(t).range(e).unknown(r)},Ls.apply(i,arguments)}const v_=new Date,w_=new Date;function Hn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Hn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(v_.setTime(+a),w_.setTime(+s),t(v_),t(w_),Math.floor(r(v_,w_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const pb=Hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);pb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):pb);pb.range;const ic=1e3,ws=ic*60,ac=ws*60,Sc=ac*24,NP=Sc*7,dR=Sc*30,b_=Sc*365,gf=Hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ic)},(t,e)=>(e-t)/ic,t=>t.getUTCSeconds());gf.range;const TP=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ic)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getMinutes());TP.range;const PP=Hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getUTCMinutes());PP.range;const CP=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ic-t.getMinutes()*ws)},(t,e)=>{t.setTime(+t+e*ac)},(t,e)=>(e-t)/ac,t=>t.getHours());CP.range;const kP=Hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ac)},(t,e)=>(e-t)/ac,t=>t.getUTCHours());kP.range;const Py=Hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ws)/Sc,t=>t.getDate()-1);Py.range;const u2=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Sc,t=>t.getUTCDate()-1);u2.range;const kz=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Sc,t=>Math.floor(t/Sc));kz.range;function nh(t){return Hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ws)/NP)}const d2=nh(0),mb=nh(1),bme=nh(2),xme=nh(3),am=nh(4),_me=nh(5),Eme=nh(6);d2.range;mb.range;bme.range;xme.range;am.range;_me.range;Eme.range;function ih(t){return Hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/NP)}const f2=ih(0),gb=ih(1),Ame=ih(2),Sme=ih(3),sm=ih(4),Nme=ih(5),Tme=ih(6);f2.range;gb.range;Ame.range;Sme.range;sm.range;Nme.range;Tme.range;const IP=Hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IP.range;const jP=Hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());jP.range;const Nc=Hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Nc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Nc.range;const Tc=Hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Tc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Tc.range;function Iz(t,e,r,n,i,a){const s=[[gf,1,ic],[gf,5,5*ic],[gf,15,15*ic],[gf,30,30*ic],[a,1,ws],[a,5,5*ws],[a,15,15*ws],[a,30,30*ws],[i,1,ac],[i,3,3*ac],[i,6,6*ac],[i,12,12*ac],[n,1,Sc],[n,2,2*Sc],[r,1,NP],[e,1,dR],[e,3,3*dR],[t,1,b_]];function o(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),y=h?h.range(c,+u+1):[];return p?y.reverse():y}function l(c,u,f){const p=Math.abs(u-c)/f,h=hP(([,,w])=>w).right(s,p);if(h===s.length)return t.every(IN(c/b_,u/b_,f));if(h===0)return pb.every(Math.max(IN(c,u,f),1));const[y,m]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return y.every(m)}return[o,l]}const[Pme,Cme]=Iz(Tc,jP,f2,kz,kP,PP),[kme,Ime]=Iz(Nc,IP,d2,Py,CP,TP);function x_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function __(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Eg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function jme(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Ag(i),u=Sg(i),f=Ag(a),p=Sg(a),h=Ag(s),y=Sg(s),m=Ag(o),w=Sg(o),g=Ag(l),v=Sg(l),x={a:X,A:ce,b:ue,B:xe,c:null,d:yR,e:yR,f:tge,g:dge,G:hge,H:Qme,I:Zme,j:ege,L:jz,m:rge,M:nge,p:we,q:F,Q:bR,s:xR,S:ige,u:age,U:sge,V:oge,w:lge,W:cge,x:null,X:null,y:uge,Y:fge,Z:pge,"%":wR},E={a:J,A:ie,b:fe,B:Q,c:null,d:vR,e:vR,f:vge,g:Pge,G:kge,H:mge,I:gge,j:yge,L:Rz,m:wge,M:bge,p:$,q:V,Q:bR,s:xR,S:xge,u:_ge,U:Ege,V:Age,w:Sge,W:Nge,x:null,X:null,y:Tge,Y:Cge,Z:Ige,"%":wR},S={a:W,A:M,b:A,B:I,c:L,d:mR,e:mR,f:Kme,g:pR,G:hR,H:gR,I:gR,j:qme,L:Gme,m:zme,M:Wme,p:T,q:Vme,Q:Xme,s:Jme,S:Hme,u:Mme,U:Fme,V:Bme,w:Dme,W:Ume,x:se,X:pe,y:pR,Y:hR,Z:$me,"%":Yme};x.x=C(r,x),x.X=C(n,x),x.c=C(e,x),E.x=C(r,E),E.X=C(n,E),E.c=C(e,E);function C(te,ae){return function(Z){var ee=[],_e=-1,H=0,ve=te.length,B,j,R;for(Z instanceof Date||(Z=new Date(+Z));++_e<ve;)te.charCodeAt(_e)===37&&(ee.push(te.slice(H,_e)),(j=fR[B=te.charAt(++_e)])!=null?B=te.charAt(++_e):j=B==="e"?" ":"0",(R=ae[B])&&(B=R(Z,j)),ee.push(B),H=_e+1);return ee.push(te.slice(H,_e)),ee.join("")}}function P(te,ae){return function(Z){var ee=Eg(1900,void 0,1),_e=k(ee,te,Z+="",0),H,ve;if(_e!=Z.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(ae&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(H=__(Eg(ee.y,0,1)),ve=H.getUTCDay(),H=ve>4||ve===0?gb.ceil(H):gb(H),H=u2.offset(H,(ee.V-1)*7),ee.y=H.getUTCFullYear(),ee.m=H.getUTCMonth(),ee.d=H.getUTCDate()+(ee.w+6)%7):(H=x_(Eg(ee.y,0,1)),ve=H.getDay(),H=ve>4||ve===0?mb.ceil(H):mb(H),H=Py.offset(H,(ee.V-1)*7),ee.y=H.getFullYear(),ee.m=H.getMonth(),ee.d=H.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ve="Z"in ee?__(Eg(ee.y,0,1)).getUTCDay():x_(Eg(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ve+5)%7:ee.w+ee.U*7-(ve+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,__(ee)):x_(ee)}}function k(te,ae,Z,ee){for(var _e=0,H=ae.length,ve=Z.length,B,j;_e<H;){if(ee>=ve)return-1;if(B=ae.charCodeAt(_e++),B===37){if(B=ae.charAt(_e++),j=S[B in fR?ae.charAt(_e++):B],!j||(ee=j(te,Z,ee))<0)return-1}else if(B!=Z.charCodeAt(ee++))return-1}return ee}function T(te,ae,Z){var ee=c.exec(ae.slice(Z));return ee?(te.p=u.get(ee[0].toLowerCase()),Z+ee[0].length):-1}function W(te,ae,Z){var ee=h.exec(ae.slice(Z));return ee?(te.w=y.get(ee[0].toLowerCase()),Z+ee[0].length):-1}function M(te,ae,Z){var ee=f.exec(ae.slice(Z));return ee?(te.w=p.get(ee[0].toLowerCase()),Z+ee[0].length):-1}function A(te,ae,Z){var ee=g.exec(ae.slice(Z));return ee?(te.m=v.get(ee[0].toLowerCase()),Z+ee[0].length):-1}function I(te,ae,Z){var ee=m.exec(ae.slice(Z));return ee?(te.m=w.get(ee[0].toLowerCase()),Z+ee[0].length):-1}function L(te,ae,Z){return k(te,e,ae,Z)}function se(te,ae,Z){return k(te,r,ae,Z)}function pe(te,ae,Z){return k(te,n,ae,Z)}function X(te){return s[te.getDay()]}function ce(te){return a[te.getDay()]}function ue(te){return l[te.getMonth()]}function xe(te){return o[te.getMonth()]}function we(te){return i[+(te.getHours()>=12)]}function F(te){return 1+~~(te.getMonth()/3)}function J(te){return s[te.getUTCDay()]}function ie(te){return a[te.getUTCDay()]}function fe(te){return l[te.getUTCMonth()]}function Q(te){return o[te.getUTCMonth()]}function $(te){return i[+(te.getUTCHours()>=12)]}function V(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ae=C(te+="",x);return ae.toString=function(){return te},ae},parse:function(te){var ae=P(te+="",!1);return ae.toString=function(){return te},ae},utcFormat:function(te){var ae=C(te+="",E);return ae.toString=function(){return te},ae},utcParse:function(te){var ae=P(te+="",!0);return ae.toString=function(){return te},ae}}}var fR={"-":"",_:" ",0:"0"},ni=/^\s*\d+/,Ome=/^%/,Rme=/[\\^$*+?|[\]().{}]/g;function rr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Lme(t){return t.replace(Rme,"\\$&")}function Ag(t){return new RegExp("^(?:"+t.map(Lme).join("|")+")","i")}function Sg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Dme(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Mme(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Fme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Bme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Ume(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function hR(t,e,r){var n=ni.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function pR(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $me(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Vme(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function zme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function mR(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function qme(t,e,r){var n=ni.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function gR(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Wme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Hme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Gme(t,e,r){var n=ni.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Kme(t,e,r){var n=ni.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Yme(t,e,r){var n=Ome.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Xme(t,e,r){var n=ni.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Jme(t,e,r){var n=ni.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function yR(t,e){return rr(t.getDate(),e,2)}function Qme(t,e){return rr(t.getHours(),e,2)}function Zme(t,e){return rr(t.getHours()%12||12,e,2)}function ege(t,e){return rr(1+Py.count(Nc(t),t),e,3)}function jz(t,e){return rr(t.getMilliseconds(),e,3)}function tge(t,e){return jz(t,e)+"000"}function rge(t,e){return rr(t.getMonth()+1,e,2)}function nge(t,e){return rr(t.getMinutes(),e,2)}function ige(t,e){return rr(t.getSeconds(),e,2)}function age(t){var e=t.getDay();return e===0?7:e}function sge(t,e){return rr(d2.count(Nc(t)-1,t),e,2)}function Oz(t){var e=t.getDay();return e>=4||e===0?am(t):am.ceil(t)}function oge(t,e){return t=Oz(t),rr(am.count(Nc(t),t)+(Nc(t).getDay()===4),e,2)}function lge(t){return t.getDay()}function cge(t,e){return rr(mb.count(Nc(t)-1,t),e,2)}function uge(t,e){return rr(t.getFullYear()%100,e,2)}function dge(t,e){return t=Oz(t),rr(t.getFullYear()%100,e,2)}function fge(t,e){return rr(t.getFullYear()%1e4,e,4)}function hge(t,e){var r=t.getDay();return t=r>=4||r===0?am(t):am.ceil(t),rr(t.getFullYear()%1e4,e,4)}function pge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rr(e/60|0,"0",2)+rr(e%60,"0",2)}function vR(t,e){return rr(t.getUTCDate(),e,2)}function mge(t,e){return rr(t.getUTCHours(),e,2)}function gge(t,e){return rr(t.getUTCHours()%12||12,e,2)}function yge(t,e){return rr(1+u2.count(Tc(t),t),e,3)}function Rz(t,e){return rr(t.getUTCMilliseconds(),e,3)}function vge(t,e){return Rz(t,e)+"000"}function wge(t,e){return rr(t.getUTCMonth()+1,e,2)}function bge(t,e){return rr(t.getUTCMinutes(),e,2)}function xge(t,e){return rr(t.getUTCSeconds(),e,2)}function _ge(t){var e=t.getUTCDay();return e===0?7:e}function Ege(t,e){return rr(f2.count(Tc(t)-1,t),e,2)}function Lz(t){var e=t.getUTCDay();return e>=4||e===0?sm(t):sm.ceil(t)}function Age(t,e){return t=Lz(t),rr(sm.count(Tc(t),t)+(Tc(t).getUTCDay()===4),e,2)}function Sge(t){return t.getUTCDay()}function Nge(t,e){return rr(gb.count(Tc(t)-1,t),e,2)}function Tge(t,e){return rr(t.getUTCFullYear()%100,e,2)}function Pge(t,e){return t=Lz(t),rr(t.getUTCFullYear()%100,e,2)}function Cge(t,e){return rr(t.getUTCFullYear()%1e4,e,4)}function kge(t,e){var r=t.getUTCDay();return t=r>=4||r===0?sm(t):sm.ceil(t),rr(t.getUTCFullYear()%1e4,e,4)}function Ige(){return"+0000"}function wR(){return"%"}function bR(t){return+t}function xR(t){return Math.floor(+t/1e3)}var Bh,Dz,Mz;jge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jge(t){return Bh=jme(t),Dz=Bh.format,Bh.parse,Mz=Bh.utcFormat,Bh.utcParse,Bh}function Oge(t){return new Date(t)}function Rge(t){return t instanceof Date?+t:+new Date(+t)}function OP(t,e,r,n,i,a,s,o,l,c){var u=wP(),f=u.invert,p=u.domain,h=c(".%L"),y=c(":%S"),m=c("%I:%M"),w=c("%I %p"),g=c("%a %d"),v=c("%b %d"),x=c("%B"),E=c("%Y");function S(C){return(l(C)<C?h:o(C)<C?y:s(C)<C?m:a(C)<C?w:n(C)<C?i(C)<C?g:v:r(C)<C?x:E)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?p(Array.from(C,Rge)):p().map(Oge)},u.ticks=function(C){var P=p();return t(P[0],P[P.length-1],C??10)},u.tickFormat=function(C,P){return P==null?S:c(P)},u.nice=function(C){var P=p();return(!C||typeof C.range!="function")&&(C=e(P[0],P[P.length-1],C??10)),C?p(Ez(P,C)):u},u.copy=function(){return Ty(u,OP(t,e,r,n,i,a,s,o,l,c))},u}function Lge(){return Ls.apply(OP(kme,Ime,Nc,IP,d2,Py,CP,TP,gf,Dz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dge(){return Ls.apply(OP(Pme,Cme,Tc,jP,f2,u2,kP,PP,gf,Mz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function h2(){var t=0,e=1,r,n,i,a,s=Ji,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(p){var h,y;return arguments.length?([h,y]=p,s=f(h,y),c):[s(0),s(1)]}}return c.range=u(Rm),c.rangeRound=u(vP),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function xd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Fz(){var t=bd(h2()(Ji));return t.copy=function(){return xd(t,Fz())},Oc.apply(t,arguments)}function Bz(){var t=_P(h2()).domain([1,10]);return t.copy=function(){return xd(t,Bz()).base(t.base())},Oc.apply(t,arguments)}function Uz(){var t=EP(h2());return t.copy=function(){return xd(t,Uz()).constant(t.constant())},Oc.apply(t,arguments)}function RP(){var t=AP(h2());return t.copy=function(){return xd(t,RP()).exponent(t.exponent())},Oc.apply(t,arguments)}function Mge(){return RP.apply(null,arguments).exponent(.5)}function $z(){var t=[],e=Ji;function r(n){if(n!=null&&!isNaN(n=+n))return e((Sy(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Xu),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>_pe(t,a/n))},r.copy=function(){return $z(e).domain(t)},Oc.apply(r,arguments)}function p2(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,c=Ji,u,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+u(m))-a)*(n*m<n*a?o:l),c(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,r]=m,i=u(t=+t),a=u(e=+e),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(c=m,h):c};function y(m){return function(w){var g,v,x;return arguments.length?([g,v,x]=w,c=Ype(m,[g,v,x]),h):[c(0),c(.5),c(1)]}}return h.range=y(Rm),h.rangeRound=y(vP),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return u=m,i=m(t),a=m(e),s=m(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function Vz(){var t=bd(p2()(Ji));return t.copy=function(){return xd(t,Vz())},Oc.apply(t,arguments)}function zz(){var t=_P(p2()).domain([.1,1,10]);return t.copy=function(){return xd(t,zz()).base(t.base())},Oc.apply(t,arguments)}function qz(){var t=EP(p2());return t.copy=function(){return xd(t,qz()).constant(t.constant())},Oc.apply(t,arguments)}function LP(){var t=AP(p2());return t.copy=function(){return xd(t,LP()).exponent(t.exponent())},Oc.apply(t,arguments)}function Fge(){return LP.apply(null,arguments).exponent(.5)}const Wg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mP,scaleDiverging:Vz,scaleDivergingLog:zz,scaleDivergingPow:LP,scaleDivergingSqrt:Fge,scaleDivergingSymlog:qz,scaleIdentity:_z,scaleImplicit:jN,scaleLinear:xz,scaleLog:Az,scaleOrdinal:pP,scalePoint:Spe,scalePow:SP,scaleQuantile:Tz,scaleQuantize:Pz,scaleRadial:Nz,scaleSequential:Fz,scaleSequentialLog:Bz,scaleSequentialPow:RP,scaleSequentialQuantile:$z,scaleSequentialSqrt:Mge,scaleSequentialSymlog:Uz,scaleSqrt:vme,scaleSymlog:Sz,scaleThreshold:Cz,scaleTime:Lge,scaleUtc:Dge,tickFormat:bz},Symbol.toStringTag,{value:"Module"}));var ah=t=>t.chartData,DP=Ue([ah],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Wz=(t,e,r,n)=>n?DP(t):ah(t);function om(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(wo(e)&&wo(r))return!0}return!1}function _R(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Bge(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(wo(r))i=r;else if(typeof r=="function")return;if(wo(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(om(s))return s}}function Uge(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(om(n))return _R(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(yt(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&vO.test(i)){var l=vO.exec(i);if(l==null||e==null)s=void 0;else{var c=+l[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(yt(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&wO.test(a)){var u=wO.exec(a);if(u==null||e==null)o=void 0;else{var f=+u[1];o=e[1]+f}}else o=e==null?void 0:e[1];var p=[s,o];if(om(p))return e==null?p:_R(p,e,r)}}}var Lm=1e9,$ge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},FP,zr=!0,ks="[DecimalError] ",Tf=ks+"Invalid argument: ",MP=ks+"Exponent out of range: ",Dm=Math.floor,tf=Math.pow,Vge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ua,Jn=1e7,Mr=7,Hz=9007199254740991,yb=Dm(Hz/Mr),ht={};ht.absoluteValue=ht.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ht.comparedTo=ht.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ht.decimalPlaces=ht.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Mr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ht.dividedBy=ht.div=function(t){return hc(this,new this.constructor(t))};ht.dividedToIntegerBy=ht.idiv=function(t){var e=this,r=e.constructor;return Tr(hc(e,new r(t),0,1),r.precision)};ht.equals=ht.eq=function(t){return!this.cmp(t)};ht.exponent=function(){return Fn(this)};ht.greaterThan=ht.gt=function(t){return this.cmp(t)>0};ht.greaterThanOrEqualTo=ht.gte=function(t){return this.cmp(t)>=0};ht.isInteger=ht.isint=function(){return this.e>this.d.length-2};ht.isNegative=ht.isneg=function(){return this.s<0};ht.isPositive=ht.ispos=function(){return this.s>0};ht.isZero=function(){return this.s===0};ht.lessThan=ht.lt=function(t){return this.cmp(t)<0};ht.lessThanOrEqualTo=ht.lte=function(t){return this.cmp(t)<1};ht.logarithm=ht.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ua))throw Error(ks+"NaN");if(r.s<1)throw Error(ks+(r.s?"NaN":"-Infinity"));return r.eq(Ua)?new n(0):(zr=!1,e=hc(X0(r,a),X0(t,a),a),zr=!0,Tr(e,i))};ht.minus=ht.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Yz(e,t):Gz(e,(t.s=-t.s,t))};ht.modulo=ht.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ks+"NaN");return r.s?(zr=!1,e=hc(r,t,0,1).times(t),zr=!0,r.minus(e)):Tr(new n(r),i)};ht.naturalExponential=ht.exp=function(){return Kz(this)};ht.naturalLogarithm=ht.ln=function(){return X0(this)};ht.negated=ht.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ht.plus=ht.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Gz(e,t):Yz(e,(t.s=-t.s,t))};ht.precision=ht.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tf+t);if(e=Fn(i)+1,n=i.d.length-1,r=n*Mr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ht.squareRoot=ht.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ks+"NaN")}for(t=Fn(o),zr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=el(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Dm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(hc(o,a,s+2)).times(.5),el(a.d).slice(0,s)===(e=el(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Tr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return zr=!0,Tr(n,r)};ht.times=ht.mul=function(t){var e,r,n,i,a,s,o,l,c,u=this,f=u.constructor,p=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+h[n]*p[i-n-1]+e,a[i--]=o%Jn|0,e=o/Jn|0;a[i]=(a[i]+e)%Jn|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,zr?Tr(t,f.precision):t};ht.toDecimalPlaces=ht.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(yl(t,0,Lm),e===void 0?e=n.rounding:yl(e,0,8),Tr(r,t+Fn(r)+1,e))};ht.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Hf(n,!0):(yl(t,0,Lm),e===void 0?e=i.rounding:yl(e,0,8),n=Tr(new i(n),t+1,e),r=Hf(n,!0,t+1)),r};ht.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Hf(i):(yl(t,0,Lm),e===void 0?e=a.rounding:yl(e,0,8),n=Tr(new a(i),t+Fn(i)+1,e),r=Hf(n.abs(),!1,t+Fn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ht.toInteger=ht.toint=function(){var t=this,e=t.constructor;return Tr(new e(t),Fn(t)+1,e.rounding)};ht.toNumber=function(){return+this};ht.toPower=ht.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Ua);if(o=new l(o),!o.s){if(t.s<1)throw Error(ks+"Infinity");return o}if(o.eq(Ua))return o;if(n=l.precision,t.eq(Ua))return Tr(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=u<0?-u:u)<=Hz){for(i=new l(Ua),e=Math.ceil(n/Mr+4),zr=!1;r%2&&(i=i.times(o),AR(i.d,e)),r=Dm(r/2),r!==0;)o=o.times(o),AR(o.d,e);return zr=!0,t.s<0?new l(Ua).div(i):Tr(i,n)}}else if(a<0)throw Error(ks+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,zr=!1,i=t.times(X0(o,n+c)),zr=!0,i=Kz(i),i.s=a,i};ht.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Fn(i),n=Hf(i,r<=a.toExpNeg||r>=a.toExpPos)):(yl(t,1,Lm),e===void 0?e=a.rounding:yl(e,0,8),i=Tr(new a(i),t,e),r=Fn(i),n=Hf(i,t<=r||r<=a.toExpNeg,t)),n};ht.toSignificantDigits=ht.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(yl(t,1,Lm),e===void 0?e=n.rounding:yl(e,0,8)),Tr(new n(r),t,e)};ht.toString=ht.valueOf=ht.val=ht.toJSON=ht[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Fn(t),r=t.constructor;return Hf(t,e<=r.toExpNeg||e>=r.toExpPos)};function Gz(t,e){var r,n,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),zr?Tr(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/Mr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Jn|0,l[a]%=Jn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,zr?Tr(e,f):e}function yl(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Tf+t)}function el(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Mr-n.length,r&&(a+=Au(r)),a+=n;s=t[e],n=s+"",r=Mr-n.length,r&&(a+=Au(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var hc=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Jn|0,s=a/Jn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Jn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,p,h,y,m,w,g,v,x,E,S,C,P,k,T=n.constructor,W=n.s==i.s?1:-1,M=n.d,A=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(ks+"Division by zero");for(l=n.e-i.e,P=A.length,S=M.length,h=new T(W),y=h.d=[],c=0;A[c]==(M[c]||0);)++c;if(A[c]>(M[c]||0)&&--l,a==null?v=a=T.precision:s?v=a+(Fn(n)-Fn(i))+1:v=a,v<0)return new T(0);if(v=v/Mr+2|0,c=0,P==1)for(u=0,A=A[0],v++;(c<S||u)&&v--;c++)x=u*Jn+(M[c]||0),y[c]=x/A|0,u=x%A|0;else{for(u=Jn/(A[0]+1)|0,u>1&&(A=t(A,u),M=t(M,u),P=A.length,S=M.length),E=P,m=M.slice(0,P),w=m.length;w<P;)m[w++]=0;k=A.slice(),k.unshift(0),C=A[0],A[1]>=Jn/2&&++C;do u=0,o=e(A,m,P,w),o<0?(g=m[0],P!=w&&(g=g*Jn+(m[1]||0)),u=g/C|0,u>1?(u>=Jn&&(u=Jn-1),f=t(A,u),p=f.length,w=m.length,o=e(f,m,p,w),o==1&&(u--,r(f,P<p?k:A,p))):(u==0&&(o=u=1),f=A.slice()),p=f.length,p<w&&f.unshift(0),r(m,f,w),o==-1&&(w=m.length,o=e(A,m,P,w),o<1&&(u++,r(m,P<w?k:A,w))),w=m.length):o===0&&(u++,m=[0]),y[c++]=u,o&&m[0]?m[w++]=M[E]||0:(m=[M[E]],w=1);while((E++<S||m[0]!==void 0)&&v--)}return y[0]||y.shift(),h.e=l,Tr(h,s?a+Fn(h)+1:a)}}();function Kz(t,e){var r,n,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(Fn(t)>16)throw Error(MP+Fn(t));if(!t.s)return new u(Ua);for(e==null?(zr=!1,o=f):o=e,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(tf(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(Ua),u.precision=o;;){if(i=Tr(i.times(t),o),r=r.times(++l),s=a.plus(hc(i,r,o)),el(s.d).slice(0,o)===el(a.d).slice(0,o)){for(;c--;)a=Tr(a.times(a),o);return u.precision=f,e==null?(zr=!0,Tr(a,f)):a}a=s}}function Fn(t){for(var e=t.e*Mr,r=t.d[0];r>=10;r/=10)e++;return e}function E_(t,e,r){if(e>t.LN10.sd())throw zr=!0,r&&(t.precision=r),Error(ks+"LN10 precision limit exceeded");return Tr(new t(t.LN10),e)}function Au(t){for(var e="";t--;)e+="0";return e}function X0(t,e){var r,n,i,a,s,o,l,c,u,f=1,p=10,h=t,y=h.d,m=h.constructor,w=m.precision;if(h.s<1)throw Error(ks+(h.s?"NaN":"-Infinity"));if(h.eq(Ua))return new m(0);if(e==null?(zr=!1,c=w):c=e,h.eq(10))return e==null&&(zr=!0),E_(m,c);if(c+=p,m.precision=c,r=el(y),n=r.charAt(0),a=Fn(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=el(h.d),n=r.charAt(0),f++;a=Fn(h),n>1?(h=new m("0."+r),a++):h=new m(n+"."+r.slice(1))}else return l=E_(m,c+2,w).times(a+""),h=X0(new m(n+"."+r.slice(1)),c-p).plus(l),m.precision=w,e==null?(zr=!0,Tr(h,w)):h;for(o=s=h=hc(h.minus(Ua),h.plus(Ua),c),u=Tr(h.times(h),c),i=3;;){if(s=Tr(s.times(u),c),l=o.plus(hc(s,new m(i),c)),el(l.d).slice(0,c)===el(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(E_(m,c+2,w).times(a+""))),o=hc(o,new m(f),c),m.precision=w,e==null?(zr=!0,Tr(o,w)):o;o=l,i+=2}}function ER(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Dm(r/Mr),t.d=[],n=(r+1)%Mr,r<0&&(n+=Mr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Mr;n<i;)t.d.push(+e.slice(n,n+=Mr));e=e.slice(n),n=Mr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),zr&&(t.e>yb||t.e<-yb))throw Error(MP+r)}else t.s=0,t.e=0,t.d=[0];return t}function Tr(t,e,r){var n,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Mr,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/Mr),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=Mr,i=n-Mr+s}if(r!==void 0&&(a=tf(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/tf(10,s-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Fn(t),f.length=1,e=e-a-1,f[0]=tf(10,(Mr-e%Mr)%Mr),t.e=Dm(-e/Mr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=tf(10,Mr-n),f[u]=i>0?(c/tf(10,s-i)%tf(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Jn&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=Jn)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(zr&&(t.e>yb||t.e<-yb))throw Error(MP+Fn(t));return t}function Yz(t,e){var r,n,i,a,s,o,l,c,u,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),zr?Tr(e,h):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/Mr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Jn-1;--l[a],l[i]+=Jn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,zr?Tr(e,h):e):new p(0)}function Hf(t,e,r){var n,i=Fn(t),a=el(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Au(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Au(-i-1)+a,r&&(n=r-s)>0&&(a+=Au(n))):i>=s?(a+=Au(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Au(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Au(n))),t.s<0?"-"+a:a}function AR(t,e){if(t.length>e)return t.length=e,!0}function Xz(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Tf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return ER(s,a.toString())}else if(typeof a!="string")throw Error(Tf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Vge.test(a))ER(s,a);else throw Error(Tf+a)}if(i.prototype=ht,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Xz,i.config=i.set=zge,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function zge(t){if(!t||typeof t!="object")throw Error(ks+"Object expected");var e,r,n,i=["precision",1,Lm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Dm(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Tf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Tf+r+": "+n);return this}var FP=Xz($ge);Ua=new FP(1);const pr=FP;var qge=t=>t,Jz={"@@functional/placeholder":!0},Qz=t=>t===Jz,SR=t=>function e(){return arguments.length===0||arguments.length===1&&Qz(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Zz=(t,e)=>t===1?e:SR(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==Jz).length;return a>=t?e(...n):Zz(t-a,SR(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=n.map(u=>Qz(u)?o.shift():u);return e(...c,...o)}))}),m2=t=>Zz(t.length,t),DN=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},Wge=m2((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),Hge=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return qge;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},MN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),eq=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((s,o)=>{var l;return s===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,r=t(...i)),r}};function tq(t){var e;return t===0?e=1:e=Math.floor(new pr(t).abs().log(10).toNumber())+1,e}function rq(t,e,r){for(var n=new pr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}m2((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});m2((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});m2((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var nq=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},iq=(t,e,r)=>{if(t.lte(0))return new pr(0);var n=tq(t.toNumber()),i=new pr(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new pr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?new pr(l.toNumber()):new pr(Math.ceil(l.toNumber()))},Gge=(t,e,r)=>{var n=new pr(1),i=new pr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new pr(10).pow(tq(t)-1),i=new pr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new pr(Math.floor(t)))}else t===0?i=new pr(Math.floor((e-1)/2)):r||(i=new pr(Math.floor(t)));var s=Math.floor((e-1)/2),o=Hge(Wge(l=>i.add(new pr(l-s).mul(n)).toNumber()),DN);return o(0,e)},aq=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new pr(0),tickMin:new pr(0),tickMax:new pr(0)};var s=iq(new pr(r).sub(e).div(n-1),i,a),o;e<=0&&r>=0?o=new pr(0):(o=new pr(e).add(r).div(2),o=o.sub(new pr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new pr(r).sub(o).div(s).toNumber()),u=l+c+1;return u>n?aq(e,r,n,i,a+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:s,tickMin:o.sub(new pr(l).mul(s)),tickMax:o.add(new pr(c).mul(s))})};function Kge(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=nq([e,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...DN(0,n-1).map(()=>1/0)]:[...DN(0,n-1).map(()=>-1/0),o];return e>r?MN(l):l}if(s===o)return Gge(s,n,i);var{step:c,tickMin:u,tickMax:f}=aq(s,o,a,i,0),p=rq(u,f.add(new pr(.1).mul(c)),c);return e>r?MN(p):p}function Yge(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=nq([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(e,2),l=iq(new pr(s).sub(a).div(o-1),i,0),c=[...rq(new pr(a),new pr(s),l),s];return i===!1&&(c=c.map(u=>Math.round(u))),r>n?MN(c):c}var Xge=eq(Kge),Jge=eq(Yge),Qge=t=>t.rootProps.barCategoryGap,Cy=t=>t.rootProps.stackOffset,BP=t=>t.options.chartName,UP=t=>t.rootProps.syncId,sq=t=>t.rootProps.syncMethod,$P=t=>t.options.eventEmitter,Jl={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Fa={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},g2=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Zge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Jl.angleAxisId,includeHidden:!1,name:void 0,reversed:Jl.reversed,scale:Jl.scale,tick:Jl.tick,tickCount:void 0,ticks:void 0,type:Jl.type,unit:void 0},e0e={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:Fa.type,unit:void 0},t0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Jl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jl.scale,tick:Jl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},r0e={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:"category",unit:void 0},VP=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?t0e:Zge,zP=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?r0e:e0e,y2=t=>t.polarOptions,qP=Ue([Ic,jc,ri],FV),oq=Ue([y2,qP],(t,e)=>{if(t!=null)return Es(t.innerRadius,e,0)}),lq=Ue([y2,qP],(t,e)=>{if(t!=null)return Es(t.outerRadius,e,e*.8)}),n0e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},cq=Ue([y2],n0e);Ue([VP,cq],g2);var uq=Ue([qP,oq,lq],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});Ue([zP,uq],g2);var i0e=Ue([Ur,y2,oq,lq,Ic,jc],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=e;return{cx:Es(s,i,i/2),cy:Es(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),bn=(t,e)=>e,ky=(t,e,r)=>r;function NR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(r),!0).forEach(function(n){a0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a0e(t,e,r){return(e=s0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s0e(t){var e=o0e(t,"string");return typeof e=="symbol"?e:e+""}function o0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FN=[0,"auto"],La={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Rc=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??La},Da={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:FN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:a2},_d=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??Da},l0e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},WP=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??l0e},xn=(t,e,r)=>{switch(e){case"xAxis":return Rc(t,r);case"yAxis":return _d(t,r);case"zAxis":return WP(t,r);case"angleAxis":return VP(t,r);case"radiusAxis":return zP(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},c0e=(t,e,r)=>{switch(e){case"xAxis":return Rc(t,r);case"yAxis":return _d(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Iy=(t,e,r)=>{switch(e){case"xAxis":return Rc(t,r);case"yAxis":return _d(t,r);case"angleAxis":return VP(t,r);case"radiusAxis":return zP(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},dq=t=>t.graphicalItems.countOfBars>0;function HP(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var fq=t=>t.graphicalItems.cartesianItems,u0e=Ue([bn,ky],HP),GP=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),jy=Ue([fq,xn,u0e],GP),hq=t=>t.filter(e=>e.stackId===void 0),d0e=Ue([jy],hq),KP=t=>t.map(e=>e.data).filter(Boolean).flat(1),f0e=Ue([jy],KP),YP=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},v2=Ue([f0e,Wz],YP),XP=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:sn(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:sn(i,n)}))):t.map(n=>({value:n})),w2=Ue([v2,xn,jy],XP);function pq(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function sh(t){return t.filter(e=>gl(e)||e instanceof Date).map(Number).filter(e=>Ps(e)===!1)}function h0e(t,e,r){return!r||typeof e!="number"||Ps(e)?[]:r.length?sh(r.flatMap(n=>{var i=sn(t,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!wo(a)||!wo(s)))return[e-a,e+s]})):[]}var mq=(t,e,r)=>{var n={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,l=o.map(c=>c.dataKey);return[s,{stackedData:Efe(t,l,r),graphicalItems:o}]}))},p0e=Ue([v2,jy,Cy],mq),gq=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var a=Tfe(t,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},m0e=Ue([p0e,ah,bn],gq),yq=(t,e,r,n)=>r.length>0?t.flatMap(i=>r.flatMap(a=>{var s,o,l=(s=a.errorBars)===null||s===void 0?void 0:s.filter(u=>pq(n,u)),c=sn(i,(o=e.dataKey)!==null&&o!==void 0?o:a.dataKey);return{value:c,errorDomain:h0e(i,c,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:sn(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),g0e=Ue(v2,xn,d0e,bn,yq);function y0e(t){var{value:e}=t;if(gl(e)||e instanceof Date)return e}var v0e=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=sh(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},w0e=(t,e,r)=>{var n=t.map(y0e).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&v$(n))?uz(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},JP=t=>{var e;if(t==null||!("domain"in t))return FN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=sh(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:FN},QP=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},vq=t=>t.referenceElements.dots,Mm=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),b0e=Ue([vq,bn,ky],Mm),wq=t=>t.referenceElements.areas,x0e=Ue([wq,bn,ky],Mm),bq=t=>t.referenceElements.lines,_0e=Ue([bq,bn,ky],Mm),xq=(t,e)=>{var r=sh(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},E0e=Ue(b0e,bn,xq),_q=(t,e)=>{var r=sh(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},A0e=Ue([x0e,bn],_q),Eq=(t,e)=>{var r=sh(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},S0e=Ue(_0e,bn,Eq),N0e=Ue(E0e,S0e,A0e,(t,e,r)=>QP(t,r,e)),Aq=Ue([xn],JP),ZP=(t,e,r,n,i)=>{var a=Bge(e,t.allowDataOverflow);return a??Uge(e,QP(r,i,v0e(n)),t.allowDataOverflow)},T0e=Ue([xn,Aq,m0e,g0e,N0e],ZP),P0e=[0,1],eC=(t,e,r,n,i,a,s)=>{if(!(t==null||r==null||r.length===0)){var{dataKey:o,type:l}=t,c=wd(e,a);return c&&o==null?uz(0,r.length):l==="category"?w0e(n,t,c):i==="expand"?P0e:s}},tC=Ue([xn,Ur,v2,w2,Cy,bn,T0e],eC),Sq=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Ey(a));return o in Wg?o:"point"}}},Fm=Ue([xn,Ur,dq,BP,bn],Sq);function C0e(t){if(t!=null){if(t in Wg)return Wg[t]();var e="scale".concat(Ey(t));if(e in Wg)return Wg[e]()}}function rC(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=C0e(e);if(i!=null){var a=i.domain(r).range(n);return wfe(a),a}}}var nC=(t,e,r)=>{var n=JP(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&om(t))return Xge(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&om(t))return Jge(t,e.tickCount,e.allowDecimals)}},iC=Ue([tC,Iy,Fm],nC),aC=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&om(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],s=e[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},k0e=Ue([xn,tC,iC,bn],aC),I0e=Ue(w2,xn,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(sh(t.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),Nq=Ue(I0e,Ur,Qge,ri,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!wo(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Es(r,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),j0e=(t,e)=>{var r=Rc(t,e);return r==null||typeof r.padding!="string"?0:Nq(t,"xAxis",e,r.padding)},O0e=(t,e)=>{var r=_d(t,e);return r==null||typeof r.padding!="string"?0:Nq(t,"yAxis",e,r.padding)},R0e=Ue(Rc,j0e,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),L0e=Ue(_d,O0e,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),D0e=Ue([ri,R0e,o2,s2,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),M0e=Ue([ri,Ur,L0e,o2,s2,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Oy=(t,e,r,n)=>{var i;switch(e){case"xAxis":return D0e(t,r,n);case"yAxis":return M0e(t,r,n);case"zAxis":return(i=WP(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return cq(t);case"radiusAxis":return uq(t,r);default:return}},Tq=Ue([xn,Oy],g2),Bm=Ue([xn,Fm,k0e,Tq],rC);Ue(jy,bn,(t,e)=>t.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>pq(e,r)));function Pq(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var b2=(t,e)=>e,x2=(t,e,r)=>r,F0e=Ue(iP,b2,x2,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Pq)),B0e=Ue(aP,b2,x2,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Pq)),Cq=(t,e)=>({width:t.width,height:e.height}),U0e=(t,e)=>{var r=typeof e.width=="number"?e.width:a2;return{width:r,height:t.height}},$0e=Ue(ri,Rc,Cq),V0e=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},z0e=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},q0e=Ue(jc,ri,F0e,b2,x2,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=Cq(e,o);s==null&&(s=V0e(e,n,t));var c=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),W0e=Ue(Ic,ri,B0e,b2,x2,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=U0e(e,o);s==null&&(s=z0e(e,n,t));var c=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),H0e=(t,e)=>{var r=ri(t),n=Rc(t,e);if(n!=null){var i=q0e(t,n.orientation,n.mirror),a=i[e];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}},G0e=(t,e)=>{var r=ri(t),n=_d(t,e);if(n!=null){var i=W0e(t,n.orientation,n.mirror),a=i[e];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}},K0e=Ue(ri,_d,(t,e)=>{var r=typeof e.width=="number"?e.width:a2;return{width:r,height:t.height}}),kq=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=wd(t,n),l=e.map(c=>c.value);if(s&&o&&a==="category"&&i&&v$(l))return l}},sC=Ue([Ur,w2,xn,bn],kq),Iq=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=wd(t,n);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},oC=Ue([Ur,w2,Iy,bn],Iq),TR=Ue([Ur,c0e,Fm,Bm,sC,oC,Oy,iC,bn],(t,e,r,n,i,a,s,o,l)=>{if(e==null)return null;var c=wd(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}),Y0e=(t,e,r,n,i,a,s,o,l)=>{if(!(e==null||n==null)){var c=wd(t,l),{type:u,ticks:f,tickCount:p}=e,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=u==="category"&&n.bandwidth?n.bandwidth()/h:0;y=l==="angleAxis"&&a!=null&&a.length>=2?Di(a[0]-a[1])*2*y:y;var m=f||i;if(m){var w=m.map((g,v)=>{var x=s?s.indexOf(g):g;return{index:v,coordinate:n(x)+y,value:g,offset:y}});return w.filter(g=>!Ps(g.coordinate))}return c&&o?o.map((g,v)=>({coordinate:n(g)+y,value:g,index:v,offset:y})):n.ticks?n.ticks(p).map(g=>({coordinate:n(g)+y,value:g,offset:y})):n.domain().map((g,v)=>({coordinate:n(g)+y,value:s?s[g]:g,index:v,offset:y}))}},jq=Ue([Ur,Iy,Fm,Bm,iC,Oy,sC,oC,bn],Y0e),X0e=(t,e,r,n,i,a,s)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=wd(t,s),{tickCount:l}=e,c=0;return c=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Di(n[0]-n[1])*2*c:c,o&&a?a.map((u,f)=>({coordinate:r(u)+c,value:u,index:f,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,f)=>({coordinate:r(u)+c,value:i?i[u]:u,index:f,offset:c}))}},Oq=Ue([Ur,Iy,Bm,Oy,sC,oC,bn],X0e),_2=Ue(xn,Bm,(t,e)=>{if(!(t==null||e==null))return vb(vb({},t),{},{scale:e})}),J0e=Ue([xn,Fm,tC,Tq],rC);Ue((t,e,r)=>WP(t,r),J0e,(t,e)=>{if(!(t==null||e==null))return vb(vb({},t),{},{scale:e})});var Q0e=Ue([Ur,iP,aP],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Rq=t=>t.options.defaultTooltipEventType,Lq=t=>t.options.validateTooltipEventTypes;function Dq(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function lC(t,e){var r=Rq(t),n=Lq(t);return Dq(e,r,n)}function Z0e(t){return vt(e=>lC(e,t))}var Mq=(t,e)=>{var r,n=Number(e);if(!(Ps(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},eye=t=>t.tooltip.settings,ju={active:!1,index:null,dataKey:void 0,coordinate:void 0},tye={itemInteraction:{click:ju,hover:ju},axisInteraction:{click:ju,hover:ju},keyboardInteraction:ju,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Fq=Rs({name:"tooltip",initialState:tye,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=fc(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:rye,removeTooltipEntrySettings:nye,setTooltipSettingsState:iye,setActiveMouseOverItemIndex:Bq,mouseLeaveItem:aye,mouseLeaveChart:Uq,setActiveClickItemIndex:sye,setMouseOverAxisIndex:$q,setMouseClickAxisIndex:oye,setSyncInteraction:BN,setKeyboardInteraction:UN}=Fq.actions,lye=Fq.reducer;function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){cye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cye(t,e,r){return(e=uye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uye(t){var e=dye(t,"string");return typeof e=="symbol"?e:e+""}function dye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fye(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function hye(t){return t.index!=null}var Vq=(t,e,r,n)=>{if(e==null)return ju;var i=fye(t,e,r);if(i==null)return ju;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(hye(i)){if(a)return Yv(Yv({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Yv(Yv({},ju),{},{coordinate:i.coordinate})},cC=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!wo(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},zq=(t,e,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:u.coordinate}}}},qq=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Ry=t=>t.options.tooltipPayloadSearcher,Um=t=>t.tooltip;function CR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(r),!0).forEach(function(n){pye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pye(t,e,r){return(e=mye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mye(t){var e=gye(t,"string");return typeof e=="symbol"?e:e+""}function gye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yye(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function vye(t,e){return t??e}var Wq=(t,e,r,n,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,f=[];return t.reduce((p,h)=>{var y,{dataDefinedOnItem:m,settings:w}=h,g=vye(m,o),v=yye(g,c,u),x=(y=w==null?void 0:w.dataKey)!==null&&y!==void 0?y:n==null?void 0:n.dataKey,E=w==null?void 0:w.nameKey,S;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&s==="axis"?S=w$(v,n.dataKey,i):S=a(v,e,l,E),Array.isArray(S))S.forEach(P=>{var k=kR(kR({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});p.push(bO({tooltipEntrySettings:k,dataKey:P.dataKey,payload:P.payload,value:sn(P.payload,P.dataKey),name:P.name}))});else{var C;p.push(bO({tooltipEntrySettings:w,dataKey:x,payload:S,value:sn(S,x),name:(C=sn(S,E))!==null&&C!==void 0?C:w==null?void 0:w.name}))}return p},f)}},ii=t=>{var e=Ur(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},$m=t=>t.tooltip.settings.axisId,vi=t=>{var e=ii(t),r=$m(t);return Iy(t,e,r)},uC=Ue([vi,Ur,dq,BP,ii],Sq),wye=Ue([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),bye=Ue([ii,$m],HP),E2=Ue([wye,vi,bye],GP),xye=Ue([E2],KP),oh=Ue([xye,ah],YP),dC=Ue([oh,vi,E2],XP),_ye=Ue([vi],JP),Eye=Ue([oh,E2,Cy],mq),Aye=Ue([Eye,ah,ii],gq),Sye=Ue([E2],hq),Nye=Ue([oh,vi,Sye,ii],yq),Tye=Ue([vq,ii,$m],Mm),Pye=Ue([Tye,ii],xq),Cye=Ue([wq,ii,$m],Mm),kye=Ue([Cye,ii],_q),Iye=Ue([bq,ii,$m],Mm),jye=Ue([Iye,ii],Eq),Oye=Ue([Pye,jye,kye],QP),Rye=Ue([vi,_ye,Aye,Nye,Oye],ZP),Hq=Ue([vi,Ur,oh,dC,Cy,ii,Rye],eC),Lye=Ue([Hq,vi,uC],nC),Dye=Ue([vi,Hq,Lye,ii],aC),Gq=t=>{var e=ii(t),r=$m(t),n=!1;return Oy(t,e,r,n)},Kq=Ue([vi,Gq],g2),Yq=Ue([vi,uC,Dye,Kq],rC),Mye=Ue([Ur,dC,vi,ii],kq),Fye=Ue([Ur,dC,vi,ii],Iq),Bye=(t,e,r,n,i,a,s,o)=>{if(e){var{type:l}=e,c=wd(t,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Di(i[0]-i[1])*2*f:f,c&&s?s.map((p,h)=>({coordinate:n(p)+f,value:p,index:h,offset:f})):n.domain().map((p,h)=>({coordinate:n(p)+f,value:a?a[p]:p,index:h,offset:f}))}}},Lc=Ue([Ur,vi,uC,Yq,Gq,Mye,Fye,ii],Bye),fC=Ue([Rq,Lq,eye],(t,e,r)=>Dq(r.shared,t,e)),Xq=t=>t.tooltip.settings.trigger,hC=t=>t.tooltip.settings.defaultIndex,A2=Ue([Um,fC,Xq,hC],Vq),lm=Ue([A2,oh],cC),Jq=Ue([Lc,lm],Mq),Uye=Ue([A2],t=>{if(t)return t.dataKey}),Qq=Ue([Um,fC,Xq,hC],qq),$ye=Ue([Ic,jc,Ur,ri,Lc,hC,Qq,Ry],zq),Vye=Ue([A2,$ye],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),zye=Ue([A2],t=>t.active),qye=Ue([Qq,lm,ah,vi,Jq,Ry,fC],Wq),Wye=Ue([qye],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){Hye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hye(t,e,r){return(e=Gye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gye(t){var e=Kye(t,"string");return typeof e=="symbol"?e:e+""}function Kye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yye=()=>vt(vi),Xye=()=>{var t=Yye(),e=vt(Lc),r=vt(Yq);return bN(jR(jR({},t),{},{scale:r}),e)},Jye=()=>vt(BP),pC=(t,e)=>e,Zq=(t,e,r)=>r,mC=(t,e,r,n)=>n,Qye=Ue(Lc,t=>Jx(t,e=>e.coordinate)),gC=Ue([Um,pC,Zq,mC],Vq),eW=Ue([gC,oh],cC),Zye=(t,e,r)=>{if(e!=null){var n=Um(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},tW=Ue([Um,pC,Zq,mC],qq),wb=Ue([Ic,jc,Ur,ri,Lc,mC,tW,Ry],zq),eve=Ue([gC,wb],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),rW=Ue(Lc,eW,Mq),tve=Ue([tW,eW,ah,vi,rW,Ry,pC],Wq),rve=Ue([gC],t=>({isActive:t.active,activeIndex:t.index})),nve=(t,e,r,n,i,a,s,o)=>{if(!(!t||!e||!n||!i||!a)){var l=Pfe(t.chartX,t.chartY,e,r,o);if(l){var c=kfe(l,e),u=yfe(c,s,a,n,i),f=Cfe(e,a,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function $N(){return $N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$N.apply(null,arguments)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){ive(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ive(t,e,r){return(e=ave(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ave(t){var e=sve(t,"string");return typeof e=="symbol"?e:e+""}function sve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ove(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:s,cursor:o,tooltipEventType:l,chartName:c}=t,u=e,f=r,p=n;if(!o||!u||c!=="ScatterChart"&&l!=="axis")return null;var h,y;if(c==="ScatterChart")h=u,y=The;else if(c==="BarChart")h=Phe(s,u,i,a),y=nz;else if(s==="radial"){var{cx:m,cy:w,radius:g,startAngle:v,endAngle:x}=iz(u);h={cx:m,cy:w,startAngle:v,endAngle:x,innerRadius:g,outerRadius:g},y=sz}else h={points:cpe(s,u,i)},y=dP;var E=typeof o=="object"&&"className"in o?o.className:void 0,S=Xv(Xv(Xv(Xv({stroke:"#ccc",pointerEvents:"none"},i),h),er(o,!1)),{},{payload:f,payloadIndex:p,className:tr("recharts-tooltip-cursor",E)});return O.isValidElement(o)?O.cloneElement(o,S):O.createElement(y,S)}function lve(t){var e=Xye(),r=WV(),n=cP(),i=Jye();return O.createElement(ove,$N({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var nW=O.createContext(null),cve=()=>O.useContext(nW),iW={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,p),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,y=new Array(h);p<h;p++)y[p]=f[p].fn;return y},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,p,h,y){var m=r?r+c:c;if(!this._events[m])return!1;var w=this._events[m],g=arguments.length,v,x;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),g){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,f),!0;case 4:return w.fn.call(w.context,u,f,p),!0;case 5:return w.fn.call(w.context,u,f,p,h),!0;case 6:return w.fn.call(w.context,u,f,p,h,y),!0}for(x=1,v=new Array(g-1);x<g;x++)v[x-1]=arguments[x];w.fn.apply(w.context,v)}else{var E=w.length,S;for(x=0;x<E;x++)switch(w[x].once&&this.removeListener(c,w[x].fn,void 0,!0),g){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,u);break;case 3:w[x].fn.call(w[x].context,u,f);break;case 4:w[x].fn.call(w[x].context,u,f,p);break;default:if(!v)for(S=1,v=new Array(g-1);S<g;S++)v[S-1]=arguments[S];w[x].fn.apply(w[x].context,v)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var y=this._events[h];if(y.fn)y.fn===u&&(!p||y.once)&&(!f||y.context===f)&&s(this,h);else{for(var m=0,w=[],g=y.length;m<g;m++)(y[m].fn!==u||p&&!y[m].once||f&&y[m].context!==f)&&w.push(y[m]);w.length?this._events[h]=w.length===1?w[0]:w:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(iW);var uve=iW.exports;const dve=bo(uve);var J0=new dve,VN="recharts.syncEvent.tooltip",RR="recharts.syncEvent.brush";function aW(t,e){if(e){var r=Number.parseInt(e,10);if(!Ps(r))return t==null?void 0:t[r]}}var fve={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sW=Rs({name:"options",initialState:fve,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hve=sW.reducer,{createEventEmitter:pve}=sW.actions;function mve(t){return t.tooltip.syncInteraction}var gve={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oW=Rs({name:"chartData",initialState:gve,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:LR,setDataStartEndIndexes:yve,setComputedData:rTe}=oW.actions,vve=oW.reducer,lW=()=>{};function wve(){var t=vt(UP),e=vt($P),r=Xr(),n=vt(sq),i=vt(Lc),a=cP(),s=sP(),o=vt(l=>l.rootProps.className);O.useEffect(()=>{if(t==null)return lW;var l=(c,u,f)=>{if(e!==f&&t===c){if(n==="index"){r(u);return}if(i!=null){var p;if(typeof n=="function"){var h={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},y=n(i,h);p=i[y]}else n==="value"&&(p=i.find(C=>String(C.value)===u.payload.label));var{coordinate:m}=u.payload;if(p==null||u.payload.active===!1||m==null||s==null){r(BN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:g}=m,v=Math.min(w,s.x+s.width),x=Math.min(g,s.y+s.height),E={x:a==="horizontal"?p.coordinate:v,y:a==="horizontal"?x:p.coordinate},S=BN({active:u.payload.active,coordinate:E,dataKey:u.payload.dataKey,index:String(p.index),label:u.payload.label});r(S)}}};return J0.on(VN,l),()=>{J0.off(VN,l)}},[o,r,e,t,n,i,a,s])}function bve(){var t=vt(UP),e=vt($P),r=Xr();O.useEffect(()=>{if(t==null)return lW;var n=(i,a,s)=>{e!==s&&t===i&&r(yve(a))};return J0.on(RR,n),()=>{J0.off(RR,n)}},[r,e,t])}function xve(){var t=Xr();O.useEffect(()=>{t(pve())},[t]),wve(),bve()}function _ve(t,e,r,n,i,a){var s=vt(p=>Zye(p,t,e)),o=vt($P),l=vt(UP),c=vt(sq),u=vt(mve),f=u==null?void 0:u.active;O.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=BN({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n});J0.emit(VN,l,p,o)}},[f,r,s,i,n,o,l,c,a])}function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){Eve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eve(t,e,r){return(e=Ave(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ave(t){var e=Sve(t,"string");return typeof e=="symbol"?e:e+""}function Sve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nve(t){return t.dataKey}function Tve(t,e){return O.isValidElement(t)?O.cloneElement(t,e):typeof t=="function"?O.createElement(t,e):O.createElement(ahe,e)}var FR=[],Pve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Om.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function zN(t){var e=Eo(t,Pve),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:s,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:f,reverseDirection:p,useTranslate3d:h,wrapperStyle:y,cursor:m,shared:w,trigger:g,defaultIndex:v,portal:x,axisId:E}=e,S=Xr(),C=typeof v=="number"?String(v):v;O.useEffect(()=>{S(iye({shared:w,trigger:g,axisId:E,active:r,defaultIndex:C}))},[S,w,g,E,r,C]);var P=sP(),k=YV(),T=Z0e(w),{activeIndex:W,isActive:M}=vt(fe=>rve(fe,T,g,C)),A=vt(fe=>tve(fe,T,g,C)),I=vt(fe=>rW(fe,T,g,C)),L=vt(fe=>eve(fe,T,g,C)),se=A,pe=cve(),X=r??M,[ce,ue]=hV([se,X]),xe=T==="axis"?I:void 0;_ve(T,g,L,xe,W,X);var we=x??pe;if(we==null)return null;var F=se??FR;X||(F=FR),o&&F.length&&(F=tV(se.filter(fe=>fe.value!=null&&(fe.hide!==!0||e.includeHidden)),u,Nve));var J=F.length>0,ie=O.createElement(fhe,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:l,active:X,coordinate:L,hasPayload:J,offset:c,position:f,reverseDirection:p,useTranslate3d:h,viewBox:P,wrapperStyle:y,lastBoundingBox:ce,innerRef:ue,hasPortalFromProps:!!x},Tve(s,MR(MR({},e),{},{payload:F,label:xe,active:X,coordinate:L,accessibilityLayer:k})));return O.createElement(O.Fragment,null,m3.createPortal(ie,we),X&&O.createElement(lve,{cursor:m,tooltipEventType:T,coordinate:L,payload:se,index:W}))}var cW={},uW={},dW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{c&&u(),m()};let p=null;const h=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},m=()=>{y(),s=void 0,o=null},w=()=>{u()},g=function(...v){if(i!=null&&i.aborted)return;s=this,o=v;const x=p==null;h(),l&&x&&u()};return g.schedule=h,g.cancel=m,g.flush=w,i==null||i.addEventListener("abort",m,{once:!0}),g}t.debounce=e})(dW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dW;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const p=e.debounce(function(...m){u=n.apply(this,m),f=null},i,{edges:c}),h=function(...m){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=n.apply(this,m),f=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,m),u)},y=()=>(p.flush(),u);return h.cancel=p.cancel,h.flush=y,h}t.debounce=r})(uW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uW;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(n,i,{leading:s,maxWait:i,trailing:o})}t.throttle=r})(cW);var Cve=cW.throttle;const kve=bo(Cve);var u0=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){Ive(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ive(t,e,r){return(e=jve(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jve(t){var e=Ove(t,"string");return typeof e=="symbol"?e:e+""}function Ove(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qN=O.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:p,onResize:h,style:y={}}=t,m=O.useRef(null),w=O.useRef();w.current=h,O.useImperativeHandle(e,()=>m.current);var[g,v]=O.useState({containerWidth:n.width,containerHeight:n.height}),x=O.useCallback((S,C)=>{v(P=>{var k=Math.round(S),T=Math.round(C);return P.containerWidth===k&&P.containerHeight===T?P:{containerWidth:k,containerHeight:T}})},[]);O.useEffect(()=>{var S=T=>{var W,{width:M,height:A}=T[0].contentRect;x(M,A),(W=w.current)===null||W===void 0||W.call(w,M,A)};u>0&&(S=kve(S,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(S),{width:P,height:k}=m.current.getBoundingClientRect();return x(P,k),C.observe(m.current),()=>{C.disconnect()}},[x,u]);var E=O.useMemo(()=>{var{containerWidth:S,containerHeight:C}=g;if(S<0||C<0)return null;u0(hf(i)||hf(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),u0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=hf(i)?S:i,k=hf(a)?C:a;return r&&r>0&&(P?k=P/r:k&&(P=k*r),l&&k>l&&(k=l)),u0(P>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,k,i,a,s,o,r),O.Children.map(c,T=>O.cloneElement(T,{width:P,height:k,style:A_({width:P,height:k},T.props.style)}))},[r,c,a,l,o,s,g,i]);return O.createElement("div",{id:f?"".concat(f):void 0,className:tr("recharts-responsive-container",p),style:A_(A_({},y),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:m},O.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),S2=t=>null;S2.displayName="Cell";function UR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(r),!0).forEach(function(n){Rve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rve(t,e,r){return(e=Lve(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lve(t){var e=Dve(t,"string");return typeof e=="symbol"?e:e+""}function Dve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uh={widthCache:{},cacheCount:0},Mve=2e3,Fve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$R="recharts_measurement_span";function Bve(t){var e=WN({},t);return Object.keys(e).forEach(r=>{e[r]||delete e[r]}),e}var d0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Om.isSsr)return{width:0,height:0};var n=Bve(r),i=JSON.stringify({text:e,copyStyle:n});if(Uh.widthCache[i])return Uh.widthCache[i];try{var a=document.getElementById($R);a||(a=document.createElement("span"),a.setAttribute("id",$R),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=WN(WN({},Fve),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Uh.widthCache[i]=l,++Uh.cacheCount>Mve&&(Uh.cacheCount=0,Uh.widthCache={}),l}catch{return{width:0,height:0}}},VR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$ve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vve=Object.keys(fW),hp="NaN";function zve(t,e){return t*fW[e]}class ha{static parse(e){var r,[,n,i]=(r=$ve.exec(e))!==null&&r!==void 0?r:[];return new ha(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Ps(e)&&(this.unit=""),r!==""&&!Uve.test(r)&&(this.num=NaN,this.unit=""),Vve.includes(r)&&(this.num=zve(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new ha(NaN,""):new ha(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ha(NaN,""):new ha(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ha(NaN,""):new ha(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ha(NaN,""):new ha(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ps(this.num)}}function hW(t){if(t.includes(hp))return hp;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=VR.exec(e))!==null&&r!==void 0?r:[],s=ha.parse(n??""),o=ha.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return hp;e=e.replace(VR,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,f,p]=(c=zR.exec(e))!==null&&c!==void 0?c:[],h=ha.parse(u??""),y=ha.parse(p??""),m=f==="+"?h.add(y):h.subtract(y);if(m.isNaN())return hp;e=e.replace(zR,m.toString())}return e}var qR=/\(([^()]*)\)/;function qve(t){for(var e=t,r;(r=qR.exec(e))!=null;){var[,n]=r;e=e.replace(qR,hW(n))}return e}function Wve(t){var e=t.replace(/\s+/g,"");return e=qve(e),e=hW(e),e}function Hve(t){try{return Wve(t)}catch{return hp}}function S_(t){var e=Hve(t.slice(5,-1));return e===hp?"":e}var Gve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kve=["dx","dy","angle","className","breakAll"];function HN(){return HN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HN.apply(null,arguments)}function WR(t,e){if(t==null)return{};var r,n,i=Yve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Yve(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var pW=/[ \f\n\r\t\v\u2028\u2029]+/,mW=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];wn(e)||(r?i=e.toString().split(""):i=e.toString().split(pW));var a=i.map(o=>({word:o,width:d0(o,n).width})),s=r?0:d0(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Xve=(t,e,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=t,c=yt(a),u=s,f=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((A,I)=>{var{word:L,width:se}=I,pe=A[A.length-1];if(pe&&(n==null||i||pe.width+se+r<Number(n)))pe.words.push(L),pe.width+=se+r;else{var X={words:[L],width:se};A.push(X)}return A},[])},p=f(e),h=W=>W.reduce((M,A)=>M.width>A.width?M:A);if(!c||i)return p;var y=p.length>a||h(p).width>Number(n);if(!y)return p;for(var m="…",w=W=>{var M=u.slice(0,W),A=mW({breakAll:l,style:o,children:M+m}).wordsWithComputedWidth,I=f(A),L=I.length>a||h(I).width>Number(n);return[L,I]},g=0,v=u.length-1,x=0,E;g<=v&&x<=u.length-1;){var S=Math.floor((g+v)/2),C=S-1,[P,k]=w(C),[T]=w(S);if(!P&&!T&&(g=S+1),P&&T&&(v=S-1),!P&&T){E=k;break}x++}return E||p},HR=t=>{var e=wn(t)?[]:t.toString().split(pW);return[{words:e}]},Jve=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=t;if((e||r)&&!Om.isSsr){var o,l,c=mW({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return HR(n);return Xve({breakAll:a,children:n,maxLines:s,style:i},o,l,e,r)}return HR(n)},GR="#808080",N2=O.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=GR}=t,u=WR(t,Gve),f=O.useMemo(()=>Jve({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:s,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,s,u.style,u.width]),{dx:p,dy:h,angle:y,className:m,breakAll:w}=u,g=WR(u,Kve);if(!gl(r)||!gl(n))return null;var v=r+(yt(p)?p:0),x=n+(yt(h)?h:0),E;switch(l){case"start":E=S_("calc(".concat(a,")"));break;case"middle":E=S_("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:E=S_("calc(".concat(f.length-1," * -").concat(i,")"));break}var S=[];if(s){var C=f[0].width,{width:P}=u;S.push("scale(".concat(yt(P)?P/C:1,")"))}return y&&S.push("rotate(".concat(y,", ").concat(v,", ").concat(x,")")),S.length&&(g.transform=S.join(" ")),O.createElement("text",HN({},er(g,!0),{ref:e,x:v,y:x,className:tr("recharts-text",m),textAnchor:o,fill:c.includes("url")?GR:c}),f.map((k,T)=>{var W=k.words.join(w?"":" ");return O.createElement("tspan",{x:v,dy:T===0?E:i,key:"".concat(W,"-").concat(T)},W)}))});N2.displayName="Text";var Qve=["offset"],Zve=["labelRef"];function KR(t,e){if(t==null)return{};var r,n,i=e1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function e1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){t1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t1e(t,e,r){return(e=r1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r1e(t){var e=n1e(t,"string");return typeof e=="symbol"?e:e+""}function n1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ql.apply(null,arguments)}var i1e=t=>{var{value:e,formatter:r}=t,n=wn(t.children)?e:t.children;return typeof r=="function"?r(n):n},yC=t=>t!=null&&typeof t=="function",a1e=(t,e)=>{var r=Di(e-t),n=Math.min(Math.abs(e-t),360);return r*n},s1e=(t,e,r)=>{var{position:n,viewBox:i,offset:a,className:s}=t,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:p,clockWise:h}=i,y=(c+u)/2,m=a1e(f,p),w=m>=0?1:-1,g,v;n==="insideStart"?(g=f+w*a,v=h):n==="insideEnd"?(g=p-w*a,v=!h):n==="end"&&(g=p+w*a,v=h),v=m<=0?v:!v;var x=Mn(o,l,y,g),E=Mn(o,l,y,g+(v?1:-1)*359),S="M".concat(x.x,",").concat(x.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(v?0:1,`,
    `).concat(E.x,",").concat(E.y),C=wn(t.id)?Qp("recharts-radial-line-"):t.id;return O.createElement("text",Ql({},r,{dominantBaseline:"central",className:tr("recharts-radial-bar-label",s)}),O.createElement("defs",null,O.createElement("path",{id:C,d:S})),O.createElement("textPath",{xlinkHref:"#".concat(C)},e))},o1e=t=>{var{viewBox:e,offset:r,position:n}=t,{cx:i,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(n==="outside"){var{x:f,y:p}=Mn(i,a,o+r,u);return{x:f,y:p,textAnchor:f>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+o)/2,{x:y,y:m}=Mn(i,a,h,u);return{x:y,y:m,textAnchor:"middle",verticalAnchor:"middle"}},l1e=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:a,y:s,width:o,height:l}=e,c=l>=0?1:-1,u=c*n,f=c>0?"end":"start",p=c>0?"start":"end",h=o>=0?1:-1,y=h*n,m=h>0?"end":"start",w=h>0?"start":"end";if(i==="top"){var g={x:a+o/2,y:s-c*n,textAnchor:"middle",verticalAnchor:f};return In(In({},g),r?{height:Math.max(s-r.y,0),width:o}:{})}if(i==="bottom"){var v={x:a+o/2,y:s+l+u,textAnchor:"middle",verticalAnchor:p};return In(In({},v),r?{height:Math.max(r.y+r.height-(s+l),0),width:o}:{})}if(i==="left"){var x={x:a-y,y:s+l/2,textAnchor:m,verticalAnchor:"middle"};return In(In({},x),r?{width:Math.max(x.x-r.x,0),height:l}:{})}if(i==="right"){var E={x:a+o+y,y:s+l/2,textAnchor:w,verticalAnchor:"middle"};return In(In({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:l}:{})}var S=r?{width:o,height:l}:{};return i==="insideLeft"?In({x:a+y,y:s+l/2,textAnchor:w,verticalAnchor:"middle"},S):i==="insideRight"?In({x:a+o-y,y:s+l/2,textAnchor:m,verticalAnchor:"middle"},S):i==="insideTop"?In({x:a+o/2,y:s+u,textAnchor:"middle",verticalAnchor:p},S):i==="insideBottom"?In({x:a+o/2,y:s+l-u,textAnchor:"middle",verticalAnchor:f},S):i==="insideTopLeft"?In({x:a+y,y:s+u,textAnchor:w,verticalAnchor:p},S):i==="insideTopRight"?In({x:a+o-y,y:s+u,textAnchor:m,verticalAnchor:p},S):i==="insideBottomLeft"?In({x:a+y,y:s+l-u,textAnchor:w,verticalAnchor:f},S):i==="insideBottomRight"?In({x:a+o-y,y:s+l-u,textAnchor:m,verticalAnchor:f},S):i&&typeof i=="object"&&(yt(i.x)||hf(i.x))&&(yt(i.y)||hf(i.y))?In({x:a+Es(i.x,o),y:s+Es(i.y,l),textAnchor:"end",verticalAnchor:"end"},S):In({x:a+o/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},S)},c1e=t=>"cx"in t&&yt(t.cx);function Ba(t){var{offset:e=5}=t,r=KR(t,Qve),n=In({offset:e},r),{viewBox:i,position:a,value:s,children:o,content:l,className:c="",textBreakAll:u,labelRef:f}=n,p=sP(),h=i||p;if(!h||wn(s)&&wn(o)&&!O.isValidElement(l)&&typeof l!="function")return null;if(O.isValidElement(l)){var y=KR(n,Zve);return O.cloneElement(l,y)}var m;if(typeof l=="function"){if(m=O.createElement(l,n),O.isValidElement(m))return m}else m=i1e(n);var w=c1e(h),g=er(n,!0);if(w&&(a==="insideStart"||a==="insideEnd"||a==="end"))return s1e(n,m,g);var v=w?o1e(n):l1e(n,h);return O.createElement(N2,Ql({ref:f,className:tr("recharts-label",c)},g,v,{breakAll:u}),m)}Ba.displayName="Label";var gW=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:a,r:s,radius:o,innerRadius:l,outerRadius:c,x:u,y:f,top:p,left:h,width:y,height:m,clockWise:w,labelViewBox:g}=t;if(g)return g;if(yt(y)&&yt(m)){if(yt(u)&&yt(f))return{x:u,y:f,width:y,height:m};if(yt(p)&&yt(h))return{x:p,y:h,width:y,height:m}}if(yt(u)&&yt(f))return{x:u,y:f,width:0,height:0};if(yt(e)&&yt(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:a||n||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:w};if(t.viewBox)return t.viewBox},u1e=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?O.createElement(Ba,Ql({key:"label-implicit"},n)):gl(t)?O.createElement(Ba,Ql({key:"label-implicit",value:t},n)):O.isValidElement(t)?t.type===Ba?O.cloneElement(t,In({key:"label-implicit"},n)):O.createElement(Ba,Ql({key:"label-implicit",content:t},n)):yC(t)?O.createElement(Ba,Ql({key:"label-implicit",content:t},n)):t&&typeof t=="object"?O.createElement(Ba,Ql({},t,{key:"label-implicit"},n)):null},d1e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:a}=e,s=gW(e),o=Vx(i,Ba).map((c,u)=>O.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)}));if(!n)return o;var l=u1e(e.label,r||s,a);return[l,...o]};Ba.parseViewBox=gW;Ba.renderCallByParent=d1e;var yW={},vW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(vW);var wW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(wW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vW,r=wW,n=Hx;function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(yW);var f1e=yW.last;const h1e=bo(f1e);var p1e=["valueAccessor"],m1e=["data","dataKey","clockWise","id","textBreakAll"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bb.apply(null,arguments)}function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){g1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g1e(t,e,r){return(e=y1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y1e(t){var e=v1e(t,"string");return typeof e=="symbol"?e:e+""}function v1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QR(t,e){if(t==null)return{};var r,n,i=w1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function w1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var b1e=t=>Array.isArray(t.value)?h1e(t.value):t.value;function Pf(t){var{valueAccessor:e=b1e}=t,r=QR(t,p1e),{data:n,dataKey:i,clockWise:a,id:s,textBreakAll:o}=r,l=QR(r,m1e);return!n||!n.length?null:O.createElement(Ea,{className:"recharts-label-list"},n.map((c,u)=>{var f=wn(i)?e(c,u):sn(c&&c.payload,i),p=wn(s)?{}:{id:"".concat(s,"-").concat(u)};return O.createElement(Ba,bb({},er(c,!0),l,p,{parentViewBox:c.parentViewBox,value:f,textBreakAll:o,viewBox:Ba.parseViewBox(wn(a)?c:JR(JR({},c),{},{clockWise:a})),key:"label-".concat(u),index:u}))}))}Pf.displayName="LabelList";function x1e(t,e){return t?t===!0?O.createElement(Pf,{key:"labelList-implicit",data:e}):O.isValidElement(t)||yC(t)?O.createElement(Pf,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?O.createElement(Pf,bb({data:e},t,{key:"labelList-implicit"})):null:null}function _1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=Vx(n,Pf).map((s,o)=>O.cloneElement(s,{data:e,key:"labelList-".concat(o)}));if(!r)return i;var a=x1e(t.label,e);return[a,...i]}Pf.renderCallByParent=_1e;function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GN.apply(null,arguments)}var bW=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=tr("recharts-dot",i);return e===+e&&r===+r&&n===+n?O.createElement("circle",GN({},er(t,!1),RT(t),{className:a,cx:e,cy:r,r:n})):null},xW=t=>t.graphicalItems.polarItems,E1e=Ue([bn,ky],HP),vC=Ue([xW,xn,E1e],GP),A1e=Ue([vC],KP),wC=Ue([A1e,DP],YP),S1e=Ue([wC,xn,vC],XP),N1e=Ue([wC,xn,vC],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,s=sn(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:sn(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),ZR=()=>{},T1e=Ue([xn,Aq,ZR,N1e,ZR],ZP),_W=Ue([xn,Ur,wC,S1e,Cy,bn,T1e],eC),P1e=Ue([_W,xn,Fm],nC);Ue([xn,_W,P1e,bn],aC);var C1e={radiusAxis:{},angleAxis:{}},k1e=Rs({name:"polarAxis",initialState:C1e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),I1e=k1e.reducer;function eL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(r),!0).forEach(function(n){j1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j1e(t,e,r){return(e=O1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O1e(t){var e=R1e(t,"string");return typeof e=="symbol"?e:e+""}function R1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bC=(t,e)=>e,L1e=[],xC=(t,e,r)=>(r==null?void 0:r.length)===0?L1e:r,EW=Ue([DP,bC,xC],(t,e,r)=>{var{chartData:n}=t,i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>tL(tL({},e.presentationProps),a.props))),i!=null)return i}),D1e=Ue([EW,bC,xC],(t,e,r)=>{if(t!=null)return t.map((n,i)=>{var a,s=sn(n,e.nameKey,e.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:i2(s,e.dataKey),color:o,payload:n,type:e.legendType}})}),M1e=Ue([xW,bC],(t,e)=>{if(t.some(r=>r.type==="pie"&&e.dataKey===r.dataKey&&e.data===r.data))return e}),F1e=Ue([EW,M1e,xC,ri],(t,e,r,n)=>{if(!(e==null||t==null))return kwe({offset:n,pieSettings:e,displayedData:t,cells:r})}),B1e={countOfBars:0,cartesianItems:[],polarItems:[]},AW=Rs({name:"graphicalItems",initialState:B1e,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=fc(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=fc(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=fc(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addBar:nTe,removeBar:iTe,addCartesianGraphicalItem:U1e,replaceCartesianGraphicalItem:$1e,removeCartesianGraphicalItem:V1e,addPolarGraphicalItem:z1e,removePolarGraphicalItem:q1e}=AW.actions,W1e=AW.reducer;function rL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(r),!0).forEach(function(n){H1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H1e(t,e,r){return(e=G1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G1e(t){var e=K1e(t,"string");return typeof e=="symbol"?e:e+""}function K1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y1e(t){var e=Xr(),r=O.useRef(null);return O.useEffect(()=>{var n=nL(nL({},t),{},{stackId:Afe(t.stackId)});r.current===null?e(U1e(n)):r.current!==n&&e($1e({prev:r.current,next:n})),r.current=n},[e,t]),O.useEffect(()=>()=>{r.current&&(e(V1e(r.current)),r.current=null)},[e]),null}function X1e(t){var e=Xr();return O.useEffect(()=>(e(z1e(t)),()=>{e(q1e(t))}),[e,t]),null}var SW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(SW);var J1e=SW.isPlainObject;const Q1e=bo(J1e);function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xb.apply(null,arguments)}var iL=(t,e,r,n,i)=>{var a=r-n,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+r,",").concat(e),s+="L ".concat(t+r-a/2,",").concat(e+i),s+="L ".concat(t+r-a/2-n,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Z1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ewe=t=>{var e=Eo(t,Z1e),r=O.useRef(),[n,i]=O.useState(-1);O.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:a,y:s,upperWidth:o,lowerWidth:l,height:c,className:u}=e,{animationEasing:f,animationDuration:p,animationBegin:h,isUpdateAnimationActive:y}=e;if(a!==+a||s!==+s||o!==+o||l!==+l||c!==+c||o===0&&l===0||c===0)return null;var m=tr("recharts-trapezoid",u);return y?O.createElement(Wf,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:c,x:a,y:s},to:{upperWidth:o,lowerWidth:l,height:c,x:a,y:s},duration:p,animationEasing:f,isActive:y},w=>{var{upperWidth:g,lowerWidth:v,height:x,x:E,y:S}=w;return O.createElement(Wf,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,easing:f},O.createElement("path",xb({},er(e,!0),{className:m,d:iL(E,S,g,v,x),ref:r})))}):O.createElement("g",null,O.createElement("path",xb({},er(e,!0),{className:m,d:iL(a,s,o,l,c)})))},twe=["option","shapeType","propTransformer","activeClassName","isActive"];function rwe(t,e){if(t==null)return{};var r,n,i=nwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nwe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function aL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _b(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(r),!0).forEach(function(n){iwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iwe(t,e,r){return(e=awe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function awe(t){var e=swe(t,"string");return typeof e=="symbol"?e:e+""}function swe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function owe(t,e){return _b(_b({},e),t)}function lwe(t,e){return t==="symbols"}function sL(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return O.createElement(nz,r);case"trapezoid":return O.createElement(ewe,r);case"sector":return O.createElement(sz,r);case"symbols":if(lwe(e))return O.createElement(UT,r);break;default:return null}}function cwe(t){return O.isValidElement(t)?t.props:t}function uwe(t){var{option:e,shapeType:r,propTransformer:n=owe,activeClassName:i="recharts-active-shape",isActive:a}=t,s=rwe(t,twe),o;if(O.isValidElement(e))o=O.cloneElement(e,_b(_b({},s),cwe(e)));else if(typeof e=="function")o=e(s);else if(Q1e(e)&&typeof e!="boolean"){var l=n(e,s);o=O.createElement(sL,{shapeType:r,elementProps:l})}else{var c=s;o=O.createElement(sL,{shapeType:r,elementProps:c})}return a?O.createElement(Ea,{className:i},o):o}var dwe=(t,e)=>{var r=Xr();return(n,i)=>a=>{t==null||t(n,i,a),r(Bq({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},fwe=t=>{var e=Xr();return(r,n)=>i=>{t==null||t(r,n,i),e(aye())}},hwe=(t,e)=>{var r=Xr();return(n,i)=>a=>{t==null||t(n,i,a),r(sye({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function NW(t){var{fn:e,args:r}=t,n=Xr(),i=Sa();return O.useEffect(()=>{if(!i){var a=e(r);return n(rye(a)),()=>{n(nye(a))}}},[e,r,n,i]),null}var TW=()=>{};function pwe(t){var{legendPayload:e}=t,r=Xr(),n=Sa();return O.useEffect(()=>n?TW:(r(GV(e)),()=>{r(KV(e))}),[r,n,e]),null}function mwe(t){var{legendPayload:e}=t,r=Xr(),n=vt(Ur);return O.useEffect(()=>n!=="centric"&&n!=="radial"?TW:(r(GV(e)),()=>{r(KV(e))}),[r,n,e]),null}function PW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=O.useRef(Qp(e)),n=O.useRef(t);return n.current!==t&&(r.current=Qp(e),n.current=t),r.current}var gwe=["onMouseEnter","onClick","onMouseLeave"];function ywe(t,e){if(t==null)return{};var r,n,i=vwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function vwe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function oL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function an(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(r),!0).forEach(function(n){T2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T2(t,e,r){return(e=wwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wwe(t){var e=bwe(t,"string");return typeof e=="symbol"?e:e+""}function bwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gf.apply(null,arguments)}function xwe(t){var e=O.useMemo(()=>er(t,!1),[t]),r=O.useMemo(()=>Vx(t.children,S2),[t.children]),n=O.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),i=vt(a=>D1e(a,n,r));return O.createElement(mwe,{legendPayload:i})}function _we(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:r,name:i2(o,e),hide:l,type:c,color:s,unit:""}}}var Ewe=(t,e)=>t>e?"start":t<e?"end":"middle",Awe=(t,e,r)=>typeof e=="function"?e(t):Es(e,r,r*.8),Swe=(t,e,r)=>{var{top:n,left:i,width:a,height:s}=e,o=FV(a,s),l=i+Es(t.cx,a,a/2),c=n+Es(t.cy,s,s/2),u=Es(t.innerRadius,o,0),f=Awe(r,t.outerRadius,o),p=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:p}},Nwe=(t,e)=>{var r=Di(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Twe=(t,e)=>{if(O.isValidElement(t))return O.cloneElement(t,e);if(typeof t=="function")return t(e);var r=tr("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return O.createElement(dP,Gf({},e,{type:"linear",className:r}))},Pwe=(t,e,r)=>{if(O.isValidElement(t))return O.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),O.isValidElement(n)))return n;var i=tr("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return O.createElement(N2,Gf({},e,{alignmentBaseline:"middle",className:i}),n)};function Cwe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!e)return null;var o=er(r,!1),l=er(i,!1),c=er(a,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=e.map((p,h)=>{var y=(p.startAngle+p.endAngle)/2,m=Mn(p.cx,p.cy,p.outerRadius+u,y),w=an(an(an(an({},o),p),{},{stroke:"none"},l),{},{index:h,textAnchor:Ewe(m.x,p.cx)},m),g=an(an(an(an({},o),p),{},{fill:"none",stroke:p.fill},c),{},{index:h,points:[Mn(p.cx,p.cy,p.outerRadius,y),m],key:"line"});return O.createElement(Ea,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(h)},a&&Twe(a,g),Pwe(i,w,sn(p,s)))});return O.createElement(Ea,{className:"recharts-pie-labels"},f)}function CW(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:a}=t,s=vt(lm),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,u=ywe(i,gwe),f=dwe(o,i.dataKey),p=fwe(c),h=hwe(l,i.dataKey);return e==null?null:O.createElement(O.Fragment,null,e.map((y,m)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&e.length!==1)return null;var w=r&&String(m)===s,g=s?n:null,v=w?r:g,x=an(an({},y),{},{stroke:y.stroke,tabIndex:-1,[VV]:m,[zV]:i.dataKey});return O.createElement(Ea,Gf({tabIndex:-1,className:"recharts-pie-sector"},LT(u,y,m),{onMouseEnter:f(y,m),onMouseLeave:p(y,m),onClick:h(y,m),key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(m)}),O.createElement(uwe,Gf({option:v,isActive:w,shapeType:"sector"},x)))}),O.createElement(Cwe,{sectors:e,props:i,showLabels:a}))}function kwe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=r,p=Math.abs(r.minAngle),h=Nwe(o,l),y=Math.abs(h),m=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,w=n.filter(C=>sn(C,c,0)!==0).length,g=(y>=360?w:w-1)*m,v=y-w*p-g,x=n.reduce((C,P)=>{var k=sn(P,c,0);return C+(yt(k)?k:0)},0),E;if(x>0){var S;E=n.map((C,P)=>{var k=sn(C,c,0),T=sn(C,u,P),W=Swe(r,a,C),M=(yt(k)?k:0)/x,A,I=an(an({},C),i&&i[P]&&i[P].props);P?A=S.endAngle+Di(h)*m*(k!==0?1:0):A=o;var L=A+Di(h)*((k!==0?p:0)+M*v),se=(A+L)/2,pe=(W.innerRadius+W.outerRadius)/2,X=[{name:T,value:k,payload:I,dataKey:c,type:f}],ce=Mn(W.cx,W.cy,pe,se);return S=an(an(an(an({},r.presentationProps),{},{percent:M,cornerRadius:s,name:T,tooltipPayload:X,midAngle:se,middleRadius:pe,tooltipPosition:ce},I),W),{},{value:sn(C,c),startAngle:A,endAngle:L,payload:I,paddingAngle:Di(h)*m}),S})}return E}function Iwe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=e,p=PW(e,"recharts-pie-"),h=r.current,[y,m]=O.useState(!0),w=O.useCallback(()=>{typeof f=="function"&&f(),m(!1)},[f]),g=O.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return O.createElement(Wf,{begin:a,duration:s,isActive:i,easing:o,from:{t:0},to:{t:1},onAnimationStart:g,onAnimationEnd:w,key:p},v=>{var{t:x}=v,E=[],S=n&&n[0],C=S.startAngle;return n.forEach((P,k)=>{var T=h&&h[k],W=k>0?od(P,"paddingAngle",0):0;if(T){var M=af(T.endAngle-T.startAngle,P.endAngle-P.startAngle),A=an(an({},P),{},{startAngle:C+W,endAngle:C+M(x)+W});E.push(A),C=A.endAngle}else{var{endAngle:I,startAngle:L}=P,se=af(0,I-L),pe=se(x),X=an(an({},P),{},{startAngle:C+W,endAngle:C+pe+W});E.push(X),C=X.endAngle}}),r.current=E,O.createElement(Ea,null,O.createElement(CW,{sectors:E,activeShape:l,inactiveShape:c,allOtherPieProps:e,showLabels:!y}))})}function jwe(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,a=O.useRef(null),s=a.current;return r&&e&&e.length&&(!s||s!==e)?O.createElement(Iwe,{props:t,previousSectorsRef:a}):O.createElement(CW,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Owe(t){var{hide:e,className:r,rootTabIndex:n}=t,i=tr("recharts-pie",r);return e?null:O.createElement(Ea,{tabIndex:n,className:i},O.createElement(jwe,t))}var kW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Om.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Rwe(t){var e=Eo(t,kW),r=O.useMemo(()=>Vx(t.children,S2),[t.children]),n=er(e,!1),i=O.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:n}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,n]),a=vt(s=>F1e(s,i,r));return O.createElement(O.Fragment,null,O.createElement(NW,{fn:_we,args:an(an({},e),{},{sectors:a})}),O.createElement(Owe,Gf({},e,{sectors:a})))}class _C extends O.PureComponent{constructor(){super(...arguments),T2(this,"id",Qp("recharts-pie-"))}render(){return O.createElement(O.Fragment,null,O.createElement(X1e,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),O.createElement(xwe,this.props),O.createElement(Rwe,this.props),this.props.children)}}T2(_C,"displayName","Pie");T2(_C,"defaultProps",kW);var Lwe=Ue([ri],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Dwe=Ue([Lwe,Ic,jc],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),Mwe=t=>{var e=Sa();return vt(r=>_2(r,"xAxis",t,e))},Fwe=t=>{var e=Sa();return vt(r=>_2(r,"yAxis",t,e))},EC=()=>vt(Dwe),Bwe=()=>vt(Wye);function lL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(r),!0).forEach(function(n){Uwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uwe(t,e,r){return(e=$we(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $we(t){var e=Vwe(t,"string");return typeof e=="symbol"?e:e+""}function Vwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zwe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var s=cL(cL({index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},er(i,!1)),RT(i)),o;return O.isValidElement(i)?o=O.cloneElement(i,s):typeof i=="function"?o=i(s):o=O.createElement(bW,s),O.createElement(Ea,{className:"recharts-active-dot"},o)};function qwe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,a=vt(lm),s=Bwe();if(e==null||s==null)return null;var o=e.find(l=>s.includes(l.payload));return wn(o)?null:zwe({point:o,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var Wwe=["children"];function Hwe(t,e){if(t==null)return{};var r,n,i=Gwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Gwe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var uL=()=>{},IW=O.createContext({addErrorBar:uL,removeErrorBar:uL}),Kwe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},jW=O.createContext(Kwe);function Ywe(t){var{children:e}=t,r=Hwe(t,Wwe);return O.createElement(jW.Provider,{value:r},e)}var Xwe=()=>O.useContext(jW),Jwe=t=>{var{children:e,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,data:s,stackId:o,hide:l,type:c,barSize:u}=t,[f,p]=O.useState([]),h=O.useCallback(w=>{p(g=>[...g,w])},[p]),y=O.useCallback(w=>{p(g=>g.filter(v=>v!==w))},[p]),m=Sa();return O.createElement(IW.Provider,{value:{addErrorBar:h,removeErrorBar:y}},O.createElement(Y1e,{type:c,data:s,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,errorBars:f,stackId:o,hide:l,barSize:u,isPanorama:m}),e)};function Qwe(t){var{addErrorBar:e,removeErrorBar:r}=O.useContext(IW);return O.useEffect(()=>(e(t),()=>{r(t)}),[e,r,t]),null}var Zwe=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function OW(t,e,r){return(e=ebe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ebe(t){var e=tbe(t,"string");return typeof e=="symbol"?e:e+""}function tbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q0.apply(null,arguments)}function rbe(t,e){if(t==null)return{};var r,n,i=nbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nbe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ibe(t){var{direction:e,width:r,dataKey:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o}=t,l=rbe(t,Zwe),c=er(l,!1),{data:u,dataPointFormatter:f,xAxisId:p,yAxisId:h,errorBarOffset:y}=Xwe(),m=Mwe(p),w=Fwe(h);if((m==null?void 0:m.scale)==null||(w==null?void 0:w.scale)==null||u==null||e==="x"&&m.type!=="number")return null;var g=u.map(v=>{var{x,y:E,value:S,errorVal:C}=f(v,n,e);if(!C)return null;var P=[],k,T;if(Array.isArray(C)?[k,T]=C:k=T=C,e==="x"){var{scale:W}=m,M=E+y,A=M+r,I=M-r,L=W(S-k),se=W(S+T);P.push({x1:se,y1:A,x2:se,y2:I}),P.push({x1:L,y1:M,x2:se,y2:M}),P.push({x1:L,y1:A,x2:L,y2:I})}else if(e==="y"){var{scale:pe}=w,X=x+y,ce=X-r,ue=X+r,xe=pe(S-k),we=pe(S+T);P.push({x1:ce,y1:we,x2:ue,y2:we}),P.push({x1:X,y1:xe,x2:X,y2:we}),P.push({x1:ce,y1:xe,x2:ue,y2:xe})}var F="".concat(x+y,"px ").concat(E+y,"px");return O.createElement(Ea,Q0({className:"recharts-errorBar",key:"bar-".concat(P.map(J=>"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)))},c),P.map(J=>{var ie=i?{transformOrigin:"".concat(J.x1-5,"px")}:void 0;return O.createElement(Wf,{from:{transform:"scaleY(0)",transformOrigin:F},to:{transform:"scaleY(1)",transformOrigin:F},begin:a,easing:o,isActive:i,duration:s,key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2),style:{transformOrigin:F}},O.createElement("line",Q0({},J,{style:ie})))}))});return O.createElement(Ea,{className:"recharts-errorBars"},g)}var RW=O.createContext(void 0);function abe(t){var e=O.useContext(RW);return t??e??"x"}function sbe(t){var{direction:e,children:r}=t;return O.createElement(RW.Provider,{value:e},r)}var LW={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function obe(t){var e=abe(t.direction),{width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:s}=Eo(t,LW);return O.createElement(O.Fragment,null,O.createElement(Qwe,{dataKey:t.dataKey,direction:e}),O.createElement(ibe,Q0({},t,{direction:e,width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:s})))}class DW extends O.Component{render(){return O.createElement(obe,this.props)}}OW(DW,"defaultProps",LW);OW(DW,"displayName","ErrorBar");function MW(t,e){var r,n,i=vt(c=>Rc(c,t)),a=vt(c=>_d(c,e)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:La.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Da.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function lbe(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=EC(),{needClipX:a,needClipY:s,needClip:o}=MW(e,r);if(!o)return null;var{x:l,y:c,width:u,height:f}=i;return O.createElement("clipPath",{id:"clipPath-".concat(n)},O.createElement("rect",{x:a?l:l-u/2,y:s?c:c-f/2,width:a?u:u*2,height:s?f:f*2}))}var FW=t=>{var{chartData:e}=t,r=Xr(),n=Sa();return O.useEffect(()=>n?()=>{}:(r(LR(e)),()=>{r(LR(void 0))}),[e,r,n]),null},dL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},cbe=Rs({name:"brush",initialState:dL,reducers:{setBrushSettings(t,e){return e.payload==null?dL:e.payload}}}),ube=cbe.reducer;function dbe(t,e,r){return(e=fbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fbe(t){var e=hbe(t,"string");return typeof e=="symbol"?e:e+""}function hbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AC{static create(e){return new AC(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}dbe(AC,"EPS",1e-4);function pbe(t){return(t%180+180)%180}var mbe=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=pbe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},gbe={dots:[],areas:[],lines:[]},ybe=Rs({name:"referenceElements",initialState:gbe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=fc(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=fc(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=fc(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),vbe=ybe.reducer,wbe=O.createContext(void 0),bbe=t=>{var{children:e}=t,[r]=O.useState("".concat(Qp("recharts"),"-clip")),n=EC();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return O.createElement(wbe.Provider,{value:r},O.createElement("defs",null,O.createElement("clipPath",{id:r},O.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function N_(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function BW(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function xbe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return mbe(n,r)}function _be(t,e,r){var n=r==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Eb(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Ebe(t,e){return BW(t,e+1)}function Abe(t,e,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=e,l=0,c=1,u=s,f=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:BW(n,c)};var m=l,w,g=()=>(w===void 0&&(w=r(y,m)),w),v=y.coordinate,x=l===0||Eb(t,v,g,u,o);x||(l=0,u=s,c+=1),x&&(u=v+t*(g()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function fL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ki(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(r),!0).forEach(function(n){Sbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sbe(t,e,r){return(e=Nbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nbe(t){var e=Tbe(t,"string");return typeof e=="symbol"?e:e+""}function Tbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pbe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=e,{end:l}=e,c=function(p){var h=a[p],y,m=()=>(y===void 0&&(y=r(h,p)),y);if(p===s-1){var w=t*(h.coordinate+t*m()/2-l);a[p]=h=ki(ki({},h),{},{tickCoord:w>0?h.coordinate-w*t:h.coordinate})}else a[p]=h=ki(ki({},h),{},{tickCoord:h.coordinate});var g=Eb(t,h.tickCoord,m,o,l);g&&(l=h.tickCoord-t*(m()/2+i),a[p]=ki(ki({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Cbe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=e;if(a){var u=n[o-1],f=r(u,o-1),p=t*(u.coordinate+t*f/2-c);s[o-1]=u=ki(ki({},u),{},{tickCoord:p>0?u.coordinate-p*t:u.coordinate});var h=Eb(t,u.tickCoord,()=>f,l,c);h&&(c=u.tickCoord-t*(f/2+i),s[o-1]=ki(ki({},u),{},{isShow:!0}))}for(var y=a?o-1:o,m=function(v){var x=s[v],E,S=()=>(E===void 0&&(E=r(x,v)),E);if(v===0){var C=t*(x.coordinate-t*S()/2-l);s[v]=x=ki(ki({},x),{},{tickCoord:C<0?x.coordinate-C*t:x.coordinate})}else s[v]=x=ki(ki({},x),{},{tickCoord:x.coordinate});var P=Eb(t,x.tickCoord,S,l,c);P&&(l=x.tickCoord+t*(S()/2+i),s[v]=ki(ki({},x),{},{isShow:!0}))},w=0;w<y;w++)m(w);return s}function SC(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=t;if(!i||!i.length||!n)return[];if(yt(l)||Om.isSsr){var p;return(p=Ebe(i,yt(l)?l:0))!==null&&p!==void 0?p:[]}var h=[],y=o==="top"||o==="bottom"?"width":"height",m=u&&y==="width"?d0(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=(x,E)=>{var S=typeof c=="function"?c(x.value,E):x.value;return y==="width"?xbe(d0(S,{fontSize:e,letterSpacing:r}),m,f):d0(S,{fontSize:e,letterSpacing:r})[y]},g=i.length>=2?Di(i[1].coordinate-i[0].coordinate):1,v=_be(a,g,y);return l==="equidistantPreserveStart"?Abe(g,v,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Cbe(g,v,w,i,s,l==="preserveStartEnd"):h=Pbe(g,v,w,i,s),h.filter(x=>x.isShow))}var kbe=["viewBox"],Ibe=["viewBox"];function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pp.apply(null,arguments)}function hL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(r),!0).forEach(function(n){NC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pL(t,e){if(t==null)return{};var r,n,i=jbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function jbe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function NC(t,e,r){return(e=Obe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Obe(t){var e=Rbe(t,"string");return typeof e=="symbol"?e:e+""}function Rbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ed extends O.Component{constructor(e){super(e),this.tickRefs=O.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=pL(e,kbe),a=this.props,{viewBox:s}=a,o=pL(a,Ibe);return!N_(n,s)||!N_(i,o)||!N_(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:a,orientation:s,tickSize:o,mirror:l,tickMargin:c}=this.props,u,f,p,h,y,m,w=l?-1:1,g=e.tickSize||o,v=yt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=f=e.coordinate,h=n+ +!l*a,p=h-w*g,m=p-w*c,y=v;break;case"left":p=h=e.coordinate,f=r+ +!l*i,u=f-w*g,y=u-w*c,m=v;break;case"right":p=h=e.coordinate,f=r+ +l*i,u=f+w*g,y=u+w*c,m=v;break;default:u=f=e.coordinate,h=n+ +l*a,p=h+w*g,m=p+w*c,y=v;break}return{line:{x1:u,y1:p,x2:f,y2:h},tick:{x:y,y:m}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o}=this.props,l=Vn(Vn(Vn({},er(this.props,!1)),er(o,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);l=Vn(Vn({},l),{},{x1:e,y1:r+c*i,x2:e+n,y2:r+c*i})}else{var u=+(a==="left"&&!s||a==="right"&&s);l=Vn(Vn({},l),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+i})}return O.createElement("line",pp({},l,{className:tr("recharts-cartesian-axis-line",od(o,"className"))}))}static renderTickItem(e,r,n){var i,a=tr(r.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(e))i=O.cloneElement(e,Vn(Vn({},r),{},{className:a}));else if(typeof e=="function")i=e(Vn(Vn({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=tr(s,e.className)),i=O.createElement(N2,pp({},r,{className:s}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:s,tickFormatter:o,unit:l}=this.props,c=SC(Vn(Vn({},this.props),{},{ticks:n}),e,r),u=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),p=er(this.props,!1),h=er(s,!1),y=Vn(Vn({},p),{},{fill:"none"},er(i,!1)),m=c.map((w,g)=>{var{line:v,tick:x}=this.getTickLineCoord(w),E=Vn(Vn(Vn(Vn({textAnchor:u,verticalAnchor:f},p),{},{stroke:"none",fill:a},h),x),{},{index:g,payload:w,visibleTicksCount:c.length,tickFormatter:o});return O.createElement(Ea,pp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},LT(this.props,w,g)),i&&O.createElement("line",pp({},y,v,{className:tr("recharts-cartesian-axis-tick-line",od(i,"className"))})),s&&Ed.renderTickItem(s,E,"".concat(typeof o=="function"?o(w.value,g):w.value).concat(l||"")))});return m.length>0?O.createElement("g",{className:"recharts-cartesian-axis-ticks"},m):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:s}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:O.createElement(Ea,{className:tr("recharts-cartesian-axis",i),ref:o=>{if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var c=l[0];if(c){var u=window.getComputedStyle(c).fontSize,f=window.getComputedStyle(c).letterSpacing;(u!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Ba.renderCallByParent(this.props))}}NC(Ed,"displayName","CartesianAxis");NC(Ed,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lbe=["x1","y1","x2","y2","key"],Dbe=["offset"],Mbe=["xAxisId","yAxisId"],Fbe=["xAxisId","yAxisId"];function mL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(r),!0).forEach(function(n){Bbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bbe(t,e,r){return(e=Ube(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ube(t){var e=$be(t,"string");return typeof e=="symbol"?e:e+""}function $be(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yf.apply(null,arguments)}function Ab(t,e){if(t==null)return{};var r,n,i=Vbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Vbe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var zbe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=t;return O.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function UW(t,e){var r;if(O.isValidElement(t))r=O.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:a,y2:s,key:o}=e,l=Ab(e,Lbe),c=er(l,!1),u=Ab(c,Dbe);r=O.createElement("line",yf({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function qbe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var a=Ab(t,Mbe),s=i.map((o,l)=>{var c=Ri(Ri({},a),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return UW(n,c)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Wbe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var a=Ab(t,Fbe),s=i.map((o,l)=>{var c=Ri(Ri({},a),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return UW(n,c)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Hbe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var u=c.map((f,p)=>{var h=!c[p+1],y=h?i+s-f:c[p+1]-f;if(y<=0)return null;var m=p%e.length;return O.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:y,width:a,stroke:"none",fill:e[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Gbe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=t;if(!e||!r||!r.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var u=c.map((f,p)=>{var h=!c[p+1],y=h?i+s-f:c[p+1]-f;if(y<=0)return null;var m=p%r.length;return O.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:y,height:o,stroke:"none",fill:r[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Kbe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return BV(SC(Ri(Ri(Ri({},Ed.defaultProps),r),{},{ticks:UV(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},Ybe=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return BV(SC(Ri(Ri(Ri({},Ed.defaultProps),r),{},{ticks:UV(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},Xbe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function TC(t){var e=oP(),r=lP(),n=WV(),i=Ri(Ri({},Eo(t,Xbe)),{},{x:yt(t.x)?t.x:n.left,y:yt(t.y)?t.y:n.top,width:yt(t.width)?t.width:n.width,height:yt(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:p,verticalValues:h}=i,y=Sa(),m=vt(T=>TR(T,"xAxis",a,y)),w=vt(T=>TR(T,"yAxis",s,y));if(!yt(c)||c<=0||!yt(u)||u<=0||!yt(o)||o!==+o||!yt(l)||l!==+l)return null;var g=i.verticalCoordinatesGenerator||Kbe,v=i.horizontalCoordinatesGenerator||Ybe,{horizontalPoints:x,verticalPoints:E}=i;if((!x||!x.length)&&typeof v=="function"){var S=p&&p.length,C=v({yAxis:w?Ri(Ri({},w),{},{ticks:S?p:w.ticks}):void 0,width:e,height:r,offset:n},S?!0:f);u0(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(x=C)}if((!E||!E.length)&&typeof g=="function"){var P=h&&h.length,k=g({xAxis:m?Ri(Ri({},m),{},{ticks:P?h:m.ticks}):void 0,width:e,height:r,offset:n},P?!0:f);u0(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(E=k)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(zbe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),O.createElement(Hbe,yf({},i,{horizontalPoints:x})),O.createElement(Gbe,yf({},i,{verticalPoints:E})),O.createElement(qbe,yf({},i,{offset:n,horizontalPoints:x,xAxis:m,yAxis:w})),O.createElement(Wbe,yf({},i,{offset:n,verticalPoints:E,xAxis:m,yAxis:w})))}TC.displayName="CartesianGrid";var $W=(t,e,r,n)=>_2(t,"xAxis",e,n),VW=(t,e,r,n)=>Oq(t,"xAxis",e,n),zW=(t,e,r,n)=>_2(t,"yAxis",r,n),qW=(t,e,r,n)=>Oq(t,"yAxis",r,n),Jbe=Ue([Ur,$W,zW,VW,qW],(t,e,r,n,i)=>wd(t,"xAxis")?bN(e,n,!1):bN(r,i,!1)),Qbe=(t,e,r,n,i)=>i,Zbe=Ue([fq,Qbe],(t,e)=>{if(t.some(r=>r.type==="line"&&e.dataKey===r.dataKey&&e.data===r.data))return e}),exe=Ue([Ur,$W,zW,VW,qW,Zbe,Jbe,Wz],(t,e,r,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{dataKey:f,data:p}=a,h;if(p!=null&&p.length>0?h=p:h=l==null?void 0:l.slice(c,u+1),h!=null)return wxe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:h})}}),txe=["type","layout","connectNulls","needClip"],rxe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function WW(t,e){if(t==null)return{};var r,n,i=nxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function gL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function no(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(r),!0).forEach(function(n){P2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P2(t,e,r){return(e=ixe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ixe(t){var e=axe(t,"string");return typeof e=="symbol"?e:e+""}function axe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cm.apply(null,arguments)}var sxe=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:i2(r,e),payload:t}]};function oxe(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:i2(s,e),hide:o,type:t.tooltipType,color:t.stroke,unit:l}}}var HW=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function lxe(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var cxe=(t,e,r)=>{var n=r.reduce((f,p)=>f+p);if(!n)return HW(e,t);for(var i=Math.floor(t/n),a=t%n,s=e-t,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>a){o=[...r.slice(0,l),a-c];break}var u=o.length%2===0?[0,s]:[s];return[...lxe(r,i),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function uxe(t,e){var r;if(O.isValidElement(t))r=O.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=tr("recharts-line-dot",typeof t!="boolean"?t.className:"");r=O.createElement(bW,cm({},e,{className:n}))}return r}function dxe(t,e){return t==null?!1:e?!0:t.length===1}function fxe(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:s}=n;if(!dxe(r,i))return null;var o=x$(i),l=er(n,!1),c=er(i,!0),u=r.map((p,h)=>{var y=no(no(no({key:"dot-".concat(h),r:3},l),c),{},{index:h,cx:p.x,cy:p.y,dataKey:a,value:p.value,payload:p.payload,points:r});return uxe(i,y)}),f={clipPath:s?"url(#clipPath-".concat(o?"":"dots-").concat(e,")"):null};return O.createElement(Ea,cm({className:"recharts-line-dots",key:"dots"},f),u)}function KN(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a,showLabels:s}=t,{type:o,layout:l,connectNulls:c,needClip:u}=a,f=WW(a,txe),p=no(no({},er(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):null,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return O.createElement(O.Fragment,null,(n==null?void 0:n.length)>1&&O.createElement(dP,cm({},p,{pathRef:r})),O.createElement(fxe,{points:n,clipPathId:e,props:a}),s&&Pf.renderCallByParent(a,n))}function hxe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function pxe(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:p,width:h,height:y,onAnimationEnd:m,onAnimationStart:w}=r,g=i.current,v=PW(r,"recharts-line-"),[x,E]=O.useState(!1),S=O.useCallback(()=>{typeof m=="function"&&m(),E(!1)},[m]),C=O.useCallback(()=>{typeof w=="function"&&w(),E(!0)},[w]),P=hxe(n.current),k=a.current;return O.createElement(Wf,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},onAnimationEnd:S,onAnimationStart:C,key:v},T=>{var{t:W}=T,M=af(k,P+k),A=Math.min(M(W),P),I;if(o){var L="".concat(o).split(/[,\s]+/gim).map(X=>parseFloat(X));I=cxe(A,P,L)}else I=HW(P,A);if(g){var se=g.length/s.length,pe=W===1?s:s.map((X,ce)=>{var ue=Math.floor(ce*se);if(g[ue]){var xe=g[ue],we=af(xe.x,X.x),F=af(xe.y,X.y);return no(no({},X),{},{x:we(W),y:F(W)})}if(p){var J=af(h*2,X.x),ie=af(y/2,X.y);return no(no({},X),{},{x:J(W),y:ie(W)})}return no(no({},X),{},{x:X.x,y:X.y})});return i.current=pe,O.createElement(KN,{props:r,points:pe,clipPathId:e,pathRef:n,showLabels:!x,strokeDasharray:I})}return W>0&&P>0&&(i.current=s,a.current=A),O.createElement(KN,{props:r,points:s,clipPathId:e,pathRef:n,showLabels:!x,strokeDasharray:I})})}function mxe(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,a=O.useRef(null),s=O.useRef(0),o=O.useRef(null),l=a.current;return i&&n&&n.length&&l!==n?O.createElement(pxe,{props:r,clipPathId:e,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:o}):O.createElement(KN,{props:r,points:n,clipPathId:e,pathRef:o,showLabels:!0})}var gxe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:sn(t.payload,e)});class yxe extends O.Component{constructor(){super(...arguments),P2(this,"id",Qp("recharts-line-"))}render(){var e,{hide:r,dot:n,points:i,className:a,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:f,id:p,needClip:h,layout:y}=this.props;if(r)return null;var m=tr("recharts-line",a),w=wn(p)?this.id:p,{r:g=3,strokeWidth:v=2}=(e=er(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},x=x$(n),E=g*2+v;return O.createElement(O.Fragment,null,O.createElement(Ea,{className:m},h&&O.createElement("defs",null,O.createElement(lbe,{clipPathId:w,xAxisId:s,yAxisId:o}),!x&&O.createElement("clipPath",{id:"clipPath-dots-".concat(w)},O.createElement("rect",{x:c-E/2,y:l-E/2,width:u+E,height:f+E}))),O.createElement(mxe,{props:this.props,clipPathId:w}),O.createElement(sbe,{direction:y==="horizontal"?"y":"x"},O.createElement(Ywe,{xAxisId:s,yAxisId:o,data:i,dataPointFormatter:gxe,errorBarOffset:0},this.props.children))),O.createElement(qwe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var GW={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Om.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function vxe(t){var e=Eo(t,GW),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:p,xAxisId:h,yAxisId:y}=e,m=WW(e,rxe),{needClip:w}=MW(h,y),{height:g,width:v,x,y:E}=EC(),S=cP(),C=Sa(),P=O.useMemo(()=>({dataKey:t.dataKey,data:t.data}),[t.dataKey,t.data]),k=vt(T=>exe(T,h,y,C,P));return S!=="horizontal"&&S!=="vertical"?null:O.createElement(yxe,cm({},m,{connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:u,hide:c,label:f,legendType:p,xAxisId:h,yAxisId:y,points:k,layout:S,height:g,width:v,left:x,top:E,needClip:w}))}function wxe(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=t;return l.map((c,u)=>{var f=sn(c,s);return e==="horizontal"?{x:yO({axis:r,ticks:i,bandSize:o,entry:c,index:u}),y:wn(f)?null:n.scale(f),value:f,payload:c}:{x:wn(f)?null:r.scale(f),y:yO({axis:n,ticks:a,bandSize:o,entry:c,index:u}),value:f,payload:c}})}class Cf extends O.PureComponent{render(){return O.createElement(Jwe,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},O.createElement(pwe,{legendPayload:sxe(this.props)}),O.createElement(NW,{fn:oxe,args:this.props}),O.createElement(vxe,this.props))}}P2(Cf,"displayName","Line");P2(Cf,"defaultProps",GW);function yL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(r),!0).forEach(function(n){bxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bxe(t,e,r){return(e=xxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xxe(t){var e=_xe(t,"string");return typeof e=="symbol"?e:e+""}function _xe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Exe={xAxis:{},yAxis:{},zAxis:{}},KW=Rs({name:"cartesianAxis",initialState:Exe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=vL(vL({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Axe,removeXAxis:Sxe,addYAxis:Nxe,removeYAxis:Txe,addZAxis:aTe,removeZAxis:sTe,updateYAxisWidth:Pxe}=KW.actions,Cxe=KW.reducer,kxe=["children"],Ixe=["dangerouslySetInnerHTML","ticks"];function YW(t,e,r){return(e=jxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jxe(t){var e=Oxe(t,"string");return typeof e=="symbol"?e:e+""}function Oxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YN(){return YN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YN.apply(null,arguments)}function XW(t,e){if(t==null)return{};var r,n,i=Rxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Lxe(t){var e=Xr(),r=O.useMemo(()=>{var a=XW(t,kxe);return a},[t]),n=vt(a=>Rc(a,r.id)),i=r===n;return O.useEffect(()=>(e(Axe(r)),()=>{e(Sxe(r))}),[r,e]),i?t.children:null}var Dxe=t=>{var{xAxisId:e,className:r}=t,n=vt(qV),i=Sa(),a="xAxis",s=vt(f=>Bm(f,a,e,i)),o=vt(f=>jq(f,a,e,i)),l=vt(f=>$0e(f,e)),c=vt(f=>H0e(f,e));if(l==null||c==null)return null;var u=XW(t,Ixe);return O.createElement(Ed,YN({},u,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:tr("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o}))},Mxe=t=>{var e,r,n,i,a;return O.createElement(Lxe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter},O.createElement(Dxe,t))};class C2 extends O.Component{render(){return O.createElement(Mxe,this.props)}}YW(C2,"displayName","XAxis");YW(C2,"defaultProps",{allowDataOverflow:La.allowDataOverflow,allowDecimals:La.allowDecimals,allowDuplicatedCategory:La.allowDuplicatedCategory,height:La.height,hide:!1,mirror:La.mirror,orientation:La.orientation,padding:La.padding,reversed:La.reversed,scale:La.scale,tickCount:La.tickCount,type:La.type,xAxisId:0});var Fxe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){e.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(r?n:0);return Math.round(c)}return 0},Bxe=["dangerouslySetInnerHTML","ticks"];function JW(t,e,r){return(e=Uxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uxe(t){var e=$xe(t,"string");return typeof e=="symbol"?e:e+""}function $xe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XN(){return XN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XN.apply(null,arguments)}function Vxe(t,e){if(t==null)return{};var r,n,i=zxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function qxe(t){var e=Xr();return O.useEffect(()=>(e(Nxe(t)),()=>{e(Txe(t))}),[t,e]),null}var Wxe=t=>{var e,{yAxisId:r,className:n,width:i,label:a}=t,s=O.useRef(null),o=O.useRef(null),l=vt(qV),c=Sa(),u=Xr(),f="yAxis",p=vt(g=>Bm(g,f,r,c)),h=vt(g=>K0e(g,r)),y=vt(g=>G0e(g,r)),m=vt(g=>jq(g,f,r,c));if(O.useLayoutEffect(()=>{var g;if(!(i!=="auto"||!h||yC(a)||O.isValidElement(a))){var v=s.current,x=v==null||(g=v.tickRefs)===null||g===void 0?void 0:g.current,{tickSize:E,tickMargin:S}=v.props,C=Fxe({ticks:x,label:o.current,labelGapWithTick:5,tickSize:E,tickMargin:S});Math.round(h.width)!==Math.round(C)&&u(Pxe({id:r,width:C}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,h==null?void 0:h.width,h,u,a,r,i]),h==null||y==null)return null;var w=Vxe(t,Bxe);return O.createElement(Ed,XN({},w,{ref:s,labelRef:o,scale:p,x:y.x,y:y.y,width:h.width,height:h.height,className:tr("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:m}))},Hxe=t=>{var e,r,n,i,a;return O.createElement(O.Fragment,null,O.createElement(qxe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter}),O.createElement(Wxe,t))},Gxe={allowDataOverflow:Da.allowDataOverflow,allowDecimals:Da.allowDecimals,allowDuplicatedCategory:Da.allowDuplicatedCategory,hide:!1,mirror:Da.mirror,orientation:Da.orientation,padding:Da.padding,reversed:Da.reversed,scale:Da.scale,tickCount:Da.tickCount,type:Da.type,width:Da.width,yAxisId:0};class k2 extends O.Component{render(){return O.createElement(Hxe,this.props)}}JW(k2,"displayName","YAxis");JW(k2,"defaultProps",Gxe);var Kxe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=O;function Yxe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xxe=typeof Object.is=="function"?Object.is:Yxe,Jxe=Ly.useSyncExternalStore,Qxe=Ly.useRef,Zxe=Ly.useEffect,e2e=Ly.useMemo,t2e=Ly.useDebugValue;Kxe.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=Qxe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=e2e(function(){function l(h){if(!c){if(c=!0,u=h,h=n(h),i!==void 0&&s.hasValue){var y=s.value;if(i(y,h))return f=y}return f=h}if(y=f,Xxe(u,h))return y;var m=n(h);return i!==void 0&&i(y,m)?(u=h,y):(u=h,f=m)}var c=!1,u,f,p=r===void 0?null:r;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,r,n,i]);var o=Jxe(t,a[0],a[1]);return Zxe(function(){s.hasValue=!0,s.value=o},[o]),t2e(o),o};function r2e(t){t()}function n2e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){r2e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var wL={notify(){},get:()=>[]};function i2e(t,e){let r,n=wL,i=0,a=!1;function s(m){u();const w=n.subscribe(m);let g=!1;return()=>{g||(g=!0,w(),f())}}function o(){n.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return a}function u(){i++,r||(r=t.subscribe(l),n=n2e())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=wL)}function p(){a||(a=!0,u())}function h(){a&&(a=!1,f())}const y={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>n};return y}var a2e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s2e=a2e(),o2e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",l2e=o2e(),c2e=()=>s2e||l2e?O.useLayoutEffect:O.useEffect,u2e=c2e(),T_=Symbol.for("react-redux-context"),P_=typeof globalThis<"u"?globalThis:{};function d2e(){if(!O.createContext)return{};const t=P_[T_]??(P_[T_]=new Map);let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var f2e=d2e();function h2e(t){const{children:e,context:r,serverState:n,store:i}=t,a=O.useMemo(()=>{const l=i2e(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=O.useMemo(()=>i.getState(),[i]);u2e(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||f2e;return O.createElement(o.Provider,{value:a},e)}var p2e=h2e,m2e=(t,e)=>e,PC=Ue([m2e,Ur,i0e,ii,Kq,Lc,Qye,ri],nve),CC=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},QW=Cs("mouseClick"),ZW=Ay();ZW.startListening({actionCreator:QW,effect:(t,e)=>{var r=t.payload,n=PC(e.getState(),CC(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(oye({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var JN=Cs("mouseMove"),eH=Ay();eH.startListening({actionCreator:JN,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=lC(n,n.tooltip.settings.shared),a=PC(n,CC(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch($q({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(Uq()))}});function g2e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var bL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},tH=Rs({name:"rootProps",initialState:bL,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:bL.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),y2e=tH.reducer,{updateOptions:v2e}=tH.actions,rH=Rs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:w2e}=rH.actions,b2e=rH.reducer,nH=Cs("keyDown"),iH=Cs("focus"),kC=Ay();kC.startListening({actionCreator:nH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(cC(i,oh(r))),o=Lc(r);if(a==="Enter"){var l=wb(r,"axis","hover",String(i.index));e.dispatch(UN({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=Q0e(r),u=c==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,p=s+f*u;if(!(o==null||p>=o.length||p<0)){var h=wb(r,"axis","hover",String(p));e.dispatch(UN({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});kC.startListening({actionCreator:iH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=wb(r,"axis","hover",String(a));e.dispatch(UN({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var fs=Cs("externalEvent"),aH=Ay();aH.startListening({actionCreator:fs,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:Vye(r),activeDataKey:Uye(r),activeIndex:lm(r),activeLabel:Jq(r),activeTooltipIndex:lm(r),isTooltipActive:zye(r)};t.payload.handler(n,t.payload.reactEvent)}}});var x2e=Ue([Um],t=>t.tooltipItemPayloads),_2e=Ue([x2e,Ry,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,r);return s}}}),sH=Cs("touchMove"),oH=Ay();oH.startListening({actionCreator:sH,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=lC(n,n.tooltip.settings.shared);if(i==="axis"){var a=PC(n,CC({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch($q({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(VV),u=(s=l.getAttribute(zV))!==null&&s!==void 0?s:void 0,f=_2e(e.getState(),c,u);e.dispatch(Bq({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}});var E2e=mV({brush:ube,cartesianAxis:Cxe,chartData:vve,graphicalItems:W1e,layout:ife,legend:zfe,options:hve,polarAxis:I1e,polarOptions:b2e,referenceElements:vbe,rootProps:y2e,tooltip:lye}),A2e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Cde({reducer:E2e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([ZW.middleware,eH.middleware,kC.middleware,aH.middleware,oH.middleware]),devTools:{serialize:{replacer:g2e},name:"recharts-".concat(r)}})};function lH(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Sa(),a=O.useRef(null);if(i)return r;a.current==null&&(a.current=A2e(e,n));var s=XT;return O.createElement(p2e,{context:s,store:a.current},r)}function cH(t){var{layout:e,width:r,height:n,margin:i}=t,a=Xr(),s=Sa();return O.useEffect(()=>{s||(a(tfe(e)),a(rfe({width:r,height:n})),a(efe(i)))},[a,s,e,r,n,i]),null}function uH(t){var e=Xr();return O.useEffect(()=>{e(v2e(t))},[e,t]),null}var S2e=["children"];function N2e(t,e){if(t==null)return{};var r,n,i=T2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function T2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Sb(){return Sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sb.apply(null,arguments)}var P2e={width:"100%",height:"100%"},C2e=O.forwardRef((t,e)=>{var r=oP(),n=lP(),i=YV();if(!nm(r)||!nm(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=t,c,u;return typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?u=s.role:u=i?"application":void 0,O.createElement(DT,Sb({},s,{title:o,desc:l,role:u,tabIndex:c,width:r,height:n,style:P2e,ref:e}),a)}),k2e=t=>{var{children:e}=t,r=vt(o2);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return O.createElement(DT,{width:n,height:i,x:s,y:a},e)},xL=O.forwardRef((t,e)=>{var{children:r}=t,n=N2e(t,S2e),i=Sa();return i?O.createElement(k2e,null,r):O.createElement(C2e,Sb({ref:e},n),r)});function I2e(){var t=Xr(),[e,r]=O.useState(null),n=vt(Ife);return O.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;wo(a)&&a!==n&&t(nfe(a))}},[e,t,n]),r}function _L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(r),!0).forEach(function(n){O2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O2e(t,e,r){return(e=R2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R2e(t){var e=L2e(t,"string");return typeof e=="symbol"?e:e+""}function L2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D2e=O.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:p,onTouchEnd:h,onTouchMove:y,onTouchStart:m,style:w,width:g}=t,v=Xr(),[x,E]=O.useState(null),[S,C]=O.useState(null);xve();var P=I2e(),k=O.useCallback(F=>{P(F),typeof e=="function"&&e(F),E(F),C(F)},[P,e,E,C]),T=O.useCallback(F=>{v(QW(F)),v(fs({handler:a,reactEvent:F}))},[v,a]),W=O.useCallback(F=>{v(JN(F)),v(fs({handler:c,reactEvent:F}))},[v,c]),M=O.useCallback(F=>{v(Uq()),v(fs({handler:u,reactEvent:F}))},[v,u]),A=O.useCallback(F=>{v(JN(F)),v(fs({handler:f,reactEvent:F}))},[v,f]),I=O.useCallback(()=>{v(iH())},[v]),L=O.useCallback(F=>{v(nH(F.key))},[v]),se=O.useCallback(F=>{v(fs({handler:s,reactEvent:F}))},[v,s]),pe=O.useCallback(F=>{v(fs({handler:o,reactEvent:F}))},[v,o]),X=O.useCallback(F=>{v(fs({handler:l,reactEvent:F}))},[v,l]),ce=O.useCallback(F=>{v(fs({handler:p,reactEvent:F}))},[v,p]),ue=O.useCallback(F=>{v(fs({handler:m,reactEvent:F}))},[v,m]),xe=O.useCallback(F=>{v(sH(F)),v(fs({handler:y,reactEvent:F}))},[v,y]),we=O.useCallback(F=>{v(fs({handler:h,reactEvent:F}))},[v,h]);return O.createElement(nW.Provider,{value:x},O.createElement(_$.Provider,{value:S},O.createElement("div",{className:tr("recharts-wrapper",n),style:j2e({position:"relative",cursor:"default",width:g,height:i},w),onClick:T,onContextMenu:se,onDoubleClick:pe,onFocus:I,onKeyDown:L,onMouseDown:X,onMouseEnter:W,onMouseLeave:M,onMouseMove:A,onMouseUp:ce,onTouchEnd:we,onTouchMove:xe,onTouchStart:ue,ref:k},r)))}),M2e=["children","className","width","height","style","compact","title","desc"];function F2e(t,e){if(t==null)return{};var r,n,i=B2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function B2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var dH=O.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:a,style:s,compact:o,title:l,desc:c}=t,u=F2e(t,M2e),f=er(u,!1);return o?O.createElement(xL,{otherAttributes:f,title:l,desc:c},r):O.createElement(D2e,{className:n,style:s,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},O.createElement(xL,{otherAttributes:f,title:l,desc:c,ref:e},O.createElement(bbe,null,r)))}),U2e=["width","height"];function QN(){return QN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QN.apply(null,arguments)}function $2e(t,e){if(t==null)return{};var r,n,i=V2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function V2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var z2e={top:5,right:5,bottom:5,left:5},q2e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:z2e,reverseStackOrder:!1,syncMethod:"index"},W2e=O.forwardRef(function(e,r){var n,i=Eo(e.categoricalChartProps,q2e),{width:a,height:s}=i,o=$2e(i,U2e);if(!nm(a)||!nm(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:p}=e,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return O.createElement(lH,{preloadedState:{options:h},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:l},O.createElement(FW,{chartData:p.data}),O.createElement(cH,{width:a,height:s,layout:i.layout,margin:i.margin}),O.createElement(uH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),O.createElement(dH,QN({},o,{width:a,height:s,ref:r})))}),H2e=["axis"],fH=O.forwardRef((t,e)=>O.createElement(W2e,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:H2e,tooltipPayloadSearcher:aW,categoricalChartProps:t,ref:e}));function G2e(t){var e=Xr();return O.useEffect(()=>{e(w2e(t))},[e,t]),null}var K2e=["width","height","layout"];function ZN(){return ZN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZN.apply(null,arguments)}function Y2e(t,e){if(t==null)return{};var r,n,i=X2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function X2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var J2e={top:5,right:5,bottom:5,left:5},Q2e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:J2e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Z2e=O.forwardRef(function(e,r){var n,i=Eo(e.categoricalChartProps,Q2e),{width:a,height:s,layout:o}=i,l=Y2e(i,K2e);if(!nm(a)||!nm(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=e,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return O.createElement(lH,{preloadedState:{options:h},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:c},O.createElement(FW,{chartData:i.data}),O.createElement(cH,{width:a,height:s,layout:o,margin:i.margin}),O.createElement(uH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),O.createElement(G2e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),O.createElement(dH,ZN({width:a,height:s},l,{ref:r})))}),e5e=["item"],t5e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},r5e=O.forwardRef((t,e)=>{var r=Eo(t,t5e);return O.createElement(Z2e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:e5e,tooltipPayloadSearcher:aW,categoricalChartProps:r,ref:e})});function n5e({data:t}){const e=r=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(r);return d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fluxo de Caixa"}),d.jsx("div",{className:"h-80",children:d.jsx(qN,{width:"100%",height:"100%",children:d.jsxs(fH,{data:t,children:[d.jsx(TC,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),d.jsx(C2,{dataKey:"month",stroke:"#6b7280",fontSize:12}),d.jsx(k2,{stroke:"#6b7280",fontSize:12,tickFormatter:e}),d.jsx(zN,{formatter:r=>[e(r),""],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #d1d5db",borderRadius:"8px"}}),d.jsx(l2,{}),d.jsx(Cf,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:3,name:"Receitas",dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10b981",strokeWidth:2}}),d.jsx(Cf,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:3,name:"Despesas",dot:{fill:"#ef4444",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#ef4444",strokeWidth:2}})]})})})]})}const hH=6048e5,i5e=864e5,EL=Symbol.for("constructDateFrom");function Is(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&EL in t?t[EL](e):t instanceof Date?new t.constructor(e):new Date(e)}function Bi(t,e){return Is(e||t,t)}function e4(t,e,r){const n=Bi(t,r==null?void 0:r.in);return isNaN(e)?Is(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function pH(t,e,r){const n=Bi(t,r==null?void 0:r.in);if(isNaN(e))return Is(t,NaN);if(!e)return n;const i=n.getDate(),a=Is(t,n.getTime());a.setMonth(n.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}let a5e={};function Dy(){return a5e}function Ju(t,e){var o,l,c,u;const r=Dy(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Bi(t,e==null?void 0:e.in),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Nb(t,e){return Ju(t,{...e,weekStartsOn:1})}function mH(t,e){const r=Bi(t,e==null?void 0:e.in),n=r.getFullYear(),i=Is(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Nb(i),s=Is(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Nb(s);return r.getTime()>=a.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function AL(t){const e=Bi(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function I2(t,...e){const r=Is.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Tb(t,e){const r=Bi(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function s5e(t,e,r){const[n,i]=I2(r==null?void 0:r.in,t,e),a=Tb(n),s=Tb(i),o=+a-AL(a),l=+s-AL(s);return Math.round((o-l)/i5e)}function o5e(t,e){const r=mH(t,e),n=Is(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Nb(n)}function gH(t,e,r){return e4(t,e*7,r)}function Ng(t,e,r){const[n,i]=I2(r==null?void 0:r.in,t,e);return+Tb(n)==+Tb(i)}function l5e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function c5e(t){return!(!l5e(t)&&typeof t!="number"||isNaN(+Bi(t)))}function SL(t,e){const r=Bi(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function u5e(t,e){const[r,n]=I2(t,e.start,e.end);return{start:r,end:n}}function NL(t,e){const{start:r,end:n}=u5e(e==null?void 0:e.in,t);let i=+r>+n;const a=i?+r:+n,s=i?n:r;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(Is(r,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function TL(t,e){const r=Bi(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function d5e(t,e){const r=Bi(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function C_(t,e){var o,l,c,u;const r=Dy(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Bi(t,e==null?void 0:e.in),a=i.getDay(),s=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const f5e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h5e=(t,e,r)=>{let n;const i=f5e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Cp(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const p5e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m5e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},g5e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},y5e={date:Cp({formats:p5e,defaultWidth:"full"}),time:Cp({formats:m5e,defaultWidth:"full"}),dateTime:Cp({formats:g5e,defaultWidth:"full"})},v5e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},w5e=(t,e,r,n)=>v5e[t];function Xo(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const b5e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},x5e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_5e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E5e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},A5e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},S5e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N5e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},T5e={ordinalNumber:N5e,era:Xo({values:b5e,defaultWidth:"wide"}),quarter:Xo({values:x5e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xo({values:_5e,defaultWidth:"wide"}),day:Xo({values:E5e,defaultWidth:"wide"}),dayPeriod:Xo({values:A5e,defaultWidth:"wide",formattingValues:S5e,defaultFormattingWidth:"wide"})};function Jo(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?C5e(o,f=>f.test(s)):P5e(o,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function P5e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function C5e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function yH(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const k5e=/^(\d+)(th|st|nd|rd)?/i,I5e=/\d+/i,j5e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},O5e={any:[/^b/i,/^(a|c)/i]},R5e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},L5e={any:[/1/i,/2/i,/3/i,/4/i]},D5e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},M5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F5e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},B5e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},U5e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$5e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},V5e={ordinalNumber:yH({matchPattern:k5e,parsePattern:I5e,valueCallback:t=>parseInt(t,10)}),era:Jo({matchPatterns:j5e,defaultMatchWidth:"wide",parsePatterns:O5e,defaultParseWidth:"any"}),quarter:Jo({matchPatterns:R5e,defaultMatchWidth:"wide",parsePatterns:L5e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jo({matchPatterns:D5e,defaultMatchWidth:"wide",parsePatterns:M5e,defaultParseWidth:"any"}),day:Jo({matchPatterns:F5e,defaultMatchWidth:"wide",parsePatterns:B5e,defaultParseWidth:"any"}),dayPeriod:Jo({matchPatterns:U5e,defaultMatchWidth:"any",parsePatterns:$5e,defaultParseWidth:"any"})},z5e={code:"en-US",formatDistance:h5e,formatLong:y5e,formatRelative:w5e,localize:T5e,match:V5e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function q5e(t,e){const r=Bi(t,e==null?void 0:e.in);return s5e(r,d5e(r))+1}function W5e(t,e){const r=Bi(t,e==null?void 0:e.in),n=+Nb(r)-+o5e(r);return Math.round(n/hH)+1}function vH(t,e){var u,f,p,h;const r=Bi(t,e==null?void 0:e.in),n=r.getFullYear(),i=Dy(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(p=i.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,s=Is((e==null?void 0:e.in)||t,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=Ju(s,e),l=Is((e==null?void 0:e.in)||t,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=Ju(l,e);return+r>=+o?n+1:+r>=+c?n:n-1}function H5e(t,e){var o,l,c,u;const r=Dy(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=vH(t,e),a=Is((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Ju(a,e)}function G5e(t,e){const r=Bi(t,e==null?void 0:e.in),n=+Ju(r,e)-+H5e(r,e);return Math.round(n/hH)+1}function fr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const gu={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return fr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):fr(r+1,2)},d(t,e){return fr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return fr(t.getHours()%12||12,e.length)},H(t,e){return fr(t.getHours(),e.length)},m(t,e){return fr(t.getMinutes(),e.length)},s(t,e){return fr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return fr(i,e.length)}},$h={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PL={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return gu.y(t,e)},Y:function(t,e,r,n){const i=vH(t,n),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return fr(s,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):fr(a,e.length)},R:function(t,e){const r=mH(t);return fr(r,e.length)},u:function(t,e){const r=t.getFullYear();return fr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return fr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return fr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return gu.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return fr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=G5e(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):fr(i,e.length)},I:function(t,e,r){const n=W5e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):fr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):gu.d(t,e)},D:function(t,e,r){const n=q5e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):fr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return fr(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return fr(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return fr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=$h.noon:n===0?i=$h.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=$h.evening:n>=12?i=$h.afternoon:n>=4?i=$h.morning:i=$h.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return gu.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):gu.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):fr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):fr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):gu.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):gu.s(t,e)},S:function(t,e){return gu.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return kL(n);case"XXXX":case"XX":return rf(n);case"XXXXX":case"XXX":default:return rf(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return kL(n);case"xxxx":case"xx":return rf(n);case"xxxxx":case"xxx":default:return rf(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+CL(n,":");case"OOOO":default:return"GMT"+rf(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+CL(n,":");case"zzzz":default:return"GMT"+rf(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return fr(n,e.length)},T:function(t,e,r){return fr(+t,e.length)}};function CL(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+fr(a,2)}function kL(t,e){return t%60===0?(t>0?"-":"+")+fr(Math.abs(t)/60,2):rf(t,e)}function rf(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=fr(Math.trunc(n/60),2),a=fr(n%60,2);return r+i+e+a}const IL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},K5e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return IL(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",IL(n,e)).replace("{{time}}",wH(i,e))},Y5e={p:wH,P:K5e},X5e=/^D+$/,J5e=/^Y+$/,Q5e=["D","DD","YY","YYYY"];function Z5e(t){return X5e.test(t)}function e_e(t){return J5e.test(t)}function t_e(t,e,r){const n=r_e(t,e,r);if(console.warn(n),Q5e.includes(t))throw new RangeError(n)}function r_e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const n_e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a_e=/^'([^]*?)'?$/,s_e=/''/g,o_e=/[a-zA-Z]/;function $r(t,e,r){var u,f,p,h,y,m,w,g;const n=Dy(),i=(r==null?void 0:r.locale)??n.locale??z5e,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((g=(w=n.locale)==null?void 0:w.options)==null?void 0:g.weekStartsOn)??0,o=Bi(t,r==null?void 0:r.in);if(!c5e(o))throw new RangeError("Invalid time value");let l=e.match(i_e).map(v=>{const x=v[0];if(x==="p"||x==="P"){const E=Y5e[x];return E(v,i.formatLong)}return v}).join("").match(n_e).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const x=v[0];if(x==="'")return{isToken:!1,value:l_e(v)};if(PL[x])return{isToken:!0,value:v};if(x.match(o_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const x=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&e_e(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Z5e(x))&&t_e(x,e,String(t));const E=PL[x[0]];return E(o,x,i.localize,c)}).join("")}function l_e(t){const e=t.match(a_e);return e?e[1].replace(s_e,"'"):t}function c_e(t,e,r){const[n,i]=I2(r==null?void 0:r.in,t,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function u_e(t,e,r){return pH(t,-e,r)}function d_e(t,e,r){return gH(t,-e,r)}const f_e={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},h_e=(t,e,r)=>{let n;const i=f_e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},p_e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},m_e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},g_e={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},y_e={date:Cp({formats:p_e,defaultWidth:"full"}),time:Cp({formats:m_e,defaultWidth:"full"}),dateTime:Cp({formats:g_e,defaultWidth:"full"})},v_e={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},w_e=(t,e,r,n)=>{const i=v_e[t];return typeof i=="function"?i(e):i},b_e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},x_e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},__e={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},E_e={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},A_e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},S_e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},N_e=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"ª":r+"º"},T_e={ordinalNumber:N_e,era:Xo({values:b_e,defaultWidth:"wide"}),quarter:Xo({values:x_e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xo({values:__e,defaultWidth:"wide"}),day:Xo({values:E_e,defaultWidth:"wide"}),dayPeriod:Xo({values:A_e,defaultWidth:"wide",formattingValues:S_e,defaultFormattingWidth:"wide"})},P_e=/^(\d+)[ºªo]?/i,C_e=/\d+/i,k_e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},I_e={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},j_e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},O_e={any:[/1/i,/2/i,/3/i,/4/i]},R_e={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},L_e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},D_e={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},M_e={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},F_e={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},B_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},U_e={ordinalNumber:yH({matchPattern:P_e,parsePattern:C_e,valueCallback:t=>parseInt(t,10)}),era:Jo({matchPatterns:k_e,defaultMatchWidth:"wide",parsePatterns:I_e,defaultParseWidth:"any"}),quarter:Jo({matchPatterns:j_e,defaultMatchWidth:"wide",parsePatterns:O_e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jo({matchPatterns:R_e,defaultMatchWidth:"wide",parsePatterns:L_e,defaultParseWidth:"any"}),day:Jo({matchPatterns:D_e,defaultMatchWidth:"wide",parsePatterns:M_e,defaultParseWidth:"any"}),dayPeriod:Jo({matchPatterns:F_e,defaultMatchWidth:"any",parsePatterns:B_e,defaultParseWidth:"any"})},Nr={code:"pt-BR",formatDistance:h_e,formatLong:y_e,formatRelative:w_e,localize:T_e,match:U_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jL({title:t,items:e,type:r}){const n=a=>$r(new Date(a),"dd/MM/yyyy",{locale:Nr}),i=a=>a;return d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t}),d.jsx("div",{className:"space-y-3",children:e.length===0?d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum item encontrado"}):e.slice(0,5).map(a=>d.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[d.jsx("div",{className:"flex-1",children:r==="events"?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium text-gray-900",children:a.title}),d.jsxs("p",{className:"text-sm text-gray-500",children:[n(a.date)," às ",i(a.time)]}),a.client&&d.jsxs("p",{className:"text-xs text-gray-400",children:["Cliente: ",a.client]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium text-gray-900",children:a.type}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",a.client]}),d.jsxs("p",{className:"text-xs text-gray-400",children:["Criado em ",n(a.createdAt)]})]})}),r==="events"&&d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a.status==="Concluído"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.status})]},a.id))})]})}class $_e{getCurrentUserId(){const e=Xi.currentUser;if(!e)throw new Error("Usuário não autenticado");return e.uid}getUserCollection(e){const r=this.getCurrentUserId();return Qd(qt,"userData",r,e)}async getProcesses(){try{return(await to(eo(this.getUserCollection("processes"),Kl("createdAt","desc")))).docs.map(r=>{var n,i,a;return{id:r.id,...r.data(),createdAt:((a=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||r.data().createdAt}})}catch(e){return console.error("Erro ao buscar processos:",e),[]}}async getProcessById(e){var r,n,i;try{const a=this.getCurrentUserId(),s=hr(qt,"userData",a,"processes",e),o=await Gi(s);if(o.exists()){const l=o.data();return{id:o.id,...l,createdAt:((i=(n=(r=l.createdAt)==null?void 0:r.toDate)==null?void 0:n.call(r))==null?void 0:i.toISOString())||l.createdAt}}return null}catch(a){return console.error("Erro ao buscar processo:",a),null}}async saveProcess(e){try{const r={...e,createdAt:Bt.now()},n=await Yl(this.getUserCollection("processes"),r);return console.log("Processo salvo no Firestore:",n.id),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("Erro ao salvar processo:",r),null}}async updateProcess(e,r){try{const n=this.getCurrentUserId(),i=hr(qt,"userData",n,"processes",e);return await Ko(i,{...r,updatedAt:Bt.now()}),console.log("Processo atualizado:",e),await this.getProcessById(e)}catch(n){return console.error("Erro ao atualizar processo:",n),null}}async deleteProcess(e){try{const r=this.getCurrentUserId(),n=hr(qt,"userData",r,"processes",e);return await bu(n),console.log("Processo excluído:",e),!0}catch(r){return console.error("Erro ao excluir processo:",r),!1}}async getEvents(){try{return(await to(eo(this.getUserCollection("events"),Kl("date","desc")))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Erro ao buscar eventos:",e),[]}}async saveEvent(e){try{const r=await Yl(this.getUserCollection("events"),e);return console.log("Evento salvo no Firestore:",r.id),{id:r.id,...e}}catch(r){return console.error("Erro ao salvar evento:",r),null}}async updateEvent(e,r){try{const n=this.getCurrentUserId(),i=hr(qt,"userData",n,"events",e);await Ko(i,r),console.log("Evento atualizado:",e);const a=await Gi(i);return a.exists()?{id:a.id,...a.data()}:null}catch(n){return console.error("Erro ao atualizar evento:",n),null}}async deleteEvent(e){try{const r=this.getCurrentUserId(),n=hr(qt,"userData",r,"events",e);return await bu(n),console.log("Evento excluído:",e),!0}catch(r){return console.error("Erro ao excluir evento:",r),!1}}async getRevenues(){try{return(await to(eo(this.getUserCollection("revenues"),Kl("date","desc")))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Erro ao buscar receitas:",e),[]}}async saveRevenue(e){try{const r=await Yl(this.getUserCollection("revenues"),e);return console.log("Receita salva no Firestore:",r.id),{id:r.id,...e}}catch(r){return console.error("Erro ao salvar receita:",r),null}}async updateRevenue(e,r){try{const n=this.getCurrentUserId(),i=hr(qt,"userData",n,"revenues",e);await Ko(i,r),console.log("Receita atualizada:",e);const a=await Gi(i);return a.exists()?{id:a.id,...a.data()}:null}catch(n){return console.error("Erro ao atualizar receita:",n),null}}async deleteRevenue(e){try{const r=this.getCurrentUserId(),n=hr(qt,"userData",r,"revenues",e);return await bu(n),console.log("Receita excluída:",e),!0}catch(r){return console.error("Erro ao excluir receita:",r),!1}}async getExpenses(){try{return(await to(eo(this.getUserCollection("expenses"),Kl("date","desc")))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Erro ao buscar despesas:",e),[]}}async saveExpense(e){try{const r=await Yl(this.getUserCollection("expenses"),e);return console.log("Despesa salva no Firestore:",r.id),{id:r.id,...e}}catch(r){return console.error("Erro ao salvar despesa:",r),null}}async updateExpense(e,r){try{const n=this.getCurrentUserId(),i=hr(qt,"userData",n,"expenses",e);await Ko(i,r),console.log("Despesa atualizada:",e);const a=await Gi(i);return a.exists()?{id:a.id,...a.data()}:null}catch(n){return console.error("Erro ao atualizar despesa:",n),null}}async deleteExpense(e){try{const r=this.getCurrentUserId(),n=hr(qt,"userData",r,"expenses",e);return await bu(n),console.log("Despesa excluída:",e),!0}catch(r){return console.error("Erro ao excluir despesa:",r),!1}}async getDocuments(){try{return(await to(eo(this.getUserCollection("documents"),Kl("createdAt","desc")))).docs.map(r=>{var n,i,a;return{id:r.id,...r.data(),createdAt:((a=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||r.data().createdAt}})}catch(e){return console.error("Erro ao buscar documentos:",e),[]}}async saveDocument(e){try{const r={...e,createdAt:Bt.now()},n=await Yl(this.getUserCollection("documents"),r);return console.log("Documento salvo no Firestore:",n.id),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("Erro ao salvar documento:",r),null}}async deleteDocument(e){try{const r=this.getCurrentUserId(),n=hr(qt,"userData",r,"documents",e);return await bu(n),console.log("Documento excluído:",e),!0}catch(r){return console.error("Erro ao excluir documento:",r),!1}}async getLawyers(){try{return(await to(eo(this.getUserCollection("lawyers"),Kl("fullName","asc")))).docs.map(r=>{var n,i,a;return{id:r.id,...r.data(),createdAt:((a=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||r.data().createdAt}})}catch(e){return console.error("Erro ao buscar advogados:",e),[]}}async saveLawyer(e){try{const r={...e,createdAt:Bt.now()},n=await Yl(this.getUserCollection("lawyers"),r);return console.log("Advogado salvo no Firestore:",n.id),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("Erro ao salvar advogado:",r),null}}async updateLawyer(e,r){var n,i,a;try{const s=this.getCurrentUserId(),o=hr(qt,"userData",s,"lawyers",e);await Ko(o,r),console.log("Advogado atualizado:",e);const l=await Gi(o);return l.exists()?{id:l.id,...l.data(),createdAt:((a=(i=(n=l.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||l.data().createdAt}:null}catch(s){return console.error("Erro ao atualizar advogado:",s),null}}async deleteLawyer(e){try{const r=this.getCurrentUserId(),n=hr(qt,"userData",r,"lawyers",e);return await bu(n),console.log("Advogado excluído:",e),!0}catch(r){return console.error("Erro ao excluir advogado:",r),!1}}async getEmployees(){try{return(await to(eo(this.getUserCollection("employees"),Kl("fullName","asc")))).docs.map(r=>{var n,i,a;return{id:r.id,...r.data(),createdAt:((a=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||r.data().createdAt}})}catch(e){return console.error("Erro ao buscar colaboradores:",e),[]}}async saveEmployee(e){try{const r={...e,createdAt:Bt.now()},n=await Yl(this.getUserCollection("employees"),r);return console.log("Colaborador salvo no Firestore:",n.id),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("Erro ao salvar colaborador:",r),null}}async updateEmployee(e,r){var n,i,a;try{const s=this.getCurrentUserId(),o=hr(qt,"userData",s,"employees",e);await Ko(o,r),console.log("Colaborador atualizado:",e);const l=await Gi(o);return l.exists()?{id:l.id,...l.data(),createdAt:((a=(i=(n=l.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||l.data().createdAt}:null}catch(s){return console.error("Erro ao atualizar colaborador:",s),null}}async deleteEmployee(e){try{const r=this.getCurrentUserId(),n=hr(qt,"userData",r,"employees",e);return await bu(n),console.log("Colaborador excluído:",e),!0}catch(r){return console.error("Erro ao excluir colaborador:",r),!1}}async getFinancialSummary(){try{const[e,r]=await Promise.all([this.getRevenues(),this.getExpenses()]),n=e.reduce((o,l)=>o+l.amount,0),i=r.reduce((o,l)=>o+l.amount,0),a=n-i,s=this.generateMonthlyData(e,r);return{totalRevenue:n,totalExpenses:i,balance:a,monthlyData:s}}catch(e){return console.error("Erro ao calcular resumo financeiro:",e),{totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]}}}generateMonthlyData(e,r){const n=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],i=new Date,a=[];for(let s=5;s>=0;s--){const o=new Date(i.getFullYear(),i.getMonth()-s,1),l=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`,c=e.filter(h=>h.date.startsWith(l)),u=r.filter(h=>h.date.startsWith(l)),f=c.reduce((h,y)=>h+y.amount,0),p=u.reduce((h,y)=>h+y.amount,0);a.push({month:n[o.getMonth()],revenue:f,expenses:p})}return a}async getGeneralStats(){try{const[e,r,n,i,a]=await Promise.all([this.getProcesses(),this.getEvents(),this.getDocuments(),this.getLawyers(),this.getEmployees()]);return{totalProcesses:e.length,activeProcesses:e.filter(s=>s.status==="Em andamento").length,completedProcesses:e.filter(s=>s.status==="Concluído").length,totalEvents:r.length,pendingEvents:r.filter(s=>s.status==="Pendente").length,completedEvents:r.filter(s=>s.status==="Concluído").length,totalDocuments:n.length,totalLawyers:i.length,activeLawyers:i.filter(s=>s.status==="Ativo").length,totalEmployees:a.length,activeEmployees:a.filter(s=>s.status==="Ativo").length}}catch(e){return console.error("Erro ao calcular estatísticas:",e),{totalProcesses:0,activeProcesses:0,completedProcesses:0,totalEvents:0,pendingEvents:0,completedEvents:0,totalDocuments:0,totalLawyers:0,activeLawyers:0,totalEmployees:0,activeEmployees:0}}}}const rt=new $_e;function OL(){const[t,e]=O.useState([]),[r,n]=O.useState([]),[i,a]=O.useState([]),[s,o]=O.useState({totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]}),[l,c]=O.useState(!0),u=Cm.getCurrentUser();O.useEffect(()=>{f()},[]);const f=async()=>{try{c(!0);const[w,g,v,x]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getDocuments(),rt.getFinancialSummary()]);e(w),n(g),a(v),o(x),console.log("Dados do dashboard carregados do Firestore:",{processes:w.length,events:g.length,documents:v.length,financialSummary:x})}catch(w){console.error("Erro ao carregar dados do dashboard:",w),e([]),n([]),a([]),o({totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]})}finally{c(!1)}};if(O.useEffect(()=>{const w=setInterval(f,12e4);return()=>clearInterval(w)},[]),l)return d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Carregando dashboard..."})]})})});const p=t.filter(w=>w.status==="Em andamento").length,h=t.filter(w=>w.status==="Concluído").length,y=r.filter(w=>w.status==="Pendente").length,m=i.length;return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Bem-vindo",u?`, ${u.officeName}`:"","!"]}),d.jsx("p",{className:"text-gray-600",children:"Visão geral do seu escritório de advocacia"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(i_,{title:"Receitas do Mês",amount:s.totalRevenue,type:"revenue",change:12.5}),d.jsx(i_,{title:"Despesas do Mês",amount:s.totalExpenses,type:"expense",change:-3.2}),d.jsx(i_,{title:"Saldo Atual",amount:s.balance,type:"balance",change:18.7})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsx(Mv,{title:"Processos Ativos",value:p,icon:Nx,color:"bg-blue-500",description:"Em andamento"}),d.jsx(Mv,{title:"Processos Concluídos",value:h,icon:Ec,color:"bg-green-500",description:"Este mês"}),d.jsx(Mv,{title:"Próximos Compromissos",value:y,icon:Sx,color:"bg-amber-500",description:"Próximos 7 dias"}),d.jsx(Mv,{title:"Documentos Emitidos",value:m,icon:jm,color:"bg-purple-500",description:"Este mês"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(n5e,{data:s.monthlyData}),d.jsxs("div",{className:"space-y-6",children:[d.jsx(jL,{title:"Próximos Compromissos",items:r.filter(w=>w.status==="Pendente").slice(0,5),type:"events"}),d.jsx(jL,{title:"Documentos Recentes",items:i.slice(0,5),type:"documents"})]})]})]})}function V_e({onNewProcess:t,onViewProcess:e,onEditProcess:r}){const[n,i]=O.useState([]),[a,s]=O.useState(""),[o,l]=O.useState("all"),[c,u]=O.useState(!0);O.useEffect(()=>{f()},[]);const f=async()=>{try{u(!0);const m=await rt.getProcesses();i(m),console.log(`${m.length} processos carregados`)}catch(m){console.error("Erro ao carregar processos:",m),alert("Erro ao carregar processos. Tente recarregar a página.")}finally{u(!1)}},p=async m=>{if(confirm("Tem certeza que deseja excluir este processo?"))try{await rt.deleteProcess(m)&&await f()}catch(w){console.error("Erro ao excluir processo:",w),alert("Erro ao excluir processo. Tente novamente.")}},h=n.filter(m=>{const w=m.name.toLowerCase().includes(a.toLowerCase())||m.client.toLowerCase().includes(a.toLowerCase())||m.processNumber.toLowerCase().includes(a.toLowerCase()),g=o==="all"||m.status===o;return w&&g}),y=m=>$r(new Date(m),"dd/MM/yyyy",{locale:Nr});return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Processos Jurídicos"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie todos os processos do escritório"})]}),d.jsxs("button",{onClick:t,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Zo,{className:"w-5 h-5 mr-2"}),"Novo Processo"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(PT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar por nome, cliente ou número do processo...",value:a,onChange:m=>s(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Tx,{className:"w-5 h-5 text-gray-400"}),d.jsxs("select",{value:o,onChange:m=>l(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Todos os Status"}),d.jsx("option",{value:"Em andamento",children:"Em andamento"}),d.jsx("option",{value:"Concluído",children:"Concluído"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Processo"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advogado"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Início"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(m=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name}),d.jsx("div",{className:"text-sm text-gray-500",children:m.processNumber})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.client}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.jsx("div",{children:m.responsibleLawyers&&m.responsibleLawyers.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"font-medium",children:m.responsibleLawyers[0]}),m.responsibleLawyers.length>1&&d.jsxs("div",{className:"text-xs text-gray-500",children:["+",m.responsibleLawyers.length-1," outros"]})]}):d.jsx("span",{className:"text-gray-400",children:"Não definido"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y(m.startDate)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.status==="Em andamento"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:m.status})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsx("button",{onClick:()=>e(m),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Visualizar",children:d.jsx(dl,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>r(m),className:"text-amber-600 hover:text-amber-900 p-1 rounded hover:bg-amber-50",title:"Editar",children:d.jsx(ta,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>p(m.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Excluir",children:d.jsx(_s,{className:"w-4 h-4"})})]})})]},m.id))})]})}),c?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"Carregando processos..."})}):h.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:n.length===0?'Nenhum processo cadastrado. Clique em "Novo Processo" para começar.':"Nenhum processo encontrado com os filtros aplicados."})}):null]})]})}const z_e=js({name:lt().required("Nome do processo é obrigatório"),processNumber:lt().required("Número do processo é obrigatório"),client:lt().required("Cliente é obrigatório"),opposingParty:lt(),court:lt().required("Fórum/Comarca é obrigatório"),responsibleLawyers:Im().min(1,"Pelo menos um advogado responsável é obrigatório"),startDate:lt().required("Data de início é obrigatória"),status:lt().required("Status é obrigatório"),description:lt().required("Descrição é obrigatória"),notes:lt()});function q_e({process:t,onBack:e,onSave:r}){const[n,i]=O.useState((t==null?void 0:t.attachments)||[]),[a,s]=O.useState((t==null?void 0:t.responsibleLawyers)||[]),[o,l]=O.useState([]),[c,u]=O.useState(!1),[f,p]=O.useState(!0),{register:h,handleSubmit:y,formState:{errors:m},setValue:w}=bl({resolver:xl(z_e),defaultValues:t||{status:"Em andamento"}});O.useEffect(()=>{g(),t&&(Object.keys(t).forEach(C=>{w(C,t[C])}),i(t.attachments||[]),s(t.responsibleLawyers||[]))},[t,w]);const g=async()=>{try{p(!0);const P=(await rt.getLawyers()).filter(k=>k.status==="Ativo");l(P)}catch(C){console.error("Erro ao carregar advogados:",C),alert("Erro ao carregar lista de advogados.")}finally{p(!1)}},v=C=>{s(P=>P.includes(C)?P.filter(k=>k!==C):[...P,C])},x=async C=>{if(!c)try{if(u(!0),t){const P=await rt.updateProcess(t.id,{...C,attachments:n,responsibleLawyers:a});P?(console.log("Processo atualizado com sucesso"),r(P)):alert("Erro ao atualizar processo")}else{const P=await rt.saveProcess({...C,attachments:n,responsibleLawyers:a});console.log("Novo processo criado com sucesso"),r(P)}}catch(P){console.error("Erro ao salvar processo:",P),alert("Erro ao salvar processo. Tente novamente.")}finally{u(!1)}},E=()=>{const C=prompt("Nome do arquivo anexado:");C&&C.trim()&&i([...n,C.trim()])},S=C=>{i(n.filter((P,k)=>k!==C))};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:c,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Processo":"Novo Processo"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do processo":"Cadastre um novo processo jurídico"})]})]}),d.jsx("form",{onSubmit:y(x),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Processo *"}),d.jsx("input",{...h("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Execução Fiscal – José Santos",disabled:c}),m.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do Processo *"}),d.jsx("input",{...h("processNumber"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0001234-56.2023.8.02.0001",disabled:c}),m.processNumber&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.processNumber.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),d.jsx("input",{...h("client"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do cliente",disabled:c}),m.client&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.client.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parte Contrária"}),d.jsx("input",{...h("opposingParty"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome da parte contrária",disabled:c})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fórum/Comarca e Vara *"}),d.jsx("input",{...h("court"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Comarca de São Paulo - 1ª Vara Cível",disabled:c}),m.court&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.court.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advogados Responsáveis *"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto",children:f?d.jsx("p",{className:"text-gray-500 text-sm",children:"Carregando advogados..."}):o.length>0?d.jsx("div",{className:"space-y-2",children:o.map(C=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:a.includes(C.fullName),onChange:()=>v(C.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:c}),d.jsxs("span",{className:"text-sm text-gray-700",children:[C.fullName," - OAB: ",C.oab]})]},C.id))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum advogado disponível"})}),a.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Selecionados:"}),d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.map((C,P)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[C,d.jsx("button",{type:"button",onClick:()=>v(C),className:"ml-1 text-blue-600 hover:text-blue-800",disabled:c,children:d.jsx(vo,{className:"w-3 h-3"})})]},P))})]}),a.length===0&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Pelo menos um advogado responsável é obrigatório"}),o.length===0&&!f&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:'Nenhum advogado ativo encontrado. Cadastre advogados na aba "Advogados".'})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Início *"}),d.jsx("input",{...h("startDate"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c}),m.startDate&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.startDate.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),d.jsxs("select",{...h("status"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c,children:[d.jsx("option",{value:"Em andamento",children:"Em andamento"}),d.jsx("option",{value:"Concluído",children:"Concluído"})]}),m.status&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.status.message})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalhes do Caso"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição Principal *"}),d.jsx("textarea",{...h("description"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descreva os detalhes principais do caso...",disabled:c}),m.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.description.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Anotações Complementares"}),d.jsx("textarea",{...h("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observações adicionais...",disabled:c})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentos Anexos"}),d.jsxs("button",{type:"button",onClick:E,className:"flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:c,children:[d.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),n.length>0?d.jsx("div",{className:"space-y-2",children:n.map((C,P)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsx("span",{className:"text-sm text-gray-700",children:C}),d.jsx("button",{type:"button",onClick:()=>S(P),className:"text-red-600 hover:text-red-800 disabled:opacity-50",disabled:c,children:d.jsx(vo,{className:"w-4 h-4"})})]},P))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum documento anexado"})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",disabled:c,children:"Cancelar"}),d.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:c,children:[c?"Salvando...":t?"Atualizar":"Salvar"," Processo"]})]})]})})]})}function W_e({process:t,onBack:e,onEdit:r,onUpdate:n}){const[i,a]=O.useState(!1),s=l=>$r(new Date(l),"dd/MM/yyyy",{locale:Nr}),o=async()=>{if(confirm("Tem certeza que deseja marcar este processo como concluído?"))try{a(!0);const l=await rt.updateProcess(t.id,{status:"Concluído"});l&&n&&n(l)}catch(l){console.error("Erro ao atualizar status do processo:",l),alert("Erro ao atualizar processo. Tente novamente.")}finally{a(!1)}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:i,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsx("p",{className:"text-gray-600",children:"Visualização detalhada do processo"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[t.status==="Em andamento"&&d.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",disabled:i,children:[d.jsx(Ec,{className:"w-5 h-5 mr-2"}),i?"Atualizando...":"Marcar como Concluído"]}),d.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",disabled:i,children:[d.jsx(ta,{className:"w-5 h-5 mr-2"}),"Editar"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Processo"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Número do Processo"}),d.jsx("p",{className:"text-gray-900 font-mono",children:t.processNumber})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Status"}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${t.status==="Em andamento"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.status})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cliente"}),d.jsx("p",{className:"text-gray-900",children:t.client})]}),t.opposingParty&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Parte Contrária"}),d.jsx("p",{className:"text-gray-900",children:t.opposingParty})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Fórum/Comarca"}),d.jsx("p",{className:"text-gray-900",children:t.court})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Advogados Responsáveis"}),d.jsx("div",{children:t.responsibleLawyers&&t.responsibleLawyers.length>0?d.jsx("div",{className:"flex flex-wrap gap-1",children:t.responsibleLawyers.map((l,c)=>d.jsx("span",{className:"inline-flex px-2 py-1 text-sm bg-blue-100 text-blue-800 rounded-full",children:l},c))}):d.jsx("p",{className:"text-gray-400",children:"Não definido"})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Início"}),d.jsx("p",{className:"text-gray-900",children:s(t.startDate)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Criação"}),d.jsx("p",{className:"text-gray-900",children:s(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Descrição do Caso"}),d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.description})})]}),t.notes&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Anotações Complementares"}),d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.notes})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentos Anexos"}),t.attachments&&t.attachments.length>0?d.jsx("div",{className:"space-y-3",children:t.attachments.map((l,c)=>d.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Tle,{className:"w-5 h-5 text-gray-400 mr-3"}),d.jsx("span",{className:"text-gray-900",children:l})]},c))}):d.jsx("p",{className:"text-gray-500",children:"Nenhum documento anexado"})]})]})]})}const H_e=js({title:lt().required("Título é obrigatório"),date:lt().required("Data é obrigatória"),time:lt().required("Horário é obrigatório"),client:lt(),type:lt().required("Tipo é obrigatório"),location:lt(),notes:lt(),lawyers:Im().min(1,"Pelo menos um advogado é obrigatório"),processNumber:lt(),priority:lt()});function G_e({event:t,selectedDate:e,onBack:r,onSave:n}){const[i,a]=br.useState([]),[s,o]=br.useState((t==null?void 0:t.lawyers)||[]),[l,c]=br.useState([]),[u,f]=br.useState(!0),{register:p,handleSubmit:h,formState:{errors:y},setValue:m,watch:w}=bl({resolver:xl(H_e),defaultValues:t||{type:"Reunião com Cliente",status:"Pendente",priority:"Média"}}),g=w("processNumber");O.useEffect(()=>{v()},[]),O.useEffect(()=>{t?(Object.keys(t).forEach(S=>{m(S,t[S])}),o(t.lawyers||[])):e&&m("date",$r(e,"yyyy-MM-dd"))},[t,e,m]);const v=async()=>{try{f(!0);const[S,C]=await Promise.all([rt.getLawyers(),rt.getProcesses()]),P=S.filter(k=>k.status==="Ativo");a(P),c(C),console.log(`${P.length} advogados ativos carregados do Firestore`),console.log(`${C.length} processos carregados do Firestore`)}catch(S){console.error("Erro ao carregar dados:",S)}finally{f(!1)}};O.useEffect(()=>{if(g){const S=l.find(C=>C.processNumber===g);S&&(m("client",S.client),S.responsibleLawyers&&o(S.responsibleLawyers))}},[g,l,m]);const x=S=>{o(C=>C.includes(S)?C.filter(P=>P!==S):[...C,S])},E=S=>{const C={id:(t==null?void 0:t.id)||Date.now().toString(),status:"Pendente",lawyers:s,...S};n(C)};return u?d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Carregando dados..."})]})})}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:r,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Evento":"Novo Evento"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do evento":"Cadastre um novo evento na agenda"})]})]}),d.jsx("form",{onSubmit:h(E),className:"max-w-2xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título do Evento *"}),d.jsx("input",{...p("title"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Audiência - João Silva"}),y.title&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.title.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...p("date"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.date.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horário *"}),d.jsx("input",{...p("time"),type:"time",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.time&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.time.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do Processo"}),d.jsxs("select",{...p("processNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Selecione um processo (opcional)"}),l.map(S=>d.jsxs("option",{value:S.processNumber,children:[S.processNumber," - ",S.name]},S.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente"}),d.jsx("input",{...p("client"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do cliente (opcional)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Compromisso *"}),d.jsxs("select",{...p("type"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"Audiência",children:"Audiência"}),d.jsx("option",{value:"Reunião com Cliente",children:"Reunião com Cliente"}),d.jsx("option",{value:"Prazo Processual",children:"Prazo Processual"}),d.jsx("option",{value:"Prazo Interno",children:"Prazo Interno"}),d.jsx("option",{value:"Ligação Importante",children:"Ligação Importante"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),y.type&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),d.jsxs("select",{...p("priority"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"Baixa",children:"Baixa"}),d.jsx("option",{value:"Média",children:"Média"}),d.jsx("option",{value:"Alta",children:"Alta"}),d.jsx("option",{value:"Urgente",children:"Urgente"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Local"}),d.jsx("input",{...p("location"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Fórum Central - Sala 205"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advogados Responsáveis *"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto",children:i.length>0?d.jsx("div",{className:"space-y-2",children:i.map(S=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:s.includes(S.fullName),onChange:()=>x(S.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[S.fullName," - OAB: ",S.oab]})]},S.id))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum advogado disponível"})}),s.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Selecionados:"}),d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:s.map((S,C)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[S,d.jsx("button",{type:"button",onClick:()=>x(S),className:"ml-1 text-blue-600 hover:text-blue-800",children:d.jsx(vo,{className:"w-3 h-3"})})]},C))})]}),s.length===0&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Pelo menos um advogado é obrigatório"}),i.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:'Nenhum advogado ativo encontrado. Cadastre advogados na aba "Advogados".'})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),d.jsx("textarea",{...p("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observações adicionais sobre o evento..."})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t?"Atualizar":"Salvar"," Evento"]})]})]})})]})}const RL={Audiência:{color:"bg-red-100 text-red-800",icon:p$,iconColor:"text-red-600"},"Reunião com Cliente":{color:"bg-blue-100 text-blue-800",icon:Cx,iconColor:"text-blue-600"},"Prazo Processual":{color:"bg-amber-100 text-amber-800",icon:Jp,iconColor:"text-amber-600"},"Prazo Interno":{color:"bg-orange-100 text-orange-800",icon:Vf,iconColor:"text-orange-600"},"Ligação Importante":{color:"bg-green-100 text-green-800",icon:Px,iconColor:"text-green-600"},Outro:{color:"bg-gray-100 text-gray-800",icon:jm,iconColor:"text-gray-600"}},K_e={Baixa:"bg-green-100 text-green-800",Média:"bg-yellow-100 text-yellow-800",Alta:"bg-orange-100 text-orange-800",Urgente:"bg-red-100 text-red-800"};function Y_e({event:t,onBack:e,onEdit:r,onDelete:n,onUpdate:i}){const a=f=>$r(new Date(f),"dd/MM/yyyy",{locale:Nr}),s=f=>f,o=async()=>{if(confirm("Tem certeza que deseja marcar este evento como concluído?"))try{const f=await rt.updateEvent(t.id,{status:"Concluído"});f&&i&&i(f)}catch(f){console.error("Erro ao atualizar status do evento:",f),alert("Erro ao atualizar evento. Tente novamente.")}},l=async()=>{if(confirm("Tem certeza que deseja marcar este evento como pendente?"))try{const f=await rt.updateEvent(t.id,{status:"Pendente"});f&&i&&i(f)}catch(f){console.error("Erro ao atualizar status do evento:",f),alert("Erro ao atualizar evento. Tente novamente.")}},c=RL[t.type]||RL.Outro,u=c.icon;return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(u,{className:`w-8 h-8 ${c.iconColor}`}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.title})]}),d.jsx("p",{className:"text-gray-600",children:"Detalhes do compromisso"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[t.status==="Pendente"?d.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(Ec,{className:"w-5 h-5 mr-2"}),"Marcar como Concluído"]}):d.jsxs("button",{onClick:l,className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[d.jsx(Vf,{className:"w-5 h-5 mr-2"}),"Marcar como Pendente"]}),d.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(ta,{className:"w-5 h-5 mr-2"}),"Remarcar"]}),d.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(_s,{className:"w-5 h-5 mr-2"}),"Excluir"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Evento"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data"}),d.jsx("p",{className:"text-gray-900 font-medium",children:a(t.date)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Horário"}),d.jsx("p",{className:"text-gray-900 font-medium",children:s(t.time)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Tipo"}),d.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-sm font-semibold rounded-full ${c.color}`,children:[d.jsx(u,{className:`w-4 h-4 mr-2 ${c.iconColor}`}),t.type]})]}),t.priority&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Prioridade"}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${K_e[t.priority]}`,children:t.priority})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Status"}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${t.status==="Concluído"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.status})]}),t.client&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cliente"}),d.jsx("p",{className:"text-gray-900",children:t.client})]}),t.processNumber&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Número do Processo"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Nx,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900 font-mono",children:t.processNumber})]})]}),t.location&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Local"}),d.jsx("p",{className:"text-gray-900",children:t.location})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Advogados Responsáveis"}),d.jsx("div",{children:t.lawyers&&t.lawyers.length>0?d.jsx("div",{className:"flex flex-wrap gap-1",children:t.lawyers.map((f,p)=>d.jsx("span",{className:"inline-flex px-2 py-1 text-sm bg-blue-100 text-blue-800 rounded-full",children:f},p))}):d.jsx("p",{className:"text-gray-400",children:"Não definido"})})]})]})]}),t.notes&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Observações"}),d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.notes})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ações Rápidas"}),d.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.status==="Pendente"?d.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(Ec,{className:"w-4 h-4 mr-2"}),"Marcar como Concluído"]}):d.jsxs("button",{onClick:l,className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[d.jsx(Vf,{className:"w-4 h-4 mr-2"}),"Marcar como Pendente"]}),d.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(ta,{className:"w-4 h-4 mr-2"}),"Remarcar Evento"]}),d.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(_s,{className:"w-4 h-4 mr-2"}),"Excluir Evento"]})]})]})]})]})}const yu={Audiência:{color:"bg-red-100 text-red-700 border-red-200",hoverColor:"hover:bg-red-200",icon:p$,iconColor:"text-red-600"},"Reunião com Cliente":{color:"bg-blue-100 text-blue-700 border-blue-200",hoverColor:"hover:bg-blue-200",icon:Cx,iconColor:"text-blue-600"},"Prazo Processual":{color:"bg-amber-100 text-amber-700 border-amber-200",hoverColor:"hover:bg-amber-200",icon:Jp,iconColor:"text-amber-600"},"Prazo Interno":{color:"bg-orange-100 text-orange-700 border-orange-200",hoverColor:"hover:bg-orange-200",icon:Vf,iconColor:"text-orange-600"},"Ligação Importante":{color:"bg-green-100 text-green-700 border-green-200",hoverColor:"hover:bg-green-200",icon:Px,iconColor:"text-green-600"},Outro:{color:"bg-gray-100 text-gray-700 border-gray-200",hoverColor:"hover:bg-gray-200",icon:jm,iconColor:"text-gray-600"}},Jv={Baixa:"border-l-4 border-l-green-400",Média:"border-l-4 border-l-yellow-400",Alta:"border-l-4 border-l-orange-400",Urgente:"border-l-4 border-l-red-500"};function X_e({quickActionType:t,onClearQuickAction:e}){const[r,n]=O.useState([]),[i,a]=O.useState(new Date),[s,o]=O.useState("month"),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[p,h]=O.useState(null),[y,m]=O.useState(null),[w,g]=O.useState(!0),[v,x]=O.useState(!1),[E,S]=O.useState({client:"",processNumber:"",lawyer:"",type:"",priority:"",status:""});O.useEffect(()=>{C()},[]),O.useEffect(()=>{t==="event"&&(c(!0),h(null),e())},[t,e]);const C=async()=>{try{g(!0);const Q=await rt.getEvents();n(Q),console.log(`${Q.length} eventos carregados`)}catch(Q){console.error("Erro ao carregar eventos:",Q),n([])}finally{g(!1)}};TL(i),SL(i);const k=(()=>{switch(s){case"week":const Q=Ju(i,{locale:Nr}),$=C_(i,{locale:Nr});return NL({start:Q,end:$});case"day":return[i];default:const V=TL(i),te=SL(i),ae=Ju(V,{locale:Nr}),Z=C_(te,{locale:Nr});return NL({start:ae,end:Z})}})(),T=Q=>{switch(s){case"week":const $=Ju(Q,{locale:Nr}),V=C_(Q,{locale:Nr});return $.getMonth()===V.getMonth()?$r($,"MMMM yyyy",{locale:Nr}):`${$r($,"MMM",{locale:Nr})} - ${$r(V,"MMM yyyy",{locale:Nr})}`;case"day":return $r(Q,"dd 'de' MMMM 'de' yyyy",{locale:Nr});default:return $r(Q,"MMMM yyyy",{locale:Nr})}},W=()=>r.filter(Q=>{var $,V;return!(E.client&&!(($=Q.client)!=null&&$.toLowerCase().includes(E.client.toLowerCase()))||E.processNumber&&!((V=Q.processNumber)!=null&&V.toLowerCase().includes(E.processNumber.toLowerCase()))||E.lawyer&&!Q.lawyers.some(te=>te.toLowerCase().includes(E.lawyer.toLowerCase()))||E.type&&Q.type!==E.type||E.priority&&Q.priority!==E.priority||E.status&&Q.status!==E.status)}),M=Q=>W().filter(V=>Ng(new Date(V.date),Q)),A=()=>{S({client:"",processNumber:"",lawyer:"",type:"",priority:"",status:""})},I=Object.values(E).some(Q=>Q!==""),L=[...new Set(r.map(Q=>Q.client).filter(Boolean))],se=[...new Set(r.map(Q=>Q.processNumber).filter(Boolean))],pe=[...new Set(r.flatMap(Q=>Q.lawyers))],X=Q=>{m(Q||null),h(null),c(!0),f(!1)},ce=Q=>{h(Q),f(!0),c(!1)},ue=Q=>{h(Q),c(!0),f(!1)},xe=async Q=>{try{p?await rt.updateEvent(p.id,Q)&&(console.log("Evento atualizado com sucesso"),await C()):await rt.saveEvent(Q)&&(console.log("Novo evento criado com sucesso"),await C()),c(!1),f(!1),h(null),m(null)}catch($){console.error("Erro ao salvar evento:",$),alert("Erro ao salvar evento. Tente novamente.")}},we=async Q=>{if(confirm("Tem certeza que deseja excluir este evento?"))try{await rt.deleteEvent(Q)&&(await C(),f(!1),h(null))}catch($){console.error("Erro ao excluir evento:",$),alert("Erro ao excluir evento. Tente novamente.")}},F=()=>{c(!1),f(!1),h(null),m(null)},J=()=>{switch(s){case"week":a(d_e(i,1));break;case"day":a(e4(i,-1));break;default:a(u_e(i,1));break}},ie=()=>{switch(s){case"week":a(gH(i,1));break;case"day":a(e4(i,1));break;default:a(pH(i,1));break}},fe=()=>{a(new Date)};return l?d.jsx(G_e,{event:p,selectedDate:y,onBack:F,onSave:xe}):u&&p?d.jsx(Y_e,{event:p,onBack:F,onEdit:()=>ue(p),onDelete:()=>we(p.id),onUpdate:async Q=>{h(Q),await C()}}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agenda"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie compromissos e eventos"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:()=>x(!v),className:`flex items-center px-4 py-2 rounded-lg transition-colors ${v||I?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(Tx,{className:"w-5 h-5 mr-2"}),"Filtros",I&&d.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Object.values(E).filter(Q=>Q!=="").length})]}),d.jsxs("button",{onClick:()=>X(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Zo,{className:"w-5 h-5 mr-2"}),"Novo Evento"]})]})]}),v&&d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros Inteligentes"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[I&&d.jsxs("button",{onClick:A,className:"text-sm text-gray-600 hover:text-gray-900 flex items-center",children:[d.jsx(vo,{className:"w-4 h-4 mr-1"}),"Limpar Filtros"]}),d.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(vo,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),d.jsxs("select",{value:E.client,onChange:Q=>S({...E,client:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todos os clientes"}),L.map(Q=>d.jsx("option",{value:Q,children:Q},Q))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número do Processo"}),d.jsxs("select",{value:E.processNumber,onChange:Q=>S({...E,processNumber:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todos os processos"}),se.map(Q=>d.jsx("option",{value:Q,children:Q},Q))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Advogado Responsável"}),d.jsxs("select",{value:E.lawyer,onChange:Q=>S({...E,lawyer:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todos os advogados"}),pe.map(Q=>d.jsx("option",{value:Q,children:Q},Q))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Evento"}),d.jsxs("select",{value:E.type,onChange:Q=>S({...E,type:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todos os tipos"}),Object.keys(yu).map(Q=>d.jsx("option",{value:Q,children:Q},Q))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),d.jsxs("select",{value:E.priority,onChange:Q=>S({...E,priority:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todas as prioridades"}),d.jsx("option",{value:"Baixa",children:"Baixa"}),d.jsx("option",{value:"Média",children:"Média"}),d.jsx("option",{value:"Alta",children:"Alta"}),d.jsx("option",{value:"Urgente",children:"Urgente"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),d.jsxs("select",{value:E.status,onChange:Q=>S({...E,status:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todos os status"}),d.jsx("option",{value:"Pendente",children:"Pendente"}),d.jsx("option",{value:"Concluído",children:"Concluído"})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Legenda de Tipos de Evento"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:Object.entries(yu).map(([Q,$])=>{const V=$.icon;return d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(V,{className:`w-4 h-4 ${$.iconColor}`}),d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${$.color}`,children:Q})]},Q)})})]}),d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>o("month"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s==="month"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:"Mês"}),d.jsx("button",{onClick:()=>o("week"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s==="week"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:"Semana"}),d.jsx("button",{onClick:()=>o("day"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s==="day"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:"Dia"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:J,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:d.jsx(ple,{className:"w-5 h-5"})}),d.jsx("button",{onClick:fe,className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",children:"Hoje"}),d.jsx("h2",{className:"text-lg font-semibold text-gray-900 capitalize",children:T(i)}),d.jsx("button",{onClick:ie,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:d.jsx(gle,{className:"w-5 h-5"})})]})]}),w&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando eventos..."})]}),!w&&d.jsxs(d.Fragment,{children:[s==="month"&&d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsx("div",{className:"grid grid-cols-7 bg-gray-50",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(Q=>d.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500",children:Q},Q))}),d.jsx("div",{className:"grid grid-cols-7 divide-x divide-y divide-gray-200",children:k.map(Q=>{const $=M(Q),V=c_e(Q,i),te=Ng(Q,new Date);return d.jsxs("div",{className:`min-h-32 p-2 group ${V?"bg-white":"bg-gray-50"} hover:bg-gray-50 transition-colors`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:`text-sm font-medium ${te?"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center":V?"text-gray-900":"text-gray-400"}`,children:$r(Q,"d")}),d.jsx("button",{onClick:()=>X(Q),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-blue-600 transition-all",title:"Adicionar evento",children:d.jsx(Zo,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"space-y-1",children:[$.slice(0,3).map(ae=>{const Z=yu[ae.type]||yu.Outro,ee=Z.icon,_e=ae.priority?Jv[ae.priority]:"";return d.jsxs("div",{className:`text-xs p-2 rounded border cursor-pointer group ${Z.color} ${Z.hoverColor} ${_e}`,title:`${ae.title} - ${ae.time}`,onClick:()=>ce(ae),children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center space-x-1 flex-1 min-w-0",children:[d.jsx(ee,{className:`w-3 h-3 ${Z.iconColor} flex-shrink-0`}),d.jsx("span",{className:"truncate font-medium",children:ae.title})]}),d.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-1",children:[d.jsx("button",{onClick:H=>{H.stopPropagation(),ce(ae)},className:`${Z.iconColor} hover:opacity-75`,children:d.jsx(dl,{className:"w-3 h-3"})}),d.jsx("button",{onClick:H=>{H.stopPropagation(),ue(ae)},className:`${Z.iconColor} hover:opacity-75`,children:d.jsx(ta,{className:"w-3 h-3"})}),d.jsx("button",{onClick:H=>{H.stopPropagation(),we(ae.id)},className:"text-red-500 hover:text-red-700",children:d.jsx(_s,{className:"w-3 h-3"})})]})]}),d.jsxs("div",{className:"text-xs opacity-75",children:[ae.time,ae.client&&d.jsxs("span",{className:"ml-1",children:["• ",ae.client]})]})]},ae.id)}),$.length>3&&d.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",$.length-3," mais"]})]})]},Q.toISOString())})})]}),s==="week"&&d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsx("div",{className:"grid grid-cols-7 bg-gray-50",children:k.map(Q=>d.jsxs("div",{className:"p-4 text-center",children:[d.jsx("div",{className:"text-sm font-medium text-gray-500",children:$r(Q,"EEE",{locale:Nr})}),d.jsx("div",{className:`text-lg font-semibold mt-1 ${Ng(Q,new Date)?"bg-blue-600 text-white w-8 h-8 rounded-full flex items-center justify-center mx-auto":"text-gray-900"}`,children:$r(Q,"d")})]},Q.toISOString()))}),d.jsx("div",{className:"grid grid-cols-7 divide-x divide-gray-200 min-h-96",children:k.map(Q=>{const $=M(Q),V=Ng(Q,new Date);return d.jsxs("div",{className:`p-3 group ${V?"bg-blue-50":"bg-white"} hover:bg-gray-50 transition-colors`,children:[d.jsx("div",{className:"flex justify-end mb-2",children:d.jsx("button",{onClick:()=>X(Q),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-blue-600 transition-all",title:"Adicionar evento",children:d.jsx(Zo,{className:"w-4 h-4"})})}),d.jsx("div",{className:"space-y-2",children:$.map(te=>{const ae=yu[te.type]||yu.Outro,Z=ae.icon,ee=te.priority?Jv[te.priority]:"";return d.jsxs("div",{className:`text-sm p-2 rounded border cursor-pointer group ${ae.color} ${ae.hoverColor} ${ee}`,title:`${te.title} - ${te.time}`,onClick:()=>ce(te),children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center space-x-1 flex-1 min-w-0",children:[d.jsx(Z,{className:`w-3 h-3 ${ae.iconColor} flex-shrink-0`}),d.jsx("span",{className:"truncate font-medium",children:te.title})]}),d.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-1",children:[d.jsx("button",{onClick:_e=>{_e.stopPropagation(),ce(te)},className:`${ae.iconColor} hover:opacity-75`,children:d.jsx(dl,{className:"w-3 h-3"})}),d.jsx("button",{onClick:_e=>{_e.stopPropagation(),ue(te)},className:`${ae.iconColor} hover:opacity-75`,children:d.jsx(ta,{className:"w-3 h-3"})}),d.jsx("button",{onClick:_e=>{_e.stopPropagation(),we(te.id)},className:"text-red-500 hover:text-red-700",children:d.jsx(_s,{className:"w-3 h-3"})})]})]}),d.jsxs("div",{className:"text-xs opacity-75",children:[te.time,te.client&&d.jsxs("span",{className:"ml-1",children:["• ",te.client]})]})]},te.id)})})]},Q.toISOString())})})]}),s==="day"&&d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsxs("div",{className:"bg-gray-50 p-6 text-center border-b",children:[d.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:$r(i,"EEEE",{locale:Nr})}),d.jsx("div",{className:`text-2xl font-bold ${Ng(i,new Date)?"text-blue-600":"text-gray-900"}`,children:$r(i,"d 'de' MMMM",{locale:Nr})}),d.jsxs("button",{onClick:()=>X(i),className:"mt-3 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Novo Evento"]})]}),d.jsx("div",{className:"p-6",children:(()=>{const Q=M(i).sort(($,V)=>$.time.localeCompare(V.time));return Q.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Sx,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"Nenhum evento agendado para este dia"}),d.jsx("button",{onClick:()=>X(i),className:"mt-4 text-blue-600 hover:text-blue-800",children:"Adicionar primeiro evento"})]}):d.jsx("div",{className:"space-y-4",children:Q.map($=>{const V=yu[$.type]||yu.Outro,te=V.icon,ae=$.priority?Jv[$.priority]:"";return d.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer group ${V.color} ${V.hoverColor} ${ae}`,onClick:()=>ce($),children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[d.jsx(te,{className:`w-6 h-6 ${V.iconColor} flex-shrink-0 mt-1`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:$.title}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[d.jsx("span",{className:"font-medium",children:$.time}),$.client&&d.jsxs("span",{children:["Cliente: ",$.client]}),$.location&&d.jsxs("span",{children:["Local: ",$.location]})]}),$.notes&&d.jsx("p",{className:"text-sm text-gray-700 mt-2",children:$.notes}),d.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${$.status==="Concluído"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:$.status}),$.priority&&d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Jv[$.priority]}`,children:$.priority})]})]})]}),d.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-2 ml-4",children:[d.jsx("button",{onClick:Z=>{Z.stopPropagation(),ce($)},className:`p-2 ${V.iconColor} hover:opacity-75 rounded-lg hover:bg-white`,title:"Visualizar",children:d.jsx(dl,{className:"w-4 h-4"})}),d.jsx("button",{onClick:Z=>{Z.stopPropagation(),ue($)},className:`p-2 ${V.iconColor} hover:opacity-75 rounded-lg hover:bg-white`,title:"Editar",children:d.jsx(ta,{className:"w-4 h-4"})}),d.jsx("button",{onClick:Z=>{Z.stopPropagation(),we($.id)},className:"p-2 text-red-500 hover:text-red-700 rounded-lg hover:bg-white",title:"Excluir",children:d.jsx(_s,{className:"w-4 h-4"})})]})]})},$.id)})})})()})]})]})]})}const J_e=js({date:lt().required("Data é obrigatória"),amount:km().positive("Valor deve ser positivo").required("Valor é obrigatório"),source:lt().required("Fonte é obrigatória"),category:lt().required("Categoria é obrigatória"),responsibleLawyers:Im(),client:lt(),description:lt()}),Q_e=js({date:lt().required("Data é obrigatória"),amount:km().positive("Valor deve ser positivo").required("Valor é obrigatório"),type:lt().required("Tipo é obrigatório"),category:lt().required("Categoria é obrigatória"),responsibleMembers:Im(),description:lt(),receipt:lt()});function Z_e({type:t,item:e,onBack:r,onSave:n}){const[i,a]=br.useState([]),[s,o]=br.useState([]),[l,c]=br.useState((e==null?void 0:e.responsibleLawyers)||(e==null?void 0:e.responsibleMembers)||[]),[u,f]=br.useState(!0),p=t==="revenue"?J_e:Q_e,{register:h,handleSubmit:y,formState:{errors:m},setValue:w}=bl({resolver:xl(p),defaultValues:e||(t==="revenue"?{category:"Honorário"}:{category:"Aluguel"})});O.useEffect(()=>{g()},[]),O.useEffect(()=>{if(e){Object.keys(e).forEach(S=>{w(S,e[S])});const E=(e==null?void 0:e.responsibleMembers)||(e==null?void 0:e.responsibleLawyers)||[];c(E)}},[e,w]);const g=async()=>{try{f(!0);const[E,S]=await Promise.all([rt.getLawyers(),rt.getEmployees()]);a(E.filter(C=>C.status==="Ativo")),o(S.filter(C=>C.status==="Ativo"))}catch(E){console.error("Erro ao carregar membros da equipe:",E),a([]),o([])}finally{f(!1)}},v=E=>{c(S=>S.includes(E)?S.filter(C=>C!==E):[...S,E])},x=E=>{const S={id:(e==null?void 0:e.id)||Date.now().toString(),responsibleMembers:l,...t==="revenue"&&{responsibleLawyers:l},...E};n(S,t)};return u?d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando formulário..."})]})}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:r,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[e?"Editar":"Nova"," ",t==="revenue"?"Receita":"Despesa"]}),d.jsxs("p",{className:"text-gray-600",children:[e?"Atualize as informações":"Cadastre uma nova entrada",t==="revenue"?" de receita":" de despesa"]})]})]}),d.jsx("form",{onSubmit:y(x),className:"max-w-2xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...h("date"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),m.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.date.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor *"}),d.jsx("input",{...h("amount",{valueAsNumber:!0}),type:"number",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}),m.amount&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.amount.message})]}),t==="revenue"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fonte *"}),d.jsx("input",{...h("source"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: João Silva"}),m.source&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.source.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),d.jsxs("select",{...h("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"Honorário",children:"Honorário"}),d.jsx("option",{value:"Consultoria",children:"Consultoria"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),m.category&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.category.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente"}),d.jsx("input",{...h("client"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do cliente (opcional)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsáveis"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-32 overflow-y-auto",children:i.length>0||s.length>0?d.jsxs("div",{className:"space-y-2",children:[i.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advogados"}),i.map(E=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes(E.fullName),onChange:()=>v(E.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[E.fullName," - OAB: ",E.oab]})]},`lawyer-${E.id}`))]}),s.length>0&&d.jsxs(d.Fragment,{children:[i.length>0&&d.jsx("div",{className:"border-t border-gray-200 my-2"}),d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Colaboradores"}),s.map(E=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes(E.fullName),onChange:()=>v(E.fullName),className:"mr-3 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[E.fullName," - ",E.position]})]},`employee-${E.id}`))]})]}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum responsável disponível"})}),l.length>0&&d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:l.map((E,S)=>{const C=i.some(P=>P.fullName===E);return d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:[E,d.jsx("button",{type:"button",onClick:()=>v(E),className:`ml-1 hover:${C?"text-blue-800":"text-green-800"}`,children:d.jsx(vo,{className:"w-3 h-3"})})]},S)})})}),i.length===0&&s.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:"Nenhum responsável ativo encontrado. Cadastre advogados ou colaboradores."})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo *"}),d.jsx("input",{...h("type"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Aluguel do escritório"}),m.type&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),d.jsxs("select",{...h("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"Aluguel",children:"Aluguel"}),d.jsx("option",{value:"Internet",children:"Internet"}),d.jsx("option",{value:"Material",children:"Material"}),d.jsx("option",{value:"Energia",children:"Energia"}),d.jsx("option",{value:"Salário",children:"Salário"}),d.jsx("option",{value:"Alimentação/Bebidas",children:"Alimentação/Bebidas"}),d.jsx("option",{value:"Evento",children:"Evento"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),m.category&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.category.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comprovante"}),d.jsx("input",{...h("receipt"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do arquivo ou referência"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsável pela despesa"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-32 overflow-y-auto",children:i.length>0||s.length>0?d.jsxs("div",{className:"space-y-2",children:[i.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advogados"}),i.map(E=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes(E.fullName),onChange:()=>v(E.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[E.fullName," - OAB: ",E.oab]})]},`lawyer-${E.id}`))]}),s.length>0&&d.jsxs(d.Fragment,{children:[i.length>0&&d.jsx("div",{className:"border-t border-gray-200 my-2"}),d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Colaboradores"}),s.map(E=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes(E.fullName),onChange:()=>v(E.fullName),className:"mr-3 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[E.fullName," - ",E.position]})]},`employee-${E.id}`))]})]}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum responsável disponível"})}),l.length>0&&d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:l.map((E,S)=>{const C=i.some(P=>P.fullName===E);return d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:[E,d.jsx("button",{type:"button",onClick:()=>v(E),className:`ml-1 hover:${C?"text-blue-800":"text-green-800"}`,children:d.jsx(vo,{className:"w-3 h-3"})})]},S)})})}),i.length===0&&s.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:"Nenhum responsável ativo encontrado. Cadastre advogados ou colaboradores."})]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição"}),d.jsx("textarea",{...h("description"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descrição adicional (opcional)"})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsxs("button",{type:"submit",className:`px-6 py-2 text-white rounded-lg transition-colors ${t==="revenue"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:[e?"Atualizar":"Salvar"," ",t==="revenue"?"Receita":"Despesa"]})]})]})})]})}function eEe({quickActionType:t,onClearQuickAction:e}){const[r,n]=O.useState([]),[i,a]=O.useState([]),[s,o]=O.useState("revenues"),[l,c]=O.useState(""),[u,f]=O.useState("all"),[p,h]=O.useState(!1),[y,m]=O.useState("revenue"),[w,g]=O.useState(null),[v,x]=O.useState(!0);O.useEffect(()=>{E()},[]),O.useEffect(()=>{t==="revenue"?(m("revenue"),g(null),h(!0),e()):t==="expense"&&(m("expense"),g(null),h(!0),e())},[t,e]);const E=async()=>{try{x(!0);const[X,ce]=await Promise.all([rt.getRevenues(),rt.getExpenses()]);n(X),a(ce),console.log(`${X.length} receitas e ${ce.length} despesas carregadas`)}catch(X){console.error("Erro ao carregar dados financeiros:",X),n([]),a([])}finally{x(!1)}},S=X=>{m(X),g(null),h(!0)},C=(X,ce)=>{m(ce),g(X),h(!0)},P=async(X,ce)=>{try{w?ce==="revenue"?await rt.updateRevenue(w.id,X)&&console.log("Receita atualizada com sucesso"):await rt.updateExpense(w.id,X)&&console.log("Despesa atualizada com sucesso"):ce==="revenue"?await rt.saveRevenue(X)&&console.log("Nova receita criada com sucesso"):await rt.saveExpense(X)&&console.log("Nova despesa criada com sucesso"),await E(),h(!1),g(null)}catch(ue){console.error("Erro ao salvar item financeiro:",ue),alert("Erro ao salvar. Tente novamente.")}},k=async(X,ce)=>{if(confirm(`Tem certeza que deseja excluir esta ${ce==="revenue"?"receita":"despesa"}?`))try{let ue=!1;ce==="revenue"?ue=await rt.deleteRevenue(X):ue=await rt.deleteExpense(X),ue&&await E()}catch(ue){console.error("Erro ao excluir item:",ue),alert("Erro ao excluir. Tente novamente.")}},T=()=>{h(!1),g(null)},W=r.filter(X=>{const ce=X.source.toLowerCase().includes(l.toLowerCase())||X.client&&X.client.toLowerCase().includes(l.toLowerCase())||X.description&&X.description.toLowerCase().includes(l.toLowerCase()),ue=u==="all"||X.category===u;return ce&&ue}),M=i.filter(X=>{const ce=X.type.toLowerCase().includes(l.toLowerCase())||X.description&&X.description.toLowerCase().includes(l.toLowerCase()),ue=u==="all"||X.category===u;return ce&&ue}),A=X=>$r(new Date(X),"dd/MM/yyyy",{locale:Nr}),I=X=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(X),L=r.reduce((X,ce)=>X+ce.amount,0),se=i.reduce((X,ce)=>X+ce.amount,0),pe=L-se;return p?d.jsx(Z_e,{type:y,item:w,onBack:T,onSave:P}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestão Financeira"}),d.jsx("p",{className:"text-gray-600",children:"Controle de receitas e despesas do escritório"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:()=>S("revenue"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(n_,{className:"w-5 h-5 mr-2"}),"Nova Receita"]}),d.jsxs("button",{onClick:()=>S("expense"),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(r_,{className:"w-5 h-5 mr-2"}),"Nova Despesa"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(n_,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-green-100 text-sm",children:"Total de Receitas"}),d.jsx("p",{className:"text-2xl font-bold",children:I(L)})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(r_,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-100 text-sm",children:"Total de Despesas"}),d.jsx("p",{className:"text-2xl font-bold",children:I(se)})]})]})}),d.jsx("div",{className:`rounded-lg p-6 text-white ${pe>=0?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-orange-500 to-orange-600"}`,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-8 h-8 mr-3 flex items-center justify-center",children:d.jsx("span",{className:"text-2xl font-bold",children:"₿"})}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${pe>=0?"text-blue-100":"text-orange-100"}`,children:"Saldo Atual"}),d.jsx("p",{className:"text-2xl font-bold",children:I(pe)})]})]})})]}),d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[d.jsxs("button",{onClick:()=>o("revenues"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${s==="revenues"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Receitas (",r.length,")"]}),d.jsxs("button",{onClick:()=>o("expenses"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${s==="expenses"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Despesas (",i.length,")"]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(PT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:l,onChange:X=>c(X.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Tx,{className:"w-5 h-5 text-gray-400"}),d.jsxs("select",{value:u,onChange:X=>f(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Todas as Categorias"}),s==="revenues"?d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"Honorário",children:"Honorário"}),d.jsx("option",{value:"Consultoria",children:"Consultoria"}),d.jsx("option",{value:"Outro",children:"Outro"})]}):d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"Aluguel",children:"Aluguel"}),d.jsx("option",{value:"Internet",children:"Internet"}),d.jsx("option",{value:"Material",children:"Material"}),d.jsx("option",{value:"Outro",children:"Outro"})]})]})]})]})]}),v?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando dados financeiros..."})]}):d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s==="revenues"?"Fonte":"Tipo"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Responsável"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s==="revenues"?W.map(X=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(X.date)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.source}),X.client&&d.jsxs("div",{className:"text-sm text-gray-500",children:["Cliente: ",X.client]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:X.category})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.jsx("div",{children:X.responsibleLawyers&&X.responsibleLawyers.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"font-medium",children:X.responsibleLawyers[0]}),X.responsibleLawyers.length>1&&d.jsxs("div",{className:"text-xs text-gray-500",children:["+",X.responsibleLawyers.length-1," outros"]})]}):d.jsx("span",{className:"text-gray-400",children:"-"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:I(X.amount)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsx("button",{onClick:()=>C(X,"revenue"),className:"text-amber-600 hover:text-amber-900 p-1 rounded hover:bg-amber-50",title:"Editar",children:d.jsx(ta,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>k(X.id,"revenue"),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Excluir",children:d.jsx(_s,{className:"w-4 h-4"})})]})})]},X.id)):M.map(X=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(X.date)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.type})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:X.category})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.jsx("div",{children:X.responsibleMembers&&X.responsibleMembers.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"font-medium",children:X.responsibleMembers[0]}),X.responsibleMembers.length>1&&d.jsxs("div",{className:"text-xs text-gray-500",children:["+",X.responsibleMembers.length-1," outros"]})]}):X.responsibleLawyers&&X.responsibleLawyers.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"font-medium",children:X.responsibleLawyers[0]}),X.responsibleLawyers.length>1&&d.jsxs("div",{className:"text-xs text-gray-500",children:["+",X.responsibleLawyers.length-1," outros"]})]}):d.jsx("span",{className:"text-gray-400",children:"-"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600",children:I(X.amount)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsx("button",{onClick:()=>C(X,"expense"),className:"text-amber-600 hover:text-amber-900 p-1 rounded hover:bg-amber-50",title:"Editar",children:d.jsx(ta,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>k(X.id,"expense"),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Excluir",children:d.jsx(_s,{className:"w-4 h-4"})})]})})]},X.id))})]})}),!v&&d.jsxs(d.Fragment,{children:[s==="revenues"&&W.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(n_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:r.length===0?'Nenhuma receita cadastrada. Clique em "Nova Receita" para começar.':"Nenhuma receita encontrada com os filtros aplicados."})]}),s==="expenses"&&M.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(r_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:i.length===0?'Nenhuma despesa cadastrada. Clique em "Nova Despesa" para começar.':"Nenhuma despesa encontrada com os filtros aplicados."})]})]})]})]})}const tEe="modulepreload",rEe=function(t){return"/LegalX/"+t},LL={},t4=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=rEe(l),l in LL)return;LL[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":tEe,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function mr(t){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(t)}var Li=Uint8Array,za=Uint16Array,IC=Int32Array,j2=new Li([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),O2=new Li([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),r4=new Li([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bH=function(t,e){for(var r=new za(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new IC(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},xH=bH(j2,2),_H=xH.b,n4=xH.r;_H[28]=258,n4[258]=28;var EH=bH(O2,0),nEe=EH.b,DL=EH.r,i4=new za(32768);for(var Fr=0;Fr<32768;++Fr){var vu=(Fr&43690)>>1|(Fr&21845)<<1;vu=(vu&52428)>>2|(vu&13107)<<2,vu=(vu&61680)>>4|(vu&3855)<<4,i4[Fr]=((vu&65280)>>8|(vu&255)<<8)>>1}var hl=function(t,e,r){for(var n=t.length,i=0,a=new za(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new za(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new za(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[i4[f]>>l]=c}else for(o=new za(n),i=0;i<n;++i)t[i]&&(o[i]=i4[s[t[i]-1]++]>>15-t[i]);return o},ld=new Li(288);for(var Fr=0;Fr<144;++Fr)ld[Fr]=8;for(var Fr=144;Fr<256;++Fr)ld[Fr]=9;for(var Fr=256;Fr<280;++Fr)ld[Fr]=7;for(var Fr=280;Fr<288;++Fr)ld[Fr]=8;var Z0=new Li(32);for(var Fr=0;Fr<32;++Fr)Z0[Fr]=5;var iEe=hl(ld,9,0),aEe=hl(ld,9,1),sEe=hl(Z0,5,0),oEe=hl(Z0,5,1),k_=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Ks=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},I_=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},jC=function(t){return(t+7)/8|0},AH=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Li(t.subarray(e,r))},lEe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Qs=function(t,e,r){var n=new Error(e||lEe[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Qs),!r)throw n;return n},cEe=function(t,e,r,n){var i=t.length,a=0;if(!i||e.f&&!e.l)return r||new Li(0);var s=!r,o=s||e.i!=2,l=e.i;s&&(r=new Li(i*3));var c=function(Z){var ee=r.length;if(Z>ee){var _e=new Li(Math.max(ee*2,Z));_e.set(r),r=_e}},u=e.f||0,f=e.p||0,p=e.b||0,h=e.l,y=e.d,m=e.m,w=e.n,g=i*8;do{if(!h){u=Ks(t,f,1);var v=Ks(t,f+1,3);if(f+=3,v)if(v==1)h=aEe,y=oEe,m=9,w=5;else if(v==2){var C=Ks(t,f,31)+257,P=Ks(t,f+10,15)+4,k=C+Ks(t,f+5,31)+1;f+=14;for(var T=new Li(k),W=new Li(19),M=0;M<P;++M)W[r4[M]]=Ks(t,f+M*3,7);f+=P*3;for(var A=k_(W),I=(1<<A)-1,L=hl(W,A,1),M=0;M<k;){var se=L[Ks(t,f,I)];f+=se&15;var x=se>>4;if(x<16)T[M++]=x;else{var pe=0,X=0;for(x==16?(X=3+Ks(t,f,3),f+=2,pe=T[M-1]):x==17?(X=3+Ks(t,f,7),f+=3):x==18&&(X=11+Ks(t,f,127),f+=7);X--;)T[M++]=pe}}var ce=T.subarray(0,C),ue=T.subarray(C);m=k_(ce),w=k_(ue),h=hl(ce,m,1),y=hl(ue,w,1)}else Qs(1);else{var x=jC(f)+4,E=t[x-4]|t[x-3]<<8,S=x+E;if(S>i){l&&Qs(0);break}o&&c(p+E),r.set(t.subarray(x,S),p),e.b=p+=E,e.p=f=S*8,e.f=u;continue}if(f>g){l&&Qs(0);break}}o&&c(p+131072);for(var xe=(1<<m)-1,we=(1<<w)-1,F=f;;F=f){var pe=h[I_(t,f)&xe],J=pe>>4;if(f+=pe&15,f>g){l&&Qs(0);break}if(pe||Qs(2),J<256)r[p++]=J;else if(J==256){F=f,h=null;break}else{var ie=J-254;if(J>264){var M=J-257,fe=j2[M];ie=Ks(t,f,(1<<fe)-1)+_H[M],f+=fe}var Q=y[I_(t,f)&we],$=Q>>4;Q||Qs(3),f+=Q&15;var ue=nEe[$];if($>3){var fe=O2[$];ue+=I_(t,f)&(1<<fe)-1,f+=fe}if(f>g){l&&Qs(0);break}o&&c(p+131072);var V=p+ie;if(p<ue){var te=a-ue,ae=Math.min(ue,V);for(te+p<0&&Qs(3);p<ae;++p)r[p]=n[te+p]}for(;p<V;++p)r[p]=r[p-ue]}}e.l=h,e.p=F,e.b=p,e.f=u,h&&(u=1,e.m=m,e.d=y,e.n=w)}while(!u);return p!=r.length&&s?AH(r,0,p):r.subarray(0,p)},ql=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Tg=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},j_=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:NH,l:0};if(i==1){var s=new Li(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(S,C){return S.f-C.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new za(p+1),y=a4(r[u-1],h,0);if(y>e){var n=0,m=0,w=y-e,g=1<<w;for(a.sort(function(C,P){return h[P.s]-h[C.s]||C.f-P.f});n<i;++n){var v=a[n].s;if(h[v]>e)m+=g-(1<<y-h[v]),h[v]=e;else break}for(m>>=w;m>0;){var x=a[n].s;h[x]<e?m-=1<<e-h[x]++-1:++n}for(;n>=0&&m;--n){var E=a[n].s;h[E]==e&&(--h[E],++m)}y=e}return{t:new Li(h),l:y}},a4=function(t,e,r){return t.s==-1?Math.max(a4(t.l,e,r+1),a4(t.r,e,r+1)):e[t.s]=r},ML=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new za(++e),n=0,i=t[0],a=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Pg=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},SH=function(t,e,r){var n=r.length,i=jC(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},FL=function(t,e,r,n,i,a,s,o,l,c,u){ql(e,u++,r),++i[256];for(var f=j_(i,15),p=f.t,h=f.l,y=j_(a,15),m=y.t,w=y.l,g=ML(p),v=g.c,x=g.n,E=ML(m),S=E.c,C=E.n,P=new za(19),k=0;k<v.length;++k)++P[v[k]&31];for(var k=0;k<S.length;++k)++P[S[k]&31];for(var T=j_(P,7),W=T.t,M=T.l,A=19;A>4&&!W[r4[A-1]];--A);var I=c+5<<3,L=Pg(i,ld)+Pg(a,Z0)+s,se=Pg(i,p)+Pg(a,m)+s+14+3*A+Pg(P,W)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&I<=L&&I<=se)return SH(e,u,t.subarray(l,l+c));var pe,X,ce,ue;if(ql(e,u,1+(se<L)),u+=2,se<L){pe=hl(p,h,0),X=p,ce=hl(m,w,0),ue=m;var xe=hl(W,M,0);ql(e,u,x-257),ql(e,u+5,C-1),ql(e,u+10,A-4),u+=14;for(var k=0;k<A;++k)ql(e,u+3*k,W[r4[k]]);u+=3*A;for(var we=[v,S],F=0;F<2;++F)for(var J=we[F],k=0;k<J.length;++k){var ie=J[k]&31;ql(e,u,xe[ie]),u+=W[ie],ie>15&&(ql(e,u,J[k]>>5&127),u+=J[k]>>12)}}else pe=iEe,X=ld,ce=sEe,ue=Z0;for(var k=0;k<o;++k){var fe=n[k];if(fe>255){var ie=fe>>18&31;Tg(e,u,pe[ie+257]),u+=X[ie+257],ie>7&&(ql(e,u,fe>>23&31),u+=j2[ie]);var Q=fe&31;Tg(e,u,ce[Q]),u+=ue[Q],Q>3&&(Tg(e,u,fe>>5&8191),u+=O2[Q])}else Tg(e,u,pe[fe]),u+=X[fe]}return Tg(e,u,pe[256]),u+X[256]},uEe=new IC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),NH=new Li(0),dEe=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Li(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=uEe[e-1],p=f>>13,h=f&8191,y=(1<<r)-1,m=a.p||new za(32768),w=a.h||new za(y+1),g=Math.ceil(r/3),v=2*g,x=function(H){return(t[H]^t[H+1]<<g^t[H+2]<<v)&y},E=new IC(25e3),S=new za(288),C=new za(32),P=0,k=0,T=a.i||0,W=0,M=a.w||0,A=0;T+2<s;++T){var I=x(T),L=T&32767,se=w[I];if(m[L]=se,w[I]=L,M<=T){var pe=s-T;if((P>7e3||W>24576)&&(pe>423||!c)){u=FL(t,l,0,E,S,C,k,W,A,T-A,u),W=P=k=0,A=T;for(var X=0;X<286;++X)S[X]=0;for(var X=0;X<30;++X)C[X]=0}var ce=2,ue=0,xe=h,we=L-se&32767;if(pe>2&&I==x(T-we))for(var F=Math.min(p,pe)-1,J=Math.min(32767,T),ie=Math.min(258,pe);we<=J&&--xe&&L!=se;){if(t[T+ce]==t[T+ce-we]){for(var fe=0;fe<ie&&t[T+fe]==t[T+fe-we];++fe);if(fe>ce){if(ce=fe,ue=we,fe>F)break;for(var Q=Math.min(we,fe-2),$=0,X=0;X<Q;++X){var V=T-we+X&32767,te=m[V],ae=V-te&32767;ae>$&&($=ae,se=V)}}}L=se,se=m[L],we+=L-se&32767}if(ue){E[W++]=268435456|n4[ce]<<18|DL[ue];var Z=n4[ce]&31,ee=DL[ue]&31;k+=j2[Z]+O2[ee],++S[257+Z],++C[ee],M=T+ce,++P}else E[W++]=t[T],++S[t[T]]}}for(T=Math.max(T,M);T<s;++T)E[W++]=t[T],++S[t[T]];u=FL(t,l,c,E,S,C,k,W,A,T-A,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=w,a.p=m,a.i=T,a.w=M)}else{for(var T=a.w||0;T<s+c;T+=65535){var _e=T+65535;_e>=s&&(l[u/8|0]=c,_e=s),u=SH(l,u+1,t.subarray(T,_e))}a.i=s}return AH(o,0,n+jC(u)+i)},TH=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},fEe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Li(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return dEe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},PH=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},hEe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=TH();i.p(e.dictionary),PH(t,2,i.d())}},pEe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Qs(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Qs(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function s4(t,e){e||(e={});var r=TH();r.p(t);var n=fEe(t,e,e.dictionary?6:2,4);return hEe(n,e),PH(n,n.length-4,r.d()),n}function mEe(t,e){return cEe(t.subarray(pEe(t,e),-4),{i:2},e,e)}var gEe=typeof TextDecoder<"u"&&new TextDecoder,yEe=0;try{gEe.decode(NH,{stream:!0}),yEe=1}catch{}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function O_(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var Sr={log:O_,warn:function(t){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):O_.call(null,arguments))},error:function(t){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):O_(t))}};function R_(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){nf(n.response,e,r)},n.onerror=function(){Sr.error("could not download file")},n.send()}function BL(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qv(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var f0,o4,nf=At.saveAs||((typeof window>"u"?"undefined":mr(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=At.URL||At.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?BL(i.href)?R_(t,e,r):Qv(i,i.target="_blank"):Qv(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Qv(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(BL(t))R_(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Qv(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:mr(a)!=="object"&&(Sr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return R_(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(At.HTMLElement)||At.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":mr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=At.URL||At.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function CH(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function L_(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Ni(r,n,i,a,e[0],7,-680876936),a=Ni(a,r,n,i,e[1],12,-389564586),i=Ni(i,a,r,n,e[2],17,606105819),n=Ni(n,i,a,r,e[3],22,-1044525330),r=Ni(r,n,i,a,e[4],7,-176418897),a=Ni(a,r,n,i,e[5],12,1200080426),i=Ni(i,a,r,n,e[6],17,-1473231341),n=Ni(n,i,a,r,e[7],22,-45705983),r=Ni(r,n,i,a,e[8],7,1770035416),a=Ni(a,r,n,i,e[9],12,-1958414417),i=Ni(i,a,r,n,e[10],17,-42063),n=Ni(n,i,a,r,e[11],22,-1990404162),r=Ni(r,n,i,a,e[12],7,1804603682),a=Ni(a,r,n,i,e[13],12,-40341101),i=Ni(i,a,r,n,e[14],17,-1502002290),r=Ti(r,n=Ni(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ti(a,r,n,i,e[6],9,-1069501632),i=Ti(i,a,r,n,e[11],14,643717713),n=Ti(n,i,a,r,e[0],20,-373897302),r=Ti(r,n,i,a,e[5],5,-701558691),a=Ti(a,r,n,i,e[10],9,38016083),i=Ti(i,a,r,n,e[15],14,-660478335),n=Ti(n,i,a,r,e[4],20,-405537848),r=Ti(r,n,i,a,e[9],5,568446438),a=Ti(a,r,n,i,e[14],9,-1019803690),i=Ti(i,a,r,n,e[3],14,-187363961),n=Ti(n,i,a,r,e[8],20,1163531501),r=Ti(r,n,i,a,e[13],5,-1444681467),a=Ti(a,r,n,i,e[2],9,-51403784),i=Ti(i,a,r,n,e[7],14,1735328473),r=Pi(r,n=Ti(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Pi(a,r,n,i,e[8],11,-2022574463),i=Pi(i,a,r,n,e[11],16,1839030562),n=Pi(n,i,a,r,e[14],23,-35309556),r=Pi(r,n,i,a,e[1],4,-1530992060),a=Pi(a,r,n,i,e[4],11,1272893353),i=Pi(i,a,r,n,e[7],16,-155497632),n=Pi(n,i,a,r,e[10],23,-1094730640),r=Pi(r,n,i,a,e[13],4,681279174),a=Pi(a,r,n,i,e[0],11,-358537222),i=Pi(i,a,r,n,e[3],16,-722521979),n=Pi(n,i,a,r,e[6],23,76029189),r=Pi(r,n,i,a,e[9],4,-640364487),a=Pi(a,r,n,i,e[12],11,-421815835),i=Pi(i,a,r,n,e[15],16,530742520),r=Ci(r,n=Pi(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ci(a,r,n,i,e[7],10,1126891415),i=Ci(i,a,r,n,e[14],15,-1416354905),n=Ci(n,i,a,r,e[5],21,-57434055),r=Ci(r,n,i,a,e[12],6,1700485571),a=Ci(a,r,n,i,e[3],10,-1894986606),i=Ci(i,a,r,n,e[10],15,-1051523),n=Ci(n,i,a,r,e[1],21,-2054922799),r=Ci(r,n,i,a,e[8],6,1873313359),a=Ci(a,r,n,i,e[15],10,-30611744),i=Ci(i,a,r,n,e[6],15,-1560198380),n=Ci(n,i,a,r,e[13],21,1309151649),r=Ci(r,n,i,a,e[4],6,-145523070),a=Ci(a,r,n,i,e[11],10,-1120210379),i=Ci(i,a,r,n,e[2],15,718787259),n=Ci(n,i,a,r,e[9],21,-343485551),t[0]=Du(r,t[0]),t[1]=Du(n,t[1]),t[2]=Du(i,t[2]),t[3]=Du(a,t[3])}function R2(t,e,r,n,i,a){return e=Du(Du(e,t),Du(n,a)),Du(e<<i|e>>>32-i,r)}function Ni(t,e,r,n,i,a,s){return R2(e&r|~e&n,t,e,i,a,s)}function Ti(t,e,r,n,i,a,s){return R2(e&n|r&~n,t,e,i,a,s)}function Pi(t,e,r,n,i,a,s){return R2(e^r^n,t,e,i,a,s)}function Ci(t,e,r,n,i,a,s){return R2(r^(e|~n),t,e,i,a,s)}function kH(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)L_(n,vEe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(L_(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,L_(n,i),n}function vEe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}f0=At.atob.bind(At),o4=At.btoa.bind(At);var UL="0123456789abcdef".split("");function wEe(t){for(var e="",r=0;r<4;r++)e+=UL[t>>8*r+4&15]+UL[t>>8*r&15];return e}function bEe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function l4(t){return kH(t).map(bEe).join("")}var xEe=function(t){for(var e=0;e<t.length;e++)t[e]=wEe(t[e]);return t.join("")}(kH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Du(t,e){if(xEe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function c4(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var f=e.length,p=0,h=0,y="";for(l=0;l<f;l++)h=(h+(u=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=u,s=o[(o[p]+o[h])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $L={print:4,modify:8,copy:16,"annot-forms":32};function Xh(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if($L.perm!==void 0)throw new Error("Invalid permission: "+o);i+=$L[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=l4(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=c4(this.encryptionKey,this.padding)}function Jh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function VL(t){if(mr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){At.console&&Sr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Pb(t){if(!(this instanceof Pb))return new Pb(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function IH(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function sf(t,e,r,n,i){if(!(this instanceof sf))return new sf(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,IH.call(this,n,i)}function mp(t,e,r,n,i){if(!(this instanceof mp))return new mp(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,IH.call(this,n,i)}function xt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;mr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=VL;var y="1.3",m=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(D){y=D};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return w};var g=h.__private__.getPageFormat=function(D){return w[D]};i=i||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},x=v.COMPAT;function E(){this.saveGraphicsState(),B(new dt(et,0,0,-et,0,_i()*et).toString()+" cm"),this.setFontSize(this.getFontSize()/et),c="n",x=v.ADVANCED}function S(){this.restoreGraphicsState(),c="S",x=v.COMPAT}var C=h.__private__.combineFontStyleAndFontWeight=function(D,oe){if(D=="bold"&&oe=="normal"||D=="bold"&&oe==400||D=="normal"&&oe=="italic"||D=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(D=oe==400||oe==="normal"?D==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||D!=="normal"?(oe==700?"bold":oe)+""+D:"bold"),D};h.advancedAPI=function(D){var oe=x===v.COMPAT;return oe&&E.call(this),typeof D!="function"||(D(this),oe&&S.call(this)),this},h.compatAPI=function(D){var oe=x===v.ADVANCED;return oe&&S.call(this),typeof D!="function"||(D(this),oe&&E.call(this)),this},h.isAdvancedAPI=function(){return x===v.ADVANCED};var P,k=function(D){if(x!==v.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=h.roundToPrecision=h.__private__.roundToPrecision=function(D,oe){var Ee=e||oe;if(isNaN(D)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ee).replace(/0+$/,"")};P=h.hpf=h.__private__.hpf=typeof l=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,l)}:l==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,16)};var W=h.f2=h.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return T(D,2)},M=h.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return T(D,3)},A=h.scale=h.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return x===v.COMPAT?D*et:x===v.ADVANCED?D:void 0},I=function(D){return x===v.COMPAT?_i()-D:x===v.ADVANCED?D:void 0},L=function(D){return A(I(D))};h.__private__.setPrecision=h.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(e=parseInt(D,10))};var se,pe="00000000000000000000000000000000",X=h.__private__.getFileId=function(){return pe},ce=h.__private__.setFileId=function(D){return pe=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():pe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Lr=new Xh(u.userPermissions,u.userPassword,u.ownerPassword,pe)),pe};h.setFileId=function(D){return ce(D),this},h.getFileId=function(){return X()};var ue=h.__private__.convertDateToPDFDate=function(D){var oe=D.getTimezoneOffset(),Ee=oe<0?"+":"-",Te=Math.floor(Math.abs(oe/60)),Oe=Math.abs(oe%60),$e=[Ee,ie(Te),"'",ie(Oe),"'"].join("");return["D:",D.getFullYear(),ie(D.getMonth()+1),ie(D.getDate()),ie(D.getHours()),ie(D.getMinutes()),ie(D.getSeconds()),$e].join("")},xe=h.__private__.convertPDFDateToDate=function(D){var oe=parseInt(D.substr(2,4),10),Ee=parseInt(D.substr(6,2),10)-1,Te=parseInt(D.substr(8,2),10),Oe=parseInt(D.substr(10,2),10),$e=parseInt(D.substr(12,2),10),Xe=parseInt(D.substr(14,2),10);return new Date(oe,Ee,Te,Oe,$e,Xe,0)},we=h.__private__.setCreationDate=function(D){var oe;if(D===void 0&&(D=new Date),D instanceof Date)oe=ue(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=D}return se=oe},F=h.__private__.getCreationDate=function(D){var oe=se;return D==="jsDate"&&(oe=xe(se)),oe};h.setCreationDate=function(D){return we(D),this},h.getCreationDate=function(D){return F(D)};var J,ie=h.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},fe=h.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},Q=0,$=[],V=[],te=0,ae=[],Z=[],ee=!1,_e=V,H=function(){Q=0,te=0,V=[],$=[],ae=[],Ds=Jr(),xi=Jr()};h.__private__.setCustomOutputDestination=function(D){ee=!0,_e=D};var ve=function(D){ee||(_e=D)};h.__private__.resetCustomOutputDestination=function(){ee=!1,_e=V};var B=h.__private__.out=function(D){return D=D.toString(),te+=D.length+1,_e.push(D),_e},j=h.__private__.write=function(D){return B(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},R=h.__private__.getArrayBuffer=function(D){for(var oe=D.length,Ee=new ArrayBuffer(oe),Te=new Uint8Array(Ee);oe--;)Te[oe]=D.charCodeAt(oe);return Ee},q=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return q};var G=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(D){return G=x===v.ADVANCED?D/et:D,this};var ne,re=h.__private__.getFontSize=h.getFontSize=function(){return x===v.COMPAT?G:G*et},Ae=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(D){return Ae=D,this},h.__private__.getR2L=h.getR2L=function(){return Ae};var Ne,Se=h.__private__.setZoomMode=function(D){var oe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))ne=D;else if(isNaN(D)){if(oe.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');ne=D}else ne=parseInt(D,10)};h.__private__.getZoomMode=function(){return ne};var Ie,Fe=h.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Ne=D};h.__private__.getPageMode=function(){return Ne};var Ke=h.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Ie=D};h.__private__.getLayoutMode=function(){return Ie},h.__private__.setDisplayMode=h.setDisplayMode=function(D,oe,Ee){return Se(D),Ke(oe),Fe(Ee),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(D){if(Object.keys(nt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[D]},h.__private__.getDocumentProperties=function(){return nt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(D){for(var oe in nt)nt.hasOwnProperty(oe)&&D[oe]&&(nt[oe]=D[oe]);return this},h.__private__.setDocumentProperty=function(D,oe){if(Object.keys(nt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[D]=oe};var bt,et,ar,gt,qr,Ut={},Dt={},ai=[],Mt={},Qa={},xr={},An={},Bn=null,nr=0,_t=[],Jt=new VL(h),Za=t.hotfixes||[],Sn={},wi={},Ta=[],dt=function D(oe,Ee,Te,Oe,$e,Xe){if(!(this instanceof D))return new D(oe,Ee,Te,Oe,$e,Xe);isNaN(oe)&&(oe=1),isNaN(Ee)&&(Ee=0),isNaN(Te)&&(Te=0),isNaN(Oe)&&(Oe=1),isNaN($e)&&($e=0),isNaN(Xe)&&(Xe=0),this._matrix=[oe,Ee,Te,Oe,$e,Xe]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(D)},dt.prototype.multiply=function(D){var oe=D.sx*this.sx+D.shy*this.shx,Ee=D.sx*this.shy+D.shy*this.sy,Te=D.shx*this.sx+D.sy*this.shx,Oe=D.shx*this.shy+D.sy*this.sy,$e=D.tx*this.sx+D.ty*this.shx+this.tx,Xe=D.tx*this.shy+D.ty*this.sy+this.ty;return new dt(oe,Ee,Te,Oe,$e,Xe)},dt.prototype.decompose=function(){var D=this.sx,oe=this.shy,Ee=this.shx,Te=this.sy,Oe=this.tx,$e=this.ty,Xe=Math.sqrt(D*D+oe*oe),at=(D/=Xe)*Ee+(oe/=Xe)*Te;Ee-=D*at,Te-=oe*at;var _=Math.sqrt(Ee*Ee+Te*Te);return at/=_,D*(Te/=_)<oe*(Ee/=_)&&(D=-D,oe=-oe,at=-at,Xe=-Xe),{scale:new dt(Xe,0,0,_,0,0),translate:new dt(1,0,0,1,Oe,$e),rotate:new dt(D,oe,-oe,D,0,0),skew:new dt(1,0,at,1,0,0)}},dt.prototype.toString=function(D){return this.join(" ")},dt.prototype.inversed=function(){var D=this.sx,oe=this.shy,Ee=this.shx,Te=this.sy,Oe=this.tx,$e=this.ty,Xe=1/(D*Te-oe*Ee),at=Te*Xe,_=-oe*Xe,z=-Ee*Xe,Y=D*Xe;return new dt(at,_,z,Y,-at*Oe-z*$e,-_*Oe-Y*$e)},dt.prototype.applyToPoint=function(D){var oe=D.x*this.sx+D.y*this.shx+this.tx,Ee=D.x*this.shy+D.y*this.sy+this.ty;return new Ol(oe,Ee)},dt.prototype.applyToRectangle=function(D){var oe=this.applyToPoint(D),Ee=this.applyToPoint(new Ol(D.x+D.w,D.y+D.h));return new Jc(oe.x,oe.y,Ee.x-oe.x,Ee.y-oe.y)},dt.prototype.clone=function(){var D=this.sx,oe=this.shy,Ee=this.shx,Te=this.sy,Oe=this.tx,$e=this.ty;return new dt(D,oe,Ee,Te,Oe,$e)},h.Matrix=dt;var ia=h.matrixMult=function(D,oe){return oe.multiply(D)},bi=new dt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=bi;var Nn=function(D,oe){if(!Qa[D]){var Ee=(oe instanceof sf?"Sh":"P")+(Object.keys(Mt).length+1).toString(10);oe.id=Ee,Qa[D]=Ee,Mt[Ee]=oe,Jt.publish("addPattern",oe)}};h.ShadingPattern=sf,h.TilingPattern=mp,h.addShadingPattern=function(D,oe){return k("addShadingPattern()"),Nn(D,oe),this},h.beginTilingPattern=function(D){k("beginTilingPattern()"),Qc(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},h.endTilingPattern=function(D,oe){k("endTilingPattern()"),oe.stream=Z[J].join(`
`),Nn(D,oe),Jt.publish("endTilingPattern",oe),Ta.pop().restore()};var ln=h.__private__.newObject=function(){var D=Jr();return Tn(D,!0),D},Jr=h.__private__.newObjectDeferred=function(){return Q++,$[Q]=function(){return te},Q},Tn=function(D,oe){return oe=typeof oe=="boolean"&&oe,$[D]=te,oe&&B(D+" 0 obj"),D},Mc=h.__private__.newAdditionalObject=function(){var D={objId:Jr(),content:""};return ae.push(D),D},Ds=Jr(),xi=Jr(),aa=h.__private__.decodeColorString=function(D){var oe=D.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length===5&&(oe[4]==="k"||oe[4]==="K")&&(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var Ee=parseFloat(oe[0]);oe=[Ee,Ee,Ee,"r"]}for(var Te="#",Oe=0;Oe<3;Oe++)Te+=("0"+Math.floor(255*parseFloat(oe[Oe])).toString(16)).slice(-2);return Te},Ui=h.__private__.encodeColorString=function(D){var oe;typeof D=="string"&&(D={ch1:D});var Ee=D.ch1,Te=D.ch2,Oe=D.ch3,$e=D.ch4,Xe=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var at=new CH(Ee);if(at.ok)Ee=at.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var _=parseInt(Ee.substr(1),16);Ee=_>>16&255,Te=_>>8&255,Oe=255&_}if(Te===void 0||$e===void 0&&Ee===Te&&Te===Oe)if(typeof Ee=="string")oe=Ee+" "+Xe[0];else switch(D.precision){case 2:oe=W(Ee/255)+" "+Xe[0];break;case 3:default:oe=M(Ee/255)+" "+Xe[0]}else if($e===void 0||mr($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return oe=["1.","1.","1.",Xe[1]].join(" ");if(typeof Ee=="string")oe=[Ee,Te,Oe,Xe[1]].join(" ");else switch(D.precision){case 2:oe=[W(Ee/255),W(Te/255),W(Oe/255),Xe[1]].join(" ");break;default:case 3:oe=[M(Ee/255),M(Te/255),M(Oe/255),Xe[1]].join(" ")}}else if(typeof Ee=="string")oe=[Ee,Te,Oe,$e,Xe[2]].join(" ");else switch(D.precision){case 2:oe=[W(Ee),W(Te),W(Oe),W($e),Xe[2]].join(" ");break;case 3:default:oe=[M(Ee),M(Te),M(Oe),M($e),Xe[2]].join(" ")}return oe},$i=h.__private__.getFilters=function(){return s},cn=h.__private__.putStream=function(D){var oe=(D=D||{}).data||"",Ee=D.filters||$i(),Te=D.alreadyAppliedFilters||[],Oe=D.addLength1||!1,$e=oe.length,Xe=D.objectId,at=function(kt){return kt};if(u!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(at=Lr.encryptor(Xe,0));var _={};Ee===!0&&(Ee=["FlateEncode"]);var z=D.additionalKeyValues||[],Y=(_=xt.API.processDataByFilters!==void 0?xt.API.processDataByFilters(oe,Ee):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(_.data.length!==0&&(z.push({key:"Length",value:_.data.length}),Oe===!0&&z.push({key:"Length1",value:$e})),Y.length!=0)if(Y.split("/").length-1==1)z.push({key:"Filter",value:Y});else{z.push({key:"Filter",value:"["+Y+"]"});for(var me=0;me<z.length;me+=1)if(z[me].key==="DecodeParms"){for(var je=[],Me=0;Me<_.reverseChain.split("/").length-1;Me+=1)je.push("null");je.push(z[me].value),z[me].value="["+je.join(" ")+"]"}}B("<<");for(var Je=0;Je<z.length;Je++)B("/"+z[Je].key+" "+z[Je].value);B(">>"),_.data.length!==0&&(B("stream"),B(at(_.data)),B("endstream"))},Pa=h.__private__.putPage=function(D){var oe=D.number,Ee=D.data,Te=D.objId,Oe=D.contentsObjId;Tn(Te,!0),B("<</Type /Page"),B("/Parent "+D.rootDictionaryObjId+" 0 R"),B("/Resources "+D.resourceDictionaryObjId+" 0 R"),B("/MediaBox ["+parseFloat(P(D.mediaBox.bottomLeftX))+" "+parseFloat(P(D.mediaBox.bottomLeftY))+" "+P(D.mediaBox.topRightX)+" "+P(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&B("/CropBox ["+P(D.cropBox.bottomLeftX)+" "+P(D.cropBox.bottomLeftY)+" "+P(D.cropBox.topRightX)+" "+P(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&B("/BleedBox ["+P(D.bleedBox.bottomLeftX)+" "+P(D.bleedBox.bottomLeftY)+" "+P(D.bleedBox.topRightX)+" "+P(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&B("/TrimBox ["+P(D.trimBox.bottomLeftX)+" "+P(D.trimBox.bottomLeftY)+" "+P(D.trimBox.topRightX)+" "+P(D.trimBox.topRightY)+"]"),D.artBox!==null&&B("/ArtBox ["+P(D.artBox.bottomLeftX)+" "+P(D.artBox.bottomLeftY)+" "+P(D.artBox.topRightX)+" "+P(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&B("/UserUnit "+D.userUnit),Jt.publish("putPage",{objId:Te,pageContext:_t[oe],pageNumber:oe,page:Ee}),B("/Contents "+Oe+" 0 R"),B(">>"),B("endobj");var $e=Ee.join(`
`);return x===v.ADVANCED&&($e+=`
Q`),Tn(Oe,!0),cn({data:$e,filters:$i(),objectId:Oe}),B("endobj"),Te},No=h.__private__.putPages=function(){var D,oe,Ee=[];for(D=1;D<=nr;D++)_t[D].objId=Jr(),_t[D].contentsObjId=Jr();for(D=1;D<=nr;D++)Ee.push(Pa({number:D,data:Z[D],objId:_t[D].objId,contentsObjId:_t[D].contentsObjId,mediaBox:_t[D].mediaBox,cropBox:_t[D].cropBox,bleedBox:_t[D].bleedBox,trimBox:_t[D].trimBox,artBox:_t[D].artBox,userUnit:_t[D].userUnit,rootDictionaryObjId:Ds,resourceDictionaryObjId:xi}));Tn(Ds,!0),B("<</Type /Pages");var Te="/Kids [";for(oe=0;oe<nr;oe++)Te+=Ee[oe]+" 0 R ";B(Te+"]"),B("/Count "+nr),B(">>"),B("endobj"),Jt.publish("postPutPages")},To=function(D){Jt.publish("putFont",{font:D,out:B,newObject:ln,putStream:cn}),D.isAlreadyPutted!==!0&&(D.objectNumber=ln(),B("<<"),B("/Type /Font"),B("/BaseFont /"+Jh(D.postScriptName)),B("/Subtype /Type1"),typeof D.encoding=="string"&&B("/Encoding /"+D.encoding),B("/FirstChar 32"),B("/LastChar 255"),B(">>"),B("endobj"))},Po=function(){for(var D in Ut)Ut.hasOwnProperty(D)&&(f===!1||f===!0&&p.hasOwnProperty(D))&&To(Ut[D])},Al=function(D){D.objectNumber=ln();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[P(D.x),P(D.y),P(D.x+D.width),P(D.y+D.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var Ee=D.pages[1].join(`
`);cn({data:Ee,additionalKeyValues:oe,objectId:D.objectNumber}),B("endobj")},Sl=function(){for(var D in Sn)Sn.hasOwnProperty(D)&&Al(Sn[D])},dh=function(D,oe){var Ee,Te=[],Oe=1/(oe-1);for(Ee=0;Ee<1;Ee+=Oe)Te.push(Ee);if(Te.push(1),D[0].offset!=0){var $e={offset:0,color:D[0].color};D.unshift($e)}if(D[D.length-1].offset!=1){var Xe={offset:1,color:D[D.length-1].color};D.push(Xe)}for(var at="",_=0,z=0;z<Te.length;z++){for(Ee=Te[z];Ee>D[_+1].offset;)_++;var Y=D[_].offset,me=(Ee-Y)/(D[_+1].offset-Y),je=D[_].color,Me=D[_+1].color;at+=fe(Math.round((1-me)*je[0]+me*Me[0]).toString(16))+fe(Math.round((1-me)*je[1]+me*Me[1]).toString(16))+fe(Math.round((1-me)*je[2]+me*Me[2]).toString(16))}return at.trim()},Fc=function(D,oe){oe||(oe=21);var Ee=ln(),Te=dh(D.colors,oe),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+oe+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cn({data:Te,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),B("endobj"),D.objectNumber=ln(),B("<< /ShadingType "+D.type),B("/ColorSpace /DeviceRGB");var $e="/Coords ["+P(parseFloat(D.coords[0]))+" "+P(parseFloat(D.coords[1]))+" ";D.type===2?$e+=P(parseFloat(D.coords[2]))+" "+P(parseFloat(D.coords[3])):$e+=P(parseFloat(D.coords[2]))+" "+P(parseFloat(D.coords[3]))+" "+P(parseFloat(D.coords[4]))+" "+P(parseFloat(D.coords[5])),B($e+="]"),D.matrix&&B("/Matrix ["+D.matrix.toString()+"]"),B("/Function "+Ee+" 0 R"),B("/Extend [true true]"),B(">>"),B("endobj")},fh=function(D,oe){var Ee=Jr(),Te=ln();oe.push({resourcesOid:Ee,objectOid:Te}),D.objectNumber=Te;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+D.boundingBox.map(P).join(" ")+"]"}),Oe.push({key:"XStep",value:P(D.xStep)}),Oe.push({key:"YStep",value:P(D.yStep)}),Oe.push({key:"Resources",value:Ee+" 0 R"}),D.matrix&&Oe.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),cn({data:D.stream,additionalKeyValues:Oe,objectId:D.objectNumber}),B("endobj")},Co=function(D){var oe;for(oe in Mt)Mt.hasOwnProperty(oe)&&(Mt[oe]instanceof sf?Fc(Mt[oe]):Mt[oe]instanceof mp&&fh(Mt[oe],D))},ko=function(D){for(var oe in D.objectNumber=ln(),B("<<"),D)switch(oe){case"opacity":B("/ca "+W(D[oe]));break;case"stroke-opacity":B("/CA "+W(D[oe]))}B(">>"),B("endobj")},Ms=function(){var D;for(D in xr)xr.hasOwnProperty(D)&&ko(xr[D])},Nl=function(){for(var D in B("/XObject <<"),Sn)Sn.hasOwnProperty(D)&&Sn[D].objectNumber>=0&&B("/"+D+" "+Sn[D].objectNumber+" 0 R");Jt.publish("putXobjectDict"),B(">>")},zm=function(){Lr.oid=ln(),B("<<"),B("/Filter /Standard"),B("/V "+Lr.v),B("/R "+Lr.r),B("/U <"+Lr.toHexString(Lr.U)+">"),B("/O <"+Lr.toHexString(Lr.O)+">"),B("/P "+Lr.P),B(">>"),B("endobj")},Nd=function(){for(var D in B("/Font <<"),Ut)Ut.hasOwnProperty(D)&&(f===!1||f===!0&&p.hasOwnProperty(D))&&B("/"+D+" "+Ut[D].objectNumber+" 0 R");B(">>")},hh=function(){if(Object.keys(Mt).length>0){for(var D in B("/Shading <<"),Mt)Mt.hasOwnProperty(D)&&Mt[D]instanceof sf&&Mt[D].objectNumber>=0&&B("/"+D+" "+Mt[D].objectNumber+" 0 R");Jt.publish("putShadingPatternDict"),B(">>")}},Tl=function(D){if(Object.keys(Mt).length>0){for(var oe in B("/Pattern <<"),Mt)Mt.hasOwnProperty(oe)&&Mt[oe]instanceof h.TilingPattern&&Mt[oe].objectNumber>=0&&Mt[oe].objectNumber<D&&B("/"+oe+" "+Mt[oe].objectNumber+" 0 R");Jt.publish("putTilingPatternDict"),B(">>")}},Td=function(){if(Object.keys(xr).length>0){var D;for(D in B("/ExtGState <<"),xr)xr.hasOwnProperty(D)&&xr[D].objectNumber>=0&&B("/"+D+" "+xr[D].objectNumber+" 0 R");Jt.publish("putGStateDict"),B(">>")}},Rr=function(D){Tn(D.resourcesOid,!0),B("<<"),B("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Nd(),hh(),Tl(D.objectOid),Td(),Nl(),B(">>"),B("endobj")},Pd=function(){var D=[];Po(),Ms(),Sl(),Co(D),Jt.publish("putResources"),D.forEach(Rr),Rr({resourcesOid:xi,objectOid:Number.MAX_SAFE_INTEGER}),Jt.publish("postPutResources")},Cd=function(){Jt.publish("putAdditionalObjects");for(var D=0;D<ae.length;D++){var oe=ae[D];Tn(oe.objId,!0),B(oe.content),B("endobj")}Jt.publish("postPutAdditionalObjects")},ph=function(D){Dt[D.fontName]=Dt[D.fontName]||{},Dt[D.fontName][D.fontStyle]=D.id},kd=function(D,oe,Ee,Te,Oe){var $e={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:D,fontName:oe,fontStyle:Ee,encoding:Te,isStandardFont:Oe||!1,metadata:{}};return Jt.publish("addFont",{font:$e,instance:this}),Ut[$e.id]=$e,ph($e),$e.id},mh=function(D){for(var oe=0,Ee=q.length;oe<Ee;oe++){var Te=kd.call(this,D[oe][0],D[oe][1],D[oe][2],q[oe][3],!0);f===!1&&(p[Te]=!0);var Oe=D[oe][0].split("-");ph({id:Te,fontName:Oe[0],fontStyle:Oe[1]||""})}Jt.publish("addFonts",{fonts:Ut,dictionary:Dt})},sa=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Te){var oe=Te.stack||"";~oe.indexOf(" at ")&&(oe=oe.split(" at ")[1]);var Ee="Error in function "+oe.split(`
`)[0].split("<")[0]+": "+Te.message;if(!At.console)throw new Error(Ee);At.console.error(Ee,Te),At.alert&&alert(Ee)}},D.foo.bar=D,D.foo},Bc=function(D,oe){var Ee,Te,Oe,$e,Xe,at,_,z,Y;if(Oe=(oe=oe||{}).sourceEncoding||"Unicode",Xe=oe.outputEncoding,(oe.autoencode||Xe)&&Ut[bt].metadata&&Ut[bt].metadata[Oe]&&Ut[bt].metadata[Oe].encoding&&($e=Ut[bt].metadata[Oe].encoding,!Xe&&Ut[bt].encoding&&(Xe=Ut[bt].encoding),!Xe&&$e.codePages&&(Xe=$e.codePages[0]),typeof Xe=="string"&&(Xe=$e[Xe]),Xe)){for(_=!1,at=[],Ee=0,Te=D.length;Ee<Te;Ee++)(z=Xe[D.charCodeAt(Ee)])?at.push(String.fromCharCode(z)):at.push(D[Ee]),at[Ee].charCodeAt(0)>>8&&(_=!0);D=at.join("")}for(Ee=D.length;_===void 0&&Ee!==0;)D.charCodeAt(Ee-1)>>8&&(_=!0),Ee--;if(!_)return D;for(at=oe.noBOM?[]:[254,255],Ee=0,Te=D.length;Ee<Te;Ee++){if((Y=(z=D.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(Y),at.push(z-(Y<<8))}return String.fromCharCode.apply(void 0,at)},Qr=h.__private__.pdfEscape=h.pdfEscape=function(D,oe){return Bc(D,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vi=h.__private__.beginPage=function(D){Z[++nr]=[],_t[nr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Id(nr),ve(Z[J])},Pl=function(D,oe){var Ee,Te,Oe;switch(r=oe||r,typeof D=="string"&&(Ee=g(D.toLowerCase()),Array.isArray(Ee)&&(Te=Ee[0],Oe=Ee[1])),Array.isArray(D)&&(Te=D[0]*et,Oe=D[1]*et),isNaN(Te)&&(Te=i[0],Oe=i[1]),(Te>14400||Oe>14400)&&(Sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Oe=Math.min(14400,Oe)),i=[Te,Oe],r.substr(0,1)){case"l":Oe>Te&&(i=[Oe,Te]);break;case"p":Te>Oe&&(i=[Oe,Te])}Vi(i),Dd(Ld),B(si),Bd!==0&&B(Bd+" J"),Xc!==0&&B(Xc+" j"),Jt.publish("addPage",{pageNumber:nr})},Uc=function(D){D>0&&D<=nr&&(Z.splice(D,1),_t.splice(D,1),nr--,J>nr&&(J=nr),this.setPage(J))},Id=function(D){D>0&&D<=nr&&(J=D)},cr=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Z.length-1},Cl=function(D,oe,Ee){var Te,Oe=void 0;return Ee=Ee||{},D=D!==void 0?D:Ut[bt].fontName,oe=oe!==void 0?oe:Ut[bt].fontStyle,Te=D.toLowerCase(),Dt[Te]!==void 0&&Dt[Te][oe]!==void 0?Oe=Dt[Te][oe]:Dt[D]!==void 0&&Dt[D][oe]!==void 0?Oe=Dt[D][oe]:Ee.disableWarning===!1&&Sr.warn("Unable to look up font label for font '"+D+"', '"+oe+"'. Refer to getFontList() for available fonts."),Oe||Ee.noFallback||(Oe=Dt.times[oe])==null&&(Oe=Dt.times.normal),Oe},kl=h.__private__.putInfo=function(){var D=ln(),oe=function(Te){return Te};for(var Ee in u!==null&&(oe=Lr.encryptor(D,0)),B("<<"),B("/Producer ("+Qr(oe("jsPDF "+xt.version))+")"),nt)nt.hasOwnProperty(Ee)&&nt[Ee]&&B("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+Qr(oe(nt[Ee]))+")");B("/CreationDate ("+Qr(oe(se))+")"),B(">>"),B("endobj")},Fs=h.__private__.putCatalog=function(D){var oe=(D=D||{}).rootDictionaryObjId||Ds;switch(ln(),B("<<"),B("/Type /Catalog"),B("/Pages "+oe+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":B("/OpenAction [3 0 R /FitH null]");break;case"fullheight":B("/OpenAction [3 0 R /FitV null]");break;case"fullpage":B("/OpenAction [3 0 R /Fit]");break;case"original":B("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+ne;Ee.substr(Ee.length-1)==="%"&&(ne=parseInt(ne)/100),typeof ne=="number"&&B("/OpenAction [3 0 R /XYZ null null "+W(ne)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":B("/PageLayout /OneColumn");break;case"single":B("/PageLayout /SinglePage");break;case"two":case"twoleft":B("/PageLayout /TwoColumnLeft");break;case"tworight":B("/PageLayout /TwoColumnRight")}Ne&&B("/PageMode /"+Ne),Jt.publish("putCatalog"),B(">>"),B("endobj")},qm=h.__private__.putTrailer=function(){B("trailer"),B("<<"),B("/Size "+(Q+1)),B("/Root "+Q+" 0 R"),B("/Info "+(Q-1)+" 0 R"),u!==null&&B("/Encrypt "+Lr.oid+" 0 R"),B("/ID [ <"+pe+"> <"+pe+"> ]"),B(">>")},gh=h.__private__.putHeader=function(){B("%PDF-"+y),B("%ºß¬à")},Wm=h.__private__.putXRef=function(){var D="0000000000";B("xref"),B("0 "+(Q+1)),B("0000000000 65535 f ");for(var oe=1;oe<=Q;oe++)typeof $[oe]=="function"?B((D+$[oe]()).slice(-10)+" 00000 n "):$[oe]!==void 0?B((D+$[oe]).slice(-10)+" 00000 n "):B("0000000000 00000 n ")},Bs=h.__private__.buildDocument=function(){H(),ve(V),Jt.publish("buildDocument"),gh(),No(),Cd(),Pd(),u!==null&&zm(),kl(),Fs();var D=te;return Wm(),qm(),B("startxref"),B(""+D),B("%%EOF"),ve(Z[J]),V.join(`
`)},$c=h.__private__.getBlob=function(D){return new Blob([R(D)],{type:"application/pdf"})},Vc=h.output=h.__private__.output=sa(function(D,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",D){case void 0:return Bs();case"save":h.save(oe.filename);break;case"arraybuffer":return R(Bs());case"blob":return $c(Bs());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL($c(Bs()))||void 0;Sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Te=Bs();try{Ee=o4(Te)}catch{Ee=o4(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+oe.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&(Oe=oe.pdfObjectUrl,$e="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",at=At.open();return at!==null&&at.document.write(Xe),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',z=At.open();if(z!==null){z.document.write(_);var Y=this;z.document.documentElement.querySelector("#pdfViewer").onload=function(){z.document.title=oe.filename,z.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Y.output("bloburl"))}}return z}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',je=At.open();if(je!==null&&(je.document.write(me),je.document.title=oe.filename),je||typeof safari>"u")return je;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",oe);default:return null}}),Io=function(D){return Array.isArray(Za)===!0&&Za.indexOf(D)>-1};switch(n){case"pt":et=1;break;case"mm":et=72/25.4;break;case"cm":et=72/2.54;break;case"in":et=72;break;case"px":et=Io("px_scaling")==1?.75:96/72;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);et=n}var Lr=null;we(),ce();var yh=function(D){return u!==null?Lr.encryptor(D,0):function(oe){return oe}},jd=h.__private__.getPageInfo=h.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[D].objId,pageNumber:D,pageContext:_t[D]}},Tt=h.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in _t)if(_t[oe].objId===D)break;return jd(oe)},jo=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:_t[J].objId,pageNumber:J,pageContext:_t[J]}};h.addPage=function(){return Pl.apply(this,arguments),this},h.setPage=function(){return Id.apply(this,arguments),ve.call(this,Z[J]),this},h.insertPage=function(D){return this.addPage(),this.movePage(J,D),this},h.movePage=function(D,oe){var Ee,Te;if(D>oe){Ee=Z[D],Te=_t[D];for(var Oe=D;Oe>oe;Oe--)Z[Oe]=Z[Oe-1],_t[Oe]=_t[Oe-1];Z[oe]=Ee,_t[oe]=Te,this.setPage(oe)}else if(D<oe){Ee=Z[D],Te=_t[D];for(var $e=D;$e<oe;$e++)Z[$e]=Z[$e+1],_t[$e]=_t[$e+1];Z[oe]=Ee,_t[oe]=Te,this.setPage(oe)}return this},h.deletePage=function(){return Uc.apply(this,arguments),this},h.__private__.text=h.text=function(D,oe,Ee,Te,Oe){var $e,Xe,at,_,z,Y,me,je,Me,Je=(Te=Te||{}).scope||this;if(typeof D=="number"&&typeof oe=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var kt=Ee;Ee=oe,oe=D,D=kt}if(arguments[3]instanceof dt?(k("The transform parameter of text() with a Matrix value"),Me=Oe):(at=arguments[4],_=arguments[5],mr(me=arguments[3])==="object"&&me!==null||(typeof at=="string"&&(_=at,at=null),typeof me=="string"&&(_=me,me=null),typeof me=="number"&&(at=me,me=null),Te={flags:me,angle:at,align:_})),isNaN(oe)||isNaN(Ee)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return Je;var Vt="",It=!1,or=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:sr,_r=Je.internal.scaleFactor;function qs(Cr){return Cr=Cr.split("	").join(Array(Te.TabLen||9).join(" ")),Qr(Cr,me)}function oi(Cr){for(var kr,dn=Cr.concat(),$n=[],Fl=dn.length;Fl--;)typeof(kr=dn.shift())=="string"?$n.push(kr):Array.isArray(Cr)&&(kr.length===1||kr[1]===void 0&&kr[2]===void 0)?$n.push(kr[0]):$n.push([kr[0],kr[1],kr[2]]);return $n}function Do(Cr,kr){var dn;if(typeof Cr=="string")dn=kr(Cr)[0];else if(Array.isArray(Cr)){for(var $n,Fl,eg=Cr.concat(),kh=[],Hy=eg.length;Hy--;)typeof($n=eg.shift())=="string"?kh.push(kr($n)[0]):Array.isArray($n)&&typeof $n[0]=="string"&&(Fl=kr($n[0],$n[1],$n[2]),kh.push([Fl[0],Fl[1],Fl[2]]));dn=kh}return dn}var Mo=!1,Gm=!0;if(typeof D=="string")Mo=!0;else if(Array.isArray(D)){var Km=D.concat();Xe=[];for(var _h,li=Km.length;li--;)(typeof(_h=Km.shift())!="string"||Array.isArray(_h)&&typeof _h[0]!="string")&&(Gm=!1);Mo=Gm}if(Mo===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Eh=G/Je.internal.scaleFactor,Ah=Eh*(or-1);switch(Te.baseline){case"bottom":Ee-=Ah;break;case"top":Ee+=Eh-Ah;break;case"hanging":Ee+=Eh-2*Ah;break;case"middle":Ee+=Eh/2-Ah}if((Y=Te.maxWidth||0)>0&&(typeof D=="string"?D=Je.splitTextToSize(D,Y):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Cr,kr){return Cr.concat(Je.splitTextToSize(kr,Y))},[]))),$e={text:D,x:oe,y:Ee,options:Te,mutex:{pdfEscape:Qr,activeFontKey:bt,fonts:Ut,activeFontSize:G}},Jt.publish("preProcessText",$e),D=$e.text,at=(Te=$e.options).angle,!(Me instanceof dt)&&at&&typeof at=="number"){at*=Math.PI/180,Te.rotationDirection===0&&(at=-at),x===v.ADVANCED&&(at=-at);var Sh=Math.cos(at),Ym=Math.sin(at);Me=new dt(Sh,Ym,-Ym,Sh,0,0)}else at&&at instanceof dt&&(Me=at);x!==v.ADVANCED||Me||(Me=bi),(z=Te.charSpace||jl)!==void 0&&(Vt+=P(A(z))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(je=Te.horizontalScale)!==void 0&&(Vt+=P(100*je)+` Tz
`),Te.lang;var oa=-1,q2=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,Xm=Je.internal.getCurrentPageInfo().pageContext;switch(q2){case 0:case!1:case"fill":oa=0;break;case 1:case!0:case"stroke":oa=1;break;case 2:case"fillThenStroke":oa=2;break;case 3:case"invisible":oa=3;break;case 4:case"fillAndAddForClipping":oa=4;break;case 5:case"strokeAndAddPathForClipping":oa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oa=6;break;case 7:case"addToPathForClipping":oa=7}var Vy=Xm.usedRenderingMode!==void 0?Xm.usedRenderingMode:-1;oa!==-1?Vt+=oa+` Tr
`:Vy!==-1&&(Vt+=`0 Tr
`),oa!==-1&&(Xm.usedRenderingMode=oa),_=Te.align||"left";var ts,Nh=G*or,zy=Je.internal.pageSize.getWidth(),qy=Ut[bt];z=Te.charSpace||jl,Y=Te.maxWidth||0,me=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var tu=[],Ud=function(Cr){return Je.getStringUnitWidth(Cr,{font:qy,charSpace:z,fontSize:G,doKerning:!1})*G/_r};if(Object.prototype.toString.call(D)==="[object Array]"){var la;Xe=oi(D),_!=="left"&&(ts=Xe.map(Ud));var zi,ru=0;if(_==="right"){oe-=ts[0],D=[],li=Xe.length;for(var Ll=0;Ll<li;Ll++)Ll===0?(zi=Ia(oe),la=Un(Ee)):(zi=A(ru-ts[Ll]),la=-Nh),D.push([Xe[Ll],zi,la]),ru=ts[Ll]}else if(_==="center"){oe-=ts[0]/2,D=[],li=Xe.length;for(var Dl=0;Dl<li;Dl++)Dl===0?(zi=Ia(oe),la=Un(Ee)):(zi=A((ru-ts[Dl])/2),la=-Nh),D.push([Xe[Dl],zi,la]),ru=ts[Dl]}else if(_==="left"){D=[],li=Xe.length;for(var Th=0;Th<li;Th++)D.push(Xe[Th])}else if(_==="justify"&&qy.encoding==="Identity-H"){D=[],li=Xe.length,Y=Y!==0?Y:zy;for(var Ml=0,un=0;un<li;un++)if(la=un===0?Un(Ee):-Nh,zi=un===0?Ia(oe):Ml,un<li-1){var Jm=A((Y-ts[un])/(Xe[un].split(" ").length-1)),qi=Xe[un].split(" ");D.push([qi[0]+" ",zi,la]),Ml=0;for(var rs=1;rs<qi.length;rs++){var Ph=(Ud(qi[rs-1]+" "+qi[rs])-Ud(qi[rs]))*_r+Jm;rs==qi.length-1?D.push([qi[rs],Ph,0]):D.push([qi[rs]+" ",Ph,0]),Ml-=Ph}}else D.push([Xe[un],zi,la]);D.push(["",Ml,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],li=Xe.length,Y=Y!==0?Y:zy,un=0;un<li;un++)la=un===0?Un(Ee):-Nh,zi=un===0?Ia(oe):0,un<li-1?tu.push(P(A((Y-ts[un])/(Xe[un].split(" ").length-1)))):tu.push(0),D.push([Xe[un],zi,la])}}var Wy=typeof Te.R2L=="boolean"?Te.R2L:Ae;Wy===!0&&(D=Do(D,function(Cr,kr,dn){return[Cr.split("").reverse().join(""),kr,dn]})),$e={text:D,x:oe,y:Ee,options:Te,mutex:{pdfEscape:Qr,activeFontKey:bt,fonts:Ut,activeFontSize:G}},Jt.publish("postProcessText",$e),D=$e.text,It=$e.mutex.isHex||!1;var Qm=Ut[bt].encoding;Qm!=="WinAnsiEncoding"&&Qm!=="StandardEncoding"||(D=Do(D,function(Cr,kr,dn){return[qs(Cr),kr,dn]})),Xe=oi(D),D=[];for(var $d,Vd,nu,zd=0,Ch=1,qd=Array.isArray(Xe[0])?Ch:zd,iu="",Zm=function(Cr,kr,dn){var $n="";return dn instanceof dt?(dn=typeof Te.angle=="number"?ia(dn,new dt(1,0,0,1,Cr,kr)):ia(new dt(1,0,0,1,Cr,kr),dn),x===v.ADVANCED&&(dn=ia(new dt(1,0,0,-1,0,0),dn)),$n=dn.join(" ")+` Tm
`):$n=P(Cr)+" "+P(kr)+` Td
`,$n},ns=0;ns<Xe.length;ns++){switch(iu="",qd){case Ch:nu=(It?"<":"(")+Xe[ns][0]+(It?">":")"),$d=parseFloat(Xe[ns][1]),Vd=parseFloat(Xe[ns][2]);break;case zd:nu=(It?"<":"(")+Xe[ns]+(It?">":")"),$d=Ia(oe),Vd=Un(Ee)}tu!==void 0&&tu[ns]!==void 0&&(iu=tu[ns]+` Tw
`),ns===0?D.push(iu+Zm($d,Vd,Me)+nu):qd===zd?D.push(iu+nu):qd===Ch&&D.push(iu+Zm($d,Vd,Me)+nu)}D=qd===zd?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var is=`BT
/`;return is+=bt+" "+G+` Tf
`,is+=P(G*or)+` TL
`,is+=Vs+`
`,is+=Vt,is+=D,B(is+="ET"),p[bt]=!0,Je};var Hm=h.__private__.clip=h.clip=function(D){return B(D==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Hm("evenodd")},h.__private__.discardPath=h.discardPath=function(){return B("n"),this};var es=h.__private__.isValidStyle=function(D){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(oe=!0),oe};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(D){return es(D)&&(c=D),this};var vh=h.__private__.getStyle=h.getStyle=function(D){var oe=c;switch(D){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=D}return oe},Ca=h.close=function(){return B("h"),this};h.stroke=function(){return B("S"),this},h.fill=function(D){return zc("f",D),this},h.fillEvenOdd=function(D){return zc("f*",D),this},h.fillStroke=function(D){return zc("B",D),this},h.fillStrokeEvenOdd=function(D){return zc("B*",D),this};var zc=function(D,oe){mr(oe)==="object"?Wc(oe,D):B(D)},Od=function(D){D===null||x===v.ADVANCED&&D===void 0||(D=vh(D),B(D))};function qc(D,oe,Ee,Te,Oe){var $e=new mp(oe||this.boundingBox,Ee||this.xStep,Te||this.yStep,this.gState,Oe||this.matrix);$e.stream=this.stream;var Xe=D+"$$"+this.cloneIndex+++"$$";return Nn(Xe,$e),$e}var Wc=function(D,oe){var Ee=Qa[D.key],Te=Mt[Ee];if(Te instanceof sf)B("q"),B(wh(oe)),Te.gState&&h.setGState(Te.gState),B(D.matrix.toString()+" cm"),B("/"+Ee+" sh"),B("Q");else if(Te instanceof mp){var Oe=new dt(1,0,0,-1,0,_i());D.matrix&&(Oe=Oe.multiply(D.matrix||bi),Ee=qc.call(Te,D.key,D.boundingBox,D.xStep,D.yStep,Oe).id),B("q"),B("/Pattern cs"),B("/"+Ee+" scn"),Te.gState&&h.setGState(Te.gState),B(oe),B("Q")}},wh=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Us=h.moveTo=function(D,oe){return B(P(A(D))+" "+P(L(oe))+" m"),this},ka=h.lineTo=function(D,oe){return B(P(A(D))+" "+P(L(oe))+" l"),this},$s=h.curveTo=function(D,oe,Ee,Te,Oe,$e){return B([P(A(D)),P(L(oe)),P(A(Ee)),P(L(Te)),P(A(Oe)),P(L($e)),"c"].join(" ")),this};h.__private__.line=h.line=function(D,oe,Ee,Te,Oe){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||isNaN(Te)||!es(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return x===v.COMPAT?this.lines([[Ee-D,Te-oe]],D,oe,[1,1],Oe||"S"):this.lines([[Ee-D,Te-oe]],D,oe,[1,1]).stroke()},h.__private__.lines=h.lines=function(D,oe,Ee,Te,Oe,$e){var Xe,at,_,z,Y,me,je,Me,Je,kt,Vt,It;if(typeof D=="number"&&(It=Ee,Ee=oe,oe=D,D=It),Te=Te||[1,1],$e=$e||!1,isNaN(oe)||isNaN(Ee)||!Array.isArray(D)||!Array.isArray(Te)||!es(Oe)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Us(oe,Ee),Xe=Te[0],at=Te[1],z=D.length,kt=oe,Vt=Ee,_=0;_<z;_++)(Y=D[_]).length===2?(kt=Y[0]*Xe+kt,Vt=Y[1]*at+Vt,ka(kt,Vt)):(me=Y[0]*Xe+kt,je=Y[1]*at+Vt,Me=Y[2]*Xe+kt,Je=Y[3]*at+Vt,kt=Y[4]*Xe+kt,Vt=Y[5]*at+Vt,$s(me,je,Me,Je,kt,Vt));return $e&&Ca(),Od(Oe),this},h.path=function(D){for(var oe=0;oe<D.length;oe++){var Ee=D[oe],Te=Ee.c;switch(Ee.op){case"m":Us(Te[0],Te[1]);break;case"l":ka(Te[0],Te[1]);break;case"c":$s.apply(this,Te);break;case"h":Ca()}}return this},h.__private__.rect=h.rect=function(D,oe,Ee,Te,Oe){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||isNaN(Te)||!es(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return x===v.COMPAT&&(Te=-Te),B([P(A(D)),P(L(oe)),P(A(Ee)),P(A(Te)),"re"].join(" ")),Od(Oe),this},h.__private__.triangle=h.triangle=function(D,oe,Ee,Te,Oe,$e,Xe){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||isNaN(Te)||isNaN(Oe)||isNaN($e)||!es(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-D,Te-oe],[Oe-Ee,$e-Te],[D-Oe,oe-$e]],D,oe,[1,1],Xe,!0),this},h.__private__.roundedRect=h.roundedRect=function(D,oe,Ee,Te,Oe,$e,Xe){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||isNaN(Te)||isNaN(Oe)||isNaN($e)||!es(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*Ee),$e=Math.min($e,.5*Te),this.lines([[Ee-2*Oe,0],[Oe*at,0,Oe,$e-$e*at,Oe,$e],[0,Te-2*$e],[0,$e*at,-Oe*at,$e,-Oe,$e],[2*Oe-Ee,0],[-Oe*at,0,-Oe,-$e*at,-Oe,-$e],[0,2*$e-Te],[0,-$e*at,Oe*at,-$e,Oe,-$e]],D+Oe,oe,[1,1],Xe,!0),this},h.__private__.ellipse=h.ellipse=function(D,oe,Ee,Te,Oe){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||isNaN(Te)||!es(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*Ee,Xe=4/3*(Math.SQRT2-1)*Te;return Us(D+Ee,oe),$s(D+Ee,oe-Xe,D+$e,oe-Te,D,oe-Te),$s(D-$e,oe-Te,D-Ee,oe-Xe,D-Ee,oe),$s(D-Ee,oe+Xe,D-$e,oe+Te,D,oe+Te),$s(D+$e,oe+Te,D+Ee,oe+Xe,D+Ee,oe),Od(Oe),this},h.__private__.circle=h.circle=function(D,oe,Ee,Te){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||!es(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,oe,Ee,Ee,Te)},h.setFont=function(D,oe,Ee){return Ee&&(oe=C(oe,Ee)),bt=Cl(D,oe,{disableWarning:!1}),this};var Rd=h.__private__.getFont=h.getFont=function(){return Ut[Cl.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var D,oe,Ee={};for(D in Dt)if(Dt.hasOwnProperty(D))for(oe in Ee[D]=[],Dt[D])Dt[D].hasOwnProperty(oe)&&Ee[D].push(oe);return Ee},h.addFont=function(D,oe,Ee,Te,Oe){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(Ee=C(Ee,Te)),Oe=Oe||"Identity-H",kd.call(this,D,oe,Ee,Oe)};var sr,Ld=t.lineWidth||.200025,Hc=h.__private__.getLineWidth=h.getLineWidth=function(){return Ld},Dd=h.__private__.setLineWidth=h.setLineWidth=function(D){return Ld=D,B(P(A(D))+" w"),this};h.__private__.setLineDash=xt.API.setLineDash=xt.API.setLineDashPattern=function(D,oe){if(D=D||[],oe=oe||0,isNaN(oe)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ee){return P(A(Ee))}).join(" "),oe=P(A(oe)),B("["+D+"] "+oe+" d"),this};var Md=h.__private__.getLineHeight=h.getLineHeight=function(){return G*sr};h.__private__.getLineHeight=h.getLineHeight=function(){return G*sr};var Fd=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(sr=D),this},Il=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return sr};Fd(t.lineHeight);var Ia=h.__private__.getHorizontalCoordinate=function(D){return A(D)},Un=h.__private__.getVerticalCoordinate=function(D){return x===v.ADVANCED?D:_t[J].mediaBox.topRightY-_t[J].mediaBox.bottomLeftY-A(D)},bh=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(D){return P(Ia(D))},Oo=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(D){return P(Un(D))},si=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return aa(si)},h.__private__.setStrokeColor=h.setDrawColor=function(D,oe,Ee,Te){return si=Ui({ch1:D,ch2:oe,ch3:Ee,ch4:Te,pdfColorType:"draw",precision:2}),B(si),this};var Gc=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return aa(Gc)},h.__private__.setFillColor=h.setFillColor=function(D,oe,Ee,Te){return Gc=Ui({ch1:D,ch2:oe,ch3:Ee,ch4:Te,pdfColorType:"fill",precision:2}),B(Gc),this};var Vs=t.textColor||"0 g",Kc=h.__private__.getTextColor=h.getTextColor=function(){return aa(Vs)};h.__private__.setTextColor=h.setTextColor=function(D,oe,Ee,Te){return Vs=Ui({ch1:D,ch2:oe,ch3:Ee,ch4:Te,pdfColorType:"text",precision:3}),this};var jl=t.charSpace,Yc=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(jl||0)};h.__private__.setCharSpace=h.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jl=D,this};var Bd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(D){var oe=h.CapJoinStyles[D];if(oe===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bd=oe,B(oe+" J"),this};var Xc=0;h.__private__.setLineJoin=h.setLineJoin=function(D){var oe=h.CapJoinStyles[D];if(oe===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xc=oe,B(oe+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return B(P(A(D))+" M"),this},h.GState=Pb,h.setGState=function(D){(D=typeof D=="string"?xr[An[D]]:Ro(null,D)).equals(Bn)||(B("/"+D.id+" gs"),Bn=D)};var Ro=function(D,oe){if(!D||!An[D]){var Ee=!1;for(var Te in xr)if(xr.hasOwnProperty(Te)&&xr[Te].equals(oe)){Ee=!0;break}if(Ee)oe=xr[Te];else{var Oe="GS"+(Object.keys(xr).length+1).toString(10);xr[Oe]=oe,oe.id=Oe}return D&&(An[D]=oe.id),Jt.publish("addGState",oe),oe}};h.addGState=function(D,oe){return Ro(D,oe),this},h.saveGraphicsState=function(){return B("q"),ai.push({key:bt,size:G,color:Vs}),this},h.restoreGraphicsState=function(){B("Q");var D=ai.pop();return bt=D.key,G=D.size,Vs=D.color,Bn=null,this},h.setCurrentTransformationMatrix=function(D){return B(D.toString()+" cm"),this},h.comment=function(D){return B("#"+D),this};var Ol=function(D,oe){var Ee=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function($e){isNaN($e)||(Ee=parseFloat($e))}});var Te=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function($e){isNaN($e)||(Te=parseFloat($e))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function($e){Oe=$e.toString()}}),this},Jc=function(D,oe,Ee,Te){Ol.call(this,D,oe),this.type="rect";var Oe=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(Xe){isNaN(Xe)||(Oe=parseFloat(Xe))}});var $e=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(Xe){isNaN(Xe)||($e=parseFloat(Xe))}}),this},Rl=function(){this.page=nr,this.currentPage=J,this.pages=Z.slice(0),this.pagesContext=_t.slice(0),this.x=ar,this.y=gt,this.matrix=qr,this.width=Lo(J),this.height=_i(J),this.outputDestination=_e,this.id="",this.objectNumber=-1};Rl.prototype.restore=function(){nr=this.page,J=this.currentPage,_t=this.pagesContext,Z=this.pages,ar=this.x,gt=this.y,qr=this.matrix,Zc(J,this.width),eu(J,this.height),_e=this.outputDestination};var Qc=function(D,oe,Ee,Te,Oe){Ta.push(new Rl),nr=J=0,Z=[],ar=D,gt=oe,qr=Oe,Vi([Ee,Te])},xh=function(D){if(wi[D])Ta.pop().restore();else{var oe=new Rl,Ee="Xo"+(Object.keys(Sn).length+1).toString(10);oe.id=Ee,wi[D]=Ee,Sn[Ee]=oe,Jt.publish("addFormObject",oe),Ta.pop().restore()}};for(var zs in h.beginFormObject=function(D,oe,Ee,Te,Oe){return Qc(D,oe,Ee,Te,Oe),this},h.endFormObject=function(D){return xh(D),this},h.doFormObject=function(D,oe){var Ee=Sn[wi[D]];return B("q"),B(oe.toString()+" cm"),B("/"+Ee.id+" Do"),B("Q"),this},h.getFormObject=function(D){var oe=Sn[wi[D]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},h.save=function(D,oe){return D=D||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(nf($c(Bs()),D),typeof nf.unload=="function"&&At.setTimeout&&setTimeout(nf.unload,911),this):new Promise(function(Ee,Te){try{var Oe=nf($c(Bs()),D);typeof nf.unload=="function"&&At.setTimeout&&setTimeout(nf.unload,911),Ee(Oe)}catch($e){Te($e.message)}})},xt.API)xt.API.hasOwnProperty(zs)&&(zs==="events"&&xt.API.events.length?function(D,oe){var Ee,Te,Oe;for(Oe=oe.length-1;Oe!==-1;Oe--)Ee=oe[Oe][0],Te=oe[Oe][1],D.subscribe.apply(D,[Ee].concat(typeof Te=="function"?[Te]:Te))}(Jt,xt.API.events):h[zs]=xt.API[zs]);var Lo=h.getPageWidth=function(D){return(_t[D=D||J].mediaBox.topRightX-_t[D].mediaBox.bottomLeftX)/et},Zc=h.setPageWidth=function(D,oe){_t[D].mediaBox.topRightX=oe*et+_t[D].mediaBox.bottomLeftX},_i=h.getPageHeight=function(D){return(_t[D=D||J].mediaBox.topRightY-_t[D].mediaBox.bottomLeftY)/et},eu=h.setPageHeight=function(D,oe){_t[D].mediaBox.topRightY=oe*et+_t[D].mediaBox.bottomLeftY};return h.internal={pdfEscape:Qr,getStyle:vh,getFont:Rd,getFontSize:re,getCharSpace:Yc,getTextColor:Kc,getLineHeight:Md,getLineHeightFactor:Il,getLineWidth:Hc,write:j,getHorizontalCoordinate:Ia,getVerticalCoordinate:Un,getCoordinateString:bh,getVerticalCoordinateString:Oo,collections:{},newObject:ln,newAdditionalObject:Mc,newObjectDeferred:Jr,newObjectDeferredBegin:Tn,getFilters:$i,putStream:cn,events:Jt,scaleFactor:et,pageSize:{getWidth:function(){return Lo(J)},setWidth:function(D){Zc(J,D)},getHeight:function(){return _i(J)},setHeight:function(D){eu(J,D)}},encryptionOptions:u,encryption:Lr,getEncryptor:yh,output:Vc,getNumberOfPages:cr,pages:Z,out:B,f2:W,f3:M,getPageInfo:jd,getPageInfoByObjId:Tt,getCurrentPageInfo:jo,getPDFVersion:m,Point:Ol,Rectangle:Jc,Matrix:dt,hasHotfix:Io},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Lo(J)},set:function(D){Zc(J,D)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return _i(J)},set:function(D){eu(J,D)},enumerable:!0,configurable:!0}),mh.call(h,q),bt="F1",Pl(i,r),Jt.publish("initialized"),h}Xh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Xh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xh.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Xh.prototype.processOwnerPassword=function(t,e){return c4(l4(e).substr(0,5),t)},Xh.prototype.encryptor=function(t,e){var r=l4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return c4(r,n)}},Pb.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||mr(t)!==mr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},xt.API={events:[]},xt.version="3.0.1";var tn=xt.API,OC=1,lh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jt=function(t){return t.toFixed(2)},wu=function(t){return t.toFixed(5)};tn.__acroform__={};var Na=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},zL=function(t){return t*OC},$o=function(t){var e=new OH,r=mt.internal.getHeight(t)||0,n=mt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(jt(n)),Number(jt(r))],e},_Ee=tn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},EEe=tn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},AEe=tn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},pn=tn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return AEe(t,e-1)},mn=tn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _Ee(t,e-1)},gn=tn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return EEe(t,e-1)},SEe=tn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(jt(l.lowerLeft_X)),Number(jt(l.lowerLeft_Y)),Number(jt(l.upperRight_X)),Number(jt(l.upperRight_Y))]},NEe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=u4(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+jt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=$o(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},u4=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(M){return M.split(`
`)}):i.map(function(M){return[M]});var a=r,s=mt.internal.getHeight(t)||0;s=s<0?-s:s;var o=mt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(M,A,I){if(M+1<i.length){var L=A+" "+i[M+1][0];return Zv(L,t,I).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=Zv("3",t,a).height,p=t.multiline?s-a:(s-f)/2,h=p+=2,y=0,m=0,w=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Zv(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var g="",v=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var E=!1;if(i[x].length!==1&&w!==i[x].length-1){if((f+2)*(v+2)+2>s)continue e;g+=i[x][w],E=!0,m=x,x--}else{g=(g+=i[x][w]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var S=parseInt(x),C=l(S,g,a),P=x>=i.length-1;if(C&&!P){g+=" ",w=0;continue}if(C||P){if(P)m=S;else if(t.multiline&&(f+2)*(v+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(v+2)+2>s)continue e;m=S}}for(var k="",T=y;T<=m;T++){var W=i[T];if(t.multiline){if(T===m){k+=W[w]+" ",w=(w+1)%W.length;continue}if(T===y){k+=W[W.length-1]+" ";continue}}k+=W[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=Zv(k,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}e+=jt(c)+" "+jt(h)+` Td
`,e+="("+lh(k)+`) Tj
`,e+=-jt(c)+` 0 Td
`,h=-(a+2),u=0,y=E?m:m+1,v++,g=""}break}return n.text=e,n.fontSize=a,n},Zv=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},TEe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},PEe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},CEe=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),mr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},kEe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ao.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(TEe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");OC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new RH,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&PEe(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=SEe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=mt.createDefaultAppearanceStream(o),mr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=NEe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var y=h[s];typeof y=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&CEe(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},jH=tn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),mr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+lh(n(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},D_=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+lh(n(t))+")"},tl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tl.prototype.toString=function(){return this.objId+" 0 R"},tl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},tl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:jH(i,this.objId,this.scope)}):i instanceof tl?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var OH=function(){tl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Na(OH,tl);var RH=function(){tl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+lh(r(t))+")"}},set:function(r){t=r}})};Na(RH,tl);var Ao=function t(){tl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pn(e,3)},set:function(g){g?this.F=mn(e,3):this.F=gn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Cb)return;a="FieldObject"+t.FieldNum++}var g=function(v){return v};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+lh(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/OC:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Cb||this instanceof kf))return D_(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Zn?p:D_(p,this.objId,this.scope)},set:function(g){g=g.toString(),p=this instanceof Zn?g:g.substr(0,1)==="("?Vh(g.substr(1,g.length-2)):Vh(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zn?Vh(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Zn?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Zn?h:D_(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof Zn?g:g.substr(0,1)==="("?Vh(g.substr(1,g.length-2)):Vh(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zn?Vh(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof Zn?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(g){y=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,1)},set:function(g){g?this.Ff=mn(this.Ff,1):this.Ff=gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,2)},set:function(g){g?this.Ff=mn(this.Ff,2):this.Ff=gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,3)},set:function(g){g?this.Ff=mn(this.Ff,3):this.Ff=gn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');w=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(w){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};Na(Ao,tl);var kp=function(){Ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jH(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,18)},set:function(r){r?this.Ff=mn(this.Ff,18):this.Ff=gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=mn(this.Ff,19):this.Ff=gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,20)},set:function(r){r?(this.Ff=mn(this.Ff,20),e.sort()):this.Ff=gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,22)},set:function(r){r?this.Ff=mn(this.Ff,22):this.Ff=gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,23)},set:function(r){r?this.Ff=mn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,27)},set:function(r){r?this.Ff=mn(this.Ff,27):this.Ff=gn(this.Ff,27)}}),this.hasAppearanceStream=!1};Na(kp,Ao);var Ip=function(){kp.call(this),this.fontName="helvetica",this.combo=!1};Na(Ip,kp);var jp=function(){Ip.call(this),this.combo=!0};Na(jp,Ip);var z1=function(){jp.call(this),this.edit=!0};Na(z1,jp);var Zn=function(){Ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,15)},set:function(r){r?this.Ff=mn(this.Ff,15):this.Ff=gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,16)},set:function(r){r?this.Ff=mn(this.Ff,16):this.Ff=gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,17)},set:function(r){r?this.Ff=mn(this.Ff,17):this.Ff=gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,26)},set:function(r){r?this.Ff=mn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+lh(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){mr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Na(Zn,Ao);var q1=function(){Zn.call(this),this.pushButton=!0};Na(q1,Zn);var Op=function(){Zn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Na(Op,Zn);var Cb=function(){var t,e;Ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+lh(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){mr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Na(Cb,Ao),Op.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Op.prototype.createOption=function(t){var e=new Cb;return e.Parent=this,e.optionName=t,this.Kids.push(e),IEe.call(this.scope,e),e};var W1=function(){Zn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Na(W1,Zn);var kf=function(){Ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,13)},set:function(e){e?this.Ff=mn(this.Ff,13):this.Ff=gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,21)},set:function(e){e?this.Ff=mn(this.Ff,21):this.Ff=gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,23)},set:function(e){e?this.Ff=mn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,24)},set:function(e){e?this.Ff=mn(this.Ff,24):this.Ff=gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,25)},set:function(e){e?this.Ff=mn(this.Ff,25):this.Ff=gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,26)},set:function(e){e?this.Ff=mn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Na(kf,Ao);var H1=function(){kf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,14)},set:function(t){t?this.Ff=mn(this.Ff,14):this.Ff=gn(this.Ff,14)}}),this.password=!0};Na(H1,kf);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=$o(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=u4(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=$o(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=mt.internal.getHeight(t),s=mt.internal.getWidth(t),o=u4(t,t.caption);return i.push("1 g"),i.push("0 0 "+jt(s)+" "+jt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+jt(s-1)+" "+jt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+jt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=$o(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Circle.YesNormal,e.D[t]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=$o(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=mt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+wu(mt.internal.getWidth(t)/2)+" "+wu(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=$o(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*mt.internal.Bezier_C).toFixed(5)),s=Number((n*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+wu(mt.internal.getWidth(t)/2)+" "+wu(mt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+wu(mt.internal.getWidth(t)/2)+" "+wu(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=$o(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+wu(mt.internal.getWidth(t)/2)+" "+wu(mt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Cross.YesNormal,e.D[t]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=$o(t);e.scope=t.scope;var r=[],n=mt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+jt(mt.internal.getWidth(t)-2)+" "+jt(mt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(jt(n.x1.x)+" "+jt(n.x1.y)+" m"),r.push(jt(n.x2.x)+" "+jt(n.x2.y)+" l"),r.push(jt(n.x4.x)+" "+jt(n.x4.y)+" m"),r.push(jt(n.x3.x)+" "+jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=$o(t);e.scope=t.scope;var r=mt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jt(mt.internal.getWidth(t)-2)+" "+jt(mt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(jt(r.x1.x)+" "+jt(r.x1.y)+" m"),n.push(jt(r.x2.x)+" "+jt(r.x2.y)+" l"),n.push(jt(r.x4.x)+" "+jt(r.x4.y)+" m"),n.push(jt(r.x3.x)+" "+jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=$o(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};mt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=mt.internal.getWidth(t),r=mt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},mt.internal.getWidth=function(t){var e=0;return mr(t)==="object"&&(e=zL(t.Rect[2])),e},mt.internal.getHeight=function(t){var e=0;return mr(t)==="object"&&(e=zL(t.Rect[3])),e};var IEe=tn.addField=function(t){if(kEe(this,t),!(t instanceof Ao))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};tn.AcroFormChoiceField=kp,tn.AcroFormListBox=Ip,tn.AcroFormComboBox=jp,tn.AcroFormEditBox=z1,tn.AcroFormButton=Zn,tn.AcroFormPushButton=q1,tn.AcroFormRadioButton=Op,tn.AcroFormCheckBox=W1,tn.AcroFormTextField=kf,tn.AcroFormPasswordField=H1,tn.AcroFormAppearance=mt,tn.AcroForm={ChoiceField:kp,ListBox:Ip,ComboBox:jp,EditBox:z1,Button:Zn,PushButton:q1,RadioButton:Op,CheckBox:W1,TextField:kf,PasswordField:H1,Appearance:mt},xt.AcroForm={ChoiceField:kp,ListBox:Ip,ComboBox:jp,EditBox:z1,Button:Zn,PushButton:q1,RadioButton:Op,CheckBox:W1,TextField:kf,PasswordField:H1,Appearance:mt};function LH(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(M,A){var I,L,se,pe,X,ce=e;if((A=A||e)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(C(M))for(X in r)for(se=r[X],I=0;I<se.length;I+=1){for(pe=!0,L=0;L<se[I].length;L+=1)if(se[I][L]!==void 0&&se[I][L]!==M[L]){pe=!1;break}if(pe===!0){ce=X;break}}else for(X in r)for(se=r[X],I=0;I<se.length;I+=1){for(pe=!0,L=0;L<se[I].length;L+=1)if(se[I][L]!==void 0&&se[I][L]!==M.charCodeAt(L)){pe=!1;break}if(pe===!0){ce=X;break}}return ce===e&&A!==e&&(ce=A),ce},i=function M(A){for(var I=this.internal.write,L=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var pe=[];if(pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Image"}),pe.push({key:"Width",value:A.width}),pe.push({key:"Height",value:A.height}),A.colorSpace===w.INDEXED?pe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(pe.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===w.DEVICE_CMYK&&pe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pe.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&pe.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)){for(var X="",ce=0,ue=A.transparency.length;ce<ue;ce++)X+=A.transparency[ce]+" "+A.transparency[ce]+" ";pe.push({key:"Mask",value:"["+X+"]"})}A.sMask!==void 0&&pe.push({key:"SMask",value:A.objectId+1+" 0 R"});var xe=A.filter!==void 0?["/"+A.filter]:void 0;if(L({data:A.data,additionalKeyValues:pe,alreadyAppliedFilters:xe,objectId:A.objectId}),I("endobj"),"sMask"in A&&A.sMask!==void 0){var we="/Predictor "+A.predictor+" /Colors 1 /BitsPerComponent "+A.bitsPerComponent+" /Columns "+A.width,F={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:A.bitsPerComponent,decodeParameters:we,data:A.sMask};"filter"in A&&(F.filter=A.filter),M.call(this,F)}if(A.colorSpace===w.INDEXED){var J=this.internal.newObject();L({data:k(new Uint8Array(A.palette)),objectId:J}),I("endobj")}},a=function(){var M=this.internal.collections.addImage_images;for(var A in M)i.call(this,M[A])},s=function(){var M,A=this.internal.collections.addImage_images,I=this.internal.write;for(var L in A)I("/I"+(M=A[L]).index,M.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var M=this.internal.collections.addImage_images;return o.call(this),M},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(M){return typeof t["process"+M.toUpperCase()]=="function"},f=function(M){return mr(M)==="object"&&M.nodeType===1},p=function(M,A){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var I=""+M.getAttribute("src");if(I.indexOf("data:image/")===0)return f0(unescape(I).split("base64,").pop());var L=t.loadFile(I,!0);if(L!==void 0)return L}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var se;switch(A){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;case"JPEG":case"JPG":default:se="image/jpeg"}return f0(M.toDataURL(se,1).split("base64,").pop())}},h=function(M){var A=this.internal.collections.addImage_images;if(A){for(var I in A)if(M===A[I].alias)return A[I]}},y=function(M,A,I){return M||A||(M=-96,A=-96),M<0&&(M=-1*I.width*72/M/this.internal.scaleFactor),A<0&&(A=-1*I.height*72/A/this.internal.scaleFactor),M===0&&(M=A*I.width/I.height),A===0&&(A=M*I.height/I.width),[M,A]},m=function(M,A,I,L,se,pe){var X=y.call(this,I,L,se),ce=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,xe=l.call(this);if(I=X[0],L=X[1],xe[se.index]=se,pe){pe*=Math.PI/180;var we=Math.cos(pe),F=Math.sin(pe),J=function(fe){return fe.toFixed(4)},ie=[J(we),J(F),J(-1*F),J(we),0,0,"cm"]}this.internal.write("q"),pe?(this.internal.write([1,"0","0",1,ce(M),ue(A+L),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([ce(I),"0","0",ce(L),"0","0","cm"].join(" "))):this.internal.write([ce(I),"0","0",ce(L),ce(M),ue(A+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(M){var A,I,L=0;if(typeof M=="string")for(I=M.length,A=0;A<I;A++)L=(L<<5)-L+M.charCodeAt(A),L|=0;else if(C(M))for(I=M.byteLength/2,A=0;A<I;A++)L=(L<<5)-L+M[A],L|=0;return L},x=t.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var A=!0;return M.length===0&&(A=!1),M.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(A=!1),A},E=t.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var A=M.indexOf(",");return A<0?null:M.substring(0,A).trim().endsWith("base64")?M.substring(A+1):null},S=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(M){return S()&&M instanceof ArrayBuffer};var C=t.__addimage__.isArrayBufferView=function(M){return S()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},P=t.__addimage__.binaryStringToUint8Array=function(M){for(var A=M.length,I=new Uint8Array(A),L=0;L<A;L++)I[L]=M.charCodeAt(L);return I},k=t.__addimage__.arrayBufferToBinaryString=function(M){for(var A="",I=C(M)?M:new Uint8Array(M),L=0;L<I.length;L+=8192)A+=String.fromCharCode.apply(null,I.subarray(L,L+8192));return A};t.addImage=function(){var M,A,I,L,se,pe,X,ce,ue;if(typeof arguments[1]=="number"?(A=e,I=arguments[1],L=arguments[2],se=arguments[3],pe=arguments[4],X=arguments[5],ce=arguments[6],ue=arguments[7]):(A=arguments[1],I=arguments[2],L=arguments[3],se=arguments[4],pe=arguments[5],X=arguments[6],ce=arguments[7],ue=arguments[8]),mr(M=arguments[0])==="object"&&!f(M)&&"imageData"in M){var xe=M;M=xe.imageData,A=xe.format||A||e,I=xe.x||I||0,L=xe.y||L||0,se=xe.w||xe.width||se,pe=xe.h||xe.height||pe,X=xe.alias||X,ce=xe.compression||ce,ue=xe.rotation||xe.angle||ue}var we=this.internal.getFilters();if(ce===void 0&&we.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(I)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var F=T.call(this,M,A,X,ce);return m.call(this,I,L,se,pe,F,ue),this};var T=function(M,A,I,L){var se,pe,X;if(typeof M=="string"&&n(M)===e){M=unescape(M);var ce=W(M,!1);(ce!==""||(ce=t.loadFile(M,!0))!==void 0)&&(M=ce)}if(f(M)&&(M=p(M,A)),A=n(M,A),!u(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((X=I)==null||X.length===0)&&(I=function(ue){return typeof ue=="string"||C(ue)?v(ue):C(ue.data)?v(ue.data):null}(M)),(se=h.call(this,I))||(S()&&(M instanceof Uint8Array||A==="RGBA"||(pe=M,M=P(M))),se=this["process"+A.toUpperCase()](M,c.call(this),I,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:g.NONE}(L),pe)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},W=t.__addimage__.convertBase64ToBinaryString=function(M,A){A=typeof A!="boolean"||A;var I,L="";if(typeof M=="string"){var se;I=(se=E(M))!==null&&se!==void 0?se:M;try{L=f0(I)}catch(pe){if(A)throw x(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};t.getImageProperties=function(M){var A,I,L="";if(f(M)&&(M=p(M)),typeof M=="string"&&n(M)===e&&((L=W(M,!1))===""&&(L=t.loadFile(M)||""),M=L),I=n(M),!u(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!S()||M instanceof Uint8Array||(M=P(M)),!(A=this["process"+I.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=I,A}})(xt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};xt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),v=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",a+=" /Popup "+w.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(g(v))+") >>",m.content=a;var x=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(a+=" /Open true"),a+=" >>",w.content=a,this.internal.write(m.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(y(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var C=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(xt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(m){var w=0,g=r,v="",x=0;for(w=0;w<m.length;w+=1)g[m.charCodeAt(w)]!==void 0?(x++,typeof(g=g[m.charCodeAt(w)])=="number"&&(v+=String.fromCharCode(g),g=r,x=0),w===m.length-1&&(g=r,v+=m.charAt(w-(x-1)),w-=x-1,x=0)):(g=r,v+=m.charAt(w-x),w-=x,x=0);return v};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,w,g){return s(m)?a(m)===!1?-1:!c(m)||!s(w)&&!s(g)||!s(g)&&o(w)||o(m)&&!s(w)||o(m)&&l(w)||o(m)&&o(w)?0:u(m)&&s(w)&&!o(w)&&s(g)&&c(g)?3:o(m)||!s(g)?1:2:-1},h=function(m){var w=0,g=0,v=0,x="",E="",S="",C=(m=m||"").split("\\s+"),P=[];for(w=0;w<C.length;w+=1){for(P.push(""),g=0;g<C[w].length;g+=1)x=C[w][g],E=C[w][g-1],S=C[w][g+1],s(x)?(v=p(x,E,S),P[w]+=v!==-1?String.fromCharCode(e[x.charCodeAt(0)][v]):x):P[w]+=x;P[w]=f(P[w])}return P.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var m,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(w)){var v=0;for(g=[],v=0;v<w.length;v+=1)Array.isArray(w[v])?g.push([h(w[v][0]),w[v][1],w[v][2]]):g.push([h(w[v])]);m=g}else m=h(w);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",y])}(xt.API),xt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(xt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(m){y=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,y=0,m=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,E){return x.concat(w.splitTextToSize(E,g))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)h<(m=this.getStringUnitWidth(l[v],{font:f})*u)&&(h=m);return h!==0&&(y=l.length),{w:h/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,y,m,w,g=[],v=[],x=[],E={},S={},C=[],P=[],k=(p=p||{}).autoSize||!1,T=p.printHeaders!==!1,W=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,M=p.margins||Object.assign({width:this.getPageWidth()},e),A=typeof p.padding=="number"?p.padding:3,I=p.headerBackgroundColor||"#c8c8c8",L=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=L,this.setFontSize(W),f==null)v=g=Object.keys(u[0]),x=g.map(function(){return"left"});else if(Array.isArray(f)&&mr(f[0])==="object")for(g=f.map(function(xe){return xe.name}),v=f.map(function(xe){return xe.prompt||xe.name||""}),x=f.map(function(xe){return xe.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(v=g=f,x=g.map(function(){return"left"}));if(k||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<g.length;h+=1){for(E[w=g[h]]=u.map(function(xe){return xe[w]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(v[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=E[w],this.setFont(void 0,"normal"),m=0;m<y.length;m+=1)C.push(this.getTextDimensions(y[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[w]=Math.max.apply(null,C)+A+A,C=[]}if(T){var se={};for(h=0;h<g.length;h+=1)se[g[h]]={},se[g[h]].text=v[h],se[g[h]].align=x[h];var pe=o.call(this,se,S);P=g.map(function(xe){return new a(l,c,S[xe],pe,se[xe].text,void 0,se[xe].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var X=f.reduce(function(xe,we){return xe[we.name]=we.align,xe},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var ce=o.call(this,u[h],S);for(m=0;m<g.length;m+=1){var ue=u[h][g[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:m,data:ue},this),s.call(this,new a(l,c,S[g[m]],ce,ue,h+2,X[g[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var y=l[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+u+u},this).reduce(function(h,y){return Math.max(h,y)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(xt.API);var DH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},MH=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],d4=LH(MH),FH=[100,200,300,400,500,600,700,800,900],jEe=LH(FH);function f4(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return DH[a=a||"normal"]?a:"normal"}(t.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof d4[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function qL(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var OEe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},WL={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function HL(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function REe(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},OEe,r.genericFontFamilies||{}),a=null,s=null,o=0;o<e.length;++o)if(i[(a=f4(e[o])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){s=t[a.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+HL(a)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=d4[l],f=u<=d4.normal?-1:1,p=qL(c,MH,u,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(a.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=DH[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=jEe[l],f=qL(c,FH,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+HL(a)+"'.");return s}function GL(t){return t.trimLeft()}function LEe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function DEe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var e1,KL,YL,M_=["times"];(function(t){var e,r,n,i,a,s,o,l,c,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new s,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new s,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=F;Object.defineProperty(this,"pdf",{get:function(){return J}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(ve){ie=!!ve}});var fe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return fe},set:function(ve){fe=!!ve}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(ve){isNaN(ve)||(Q=ve)}});var $=0;Object.defineProperty(this,"posY",{get:function(){return $},set:function(ve){isNaN(ve)||($=ve)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ve){var B;typeof ve=="number"?B=[ve,ve,ve,ve]:((B=new Array(4))[0]=ve[0],B[1]=ve.length>=2?ve[1]:B[0],B[2]=ve.length>=3?ve[2]:B[0],B[3]=ve.length>=4?ve[3]:B[1]),c.margin=B}});var V=!1;Object.defineProperty(this,"autoPaging",{get:function(){return V},set:function(ve){V=ve}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(ve){te=ve}});var ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ae},set:function(ve){ae=ve}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ve){ve instanceof u&&(c=ve)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ve){c.path=ve}});var Z=[];Object.defineProperty(this,"ctxStack",{get:function(){return Z},set:function(ve){Z=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var B;B=p(ve),this.ctx.fillStyle=B.style,this.ctx.isFillTransparent=B.a===0,this.ctx.fillOpacity=B.a,this.pdf.setFillColor(B.r,B.g,B.b,{a:B.a}),this.pdf.setTextColor(B.r,B.g,B.b,{a:B.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var B=p(ve);this.ctx.strokeStyle=B.style,this.ctx.isStrokeTransparent=B.a===0,this.ctx.strokeOpacity=B.a,B.a===0?this.pdf.setDrawColor(255,255,255):(B.a,this.pdf.setDrawColor(B.r,B.g,B.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var ee=null;function _e(ve,B){if(ee===null){var j=function(R){var q=[];return Object.keys(R).forEach(function(G){R[G].forEach(function(ne){var re=null;switch(ne){case"bold":re={family:G,weight:"bold"};break;case"italic":re={family:G,style:"italic"};break;case"bolditalic":re={family:G,weight:"bold",style:"italic"};break;case"":case"normal":re={family:G}}re!==null&&(re.ref={name:G,style:ne},q.push(re))})}),q}(ve.getFontList());ee=function(R){for(var q={},G=0;G<R.length;++G){var ne=f4(R[G]),re=ne.family,Ae=ne.stretch,Ne=ne.style,Se=ne.weight;q[re]=q[re]||{},q[re][Ae]=q[re][Ae]||{},q[re][Ae][Ne]=q[re][Ae][Ne]||{},q[re][Ae][Ne][Se]=ne}return q}(j.concat(B))}return ee}var H=null;Object.defineProperty(this,"fontFaces",{get:function(){return H},set:function(ve){ee=null,H=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var B;if(this.ctx.font=ve,(B=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var j=B[1];B[2];var R=B[3],q=B[4];B[5];var G=B[6],ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(q)[2];q=Math.floor(ne==="px"?parseFloat(q)*this.pdf.internal.scaleFactor:ne==="em"?parseFloat(q)*this.pdf.getFontSize():parseFloat(q)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(q);var re=function(nt){var bt,et,ar=[],gt=nt.trim();if(gt==="")return M_;if(gt in WL)return[WL[gt]];for(;gt!=="";){switch(et=null,bt=(gt=GL(gt)).charAt(0)){case'"':case"'":et=LEe(gt.substring(1),bt);break;default:et=DEe(gt)}if(et===null||(ar.push(et[0]),(gt=GL(et[1]))!==""&&gt.charAt(0)!==","))return M_;gt=gt.replace(/^,/,"")}return ar}(G);if(this.fontFaces){var Ae=REe(_e(this.pdf,this.fontFaces),re.map(function(nt){return{family:nt,stretch:"normal",weight:R,style:j}}));this.pdf.setFont(Ae.ref.name,Ae.ref.style)}else{var Ne="";(R==="bold"||parseInt(R,10)>=700||j==="bold")&&(Ne="bold"),j==="italic"&&(Ne+="italic"),Ne.length===0&&(Ne="normal");for(var Se="",Ie={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Fe=0;Fe<re.length;Fe++){if(this.pdf.internal.getFont(re[Fe],Ne,{noFallback:!0,disableWarning:!0})!==void 0){Se=re[Fe];break}if(Ne==="bolditalic"&&this.pdf.internal.getFont(re[Fe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Se=re[Fe],Ne="bold";else if(this.pdf.internal.getFont(re[Fe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Se=re[Fe],Ne="normal";break}}if(Se===""){for(var Ke=0;Ke<re.length;Ke++)if(Ie[re[Ke]]){Se=Ie[re[Ke]];break}}Se=Se===""?"Times":Se,this.pdf.setFont(Se,Ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,we.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,we.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(F){this.lineDash=F},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){E.call(this,"fill",!1)},f.prototype.stroke=function(){E.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(F,J){if(isNaN(F)||isNaN(J))throw Sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new s(F,J));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(F,J)},f.prototype.closePath=function(){var F=new s(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&mr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){F=new s(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(F.x,F.y)},f.prototype.lineTo=function(F,J){if(isNaN(F)||isNaN(J))throw Sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new s(F,J));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},f.prototype.quadraticCurveTo=function(F,J,ie,fe){if(isNaN(ie)||isNaN(fe)||isNaN(F)||isNaN(J))throw Sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(ie,fe)),$=this.ctx.transform.applyToPoint(new s(F,J));this.path.push({type:"qct",x1:$.x,y1:$.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},f.prototype.bezierCurveTo=function(F,J,ie,fe,Q,$){if(isNaN(Q)||isNaN($)||isNaN(F)||isNaN(J)||isNaN(ie)||isNaN(fe))throw Sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var V=this.ctx.transform.applyToPoint(new s(Q,$)),te=this.ctx.transform.applyToPoint(new s(F,J)),ae=this.ctx.transform.applyToPoint(new s(ie,fe));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:ae.x,y2:ae.y,x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},f.prototype.arc=function(F,J,ie,fe,Q,$){if(isNaN(F)||isNaN(J)||isNaN(ie)||isNaN(fe)||isNaN(Q))throw Sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if($=!!$,!this.ctx.transform.isIdentity){var V=this.ctx.transform.applyToPoint(new s(F,J));F=V.x,J=V.y;var te=this.ctx.transform.applyToPoint(new s(0,ie)),ae=this.ctx.transform.applyToPoint(new s(0,0));ie=Math.sqrt(Math.pow(te.x-ae.x,2)+Math.pow(te.y-ae.y,2))}Math.abs(Q-fe)>=2*Math.PI&&(fe=0,Q=2*Math.PI),this.path.push({type:"arc",x:F,y:J,radius:ie,startAngle:fe,endAngle:Q,counterclockwise:$})},f.prototype.arcTo=function(F,J,ie,fe,Q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(F,J,ie,fe){if(isNaN(F)||isNaN(J)||isNaN(ie)||isNaN(fe))throw Sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,J),this.lineTo(F+ie,J),this.lineTo(F+ie,J+fe),this.lineTo(F,J+fe),this.lineTo(F,J),this.lineTo(F+ie,J),this.lineTo(F,J)},f.prototype.fillRect=function(F,J,ie,fe){if(isNaN(F)||isNaN(J)||isNaN(ie)||isNaN(fe))throw Sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,J,ie,fe),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},f.prototype.strokeRect=function(F,J,ie,fe){if(isNaN(F)||isNaN(J)||isNaN(ie)||isNaN(fe))throw Sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(F,J,ie,fe),this.stroke())},f.prototype.clearRect=function(F,J,ie,fe){if(isNaN(F)||isNaN(J)||isNaN(ie)||isNaN(fe))throw Sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,J,ie,fe))},f.prototype.save=function(F){F=typeof F!="boolean"||F;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var fe=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=fe}},f.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(J),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(F){var J,ie,fe,Q;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))J=0,ie=0,fe=0,Q=0;else{var $=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if($!==null)J=parseInt($[1]),ie=parseInt($[2]),fe=parseInt($[3]),Q=1;else if(($=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)J=parseInt($[1]),ie=parseInt($[2]),fe=parseInt($[3]),Q=parseFloat($[4]);else{if(Q=1,typeof F=="string"&&F.charAt(0)!=="#"){var V=new CH(F);F=V.ok?V.toHex():"#000000"}F.length===4?(J=F.substring(1,2),J+=J,ie=F.substring(2,3),ie+=ie,fe=F.substring(3,4),fe+=fe):(J=F.substring(1,3),ie=F.substring(3,5),fe=F.substring(5,7)),J=parseInt(J,16),ie=parseInt(ie,16),fe=parseInt(fe,16)}}return{r:J,g:ie,b:fe,a:Q,style:F}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(F,J,ie,fe){if(isNaN(J)||isNaN(ie)||typeof F!="string")throw Sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(fe=isNaN(fe)?void 0:fe,!h.call(this)){var Q=ce(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;A.call(this,{text:F,x:J,y:ie,scale:$,angle:Q,align:this.textAlign,maxWidth:fe})}},f.prototype.strokeText=function(F,J,ie,fe){if(isNaN(J)||isNaN(ie)||typeof F!="string")throw Sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){fe=isNaN(fe)?void 0:fe;var Q=ce(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;A.call(this,{text:F,x:J,y:ie,scale:$,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:fe})}},f.prototype.measureText=function(F){if(typeof F!="string")throw Sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,ie=this.pdf.internal.scaleFactor,fe=J.internal.getFontSize(),Q=J.getStringUnitWidth(F)*fe/J.internal.scaleFactor,$=function(V){var te=(V=V||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this};return new $({width:Q*=Math.round(96*ie/72*1e4)/1e4})},f.prototype.scale=function(F,J){if(isNaN(F)||isNaN(J))throw Sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new l(F,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},f.prototype.rotate=function(F){if(isNaN(F))throw Sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.translate=function(F,J){if(isNaN(F)||isNaN(J))throw Sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new l(1,0,0,1,F,J);this.ctx.transform=this.ctx.transform.multiply(ie)},f.prototype.transform=function(F,J,ie,fe,Q,$){if(isNaN(F)||isNaN(J)||isNaN(ie)||isNaN(fe)||isNaN(Q)||isNaN($))throw Sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var V=new l(F,J,ie,fe,Q,$);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.setTransform=function(F,J,ie,fe,Q,$){F=isNaN(F)?1:F,J=isNaN(J)?0:J,ie=isNaN(ie)?0:ie,fe=isNaN(fe)?1:fe,Q=isNaN(Q)?0:Q,$=isNaN($)?0:$,this.ctx.transform=new l(F,J,ie,fe,Q,$)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(F,J,ie,fe,Q,$,V,te,ae){var Z=this.pdf.getImageProperties(F),ee=1,_e=1,H=1,ve=1;fe!==void 0&&te!==void 0&&(H=te/fe,ve=ae/Q,ee=Z.width/fe*te/fe,_e=Z.height/Q*ae/Q),$===void 0&&($=J,V=ie,J=0,ie=0),fe!==void 0&&te===void 0&&(te=fe,ae=Q),fe===void 0&&te===void 0&&(te=Z.width,ae=Z.height);for(var B,j=this.ctx.transform.decompose(),R=ce(j.rotate.shx),q=new l,G=(q=(q=(q=q.multiply(j.translate)).multiply(j.skew)).multiply(j.scale)).applyToRectangle(new o($-J*H,V-ie*ve,fe*ee,Q*_e)),ne=w.call(this,G),re=[],Ae=0;Ae<ne.length;Ae+=1)re.indexOf(ne[Ae])===-1&&re.push(ne[Ae]);if(x(re),this.autoPaging)for(var Ne=re[0],Se=re[re.length-1],Ie=Ne;Ie<Se+1;Ie++){this.pdf.setPage(Ie);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Ie===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=Ie===1?0:nt+(Ie-2)*bt;if(this.ctx.clip_path.length!==0){var ar=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(B,this.posX+this.margin[3],-et+Ke+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=ar}var gt=JSON.parse(JSON.stringify(G));gt=v([gt],this.posX+this.margin[3],-et+Ke+this.ctx.prevPageLastElemOffset)[0];var qr=(Ie>Ne||Ie<Se)&&m.call(this);qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,bt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,R),qr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",G.x,G.y,G.w,G.h,null,null,R)};var w=function(F,J,ie){var fe=[];J=J||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":fe.push(Math.floor((F.y+Q)/ie)+1);break;case"arc":fe.push(Math.floor((F.y+Q-F.radius)/ie)+1),fe.push(Math.floor((F.y+Q+F.radius)/ie)+1);break;case"qct":var $=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);fe.push(Math.floor(($.y+Q)/ie)+1),fe.push(Math.floor(($.y+$.h+Q)/ie)+1);break;case"bct":var V=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);fe.push(Math.floor((V.y+Q)/ie)+1),fe.push(Math.floor((V.y+V.h+Q)/ie)+1);break;case"rect":fe.push(Math.floor((F.y+Q)/ie)+1),fe.push(Math.floor((F.y+F.h+Q)/ie)+1)}for(var te=0;te<fe.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<fe[te];)g.call(this);return fe},g=function(){var F=this.fillStyle,J=this.strokeStyle,ie=this.font,fe=this.lineCap,Q=this.lineWidth,$=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=J,this.font=ie,this.lineCap=fe,this.lineWidth=Q,this.lineJoin=$},v=function(F,J,ie){for(var fe=0;fe<F.length;fe++)switch(F[fe].type){case"bct":F[fe].x2+=J,F[fe].y2+=ie;case"qct":F[fe].x1+=J,F[fe].y1+=ie;case"mt":case"lt":case"arc":default:F[fe].x+=J,F[fe].y+=ie}return F},x=function(F){return F.sort(function(J,ie){return J-ie})},E=function(F,J){for(var ie,fe,Q=this.fillStyle,$=this.strokeStyle,V=this.lineCap,te=this.lineWidth,ae=Math.abs(te*this.ctx.transform.scaleX),Z=this.lineJoin,ee=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),H=[],ve=0;ve<_e.length;ve++)if(_e[ve].x!==void 0)for(var B=w.call(this,_e[ve]),j=0;j<B.length;j+=1)H.indexOf(B[j])===-1&&H.push(B[j]);for(var R=0;R<H.length;R++)for(;this.pdf.internal.getNumberOfPages()<H[R];)g.call(this);if(x(H),this.autoPaging)for(var q=H[0],G=H[H.length-1],ne=q;ne<G+1;ne++){this.pdf.setPage(ne),this.fillStyle=Q,this.strokeStyle=$,this.lineCap=V,this.lineWidth=ae,this.lineJoin=Z;var re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ae=ne===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=ne===1?0:Ne+(ne-2)*Se;if(this.ctx.clip_path.length!==0){var Fe=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ie,this.posX+this.margin[3],-Ie+Ae+this.ctx.prevPageLastElemOffset),S.call(this,F,!0),this.path=Fe}if(fe=JSON.parse(JSON.stringify(ee)),this.path=v(fe,this.posX+this.margin[3],-Ie+Ae+this.ctx.prevPageLastElemOffset),J===!1||ne===0){var Ke=(ne>q||ne<G)&&m.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],re,Se,null).clip().discardPath()),S.call(this,F,J),Ke&&this.pdf.restoreGraphicsState()}this.lineWidth=te}else this.lineWidth=ae,S.call(this,F,J),this.lineWidth=te;this.path=ee},S=function(F,J){if((F!=="stroke"||J||!y.call(this))&&(F==="stroke"||J||!h.call(this))){for(var ie,fe,Q=[],$=this.path,V=0;V<$.length;V++){var te=$[V];switch(te.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:te,deltas:[],abs:[]});break;case"lt":var ae=Q.length;if($[V-1]&&!isNaN($[V-1].x)&&(ie=[te.x-$[V-1].x,te.y-$[V-1].y],ae>0)){for(;ae>=0;ae--)if(Q[ae-1].close!==!0&&Q[ae-1].begin!==!0){Q[ae-1].deltas.push(ie),Q[ae-1].abs.push(te);break}}break;case"bct":ie=[te.x1-$[V-1].x,te.y1-$[V-1].y,te.x2-$[V-1].x,te.y2-$[V-1].y,te.x-$[V-1].x,te.y-$[V-1].y],Q[Q.length-1].deltas.push(ie);break;case"qct":var Z=$[V-1].x+2/3*(te.x1-$[V-1].x),ee=$[V-1].y+2/3*(te.y1-$[V-1].y),_e=te.x+2/3*(te.x1-te.x),H=te.y+2/3*(te.y1-te.y),ve=te.x,B=te.y;ie=[Z-$[V-1].x,ee-$[V-1].y,_e-$[V-1].x,H-$[V-1].y,ve-$[V-1].x,B-$[V-1].y],Q[Q.length-1].deltas.push(ie);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(te)}}fe=J?null:F==="stroke"?"stroke":"fill";for(var j=!1,R=0;R<Q.length;R++)if(Q[R].arc)for(var q=Q[R].abs,G=0;G<q.length;G++){var ne=q[G];ne.type==="arc"?k.call(this,ne.x,ne.y,ne.radius,ne.startAngle,ne.endAngle,ne.counterclockwise,void 0,J,!j):I.call(this,ne.x,ne.y),j=!0}else if(Q[R].close===!0)this.pdf.internal.out("h"),j=!1;else if(Q[R].begin!==!0){var re=Q[R].start.x,Ae=Q[R].start.y;L.call(this,Q[R].deltas,re,Ae),j=!0}fe&&T.call(this,fe),J&&W.call(this)}},C=function(F){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-ie;case"top":return F+J-ie;case"hanging":return F+J-2*ie;case"middle":return F+J/2-ie;case"ideographic":return F;case"alphabetic":default:return F}},P=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(J,ie){this.colorStops.push([J,ie])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(F,J,ie,fe,Q,$,V,te,ae){for(var Z=pe.call(this,ie,fe,Q,$),ee=0;ee<Z.length;ee++){var _e=Z[ee];ee===0&&(ae?M.call(this,_e.x1+F,_e.y1+J):I.call(this,_e.x1+F,_e.y1+J)),se.call(this,F,J,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}te?W.call(this):T.call(this,V)},T=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(F,J){this.pdf.internal.out(r(F)+" "+n(J)+" m")},A=function(F){var J;switch(F.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var ie=this.pdf.getTextDimensions(F.text),fe=C.call(this,F.y),Q=P.call(this,fe)-ie.h,$=this.ctx.transform.applyToPoint(new s(F.x,fe)),V=this.ctx.transform.decompose(),te=new l;te=(te=(te=te.multiply(V.translate)).multiply(V.skew)).multiply(V.scale);for(var ae,Z,ee,_e=this.ctx.transform.applyToRectangle(new o(F.x,fe,ie.w,ie.h)),H=te.applyToRectangle(new o(F.x,Q,ie.w,ie.h)),ve=w.call(this,H),B=[],j=0;j<ve.length;j+=1)B.indexOf(ve[j])===-1&&B.push(ve[j]);if(x(B),this.autoPaging)for(var R=B[0],q=B[B.length-1],G=R;G<q+1;G++){this.pdf.setPage(G);var ne=G===1?this.posY+this.margin[0]:this.margin[0],re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[2],Ne=Ae-this.margin[0],Se=this.pdf.internal.pageSize.width-this.margin[1],Ie=Se-this.margin[3],Fe=G===1?0:re+(G-2)*Ne;if(this.ctx.clip_path.length!==0){var Ke=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ae,this.posX+this.margin[3],-1*Fe+ne),S.call(this,"fill",!0),this.path=Ke}var nt=v([JSON.parse(JSON.stringify(H))],this.posX+this.margin[3],-Fe+ne+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*F.scale),ee=this.lineWidth,this.lineWidth=ee*F.scale);var bt=this.autoPaging!=="text";if(bt||nt.y+nt.h<=Ae){if(bt||nt.y>=ne&&nt.x<=Se){var et=bt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Se-nt.x)[0],ar=v([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-Fe+ne+this.ctx.prevPageLastElemOffset)[0],gt=bt&&(G>R||G<q)&&m.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Ne,null).clip().discardPath()),this.pdf.text(et,ar.x,ar.y,{angle:F.angle,align:J,renderingMode:F.renderingMode}),gt&&this.pdf.restoreGraphicsState()}}else nt.y<Ae&&(this.ctx.prevPageLastElemOffset+=Ae-nt.y);F.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ee)}else F.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*F.scale),ee=this.lineWidth,this.lineWidth=ee*F.scale),this.pdf.text(F.text,$.x+this.posX,$.y+this.posY,{angle:F.angle,align:J,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ee)},I=function(F,J,ie,fe){ie=ie||0,fe=fe||0,this.pdf.internal.out(r(F+ie)+" "+n(J+fe)+" l")},L=function(F,J,ie){return this.pdf.lines(F,J,ie,null,null)},se=function(F,J,ie,fe,Q,$,V,te){this.pdf.internal.out([e(i(ie+F)),e(a(fe+J)),e(i(Q+F)),e(a($+J)),e(i(V+F)),e(a(te+J)),"c"].join(" "))},pe=function(F,J,ie,fe){for(var Q=2*Math.PI,$=Math.PI/2;J>ie;)J-=Q;var V=Math.abs(ie-J);V<Q&&fe&&(V=Q-V);for(var te=[],ae=fe?-1:1,Z=J;V>1e-5;){var ee=Z+ae*Math.min(V,$);te.push(X.call(this,F,Z,ee)),V-=Math.abs(ee-Z),Z=ee}return te},X=function(F,J,ie){var fe=(ie-J)/2,Q=F*Math.cos(fe),$=F*Math.sin(fe),V=Q,te=-$,ae=V*V+te*te,Z=ae+V*Q+te*$,ee=4/3*(Math.sqrt(2*ae*Z)-Z)/(V*$-te*Q),_e=V-ee*te,H=te+ee*V,ve=_e,B=-H,j=fe+J,R=Math.cos(j),q=Math.sin(j);return{x1:F*Math.cos(J),y1:F*Math.sin(J),x2:_e*R-H*q,y2:_e*q+H*R,x3:ve*R-B*q,y3:ve*q+B*R,x4:F*Math.cos(ie),y4:F*Math.sin(ie)}},ce=function(F){return 180*F/Math.PI},ue=function(F,J,ie,fe,Q,$){var V=F+.5*(ie-F),te=J+.5*(fe-J),ae=Q+.5*(ie-Q),Z=$+.5*(fe-$),ee=Math.min(F,Q,V,ae),_e=Math.max(F,Q,V,ae),H=Math.min(J,$,te,Z),ve=Math.max(J,$,te,Z);return new o(ee,H,_e-ee,ve-H)},xe=function(F,J,ie,fe,Q,$,V,te){var ae,Z,ee,_e,H,ve,B,j,R,q,G,ne,re,Ae,Ne=ie-F,Se=fe-J,Ie=Q-ie,Fe=$-fe,Ke=V-Q,nt=te-$;for(Z=0;Z<41;Z++)R=(B=(ee=F+(ae=Z/40)*Ne)+ae*((H=ie+ae*Ie)-ee))+ae*(H+ae*(Q+ae*Ke-H)-B),q=(j=(_e=J+ae*Se)+ae*((ve=fe+ae*Fe)-_e))+ae*(ve+ae*($+ae*nt-ve)-j),Z==0?(G=R,ne=q,re=R,Ae=q):(G=Math.min(G,R),ne=Math.min(ne,q),re=Math.max(re,R),Ae=Math.max(Ae,q));return new o(Math.round(G),Math.round(ne),Math.round(re-G),Math.round(Ae-ne))},we=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,J,ie=(F=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:J}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(xt.API),function(t){var e=function(a){var s,o,l,c,u,f,p,h,y,m;for(o=[],l=0,c=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;c>l;l+=4)(u=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(m=u%85))/85)-(y=u%85))/85)-(h=u%85))/85)-(p=u%85))/85)%85,o.push(f+33,p+33,h+33,y+33,m+33)):o.push(122);return function(w,g){for(var v=g;v>0;v--)w.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(a){var s,o,l,c,u,f=String,p="length",h=255,y="charCodeAt",m="slice",w="replace";for(a[m](-2),a=a[m](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],c=0,u=(a+=s="uuuuu"[m](a[p]%5||5))[p];u>c;c+=5)o=52200625*(a[y](c)-33)+614125*(a[y](c+1)-33)+7225*(a[y](c+2)-33)+85*(a[y](c+3)-33)+(a[y](c+4)-33),l.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(g,v){for(var x=v;x>0;x--)g.pop()}(l,s[p]),f.fromCharCode.apply(f,l)},n=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var o="",l=0;l<a.length;l+=2)o+=String.fromCharCode("0x"+(a[l]+a[l+1]));return o},i=function(a){for(var s=new Uint8Array(a.length),o=a.length;o--;)s[o]=a.charCodeAt(o);return a=(s=s4(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(a,s){var o=0,l=a||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(xt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,p=0,h=function(y){var m=y.length,w=[],g=String.fromCharCode;for(p=0;p<m;p+=1)w.push(g(255&y.charCodeAt(p)));return w.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(xt.API),function(t){function e(){return(At.html2canvas?Promise.resolve(At.html2canvas):t4(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):t4(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=mr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},a=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,o){return s.__proto__=o||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var h=c[p],y=h.src.find(function(m){return m.format==="truetype"});y&&l.addFont(y.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},a.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(s,o){return this.then(function(){var l=s in a.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},a.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return a.convert(u,this.__proto__)},a.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},a.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},a.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return a.convert(o,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,xt.getPageSize=function(s,o,l){if(mr(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var h,y=0,m=0;if(p.hasOwnProperty(f))y=p[f][1]/u,m=p[f][0]/u;else try{y=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>y&&(h=m,m=y,y=h);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",y>m&&(h=m,m=y,y=h)}return{width:m,height:y,unit:o,k:u,orientation:s}},t.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(f4):null;var l=new a(o);return o.worker?l:l.from(s).doCallback()}}(xt.API),xt.API.addJS=function(t){return YL=t,this.internal.events.subscribe("postPutResources",function(){e1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),KL=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+YL+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e1!==void 0&&KL!==void 0&&this.internal.out("/Names <</JavaScript "+e1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=r.internal.newObject();u.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(xt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,m={width:0,height:0,numcomponents:1},w=4;w<y;w+=2){if(w+=h,e.indexOf(f.charCodeAt(w+1))!==-1){p=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),m={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:p,numcomponents:f.charCodeAt(w+9)};break}h=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(xt.API);var zh,t1,XL,JL,QL,MEe=function(){var t,e,r;function n(a){var s,o,l,c,u,f,p,h,y,m,w,g,v,x;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),y=(function(){var E,S;for(S=[],E=0;E<4;++E)S.push(String.fromCharCode(this.data[this.pos++]));return S}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,s-=4),a=(f!=null?f.data:void 0)||this.imgData,g=0;0<=s?g<s:g>s;0<=s?++g:--g)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(v=0;0<=m?v<m:v>m;0<=m?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":p=(w=this.read(s)).indexOf(0),h=String.fromCharCode.apply(String,w.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,w.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var s,o;for(o=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function u(f,p,h,y){var m,w,g,v,x,E,S,C,P,k,T,W,M,A,I,L,se,pe,X,ce,ue,xe=Math.ceil((c.width-f)/h),we=Math.ceil((c.height-p)/y),F=c.width==xe&&c.height==we;for(A=s*xe,W=F?o:new Uint8Array(A*we),E=a.length,M=0,w=0;M<we&&l<E;){switch(a[l++]){case 0:for(v=se=0;se<A;v=se+=1)W[w++]=a[l++];break;case 1:for(v=pe=0;pe<A;v=pe+=1)m=a[l++],x=v<s?0:W[w-s],W[w++]=(m+x)%256;break;case 2:for(v=X=0;X<A;v=X+=1)m=a[l++],g=(v-v%s)/s,I=M&&W[(M-1)*A+g*s+v%s],W[w++]=(I+m)%256;break;case 3:for(v=ce=0;ce<A;v=ce+=1)m=a[l++],g=(v-v%s)/s,x=v<s?0:W[w-s],I=M&&W[(M-1)*A+g*s+v%s],W[w++]=(m+Math.floor((x+I)/2))%256;break;case 4:for(v=ue=0;ue<A;v=ue+=1)m=a[l++],g=(v-v%s)/s,x=v<s?0:W[w-s],M===0?I=L=0:(I=W[(M-1)*A+g*s+v%s],L=g&&W[(M-1)*A+(g-1)*s+v%s]),S=x+I-L,C=Math.abs(S-x),k=Math.abs(S-I),T=Math.abs(S-L),P=C<=k&&C<=T?x:k<=T?I:L,W[w++]=(m+P)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!F){var J=((p+M*y)*c.width+f)*s,ie=M*A;for(v=0;v<xe;v+=1){for(var fe=0;fe<s;fe+=1)o[J++]=W[ie++];J+=(h-1)*s}}M++}}return a=mEe(a),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var a,s,o,l,c,u,f,p,h;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,a=0,s=f=0,p=o.length;f<p;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(h=u[a++])!=null?h:255;return c},n.prototype.copyToImageData=function(a,s){var o,l,c,u,f,p,h,y,m,w,g;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),l=4,o=!0),y=(c=a.data||a).length,f=m||s,u=p=0,l===1)for(;u<y;)h=m?4*s[u/4]:p,w=f[h++],c[u++]=w,c[u++]=w,c[u++]=w,c[u++]=o?f[h++]:255,p=h;else for(;u<y;)h=m?4*s[u/4]:p,c[u++]=f[h++],c[u++]=f[h++],c[u++]=f[h++],c[u++]=o?f[h++]:255,p=h},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(At)==="[object Window]"){try{e=At.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var s;if(i()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var s,o,l,c,u,f,p,h;if(this.animation){for(h=[],o=u=0,f=(p=this.animation.frames).length;u<f;o=++u)s=p[o],l=a.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,h.push(s.image=t(l));return h}},n.prototype.renderFrame=function(a,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?a.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&a.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(a){var s,o,l,c,u,f,p=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var h,y;if(h=o++%c,y=l[h],p.renderFrame(a,h),c>1&&o/c<u)return p.animation._timeout=setTimeout(s,y.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var s,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function FEe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,p=null,h=0,y=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],!(1&m)&&(p=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,E=t[e++],S=E>>6&1,C=1<<(7&E)+1,P=o,k=l,T=!1;E>>7&&(T=!0,P=e,k=C,e+=3*C);var W=e;for(e++;;){var M;if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}u.push({x:w,y:g,width:v,height:x,has_local_palette:T,palette_offset:P,palette_size:k,data_offset:W,data_length:e-W,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(A){if(A<0||A>=u.length)throw new Error("Frame index out of range.");return u[A]},this.decodeAndBlitFrameBGRA=function(A,I){var L=this.frameInfo(A),se=L.width*L.height,pe=new Uint8Array(se);ZL(t,L.data_offset,pe,se);var X=L.palette_offset,ce=L.transparent_index;ce===null&&(ce=256);var ue=L.width,xe=r-ue,we=ue,F=4*(L.y*r+L.x),J=4*((L.y+L.height)*r+L.x),ie=F,fe=4*xe;L.interlaced===!0&&(fe+=4*r*7);for(var Q=8,$=0,V=pe.length;$<V;++$){var te=pe[$];if(we===0&&(we=ue,(ie+=fe)>=J&&(fe=4*xe+4*r*(Q-1),ie=F+(ue+xe)*(Q<<1),Q>>=1)),te===ce)ie+=4;else{var ae=t[X+3*te],Z=t[X+3*te+1],ee=t[X+3*te+2];I[ie++]=ee,I[ie++]=Z,I[ie++]=ae,I[ie++]=255}--we}},this.decodeAndBlitFrameRGBA=function(A,I){var L=this.frameInfo(A),se=L.width*L.height,pe=new Uint8Array(se);ZL(t,L.data_offset,pe,se);var X=L.palette_offset,ce=L.transparent_index;ce===null&&(ce=256);var ue=L.width,xe=r-ue,we=ue,F=4*(L.y*r+L.x),J=4*((L.y+L.height)*r+L.x),ie=F,fe=4*xe;L.interlaced===!0&&(fe+=4*r*7);for(var Q=8,$=0,V=pe.length;$<V;++$){var te=pe[$];if(we===0&&(we=ue,(ie+=fe)>=J&&(fe=4*xe+4*r*(Q-1),ie=F+(ue+xe)*(Q<<1),Q>>=1)),te===ce)ie+=4;else{var ae=t[X+3*te],Z=t[X+3*te+1],ee=t[X+3*te+2];I[ie++]=ae,I[ie++]=Z,I[ie++]=ee,I[ie++]=255}--we}}}function ZL(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,p=0,h=t[e++],y=new Int32Array(4096),m=null;;){for(;u<16&&h!==0;)f|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var w=f&c;if(f>>=l,u-=l,w!==a){if(w===s)break;for(var g=w<o?w:m,v=0,x=g;x>a;)x=y[x]>>8,++v;var E=x;if(p+v+(g!==w?1:0)>n)return void Sr.log("Warning, gif stream longer than expected.");r[p++]=E;var S=p+=v;for(g!==w&&(r[p++]=E),x=g;v--;)x=y[x],r[--S]=255&x,x>>=8;m!==null&&o<4096&&(y[o++]=m<<8|E,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=w}else o=s+1,c=(1<<(l=i+1))-1,m=null}return p!==n&&Sr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function F_(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),y=new Array(64),m=[],w=0,g=7,v=new Array(64),x=new Array(64),E=new Array(64),S=new Array(256),C=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pe(F,J){for(var ie=0,fe=0,Q=new Array,$=1;$<=16;$++){for(var V=1;V<=F[$];V++)Q[J[fe]]=[],Q[J[fe]][0]=ie,Q[J[fe]][1]=$,fe++,ie++;ie*=2}return Q}function X(F){for(var J=F[0],ie=F[1]-1;ie>=0;)J&1<<ie&&(w|=1<<g),ie--,--g<0&&(w==255?(ce(255),ce(0)):ce(w),g=7,w=0)}function ce(F){m.push(F)}function ue(F){ce(F>>8&255),ce(255&F)}function xe(F,J,ie,fe,Q){for(var $,V=Q[0],te=Q[240],ae=function(q,G){var ne,re,Ae,Ne,Se,Ie,Fe,Ke,nt,bt,et=0;for(nt=0;nt<8;++nt){ne=q[et],re=q[et+1],Ae=q[et+2],Ne=q[et+3],Se=q[et+4],Ie=q[et+5],Fe=q[et+6];var ar=ne+(Ke=q[et+7]),gt=ne-Ke,qr=re+Fe,Ut=re-Fe,Dt=Ae+Ie,ai=Ae-Ie,Mt=Ne+Se,Qa=Ne-Se,xr=ar+Mt,An=ar-Mt,Bn=qr+Dt,nr=qr-Dt;q[et]=xr+Bn,q[et+4]=xr-Bn;var _t=.707106781*(nr+An);q[et+2]=An+_t,q[et+6]=An-_t;var Jt=.382683433*((xr=Qa+ai)-(nr=Ut+gt)),Za=.5411961*xr+Jt,Sn=1.306562965*nr+Jt,wi=.707106781*(Bn=ai+Ut),Ta=gt+wi,dt=gt-wi;q[et+5]=dt+Za,q[et+3]=dt-Za,q[et+1]=Ta+Sn,q[et+7]=Ta-Sn,et+=8}for(et=0,nt=0;nt<8;++nt){ne=q[et],re=q[et+8],Ae=q[et+16],Ne=q[et+24],Se=q[et+32],Ie=q[et+40],Fe=q[et+48];var ia=ne+(Ke=q[et+56]),bi=ne-Ke,Nn=re+Fe,ln=re-Fe,Jr=Ae+Ie,Tn=Ae-Ie,Mc=Ne+Se,Ds=Ne-Se,xi=ia+Mc,aa=ia-Mc,Ui=Nn+Jr,$i=Nn-Jr;q[et]=xi+Ui,q[et+32]=xi-Ui;var cn=.707106781*($i+aa);q[et+16]=aa+cn,q[et+48]=aa-cn;var Pa=.382683433*((xi=Ds+Tn)-($i=ln+bi)),No=.5411961*xi+Pa,To=1.306562965*$i+Pa,Po=.707106781*(Ui=Tn+ln),Al=bi+Po,Sl=bi-Po;q[et+40]=Sl+No,q[et+24]=Sl-No,q[et+8]=Al+To,q[et+56]=Al-To,et++}for(nt=0;nt<64;++nt)bt=q[nt]*G[nt],h[nt]=bt>0?bt+.5|0:bt-.5|0;return h}(F,J),Z=0;Z<64;++Z)y[P[Z]]=ae[Z];var ee=y[0]-ie;ie=y[0],ee==0?X(fe[0]):(X(fe[p[$=32767+ee]]),X(f[$]));for(var _e=63;_e>0&&y[_e]==0;)_e--;if(_e==0)return X(V),ie;for(var H,ve=1;ve<=_e;){for(var B=ve;y[ve]==0&&ve<=_e;)++ve;var j=ve-B;if(j>=16){H=j>>4;for(var R=1;R<=H;++R)X(te);j&=15}$=32767+y[ve],X(Q[(j<<4)+p[$]]),X(f[$]),ve++}return _e!=63&&X(V),ie}function we(F){F=Math.min(Math.max(F,1),100),a!=F&&(function(J){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],fe=0;fe<64;fe++){var Q=s((ie[fe]*J+50)/100);Q=Math.min(Math.max(Q,1),255),o[P[fe]]=Q}for(var $=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],V=0;V<64;V++){var te=s(($[V]*J+50)/100);te=Math.min(Math.max(te,1),255),l[P[V]]=te}for(var ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Z=0,ee=0;ee<8;ee++)for(var _e=0;_e<8;_e++)c[Z]=1/(o[P[Z]]*ae[ee]*ae[_e]*8),u[Z]=1/(l[P[Z]]*ae[ee]*ae[_e]*8),Z++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),a=F)}this.encode=function(F,J){J&&we(J),m=new Array,w=0,g=7,ue(65496),ue(65504),ue(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),ue(1),ue(1),ce(0),ce(0),function(){ue(65499),ue(132),ce(0);for(var re=0;re<64;re++)ce(o[re]);ce(1);for(var Ae=0;Ae<64;Ae++)ce(l[Ae])}(),function(re,Ae){ue(65472),ue(17),ce(8),ue(Ae),ue(re),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(F.width,F.height),function(){ue(65476),ue(418),ce(0);for(var re=0;re<16;re++)ce(k[re+1]);for(var Ae=0;Ae<=11;Ae++)ce(T[Ae]);ce(16);for(var Ne=0;Ne<16;Ne++)ce(W[Ne+1]);for(var Se=0;Se<=161;Se++)ce(M[Se]);ce(1);for(var Ie=0;Ie<16;Ie++)ce(A[Ie+1]);for(var Fe=0;Fe<=11;Fe++)ce(I[Fe]);ce(17);for(var Ke=0;Ke<16;Ke++)ce(L[Ke+1]);for(var nt=0;nt<=161;nt++)ce(se[nt])}(),ue(65498),ue(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var ie=0,fe=0,Q=0;w=0,g=7,this.encode.displayName="_encode_";for(var $,V,te,ae,Z,ee,_e,H,ve,B=F.data,j=F.width,R=F.height,q=4*j,G=0;G<R;){for($=0;$<q;){for(Z=q*G+$,_e=-1,H=0,ve=0;ve<64;ve++)ee=Z+(H=ve>>3)*q+(_e=4*(7&ve)),G+H>=R&&(ee-=q*(G+1+H-R)),$+_e>=q&&(ee-=$+_e-q+4),V=B[ee++],te=B[ee++],ae=B[ee++],v[ve]=(C[V]+C[te+256>>0]+C[ae+512>>0]>>16)-128,x[ve]=(C[V+768>>0]+C[te+1024>>0]+C[ae+1280>>0]>>16)-128,E[ve]=(C[V+1280>>0]+C[te+1536>>0]+C[ae+1792>>0]>>16)-128;ie=xe(v,c,ie,e,n),fe=xe(x,u,fe,r,i),Q=xe(E,u,Q,r,i),$+=32}G+=8}if(g>=0){var ne=[];ne[1]=g+1,ne[0]=(1<<g+1)-1,X(ne)}return ue(65497),new Uint8Array(m)},t=t||50,function(){for(var F=String.fromCharCode,J=0;J<256;J++)S[J]=F(J)}(),e=pe(k,T),r=pe(A,I),n=pe(W,M),i=pe(L,se),function(){for(var F=1,J=2,ie=1;ie<=15;ie++){for(var fe=F;fe<J;fe++)p[32767+fe]=ie,f[32767+fe]=[],f[32767+fe][1]=ie,f[32767+fe][0]=fe;for(var Q=-(J-1);Q<=-F;Q++)p[32767+Q]=ie,f[32767+Q]=[],f[32767+Q][1]=ie,f[32767+Q][0]=J-1+Q;F<<=1,J<<=1}}(),function(){for(var F=0;F<256;F++)C[F]=19595*F,C[F+256>>0]=38470*F,C[F+512>>0]=7471*F+32768,C[F+768>>0]=-11059*F,C[F+1024>>0]=-21709*F,C[F+1280>>0]=32768*F+8421375,C[F+1536>>0]=-27439*F,C[F+1792>>0]=-5329*F}(),we(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ys(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function e8(t){function e(k){if(!k)throw Error("assert :P")}function r(k,T,W){for(var M=0;4>M;M++)if(k[T+M]!=W.charCodeAt(M))return!0;return!1}function n(k,T,W,M,A){for(var I=0;I<A;I++)k[T+I]=W[M+I]}function i(k,T,W,M){for(var A=0;A<M;A++)k[T+A]=W}function a(k){return new Int32Array(k)}function s(k,T){for(var W=[],M=0;M<k;M++)W.push(new T);return W}function o(k,T){var W=[];return function M(A,I,L){for(var se=L[I],pe=0;pe<se&&(A.push(L.length>I+1?[]:new T),!(L.length<I+1));pe++)M(A[pe],I+1,L)}(W,0,k),W}var l=function(){var k=this;function T(b,N){for(var U=1<<N-1>>>0;b&U;)U>>>=1;return U?(b&U-1)+U:b}function W(b,N,U,K,le){e(!(K%U));do b[N+(K-=U)]=le;while(0<K)}function M(b,N,U,K,le){if(e(2328>=le),512>=le)var de=a(512);else if((de=a(le))==null)return 0;return function(he,ge,ye,be,Pe,Le){var De,Re,He=ge,Be=1<<ye,Ce=a(16),ke=a(16);for(e(Pe!=0),e(be!=null),e(he!=null),e(0<ye),Re=0;Re<Pe;++Re){if(15<be[Re])return 0;++Ce[be[Re]]}if(Ce[0]==Pe)return 0;for(ke[1]=0,De=1;15>De;++De){if(Ce[De]>1<<De)return 0;ke[De+1]=ke[De]+Ce[De]}for(Re=0;Re<Pe;++Re)De=be[Re],0<be[Re]&&(Le[ke[De]++]=Re);if(ke[15]==1)return(be=new A).g=0,be.value=Le[0],W(he,He,1,Be,be),Be;var ze,Ye=-1,qe=Be-1,ct=0,it=1,Et=1,st=1<<ye;for(Re=0,De=1,Pe=2;De<=ye;++De,Pe<<=1){if(it+=Et<<=1,0>(Et-=Ce[De]))return 0;for(;0<Ce[De];--Ce[De])(be=new A).g=De,be.value=Le[Re++],W(he,He+ct,Pe,st,be),ct=T(ct,De)}for(De=ye+1,Pe=2;15>=De;++De,Pe<<=1){if(it+=Et<<=1,0>(Et-=Ce[De]))return 0;for(;0<Ce[De];--Ce[De]){if(be=new A,(ct&qe)!=Ye){for(He+=st,ze=1<<(Ye=De)-ye;15>Ye&&!(0>=(ze-=Ce[Ye]));)++Ye,ze<<=1;Be+=st=1<<(ze=Ye-ye),he[ge+(Ye=ct&qe)].g=ze+ye,he[ge+Ye].value=He-ge-Ye}be.g=De-ye,be.value=Le[Re++],W(he,He+(ct>>ye),Pe,st,be),ct=T(ct,De)}}return it!=2*ke[15]-1?0:Be}(b,N,U,K,le,de)}function A(){this.value=this.g=0}function I(){this.value=this.g=0}function L(){this.G=s(5,A),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(li,I)}function se(b,N,U,K){e(b!=null),e(N!=null),e(2147483648>K),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=N,b.pa=U,b.Jd=N,b.Yc=U+K,b.Zc=4<=K?U+K-4+1:U,$(b)}function pe(b,N){for(var U=0;0<N--;)U|=te(b,128)<<N;return U}function X(b,N){var U=pe(b,N);return V(b)?-U:U}function ce(b,N,U,K){var le,de=0;for(e(b!=null),e(N!=null),e(4294967288>K),b.Sb=K,b.Ra=0,b.u=0,b.h=0,4<K&&(K=4),le=0;le<K;++le)de+=N[U+le]<<8*le;b.Ra=de,b.bb=K,b.oa=N,b.pa=U}function ue(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Sh-8>>>0,++b.bb,b.u-=8;ie(b)&&(b.h=1,b.u=0)}function xe(b,N){if(e(0<=N),!b.h&&N<=Ah){var U=J(b)&Eh[N];return b.u+=N,ue(b),U}return b.h=1,b.u=0}function we(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(b){return b.Ra>>>(b.u&Sh-1)>>>0}function ie(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Sh}function fe(b,N){b.u=N,b.h=ie(b)}function Q(b){b.u>=Ym&&(e(b.u>=Ym),ue(b))}function $(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function V(b){return pe(b,1)}function te(b,N){var U=b.Ca;0>b.b&&$(b);var K=b.b,le=U*N>>>8,de=(b.I>>>K>le)+0;for(de?(U-=le,b.I-=le+1<<K>>>0):U=le+1,K=U,le=0;256<=K;)le+=8,K>>=8;return K=7^le+oa[K],b.b-=K,b.Ca=(U<<K)-1,de}function ae(b,N,U){b[N+0]=U>>24&255,b[N+1]=U>>16&255,b[N+2]=U>>8&255,b[N+3]=U>>0&255}function Z(b,N){return b[N+0]<<0|b[N+1]<<8}function ee(b,N){return Z(b,N)|b[N+2]<<16}function _e(b,N){return Z(b,N)|Z(b,N+2)<<16}function H(b,N){var U=1<<N;return e(b!=null),e(0<N),b.X=a(U),b.X==null?0:(b.Mb=32-N,b.Xa=N,1)}function ve(b,N){e(b!=null),e(N!=null),e(b.Xa==N.Xa),n(N.X,0,b.X,0,1<<N.Xa)}function B(){this.X=[],this.Xa=this.Mb=0}function j(b,N,U,K){e(U!=null),e(K!=null);var le=U[0],de=K[0];return le==0&&(le=(b*de+N/2)/N),de==0&&(de=(N*le+b/2)/b),0>=le||0>=de?0:(U[0]=le,K[0]=de,1)}function R(b,N){return b+(1<<N)-1>>>N}function q(b,N){return((4278255360&b)+(4278255360&N)>>>0&4278255360)+((16711935&b)+(16711935&N)>>>0&16711935)>>>0}function G(b,N){k[N]=function(U,K,le,de,he,ge,ye){var be;for(be=0;be<he;++be){var Pe=k[b](ge[ye+be-1],le,de+be);ge[ye+be]=q(U[K+be],Pe)}}}function ne(){this.ud=this.hd=this.jd=0}function re(b,N){return((4278124286&(b^N))>>>1)+(b&N)>>>0}function Ae(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Ne(b,N){return Ae(b+(b-N+.5>>1))}function Se(b,N,U){return Math.abs(N-U)-Math.abs(b-U)}function Ie(b,N,U,K,le,de,he){for(K=de[he-1],U=0;U<le;++U)de[he+U]=K=q(b[N+U],K)}function Fe(b,N,U,K,le){var de;for(de=0;de<U;++de){var he=b[N+de],ge=he>>8&255,ye=16711935&(ye=(ye=16711935&he)+((ge<<16)+ge));K[le+de]=(4278255360&he)+ye>>>0}}function Ke(b,N){N.jd=b>>0&255,N.hd=b>>8&255,N.ud=b>>16&255}function nt(b,N,U,K,le,de){var he;for(he=0;he<K;++he){var ge=N[U+he],ye=ge>>>8,be=ge,Pe=255&(Pe=(Pe=ge>>>16)+((b.jd<<24>>24)*(ye<<24>>24)>>>5));be=255&(be=(be=be+((b.hd<<24>>24)*(ye<<24>>24)>>>5))+((b.ud<<24>>24)*(Pe<<24>>24)>>>5)),le[de+he]=(4278255360&ge)+(Pe<<16)+be}}function bt(b,N,U,K,le){k[N]=function(de,he,ge,ye,be,Pe,Le,De,Re){for(ye=Le;ye<De;++ye)for(Le=0;Le<Re;++Le)be[Pe++]=le(ge[K(de[he++])])},k[b]=function(de,he,ge,ye,be,Pe,Le){var De=8>>de.b,Re=de.Ea,He=de.K[0],Be=de.w;if(8>De)for(de=(1<<de.b)-1,Be=(1<<De)-1;he<ge;++he){var Ce,ke=0;for(Ce=0;Ce<Re;++Ce)Ce&de||(ke=K(ye[be++])),Pe[Le++]=le(He[ke&Be]),ke>>=De}else k["VP8LMapColor"+U](ye,be,He,Be,Pe,Le,he,ge,Re)}}function et(b,N,U,K,le){for(U=N+U;N<U;){var de=b[N++];K[le++]=de>>16&255,K[le++]=de>>8&255,K[le++]=de>>0&255}}function ar(b,N,U,K,le){for(U=N+U;N<U;){var de=b[N++];K[le++]=de>>16&255,K[le++]=de>>8&255,K[le++]=de>>0&255,K[le++]=de>>24&255}}function gt(b,N,U,K,le){for(U=N+U;N<U;){var de=(he=b[N++])>>16&240|he>>12&15,he=he>>0&240|he>>28&15;K[le++]=de,K[le++]=he}}function qr(b,N,U,K,le){for(U=N+U;N<U;){var de=(he=b[N++])>>16&248|he>>13&7,he=he>>5&224|he>>3&31;K[le++]=de,K[le++]=he}}function Ut(b,N,U,K,le){for(U=N+U;N<U;){var de=b[N++];K[le++]=de>>0&255,K[le++]=de>>8&255,K[le++]=de>>16&255}}function Dt(b,N,U,K,le,de){if(de==0)for(U=N+U;N<U;)ae(K,((de=b[N++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),le+=32;else n(K,le,b,N,U)}function ai(b,N){k[N][0]=k[b+"0"],k[N][1]=k[b+"1"],k[N][2]=k[b+"2"],k[N][3]=k[b+"3"],k[N][4]=k[b+"4"],k[N][5]=k[b+"5"],k[N][6]=k[b+"6"],k[N][7]=k[b+"7"],k[N][8]=k[b+"8"],k[N][9]=k[b+"9"],k[N][10]=k[b+"10"],k[N][11]=k[b+"11"],k[N][12]=k[b+"12"],k[N][13]=k[b+"13"],k[N][14]=k[b+"0"],k[N][15]=k[b+"0"]}function Mt(b){return b==G2||b==K2||b==Qy||b==Y2}function Qa(){this.eb=[],this.size=this.A=this.fb=0}function xr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function An(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qa,this.f.kb=new xr,this.sd=null}function Bn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _t(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Jt(b,N){var U=b.T,K=N.ba.f.RGBA,le=K.eb,de=K.fb+b.ka*K.A,he=ss[N.ba.S],ge=b.y,ye=b.O,be=b.f,Pe=b.N,Le=b.ea,De=b.W,Re=N.cc,He=N.dc,Be=N.Mc,Ce=N.Nc,ke=b.ka,ze=b.ka+b.T,Ye=b.U,qe=Ye+1>>1;for(ke==0?he(ge,ye,null,null,be,Pe,Le,De,be,Pe,Le,De,le,de,null,null,Ye):(he(N.ec,N.fc,ge,ye,Re,He,Be,Ce,be,Pe,Le,De,le,de-K.A,le,de,Ye),++U);ke+2<ze;ke+=2)Re=be,He=Pe,Be=Le,Ce=De,Pe+=b.Rc,De+=b.Rc,de+=2*K.A,he(ge,(ye+=2*b.fa)-b.fa,ge,ye,Re,He,Be,Ce,be,Pe,Le,De,le,de-K.A,le,de,Ye);return ye+=b.fa,b.j+ze<b.o?(n(N.ec,N.fc,ge,ye,Ye),n(N.cc,N.dc,be,Pe,qe),n(N.Mc,N.Nc,Le,De,qe),U--):1&ze||he(ge,ye,null,null,be,Pe,Le,De,be,Pe,Le,De,le,de+K.A,null,null,Ye),U}function Za(b,N,U){var K=b.F,le=[b.J];if(K!=null){var de=b.U,he=N.ba.S,ge=he==Jy||he==Qy;N=N.ba.f.RGBA;var ye=[0],be=b.ka;ye[0]=b.T,b.Kb&&(be==0?--ye[0]:(--be,le[0]-=b.width),b.j+b.ka+b.T==b.o&&(ye[0]=b.o-b.j-be));var Pe=N.eb;be=N.fb+be*N.A,b=kr(K,le[0],b.width,de,ye,Pe,be+(ge?0:3),N.A),e(U==ye),b&&Mt(he)&&is(Pe,be,ge,de,ye,N.A)}return 0}function Sn(b){var N=b.ma,U=N.ba.S,K=11>U,le=U==Yy||U==Xy||U==Jy||U==H2||U==12||Mt(U);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Gm(N.Oa,b,le?11:12))return 0;if(le&&Mt(U)&&Xe(),b.da)alert("todo:use_scaling");else{if(K){if(N.Ib=_t,b.Kb){if(U=b.U+1>>1,N.memory=a(b.U+2*U),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+b.U,N.Mc=N.cc,N.Nc=N.dc+U,N.Ib=Jt,Xe()}}else alert("todo:EmitYUV");le&&(N.Jb=Za,K&&Oe())}if(K&&!n6){for(b=0;256>b;++b)qG[b]=89858*(b-128)+ev>>Zy,GG[b]=-22014*(b-128)+ev,HG[b]=-45773*(b-128),WG[b]=113618*(b-128)+ev>>Zy;for(b=rg;b<Q2;++b)N=76283*(b-16)+ev>>Zy,KG[b-rg]=or(N,255),YG[b-rg]=or(N+8>>4,15);n6=1}return 1}function wi(b){var N=b.ma,U=b.U,K=b.T;return e(!(1&b.ka)),0>=U||0>=K?0:(U=N.Ib(b,N),N.Jb!=null&&N.Jb(b,N,U),N.Dc+=U,1)}function Ta(b){b.ma.memory=null}function dt(b,N,U,K){return xe(b,8)!=47?0:(N[0]=xe(b,14)+1,U[0]=xe(b,14)+1,K[0]=xe(b,1),xe(b,3)!=0?0:!b.h)}function ia(b,N){if(4>b)return b+1;var U=b-2>>1;return(2+(1&b)<<U)+xe(N,U)+1}function bi(b,N){return 120<N?N-120:1<=(U=((U=kG[N-1])>>4)*b+(8-(15&U)))?U:1;var U}function Nn(b,N,U){var K=J(U),le=b[N+=255&K].g-8;return 0<le&&(fe(U,U.u+8),K=J(U),N+=b[N].value,N+=K&(1<<le)-1),fe(U,U.u+b[N].g),b[N].value}function ln(b,N,U){return U.g+=b.g,U.value+=b.value<<N>>>0,e(8>=U.g),b.g}function Jr(b,N,U){var K=b.xc;return e((N=K==0?0:b.vc[b.md*(U>>K)+(N>>K)])<b.Wb),b.Ya[N]}function Tn(b,N,U,K){var le=b.ab,de=b.c*N,he=b.C;N=he+N;var ge=U,ye=K;for(K=b.Ta,U=b.Ua;0<le--;){var be=b.gc[le],Pe=he,Le=N,De=ge,Re=ye,He=(ye=K,ge=U,be.Ea);switch(e(Pe<Le),e(Le<=be.nc),be.hc){case 2:Vy(De,Re,(Le-Pe)*He,ye,ge);break;case 0:var Be=Pe,Ce=Le,ke=ye,ze=ge,Ye=(st=be).Ea;Be==0&&(q2(De,Re,null,null,1,ke,ze),Ie(De,Re+1,0,0,Ye-1,ke,ze+1),Re+=Ye,ze+=Ye,++Be);for(var qe=1<<st.b,ct=qe-1,it=R(Ye,st.b),Et=st.K,st=st.w+(Be>>st.b)*it;Be<Ce;){var ir=Et,ur=st,Qt=1;for(Xm(De,Re,ke,ze-Ye,1,ke,ze);Qt<Ye;){var zt=(Qt&~ct)+qe;zt>Ye&&(zt=Ye),(0,tu[ir[ur++]>>8&15])(De,Re+ +Qt,ke,ze+Qt-Ye,zt-Qt,ke,ze+Qt),Qt=zt}Re+=Ye,ze+=Ye,++Be&ct||(st+=it)}Le!=be.nc&&n(ye,ge-He,ye,ge+(Le-Pe-1)*He,He);break;case 1:for(He=De,Ce=Re,Ye=(De=be.Ea)-(ze=De&~(ke=(Re=1<<be.b)-1)),Be=R(De,be.b),qe=be.K,be=be.w+(Pe>>be.b)*Be;Pe<Le;){for(ct=qe,it=be,Et=new ne,st=Ce+ze,ir=Ce+De;Ce<st;)Ke(ct[it++],Et),Ud(Et,He,Ce,Re,ye,ge),Ce+=Re,ge+=Re;Ce<ir&&(Ke(ct[it++],Et),Ud(Et,He,Ce,Ye,ye,ge),Ce+=Ye,ge+=Ye),++Pe&ke||(be+=Be)}break;case 3:if(De==ye&&Re==ge&&0<be.b){for(Ce=ye,De=He=ge+(Le-Pe)*He-(ze=(Le-Pe)*R(be.Ea,be.b)),Re=ye,ke=ge,Be=[],ze=(Ye=ze)-1;0<=ze;--ze)Be[ze]=Re[ke+ze];for(ze=Ye-1;0<=ze;--ze)Ce[De+ze]=Be[ze];ts(be,Pe,Le,ye,He,ye,ge)}else ts(be,Pe,Le,De,Re,ye,ge)}ge=K,ye=U}ye!=U&&n(K,U,ge,ye,de)}function Mc(b,N){var U=b.V,K=b.Ba+b.c*b.C,le=N-b.C;if(e(N<=b.l.o),e(16>=le),0<le){var de=b.l,he=b.Ta,ge=b.Ua,ye=de.width;if(Tn(b,le,U,K),le=ge=[ge],e((U=b.C)<(K=N)),e(de.v<de.va),K>de.o&&(K=de.o),U<de.j){var be=de.j-U;U=de.j,le[0]+=be*ye}if(U>=K?U=0:(le[0]+=4*de.v,de.ka=U-de.j,de.U=de.va-de.v,de.T=K-U,U=1),U){if(ge=ge[0],11>(U=b.ca).S){var Pe=U.f.RGBA,Le=(K=U.S,le=de.U,de=de.T,be=Pe.eb,Pe.A),De=de;for(Pe=Pe.fb+b.Ma*Pe.A;0<De--;){var Re=he,He=ge,Be=le,Ce=be,ke=Pe;switch(K){case Ky:la(Re,He,Be,Ce,ke);break;case Yy:zi(Re,He,Be,Ce,ke);break;case G2:zi(Re,He,Be,Ce,ke),is(Ce,ke,0,Be,1,0);break;case GC:Dl(Re,He,Be,Ce,ke);break;case Xy:Dt(Re,He,Be,Ce,ke,1);break;case K2:Dt(Re,He,Be,Ce,ke,1),is(Ce,ke,0,Be,1,0);break;case Jy:Dt(Re,He,Be,Ce,ke,0);break;case Qy:Dt(Re,He,Be,Ce,ke,0),is(Ce,ke,1,Be,1,0);break;case H2:ru(Re,He,Be,Ce,ke);break;case Y2:ru(Re,He,Be,Ce,ke),Cr(Ce,ke,Be,1,0);break;case KC:Ll(Re,He,Be,Ce,ke);break;default:e(0)}ge+=ye,Pe+=Le}b.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=U.height)}}b.C=N,e(b.C<=b.i)}function Ds(b){var N;if(0<b.ua)return 0;for(N=0;N<b.Wb;++N){var U=b.Ya[N].G,K=b.Ya[N].H;if(0<U[1][K[1]+0].g||0<U[2][K[2]+0].g||0<U[3][K[3]+0].g)return 0}return 1}function xi(b,N,U,K,le,de){if(b.Z!=0){var he=b.qd,ge=b.rd;for(e(su[b.Z]!=null);N<U;++N)su[b.Z](he,ge,K,le,K,le,de),he=K,ge=le,le+=de;b.qd=he,b.rd=ge}}function aa(b,N){var U=b.l.ma,K=U.Z==0||U.Z==1?b.l.j:b.C;if(K=b.C<K?K:b.C,e(N<=b.l.o),N>K){var le=b.l.width,de=U.ca,he=U.tb+le*K,ge=b.V,ye=b.Ba+b.c*K,be=b.gc;e(b.ab==1),e(be[0].hc==3),zy(be[0],K,N,ge,ye,de,he),xi(U,K,N,de,he,le)}b.C=b.Ma=N}function Ui(b,N,U,K,le,de,he){var ge=b.$/K,ye=b.$%K,be=b.m,Pe=b.s,Le=U+b.$,De=Le;le=U+K*le;var Re=U+K*de,He=280+Pe.ua,Be=b.Pb?ge:16777216,Ce=0<Pe.ua?Pe.Wa:null,ke=Pe.wc,ze=Le<Re?Jr(Pe,ye,ge):null;e(b.C<de),e(Re<=le);var Ye=!1;e:for(;;){for(;Ye||Le<Re;){var qe=0;if(ge>=Be){var ct=Le-U;e((Be=b).Pb),Be.wd=Be.m,Be.xd=ct,0<Be.s.ua&&ve(Be.s.Wa,Be.s.vb),Be=ge+jG}if(ye&ke||(ze=Jr(Pe,ye,ge)),e(ze!=null),ze.Qb&&(N[Le]=ze.qb,Ye=!0),!Ye)if(Q(be),ze.jc){qe=be,ct=N;var it=Le,Et=ze.pd[J(qe)&li-1];e(ze.jc),256>Et.g?(fe(qe,qe.u+Et.g),ct[it]=Et.value,qe=0):(fe(qe,qe.u+Et.g-256),e(256<=Et.value),qe=Et.value),qe==0&&(Ye=!0)}else qe=Nn(ze.G[0],ze.H[0],be);if(be.h)break;if(Ye||256>qe){if(!Ye)if(ze.nd)N[Le]=(ze.qb|qe<<8)>>>0;else{if(Q(be),Ye=Nn(ze.G[1],ze.H[1],be),Q(be),ct=Nn(ze.G[2],ze.H[2],be),it=Nn(ze.G[3],ze.H[3],be),be.h)break;N[Le]=(it<<24|Ye<<16|qe<<8|ct)>>>0}if(Ye=!1,++Le,++ye>=K&&(ye=0,++ge,he!=null&&ge<=de&&!(ge%16)&&he(b,ge),Ce!=null))for(;De<Le;)qe=N[De++],Ce.X[(506832829*qe&4294967295)>>>Ce.Mb]=qe}else if(280>qe){if(qe=ia(qe-256,be),ct=Nn(ze.G[4],ze.H[4],be),Q(be),ct=bi(K,ct=ia(ct,be)),be.h)break;if(Le-U<ct||le-Le<qe)break e;for(it=0;it<qe;++it)N[Le+it]=N[Le+it-ct];for(Le+=qe,ye+=qe;ye>=K;)ye-=K,++ge,he!=null&&ge<=de&&!(ge%16)&&he(b,ge);if(e(Le<=le),ye&ke&&(ze=Jr(Pe,ye,ge)),Ce!=null)for(;De<Le;)qe=N[De++],Ce.X[(506832829*qe&4294967295)>>>Ce.Mb]=qe}else{if(!(qe<He))break e;for(Ye=qe-280,e(Ce!=null);De<Le;)qe=N[De++],Ce.X[(506832829*qe&4294967295)>>>Ce.Mb]=qe;qe=Le,e(!(Ye>>>(ct=Ce).Xa)),N[qe]=ct.X[Ye],Ye=!0}Ye||e(be.h==ie(be))}if(b.Pb&&be.h&&Le<le)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ve(b.s.vb,b.s.Wa);else{if(be.h)break e;he!=null&&he(b,ge>de?de:ge),b.a=0,b.$=Le-U}return 1}return b.a=3,0}function $i(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var N=b.Wa;N!=null&&(N.X=null),b.vb=null,e(b!=null)}function cn(){var b=new xh;return b==null?null:(b.a=0,b.xb=JC,ai("Predictor","VP8LPredictors"),ai("Predictor","VP8LPredictors_C"),ai("PredictorAdd","VP8LPredictorsAdd"),ai("PredictorAdd","VP8LPredictorsAdd_C"),Vy=Fe,Ud=nt,la=et,zi=ar,ru=gt,Ll=qr,Dl=Ut,k.VP8LMapColor32b=Nh,k.VP8LMapColor8b=qy,b)}function Pa(b,N,U,K,le){var de=1,he=[b],ge=[N],ye=K.m,be=K.s,Pe=null,Le=0;e:for(;;){if(U)for(;de&&xe(ye,1);){var De=he,Re=ge,He=K,Be=1,Ce=He.m,ke=He.gc[He.ab],ze=xe(Ce,2);if(He.Oc&1<<ze)de=0;else{switch(He.Oc|=1<<ze,ke.hc=ze,ke.Ea=De[0],ke.nc=Re[0],ke.K=[null],++He.ab,e(4>=He.ab),ze){case 0:case 1:ke.b=xe(Ce,3)+2,Be=Pa(R(ke.Ea,ke.b),R(ke.nc,ke.b),0,He,ke.K),ke.K=ke.K[0];break;case 3:var Ye,qe=xe(Ce,8)+1,ct=16<qe?0:4<qe?1:2<qe?2:3;if(De[0]=R(ke.Ea,ct),ke.b=ct,Ye=Be=Pa(qe,1,0,He,ke.K)){var it,Et=qe,st=ke,ir=1<<(8>>st.b),ur=a(ir);if(ur==null)Ye=0;else{var Qt=st.K[0],zt=st.w;for(ur[0]=st.K[0][0],it=1;it<1*Et;++it)ur[it]=q(Qt[zt+it],ur[it-1]);for(;it<4*ir;++it)ur[it]=0;st.K[0]=null,st.K[0]=ur,Ye=1}}Be=Ye;break;case 2:break;default:e(0)}de=Be}}if(he=he[0],ge=ge[0],de&&xe(ye,1)&&!(de=1<=(Le=xe(ye,4))&&11>=Le)){K.a=3;break e}var Er;if(Er=de)t:{var yr,Rt,Pn,ca=K,Cn=he,ua=ge,dr=Le,Oa=U,Ra=ca.m,Gn=ca.s,ci=[null],Wi=1,os=0,Fo=IG[dr];r:for(;;){if(Oa&&xe(Ra,1)){var Kn=xe(Ra,3)+2,Ul=R(Cn,Kn),Wd=R(ua,Kn),Ih=Ul*Wd;if(!Pa(Ul,Wd,0,ca,ci))break r;for(ci=ci[0],Gn.xc=Kn,yr=0;yr<Ih;++yr){var ou=ci[yr]>>8&65535;ci[yr]=ou,ou>=Wi&&(Wi=ou+1)}}if(Ra.h)break r;for(Rt=0;5>Rt;++Rt){var Zr=YC[Rt];!Rt&&0<dr&&(Zr+=1<<dr),os<Zr&&(os=Zr)}var Z2=s(Wi*Fo,A),s6=Wi,o6=s(s6,L);if(o6==null)var rv=null;else e(65536>=s6),rv=o6;var ng=a(os);if(rv==null||ng==null||Z2==null){ca.a=1;break r}var nv=Z2;for(yr=Pn=0;yr<Wi;++yr){var Hs=rv[yr],jh=Hs.G,Oh=Hs.H,l6=0,iv=1,c6=0;for(Rt=0;5>Rt;++Rt){Zr=YC[Rt],jh[Rt]=nv,Oh[Rt]=Pn,!Rt&&0<dr&&(Zr+=1<<dr);i:{var av,e5=Zr,sv=ca,ig=ng,QG=nv,ZG=Pn,t5=0,lu=sv.m,eK=xe(lu,1);if(i(ig,0,0,e5),eK){var tK=xe(lu,1)+1,rK=xe(lu,1),u6=xe(lu,rK==0?1:8);ig[u6]=1,tK==2&&(ig[u6=xe(lu,8)]=1);var ov=1}else{var d6=a(19),f6=xe(lu,4)+4;if(19<f6){sv.a=3;var lv=0;break i}for(av=0;av<f6;++av)d6[CG[av]]=xe(lu,3);var r5=void 0,ag=void 0,h6=sv,nK=d6,cv=e5,p6=ig,n5=0,cu=h6.m,m6=8,g6=s(128,A);n:for(;M(g6,0,7,nK,19);){if(xe(cu,1)){var iK=2+2*xe(cu,3);if((r5=2+xe(cu,iK))>cv)break n}else r5=cv;for(ag=0;ag<cv&&r5--;){Q(cu);var y6=g6[0+(127&J(cu))];fe(cu,cu.u+y6.g);var Rh=y6.value;if(16>Rh)p6[ag++]=Rh,Rh!=0&&(m6=Rh);else{var aK=Rh==16,v6=Rh-16,sK=TG[v6],w6=xe(cu,NG[v6])+sK;if(ag+w6>cv)break n;for(var oK=aK?m6:0;0<w6--;)p6[ag++]=oK}}n5=1;break n}n5||(h6.a=3),ov=n5}(ov=ov&&!lu.h)&&(t5=M(QG,ZG,8,ig,e5)),ov&&t5!=0?lv=t5:(sv.a=3,lv=0)}if(lv==0)break r;if(iv&&PG[Rt]==1&&(iv=nv[Pn].g==0),l6+=nv[Pn].g,Pn+=lv,3>=Rt){var sg,i5=ng[0];for(sg=1;sg<Zr;++sg)ng[sg]>i5&&(i5=ng[sg]);c6+=i5}}if(Hs.nd=iv,Hs.Qb=0,iv&&(Hs.qb=(jh[3][Oh[3]+0].value<<24|jh[1][Oh[1]+0].value<<16|jh[2][Oh[2]+0].value)>>>0,l6==0&&256>jh[0][Oh[0]+0].value&&(Hs.Qb=1,Hs.qb+=jh[0][Oh[0]+0].value<<8)),Hs.jc=!Hs.Qb&&6>c6,Hs.jc){var uv,$l=Hs;for(uv=0;uv<li;++uv){var uu=uv,du=$l.pd[uu],dv=$l.G[0][$l.H[0]+uu];256<=dv.value?(du.g=dv.g+256,du.value=dv.value):(du.g=0,du.value=0,uu>>=ln(dv,8,du),uu>>=ln($l.G[1][$l.H[1]+uu],16,du),uu>>=ln($l.G[2][$l.H[2]+uu],0,du),ln($l.G[3][$l.H[3]+uu],24,du))}}}Gn.vc=ci,Gn.Wb=Wi,Gn.Ya=rv,Gn.yc=Z2,Er=1;break t}Er=0}if(!(de=Er)){K.a=3;break e}if(0<Le){if(be.ua=1<<Le,!H(be.Wa,Le)){K.a=1,de=0;break e}}else be.ua=0;var a5=K,b6=he,lK=ge,s5=a5.s,o5=s5.xc;if(a5.c=b6,a5.i=lK,s5.md=R(b6,o5),s5.wc=o5==0?-1:(1<<o5)-1,U){K.xb=BG;break e}if((Pe=a(he*ge))==null){K.a=1,de=0;break e}de=(de=Ui(K,Pe,0,he,ge,ge,null))&&!ye.h;break e}return de?(le!=null?le[0]=Pe:(e(Pe==null),e(U)),K.$=0,U||$i(be)):$i(be),de}function No(b,N){var U=b.c*b.i,K=U+N+16*N;return e(b.c<=N),b.V=a(K),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+U+N,1)}function To(b,N){var U=b.C,K=N-U,le=b.V,de=b.Ba+b.c*U;for(e(N<=b.l.o);0<K;){var he=16<K?16:K,ge=b.l.ma,ye=b.l.width,be=ye*he,Pe=ge.ca,Le=ge.tb+ye*U,De=b.Ta,Re=b.Ua;Tn(b,he,le,de),dn(De,Re,Pe,Le,be),xi(ge,U,U+he,Pe,Le,ye),K-=he,le+=he*b.c,U+=he}e(U==N),b.C=b.Ma=N}function Po(){this.ub=this.yd=this.td=this.Rb=0}function Al(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Sl(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function dh(){this.Yb=function(){var b=[];return function N(U,K,le){for(var de=le[K],he=0;he<de&&(U.push(le.length>K+1?[]:0),!(le.length<K+1));he++)N(U[he],K+1,le)}(b,0,[3,11]),b}()}function Fc(){this.jb=a(3),this.Wc=o([4,8],dh),this.Xc=o([4,17],dh)}function fh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Co(){this.ld=this.La=this.dd=this.tc=0}function ko(){this.Na=this.la=0}function Ms(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Nl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zm(){this.uc=this.M=this.Nb=0,this.wa=Array(new Co),this.Y=0,this.ya=Array(new Nl),this.aa=0,this.l=new Tl}function Nd(){this.y=a(16),this.f=a(8),this.ea=a(8)}function hh(){this.cb=this.a=0,this.sc="",this.m=new we,this.Od=new Po,this.Kc=new Al,this.ed=new fh,this.Qa=new Sl,this.Ic=this.$c=this.Aa=0,this.D=new zm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,we),this.ia=0,this.pb=s(4,Ms),this.Pa=new Fc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nd),this.Hd=0,this.rb=Array(new ko),this.sb=0,this.wa=Array(new Co),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Nl),this.L=this.aa=0,this.gd=o([4,2],Co),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Tl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Td(){var b=new hh;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,tg||(tg=ph)),b}function Rr(b,N,U){return b.a==0&&(b.a=N,b.sc=U,b.cb=0),0}function Pd(b,N,U){return 3<=U&&b[N+0]==157&&b[N+1]==1&&b[N+2]==42}function Cd(b,N){if(b==null)return 0;if(b.a=0,b.sc="OK",N==null)return Rr(b,2,"null VP8Io passed to VP8GetHeaders()");var U=N.data,K=N.w,le=N.ha;if(4>le)return Rr(b,7,"Truncated header.");var de=U[K+0]|U[K+1]<<8|U[K+2]<<16,he=b.Od;if(he.Rb=!(1&de),he.td=de>>1&7,he.yd=de>>4&1,he.ub=de>>5,3<he.td)return Rr(b,3,"Incorrect keyframe parameters.");if(!he.yd)return Rr(b,4,"Frame not displayable.");K+=3,le-=3;var ge=b.Kc;if(he.Rb){if(7>le)return Rr(b,7,"cannot parse picture header");if(!Pd(U,K,le))return Rr(b,3,"Bad code word");ge.c=16383&(U[K+4]<<8|U[K+3]),ge.Td=U[K+4]>>6,ge.i=16383&(U[K+6]<<8|U[K+5]),ge.Ud=U[K+6]>>6,K+=7,le-=7,b.za=ge.c+15>>4,b.Ub=ge.i+15>>4,N.width=ge.c,N.height=ge.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,i((de=b.Pa).jb,0,255,de.jb.length),e((de=b.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,i(de.Zb,0,0,de.Zb.length),i(de.Lb,0,0,de.Lb)}if(he.ub>le)return Rr(b,7,"bad partition length");se(de=b.m,U,K,he.ub),K+=he.ub,le-=he.ub,he.Rb&&(ge.Ld=V(de),ge.Kd=V(de)),ge=b.Qa;var ye,be=b.Pa;if(e(de!=null),e(ge!=null),ge.Cb=V(de),ge.Cb){if(ge.Bb=V(de),V(de)){for(ge.Fb=V(de),ye=0;4>ye;++ye)ge.Zb[ye]=V(de)?X(de,7):0;for(ye=0;4>ye;++ye)ge.Lb[ye]=V(de)?X(de,6):0}if(ge.Bb)for(ye=0;3>ye;++ye)be.jb[ye]=V(de)?pe(de,8):255}else ge.Bb=0;if(de.Ka)return Rr(b,3,"cannot parse segment header");if((ge=b.ed).zd=V(de),ge.Tb=pe(de,6),ge.wb=pe(de,3),ge.Pc=V(de),ge.Pc&&V(de)){for(be=0;4>be;++be)V(de)&&(ge.vd[be]=X(de,6));for(be=0;4>be;++be)V(de)&&(ge.od[be]=X(de,6))}if(b.L=ge.Tb==0?0:ge.zd?1:2,de.Ka)return Rr(b,3,"cannot parse filter header");var Pe=le;if(le=ye=K,K=ye+Pe,ge=Pe,b.Xb=(1<<pe(b.m,2))-1,Pe<3*(be=b.Xb))U=7;else{for(ye+=3*be,ge-=3*be,Pe=0;Pe<be;++Pe){var Le=U[le+0]|U[le+1]<<8|U[le+2]<<16;Le>ge&&(Le=ge),se(b.Jc[+Pe],U,ye,Le),ye+=Le,ge-=Le,le+=3}se(b.Jc[+be],U,ye,ge),U=ye<K?0:5}if(U!=0)return Rr(b,U,"cannot parse partitions");for(U=pe(ye=b.m,7),le=V(ye)?X(ye,4):0,K=V(ye)?X(ye,4):0,ge=V(ye)?X(ye,4):0,be=V(ye)?X(ye,4):0,ye=V(ye)?X(ye,4):0,Pe=b.Qa,Le=0;4>Le;++Le){if(Pe.Cb){var De=Pe.Zb[Le];Pe.Fb||(De+=U)}else{if(0<Le){b.pb[Le]=b.pb[0];continue}De=U}var Re=b.pb[Le];Re.Sc[0]=X2[or(De+le,127)],Re.Sc[1]=J2[or(De+0,127)],Re.Eb[0]=2*X2[or(De+K,127)],Re.Eb[1]=101581*J2[or(De+ge,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=X2[or(De+be,117)],Re.Qc[1]=J2[or(De+ye,127)],Re.lc=De+ye}if(!he.Rb)return Rr(b,4,"Not a key frame.");for(V(de),he=b.Pa,U=0;4>U;++U){for(le=0;8>le;++le)for(K=0;3>K;++K)for(ge=0;11>ge;++ge)be=te(de,MG[U][le][K][ge])?pe(de,8):LG[U][le][K][ge],he.Wc[U][le].Yb[K][ge]=be;for(le=0;17>le;++le)he.Xc[U][le]=he.Wc[U][FG[le]]}return b.kc=V(de),b.kc&&(b.Bd=pe(de,8)),b.cb=1}function ph(b,N,U,K,le,de,he){var ge=N[le].Yb[U];for(U=0;16>le;++le){if(!te(b,ge[U+0]))return le;for(;!te(b,ge[U+1]);)if(ge=N[++le].Yb[0],U=0,le==16)return 16;var ye=N[le+1].Yb;if(te(b,ge[U+2])){var be=b,Pe=0;if(te(be,(De=ge)[(Le=U)+3]))if(te(be,De[Le+6])){for(ge=0,Le=2*(Pe=te(be,De[Le+8]))+(De=te(be,De[Le+9+Pe])),Pe=0,De=OG[Le];De[ge];++ge)Pe+=Pe+te(be,De[ge]);Pe+=3+(8<<Le)}else te(be,De[Le+7])?(Pe=7+2*te(be,165),Pe+=te(be,145)):Pe=5+te(be,159);else Pe=te(be,De[Le+4])?3+te(be,De[Le+5]):2;ge=ye[2]}else Pe=1,ge=ye[1];ye=he+RG[le],0>(be=b).b&&$(be);var Le,De=be.b,Re=(Le=be.Ca>>1)-(be.I>>De)>>31;--be.b,be.Ca+=Re,be.Ca|=1,be.I-=(Le+1&Re)<<De,de[ye]=((Pe^Re)-Re)*K[(0<le)+0]}return 16}function kd(b){var N=b.rb[b.sb-1];N.la=0,N.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function mh(b,N){if(b==null)return 0;if(N==null)return Rr(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!Cd(b,N))return 0;if(e(b.cb),N.ac==null||N.ac(N)){N.ob&&(b.L=0);var U=tv[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=N.v-U>>4,b.zb=N.j-U>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=N.o+15+U>>4,b.Hb=N.va+15+U>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var K=b.ed;for(U=0;4>U;++U){var le;if(b.Qa.Cb){var de=b.Qa.Lb[U];b.Qa.Fb||(de+=K.Tb)}else de=K.Tb;for(le=0;1>=le;++le){var he=b.gd[U][le],ge=de;if(K.Pc&&(ge+=K.vd[0],le&&(ge+=K.od[0])),0<(ge=0>ge?0:63<ge?63:ge)){var ye=ge;0<K.wb&&(ye=4<K.wb?ye>>2:ye>>1)>9-K.wb&&(ye=9-K.wb),1>ye&&(ye=1),he.dd=ye,he.tc=2*ge+ye,he.ld=40<=ge?2:15<=ge?1:0}else he.tc=0;he.La=le}}}U=0}else Rr(b,6,"Frame setup failed"),U=b.a;if(U=U==0){if(U){b.$c=0,0<b.Aa||(b.Ic=JG);e:{U=b.Ic,K=4*(ye=b.za);var be=32*ye,Pe=ye+1,Le=0<b.L?ye*(0<b.Aa?2:1):0,De=(b.Aa==2?2:1)*ye;if((he=K+832+(le=3*(16*U+tv[b.L])/2*be)+(de=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=he)U=0;else{if(he>b.Vb){if(b.Vb=0,b.Ec=a(he),b.Fc=0,b.Ec==null){U=Rr(b,1,"no memory during frame initialization.");break e}b.Vb=he}he=b.Ec,ge=b.Fc,b.Ac=he,b.Bc=ge,ge+=K,b.Gd=s(be,Nd),b.Hd=0,b.rb=s(Pe+1,ko),b.sb=1,b.wa=Le?s(Le,Co):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=ye),e(!0),b.oc=he,b.pc=ge,ge+=832,b.ya=s(De,Nl),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=ye),b.R=16*ye,b.B=8*ye,ye=(be=tv[b.L])*b.R,be=be/2*b.B,b.sa=he,b.ta=ge+ye,b.qa=b.sa,b.ra=b.ta+16*U*b.R+be,b.Ha=b.qa,b.Ia=b.ra+8*U*b.B+be,b.$c=0,ge+=le,b.mb=de?he:null,b.nb=de?ge:null,e(ge+de<=b.Fc+b.Vb),kd(b),i(b.Ac,b.Bc,0,K),U=1}}if(U){if(N.ka=0,N.y=b.sa,N.O=b.ta,N.f=b.qa,N.N=b.ra,N.ea=b.Ha,N.Vd=b.Ia,N.fa=b.R,N.Rc=b.B,N.F=null,N.J=0,!Hy){for(U=-255;255>=U;++U)$n[255+U]=0>U?-U:U;for(U=-1020;1020>=U;++U)Fl[1020+U]=-128>U?-128:127<U?127:U;for(U=-112;112>=U;++U)eg[112+U]=-16>U?-16:15<U?15:U;for(U=-255;510>=U;++U)kh[255+U]=0>U?0:255<U?255:U;Hy=1}Th=kl,Ml=Uc,Jm=Id,qi=cr,rs=Cl,un=Pl,Ph=Gc,Wy=Vs,Qm=Yc,$d=Bd,Vd=Kc,nu=jl,zd=Xc,Ch=Ro,qd=Il,iu=Ia,Zm=Un,ns=bh,Ws[0]=es,Ws[1]=qm,Ws[2]=jo,Ws[3]=Hm,Ws[4]=vh,Ws[5]=zc,Ws[6]=Ca,Ws[7]=Od,Ws[8]=Wc,Ws[9]=qc,au[0]=Io,au[1]=Wm,au[2]=Bs,au[3]=$c,au[4]=Lr,au[5]=yh,au[6]=jd,Bl[0]=$s,Bl[1]=gh,Bl[2]=wh,Bl[3]=Us,Bl[4]=sr,Bl[5]=Rd,Bl[6]=Ld,U=1}else U=0}U&&(U=function(Re,He){for(Re.M=0;Re.M<Re.Va;++Re.M){var Be,Ce=Re.Jc[Re.M&Re.Xb],ke=Re.m,ze=Re;for(Be=0;Be<ze.za;++Be){var Ye=ke,qe=ze,ct=qe.Ac,it=qe.Bc+4*Be,Et=qe.zc,st=qe.ya[qe.aa+Be];if(qe.Qa.Bb?st.$b=te(Ye,qe.Pa.jb[0])?2+te(Ye,qe.Pa.jb[2]):te(Ye,qe.Pa.jb[1]):st.$b=0,qe.kc&&(st.Ad=te(Ye,qe.Bd)),st.Za=!te(Ye,145)+0,st.Za){var ir=st.Ob,ur=0;for(qe=0;4>qe;++qe){var Qt,zt=Et[0+qe];for(Qt=0;4>Qt;++Qt){zt=DG[ct[it+Qt]][zt];for(var Er=XC[te(Ye,zt[0])];0<Er;)Er=XC[2*Er+te(Ye,zt[Er])];zt=-Er,ct[it+Qt]=zt}n(ir,ur,ct,it,4),ur+=4,Et[0+qe]=zt}}else zt=te(Ye,156)?te(Ye,128)?1:3:te(Ye,163)?2:0,st.Ob[0]=zt,i(ct,it,zt,4),i(Et,0,zt,4);st.Dd=te(Ye,142)?te(Ye,114)?te(Ye,183)?1:3:2:0}if(ze.m.Ka)return Rr(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(ze=Ce,Ye=(ke=Re).rb[ke.sb-1],ct=ke.rb[ke.sb+ke.ja],Be=ke.ya[ke.aa+ke.ja],it=ke.kc?Be.Ad:0)Ye.la=ct.la=0,Be.Za||(Ye.Na=ct.Na=0),Be.Hc=0,Be.Gc=0,Be.ia=0;else{var yr,Rt;if(Ye=ct,ct=ze,it=ke.Pa.Xc,Et=ke.ya[ke.aa+ke.ja],st=ke.pb[Et.$b],qe=Et.ad,ir=0,ur=ke.rb[ke.sb-1],zt=Qt=0,i(qe,ir,0,384),Et.Za)var Pn=0,ca=it[3];else{Er=a(16);var Cn=Ye.Na+ur.Na;if(Cn=tg(ct,it[1],Cn,st.Eb,0,Er,0),Ye.Na=ur.Na=(0<Cn)+0,1<Cn)Th(Er,0,qe,ir);else{var ua=Er[0]+3>>3;for(Er=0;256>Er;Er+=16)qe[ir+Er]=ua}Pn=1,ca=it[0]}var dr=15&Ye.la,Oa=15&ur.la;for(Er=0;4>Er;++Er){var Ra=1&Oa;for(ua=Rt=0;4>ua;++ua)dr=dr>>1|(Ra=(Cn=tg(ct,ca,Cn=Ra+(1&dr),st.Sc,Pn,qe,ir))>Pn)<<7,Rt=Rt<<2|(3<Cn?3:1<Cn?2:qe[ir+0]!=0),ir+=16;dr>>=4,Oa=Oa>>1|Ra<<7,Qt=(Qt<<8|Rt)>>>0}for(ca=dr,Pn=Oa>>4,yr=0;4>yr;yr+=2){for(Rt=0,dr=Ye.la>>4+yr,Oa=ur.la>>4+yr,Er=0;2>Er;++Er){for(Ra=1&Oa,ua=0;2>ua;++ua)Cn=Ra+(1&dr),dr=dr>>1|(Ra=0<(Cn=tg(ct,it[2],Cn,st.Qc,0,qe,ir)))<<3,Rt=Rt<<2|(3<Cn?3:1<Cn?2:qe[ir+0]!=0),ir+=16;dr>>=2,Oa=Oa>>1|Ra<<5}zt|=Rt<<4*yr,ca|=dr<<4<<yr,Pn|=(240&Oa)<<yr}Ye.la=ca,ur.la=Pn,Et.Hc=Qt,Et.Gc=zt,Et.ia=43690&zt?0:st.ia,it=!(Qt|zt)}if(0<ke.L&&(ke.wa[ke.Y+ke.ja]=ke.gd[Be.$b][Be.Za],ke.wa[ke.Y+ke.ja].La|=!it),ze.Ka)return Rr(Re,7,"Premature end-of-file encountered.")}if(kd(Re),ke=He,ze=1,Be=(Ce=Re).D,Ye=0<Ce.L&&Ce.M>=Ce.zb&&Ce.M<=Ce.Va,Ce.Aa==0)e:{if(Be.M=Ce.M,Be.uc=Ye,Do(Ce,Be),ze=1,Be=(Rt=Ce.D).Nb,Ye=(zt=tv[Ce.L])*Ce.R,ct=zt/2*Ce.B,Er=16*Be*Ce.R,ua=8*Be*Ce.B,it=Ce.sa,Et=Ce.ta-Ye+Er,st=Ce.qa,qe=Ce.ra-ct+ua,ir=Ce.Ha,ur=Ce.Ia-ct+ua,Oa=(dr=Rt.M)==0,Qt=dr>=Ce.Va-1,Ce.Aa==2&&Do(Ce,Rt),Rt.uc)for(Ra=(Cn=Ce).D.M,e(Cn.D.uc),Rt=Cn.yb;Rt<Cn.Hb;++Rt){Pn=Rt,ca=Ra;var Gn=(ci=(Zr=Cn).D).Nb;yr=Zr.R;var ci=ci.wa[ci.Y+Pn],Wi=Zr.sa,os=Zr.ta+16*Gn*yr+16*Pn,Fo=ci.dd,Kn=ci.tc;if(Kn!=0)if(e(3<=Kn),Zr.L==1)0<Pn&&iu(Wi,os,yr,Kn+4),ci.La&&ns(Wi,os,yr,Kn),0<ca&&qd(Wi,os,yr,Kn+4),ci.La&&Zm(Wi,os,yr,Kn);else{var Ul=Zr.B,Wd=Zr.qa,Ih=Zr.ra+8*Gn*Ul+8*Pn,ou=Zr.Ha,Zr=Zr.Ia+8*Gn*Ul+8*Pn;Gn=ci.ld,0<Pn&&(Wy(Wi,os,yr,Kn+4,Fo,Gn),$d(Wd,Ih,ou,Zr,Ul,Kn+4,Fo,Gn)),ci.La&&(nu(Wi,os,yr,Kn,Fo,Gn),Ch(Wd,Ih,ou,Zr,Ul,Kn,Fo,Gn)),0<ca&&(Ph(Wi,os,yr,Kn+4,Fo,Gn),Qm(Wd,Ih,ou,Zr,Ul,Kn+4,Fo,Gn)),ci.La&&(Vd(Wi,os,yr,Kn,Fo,Gn),zd(Wd,Ih,ou,Zr,Ul,Kn,Fo,Gn))}}if(Ce.ia&&alert("todo:DitherRow"),ke.put!=null){if(Rt=16*dr,dr=16*(dr+1),Oa?(ke.y=Ce.sa,ke.O=Ce.ta+Er,ke.f=Ce.qa,ke.N=Ce.ra+ua,ke.ea=Ce.Ha,ke.W=Ce.Ia+ua):(Rt-=zt,ke.y=it,ke.O=Et,ke.f=st,ke.N=qe,ke.ea=ir,ke.W=ur),Qt||(dr-=zt),dr>ke.o&&(dr=ke.o),ke.F=null,ke.J=null,Ce.Fa!=null&&0<Ce.Fa.length&&Rt<dr&&(ke.J=eu(Ce,ke,Rt,dr-Rt),ke.F=Ce.mb,ke.F==null&&ke.F.length==0)){ze=Rr(Ce,3,"Could not decode alpha data.");break e}Rt<ke.j&&(zt=ke.j-Rt,Rt=ke.j,e(!(1&zt)),ke.O+=Ce.R*zt,ke.N+=Ce.B*(zt>>1),ke.W+=Ce.B*(zt>>1),ke.F!=null&&(ke.J+=ke.width*zt)),Rt<dr&&(ke.O+=ke.v,ke.N+=ke.v>>1,ke.W+=ke.v>>1,ke.F!=null&&(ke.J+=ke.v),ke.ka=Rt-ke.j,ke.U=ke.va-ke.v,ke.T=dr-Rt,ze=ke.put(ke))}Be+1!=Ce.Ic||Qt||(n(Ce.sa,Ce.ta-Ye,it,Et+16*Ce.R,Ye),n(Ce.qa,Ce.ra-ct,st,qe+8*Ce.B,ct),n(Ce.Ha,Ce.Ia-ct,ir,ur+8*Ce.B,ct))}if(!ze)return Rr(Re,6,"Output aborted.")}return 1}(b,N)),N.bc!=null&&N.bc(N),U&=1}return U?(b.cb=0,U):0}function sa(b,N,U,K,le){le=b[N+U+32*K]+(le>>3),b[N+U+32*K]=-256&le?0>le?0:255:le}function Bc(b,N,U,K,le,de){sa(b,N,0,U,K+le),sa(b,N,1,U,K+de),sa(b,N,2,U,K-de),sa(b,N,3,U,K-le)}function Qr(b){return(20091*b>>16)+b}function Vi(b,N,U,K){var le,de=0,he=a(16);for(le=0;4>le;++le){var ge=b[N+0]+b[N+8],ye=b[N+0]-b[N+8],be=(35468*b[N+4]>>16)-Qr(b[N+12]),Pe=Qr(b[N+4])+(35468*b[N+12]>>16);he[de+0]=ge+Pe,he[de+1]=ye+be,he[de+2]=ye-be,he[de+3]=ge-Pe,de+=4,N++}for(le=de=0;4>le;++le)ge=(b=he[de+0]+4)+he[de+8],ye=b-he[de+8],be=(35468*he[de+4]>>16)-Qr(he[de+12]),sa(U,K,0,0,ge+(Pe=Qr(he[de+4])+(35468*he[de+12]>>16))),sa(U,K,1,0,ye+be),sa(U,K,2,0,ye-be),sa(U,K,3,0,ge-Pe),de++,K+=32}function Pl(b,N,U,K){var le=b[N+0]+4,de=35468*b[N+4]>>16,he=Qr(b[N+4]),ge=35468*b[N+1]>>16;Bc(U,K,0,le+he,b=Qr(b[N+1]),ge),Bc(U,K,1,le+de,b,ge),Bc(U,K,2,le-de,b,ge),Bc(U,K,3,le-he,b,ge)}function Uc(b,N,U,K,le){Vi(b,N,U,K),le&&Vi(b,N+16,U,K+4)}function Id(b,N,U,K){Ml(b,N+0,U,K,1),Ml(b,N+32,U,K+128,1)}function cr(b,N,U,K){var le;for(b=b[N+0]+4,le=0;4>le;++le)for(N=0;4>N;++N)sa(U,K,N,le,b)}function Cl(b,N,U,K){b[N+0]&&qi(b,N+0,U,K),b[N+16]&&qi(b,N+16,U,K+4),b[N+32]&&qi(b,N+32,U,K+128),b[N+48]&&qi(b,N+48,U,K+128+4)}function kl(b,N,U,K){var le,de=a(16);for(le=0;4>le;++le){var he=b[N+0+le]+b[N+12+le],ge=b[N+4+le]+b[N+8+le],ye=b[N+4+le]-b[N+8+le],be=b[N+0+le]-b[N+12+le];de[0+le]=he+ge,de[8+le]=he-ge,de[4+le]=be+ye,de[12+le]=be-ye}for(le=0;4>le;++le)he=(b=de[0+4*le]+3)+de[3+4*le],ge=de[1+4*le]+de[2+4*le],ye=de[1+4*le]-de[2+4*le],be=b-de[3+4*le],U[K+0]=he+ge>>3,U[K+16]=be+ye>>3,U[K+32]=he-ge>>3,U[K+48]=be-ye>>3,K+=64}function Fs(b,N,U){var K,le=N-32,de=ja,he=255-b[le-1];for(K=0;K<U;++K){var ge,ye=de,be=he+b[N-1];for(ge=0;ge<U;++ge)b[N+ge]=ye[be+b[le+ge]];N+=32}}function qm(b,N){Fs(b,N,4)}function gh(b,N){Fs(b,N,8)}function Wm(b,N){Fs(b,N,16)}function Bs(b,N){var U;for(U=0;16>U;++U)n(b,N+32*U,b,N-32,16)}function $c(b,N){var U;for(U=16;0<U;--U)i(b,N,b[N-1],16),N+=32}function Vc(b,N,U){var K;for(K=0;16>K;++K)i(N,U+32*K,b,16)}function Io(b,N){var U,K=16;for(U=0;16>U;++U)K+=b[N-1+32*U]+b[N+U-32];Vc(K>>5,b,N)}function Lr(b,N){var U,K=8;for(U=0;16>U;++U)K+=b[N-1+32*U];Vc(K>>4,b,N)}function yh(b,N){var U,K=8;for(U=0;16>U;++U)K+=b[N+U-32];Vc(K>>4,b,N)}function jd(b,N){Vc(128,b,N)}function Tt(b,N,U){return b+2*N+U+2>>2}function jo(b,N){var U,K=N-32;for(K=new Uint8Array([Tt(b[K-1],b[K+0],b[K+1]),Tt(b[K+0],b[K+1],b[K+2]),Tt(b[K+1],b[K+2],b[K+3]),Tt(b[K+2],b[K+3],b[K+4])]),U=0;4>U;++U)n(b,N+32*U,K,0,K.length)}function Hm(b,N){var U=b[N-1],K=b[N-1+32],le=b[N-1+64],de=b[N-1+96];ae(b,N+0,16843009*Tt(b[N-1-32],U,K)),ae(b,N+32,16843009*Tt(U,K,le)),ae(b,N+64,16843009*Tt(K,le,de)),ae(b,N+96,16843009*Tt(le,de,de))}function es(b,N){var U,K=4;for(U=0;4>U;++U)K+=b[N+U-32]+b[N-1+32*U];for(K>>=3,U=0;4>U;++U)i(b,N+32*U,K,4)}function vh(b,N){var U=b[N-1+0],K=b[N-1+32],le=b[N-1+64],de=b[N-1-32],he=b[N+0-32],ge=b[N+1-32],ye=b[N+2-32],be=b[N+3-32];b[N+0+96]=Tt(K,le,b[N-1+96]),b[N+1+96]=b[N+0+64]=Tt(U,K,le),b[N+2+96]=b[N+1+64]=b[N+0+32]=Tt(de,U,K),b[N+3+96]=b[N+2+64]=b[N+1+32]=b[N+0+0]=Tt(he,de,U),b[N+3+64]=b[N+2+32]=b[N+1+0]=Tt(ge,he,de),b[N+3+32]=b[N+2+0]=Tt(ye,ge,he),b[N+3+0]=Tt(be,ye,ge)}function Ca(b,N){var U=b[N+1-32],K=b[N+2-32],le=b[N+3-32],de=b[N+4-32],he=b[N+5-32],ge=b[N+6-32],ye=b[N+7-32];b[N+0+0]=Tt(b[N+0-32],U,K),b[N+1+0]=b[N+0+32]=Tt(U,K,le),b[N+2+0]=b[N+1+32]=b[N+0+64]=Tt(K,le,de),b[N+3+0]=b[N+2+32]=b[N+1+64]=b[N+0+96]=Tt(le,de,he),b[N+3+32]=b[N+2+64]=b[N+1+96]=Tt(de,he,ge),b[N+3+64]=b[N+2+96]=Tt(he,ge,ye),b[N+3+96]=Tt(ge,ye,ye)}function zc(b,N){var U=b[N-1+0],K=b[N-1+32],le=b[N-1+64],de=b[N-1-32],he=b[N+0-32],ge=b[N+1-32],ye=b[N+2-32],be=b[N+3-32];b[N+0+0]=b[N+1+64]=de+he+1>>1,b[N+1+0]=b[N+2+64]=he+ge+1>>1,b[N+2+0]=b[N+3+64]=ge+ye+1>>1,b[N+3+0]=ye+be+1>>1,b[N+0+96]=Tt(le,K,U),b[N+0+64]=Tt(K,U,de),b[N+0+32]=b[N+1+96]=Tt(U,de,he),b[N+1+32]=b[N+2+96]=Tt(de,he,ge),b[N+2+32]=b[N+3+96]=Tt(he,ge,ye),b[N+3+32]=Tt(ge,ye,be)}function Od(b,N){var U=b[N+0-32],K=b[N+1-32],le=b[N+2-32],de=b[N+3-32],he=b[N+4-32],ge=b[N+5-32],ye=b[N+6-32],be=b[N+7-32];b[N+0+0]=U+K+1>>1,b[N+1+0]=b[N+0+64]=K+le+1>>1,b[N+2+0]=b[N+1+64]=le+de+1>>1,b[N+3+0]=b[N+2+64]=de+he+1>>1,b[N+0+32]=Tt(U,K,le),b[N+1+32]=b[N+0+96]=Tt(K,le,de),b[N+2+32]=b[N+1+96]=Tt(le,de,he),b[N+3+32]=b[N+2+96]=Tt(de,he,ge),b[N+3+64]=Tt(he,ge,ye),b[N+3+96]=Tt(ge,ye,be)}function qc(b,N){var U=b[N-1+0],K=b[N-1+32],le=b[N-1+64],de=b[N-1+96];b[N+0+0]=U+K+1>>1,b[N+2+0]=b[N+0+32]=K+le+1>>1,b[N+2+32]=b[N+0+64]=le+de+1>>1,b[N+1+0]=Tt(U,K,le),b[N+3+0]=b[N+1+32]=Tt(K,le,de),b[N+3+32]=b[N+1+64]=Tt(le,de,de),b[N+3+64]=b[N+2+64]=b[N+0+96]=b[N+1+96]=b[N+2+96]=b[N+3+96]=de}function Wc(b,N){var U=b[N-1+0],K=b[N-1+32],le=b[N-1+64],de=b[N-1+96],he=b[N-1-32],ge=b[N+0-32],ye=b[N+1-32],be=b[N+2-32];b[N+0+0]=b[N+2+32]=U+he+1>>1,b[N+0+32]=b[N+2+64]=K+U+1>>1,b[N+0+64]=b[N+2+96]=le+K+1>>1,b[N+0+96]=de+le+1>>1,b[N+3+0]=Tt(ge,ye,be),b[N+2+0]=Tt(he,ge,ye),b[N+1+0]=b[N+3+32]=Tt(U,he,ge),b[N+1+32]=b[N+3+64]=Tt(K,U,he),b[N+1+64]=b[N+3+96]=Tt(le,K,U),b[N+1+96]=Tt(de,le,K)}function wh(b,N){var U;for(U=0;8>U;++U)n(b,N+32*U,b,N-32,8)}function Us(b,N){var U;for(U=0;8>U;++U)i(b,N,b[N-1],8),N+=32}function ka(b,N,U){var K;for(K=0;8>K;++K)i(N,U+32*K,b,8)}function $s(b,N){var U,K=8;for(U=0;8>U;++U)K+=b[N+U-32]+b[N-1+32*U];ka(K>>4,b,N)}function Rd(b,N){var U,K=4;for(U=0;8>U;++U)K+=b[N+U-32];ka(K>>3,b,N)}function sr(b,N){var U,K=4;for(U=0;8>U;++U)K+=b[N-1+32*U];ka(K>>3,b,N)}function Ld(b,N){ka(128,b,N)}function Hc(b,N,U){var K=b[N-U],le=b[N+0],de=3*(le-K)+W2[1020+b[N-2*U]-b[N+U]],he=Gy[112+(de+4>>3)];b[N-U]=ja[255+K+Gy[112+(de+3>>3)]],b[N+0]=ja[255+le-he]}function Dd(b,N,U,K){var le=b[N+0],de=b[N+U];return as[255+b[N-2*U]-b[N-U]]>K||as[255+de-le]>K}function Md(b,N,U,K){return 4*as[255+b[N-U]-b[N+0]]+as[255+b[N-2*U]-b[N+U]]<=K}function Fd(b,N,U,K,le){var de=b[N-3*U],he=b[N-2*U],ge=b[N-U],ye=b[N+0],be=b[N+U],Pe=b[N+2*U],Le=b[N+3*U];return 4*as[255+ge-ye]+as[255+he-be]>K?0:as[255+b[N-4*U]-de]<=le&&as[255+de-he]<=le&&as[255+he-ge]<=le&&as[255+Le-Pe]<=le&&as[255+Pe-be]<=le&&as[255+be-ye]<=le}function Il(b,N,U,K){var le=2*K+1;for(K=0;16>K;++K)Md(b,N+K,U,le)&&Hc(b,N+K,U)}function Ia(b,N,U,K){var le=2*K+1;for(K=0;16>K;++K)Md(b,N+K*U,1,le)&&Hc(b,N+K*U,1)}function Un(b,N,U,K){var le;for(le=3;0<le;--le)Il(b,N+=4*U,U,K)}function bh(b,N,U,K){var le;for(le=3;0<le;--le)Ia(b,N+=4,U,K)}function Oo(b,N,U,K,le,de,he,ge){for(de=2*de+1;0<le--;){if(Fd(b,N,U,de,he))if(Dd(b,N,U,ge))Hc(b,N,U);else{var ye=b,be=N,Pe=U,Le=ye[be-2*Pe],De=ye[be-Pe],Re=ye[be+0],He=ye[be+Pe],Be=ye[be+2*Pe],Ce=27*(ze=W2[1020+3*(Re-De)+W2[1020+Le-He]])+63>>7,ke=18*ze+63>>7,ze=9*ze+63>>7;ye[be-3*Pe]=ja[255+ye[be-3*Pe]+ze],ye[be-2*Pe]=ja[255+Le+ke],ye[be-Pe]=ja[255+De+Ce],ye[be+0]=ja[255+Re-Ce],ye[be+Pe]=ja[255+He-ke],ye[be+2*Pe]=ja[255+Be-ze]}N+=K}}function si(b,N,U,K,le,de,he,ge){for(de=2*de+1;0<le--;){if(Fd(b,N,U,de,he))if(Dd(b,N,U,ge))Hc(b,N,U);else{var ye=b,be=N,Pe=U,Le=ye[be-Pe],De=ye[be+0],Re=ye[be+Pe],He=Gy[112+((Be=3*(De-Le))+4>>3)],Be=Gy[112+(Be+3>>3)],Ce=He+1>>1;ye[be-2*Pe]=ja[255+ye[be-2*Pe]+Ce],ye[be-Pe]=ja[255+Le+Be],ye[be+0]=ja[255+De-He],ye[be+Pe]=ja[255+Re-Ce]}N+=K}}function Gc(b,N,U,K,le,de){Oo(b,N,U,1,16,K,le,de)}function Vs(b,N,U,K,le,de){Oo(b,N,1,U,16,K,le,de)}function Kc(b,N,U,K,le,de){var he;for(he=3;0<he;--he)si(b,N+=4*U,U,1,16,K,le,de)}function jl(b,N,U,K,le,de){var he;for(he=3;0<he;--he)si(b,N+=4,1,U,16,K,le,de)}function Yc(b,N,U,K,le,de,he,ge){Oo(b,N,le,1,8,de,he,ge),Oo(U,K,le,1,8,de,he,ge)}function Bd(b,N,U,K,le,de,he,ge){Oo(b,N,1,le,8,de,he,ge),Oo(U,K,1,le,8,de,he,ge)}function Xc(b,N,U,K,le,de,he,ge){si(b,N+4*le,le,1,8,de,he,ge),si(U,K+4*le,le,1,8,de,he,ge)}function Ro(b,N,U,K,le,de,he,ge){si(b,N+4,1,le,8,de,he,ge),si(U,K+4,1,le,8,de,he,ge)}function Ol(){this.ba=new An,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Jc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qc(){this.ua=0,this.Wa=new B,this.vb=new B,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new A}function xh(){this.xb=this.a=0,this.l=new Tl,this.ca=new An,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qc,this.ab=0,this.gc=s(4,Rl),this.Oc=0}function zs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Tl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lo(b,N,U,K,le,de,he){for(b=b==null?0:b[N+0],N=0;N<he;++N)le[de+N]=b+U[K+N]&255,b=le[de+N]}function Zc(b,N,U,K,le,de,he){var ge;if(b==null)Lo(null,null,U,K,le,de,he);else for(ge=0;ge<he;++ge)le[de+ge]=b[N+ge]+U[K+ge]&255}function _i(b,N,U,K,le,de,he){if(b==null)Lo(null,null,U,K,le,de,he);else{var ge,ye=b[N+0],be=ye,Pe=ye;for(ge=0;ge<he;++ge)be=Pe+(ye=b[N+ge])-be,Pe=U[K+ge]+(-256&be?0>be?0:255:be)&255,be=ye,le[de+ge]=Pe}}function eu(b,N,U,K){var le=N.width,de=N.o;if(e(b!=null&&N!=null),0>U||0>=K||U+K>de)return null;if(!b.Cc){if(b.ga==null){var he;if(b.ga=new zs,(he=b.ga==null)||(he=N.width*N.o,e(b.Gb.length==0),b.Gb=a(he),b.Uc=0,b.Gb==null?he=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,he=1),he=!he),!he){he=b.ga;var ge=b.Fa,ye=b.P,be=b.qc,Pe=b.mb,Le=b.nb,De=ye+1,Re=be-1,He=he.l;if(e(ge!=null&&Pe!=null&&N!=null),su[0]=null,su[1]=Lo,su[2]=Zc,su[3]=_i,he.ca=Pe,he.tb=Le,he.c=N.width,he.i=N.height,e(0<he.c&&0<he.i),1>=be)N=0;else if(he.$a=ge[ye+0]>>0&3,he.Z=ge[ye+0]>>2&3,he.Lc=ge[ye+0]>>4&3,ye=ge[ye+0]>>6&3,0>he.$a||1<he.$a||4<=he.Z||1<he.Lc||ye)N=0;else if(He.put=wi,He.ac=Sn,He.bc=Ta,He.ma=he,He.width=N.width,He.height=N.height,He.Da=N.Da,He.v=N.v,He.va=N.va,He.j=N.j,He.o=N.o,he.$a)e:{e(he.$a==1),N=cn();t:for(;;){if(N==null){N=0;break e}if(e(he!=null),he.mc=N,N.c=he.c,N.i=he.i,N.l=he.l,N.l.ma=he,N.l.width=he.c,N.l.height=he.i,N.a=0,ce(N.m,ge,De,Re),!Pa(he.c,he.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&Ds(N.s)?(he.ic=1,ge=N.c*N.i,N.Ta=null,N.Ua=0,N.V=a(ge),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(he.ic=0,N=No(N,he.c)),!N))break t;N=1;break e}he.mc=null,N=0}else N=Re>=he.c*he.i;he=!N}if(he)return null;b.ga.Lc!=1?b.Ga=0:K=de-U}e(b.ga!=null),e(U+K<=de);e:{if(N=(ge=b.ga).c,de=ge.l.o,ge.$a==0){if(De=b.rc,Re=b.Vc,He=b.Fa,ye=b.P+1+U*N,be=b.mb,Pe=b.nb+U*N,e(ye<=b.P+b.qc),ge.Z!=0)for(e(su[ge.Z]!=null),he=0;he<K;++he)su[ge.Z](De,Re,He,ye,be,Pe,N),De=be,Re=Pe,Pe+=N,ye+=N;else for(he=0;he<K;++he)n(be,Pe,He,ye,N),De=be,Re=Pe,Pe+=N,ye+=N;b.rc=De,b.Vc=Re}else{if(e(ge.mc!=null),N=U+K,e((he=ge.mc)!=null),e(N<=he.i),he.C>=N)N=1;else if(ge.ic||Oe(),ge.ic){ge=he.V,De=he.Ba,Re=he.c;var Be=he.i,Ce=(He=1,ye=he.$/Re,be=he.$%Re,Pe=he.m,Le=he.s,he.$),ke=Re*Be,ze=Re*N,Ye=Le.wc,qe=Ce<ze?Jr(Le,be,ye):null;e(Ce<=ke),e(N<=Be),e(Ds(Le));t:for(;;){for(;!Pe.h&&Ce<ze;){if(be&Ye||(qe=Jr(Le,be,ye)),e(qe!=null),Q(Pe),256>(Be=Nn(qe.G[0],qe.H[0],Pe)))ge[De+Ce]=Be,++Ce,++be>=Re&&(be=0,++ye<=N&&!(ye%16)&&aa(he,ye));else{if(!(280>Be)){He=0;break t}Be=ia(Be-256,Pe);var ct,it=Nn(qe.G[4],qe.H[4],Pe);if(Q(Pe),!(Ce>=(it=bi(Re,it=ia(it,Pe)))&&ke-Ce>=Be)){He=0;break t}for(ct=0;ct<Be;++ct)ge[De+Ce+ct]=ge[De+Ce+ct-it];for(Ce+=Be,be+=Be;be>=Re;)be-=Re,++ye<=N&&!(ye%16)&&aa(he,ye);Ce<ze&&be&Ye&&(qe=Jr(Le,be,ye))}e(Pe.h==ie(Pe))}aa(he,ye>N?N:ye);break t}!He||Pe.h&&Ce<ke?(He=0,he.a=Pe.h?5:3):he.$=Ce,N=He}else N=Ui(he,he.V,he.Ba,he.c,he.i,N,To);if(!N){K=0;break e}}U+K>=de&&(b.Cc=1),K=1}if(!K)return null;if(b.Cc&&((K=b.ga)!=null&&(K.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+U*le}function D(b,N,U,K,le,de){for(;0<le--;){var he,ge=b,ye=N+(U?1:0),be=b,Pe=N+(U?0:3);for(he=0;he<K;++he){var Le=be[Pe+4*he];Le!=255&&(Le*=32897,ge[ye+4*he+0]=ge[ye+4*he+0]*Le>>23,ge[ye+4*he+1]=ge[ye+4*he+1]*Le>>23,ge[ye+4*he+2]=ge[ye+4*he+2]*Le>>23)}N+=de}}function oe(b,N,U,K,le){for(;0<K--;){var de;for(de=0;de<U;++de){var he=b[N+2*de+0],ge=15&(be=b[N+2*de+1]),ye=4369*ge,be=(240&be|be>>4)*ye>>16;b[N+2*de+0]=(240&he|he>>4)*ye>>16&240|(15&he|he<<4)*ye>>16>>4&15,b[N+2*de+1]=240&be|ge}N+=le}}function Ee(b,N,U,K,le,de,he,ge){var ye,be,Pe=255;for(be=0;be<le;++be){for(ye=0;ye<K;++ye){var Le=b[N+ye];de[he+4*ye]=Le,Pe&=Le}N+=U,he+=ge}return Pe!=255}function Te(b,N,U,K,le){var de;for(de=0;de<le;++de)U[K+de]=b[N+de]>>8}function Oe(){is=D,Cr=oe,kr=Ee,dn=Te}function $e(b,N,U){k[b]=function(K,le,de,he,ge,ye,be,Pe,Le,De,Re,He,Be,Ce,ke,ze,Ye){var qe,ct=Ye-1>>1,it=ge[ye+0]|be[Pe+0]<<16,Et=Le[De+0]|Re[He+0]<<16;e(K!=null);var st=3*it+Et+131074>>2;for(N(K[le+0],255&st,st>>16,Be,Ce),de!=null&&(st=3*Et+it+131074>>2,N(de[he+0],255&st,st>>16,ke,ze)),qe=1;qe<=ct;++qe){var ir=ge[ye+qe]|be[Pe+qe]<<16,ur=Le[De+qe]|Re[He+qe]<<16,Qt=it+ir+Et+ur+524296,zt=Qt+2*(ir+Et)>>3;st=zt+it>>1,it=(Qt=Qt+2*(it+ur)>>3)+ir>>1,N(K[le+2*qe-1],255&st,st>>16,Be,Ce+(2*qe-1)*U),N(K[le+2*qe-0],255&it,it>>16,Be,Ce+(2*qe-0)*U),de!=null&&(st=Qt+Et>>1,it=zt+ur>>1,N(de[he+2*qe-1],255&st,st>>16,ke,ze+(2*qe-1)*U),N(de[he+2*qe+0],255&it,it>>16,ke,ze+(2*qe+0)*U)),it=ir,Et=ur}1&Ye||(st=3*it+Et+131074>>2,N(K[le+Ye-1],255&st,st>>16,Be,Ce+(Ye-1)*U),de!=null&&(st=3*Et+it+131074>>2,N(de[he+Ye-1],255&st,st>>16,ke,ze+(Ye-1)*U)))}}function Xe(){ss[Ky]=UG,ss[Yy]=QC,ss[GC]=$G,ss[Xy]=ZC,ss[Jy]=e6,ss[H2]=t6,ss[KC]=VG,ss[G2]=QC,ss[K2]=ZC,ss[Qy]=e6,ss[Y2]=t6}function at(b){return b&~zG?0>b?0:255:b>>r6}function _(b,N){return at((19077*b>>8)+(26149*N>>8)-14234)}function z(b,N,U){return at((19077*b>>8)-(6419*N>>8)-(13320*U>>8)+8708)}function Y(b,N){return at((19077*b>>8)+(33050*N>>8)-17685)}function me(b,N,U,K,le){K[le+0]=_(b,U),K[le+1]=z(b,N,U),K[le+2]=Y(b,N)}function je(b,N,U,K,le){K[le+0]=Y(b,N),K[le+1]=z(b,N,U),K[le+2]=_(b,U)}function Me(b,N,U,K,le){var de=z(b,N,U);N=de<<3&224|Y(b,N)>>3,K[le+0]=248&_(b,U)|de>>5,K[le+1]=N}function Je(b,N,U,K,le){var de=240&Y(b,N)|15;K[le+0]=240&_(b,U)|z(b,N,U)>>4,K[le+1]=de}function kt(b,N,U,K,le){K[le+0]=255,me(b,N,U,K,le+1)}function Vt(b,N,U,K,le){je(b,N,U,K,le),K[le+3]=255}function It(b,N,U,K,le){me(b,N,U,K,le),K[le+3]=255}function or(b,N){return 0>b?0:b>N?N:b}function _r(b,N,U){k[b]=function(K,le,de,he,ge,ye,be,Pe,Le){for(var De=Pe+(-2&Le)*U;Pe!=De;)N(K[le+0],de[he+0],ge[ye+0],be,Pe),N(K[le+1],de[he+0],ge[ye+0],be,Pe+U),le+=2,++he,++ye,Pe+=2*U;1&Le&&N(K[le+0],de[he+0],ge[ye+0],be,Pe)}}function qs(b,N,U){return U==0?b==0?N==0?6:5:N==0?4:0:U}function oi(b,N,U,K,le){switch(b>>>30){case 3:Ml(N,U,K,le,0);break;case 2:un(N,U,K,le);break;case 1:qi(N,U,K,le)}}function Do(b,N){var U,K,le=N.M,de=N.Nb,he=b.oc,ge=b.pc+40,ye=b.oc,be=b.pc+584,Pe=b.oc,Le=b.pc+600;for(U=0;16>U;++U)he[ge+32*U-1]=129;for(U=0;8>U;++U)ye[be+32*U-1]=129,Pe[Le+32*U-1]=129;for(0<le?he[ge-1-32]=ye[be-1-32]=Pe[Le-1-32]=129:(i(he,ge-32-1,127,21),i(ye,be-32-1,127,9),i(Pe,Le-32-1,127,9)),K=0;K<b.za;++K){var De=N.ya[N.aa+K];if(0<K){for(U=-1;16>U;++U)n(he,ge+32*U-4,he,ge+32*U+12,4);for(U=-1;8>U;++U)n(ye,be+32*U-4,ye,be+32*U+4,4),n(Pe,Le+32*U-4,Pe,Le+32*U+4,4)}var Re=b.Gd,He=b.Hd+K,Be=De.ad,Ce=De.Hc;if(0<le&&(n(he,ge-32,Re[He].y,0,16),n(ye,be-32,Re[He].f,0,8),n(Pe,Le-32,Re[He].ea,0,8)),De.Za){var ke=he,ze=ge-32+16;for(0<le&&(K>=b.za-1?i(ke,ze,Re[He].y[15],4):n(ke,ze,Re[He+1].y,0,4)),U=0;4>U;U++)ke[ze+128+U]=ke[ze+256+U]=ke[ze+384+U]=ke[ze+0+U];for(U=0;16>U;++U,Ce<<=2)ke=he,ze=ge+i6[U],Ws[De.Ob[U]](ke,ze),oi(Ce,Be,16*+U,ke,ze)}else if(ke=qs(K,le,De.Ob[0]),au[ke](he,ge),Ce!=0)for(U=0;16>U;++U,Ce<<=2)oi(Ce,Be,16*+U,he,ge+i6[U]);for(U=De.Gc,ke=qs(K,le,De.Dd),Bl[ke](ye,be),Bl[ke](Pe,Le),Ce=Be,ke=ye,ze=be,255&(De=U>>0)&&(170&De?Jm(Ce,256,ke,ze):rs(Ce,256,ke,ze)),De=Pe,Ce=Le,255&(U>>=8)&&(170&U?Jm(Be,320,De,Ce):rs(Be,320,De,Ce)),le<b.Ub-1&&(n(Re[He].y,0,he,ge+480,16),n(Re[He].f,0,ye,be+224,8),n(Re[He].ea,0,Pe,Le+224,8)),U=8*de*b.B,Re=b.sa,He=b.ta+16*K+16*de*b.R,Be=b.qa,De=b.ra+8*K+U,Ce=b.Ha,ke=b.Ia+8*K+U,U=0;16>U;++U)n(Re,He+U*b.R,he,ge+32*U,16);for(U=0;8>U;++U)n(Be,De+U*b.B,ye,be+32*U,8),n(Ce,ke+U*b.B,Pe,Le+32*U,8)}}function Mo(b,N,U,K,le,de,he,ge,ye){var be=[0],Pe=[0],Le=0,De=ye!=null?ye.kd:0,Re=ye??new Jc;if(b==null||12>U)return 7;Re.data=b,Re.w=N,Re.ha=U,N=[N],U=[U],Re.gb=[Re.gb];e:{var He=N,Be=U,Ce=Re.gb;if(e(b!=null),e(Be!=null),e(Ce!=null),Ce[0]=0,12<=Be[0]&&!r(b,He[0],"RIFF")){if(r(b,He[0]+8,"WEBP")){Ce=3;break e}var ke=_e(b,He[0]+4);if(12>ke||4294967286<ke){Ce=3;break e}if(De&&ke>Be[0]-8){Ce=7;break e}Ce[0]=ke,He[0]+=12,Be[0]-=12}Ce=0}if(Ce!=0)return Ce;for(ke=0<Re.gb[0],U=U[0];;){e:{var ze=b;Be=N,Ce=U;var Ye=be,qe=Pe,ct=He=[0];if((st=Le=[Le])[0]=0,8>Ce[0])Ce=7;else{if(!r(ze,Be[0],"VP8X")){if(_e(ze,Be[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var it=_e(ze,Be[0]+8),Et=1+ee(ze,Be[0]+12);if(2147483648<=Et*(ze=1+ee(ze,Be[0]+15))){Ce=3;break e}ct!=null&&(ct[0]=it),Ye!=null&&(Ye[0]=Et),qe!=null&&(qe[0]=ze),Be[0]+=18,Ce[0]-=18,st[0]=1}Ce=0}}if(Le=Le[0],He=He[0],Ce!=0)return Ce;if(Be=!!(2&He),!ke&&Le)return 3;if(de!=null&&(de[0]=!!(16&He)),he!=null&&(he[0]=Be),ge!=null&&(ge[0]=0),he=be[0],He=Pe[0],Le&&Be&&ye==null){Ce=0;break}if(4>U){Ce=7;break}if(ke&&Le||!ke&&!Le&&!r(b,N[0],"ALPH")){U=[U],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{it=b,Ce=N,ke=U;var st=Re.gb;Ye=Re.na,qe=Re.P,ct=Re.Sa,Et=22,e(it!=null),e(ke!=null),ze=Ce[0];var ir=ke[0];for(e(Ye!=null),e(ct!=null),Ye[0]=null,qe[0]=null,ct[0]=0;;){if(Ce[0]=ze,ke[0]=ir,8>ir){Ce=7;break e}var ur=_e(it,ze+4);if(4294967286<ur){Ce=3;break e}var Qt=8+ur+1&-2;if(Et+=Qt,0<st&&Et>st){Ce=3;break e}if(!r(it,ze,"VP8 ")||!r(it,ze,"VP8L")){Ce=0;break e}if(ir[0]<Qt){Ce=7;break e}r(it,ze,"ALPH")||(Ye[0]=it,qe[0]=ze+8,ct[0]=ur),ze+=Qt,ir-=Qt}}if(U=U[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Ce!=0)break}U=[U],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(st=b,Ce=N,ke=U,Ye=Re.gb[0],qe=Re.Ja,ct=Re.xa,it=Ce[0],ze=!r(st,it,"VP8 "),Et=!r(st,it,"VP8L"),e(st!=null),e(ke!=null),e(qe!=null),e(ct!=null),8>ke[0])Ce=7;else{if(ze||Et){if(st=_e(st,it+4),12<=Ye&&st>Ye-12){Ce=3;break e}if(De&&st>ke[0]-8){Ce=7;break e}qe[0]=st,Ce[0]+=8,ke[0]-=8,ct[0]=Et}else ct[0]=5<=ke[0]&&st[it+0]==47&&!(st[it+4]>>5),qe[0]=ke[0];Ce=0}if(U=U[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],N=N[0],Ce!=0)break;if(4294967286<Re.Ja)return 3;if(ge==null||Be||(ge[0]=Re.xa?2:1),he=[he],He=[He],Re.xa){if(5>U){Ce=7;break}ge=he,De=He,Be=de,b==null||5>U?b=0:5<=U&&b[N+0]==47&&!(b[N+4]>>5)?(ke=[0],st=[0],Ye=[0],ce(qe=new F,b,N,U),dt(qe,ke,st,Ye)?(ge!=null&&(ge[0]=ke[0]),De!=null&&(De[0]=st[0]),Be!=null&&(Be[0]=Ye[0]),b=1):b=0):b=0}else{if(10>U){Ce=7;break}ge=He,b==null||10>U||!Pd(b,N+3,U-3)?b=0:(De=b[N+0]|b[N+1]<<8|b[N+2]<<16,Be=16383&(b[N+7]<<8|b[N+6]),b=16383&(b[N+9]<<8|b[N+8]),1&De||3<(De>>1&7)||!(De>>4&1)||De>>5>=Re.Ja||!Be||!b?b=0:(he&&(he[0]=Be),ge&&(ge[0]=b),b=1))}if(!b||(he=he[0],He=He[0],Le&&(be[0]!=he||Pe[0]!=He)))return 3;ye!=null&&(ye[0]=Re,ye.offset=N-ye.w,e(4294967286>N-ye.w),e(ye.offset==ye.ha-U));break}return Ce==0||Ce==7&&Le&&ye==null?(de!=null&&(de[0]|=Re.na!=null&&0<Re.na.length),K!=null&&(K[0]=he),le!=null&&(le[0]=He),0):Ce}function Gm(b,N,U){var K=N.width,le=N.height,de=0,he=0,ge=K,ye=le;if(N.Da=b!=null&&0<b.Da,N.Da&&(ge=b.cd,ye=b.bd,de=b.v,he=b.j,11>U||(de&=-2,he&=-2),0>de||0>he||0>=ge||0>=ye||de+ge>K||he+ye>le))return 0;if(N.v=de,N.j=he,N.va=de+ge,N.o=he+ye,N.U=ge,N.T=ye,N.da=b!=null&&0<b.da,N.da){if(!j(ge,ye,U=[b.ib],de=[b.hb]))return 0;N.ib=U[0],N.hb=de[0]}return N.ob=b!=null&&b.ob,N.Kb=b==null||!b.Sd,N.da&&(N.ob=N.ib<3*K/4&&N.hb<3*le/4,N.Kb=0),1}function Km(b){if(b==null)return 2;if(11>b.S){var N=b.f.RGBA;N.fb+=(b.height-1)*N.A,N.A=-N.A}else N=b.f.kb,b=b.height,N.O+=(b-1)*N.fa,N.fa=-N.fa,N.N+=(b-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(b-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(b-1)*N.lb,N.lb=-N.lb);return 0}function _h(b,N,U,K){if(K==null||0>=b||0>=N)return 2;if(U!=null){if(U.Da){var le=U.cd,de=U.bd,he=-2&U.v,ge=-2&U.j;if(0>he||0>ge||0>=le||0>=de||he+le>b||ge+de>N)return 2;b=le,N=de}if(U.da){if(!j(b,N,le=[U.ib],de=[U.hb]))return 2;b=le[0],N=de[0]}}K.width=b,K.height=N;e:{var ye=K.width,be=K.height;if(b=K.S,0>=ye||0>=be||!(b>=Ky&&13>b))b=2;else{if(0>=K.Rd&&K.sd==null){he=de=le=N=0;var Pe=(ge=ye*a6[b])*be;if(11>b||(de=(be+1)/2*(N=(ye+1)/2),b==12&&(he=(le=ye)*be)),(be=a(Pe+2*de+he))==null){b=1;break e}K.sd=be,11>b?((ye=K.f.RGBA).eb=be,ye.fb=0,ye.A=ge,ye.size=Pe):((ye=K.f.kb).y=be,ye.O=0,ye.fa=ge,ye.Fd=Pe,ye.f=be,ye.N=0+Pe,ye.Ab=N,ye.Cd=de,ye.ea=be,ye.W=0+Pe+de,ye.Db=N,ye.Ed=de,b==12&&(ye.F=be,ye.J=0+Pe+2*de),ye.Tc=he,ye.lb=le)}if(N=1,le=K.S,de=K.width,he=K.height,le>=Ky&&13>le)if(11>le)b=K.f.RGBA,N&=(ge=Math.abs(b.A))*(he-1)+de<=b.size,N&=ge>=de*a6[le],N&=b.eb!=null;else{b=K.f.kb,ge=(de+1)/2,Pe=(he+1)/2,ye=Math.abs(b.fa),be=Math.abs(b.Ab);var Le=Math.abs(b.Db),De=Math.abs(b.lb),Re=De*(he-1)+de;N&=ye*(he-1)+de<=b.Fd,N&=be*(Pe-1)+ge<=b.Cd,N=(N&=Le*(Pe-1)+ge<=b.Ed)&ye>=de&be>=ge&Le>=ge,N&=b.y!=null,N&=b.f!=null,N&=b.ea!=null,le==12&&(N&=De>=de,N&=Re<=b.Tc,N&=b.F!=null)}else N=0;b=N?0:2}}return b!=0||U!=null&&U.fd&&(b=Km(K)),b}var li=64,Eh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ah=24,Sh=32,Ym=8,oa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];G("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(b){return b},k.Predictor2=function(b,N,U){return N[U+0]},k.Predictor3=function(b,N,U){return N[U+1]},k.Predictor4=function(b,N,U){return N[U-1]},k.Predictor5=function(b,N,U){return re(re(b,N[U+1]),N[U+0])},k.Predictor6=function(b,N,U){return re(b,N[U-1])},k.Predictor7=function(b,N,U){return re(b,N[U+0])},k.Predictor8=function(b,N,U){return re(N[U-1],N[U+0])},k.Predictor9=function(b,N,U){return re(N[U+0],N[U+1])},k.Predictor10=function(b,N,U){return re(re(b,N[U-1]),re(N[U+0],N[U+1]))},k.Predictor11=function(b,N,U){var K=N[U+0];return 0>=Se(K>>24&255,b>>24&255,(N=N[U-1])>>24&255)+Se(K>>16&255,b>>16&255,N>>16&255)+Se(K>>8&255,b>>8&255,N>>8&255)+Se(255&K,255&b,255&N)?K:b},k.Predictor12=function(b,N,U){var K=N[U+0];return(Ae((b>>24&255)+(K>>24&255)-((N=N[U-1])>>24&255))<<24|Ae((b>>16&255)+(K>>16&255)-(N>>16&255))<<16|Ae((b>>8&255)+(K>>8&255)-(N>>8&255))<<8|Ae((255&b)+(255&K)-(255&N)))>>>0},k.Predictor13=function(b,N,U){var K=N[U-1];return(Ne((b=re(b,N[U+0]))>>24&255,K>>24&255)<<24|Ne(b>>16&255,K>>16&255)<<16|Ne(b>>8&255,K>>8&255)<<8|Ne(b>>0&255,K>>0&255))>>>0};var q2=k.PredictorAdd0;k.PredictorAdd1=Ie,G("Predictor2","PredictorAdd2"),G("Predictor3","PredictorAdd3"),G("Predictor4","PredictorAdd4"),G("Predictor5","PredictorAdd5"),G("Predictor6","PredictorAdd6"),G("Predictor7","PredictorAdd7"),G("Predictor8","PredictorAdd8"),G("Predictor9","PredictorAdd9"),G("Predictor10","PredictorAdd10"),G("Predictor11","PredictorAdd11"),G("Predictor12","PredictorAdd12"),G("Predictor13","PredictorAdd13");var Xm=k.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Vy,ts=k.ColorIndexInverseTransform,Nh=k.MapARGB,zy=k.VP8LColorIndexInverseTransformAlpha,qy=k.MapAlpha,tu=k.VP8LPredictorsAdd=[];tu.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Ud,la,zi,ru,Ll,Dl,Th,Ml,un,Jm,qi,rs,Ph,Wy,Qm,$d,Vd,nu,zd,Ch,qd,iu,Zm,ns,is,Cr,kr,dn,$n=a(511),Fl=a(2041),eg=a(225),kh=a(767),Hy=0,W2=Fl,Gy=eg,ja=kh,as=$n,Ky=0,Yy=1,GC=2,Xy=3,Jy=4,H2=5,KC=6,G2=7,K2=8,Qy=9,Y2=10,NG=[2,3,7],TG=[3,3,11],YC=[280,256,256,256,40],PG=[0,1,1,1,0],CG=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],kG=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],IG=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jG=8,X2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],J2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tg=null,OG=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],RG=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],XC=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],LG=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],DG=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],MG=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],FG=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],au=[],Ws=[],Bl=[],BG=1,JC=2,su=[],ss=[];$e("UpsampleRgbLinePair",me,3),$e("UpsampleBgrLinePair",je,3),$e("UpsampleRgbaLinePair",It,4),$e("UpsampleBgraLinePair",Vt,4),$e("UpsampleArgbLinePair",kt,4),$e("UpsampleRgba4444LinePair",Je,2),$e("UpsampleRgb565LinePair",Me,2);var UG=k.UpsampleRgbLinePair,$G=k.UpsampleBgrLinePair,QC=k.UpsampleRgbaLinePair,ZC=k.UpsampleBgraLinePair,e6=k.UpsampleArgbLinePair,t6=k.UpsampleRgba4444LinePair,VG=k.UpsampleRgb565LinePair,Zy=16,ev=1<<Zy-1,rg=-227,Q2=482,r6=6,zG=(256<<r6)-1,n6=0,qG=a(256),WG=a(256),HG=a(256),GG=a(256),KG=a(Q2-rg),YG=a(Q2-rg);_r("YuvToRgbRow",me,3),_r("YuvToBgrRow",je,3),_r("YuvToRgbaRow",It,4),_r("YuvToBgraRow",Vt,4),_r("YuvToArgbRow",kt,4),_r("YuvToRgba4444Row",Je,2),_r("YuvToRgb565Row",Me,2);var i6=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tv=[0,2,8],XG=[8,7,6,4,4,2,2,2,1,1,1,1],JG=1;this.WebPDecodeRGBA=function(b,N,U,K,le){var de=Yy,he=new Ol,ge=new An;he.ba=ge,ge.S=de,ge.width=[ge.width],ge.height=[ge.height];var ye=ge.width,be=ge.height,Pe=new Bn;if(Pe==null||b==null)var Le=2;else e(Pe!=null),Le=Mo(b,N,U,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(Le!=0?ye=0:(ye!=null&&(ye[0]=Pe.width[0]),be!=null&&(be[0]=Pe.height[0]),ye=1),ye){ge.width=ge.width[0],ge.height=ge.height[0],K!=null&&(K[0]=ge.width),le!=null&&(le[0]=ge.height);e:{if(K=new Tl,(le=new Jc).data=b,le.w=N,le.ha=U,le.kd=1,N=[0],e(le!=null),((b=Mo(le.data,le.w,le.ha,null,null,null,N,null,le))==0||b==7)&&N[0]&&(b=4),(N=b)==0){if(e(he!=null),K.data=le.data,K.w=le.w+le.offset,K.ha=le.ha-le.offset,K.put=wi,K.ac=Sn,K.bc=Ta,K.ma=he,le.xa){if((b=cn())==null){he=1;break e}if(function(De,Re){var He=[0],Be=[0],Ce=[0];t:for(;;){if(De==null)return 0;if(Re==null)return De.a=2,0;if(De.l=Re,De.a=0,ce(De.m,Re.data,Re.w,Re.ha),!dt(De.m,He,Be,Ce)){De.a=3;break t}if(De.xb=JC,Re.width=He[0],Re.height=Be[0],!Pa(He[0],Be[0],1,De,null))break t;return 1}return e(De.a!=0),0}(b,K)){if(K=(N=_h(K.width,K.height,he.Oa,he.ba))==0){t:{K=b;r:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e((U=K.l)!=null),e((le=U.ma)!=null),K.xb!=0){if(K.ca=le.ba,K.tb=le.tb,e(K.ca!=null),!Gm(le.Oa,U,Xy)){K.a=2;break r}if(!No(K,U.width)||U.da)break r;if((U.da||Mt(K.ca.S))&&Oe(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Oe()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!H(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Ui(K,K.V,K.Ba,K.c,K.i,U.o,Mc))break r;le.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(N=b.a)}else N=b.a}else{if((b=new Td)==null){he=1;break e}if(b.Fa=le.na,b.P=le.P,b.qc=le.Sa,Cd(b,K)){if((N=_h(K.width,K.height,he.Oa,he.ba))==0){if(b.Aa=0,U=he.Oa,e((le=b)!=null),U!=null){if(0<(ye=0>(ye=U.Md)?0:100<ye?255:255*ye/100)){for(be=Pe=0;4>be;++be)12>(Le=le.pb[be]).lc&&(Le.ia=ye*XG[0>Le.lc?0:Le.lc]>>3),Pe|=Le.ia;Pe&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=U.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}mh(b,K)||(N=b.a)}}else N=b.a}N==0&&he.Oa!=null&&he.Oa.fd&&(N=Km(he.ba))}he=N}de=he!=0?null:11>de?ge.f.RGBA.eb:ge.f.kb.y}else de=null;return de};var a6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,T){for(var W="",M=0;M<4;M++)W+=String.fromCharCode(k[T++]);return W}function u(k,T){return(k[T+0]<<0|k[T+1]<<8|k[T+2]<<16)>>>0}function f(k,T){return(k[T+0]<<0|k[T+1]<<8|k[T+2]<<16|k[T+3]<<24)>>>0}new l;var p=[0],h=[0],y=[],m=new l,w=t,g=function(k,T){var W={},M=0,A=!1,I=0,L=0;if(W.frames=[],!function(J,ie,fe,Q){for(var $=0;$<Q;$++)if(J[ie+$]!=fe.charCodeAt($))return!0;return!1}(k,T,"RIFF",4)){for(f(k,T+=4),T+=8;T<k.length;){var se=c(k,T),pe=f(k,T+=4);T+=4;var X=pe+(1&pe);switch(se){case"VP8 ":case"VP8L":W.frames[M]===void 0&&(W.frames[M]={}),(xe=W.frames[M]).src_off=A?L:T-8,xe.src_size=I+pe+8,M++,A&&(A=!1,I=0,L=0);break;case"VP8X":(xe=W.header={}).feature_flags=k[T];var ce=T+4;xe.canvas_width=1+u(k,ce),ce+=3,xe.canvas_height=1+u(k,ce),ce+=3;break;case"ALPH":A=!0,I=X+8,L=T-8;break;case"ANIM":(xe=W.header).bgcolor=f(k,T),ce=T+4,xe.loop_count=(we=k)[(F=ce)+0]<<0|we[F+1]<<8,ce+=2;break;case"ANMF":var ue,xe;(xe=W.frames[M]={}).offset_x=2*u(k,T),T+=3,xe.offset_y=2*u(k,T),T+=3,xe.width=1+u(k,T),T+=3,xe.height=1+u(k,T),T+=3,xe.duration=u(k,T),T+=3,ue=k[T++],xe.dispose=1&ue,xe.blend=ue>>1&1}se!="ANMF"&&(T+=X)}var we,F;return W}}(w,0);g.response=w,g.rgbaoutput=!0,g.dataurl=!1;var v=g.header?g.header:null,x=g.frames?g.frames:null;if(v){v.loop_counter=v.loop_count,p=[v.canvas_height],h=[v.canvas_width];for(var E=0;E<x.length&&x[E].blend!=0;E++);}var S=x[0],C=m.WebPDecodeRGBA(w,S.src_off,S.src_size,h,p);S.rgba=C,S.imgwidth=h[0],S.imgheight=p[0];for(var P=0;P<h[0]*p[0]*4;P++)y[P]=C[P];return this.width=h,this.height=p,this.data=y,this}(function(t){var e=function(){return typeof s4=="function"},r=function(p,h,y,m){var w=4,g=s;switch(m){case t.image_compression.FAST:w=1,g=a;break;case t.image_compression.MEDIUM:w=6,g=o;break;case t.image_compression.SLOW:w=9,g=l}p=n(p,h,y,g);var v=s4(p,{level:w});return t.__addimage__.arrayBufferToBinaryString(v)},n=function(p,h,y,m){for(var w,g,v,x=p.length/h,E=new Uint8Array(p.length+x),S=u(),C=0;C<x;C+=1){if(v=C*h,w=p.subarray(v,v+h),m)E.set(m(w,y,g),v+C);else{for(var P,k=S.length,T=[];P<k;P+=1)T[P]=S[P](w,y,g);var W=f(T.concat());E.set(T[W],v+C)}g=w}return E},i=function(p){var h=Array.apply([],p);return h.unshift(0),h},a=function(p,h){var y,m=[],w=p.length;m[0]=1;for(var g=0;g<w;g+=1)y=p[g-h]||0,m[g+1]=p[g]-y+256&255;return m},s=function(p,h,y){var m,w=[],g=p.length;w[0]=2;for(var v=0;v<g;v+=1)m=y&&y[v]||0,w[v+1]=p[v]-m+256&255;return w},o=function(p,h,y){var m,w,g=[],v=p.length;g[0]=3;for(var x=0;x<v;x+=1)m=p[x-h]||0,w=y&&y[x]||0,g[x+1]=p[x]+256-(m+w>>>1)&255;return g},l=function(p,h,y){var m,w,g,v,x=[],E=p.length;x[0]=4;for(var S=0;S<E;S+=1)m=p[S-h]||0,w=y&&y[S]||0,g=y&&y[S-h]||0,v=c(m,w,g),x[S+1]=p[S]-v+256&255;return x},c=function(p,h,y){if(p===h&&h===y)return p;var m=Math.abs(h-y),w=Math.abs(p-y),g=Math.abs(p+h-y-y);return m<=w&&m<=g?p:w<=g?h:y},u=function(){return[i,a,s,o,l]},f=function(p){var h=p.map(function(y){return y.reduce(function(m,w){return m+Math.abs(w)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(p,h,y,m){var w,g,v,x,E,S,C,P,k,T,W,M,A,I,L,se=this.decode.FLATE_DECODE,pe="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(v=new MEe(p)).imgData,g=v.bits,w=v.colorSpace,E=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){k=(P=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,W=new Uint8Array(k*v.colors),T=new Uint8Array(k);var X,ce=v.pixelBitlength-v.bits;for(I=0,L=0;I<k;I++){for(A=P[I],X=0;X<ce;)W[L++]=A>>>X&255,X+=v.bits;T[I]=A>>>X&255}}if(v.bits===16){k=(P=new Uint32Array(v.decodePixels().buffer)).length,W=new Uint8Array(k*(32/v.pixelBitlength)*v.colors),T=new Uint8Array(k*(32/v.pixelBitlength)),M=v.colors>1,I=0,L=0;for(var ue=0;I<k;)A=P[I++],W[L++]=A>>>0&255,M&&(W[L++]=A>>>16&255,A=P[I++],W[L++]=A>>>0&255),T[ue++]=A>>>16&255;g=8}m!==t.image_compression.NONE&&e()?(p=r(W,v.width*v.colors,v.colors,m),C=r(T,v.width,1,m)):(p=W,C=T,se=void 0)}if(v.colorType===3&&(w=this.color_spaces.INDEXED,S=v.palette,v.transparency.indexed)){var xe=v.transparency.indexed,we=0;for(I=0,k=xe.length;I<k;++I)we+=xe[I];if((we/=255)===k-1&&xe.indexOf(0)!==-1)x=[xe.indexOf(0)];else if(we!==k){for(P=v.decodePixels(),T=new Uint8Array(P.length),I=0,k=P.length;I<k;I++)T[I]=xe[P[I]];C=r(T,v.width,1)}}var F=function(J){var ie;switch(J){case t.image_compression.FAST:ie=11;break;case t.image_compression.MEDIUM:ie=13;break;case t.image_compression.SLOW:ie=14;break;default:ie=12}return ie}(m);return se===this.decode.FLATE_DECODE&&(pe="/Predictor "+F+" "),pe+="/Colors "+E+" /BitsPerComponent "+g+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(C&&this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),{alias:y,data:p,index:h,filter:se,decodeParameters:pe,transparency:x,palette:S,sMask:C,predictor:F,width:v.width,height:v.height,bitsPerComponent:g,colorSpace:w}}}})(xt.API),function(t){t.processGIF89A=function(e,r,n,i){var a=new FEe(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new F_(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(xt.API),Ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ys.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Sr.log("bit decode error:"+r)}},Ys.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ys.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Ys.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Ys.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Ys.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Ys.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ys.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Ys.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new Ys(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new F_(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(xt.API),e8.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new e8(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new F_(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(xt.API),xt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],p=n[c+2],h=n[c+3];a[o++]=u,a[o++]=f,a[o++]=p,s[l++]=h}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},xt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zh=xt.API,t1=zh.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,h=t.length,y=0,m=o[0]||l,w=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&mr(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/u:0,w.push((o[n]||m)/l+p)),y=n;return w},XL=zh.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return zh.processArabic&&(t=zh.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:t1.apply(this,arguments).reduce(function(a,s){return a+s},0)},JL=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},QL=function(t,e,r){r||(r={});var n,i,a,s,o,l,c,u=[],f=[u],p=r.textIndent||0,h=0,y=0,m=t.split(" "),w=t1.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(l).join(" "),v=[];m.map(function(E){(E=E.split(/\s*\n/)).length>1?v=v.concat(E.map(function(S,C){return(C&&S.length?`
`:"")+S})):v.push(E[0])}),m=v,l=XL.apply(this,[g,r])}for(a=0,s=m.length;a<s;a++){var x=0;if(n=m[a],l&&n[0]==`
`&&(n=n.substr(1),x=1),p+h+(y=(i=t1.apply(this,[n,r])).reduce(function(E,S){return E+S},0))>e||x){if(y>e){for(o=JL.apply(this,[n,i,e-(p+h),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);y=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(E,S){return E+S},0)}else u=[n];f.push(u),p=y+l,h=w}else u.push(n),p+=h+y,h=w}return c=l?function(E,S){return(S?g:"")+E.join(" ")}:function(E){return E.join(" ")},f.map(c)},zh.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(QL.apply(this,[n[o],s,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},s=t.__fontmetrics__.compress=function(f){var p,h,y,m,w=["{"];for(var g in f){if(p=f[g],isNaN(parseInt(g,10))?h="'"+g+"'":(g=parseInt(g,10),h=(h=a(g).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof p=="number")p<0?(y=a(p).slice(3),m="-"):(y=a(p).slice(2),m=""),y=m+y.slice(0,-1)+n[y.slice(-1)];else{if(mr(p)!=="object")throw new Error("Don't know what to do with value type "+mr(p)+".");y=s(p)}w.push(h+y)}return w.push("}"),w.join("")},o=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,y,m,w={},g=1,v=w,x=[],E="",S="",C=f.length-1,P=1;P<C;P+=1)(m=f[P])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(m):m=="{"?(x.push([v,y]),v={},y=void 0):m=="}"?((h=x.pop())[0][h[1]]=v,y=void 0,v=h[0]):m=="-"?g=-1:y===void 0?r.hasOwnProperty(m)?(E+=r[m],y=parseInt(E,16)*g,g=1,E=""):E+=m:r.hasOwnProperty(m)?(S+=r[m],v[y]=parseInt(S,16)*g,g=1,y=void 0,S=""):S+=m;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var p=f.font,h=u.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var y=c.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])}(xt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(f0(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(xt),function(t){function e(){return(At.canvg?Promise.resolve(At.canvg):t4(()=>import("./index.es-LPJAQruQ.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}xt.API.addSvgAsImage=function(r,n,i,a,s,o,l,c){if(isNaN(n)||isNaN(i))throw Sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(y){return y.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),n,i,a,s,l,c)})}}(),xt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},xt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function p(y,m){var w,g=!1;for(w=0;w<y.length;w+=1)y[w]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(mr(t)==="object"){for(i in t)if(a=t[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,m=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?m.push("/"+y+" /"+r[y].value):m.push("/"+y+" "+r[y].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(xt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,y){return h-y})).length;f<p;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",y=0;y<p.length;y++)h+=String.fromCharCode(p[y]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var w=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Jh(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var v=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Jh(o.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Jh(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var w=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Jh(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Jh(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,y=f.fonts,m=h,w="",g=0,v="",x=y[m].encoding;if(y[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(v=o,m=h,Array.isArray(o)&&(v=o[0]),g=0;g<v.length;g+=1)y[m].metadata.hasOwnProperty("cmap")&&(s=y[m].metadata.cmap.unicode.codeMap[v[g].charCodeAt(0)]),s||v[g].charCodeAt(0)<256&&y[m].metadata.hasOwnProperty("Unicode")?w+=v[g]:w+="";var E="";return parseInt(m.slice(1))<14||x==="WinAnsiEncoding"?E=p(w,m).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(E=r(w,y[m])),f.isHex=!0,{text:E,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(xt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(xt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,x=0;this.__bidiEngine__={};var E=function(M){var A=M.charCodeAt(),I=A>>8,L=m[I];return L!==void 0?f[256*L+(255&A)]:I===252||I===253?"AL":g.test(I)?"L":I===8?"R":"N"},S=function(M){for(var A,I=0;I<M.length;I++){if((A=E(M.charAt(I)))==="L")return!1;if(A==="R")return!0}return!1},C=function(M,A,I,L){var se,pe,X,ce,ue=A[L];switch(ue){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(ue="AN");break;case"AL":v=!0,ue="R";break;case"WS":ue="N";break;case"CS":L<1||L+1>=A.length||(se=I[L-1])!=="EN"&&se!=="AN"||(pe=A[L+1])!=="EN"&&pe!=="AN"?ue="N":v&&(pe="AN"),ue=pe===se?pe:"N";break;case"ES":ue=(se=L>0?I[L-1]:"B")==="EN"&&L+1<A.length&&A[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&I[L-1]==="EN"){ue="EN";break}if(v){ue="N";break}for(X=L+1,ce=A.length;X<ce&&A[X]==="ET";)X++;ue=X<ce&&A[X]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(ce=A.length,X=L+1;X<ce&&A[X]==="NSM";)X++;if(X<ce){var xe=M[L],we=xe>=1425&&xe<=2303||xe===64286;if(se=A[X],we&&(se==="R"||se==="AL")){ue="R";break}}}ue=L<1||(se=A[L-1])==="B"?"N":I[L-1];break;case"B":v=!1,i=!0,ue=x;break;case"S":a=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":ue="N"}return ue},P=function(M,A,I){var L=M.split("");return I&&k(L,I,{hiLevel:x}),L.reverse(),A&&A.reverse(),L.join("")},k=function(M,A,I){var L,se,pe,X,ce,ue=-1,xe=M.length,we=0,F=[],J=x?h:p,ie=[];for(v=!1,i=!1,a=!1,se=0;se<xe;se++)ie[se]=E(M[se]);for(pe=0;pe<xe;pe++){if(ce=we,F[pe]=C(M,ie,F,pe),L=240&(we=J[ce][y[F[pe]]]),we&=15,A[pe]=X=J[we][5],L>0)if(L===16){for(se=ue;se<pe;se++)A[se]=1;ue=-1}else ue=-1;if(J[we][6])ue===-1&&(ue=pe);else if(ue>-1){for(se=ue;se<pe;se++)A[se]=X;ue=-1}ie[pe]==="B"&&(A[pe]=0),I.hiLevel|=X}a&&function(fe,Q,$){for(var V=0;V<$;V++)if(fe[V]==="S"){Q[V]=x;for(var te=V-1;te>=0&&fe[te]==="WS";te--)Q[te]=x}}(ie,A,xe)},T=function(M,A,I,L,se){if(!(se.hiLevel<M)){if(M===1&&x===1&&!i)return A.reverse(),void(I&&I.reverse());for(var pe,X,ce,ue,xe=A.length,we=0;we<xe;){if(L[we]>=M){for(ce=we+1;ce<xe&&L[ce]>=M;)ce++;for(ue=we,X=ce-1;ue<X;ue++,X--)pe=A[ue],A[ue]=A[X],A[X]=pe,I&&(pe=I[ue],I[ue]=I[X],I[X]=pe);we=ce}we++}}},W=function(M,A,I){var L=M.split(""),se={hiLevel:x};return I||(I=[]),k(L,I,se),function(pe,X,ce){if(ce.hiLevel!==0&&u)for(var ue,xe=0;xe<pe.length;xe++)X[xe]===1&&(ue=w.indexOf(pe[xe]))>=0&&(pe[xe]=w[ue+1])}(L,I,se),T(2,L,A,I,se),T(1,L,A,I,se),L.join("")};return this.__bidiEngine__.doBidiReorder=function(M,A,I){if(function(se,pe){if(pe)for(var X=0;X<se.length;X++)pe[X]=X;o===void 0&&(o=S(se)),c===void 0&&(c=S(se))}(M,A),s||!l||c)if(s&&l&&o^c)x=o?1:0,M=P(M,A,I);else if(!s&&l&&c)x=o?1:0,M=W(M,A,I),M=P(M,A);else if(!s||o||l||c){if(s&&!l&&o^c)M=P(M,A),o?(x=0,M=W(M,A,I)):(x=1,M=W(M,A,I),M=P(M,A));else if(s&&o&&!l&&c)x=1,M=W(M,A,I),M=P(M,A);else if(!s&&!l&&o^c){var L=u;o?(x=1,M=W(M,A,I),x=0,u=!1,M=W(M,A,I),u=L):(x=0,M=W(M,A,I),M=P(M,A),x=1,u=!1,M=W(M,A,I),u=L,M=P(M,A))}}else x=0,M=W(M,A,I);else x=o?1:0,M=W(M,A,I);return M},this.__bidiEngine__.setOptions=function(M){M&&(s=M.isInputVisual,l=M.isOutputVisual,o=M.isInputRtl,c=M.isOutputRtl,u=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(xt),xt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new cd(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ZEe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new BEe(this.contents),this.head=new $Ee(this),this.name=new HEe(this),this.cmap=new BH(this),this.toUnicode={},this.hhea=new VEe(this),this.maxp=new GEe(this),this.hmtx=new KEe(this),this.post=new qEe(this),this.os2=new zEe(this),this.loca=new QEe(this),this.glyf=new YEe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var So,cd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),BEe=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,l,c,u,f,p,h,y,m;for(m in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new cd).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,y=[],r)for(p=r[m],i.writeString(m),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),y=y.concat(p),m==="head"&&(o=c),c+=p.length;c%4;)y.push(0),c++;return i.write(y),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=UH.call(r);r.length%4;)r.push(0);for(a=new cd(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),UEe={}.hasOwnProperty,_l=function(t,e){for(var r in e)UEe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};So=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var $Ee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,So),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new cd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),t8=function(){function t(e,r){var n,i,a,s,o,l,c,u,f,p,h,y,m,w,g,v,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,a=function(){var E,S;for(S=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)S.push(e.readUInt16());return S}(),e.pos+=2,m=function(){var E,S;for(S=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)S.push(e.readUInt16());return S}(),c=function(){var E,S;for(S=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)S.push(e.readUInt16());return S}(),u=function(){var E,S;for(S=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)S.push(e.readUInt16());return S}(),i=(this.length-e.pos+this.offset)/2,o=function(){var E,S;for(S=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)S.push(e.readUInt16());return S}(),l=g=0,x=a.length;g<x;l=++g)for(w=a[l],n=v=y=m[l];y<=w?v<=w:v>=w;n=y<=w?++v:--v)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-y)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,y,m,w,g,v,x,E,S,C,P,k,T,W,M,A,I,L,se,pe,X,ce,ue,xe,we,F,J,ie,fe,Q,$,V,te,ae,Z,ee;switch(L=new cd,s=Object.keys(e).sort(function(_e,H){return _e-H}),r){case"macroman":for(m=0,w=function(){var _e=[];for(y=0;y<256;++y)_e.push(0);return _e}(),v={0:0},a={},se=0,ue=s.length;se<ue;se++)v[te=e[i=s[se]]]==null&&(v[te]=++m),a[i]={old:e[i],new:v[e[i]]},w[i]=v[e[i]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(w),{charMap:a,subtable:L.data,maxGlyphID:m+1};case"unicode":for(A=[],f=[],x=0,v={},n={},g=c=null,pe=0,xe=s.length;pe<xe;pe++)v[S=e[i=s[pe]]]==null&&(v[S]=++x),n[i]={old:S,new:v[S]},o=v[S]-i,g!=null&&o===c||(g&&f.push(g),A.push(i),c=o),g=i;for(g&&f.push(g),f.push(65535),A.push(65535),W=2*(T=A.length),k=2*Math.pow(Math.log(T)/Math.LN2,2),p=Math.log(k/2)/Math.LN2,P=2*T-k,l=[],C=[],h=[],y=X=0,we=A.length;X<we;y=++X){if(M=A[y],u=f[y],M===65535){l.push(0),C.push(0);break}if(M-(I=n[M].new)>=32768)for(l.push(0),C.push(2*(h.length+T-y)),i=ce=M;M<=u?ce<=u:ce>=u;i=M<=u?++ce:--ce)h.push(n[i].new);else l.push(I-M),C.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*T+2*h.length),L.writeUInt16(0),L.writeUInt16(W),L.writeUInt16(k),L.writeUInt16(p),L.writeUInt16(P),$=0,F=f.length;$<F;$++)i=f[$],L.writeUInt16(i);for(L.writeUInt16(0),V=0,J=A.length;V<J;V++)i=A[V],L.writeUInt16(i);for(ae=0,ie=l.length;ae<ie;ae++)o=l[ae],L.writeUInt16(o);for(Z=0,fe=C.length;Z<fe;Z++)E=C[Z],L.writeUInt16(E);for(ee=0,Q=h.length;ee<Q;ee++)m=h[ee],L.writeUInt16(m);return{charMap:n,subtable:L.data,maxGlyphID:x+1}}},t}(),BH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,So),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new t8(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,a;return n==null&&(n="macroman"),i=t8.encode(r,n),(a=new cd).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),VEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,So),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),zEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,So),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),qEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,So),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(i=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},e}(),WEe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},HEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,So),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,a,s,o,l,c,u,f,p,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,p=i.length;f<p;s=++f)a=i[s],r.pos=a.offset,u=r.readString(a.length),o=new WEe(u,a),c[h=a.nameID]==null&&(c[h]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),GEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,So),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),KEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,So),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,a,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=a?u<a:u>a;n=0<=a?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,p,h;for(h=[],u=0,f=(p=this.metrics).length;u<f;u++)s=p[u],h.push(s.advance);return h}).call(this),i=this.widths[this.widths.length-1],c=[],n=o=0;0<=a?o<a:o>a;n=0<=a?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),UH=[].slice,YEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,So),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,a,s,o,l,c,u,f,p;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(r),(a=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new cd(n.read(a))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new JEe(l,u,p,c,f):new XEe(l,o,u,p,c,f),this.cache[r]))},e.prototype.encode=function(r,n,i){var a,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)a=r[n[l]],s.push(o.length),a&&(o=o.concat(a.encode(i)));return s.push(o.length),{table:o,offsets:s}},e}(),XEe=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),JEe=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new cd(UH.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),QEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,So),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(r.readUInt32());return s}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<i.length;++o)if(i[o]=a,s<n.length&&n[s]==o){++s,i[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*i.length),f=0;f<i.length;++f)u[4*f+3]=255&i[f],u[4*f+2]=(65280&i[f])>>8,u[4*f+1]=(16711680&i[f])>>16,u[4*f]=(4278190080&i[f])>>24;return u},e}(),ZEe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,y,m,w,g;for(i in n=BH.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},g=n.charMap)h[(l=g[i]).old]=l.new;for(y in p=n.maxGlyphID,s)y in h||(h[y]=p++);return u=function(v){var x,E;for(x in E={},v)E[v[x]]=x;return E}(h),f=Object.keys(u).sort(function(v,x){return v-x}),m=function(){var v,x,E;for(E=[],v=0,x=f.length;v<x;v++)o=f[v],E.push(u[o]);return E}(),a=this.font.glyf.encode(s,m,h),c=this.font.loca.encode(a.offsets,m),w={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();xt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();const eAe=js({clientName:lt().required("Nome do cliente é obrigatório"),clientCpf:lt().required("CPF do cliente é obrigatório"),clientRg:lt().required("RG do cliente é obrigatório"),clientAddress:lt().required("Endereço do cliente é obrigatório"),lawyers:Im().min(1,"Pelo menos um advogado é obrigatório"),type:lt().required("Tipo de procuração é obrigatório"),object:lt().required("Objeto da procuração é obrigatório"),location:lt().required("Local é obrigatório"),date:lt().required("Data é obrigatória")});function tAe({onBack:t,onSave:e}){const[r,n]=br.useState([]),[i,a]=br.useState([]),[s,o]=br.useState(!1),{register:l,handleSubmit:c,formState:{errors:u}}=bl({resolver:xl(eAe),defaultValues:{type:"Ad Judicia",date:new Date().toISOString().split("T")[0]}});br.useEffect(()=>{(async()=>{try{const w=(await rt.getLawyers()).filter(g=>g.status==="Ativo");n(w)}catch(m){console.error("Erro ao carregar advogados:",m)}})()},[]);const f=y=>{a(m=>m.includes(y)?m.filter(w=>w!==y):[...m,y])},p=y=>{const m=new xt,w=[37,99,235],g=[245,158,11],v=[55,65,81],x=[156,163,175];m.setFillColor(...w),m.rect(0,0,210,25,"F"),m.setTextColor(255,255,255),m.setFontSize(24),m.setFont(void 0,"bold"),m.text("Legal",20,17),m.setTextColor(...g),m.text("X",50,17),m.setTextColor(255,255,255),m.setFontSize(10),m.setFont(void 0,"normal"),m.text("Sistema de Gestão Jurídica",20,22),m.setTextColor(...v),m.setFontSize(20),m.setFont(void 0,"bold"),m.text("PROCURAÇÃO",105,45,{align:"center"}),m.setDrawColor(...g),m.setLineWidth(2),m.line(20,50,190,50),m.setTextColor(...v),m.setFontSize(11),m.setFont(void 0,"normal");let E=65;const S=6,C=i.length>1?`os(as) Srs(as). ${i.join(", ")}`:`o(a) Sr(a). ${i[0]}`,P=i.map(M=>{const A=r.find(I=>I.fullName===M);return A?`${M} (OAB ${A.oab})`:M}).join(", "),k=`
Pelo presente instrumento particular de procuração, eu, ${y.clientName}, 
${y.clientCpf.includes("."),"CPF"} nº ${y.clientCpf}, RG nº ${y.clientRg}, 
residente e domiciliado em ${y.clientAddress}, 

NOMEIO e CONSTITUO como ${i.length>1?"meus bastantes procuradores":"meu bastante procurador"} ${C}, 
${i.length>1?"inscritos na OAB":"inscrito(a) na OAB"} (${P}), para o fim específico de:

${y.object}

Outorgo-lhe poderes para representar-me ${y.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos"}, 
podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento 
do presente mandato.

Por ser verdade, firmo a presente.

${y.location}, ${new Date(y.date).toLocaleDateString("pt-BR")}.


_________________________________
${y.clientName}
Outorgante
    `.trim();m.splitTextToSize(k,170).forEach(M=>{E>270&&(m.addPage(),E=30),m.text(M,20,E),E+=S}),m.setDrawColor(...x),m.setLineWidth(.5),m.line(20,280,190,280),m.setTextColor(...x),m.setFontSize(8),m.setFont(void 0,"normal"),m.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),m.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290);const W=m.internal.getNumberOfPages();if(W>1)for(let M=1;M<=W;M++)m.setPage(M),m.text(`Página ${M} de ${W}`,190,290,{align:"right"});m.save(`procuracao_${y.clientName.replace(/\s+/g,"_").toLowerCase()}.pdf`)},h=async y=>{if(i.length===0){alert("Selecione pelo menos um advogado.");return}try{o(!0);const m=await rt.saveDocument({type:"Procuração",client:y.clientName,data:{type:y.type,object:y.object,location:y.location,date:y.date,lawyers:i}});console.log("Procuração salva no sistema:",m),e&&await e(),p({...y,lawyers:i})}catch(m){console.error("Erro ao salvar procuração:",m),alert("Erro ao salvar procuração no sistema. Tente novamente.")}finally{o(!1)}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:s,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nova Procuração"}),d.jsx("p",{className:"text-gray-600",children:"Preencha os dados para gerar a procuração"})]})]}),d.jsx("form",{onSubmit:c(h),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Cliente (Outorgante)"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),d.jsx("input",{...l("clientName"),type:"text",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Nome completo do cliente"}),u.clientName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...l("clientCpf"),type:"text",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"000.000.000-00"}),u.clientCpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientCpf.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RG *"}),d.jsx("input",{...l("clientRg"),type:"text",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"00.000.000-0"}),u.clientRg&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientRg.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço Completo *"}),d.jsx("input",{...l("clientAddress"),type:"text",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Rua, número, bairro, cidade, estado"}),u.clientAddress&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientAddress.message})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Advogado (Outorgado)"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advogados Outorgados *"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto",children:r.length>0?d.jsx("div",{className:"space-y-2",children:r.map(y=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",disabled:s,checked:i.includes(y.fullName),onChange:()=>f(y.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[y.fullName," - OAB: ",y.oab]})]},y.id))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum advogado disponível"})}),i.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Selecionados:"}),d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:i.map((y,m)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[y,d.jsx("button",{type:"button",disabled:s,onClick:()=>f(y),className:"ml-1 text-blue-600 hover:text-blue-800 disabled:opacity-50",children:d.jsx(vo,{className:"w-3 h-3"})})]},m))})]}),i.length===0&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Pelo menos um advogado é obrigatório"}),r.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:'Nenhum advogado ativo encontrado. Cadastre advogados na aba "Advogados".'})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalhes da Procuração"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo *"}),d.jsxs("select",{...l("type"),disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"Ad Judicia",children:"Ad Judicia"}),d.jsx("option",{value:"Para fins específicos",children:"Para fins específicos"})]}),u.type&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Local *"}),d.jsx("input",{...l("location"),type:"text",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"São Paulo - SP"}),u.location&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.location.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...l("date"),type:"date",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),u.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.date.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objeto da Procuração *"}),d.jsx("textarea",{...l("object"),rows:4,disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Descreva o objeto/finalidade da procuração..."}),u.object&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.object.message})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsxs("button",{type:"submit",disabled:s,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[d.jsx(TT,{className:"w-5 h-5 mr-2"}),s?"Processando...":"Gerar Procuração PDF"]})]})]})})]})}const rAe=js({clientName:lt().required("Nome do cliente é obrigatório"),amount:km().positive("Valor deve ser positivo").required("Valor é obrigatório"),description:lt().required("Descrição é obrigatória"),paymentMethod:lt().required("Forma de pagamento é obrigatória"),lawyerName:lt().required("Nome do advogado é obrigatório"),lawyerOab:lt().required("OAB do advogado é obrigatória"),lawyerCpf:lt().required("CPF do advogado é obrigatório"),date:lt().required("Data é obrigatória")});function nAe({onBack:t,onSave:e}){const[r,n]=br.useState([]),[i,a]=br.useState(!1),{register:s,handleSubmit:o,setValue:l,formState:{errors:c}}=bl({resolver:xl(rAe),defaultValues:{paymentMethod:"PIX",date:new Date().toISOString().split("T")[0]}});br.useEffect(()=>{(async()=>{try{const w=(await rt.getLawyers()).filter(g=>g.status==="Ativo");n(w)}catch(m){console.error("Erro ao carregar advogados:",m)}})()},[]);const u=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),f=y=>{const m=["","um","dois","três","quatro","cinco","seis","sete","oito","nove"],w=["dez","onze","doze","treze","quatorze","quinze","dezesseis","dezessete","dezoito","dezenove"],g=["","","vinte","trinta","quarenta","cinquenta","sessenta","setenta","oitenta","noventa"],v=["","cento","duzentos","trezentos","quatrocentos","quinhentos","seiscentos","setecentos","oitocentos","novecentos"];if(y===0)return"zero";if(y===100)return"cem";let x="";if(y>=1e3){const E=Math.floor(y/1e3);x+=f(E)+" mil",y%=1e3,y>0&&(x+=" e ")}if(y>=100&&(x+=v[Math.floor(y/100)],y%=100,y>0&&(x+=" e ")),y>=20)x+=g[Math.floor(y/10)],y%=10,y>0&&(x+=" e ");else if(y>=10)return x+=w[y-10],x;return y>0&&(x+=m[y]),x.trim()},p=y=>{const m=new xt,w=[37,99,235],g=[245,158,11],v=[55,65,81],x=[156,163,175],E=[34,197,94];m.setFillColor(...w),m.rect(0,0,210,25,"F"),m.setTextColor(255,255,255),m.setFontSize(24),m.setFont(void 0,"bold"),m.text("Legal",20,17),m.setTextColor(...g),m.text("X",50,17),m.setTextColor(255,255,255),m.setFontSize(10),m.setFont(void 0,"normal"),m.text("Sistema de Gestão Jurídica",20,22),m.setTextColor(...v),m.setFontSize(20),m.setFont(void 0,"bold"),m.text("RECIBO",105,45,{align:"center"}),m.setDrawColor(...g),m.setLineWidth(2),m.line(20,50,190,50),m.setFillColor(248,250,252),m.setDrawColor(...E),m.setLineWidth(1),m.roundedRect(20,55,170,20,3,3,"FD"),m.setTextColor(...E),m.setFontSize(16),m.setFont(void 0,"bold"),m.text(`Valor: ${u(y.amount)}`,105,67,{align:"center"}),m.setTextColor(...v),m.setFontSize(11),m.setFont(void 0,"normal");let S=85;const C=6,P=f(Math.floor(y.amount)),k=Math.round(y.amount%1*100),T=k>0?` e ${f(k)} centavos`:"",W=`
Recebi de ${y.clientName} a importância de ${u(y.amount)} 
(${P} reais${T}), referente a ${y.description}.

Forma de pagamento: ${y.paymentMethod}

Para clareza firmo o presente recibo.

${new Date(y.date).toLocaleDateString("pt-BR")}


_________________________________
${y.lawyerName}
OAB/SP nº ${y.lawyerOab}
CPF: ${y.lawyerCpf}
    `.trim();m.splitTextToSize(W,170).forEach(I=>{S>270&&(m.addPage(),S=30),m.text(I,20,S),S+=C}),m.setDrawColor(...x),m.setLineWidth(.5),m.line(20,280,190,280),m.setTextColor(...x),m.setFontSize(8),m.setFont(void 0,"normal"),m.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),m.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290);const A=m.internal.getNumberOfPages();if(A>1)for(let I=1;I<=A;I++)m.setPage(I),m.text(`Página ${I} de ${A}`,190,290,{align:"right"});m.save(`recibo_${y.clientName.replace(/\s+/g,"_").toLowerCase()}.pdf`)},h=async y=>{try{a(!0);const m=await rt.saveDocument({type:"Recibo",client:y.clientName,data:{amount:y.amount,description:y.description,paymentMethod:y.paymentMethod,date:y.date,lawyerName:y.lawyerName,lawyerOab:y.lawyerOab}});console.log("Recibo salvo no sistema:",m),e&&await e(),p(y)}catch(m){console.error("Erro ao salvar recibo:",m),alert("Erro ao salvar recibo no sistema. Tente novamente.")}finally{a(!1)}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:i,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Recibo"}),d.jsx("p",{className:"text-gray-600",children:"Preencha os dados para gerar o recibo"})]})]}),d.jsx("form",{onSubmit:o(h),className:"max-w-2xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Cliente"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Cliente *"}),d.jsx("input",{...s("clientName"),type:"text",disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Nome completo do cliente"}),c.clientName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.clientName.message})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Serviço"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor *"}),d.jsx("input",{...s("amount",{valueAsNumber:!0}),type:"number",step:"0.01",min:"0",disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"0.00"}),c.amount&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.amount.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Forma de Pagamento *"}),d.jsxs("select",{...s("paymentMethod"),disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"PIX",children:"PIX"}),d.jsx("option",{value:"Dinheiro",children:"Dinheiro"}),d.jsx("option",{value:"Cartão de Crédito",children:"Cartão de Crédito"}),d.jsx("option",{value:"Cartão de Débito",children:"Cartão de Débito"}),d.jsx("option",{value:"Transferência Bancária",children:"Transferência Bancária"}),d.jsx("option",{value:"Cheque",children:"Cheque"})]}),c.paymentMethod&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.paymentMethod.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição do Serviço *"}),d.jsx("textarea",{...s("description"),rows:3,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Ex: Honorários advocatícios referentes à consultoria jurídica"}),c.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.description.message})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Advogado"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Advogado *"}),d.jsxs("select",{...s("lawyerName"),disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",onChange:y=>{const m=r.find(w=>w.fullName===y.target.value);m&&(l("lawyerOab",m.oab),l("lawyerCpf",m.cpf))},children:[d.jsx("option",{value:"",children:"Selecione um advogado"}),r.map(y=>d.jsxs("option",{value:y.fullName,children:[y.fullName," - OAB: ",y.oab]},y.id))]}),c.lawyerName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.lawyerName.message}),r.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:'Nenhum advogado ativo encontrado. Cadastre advogados na aba "Advogados".'})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB *"}),d.jsx("input",{...s("lawyerOab"),type:"text",readOnly:!0,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"00000/UF"}),c.lawyerOab&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.lawyerOab.message}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preenchido automaticamente ao selecionar o advogado"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...s("lawyerCpf"),type:"text",readOnly:!0,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"000.000.000-00"}),c.lawyerCpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.lawyerCpf.message}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preenchido automaticamente ao selecionar o advogado"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...s("date"),type:"date",disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),c.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.date.message})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:t,disabled:i,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsxs("button",{type:"submit",disabled:i,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[d.jsx(TT,{className:"w-5 h-5 mr-2"}),i?"Processando...":"Gerar Recibo PDF"]})]})]})})]})}var iAe=Object.defineProperty,aAe=Object.defineProperties,sAe=Object.getOwnPropertyDescriptors,r8=Object.getOwnPropertySymbols,oAe=Object.prototype.hasOwnProperty,lAe=Object.prototype.propertyIsEnumerable,h4=(t,e,r)=>e in t?iAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xt=(t,e)=>{for(var r in e||(e={}))oAe.call(e,r)&&h4(t,r,e[r]);if(r8)for(var r of r8(e))lAe.call(e,r)&&h4(t,r,e[r]);return t},um=(t,e)=>aAe(t,sAe(e)),We=(t,e,r)=>h4(t,typeof e!="symbol"?e+"":e,r),cAe=(t,e,r)=>new Promise((n,i)=>{var a=l=>{try{o(r.next(l))}catch(c){i(c)}},s=l=>{try{o(r.throw(l))}catch(c){i(c)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(a,s);o((r=r.apply(t,e)).next())});class kb{constructor(e){We(this,"rootKey"),this.rootKey=e}}const uAe=Object.seal({});class Qe extends kb{constructor(e){super(e),We(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(i=>i instanceof kb?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:uAe}}addChildElement(e){return this.root.push(e),this}}class L2 extends Qe{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Pt extends kb{constructor(e){super("_attr"),We(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const a=this.xmlKeys&&this.xmlKeys[n]||n;r[a]=i}}),{_attr:r}}}class D2 extends kb{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:a})=>um(Xt({},n),{[i]:a}),{})}}}class _n extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $H(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B_={},r1={exports:{}},n8;function RC(){if(n8)return r1.exports;n8=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(S,C,P){return Function.prototype.apply.call(S,C,P)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:r=function(S){return Object.getOwnPropertyNames(S)};function n(E){console&&console.warn&&console.warn(E)}var i=Number.isNaN||function(S){return S!==S};function a(){a.init.call(this)}r1.exports=a,r1.exports.once=g,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");s=E}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function l(E){return E._maxListeners===void 0?a.defaultMaxListeners:E._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(S){for(var C=[],P=1;P<arguments.length;P++)C.push(arguments[P]);var k=S==="error",T=this._events;if(T!==void 0)k=k&&T.error===void 0;else if(!k)return!1;if(k){var W;if(C.length>0&&(W=C[0]),W instanceof Error)throw W;var M=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw M.context=W,M}var A=T[S];if(A===void 0)return!1;if(typeof A=="function")e(A,this,C);else for(var I=A.length,L=y(A,I),P=0;P<I;++P)e(L[P],this,C);return!0};function c(E,S,C,P){var k,T,W;if(o(C),T=E._events,T===void 0?(T=E._events=Object.create(null),E._eventsCount=0):(T.newListener!==void 0&&(E.emit("newListener",S,C.listener?C.listener:C),T=E._events),W=T[S]),W===void 0)W=T[S]=C,++E._eventsCount;else if(typeof W=="function"?W=T[S]=P?[C,W]:[W,C]:P?W.unshift(C):W.push(C),k=l(E),k>0&&W.length>k&&!W.warned){W.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=E,M.type=S,M.count=W.length,n(M)}return E}a.prototype.addListener=function(S,C){return c(this,S,C,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(S,C){return c(this,S,C,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(E,S,C){var P={fired:!1,wrapFn:void 0,target:E,type:S,listener:C},k=u.bind(P);return k.listener=C,P.wrapFn=k,k}a.prototype.once=function(S,C){return o(C),this.on(S,f(this,S,C)),this},a.prototype.prependOnceListener=function(S,C){return o(C),this.prependListener(S,f(this,S,C)),this},a.prototype.removeListener=function(S,C){var P,k,T,W,M;if(o(C),k=this._events,k===void 0)return this;if(P=k[S],P===void 0)return this;if(P===C||P.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete k[S],k.removeListener&&this.emit("removeListener",S,P.listener||C));else if(typeof P!="function"){for(T=-1,W=P.length-1;W>=0;W--)if(P[W]===C||P[W].listener===C){M=P[W].listener,T=W;break}if(T<0)return this;T===0?P.shift():m(P,T),P.length===1&&(k[S]=P[0]),k.removeListener!==void 0&&this.emit("removeListener",S,M||C)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(S){var C,P,k;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[S]),this;if(arguments.length===0){var T=Object.keys(P),W;for(k=0;k<T.length;++k)W=T[k],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=P[S],typeof C=="function")this.removeListener(S,C);else if(C!==void 0)for(k=C.length-1;k>=0;k--)this.removeListener(S,C[k]);return this};function p(E,S,C){var P=E._events;if(P===void 0)return[];var k=P[S];return k===void 0?[]:typeof k=="function"?C?[k.listener||k]:[k]:C?w(k):y(k,k.length)}a.prototype.listeners=function(S){return p(this,S,!0)},a.prototype.rawListeners=function(S){return p(this,S,!1)},a.listenerCount=function(E,S){return typeof E.listenerCount=="function"?E.listenerCount(S):h.call(E,S)},a.prototype.listenerCount=h;function h(E){var S=this._events;if(S!==void 0){var C=S[E];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function y(E,S){for(var C=new Array(S),P=0;P<S;++P)C[P]=E[P];return C}function m(E,S){for(;S+1<E.length;S++)E[S]=E[S+1];E.pop()}function w(E){for(var S=new Array(E.length),C=0;C<S.length;++C)S[C]=E[C].listener||E[C];return S}function g(E,S){return new Promise(function(C,P){function k(W){E.removeListener(S,T),P(W)}function T(){typeof E.removeListener=="function"&&E.removeListener("error",k),C([].slice.call(arguments))}x(E,S,T,{once:!0}),S!=="error"&&v(E,k,{once:!0})})}function v(E,S,C){typeof E.on=="function"&&x(E,"error",S,C)}function x(E,S,C,P){if(typeof E.on=="function")P.once?E.once(S,C):E.on(S,C);else if(typeof E.addEventListener=="function")E.addEventListener(S,function k(T){P.once&&E.removeEventListener(S,k),C(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return r1.exports}var n1={exports:{}},i8;function Ad(){return i8||(i8=1,typeof Object.create=="function"?n1.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:n1.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),n1.exports}function dAe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VH={exports:{}},En=VH.exports={},Ho,Go;function p4(){throw new Error("setTimeout has not been defined")}function m4(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ho=setTimeout:Ho=p4}catch{Ho=p4}try{typeof clearTimeout=="function"?Go=clearTimeout:Go=m4}catch{Go=m4}})();function zH(t){if(Ho===setTimeout)return setTimeout(t,0);if((Ho===p4||!Ho)&&setTimeout)return Ho=setTimeout,setTimeout(t,0);try{return Ho(t,0)}catch{try{return Ho.call(null,t,0)}catch{return Ho.call(this,t,0)}}}function fAe(t){if(Go===clearTimeout)return clearTimeout(t);if((Go===m4||!Go)&&clearTimeout)return Go=clearTimeout,clearTimeout(t);try{return Go(t)}catch{try{return Go.call(null,t)}catch{return Go.call(this,t)}}}var sc=[],Rp=!1,vf,G1=-1;function hAe(){!Rp||!vf||(Rp=!1,vf.length?sc=vf.concat(sc):G1=-1,sc.length&&qH())}function qH(){if(!Rp){var t=zH(hAe);Rp=!0;for(var e=sc.length;e;){for(vf=sc,sc=[];++G1<e;)vf&&vf[G1].run();G1=-1,e=sc.length}vf=null,Rp=!1,fAe(t)}}En.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];sc.push(new WH(t,e)),sc.length===1&&!Rp&&zH(qH)};function WH(t,e){this.fun=t,this.array=e}WH.prototype.run=function(){this.fun.apply(null,this.array)};En.title="browser";En.browser=!0;En.env={};En.argv=[];En.version="";En.versions={};function Dc(){}En.on=Dc;En.addListener=Dc;En.once=Dc;En.off=Dc;En.removeListener=Dc;En.removeAllListeners=Dc;En.emit=Dc;En.prependListener=Dc;En.prependOnceListener=Dc;En.listeners=function(t){return[]};En.binding=function(t){throw new Error("process.binding is not supported")};En.cwd=function(){return"/"};En.chdir=function(t){throw new Error("process.chdir is not supported")};En.umask=function(){return 0};var pAe=VH.exports;const Ft=dAe(pAe);var U_,a8;function HH(){return a8||(a8=1,U_=RC().EventEmitter),U_}var $_={},Cg={},s8;function mAe(){if(s8)return Cg;s8=1,Cg.byteLength=o,Cg.toByteArray=c,Cg.fromByteArray=p;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=n.length;i<a;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(h){var y=h.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=h.indexOf("=");m===-1&&(m=y);var w=m===y?0:4-m%4;return[m,w]}function o(h){var y=s(h),m=y[0],w=y[1];return(m+w)*3/4-w}function l(h,y,m){return(y+m)*3/4-m}function c(h){var y,m=s(h),w=m[0],g=m[1],v=new r(l(h,w,g)),x=0,E=g>0?w-4:w,S;for(S=0;S<E;S+=4)y=e[h.charCodeAt(S)]<<18|e[h.charCodeAt(S+1)]<<12|e[h.charCodeAt(S+2)]<<6|e[h.charCodeAt(S+3)],v[x++]=y>>16&255,v[x++]=y>>8&255,v[x++]=y&255;return g===2&&(y=e[h.charCodeAt(S)]<<2|e[h.charCodeAt(S+1)]>>4,v[x++]=y&255),g===1&&(y=e[h.charCodeAt(S)]<<10|e[h.charCodeAt(S+1)]<<4|e[h.charCodeAt(S+2)]>>2,v[x++]=y>>8&255,v[x++]=y&255),v}function u(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function f(h,y,m){for(var w,g=[],v=y;v<m;v+=3)w=(h[v]<<16&16711680)+(h[v+1]<<8&65280)+(h[v+2]&255),g.push(u(w));return g.join("")}function p(h){for(var y,m=h.length,w=m%3,g=[],v=16383,x=0,E=m-w;x<E;x+=v)g.push(f(h,x,x+v>E?E:x+v));return w===1?(y=h[m-1],g.push(t[y>>2]+t[y<<4&63]+"==")):w===2&&(y=(h[m-2]<<8)+h[m-1],g.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),g.join("")}return Cg}var i1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var o8;function gAe(){return o8||(o8=1,i1.read=function(t,e,r,n,i){var a,s,o=i*8-n-1,l=(1<<o)-1,c=l>>1,u=-7,f=r?i-1:0,p=r?-1:1,h=t[e+f];for(f+=p,a=h&(1<<-u)-1,h>>=-u,u+=o;u>0;a=a*256+t[e+f],f+=p,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=s*256+t[e+f],f+=p,u-=8);if(a===0)a=1-c;else{if(a===l)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-c}return(h?-1:1)*s*Math.pow(2,a-n)},i1.write=function(t,e,r,n,i,a){var s,o,l,c=a*8-i-1,u=(1<<c)-1,f=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,y=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+f>=1?e+=p/l:e+=p*Math.pow(2,1-f),e*l>=2&&(s++,l/=2),s+f>=u?(o=0,s=u):s+f>=1?(o=(e*l-1)*Math.pow(2,i),s=s+f):(o=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[r+h]=o&255,h+=y,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;t[r+h]=s&255,h+=y,s/=256,c-=8);t[r+h-y]|=m*128}),i1}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var l8;function M2(){return l8||(l8=1,function(t){var e=mAe(),r=gAe(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var B=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(B,j),B.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(B){if(B>i)throw new RangeError('The value "'+B+'" is invalid for option "size"');var j=new Uint8Array(B);return Object.setPrototypeOf(j,o.prototype),j}function o(B,j,R){if(typeof B=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(B)}return l(B,j,R)}o.poolSize=8192;function l(B,j,R){if(typeof B=="string")return p(B,j);if(ArrayBuffer.isView(B))return y(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(_e(B,ArrayBuffer)||B&&_e(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(B,SharedArrayBuffer)||B&&_e(B.buffer,SharedArrayBuffer)))return m(B,j,R);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var q=B.valueOf&&B.valueOf();if(q!=null&&q!==B)return o.from(q,j,R);var G=w(B);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return o.from(B[Symbol.toPrimitive]("string"),j,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}o.from=function(B,j,R){return l(B,j,R)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function u(B,j,R){return c(B),B<=0?s(B):j!==void 0?typeof R=="string"?s(B).fill(j,R):s(B).fill(j):s(B)}o.alloc=function(B,j,R){return u(B,j,R)};function f(B){return c(B),s(B<0?0:g(B)|0)}o.allocUnsafe=function(B){return f(B)},o.allocUnsafeSlow=function(B){return f(B)};function p(B,j){if((typeof j!="string"||j==="")&&(j="utf8"),!o.isEncoding(j))throw new TypeError("Unknown encoding: "+j);var R=x(B,j)|0,q=s(R),G=q.write(B,j);return G!==R&&(q=q.slice(0,G)),q}function h(B){for(var j=B.length<0?0:g(B.length)|0,R=s(j),q=0;q<j;q+=1)R[q]=B[q]&255;return R}function y(B){if(_e(B,Uint8Array)){var j=new Uint8Array(B);return m(j.buffer,j.byteOffset,j.byteLength)}return h(B)}function m(B,j,R){if(j<0||B.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<j+(R||0))throw new RangeError('"length" is outside of buffer bounds');var q;return j===void 0&&R===void 0?q=new Uint8Array(B):R===void 0?q=new Uint8Array(B,j):q=new Uint8Array(B,j,R),Object.setPrototypeOf(q,o.prototype),q}function w(B){if(o.isBuffer(B)){var j=g(B.length)|0,R=s(j);return R.length===0||B.copy(R,0,0,j),R}if(B.length!==void 0)return typeof B.length!="number"||H(B.length)?s(0):h(B);if(B.type==="Buffer"&&Array.isArray(B.data))return h(B.data)}function g(B){if(B>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return B|0}function v(B){return+B!=B&&(B=0),o.alloc(+B)}o.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==o.prototype},o.compare=function(j,R){if(_e(j,Uint8Array)&&(j=o.from(j,j.offset,j.byteLength)),_e(R,Uint8Array)&&(R=o.from(R,R.offset,R.byteLength)),!o.isBuffer(j)||!o.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===R)return 0;for(var q=j.length,G=R.length,ne=0,re=Math.min(q,G);ne<re;++ne)if(j[ne]!==R[ne]){q=j[ne],G=R[ne];break}return q<G?-1:G<q?1:0},o.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(j,R){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return o.alloc(0);var q;if(R===void 0)for(R=0,q=0;q<j.length;++q)R+=j[q].length;var G=o.allocUnsafe(R),ne=0;for(q=0;q<j.length;++q){var re=j[q];if(_e(re,Uint8Array))ne+re.length>G.length?o.from(re).copy(G,ne):Uint8Array.prototype.set.call(G,re,ne);else if(o.isBuffer(re))re.copy(G,ne);else throw new TypeError('"list" argument must be an Array of Buffers');ne+=re.length}return G};function x(B,j){if(o.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||_e(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);var R=B.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&R===0)return 0;for(var G=!1;;)switch(j){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return V(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return Z(B).length;default:if(G)return q?-1:V(B).length;j=(""+j).toLowerCase(),G=!0}}o.byteLength=x;function E(B,j,R){var q=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,j>>>=0,R<=j))return"";for(B||(B="utf8");;)switch(B){case"hex":return ue(this,j,R);case"utf8":case"utf-8":return L(this,j,R);case"ascii":return X(this,j,R);case"latin1":case"binary":return ce(this,j,R);case"base64":return I(this,j,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,j,R);default:if(q)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),q=!0}}o.prototype._isBuffer=!0;function S(B,j,R){var q=B[j];B[j]=B[R],B[R]=q}o.prototype.swap16=function(){var j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<j;R+=2)S(this,R,R+1);return this},o.prototype.swap32=function(){var j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<j;R+=4)S(this,R,R+3),S(this,R+1,R+2);return this},o.prototype.swap64=function(){var j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<j;R+=8)S(this,R,R+7),S(this,R+1,R+6),S(this,R+2,R+5),S(this,R+3,R+4);return this},o.prototype.toString=function(){var j=this.length;return j===0?"":arguments.length===0?L(this,0,j):E.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(j){if(!o.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:o.compare(this,j)===0},o.prototype.inspect=function(){var j="",R=t.INSPECT_MAX_BYTES;return j=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(j+=" ... "),"<Buffer "+j+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(j,R,q,G,ne){if(_e(j,Uint8Array)&&(j=o.from(j,j.offset,j.byteLength)),!o.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(R===void 0&&(R=0),q===void 0&&(q=j?j.length:0),G===void 0&&(G=0),ne===void 0&&(ne=this.length),R<0||q>j.length||G<0||ne>this.length)throw new RangeError("out of range index");if(G>=ne&&R>=q)return 0;if(G>=ne)return-1;if(R>=q)return 1;if(R>>>=0,q>>>=0,G>>>=0,ne>>>=0,this===j)return 0;for(var re=ne-G,Ae=q-R,Ne=Math.min(re,Ae),Se=this.slice(G,ne),Ie=j.slice(R,q),Fe=0;Fe<Ne;++Fe)if(Se[Fe]!==Ie[Fe]){re=Se[Fe],Ae=Ie[Fe];break}return re<Ae?-1:Ae<re?1:0};function C(B,j,R,q,G){if(B.length===0)return-1;if(typeof R=="string"?(q=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,H(R)&&(R=G?0:B.length-1),R<0&&(R=B.length+R),R>=B.length){if(G)return-1;R=B.length-1}else if(R<0)if(G)R=0;else return-1;if(typeof j=="string"&&(j=o.from(j,q)),o.isBuffer(j))return j.length===0?-1:P(B,j,R,q,G);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(B,j,R):Uint8Array.prototype.lastIndexOf.call(B,j,R):P(B,[j],R,q,G);throw new TypeError("val must be string, number or Buffer")}function P(B,j,R,q,G){var ne=1,re=B.length,Ae=j.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(B.length<2||j.length<2)return-1;ne=2,re/=2,Ae/=2,R/=2}function Ne(nt,bt){return ne===1?nt[bt]:nt.readUInt16BE(bt*ne)}var Se;if(G){var Ie=-1;for(Se=R;Se<re;Se++)if(Ne(B,Se)===Ne(j,Ie===-1?0:Se-Ie)){if(Ie===-1&&(Ie=Se),Se-Ie+1===Ae)return Ie*ne}else Ie!==-1&&(Se-=Se-Ie),Ie=-1}else for(R+Ae>re&&(R=re-Ae),Se=R;Se>=0;Se--){for(var Fe=!0,Ke=0;Ke<Ae;Ke++)if(Ne(B,Se+Ke)!==Ne(j,Ke)){Fe=!1;break}if(Fe)return Se}return-1}o.prototype.includes=function(j,R,q){return this.indexOf(j,R,q)!==-1},o.prototype.indexOf=function(j,R,q){return C(this,j,R,q,!0)},o.prototype.lastIndexOf=function(j,R,q){return C(this,j,R,q,!1)};function k(B,j,R,q){R=Number(R)||0;var G=B.length-R;q?(q=Number(q),q>G&&(q=G)):q=G;var ne=j.length;q>ne/2&&(q=ne/2);for(var re=0;re<q;++re){var Ae=parseInt(j.substr(re*2,2),16);if(H(Ae))return re;B[R+re]=Ae}return re}function T(B,j,R,q){return ee(V(j,B.length-R),B,R,q)}function W(B,j,R,q){return ee(te(j),B,R,q)}function M(B,j,R,q){return ee(Z(j),B,R,q)}function A(B,j,R,q){return ee(ae(j,B.length-R),B,R,q)}o.prototype.write=function(j,R,q,G){if(R===void 0)G="utf8",q=this.length,R=0;else if(q===void 0&&typeof R=="string")G=R,q=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(q)?(q=q>>>0,G===void 0&&(G="utf8")):(G=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ne=this.length-R;if((q===void 0||q>ne)&&(q=ne),j.length>0&&(q<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");for(var re=!1;;)switch(G){case"hex":return k(this,j,R,q);case"utf8":case"utf-8":return T(this,j,R,q);case"ascii":case"latin1":case"binary":return W(this,j,R,q);case"base64":return M(this,j,R,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,j,R,q);default:if(re)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),re=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(B,j,R){return j===0&&R===B.length?e.fromByteArray(B):e.fromByteArray(B.slice(j,R))}function L(B,j,R){R=Math.min(B.length,R);for(var q=[],G=j;G<R;){var ne=B[G],re=null,Ae=ne>239?4:ne>223?3:ne>191?2:1;if(G+Ae<=R){var Ne,Se,Ie,Fe;switch(Ae){case 1:ne<128&&(re=ne);break;case 2:Ne=B[G+1],(Ne&192)===128&&(Fe=(ne&31)<<6|Ne&63,Fe>127&&(re=Fe));break;case 3:Ne=B[G+1],Se=B[G+2],(Ne&192)===128&&(Se&192)===128&&(Fe=(ne&15)<<12|(Ne&63)<<6|Se&63,Fe>2047&&(Fe<55296||Fe>57343)&&(re=Fe));break;case 4:Ne=B[G+1],Se=B[G+2],Ie=B[G+3],(Ne&192)===128&&(Se&192)===128&&(Ie&192)===128&&(Fe=(ne&15)<<18|(Ne&63)<<12|(Se&63)<<6|Ie&63,Fe>65535&&Fe<1114112&&(re=Fe))}}re===null?(re=65533,Ae=1):re>65535&&(re-=65536,q.push(re>>>10&1023|55296),re=56320|re&1023),q.push(re),G+=Ae}return pe(q)}var se=4096;function pe(B){var j=B.length;if(j<=se)return String.fromCharCode.apply(String,B);for(var R="",q=0;q<j;)R+=String.fromCharCode.apply(String,B.slice(q,q+=se));return R}function X(B,j,R){var q="";R=Math.min(B.length,R);for(var G=j;G<R;++G)q+=String.fromCharCode(B[G]&127);return q}function ce(B,j,R){var q="";R=Math.min(B.length,R);for(var G=j;G<R;++G)q+=String.fromCharCode(B[G]);return q}function ue(B,j,R){var q=B.length;(!j||j<0)&&(j=0),(!R||R<0||R>q)&&(R=q);for(var G="",ne=j;ne<R;++ne)G+=ve[B[ne]];return G}function xe(B,j,R){for(var q=B.slice(j,R),G="",ne=0;ne<q.length-1;ne+=2)G+=String.fromCharCode(q[ne]+q[ne+1]*256);return G}o.prototype.slice=function(j,R){var q=this.length;j=~~j,R=R===void 0?q:~~R,j<0?(j+=q,j<0&&(j=0)):j>q&&(j=q),R<0?(R+=q,R<0&&(R=0)):R>q&&(R=q),R<j&&(R=j);var G=this.subarray(j,R);return Object.setPrototypeOf(G,o.prototype),G};function we(B,j,R){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+j>R)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(j,R,q){j=j>>>0,R=R>>>0,q||we(j,R,this.length);for(var G=this[j],ne=1,re=0;++re<R&&(ne*=256);)G+=this[j+re]*ne;return G},o.prototype.readUintBE=o.prototype.readUIntBE=function(j,R,q){j=j>>>0,R=R>>>0,q||we(j,R,this.length);for(var G=this[j+--R],ne=1;R>0&&(ne*=256);)G+=this[j+--R]*ne;return G},o.prototype.readUint8=o.prototype.readUInt8=function(j,R){return j=j>>>0,R||we(j,1,this.length),this[j]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(j,R){return j=j>>>0,R||we(j,2,this.length),this[j]|this[j+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(j,R){return j=j>>>0,R||we(j,2,this.length),this[j]<<8|this[j+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(j,R){return j=j>>>0,R||we(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(j,R){return j=j>>>0,R||we(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},o.prototype.readIntLE=function(j,R,q){j=j>>>0,R=R>>>0,q||we(j,R,this.length);for(var G=this[j],ne=1,re=0;++re<R&&(ne*=256);)G+=this[j+re]*ne;return ne*=128,G>=ne&&(G-=Math.pow(2,8*R)),G},o.prototype.readIntBE=function(j,R,q){j=j>>>0,R=R>>>0,q||we(j,R,this.length);for(var G=R,ne=1,re=this[j+--G];G>0&&(ne*=256);)re+=this[j+--G]*ne;return ne*=128,re>=ne&&(re-=Math.pow(2,8*R)),re},o.prototype.readInt8=function(j,R){return j=j>>>0,R||we(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},o.prototype.readInt16LE=function(j,R){j=j>>>0,R||we(j,2,this.length);var q=this[j]|this[j+1]<<8;return q&32768?q|4294901760:q},o.prototype.readInt16BE=function(j,R){j=j>>>0,R||we(j,2,this.length);var q=this[j+1]|this[j]<<8;return q&32768?q|4294901760:q},o.prototype.readInt32LE=function(j,R){return j=j>>>0,R||we(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},o.prototype.readInt32BE=function(j,R){return j=j>>>0,R||we(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},o.prototype.readFloatLE=function(j,R){return j=j>>>0,R||we(j,4,this.length),r.read(this,j,!0,23,4)},o.prototype.readFloatBE=function(j,R){return j=j>>>0,R||we(j,4,this.length),r.read(this,j,!1,23,4)},o.prototype.readDoubleLE=function(j,R){return j=j>>>0,R||we(j,8,this.length),r.read(this,j,!0,52,8)},o.prototype.readDoubleBE=function(j,R){return j=j>>>0,R||we(j,8,this.length),r.read(this,j,!1,52,8)};function F(B,j,R,q,G,ne){if(!o.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>G||j<ne)throw new RangeError('"value" argument is out of bounds');if(R+q>B.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(j,R,q,G){if(j=+j,R=R>>>0,q=q>>>0,!G){var ne=Math.pow(2,8*q)-1;F(this,j,R,q,ne,0)}var re=1,Ae=0;for(this[R]=j&255;++Ae<q&&(re*=256);)this[R+Ae]=j/re&255;return R+q},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(j,R,q,G){if(j=+j,R=R>>>0,q=q>>>0,!G){var ne=Math.pow(2,8*q)-1;F(this,j,R,q,ne,0)}var re=q-1,Ae=1;for(this[R+re]=j&255;--re>=0&&(Ae*=256);)this[R+re]=j/Ae&255;return R+q},o.prototype.writeUint8=o.prototype.writeUInt8=function(j,R,q){return j=+j,R=R>>>0,q||F(this,j,R,1,255,0),this[R]=j&255,R+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(j,R,q){return j=+j,R=R>>>0,q||F(this,j,R,2,65535,0),this[R]=j&255,this[R+1]=j>>>8,R+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(j,R,q){return j=+j,R=R>>>0,q||F(this,j,R,2,65535,0),this[R]=j>>>8,this[R+1]=j&255,R+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(j,R,q){return j=+j,R=R>>>0,q||F(this,j,R,4,4294967295,0),this[R+3]=j>>>24,this[R+2]=j>>>16,this[R+1]=j>>>8,this[R]=j&255,R+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(j,R,q){return j=+j,R=R>>>0,q||F(this,j,R,4,4294967295,0),this[R]=j>>>24,this[R+1]=j>>>16,this[R+2]=j>>>8,this[R+3]=j&255,R+4},o.prototype.writeIntLE=function(j,R,q,G){if(j=+j,R=R>>>0,!G){var ne=Math.pow(2,8*q-1);F(this,j,R,q,ne-1,-ne)}var re=0,Ae=1,Ne=0;for(this[R]=j&255;++re<q&&(Ae*=256);)j<0&&Ne===0&&this[R+re-1]!==0&&(Ne=1),this[R+re]=(j/Ae>>0)-Ne&255;return R+q},o.prototype.writeIntBE=function(j,R,q,G){if(j=+j,R=R>>>0,!G){var ne=Math.pow(2,8*q-1);F(this,j,R,q,ne-1,-ne)}var re=q-1,Ae=1,Ne=0;for(this[R+re]=j&255;--re>=0&&(Ae*=256);)j<0&&Ne===0&&this[R+re+1]!==0&&(Ne=1),this[R+re]=(j/Ae>>0)-Ne&255;return R+q},o.prototype.writeInt8=function(j,R,q){return j=+j,R=R>>>0,q||F(this,j,R,1,127,-128),j<0&&(j=255+j+1),this[R]=j&255,R+1},o.prototype.writeInt16LE=function(j,R,q){return j=+j,R=R>>>0,q||F(this,j,R,2,32767,-32768),this[R]=j&255,this[R+1]=j>>>8,R+2},o.prototype.writeInt16BE=function(j,R,q){return j=+j,R=R>>>0,q||F(this,j,R,2,32767,-32768),this[R]=j>>>8,this[R+1]=j&255,R+2},o.prototype.writeInt32LE=function(j,R,q){return j=+j,R=R>>>0,q||F(this,j,R,4,2147483647,-2147483648),this[R]=j&255,this[R+1]=j>>>8,this[R+2]=j>>>16,this[R+3]=j>>>24,R+4},o.prototype.writeInt32BE=function(j,R,q){return j=+j,R=R>>>0,q||F(this,j,R,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[R]=j>>>24,this[R+1]=j>>>16,this[R+2]=j>>>8,this[R+3]=j&255,R+4};function J(B,j,R,q,G,ne){if(R+q>B.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function ie(B,j,R,q,G){return j=+j,R=R>>>0,G||J(B,j,R,4),r.write(B,j,R,q,23,4),R+4}o.prototype.writeFloatLE=function(j,R,q){return ie(this,j,R,!0,q)},o.prototype.writeFloatBE=function(j,R,q){return ie(this,j,R,!1,q)};function fe(B,j,R,q,G){return j=+j,R=R>>>0,G||J(B,j,R,8),r.write(B,j,R,q,52,8),R+8}o.prototype.writeDoubleLE=function(j,R,q){return fe(this,j,R,!0,q)},o.prototype.writeDoubleBE=function(j,R,q){return fe(this,j,R,!1,q)},o.prototype.copy=function(j,R,q,G){if(!o.isBuffer(j))throw new TypeError("argument should be a Buffer");if(q||(q=0),!G&&G!==0&&(G=this.length),R>=j.length&&(R=j.length),R||(R=0),G>0&&G<q&&(G=q),G===q||j.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),j.length-R<G-q&&(G=j.length-R+q);var ne=G-q;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,q,G):Uint8Array.prototype.set.call(j,this.subarray(q,G),R),ne},o.prototype.fill=function(j,R,q,G){if(typeof j=="string"){if(typeof R=="string"?(G=R,R=0,q=this.length):typeof q=="string"&&(G=q,q=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!o.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(j.length===1){var ne=j.charCodeAt(0);(G==="utf8"&&ne<128||G==="latin1")&&(j=ne)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(R<0||this.length<R||this.length<q)throw new RangeError("Out of range index");if(q<=R)return this;R=R>>>0,q=q===void 0?this.length:q>>>0,j||(j=0);var re;if(typeof j=="number")for(re=R;re<q;++re)this[re]=j;else{var Ae=o.isBuffer(j)?j:o.from(j,G),Ne=Ae.length;if(Ne===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(re=0;re<q-R;++re)this[re+R]=Ae[re%Ne]}return this};var Q=/[^+/0-9A-Za-z-_]/g;function $(B){if(B=B.split("=")[0],B=B.trim().replace(Q,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function V(B,j){j=j||1/0;for(var R,q=B.length,G=null,ne=[],re=0;re<q;++re){if(R=B.charCodeAt(re),R>55295&&R<57344){if(!G){if(R>56319){(j-=3)>-1&&ne.push(239,191,189);continue}else if(re+1===q){(j-=3)>-1&&ne.push(239,191,189);continue}G=R;continue}if(R<56320){(j-=3)>-1&&ne.push(239,191,189),G=R;continue}R=(G-55296<<10|R-56320)+65536}else G&&(j-=3)>-1&&ne.push(239,191,189);if(G=null,R<128){if((j-=1)<0)break;ne.push(R)}else if(R<2048){if((j-=2)<0)break;ne.push(R>>6|192,R&63|128)}else if(R<65536){if((j-=3)<0)break;ne.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((j-=4)<0)break;ne.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ne}function te(B){for(var j=[],R=0;R<B.length;++R)j.push(B.charCodeAt(R)&255);return j}function ae(B,j){for(var R,q,G,ne=[],re=0;re<B.length&&!((j-=2)<0);++re)R=B.charCodeAt(re),q=R>>8,G=R%256,ne.push(G),ne.push(q);return ne}function Z(B){return e.toByteArray($(B))}function ee(B,j,R,q){for(var G=0;G<q&&!(G+R>=j.length||G>=B.length);++G)j[G+R]=B[G];return G}function _e(B,j){return B instanceof j||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===j.name}function H(B){return B!==B}var ve=function(){for(var B="0123456789abcdef",j=new Array(256),R=0;R<16;++R)for(var q=R*16,G=0;G<16;++G)j[q+G]=B[R]+B[G];return j}()}($_)),$_}var V_={},z_={},q_,c8;function GH(){return c8||(c8=1,q_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),q_}var W_,u8;function LC(){if(u8)return W_;u8=1;var t=GH();return W_=function(){return t()&&!!Symbol.toStringTag},W_}var H_,d8;function KH(){return d8||(d8=1,H_=Object),H_}var G_,f8;function yAe(){return f8||(f8=1,G_=Error),G_}var K_,h8;function vAe(){return h8||(h8=1,K_=EvalError),K_}var Y_,p8;function wAe(){return p8||(p8=1,Y_=RangeError),Y_}var X_,m8;function bAe(){return m8||(m8=1,X_=ReferenceError),X_}var J_,g8;function YH(){return g8||(g8=1,J_=SyntaxError),J_}var Q_,y8;function My(){return y8||(y8=1,Q_=TypeError),Q_}var Z_,v8;function xAe(){return v8||(v8=1,Z_=URIError),Z_}var eE,w8;function _Ae(){return w8||(w8=1,eE=Math.abs),eE}var tE,b8;function EAe(){return b8||(b8=1,tE=Math.floor),tE}var rE,x8;function AAe(){return x8||(x8=1,rE=Math.max),rE}var nE,_8;function SAe(){return _8||(_8=1,nE=Math.min),nE}var iE,E8;function NAe(){return E8||(E8=1,iE=Math.pow),iE}var aE,A8;function TAe(){return A8||(A8=1,aE=Math.round),aE}var sE,S8;function PAe(){return S8||(S8=1,sE=Number.isNaN||function(e){return e!==e}),sE}var oE,N8;function CAe(){if(N8)return oE;N8=1;var t=PAe();return oE=function(r){return t(r)||r===0?r:r<0?-1:1},oE}var lE,T8;function kAe(){return T8||(T8=1,lE=Object.getOwnPropertyDescriptor),lE}var cE,P8;function Fy(){if(P8)return cE;P8=1;var t=kAe();if(t)try{t([],"length")}catch{t=null}return cE=t,cE}var uE,C8;function F2(){if(C8)return uE;C8=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return uE=t,uE}var dE,k8;function IAe(){if(k8)return dE;k8=1;var t=typeof Symbol<"u"&&Symbol,e=GH();return dE=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},dE}var fE,I8;function XH(){return I8||(I8=1,fE=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),fE}var hE,j8;function JH(){if(j8)return hE;j8=1;var t=KH();return hE=t.getPrototypeOf||null,hE}var pE,O8;function jAe(){if(O8)return pE;O8=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,c){for(var u=[],f=0;f<l.length;f+=1)u[f]=l[f];for(var p=0;p<c.length;p+=1)u[p+l.length]=c[p];return u},a=function(l,c){for(var u=[],f=c,p=0;f<l.length;f+=1,p+=1)u[p]=l[f];return u},s=function(o,l){for(var c="",u=0;u<o.length;u+=1)c+=o[u],u+1<o.length&&(c+=l);return c};return pE=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var u=a(arguments,1),f,p=function(){if(this instanceof f){var g=c.apply(this,i(u,arguments));return Object(g)===g?g:this}return c.apply(l,i(u,arguments))},h=r(0,c.length-u.length),y=[],m=0;m<h;m++)y[m]="$"+m;if(f=Function("binder","return function ("+s(y,",")+"){ return binder.apply(this,arguments); }")(p),c.prototype){var w=function(){};w.prototype=c.prototype,f.prototype=new w,w.prototype=null}return f},pE}var mE,R8;function By(){if(R8)return mE;R8=1;var t=jAe();return mE=Function.prototype.bind||t,mE}var gE,L8;function DC(){return L8||(L8=1,gE=Function.prototype.call),gE}var yE,D8;function QH(){return D8||(D8=1,yE=Function.prototype.apply),yE}var vE,M8;function OAe(){return M8||(M8=1,vE=typeof Reflect<"u"&&Reflect&&Reflect.apply),vE}var wE,F8;function RAe(){if(F8)return wE;F8=1;var t=By(),e=QH(),r=DC(),n=OAe();return wE=n||t.call(r,e),wE}var bE,B8;function LAe(){if(B8)return bE;B8=1;var t=By(),e=My(),r=DC(),n=RAe();return bE=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(t,r,a)},bE}var xE,U8;function DAe(){if(U8)return xE;U8=1;var t=LAe(),e=Fy(),r;try{r=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return xE=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(o){return a(o==null?o:i(o))}:!1,xE}var _E,$8;function MAe(){if($8)return _E;$8=1;var t=XH(),e=JH(),r=DAe();return _E=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,_E}var EE,V8;function FAe(){if(V8)return EE;V8=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=By();return EE=r.call(t,e),EE}var AE,z8;function MC(){if(z8)return AE;z8=1;var t,e=KH(),r=yAe(),n=vAe(),i=wAe(),a=bAe(),s=YH(),o=My(),l=xAe(),c=_Ae(),u=EAe(),f=AAe(),p=SAe(),h=NAe(),y=TAe(),m=CAe(),w=Function,g=function(te){try{return w('"use strict"; return ('+te+").constructor;")()}catch{}},v=Fy(),x=F2(),E=function(){throw new o},S=v?function(){try{return arguments.callee,E}catch{try{return v(arguments,"callee").get}catch{return E}}}():E,C=IAe()(),P=MAe(),k=JH(),T=XH(),W=QH(),M=DC(),A={},I=typeof Uint8Array>"u"||!P?t:P(Uint8Array),L={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":C&&P?P([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":A,"%AsyncGenerator%":A,"%AsyncGeneratorFunction%":A,"%AsyncIteratorPrototype%":A,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":A,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":C&&P?P(P([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!C||!P?t:P(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":v,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!C||!P?t:P(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":C&&P?P(""[Symbol.iterator]()):t,"%Symbol%":C?Symbol:t,"%SyntaxError%":s,"%ThrowTypeError%":S,"%TypedArray%":I,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":M,"%Function.prototype.apply%":W,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":k,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":f,"%Math.min%":p,"%Math.pow%":h,"%Math.round%":y,"%Math.sign%":m,"%Reflect.getPrototypeOf%":T};if(P)try{null.error}catch(te){var se=P(P(te));L["%Error.prototype%"]=se}var pe=function te(ae){var Z;if(ae==="%AsyncFunction%")Z=g("async function () {}");else if(ae==="%GeneratorFunction%")Z=g("function* () {}");else if(ae==="%AsyncGeneratorFunction%")Z=g("async function* () {}");else if(ae==="%AsyncGenerator%"){var ee=te("%AsyncGeneratorFunction%");ee&&(Z=ee.prototype)}else if(ae==="%AsyncIteratorPrototype%"){var _e=te("%AsyncGenerator%");_e&&P&&(Z=P(_e.prototype))}return L[ae]=Z,Z},X={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ce=By(),ue=FAe(),xe=ce.call(M,Array.prototype.concat),we=ce.call(W,Array.prototype.splice),F=ce.call(M,String.prototype.replace),J=ce.call(M,String.prototype.slice),ie=ce.call(M,RegExp.prototype.exec),fe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Q=/\\(\\)?/g,$=function(ae){var Z=J(ae,0,1),ee=J(ae,-1);if(Z==="%"&&ee!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(ee==="%"&&Z!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var _e=[];return F(ae,fe,function(H,ve,B,j){_e[_e.length]=B?F(j,Q,"$1"):ve||H}),_e},V=function(ae,Z){var ee=ae,_e;if(ue(X,ee)&&(_e=X[ee],ee="%"+_e[0]+"%"),ue(L,ee)){var H=L[ee];if(H===A&&(H=pe(ee)),typeof H>"u"&&!Z)throw new o("intrinsic "+ae+" exists, but is not available. Please file an issue!");return{alias:_e,name:ee,value:H}}throw new s("intrinsic "+ae+" does not exist!")};return AE=function(ae,Z){if(typeof ae!="string"||ae.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Z!="boolean")throw new o('"allowMissing" argument must be a boolean');if(ie(/^%?[^%]*%?$/,ae)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ee=$(ae),_e=ee.length>0?ee[0]:"",H=V("%"+_e+"%",Z),ve=H.name,B=H.value,j=!1,R=H.alias;R&&(_e=R[0],we(ee,xe([0,1],R)));for(var q=1,G=!0;q<ee.length;q+=1){var ne=ee[q],re=J(ne,0,1),Ae=J(ne,-1);if((re==='"'||re==="'"||re==="`"||Ae==='"'||Ae==="'"||Ae==="`")&&re!==Ae)throw new s("property names with quotes must have matching quotes");if((ne==="constructor"||!G)&&(j=!0),_e+="."+ne,ve="%"+_e+"%",ue(L,ve))B=L[ve];else if(B!=null){if(!(ne in B)){if(!Z)throw new o("base intrinsic for "+ae+" exists, but the property is not available.");return}if(v&&q+1>=ee.length){var Ne=v(B,ne);G=!!Ne,G&&"get"in Ne&&!("originalValue"in Ne.get)?B=Ne.get:B=B[ne]}else G=ue(B,ne),B=B[ne];G&&!j&&(L[ve]=B)}}return B},AE}var SE={exports:{}},NE,q8;function BAe(){if(q8)return NE;q8=1;var t=F2(),e=YH(),r=My(),n=Fy();return NE=function(a,s,o){if(!a||typeof a!="object"&&typeof a!="function")throw new r("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,p=!!n&&n(a,s);if(t)t(a,s,{configurable:u===null&&p?p.configurable:!u,enumerable:l===null&&p?p.enumerable:!l,value:o,writable:c===null&&p?p.writable:!c});else if(f||!l&&!c&&!u)a[s]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},NE}var TE,W8;function UAe(){if(W8)return TE;W8=1;var t=F2(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},TE=e,TE}var PE,H8;function $Ae(){if(H8)return PE;H8=1;var t=MC(),e=BAe(),r=UAe()(),n=Fy(),i=My(),a=t("%Math.floor%");return PE=function(o,l){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||a(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,f=!0;if("length"in o&&n){var p=n(o,"length");p&&!p.configurable&&(u=!1),p&&!p.writable&&(f=!1)}return(u||f||!c)&&(r?e(o,"length",l,!0,!0):e(o,"length",l)),o},PE}var G8;function ZH(){return G8||(G8=1,function(t){var e=By(),r=MC(),n=$Ae(),i=My(),a=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(s,a),l=F2(),c=r("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var h=o(e,s,arguments);return n(h,1+c(0,p.length-(arguments.length-1)),!0)};var u=function(){return o(e,a,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u}(SE)),SE.exports}var CE,K8;function eG(){if(K8)return CE;K8=1;var t=MC(),e=ZH(),r=e(t("String.prototype.indexOf"));return CE=function(i,a){var s=t(i,!!a);return typeof s=="function"&&r(i,".prototype.")>-1?e(s):s},CE}var kE,Y8;function VAe(){if(Y8)return kE;Y8=1;var t=LC()(),e=eG(),r=e("Object.prototype.toString"),n=function(o){return t&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},a=function(){return n(arguments)}();return n.isLegacyArguments=i,kE=a?n:i,kE}var IE,X8;function zAe(){if(X8)return IE;X8=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=LC()(),i=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},s;return IE=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!n){var c=t.call(l);return c==="[object GeneratorFunction]"}if(!i)return!1;if(typeof s>"u"){var u=a();s=u?i(u):!1}return i(l)===s},IE}var jE,J8;function qAe(){if(J8)return jE;J8=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(v){v!==n&&(e=null)}else e=null;var i=/^\s*class\b/,a=function(x){try{var E=t.call(x);return i.test(E)}catch{return!1}},s=function(x){try{return a(x)?!1:(t.call(x),!0)}catch{return!1}},o=Object.prototype.toString,l="[object Object]",c="[object Function]",u="[object GeneratorFunction]",f="[object HTMLAllCollection]",p="[object HTML document.all class]",h="[object HTMLCollection]",y=typeof Symbol=="function"&&!!Symbol.toStringTag,m=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var g=document.all;o.call(g)===o.call(document.all)&&(w=function(x){if((m||!x)&&(typeof x>"u"||typeof x=="object"))try{var E=o.call(x);return(E===f||E===p||E===h||E===l)&&x("")==null}catch{}return!1})}return jE=e?function(x){if(w(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;try{e(x,null,r)}catch(E){if(E!==n)return!1}return!a(x)&&s(x)}:function(x){if(w(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;if(y)return s(x);if(a(x))return!1;var E=o.call(x);return E!==c&&E!==u&&!/^\[object HTML/.test(E)?!1:s(x)},jE}var OE,Q8;function WAe(){if(Q8)return OE;Q8=1;var t=qAe(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,c,u){for(var f=0,p=l.length;f<p;f++)r.call(l,f)&&(u==null?c(l[f],f,l):c.call(u,l[f],f,l))},i=function(l,c,u){for(var f=0,p=l.length;f<p;f++)u==null?c(l.charAt(f),f,l):c.call(u,l.charAt(f),f,l)},a=function(l,c,u){for(var f in l)r.call(l,f)&&(u==null?c(l[f],f,l):c.call(u,l[f],f,l))},s=function(l,c,u){if(!t(c))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=u),e.call(l)==="[object Array]"?n(l,c,f):typeof l=="string"?i(l,c,f):a(l,c,f)};return OE=s,OE}var RE,Z8;function HAe(){return Z8||(Z8=1,RE=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),RE}var LE,eD;function GAe(){if(eD)return LE;eD=1;var t=HAe(),e=typeof globalThis>"u"?rl:globalThis;return LE=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},LE}var DE,tD;function tG(){if(tD)return DE;tD=1;var t=WAe(),e=GAe(),r=ZH(),n=eG(),i=Fy(),a=n("Object.prototype.toString"),s=LC()(),o=typeof globalThis>"u"?rl:globalThis,l=e(),c=n("String.prototype.slice"),u=Object.getPrototypeOf,f=n("Array.prototype.indexOf",!0)||function(w,g){for(var v=0;v<w.length;v+=1)if(w[v]===g)return v;return-1},p={__proto__:null};s&&i&&u?t(l,function(m){var w=new o[m];if(Symbol.toStringTag in w){var g=u(w),v=i(g,Symbol.toStringTag);if(!v){var x=u(g);v=i(x,Symbol.toStringTag)}p["$"+m]=r(v.get)}}):t(l,function(m){var w=new o[m],g=w.slice||w.set;g&&(p["$"+m]=r(g))});var h=function(w){var g=!1;return t(p,function(v,x){if(!g)try{"$"+v(w)===x&&(g=c(x,1))}catch{}}),g},y=function(w){var g=!1;return t(p,function(v,x){if(!g)try{v(w),g=c(x,1)}catch{}}),g};return DE=function(w){if(!w||typeof w!="object")return!1;if(!s){var g=c(a(w),8,-1);return f(l,g)>-1?g:g!=="Object"?!1:y(w)}return i?h(w):null},DE}var ME,rD;function KAe(){if(rD)return ME;rD=1;var t=tG();return ME=function(r){return!!t(r)},ME}var nD;function YAe(){return nD||(nD=1,function(t){var e=VAe(),r=zAe(),n=tG(),i=KAe();function a(q){return q.call.bind(q)}var s=typeof BigInt<"u",o=typeof Symbol<"u",l=a(Object.prototype.toString),c=a(Number.prototype.valueOf),u=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(s)var p=a(BigInt.prototype.valueOf);if(o)var h=a(Symbol.prototype.valueOf);function y(q,G){if(typeof q!="object")return!1;try{return G(q),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function m(q){return typeof Promise<"u"&&q instanceof Promise||q!==null&&typeof q=="object"&&typeof q.then=="function"&&typeof q.catch=="function"}t.isPromise=m;function w(q){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(q):i(q)||J(q)}t.isArrayBufferView=w;function g(q){return n(q)==="Uint8Array"}t.isUint8Array=g;function v(q){return n(q)==="Uint8ClampedArray"}t.isUint8ClampedArray=v;function x(q){return n(q)==="Uint16Array"}t.isUint16Array=x;function E(q){return n(q)==="Uint32Array"}t.isUint32Array=E;function S(q){return n(q)==="Int8Array"}t.isInt8Array=S;function C(q){return n(q)==="Int16Array"}t.isInt16Array=C;function P(q){return n(q)==="Int32Array"}t.isInt32Array=P;function k(q){return n(q)==="Float32Array"}t.isFloat32Array=k;function T(q){return n(q)==="Float64Array"}t.isFloat64Array=T;function W(q){return n(q)==="BigInt64Array"}t.isBigInt64Array=W;function M(q){return n(q)==="BigUint64Array"}t.isBigUint64Array=M;function A(q){return l(q)==="[object Map]"}A.working=typeof Map<"u"&&A(new Map);function I(q){return typeof Map>"u"?!1:A.working?A(q):q instanceof Map}t.isMap=I;function L(q){return l(q)==="[object Set]"}L.working=typeof Set<"u"&&L(new Set);function se(q){return typeof Set>"u"?!1:L.working?L(q):q instanceof Set}t.isSet=se;function pe(q){return l(q)==="[object WeakMap]"}pe.working=typeof WeakMap<"u"&&pe(new WeakMap);function X(q){return typeof WeakMap>"u"?!1:pe.working?pe(q):q instanceof WeakMap}t.isWeakMap=X;function ce(q){return l(q)==="[object WeakSet]"}ce.working=typeof WeakSet<"u"&&ce(new WeakSet);function ue(q){return ce(q)}t.isWeakSet=ue;function xe(q){return l(q)==="[object ArrayBuffer]"}xe.working=typeof ArrayBuffer<"u"&&xe(new ArrayBuffer);function we(q){return typeof ArrayBuffer>"u"?!1:xe.working?xe(q):q instanceof ArrayBuffer}t.isArrayBuffer=we;function F(q){return l(q)==="[object DataView]"}F.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&F(new DataView(new ArrayBuffer(1),0,1));function J(q){return typeof DataView>"u"?!1:F.working?F(q):q instanceof DataView}t.isDataView=J;var ie=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function fe(q){return l(q)==="[object SharedArrayBuffer]"}function Q(q){return typeof ie>"u"?!1:(typeof fe.working>"u"&&(fe.working=fe(new ie)),fe.working?fe(q):q instanceof ie)}t.isSharedArrayBuffer=Q;function $(q){return l(q)==="[object AsyncFunction]"}t.isAsyncFunction=$;function V(q){return l(q)==="[object Map Iterator]"}t.isMapIterator=V;function te(q){return l(q)==="[object Set Iterator]"}t.isSetIterator=te;function ae(q){return l(q)==="[object Generator]"}t.isGeneratorObject=ae;function Z(q){return l(q)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Z;function ee(q){return y(q,c)}t.isNumberObject=ee;function _e(q){return y(q,u)}t.isStringObject=_e;function H(q){return y(q,f)}t.isBooleanObject=H;function ve(q){return s&&y(q,p)}t.isBigIntObject=ve;function B(q){return o&&y(q,h)}t.isSymbolObject=B;function j(q){return ee(q)||_e(q)||H(q)||ve(q)||B(q)}t.isBoxedPrimitive=j;function R(q){return typeof Uint8Array<"u"&&(we(q)||Q(q))}t.isAnyArrayBuffer=R,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(q){Object.defineProperty(t,q,{enumerable:!1,value:function(){throw new Error(q+" is not supported in userland")}})})}(z_)),z_}var FE,iD;function XAe(){return iD||(iD=1,FE=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),FE}var aD;function rG(){return aD||(aD=1,function(t){var e=Object.getOwnPropertyDescriptors||function(J){for(var ie=Object.keys(J),fe={},Q=0;Q<ie.length;Q++)fe[ie[Q]]=Object.getOwnPropertyDescriptor(J,ie[Q]);return fe},r=/%[sdj%]/g;t.format=function(F){if(!S(F)){for(var J=[],ie=0;ie<arguments.length;ie++)J.push(s(arguments[ie]));return J.join(" ")}for(var ie=1,fe=arguments,Q=fe.length,$=String(F).replace(r,function(te){if(te==="%%")return"%";if(ie>=Q)return te;switch(te){case"%s":return String(fe[ie++]);case"%d":return Number(fe[ie++]);case"%j":try{return JSON.stringify(fe[ie++])}catch{return"[Circular]"}default:return te}}),V=fe[ie];ie<Q;V=fe[++ie])v(V)||!T(V)?$+=" "+V:$+=" "+s(V);return $},t.deprecate=function(F,J){if(typeof Ft<"u"&&Ft.noDeprecation===!0)return F;if(typeof Ft>"u")return function(){return t.deprecate(F,J).apply(this,arguments)};var ie=!1;function fe(){if(!ie){if(Ft.throwDeprecation)throw new Error(J);Ft.traceDeprecation?console.trace(J):console.error(J),ie=!0}return F.apply(this,arguments)}return fe};var n={},i=/^$/;if(Ft.env.NODE_DEBUG){var a=Ft.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+a+"$","i")}t.debuglog=function(F){if(F=F.toUpperCase(),!n[F])if(i.test(F)){var J=Ft.pid;n[F]=function(){var ie=t.format.apply(t,arguments);console.error("%s %d: %s",F,J,ie)}}else n[F]=function(){};return n[F]};function s(F,J){var ie={seen:[],stylize:l};return arguments.length>=3&&(ie.depth=arguments[2]),arguments.length>=4&&(ie.colors=arguments[3]),g(J)?ie.showHidden=J:J&&t._extend(ie,J),P(ie.showHidden)&&(ie.showHidden=!1),P(ie.depth)&&(ie.depth=2),P(ie.colors)&&(ie.colors=!1),P(ie.customInspect)&&(ie.customInspect=!0),ie.colors&&(ie.stylize=o),u(ie,F,ie.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(F,J){var ie=s.styles[J];return ie?"\x1B["+s.colors[ie][0]+"m"+F+"\x1B["+s.colors[ie][1]+"m":F}function l(F,J){return F}function c(F){var J={};return F.forEach(function(ie,fe){J[ie]=!0}),J}function u(F,J,ie){if(F.customInspect&&J&&A(J.inspect)&&J.inspect!==t.inspect&&!(J.constructor&&J.constructor.prototype===J)){var fe=J.inspect(ie,F);return S(fe)||(fe=u(F,fe,ie)),fe}var Q=f(F,J);if(Q)return Q;var $=Object.keys(J),V=c($);if(F.showHidden&&($=Object.getOwnPropertyNames(J)),M(J)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return p(J);if($.length===0){if(A(J)){var te=J.name?": "+J.name:"";return F.stylize("[Function"+te+"]","special")}if(k(J))return F.stylize(RegExp.prototype.toString.call(J),"regexp");if(W(J))return F.stylize(Date.prototype.toString.call(J),"date");if(M(J))return p(J)}var ae="",Z=!1,ee=["{","}"];if(w(J)&&(Z=!0,ee=["[","]"]),A(J)){var _e=J.name?": "+J.name:"";ae=" [Function"+_e+"]"}if(k(J)&&(ae=" "+RegExp.prototype.toString.call(J)),W(J)&&(ae=" "+Date.prototype.toUTCString.call(J)),M(J)&&(ae=" "+p(J)),$.length===0&&(!Z||J.length==0))return ee[0]+ae+ee[1];if(ie<0)return k(J)?F.stylize(RegExp.prototype.toString.call(J),"regexp"):F.stylize("[Object]","special");F.seen.push(J);var H;return Z?H=h(F,J,ie,V,$):H=$.map(function(ve){return y(F,J,ie,V,ve,Z)}),F.seen.pop(),m(H,ae,ee)}function f(F,J){if(P(J))return F.stylize("undefined","undefined");if(S(J)){var ie="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(ie,"string")}if(E(J))return F.stylize(""+J,"number");if(g(J))return F.stylize(""+J,"boolean");if(v(J))return F.stylize("null","null")}function p(F){return"["+Error.prototype.toString.call(F)+"]"}function h(F,J,ie,fe,Q){for(var $=[],V=0,te=J.length;V<te;++V)ce(J,String(V))?$.push(y(F,J,ie,fe,String(V),!0)):$.push("");return Q.forEach(function(ae){ae.match(/^\d+$/)||$.push(y(F,J,ie,fe,ae,!0))}),$}function y(F,J,ie,fe,Q,$){var V,te,ae;if(ae=Object.getOwnPropertyDescriptor(J,Q)||{value:J[Q]},ae.get?ae.set?te=F.stylize("[Getter/Setter]","special"):te=F.stylize("[Getter]","special"):ae.set&&(te=F.stylize("[Setter]","special")),ce(fe,Q)||(V="["+Q+"]"),te||(F.seen.indexOf(ae.value)<0?(v(ie)?te=u(F,ae.value,null):te=u(F,ae.value,ie-1),te.indexOf(`
`)>-1&&($?te=te.split(`
`).map(function(Z){return"  "+Z}).join(`
`).slice(2):te=`
`+te.split(`
`).map(function(Z){return"   "+Z}).join(`
`))):te=F.stylize("[Circular]","special")),P(V)){if($&&Q.match(/^\d+$/))return te;V=JSON.stringify(""+Q),V.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.slice(1,-1),V=F.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=F.stylize(V,"string"))}return V+": "+te}function m(F,J,ie){var fe=F.reduce(function(Q,$){return $.indexOf(`
`)>=0,Q+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fe>60?ie[0]+(J===""?"":J+`
 `)+" "+F.join(`,
  `)+" "+ie[1]:ie[0]+J+" "+F.join(", ")+" "+ie[1]}t.types=YAe();function w(F){return Array.isArray(F)}t.isArray=w;function g(F){return typeof F=="boolean"}t.isBoolean=g;function v(F){return F===null}t.isNull=v;function x(F){return F==null}t.isNullOrUndefined=x;function E(F){return typeof F=="number"}t.isNumber=E;function S(F){return typeof F=="string"}t.isString=S;function C(F){return typeof F=="symbol"}t.isSymbol=C;function P(F){return F===void 0}t.isUndefined=P;function k(F){return T(F)&&L(F)==="[object RegExp]"}t.isRegExp=k,t.types.isRegExp=k;function T(F){return typeof F=="object"&&F!==null}t.isObject=T;function W(F){return T(F)&&L(F)==="[object Date]"}t.isDate=W,t.types.isDate=W;function M(F){return T(F)&&(L(F)==="[object Error]"||F instanceof Error)}t.isError=M,t.types.isNativeError=M;function A(F){return typeof F=="function"}t.isFunction=A;function I(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}t.isPrimitive=I,t.isBuffer=XAe();function L(F){return Object.prototype.toString.call(F)}function se(F){return F<10?"0"+F.toString(10):F.toString(10)}var pe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function X(){var F=new Date,J=[se(F.getHours()),se(F.getMinutes()),se(F.getSeconds())].join(":");return[F.getDate(),pe[F.getMonth()],J].join(" ")}t.log=function(){console.log("%s - %s",X(),t.format.apply(t,arguments))},t.inherits=Ad(),t._extend=function(F,J){if(!J||!T(J))return F;for(var ie=Object.keys(J),fe=ie.length;fe--;)F[ie[fe]]=J[ie[fe]];return F};function ce(F,J){return Object.prototype.hasOwnProperty.call(F,J)}var ue=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');if(ue&&J[ue]){var ie=J[ue];if(typeof ie!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ie,ue,{value:ie,enumerable:!1,writable:!1,configurable:!0}),ie}function ie(){for(var fe,Q,$=new Promise(function(ae,Z){fe=ae,Q=Z}),V=[],te=0;te<arguments.length;te++)V.push(arguments[te]);V.push(function(ae,Z){ae?Q(ae):fe(Z)});try{J.apply(this,V)}catch(ae){Q(ae)}return $}return Object.setPrototypeOf(ie,Object.getPrototypeOf(J)),ue&&Object.defineProperty(ie,ue,{value:ie,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ie,e(J))},t.promisify.custom=ue;function xe(F,J){if(!F){var ie=new Error("Promise was rejected with a falsy value");ie.reason=F,F=ie}return J(F)}function we(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');function J(){for(var ie=[],fe=0;fe<arguments.length;fe++)ie.push(arguments[fe]);var Q=ie.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var $=this,V=function(){return Q.apply($,arguments)};F.apply(this,ie).then(function(te){Ft.nextTick(V.bind(null,null,te))},function(te){Ft.nextTick(xe.bind(null,te,V))})}return Object.setPrototypeOf(J,Object.getPrototypeOf(F)),Object.defineProperties(J,e(F)),J}t.callbackify=we}(V_)),V_}var BE,sD;function JAe(){if(sD)return BE;sD=1;function t(p,h){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(p);h&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable})),y.push.apply(y,m)}return y}function e(p){for(var h=1;h<arguments.length;h++){var y=arguments[h]!=null?arguments[h]:{};h%2?t(Object(y),!0).forEach(function(m){r(p,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):t(Object(y)).forEach(function(m){Object.defineProperty(p,m,Object.getOwnPropertyDescriptor(y,m))})}return p}function r(p,h,y){return h in p?Object.defineProperty(p,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[h]=y,p}function n(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function i(p,h){for(var y=0;y<h.length;y++){var m=h[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}function a(p,h,y){return h&&i(p.prototype,h),p}var s=M2(),o=s.Buffer,l=rG(),c=l.inspect,u=c&&c.custom||"inspect";function f(p,h,y){o.prototype.copy.call(p,h,y)}return BE=function(){function p(){n(this,p),this.head=null,this.tail=null,this.length=0}return a(p,[{key:"push",value:function(y){var m={data:y,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(y){var m={data:y,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var m=this.head,w=""+m.data;m=m.next;)w+=y+m.data;return w}},{key:"concat",value:function(y){if(this.length===0)return o.alloc(0);for(var m=o.allocUnsafe(y>>>0),w=this.head,g=0;w;)f(w.data,m,g),g+=w.data.length,w=w.next;return m}},{key:"consume",value:function(y,m){var w;return y<this.head.data.length?(w=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?w=this.shift():w=m?this._getString(y):this._getBuffer(y),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var m=this.head,w=1,g=m.data;for(y-=g.length;m=m.next;){var v=m.data,x=y>v.length?v.length:y;if(x===v.length?g+=v:g+=v.slice(0,y),y-=x,y===0){x===v.length?(++w,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=v.slice(x));break}++w}return this.length-=w,g}},{key:"_getBuffer",value:function(y){var m=o.allocUnsafe(y),w=this.head,g=1;for(w.data.copy(m),y-=w.data.length;w=w.next;){var v=w.data,x=y>v.length?v.length:y;if(v.copy(m,m.length-y,0,x),y-=x,y===0){x===v.length?(++g,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=v.slice(x));break}++g}return this.length-=g,m}},{key:u,value:function(y,m){return c(this,e({},m,{depth:0,customInspect:!1}))}}]),p}(),BE}var UE,oD;function nG(){if(oD)return UE;oD=1;function t(s,o){var l=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(o?o(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ft.nextTick(i,this,s)):Ft.nextTick(i,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(f){!o&&f?l._writableState?l._writableState.errorEmitted?Ft.nextTick(r,l):(l._writableState.errorEmitted=!0,Ft.nextTick(e,l,f)):Ft.nextTick(e,l,f):o?(Ft.nextTick(r,l),o(f)):Ft.nextTick(r,l)}),this)}function e(s,o){i(s,o),r(s)}function r(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(s,o){s.emit("error",o)}function a(s,o){var l=s._readableState,c=s._writableState;l&&l.autoDestroy||c&&c.autoDestroy?s.destroy(o):s.emit("error",o)}return UE={destroy:t,undestroy:n,errorOrDestroy:a},UE}var $E={},lD;function Vm(){if(lD)return $E;lD=1;function t(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var e={};function r(o,l,c){c||(c=Error);function u(p,h,y){return typeof l=="string"?l:l(p,h,y)}var f=function(p){t(h,p);function h(y,m,w){return p.call(this,u(y,m,w))||this}return h}(c);f.prototype.name=c.name,f.prototype.code=o,e[o]=f}function n(o,l){if(Array.isArray(o)){var c=o.length;return o=o.map(function(u){return String(u)}),c>2?"one of ".concat(l," ").concat(o.slice(0,c-1).join(", "),", or ")+o[c-1]:c===2?"one of ".concat(l," ").concat(o[0]," or ").concat(o[1]):"of ".concat(l," ").concat(o[0])}else return"of ".concat(l," ").concat(String(o))}function i(o,l,c){return o.substr(0,l.length)===l}function a(o,l,c){return(c===void 0||c>o.length)&&(c=o.length),o.substring(c-l.length,c)===l}function s(o,l,c){return typeof c!="number"&&(c=0),c+l.length>o.length?!1:o.indexOf(l,c)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,l){return'The value "'+l+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,l,c){var u;typeof l=="string"&&i(l,"not ")?(u="must not be",l=l.replace(/^not /,"")):u="must be";var f;if(a(o," argument"))f="The ".concat(o," ").concat(u," ").concat(n(l,"type"));else{var p=s(o,".")?"property":"argument";f='The "'.concat(o,'" ').concat(p," ").concat(u," ").concat(n(l,"type"))}return f+=". Received type ".concat(typeof c),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),$E.codes=e,$E}var VE,cD;function iG(){if(cD)return VE;cD=1;var t=Vm().codes.ERR_INVALID_OPT_VALUE;function e(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,s){var o=e(i,s,a);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var l=s?a:"highWaterMark";throw new t(l,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return VE={getHighWaterMark:r},VE}var zE,uD;function QAe(){if(uD)return zE;uD=1,zE=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function a(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return a}function e(r){try{if(!rl.localStorage)return!1}catch{return!1}var n=rl.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return zE}var qE,dD;function aG(){if(dD)return qE;dD=1,qE=k;function t(Q){var $=this;this.next=null,this.entry=null,this.finish=function(){fe($,Q)}}var e;k.WritableState=C;var r={deprecate:QAe()},n=HH(),i=M2().Buffer,a=rl.Uint8Array||function(){};function s(Q){return i.from(Q)}function o(Q){return i.isBuffer(Q)||Q instanceof a}var l=nG(),c=iG(),u=c.getHighWaterMark,f=Vm().codes,p=f.ERR_INVALID_ARG_TYPE,h=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,w=f.ERR_STREAM_DESTROYED,g=f.ERR_STREAM_NULL_VALUES,v=f.ERR_STREAM_WRITE_AFTER_END,x=f.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;Ad()(k,n);function S(){}function C(Q,$,V){e=e||dm(),Q=Q||{},typeof V!="boolean"&&(V=$ instanceof e),this.objectMode=!!Q.objectMode,V&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=u(this,Q,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=Q.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ae){pe($,ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}C.prototype.getBuffer=function(){for(var $=this.bufferedRequest,V=[];$;)V.push($),$=$.next;return V},function(){try{Object.defineProperty(C.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var P;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function($){return P.call(this,$)?!0:this!==k?!1:$&&$._writableState instanceof C}})):P=function($){return $ instanceof this};function k(Q){e=e||dm();var $=this instanceof e;if(!$&&!P.call(k,this))return new k(Q);this._writableState=new C(Q,this,$),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),n.call(this)}k.prototype.pipe=function(){E(this,new m)};function T(Q,$){var V=new v;E(Q,V),Ft.nextTick($,V)}function W(Q,$,V,te){var ae;return V===null?ae=new g:typeof V!="string"&&!$.objectMode&&(ae=new p("chunk",["string","Buffer"],V)),ae?(E(Q,ae),Ft.nextTick(te,ae),!1):!0}k.prototype.write=function(Q,$,V){var te=this._writableState,ae=!1,Z=!te.objectMode&&o(Q);return Z&&!i.isBuffer(Q)&&(Q=s(Q)),typeof $=="function"&&(V=$,$=null),Z?$="buffer":$||($=te.defaultEncoding),typeof V!="function"&&(V=S),te.ending?T(this,V):(Z||W(this,te,Q,V))&&(te.pendingcb++,ae=A(this,te,Z,Q,$,V)),ae},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,!Q.writing&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&ue(this,Q))},k.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new x($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function M(Q,$,V){return!Q.objectMode&&Q.decodeStrings!==!1&&typeof $=="string"&&($=i.from($,V)),$}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function A(Q,$,V,te,ae,Z){if(!V){var ee=M($,te,ae);te!==ee&&(V=!0,ae="buffer",te=ee)}var _e=$.objectMode?1:te.length;$.length+=_e;var H=$.length<$.highWaterMark;if(H||($.needDrain=!0),$.writing||$.corked){var ve=$.lastBufferedRequest;$.lastBufferedRequest={chunk:te,encoding:ae,isBuf:V,callback:Z,next:null},ve?ve.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else I(Q,$,!1,_e,te,ae,Z);return H}function I(Q,$,V,te,ae,Z,ee){$.writelen=te,$.writecb=ee,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new w("write")):V?Q._writev(ae,$.onwrite):Q._write(ae,Z,$.onwrite),$.sync=!1}function L(Q,$,V,te,ae){--$.pendingcb,V?(Ft.nextTick(ae,te),Ft.nextTick(J,Q,$),Q._writableState.errorEmitted=!0,E(Q,te)):(ae(te),Q._writableState.errorEmitted=!0,E(Q,te),J(Q,$))}function se(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function pe(Q,$){var V=Q._writableState,te=V.sync,ae=V.writecb;if(typeof ae!="function")throw new y;if(se(V),$)L(Q,V,te,$,ae);else{var Z=xe(V)||Q.destroyed;!Z&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&ue(Q,V),te?Ft.nextTick(X,Q,V,Z,ae):X(Q,V,Z,ae)}}function X(Q,$,V,te){V||ce(Q,$),$.pendingcb--,te(),J(Q,$)}function ce(Q,$){$.length===0&&$.needDrain&&($.needDrain=!1,Q.emit("drain"))}function ue(Q,$){$.bufferProcessing=!0;var V=$.bufferedRequest;if(Q._writev&&V&&V.next){var te=$.bufferedRequestCount,ae=new Array(te),Z=$.corkedRequestsFree;Z.entry=V;for(var ee=0,_e=!0;V;)ae[ee]=V,V.isBuf||(_e=!1),V=V.next,ee+=1;ae.allBuffers=_e,I(Q,$,!0,$.length,ae,"",Z.finish),$.pendingcb++,$.lastBufferedRequest=null,Z.next?($.corkedRequestsFree=Z.next,Z.next=null):$.corkedRequestsFree=new t($),$.bufferedRequestCount=0}else{for(;V;){var H=V.chunk,ve=V.encoding,B=V.callback,j=$.objectMode?1:H.length;if(I(Q,$,!1,j,H,ve,B),V=V.next,$.bufferedRequestCount--,$.writing)break}V===null&&($.lastBufferedRequest=null)}$.bufferedRequest=V,$.bufferProcessing=!1}k.prototype._write=function(Q,$,V){V(new h("_write()"))},k.prototype._writev=null,k.prototype.end=function(Q,$,V){var te=this._writableState;return typeof Q=="function"?(V=Q,Q=null,$=null):typeof $=="function"&&(V=$,$=null),Q!=null&&this.write(Q,$),te.corked&&(te.corked=1,this.uncork()),te.ending||ie(this,te,V),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function xe(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function we(Q,$){Q._final(function(V){$.pendingcb--,V&&E(Q,V),$.prefinished=!0,Q.emit("prefinish"),J(Q,$)})}function F(Q,$){!$.prefinished&&!$.finalCalled&&(typeof Q._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,Ft.nextTick(we,Q,$)):($.prefinished=!0,Q.emit("prefinish")))}function J(Q,$){var V=xe($);if(V&&(F(Q,$),$.pendingcb===0&&($.finished=!0,Q.emit("finish"),$.autoDestroy))){var te=Q._readableState;(!te||te.autoDestroy&&te.endEmitted)&&Q.destroy()}return V}function ie(Q,$,V){$.ending=!0,J(Q,$),V&&($.finished?Ft.nextTick(V):Q.once("finish",V)),$.ended=!0,Q.writable=!1}function fe(Q,$,V){var te=Q.entry;for(Q.entry=null;te;){var ae=te.callback;$.pendingcb--,ae(V),te=te.next}$.corkedRequestsFree.next=Q}return Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),k.prototype.destroy=l.destroy,k.prototype._undestroy=l.undestroy,k.prototype._destroy=function(Q,$){$(Q)},qE}var WE,fD;function dm(){if(fD)return WE;fD=1;var t=Object.keys||function(c){var u=[];for(var f in c)u.push(f);return u};WE=s;var e=sG(),r=aG();Ad()(s,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var a=n[i];s.prototype[a]||(s.prototype[a]=r.prototype[a])}function s(c){if(!(this instanceof s))return new s(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||Ft.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),WE}var HE={},a1={exports:{}},hD;function ZAe(){return hD||(hD=1,function(t,e){var r=M2(),n=r.Buffer;function i(s,o){for(var l in s)o[l]=s[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a);function a(s,o,l){return n(s,o,l)}i(n,a),a.from=function(s,o,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,l)},a.alloc=function(s,o,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=n(s);return o!==void 0?typeof l=="string"?c.fill(o,l):c.fill(o):c.fill(0),c},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}(a1,a1.exports)),a1.exports}var pD;function g4(){if(pD)return HE;pD=1;var t=ZAe().Buffer,e=t.isEncoding||function(g){switch(g=""+g,g&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(g){if(!g)return"utf8";for(var v;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(v)return;g=(""+g).toLowerCase(),v=!0}}function n(g){var v=r(g);if(typeof v!="string"&&(t.isEncoding===e||!e(g)))throw new Error("Unknown encoding: "+g);return v||g}HE.StringDecoder=i;function i(g){this.encoding=n(g);var v;switch(this.encoding){case"utf16le":this.text=f,this.end=p,v=4;break;case"utf8":this.fillLast=l,v=4;break;case"base64":this.text=h,this.end=y,v=3;break;default:this.write=m,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(v)}i.prototype.write=function(g){if(g.length===0)return"";var v,x;if(this.lastNeed){if(v=this.fillLast(g),v===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<g.length?v?v+this.text(g,x):this.text(g,x):v||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length};function a(g){return g<=127?0:g>>5===6?2:g>>4===14?3:g>>3===30?4:g>>6===2?-1:-2}function s(g,v,x){var E=v.length-1;if(E<x)return 0;var S=a(v[E]);return S>=0?(S>0&&(g.lastNeed=S-1),S):--E<x||S===-2?0:(S=a(v[E]),S>=0?(S>0&&(g.lastNeed=S-2),S):--E<x||S===-2?0:(S=a(v[E]),S>=0?(S>0&&(S===2?S=0:g.lastNeed=S-3),S):0))}function o(g,v,x){if((v[0]&192)!==128)return g.lastNeed=0,"�";if(g.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return g.lastNeed=1,"�";if(g.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return g.lastNeed=2,"�"}}function l(g){var v=this.lastTotal-this.lastNeed,x=o(this,g);if(x!==void 0)return x;if(this.lastNeed<=g.length)return g.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,v,0,g.length),this.lastNeed-=g.length}function c(g,v){var x=s(this,g,v);if(!this.lastNeed)return g.toString("utf8",v);this.lastTotal=x;var E=g.length-(x-this.lastNeed);return g.copy(this.lastChar,0,E),g.toString("utf8",v,E)}function u(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+"�":v}function f(g,v){if((g.length-v)%2===0){var x=g.toString("utf16le",v);if(x){var E=x.charCodeAt(x.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",v,g.length-1)}function p(g){var v=g&&g.length?this.write(g):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,x)}return v}function h(g,v){var x=(g.length-v)%3;return x===0?g.toString("base64",v):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",v,g.length-x))}function y(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function m(g){return g.toString(this.encoding)}function w(g){return g&&g.length?this.write(g):""}return HE}var GE,mD;function FC(){if(mD)return GE;mD=1;var t=Vm().codes.ERR_STREAM_PREMATURE_CLOSE;function e(a){var s=!1;return function(){if(!s){s=!0;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];a.apply(this,l)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,s,o){if(typeof s=="function")return i(a,null,s);s||(s={}),o=e(o||r);var l=s.readable||s.readable!==!1&&a.readable,c=s.writable||s.writable!==!1&&a.writable,u=function(){a.writable||p()},f=a._writableState&&a._writableState.finished,p=function(){c=!1,f=!0,l||o.call(a)},h=a._readableState&&a._readableState.endEmitted,y=function(){l=!1,h=!0,c||o.call(a)},m=function(x){o.call(a,x)},w=function(){var x;if(l&&!h)return(!a._readableState||!a._readableState.ended)&&(x=new t),o.call(a,x);if(c&&!f)return(!a._writableState||!a._writableState.ended)&&(x=new t),o.call(a,x)},g=function(){a.req.on("finish",p)};return n(a)?(a.on("complete",p),a.on("abort",w),a.req?g():a.on("request",g)):c&&!a._writableState&&(a.on("end",u),a.on("close",u)),a.on("end",y),a.on("finish",p),s.error!==!1&&a.on("error",m),a.on("close",w),function(){a.removeListener("complete",p),a.removeListener("abort",w),a.removeListener("request",g),a.req&&a.req.removeListener("finish",p),a.removeListener("end",u),a.removeListener("close",u),a.removeListener("finish",p),a.removeListener("end",y),a.removeListener("error",m),a.removeListener("close",w)}}return GE=i,GE}var KE,gD;function eSe(){if(gD)return KE;gD=1;var t;function e(g,v,x){return v in g?Object.defineProperty(g,v,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[v]=x,g}var r=FC(),n=Symbol("lastResolve"),i=Symbol("lastReject"),a=Symbol("error"),s=Symbol("ended"),o=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(g,v){return{value:g,done:v}}function f(g){var v=g[n];if(v!==null){var x=g[c].read();x!==null&&(g[o]=null,g[n]=null,g[i]=null,v(u(x,!1)))}}function p(g){Ft.nextTick(f,g)}function h(g,v){return function(x,E){g.then(function(){if(v[s]){x(u(void 0,!0));return}v[l](x,E)},E)}}var y=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var v=this,x=this[a];if(x!==null)return Promise.reject(x);if(this[s])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise(function(P,k){Ft.nextTick(function(){v[a]?k(v[a]):P(u(void 0,!0))})});var E=this[o],S;if(E)S=new Promise(h(E,this));else{var C=this[c].read();if(C!==null)return Promise.resolve(u(C,!1));S=new Promise(this[l])}return this[o]=S,S}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var v=this;return new Promise(function(x,E){v[c].destroy(null,function(S){if(S){E(S);return}x(u(void 0,!0))})})}),t),y),w=function(v){var x,E=Object.create(m,(x={},e(x,c,{value:v,writable:!0}),e(x,n,{value:null,writable:!0}),e(x,i,{value:null,writable:!0}),e(x,a,{value:null,writable:!0}),e(x,s,{value:v._readableState.endEmitted,writable:!0}),e(x,l,{value:function(C,P){var k=E[c].read();k?(E[o]=null,E[n]=null,E[i]=null,C(u(k,!1))):(E[n]=C,E[i]=P)},writable:!0}),x));return E[o]=null,r(v,function(S){if(S&&S.code!=="ERR_STREAM_PREMATURE_CLOSE"){var C=E[i];C!==null&&(E[o]=null,E[n]=null,E[i]=null,C(S)),E[a]=S;return}var P=E[n];P!==null&&(E[o]=null,E[n]=null,E[i]=null,P(u(void 0,!0))),E[s]=!0}),v.on("readable",p.bind(null,E)),E};return KE=w,KE}var YE,yD;function tSe(){return yD||(yD=1,YE=function(){throw new Error("Readable.from is not available in the browser")}),YE}var XE,vD;function sG(){if(vD)return XE;vD=1,XE=T;var t;T.ReadableState=k,RC().EventEmitter;var e=function(ee,_e){return ee.listeners(_e).length},r=HH(),n=M2().Buffer,i=rl.Uint8Array||function(){};function a(Z){return n.from(Z)}function s(Z){return n.isBuffer(Z)||Z instanceof i}var o=rG(),l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var c=JAe(),u=nG(),f=iG(),p=f.getHighWaterMark,h=Vm().codes,y=h.ERR_INVALID_ARG_TYPE,m=h.ERR_STREAM_PUSH_AFTER_EOF,w=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,x,E;Ad()(T,r);var S=u.errorOrDestroy,C=["error","close","destroy","pause","resume"];function P(Z,ee,_e){if(typeof Z.prependListener=="function")return Z.prependListener(ee,_e);!Z._events||!Z._events[ee]?Z.on(ee,_e):Array.isArray(Z._events[ee])?Z._events[ee].unshift(_e):Z._events[ee]=[_e,Z._events[ee]]}function k(Z,ee,_e){t=t||dm(),Z=Z||{},typeof _e!="boolean"&&(_e=ee instanceof t),this.objectMode=!!Z.objectMode,_e&&(this.objectMode=this.objectMode||!!Z.readableObjectMode),this.highWaterMark=p(this,Z,"readableHighWaterMark",_e),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(v||(v=g4().StringDecoder),this.decoder=new v(Z.encoding),this.encoding=Z.encoding)}function T(Z){if(t=t||dm(),!(this instanceof T))return new T(Z);var ee=this instanceof t;this._readableState=new k(Z,this,ee),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),r.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ee){this._readableState&&(this._readableState.destroyed=ee)}}),T.prototype.destroy=u.destroy,T.prototype._undestroy=u.undestroy,T.prototype._destroy=function(Z,ee){ee(Z)},T.prototype.push=function(Z,ee){var _e=this._readableState,H;return _e.objectMode?H=!0:typeof Z=="string"&&(ee=ee||_e.defaultEncoding,ee!==_e.encoding&&(Z=n.from(Z,ee),ee=""),H=!0),W(this,Z,ee,!1,H)},T.prototype.unshift=function(Z){return W(this,Z,null,!0,!1)};function W(Z,ee,_e,H,ve){l("readableAddChunk",ee);var B=Z._readableState;if(ee===null)B.reading=!1,pe(Z,B);else{var j;if(ve||(j=A(B,ee)),j)S(Z,j);else if(B.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!B.objectMode&&Object.getPrototypeOf(ee)!==n.prototype&&(ee=a(ee)),H)B.endEmitted?S(Z,new g):M(Z,B,ee,!0);else if(B.ended)S(Z,new m);else{if(B.destroyed)return!1;B.reading=!1,B.decoder&&!_e?(ee=B.decoder.write(ee),B.objectMode||ee.length!==0?M(Z,B,ee,!1):ue(Z,B)):M(Z,B,ee,!1)}else H||(B.reading=!1,ue(Z,B))}return!B.ended&&(B.length<B.highWaterMark||B.length===0)}function M(Z,ee,_e,H){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,Z.emit("data",_e)):(ee.length+=ee.objectMode?1:_e.length,H?ee.buffer.unshift(_e):ee.buffer.push(_e),ee.needReadable&&X(Z)),ue(Z,ee)}function A(Z,ee){var _e;return!s(ee)&&typeof ee!="string"&&ee!==void 0&&!Z.objectMode&&(_e=new y("chunk",["string","Buffer","Uint8Array"],ee)),_e}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(Z){v||(v=g4().StringDecoder);var ee=new v(Z);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var _e=this._readableState.buffer.head,H="";_e!==null;)H+=ee.write(_e.data),_e=_e.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this};var I=1073741824;function L(Z){return Z>=I?Z=I:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function se(Z,ee){return Z<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:Z!==Z?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(Z>ee.highWaterMark&&(ee.highWaterMark=L(Z)),Z<=ee.length?Z:ee.ended?ee.length:(ee.needReadable=!0,0))}T.prototype.read=function(Z){l("read",Z),Z=parseInt(Z,10);var ee=this._readableState,_e=Z;if(Z!==0&&(ee.emittedReadable=!1),Z===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return l("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?V(this):X(this),null;if(Z=se(Z,ee),Z===0&&ee.ended)return ee.length===0&&V(this),null;var H=ee.needReadable;l("need readable",H),(ee.length===0||ee.length-Z<ee.highWaterMark)&&(H=!0,l("length less than watermark",H)),ee.ended||ee.reading?(H=!1,l("reading or ended",H)):H&&(l("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(Z=se(_e,ee)));var ve;return Z>0?ve=$(Z,ee):ve=null,ve===null?(ee.needReadable=ee.length<=ee.highWaterMark,Z=0):(ee.length-=Z,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),_e!==Z&&ee.ended&&V(this)),ve!==null&&this.emit("data",ve),ve};function pe(Z,ee){if(l("onEofChunk"),!ee.ended){if(ee.decoder){var _e=ee.decoder.end();_e&&_e.length&&(ee.buffer.push(_e),ee.length+=ee.objectMode?1:_e.length)}ee.ended=!0,ee.sync?X(Z):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,ce(Z)))}}function X(Z){var ee=Z._readableState;l("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(l("emitReadable",ee.flowing),ee.emittedReadable=!0,Ft.nextTick(ce,Z))}function ce(Z){var ee=Z._readableState;l("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(Z.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,Q(Z)}function ue(Z,ee){ee.readingMore||(ee.readingMore=!0,Ft.nextTick(xe,Z,ee))}function xe(Z,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var _e=ee.length;if(l("maybeReadMore read 0"),Z.read(0),_e===ee.length)break}ee.readingMore=!1}T.prototype._read=function(Z){S(this,new w("_read()"))},T.prototype.pipe=function(Z,ee){var _e=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=Z;break;case 1:H.pipes=[H.pipes,Z];break;default:H.pipes.push(Z);break}H.pipesCount+=1,l("pipe count=%d opts=%j",H.pipesCount,ee);var ve=(!ee||ee.end!==!1)&&Z!==Ft.stdout&&Z!==Ft.stderr,B=ve?R:Ie;H.endEmitted?Ft.nextTick(B):_e.once("end",B),Z.on("unpipe",j);function j(Fe,Ke){l("onunpipe"),Fe===_e&&Ke&&Ke.hasUnpiped===!1&&(Ke.hasUnpiped=!0,ne())}function R(){l("onend"),Z.end()}var q=we(_e);Z.on("drain",q);var G=!1;function ne(){l("cleanup"),Z.removeListener("close",Ne),Z.removeListener("finish",Se),Z.removeListener("drain",q),Z.removeListener("error",Ae),Z.removeListener("unpipe",j),_e.removeListener("end",R),_e.removeListener("end",Ie),_e.removeListener("data",re),G=!0,H.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&q()}_e.on("data",re);function re(Fe){l("ondata");var Ke=Z.write(Fe);l("dest.write",Ke),Ke===!1&&((H.pipesCount===1&&H.pipes===Z||H.pipesCount>1&&ae(H.pipes,Z)!==-1)&&!G&&(l("false write response, pause",H.awaitDrain),H.awaitDrain++),_e.pause())}function Ae(Fe){l("onerror",Fe),Ie(),Z.removeListener("error",Ae),e(Z,"error")===0&&S(Z,Fe)}P(Z,"error",Ae);function Ne(){Z.removeListener("finish",Se),Ie()}Z.once("close",Ne);function Se(){l("onfinish"),Z.removeListener("close",Ne),Ie()}Z.once("finish",Se);function Ie(){l("unpipe"),_e.unpipe(Z)}return Z.emit("pipe",_e),H.flowing||(l("pipe resume"),_e.resume()),Z};function we(Z){return function(){var _e=Z._readableState;l("pipeOnDrain",_e.awaitDrain),_e.awaitDrain&&_e.awaitDrain--,_e.awaitDrain===0&&e(Z,"data")&&(_e.flowing=!0,Q(Z))}}T.prototype.unpipe=function(Z){var ee=this._readableState,_e={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return Z&&Z!==ee.pipes?this:(Z||(Z=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,Z&&Z.emit("unpipe",this,_e),this);if(!Z){var H=ee.pipes,ve=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var B=0;B<ve;B++)H[B].emit("unpipe",this,{hasUnpiped:!1});return this}var j=ae(ee.pipes,Z);return j===-1?this:(ee.pipes.splice(j,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),Z.emit("unpipe",this,_e),this)},T.prototype.on=function(Z,ee){var _e=r.prototype.on.call(this,Z,ee),H=this._readableState;return Z==="data"?(H.readableListening=this.listenerCount("readable")>0,H.flowing!==!1&&this.resume()):Z==="readable"&&!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,l("on readable",H.length,H.reading),H.length?X(this):H.reading||Ft.nextTick(J,this)),_e},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(Z,ee){var _e=r.prototype.removeListener.call(this,Z,ee);return Z==="readable"&&Ft.nextTick(F,this),_e},T.prototype.removeAllListeners=function(Z){var ee=r.prototype.removeAllListeners.apply(this,arguments);return(Z==="readable"||Z===void 0)&&Ft.nextTick(F,this),ee};function F(Z){var ee=Z._readableState;ee.readableListening=Z.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:Z.listenerCount("data")>0&&Z.resume()}function J(Z){l("readable nexttick read 0"),Z.read(0)}T.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(l("resume"),Z.flowing=!Z.readableListening,ie(this,Z)),Z.paused=!1,this};function ie(Z,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,Ft.nextTick(fe,Z,ee))}function fe(Z,ee){l("resume",ee.reading),ee.reading||Z.read(0),ee.resumeScheduled=!1,Z.emit("resume"),Q(Z),ee.flowing&&!ee.reading&&Z.read(0)}T.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Q(Z){var ee=Z._readableState;for(l("flow",ee.flowing);ee.flowing&&Z.read()!==null;);}T.prototype.wrap=function(Z){var ee=this,_e=this._readableState,H=!1;Z.on("end",function(){if(l("wrapped end"),_e.decoder&&!_e.ended){var j=_e.decoder.end();j&&j.length&&ee.push(j)}ee.push(null)}),Z.on("data",function(j){if(l("wrapped data"),_e.decoder&&(j=_e.decoder.write(j)),!(_e.objectMode&&j==null)&&!(!_e.objectMode&&(!j||!j.length))){var R=ee.push(j);R||(H=!0,Z.pause())}});for(var ve in Z)this[ve]===void 0&&typeof Z[ve]=="function"&&(this[ve]=function(R){return function(){return Z[R].apply(Z,arguments)}}(ve));for(var B=0;B<C.length;B++)Z.on(C[B],this.emit.bind(this,C[B]));return this._read=function(j){l("wrapped _read",j),H&&(H=!1,Z.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=eSe()),x(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}}),T._fromList=$,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(Z,ee){if(ee.length===0)return null;var _e;return ee.objectMode?_e=ee.buffer.shift():!Z||Z>=ee.length?(ee.decoder?_e=ee.buffer.join(""):ee.buffer.length===1?_e=ee.buffer.first():_e=ee.buffer.concat(ee.length),ee.buffer.clear()):_e=ee.buffer.consume(Z,ee.decoder),_e}function V(Z){var ee=Z._readableState;l("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,Ft.nextTick(te,ee,Z))}function te(Z,ee){if(l("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,ee.readable=!1,ee.emit("end"),Z.autoDestroy)){var _e=ee._writableState;(!_e||_e.autoDestroy&&_e.finished)&&ee.destroy()}}typeof Symbol=="function"&&(T.from=function(Z,ee){return E===void 0&&(E=tSe()),E(T,Z,ee)});function ae(Z,ee){for(var _e=0,H=Z.length;_e<H;_e++)if(Z[_e]===ee)return _e;return-1}return XE}var JE,wD;function oG(){if(wD)return JE;wD=1,JE=o;var t=Vm().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=dm();Ad()(o,a);function s(u,f){var p=this._transformState;p.transforming=!1;var h=p.writecb;if(h===null)return this.emit("error",new r);p.writechunk=null,p.writecb=null,f!=null&&this.push(f),h(u);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function o(u){if(!(this instanceof o))return new o(u);a.call(this,u),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function l(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,p){c(u,f,p)}):c(this,null,null)}o.prototype.push=function(u,f){return this._transformState.needTransform=!1,a.prototype.push.call(this,u,f)},o.prototype._transform=function(u,f,p){p(new e("_transform()"))},o.prototype._write=function(u,f,p){var h=this._transformState;if(h.writecb=p,h.writechunk=u,h.writeencoding=f,!h.transforming){var y=this._readableState;(h.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},o.prototype._read=function(u){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},o.prototype._destroy=function(u,f){a.prototype._destroy.call(this,u,function(p){f(p)})};function c(u,f,p){if(f)return u.emit("error",f);if(p!=null&&u.push(p),u._writableState.length)throw new i;if(u._transformState.transforming)throw new n;return u.push(null)}return JE}var QE,bD;function rSe(){if(bD)return QE;bD=1,QE=e;var t=oG();Ad()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},QE}var ZE,xD;function nSe(){if(xD)return ZE;xD=1;var t;function e(p){var h=!1;return function(){h||(h=!0,p.apply(void 0,arguments))}}var r=Vm().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(p){if(p)throw p}function s(p){return p.setHeader&&typeof p.abort=="function"}function o(p,h,y,m){m=e(m);var w=!1;p.on("close",function(){w=!0}),t===void 0&&(t=FC()),t(p,{readable:h,writable:y},function(v){if(v)return m(v);w=!0,m()});var g=!1;return function(v){if(!w&&!g){if(g=!0,s(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();m(v||new i("pipe"))}}}function l(p){p()}function c(p,h){return p.pipe(h)}function u(p){return!p.length||typeof p[p.length-1]!="function"?a:p.pop()}function f(){for(var p=arguments.length,h=new Array(p),y=0;y<p;y++)h[y]=arguments[y];var m=u(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var w,g=h.map(function(v,x){var E=x<h.length-1,S=x>0;return o(v,E,S,function(C){w||(w=C),C&&g.forEach(l),!E&&(g.forEach(l),m(w))})});return h.reduce(c)}return ZE=f,ZE}var eA,_D;function BC(){if(_D)return eA;_D=1,eA=r;var t=RC().EventEmitter,e=Ad();e(r,t),r.Readable=sG(),r.Writable=aG(),r.Duplex=dm(),r.Transform=oG(),r.PassThrough=rSe(),r.finished=FC(),r.pipeline=nSe(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,i){var a=this;function s(h){n.writable&&n.write(h)===!1&&a.pause&&a.pause()}a.on("data",s);function o(){a.readable&&a.resume&&a.resume()}n.on("drain",o),!n._isStdio&&(!i||i.end!==!1)&&(a.on("end",c),a.on("close",u));var l=!1;function c(){l||(l=!0,n.end())}function u(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function f(h){if(p(),t.listenerCount(this,"error")===0)throw h}a.on("error",f),n.on("error",f);function p(){a.removeListener("data",s),n.removeListener("drain",o),a.removeListener("end",c),a.removeListener("close",u),a.removeListener("error",f),n.removeListener("error",f),a.removeListener("end",p),a.removeListener("close",p),n.removeListener("close",p)}return a.on("end",p),a.on("close",p),n.on("close",p),n.emit("pipe",a),n},eA}var ED;function iSe(){return ED||(ED=1,function(t){(function(e){e.parser=function($,V){return new n($,V)},e.SAXParser=n,e.SAXStream=u,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n($,V){if(!(this instanceof n))return new n($,V);var te=this;a(te),te.q=te.c="",te.bufferCheckPosition=e.MAX_BUFFER_LENGTH,te.opt=V||{},te.opt.lowercase=te.opt.lowercase||te.opt.lowercasetags,te.looseCase=te.opt.lowercase?"toLowerCase":"toUpperCase",te.tags=[],te.closed=te.closedRoot=te.sawRoot=!1,te.tag=te.error=null,te.strict=!!$,te.noscript=!!($||te.opt.noscript),te.state=T.BEGIN,te.strictEntities=te.opt.strictEntities,te.ENTITIES=te.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),te.attribList=[],te.opt.xmlns&&(te.ns=Object.create(m)),te.trackPosition=te.opt.position!==!1,te.trackPosition&&(te.position=te.line=te.column=0),M(te,"onready")}Object.create||(Object.create=function($){function V(){}V.prototype=$;var te=new V;return te}),Object.keys||(Object.keys=function($){var V=[];for(var te in $)$.hasOwnProperty(te)&&V.push(te);return V});function i($){for(var V=Math.max(e.MAX_BUFFER_LENGTH,10),te=0,ae=0,Z=r.length;ae<Z;ae++){var ee=$[r[ae]].length;if(ee>V)switch(r[ae]){case"textNode":I($);break;case"cdata":A($,"oncdata",$.cdata),$.cdata="";break;case"script":A($,"onscript",$.script),$.script="";break;default:se($,"Max buffer length exceeded: "+r[ae])}te=Math.max(te,ee)}var _e=e.MAX_BUFFER_LENGTH-te;$.bufferCheckPosition=_e+$.position}function a($){for(var V=0,te=r.length;V<te;V++)$[r[V]]=""}function s($){I($),$.cdata!==""&&(A($,"oncdata",$.cdata),$.cdata=""),$.script!==""&&(A($,"onscript",$.script),$.script="")}n.prototype={end:function(){pe(this)},write:Q,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var o;try{o=BC().Stream}catch{o=function(){}}var l=e.EVENTS.filter(function($){return $!=="error"&&$!=="end"});function c($,V){return new u($,V)}function u($,V){if(!(this instanceof u))return new u($,V);o.apply(this),this._parser=new n($,V),this.writable=!0,this.readable=!0;var te=this;this._parser.onend=function(){te.emit("end")},this._parser.onerror=function(ae){te.emit("error",ae),te._parser.error=null},this._decoder=null,l.forEach(function(ae){Object.defineProperty(te,"on"+ae,{get:function(){return te._parser["on"+ae]},set:function(Z){if(!Z)return te.removeAllListeners(ae),te._parser["on"+ae]=Z,Z;te.on(ae,Z)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(o.prototype,{constructor:{value:u}}),u.prototype.write=function($){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer($)){if(!this._decoder){var V=g4().StringDecoder;this._decoder=new V("utf8")}$=this._decoder.write($)}return this._parser.write($.toString()),this.emit("data",$),!0},u.prototype.end=function($){return $&&$.length&&this.write($),this._parser.end(),!0},u.prototype.on=function($,V){var te=this;return!te._parser["on"+$]&&l.indexOf($)!==-1&&(te._parser["on"+$]=function(){var ae=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ae.splice(0,0,$),te.emit.apply(te,ae)}),o.prototype.on.call(te,$,V)};var f="[CDATA[",p="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",m={xml:h,xmlns:y},w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function E($){return $===" "||$===`
`||$==="\r"||$==="	"}function S($){return $==='"'||$==="'"}function C($){return $===">"||E($)}function P($,V){return $.test(V)}function k($,V){return!P($,V)}var T=0;e.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function($){var V=e.ENTITIES[$],te=typeof V=="number"?String.fromCharCode(V):V;e.ENTITIES[$]=te});for(var W in e.STATE)e.STATE[e.STATE[W]]=W;T=e.STATE;function M($,V,te){$[V]&&$[V](te)}function A($,V,te){$.textNode&&I($),M($,V,te)}function I($){$.textNode=L($.opt,$.textNode),$.textNode&&M($,"ontext",$.textNode),$.textNode=""}function L($,V){return $.trim&&(V=V.trim()),$.normalize&&(V=V.replace(/\s+/g," ")),V}function se($,V){return I($),$.trackPosition&&(V+=`
Line: `+$.line+`
Column: `+$.column+`
Char: `+$.c),V=new Error(V),$.error=V,M($,"onerror",V),$}function pe($){return $.sawRoot&&!$.closedRoot&&X($,"Unclosed root tag"),$.state!==T.BEGIN&&$.state!==T.BEGIN_WHITESPACE&&$.state!==T.TEXT&&se($,"Unexpected end"),I($),$.c="",$.closed=!0,M($,"onend"),n.call($,$.strict,$.opt),$}function X($,V){if(typeof $!="object"||!($ instanceof n))throw new Error("bad call to strictFail");$.strict&&se($,V)}function ce($){$.strict||($.tagName=$.tagName[$.looseCase]());var V=$.tags[$.tags.length-1]||$,te=$.tag={name:$.tagName,attributes:{}};$.opt.xmlns&&(te.ns=V.ns),$.attribList.length=0,A($,"onopentagstart",te)}function ue($,V){var te=$.indexOf(":"),ae=te<0?["",$]:$.split(":"),Z=ae[0],ee=ae[1];return V&&$==="xmlns"&&(Z="xmlns",ee=""),{prefix:Z,local:ee}}function xe($){if($.strict||($.attribName=$.attribName[$.looseCase]()),$.attribList.indexOf($.attribName)!==-1||$.tag.attributes.hasOwnProperty($.attribName)){$.attribName=$.attribValue="";return}if($.opt.xmlns){var V=ue($.attribName,!0),te=V.prefix,ae=V.local;if(te==="xmlns")if(ae==="xml"&&$.attribValue!==h)X($,"xml: prefix must be bound to "+h+`
Actual: `+$.attribValue);else if(ae==="xmlns"&&$.attribValue!==y)X($,"xmlns: prefix must be bound to "+y+`
Actual: `+$.attribValue);else{var Z=$.tag,ee=$.tags[$.tags.length-1]||$;Z.ns===ee.ns&&(Z.ns=Object.create(ee.ns)),Z.ns[ae]=$.attribValue}$.attribList.push([$.attribName,$.attribValue])}else $.tag.attributes[$.attribName]=$.attribValue,A($,"onattribute",{name:$.attribName,value:$.attribValue});$.attribName=$.attribValue=""}function we($,V){if($.opt.xmlns){var te=$.tag,ae=ue($.tagName);te.prefix=ae.prefix,te.local=ae.local,te.uri=te.ns[ae.prefix]||"",te.prefix&&!te.uri&&(X($,"Unbound namespace prefix: "+JSON.stringify($.tagName)),te.uri=ae.prefix);var Z=$.tags[$.tags.length-1]||$;te.ns&&Z.ns!==te.ns&&Object.keys(te.ns).forEach(function(re){A($,"onopennamespace",{prefix:re,uri:te.ns[re]})});for(var ee=0,_e=$.attribList.length;ee<_e;ee++){var H=$.attribList[ee],ve=H[0],B=H[1],j=ue(ve,!0),R=j.prefix,q=j.local,G=R===""?"":te.ns[R]||"",ne={name:ve,value:B,prefix:R,local:q,uri:G};R&&R!=="xmlns"&&!G&&(X($,"Unbound namespace prefix: "+JSON.stringify(R)),ne.uri=R),$.tag.attributes[ve]=ne,A($,"onattribute",ne)}$.attribList.length=0}$.tag.isSelfClosing=!!V,$.sawRoot=!0,$.tags.push($.tag),A($,"onopentag",$.tag),V||(!$.noscript&&$.tagName.toLowerCase()==="script"?$.state=T.SCRIPT:$.state=T.TEXT,$.tag=null,$.tagName=""),$.attribName=$.attribValue="",$.attribList.length=0}function F($){if(!$.tagName){X($,"Weird empty close tag."),$.textNode+="</>",$.state=T.TEXT;return}if($.script){if($.tagName!=="script"){$.script+="</"+$.tagName+">",$.tagName="",$.state=T.SCRIPT;return}A($,"onscript",$.script),$.script=""}var V=$.tags.length,te=$.tagName;$.strict||(te=te[$.looseCase]());for(var ae=te;V--;){var Z=$.tags[V];if(Z.name!==ae)X($,"Unexpected close tag");else break}if(V<0){X($,"Unmatched closing tag: "+$.tagName),$.textNode+="</"+$.tagName+">",$.state=T.TEXT;return}$.tagName=te;for(var ee=$.tags.length;ee-- >V;){var _e=$.tag=$.tags.pop();$.tagName=$.tag.name,A($,"onclosetag",$.tagName);var H={};for(var ve in _e.ns)H[ve]=_e.ns[ve];var B=$.tags[$.tags.length-1]||$;$.opt.xmlns&&_e.ns!==B.ns&&Object.keys(_e.ns).forEach(function(j){var R=_e.ns[j];A($,"onclosenamespace",{prefix:j,uri:R})})}V===0&&($.closedRoot=!0),$.tagName=$.attribValue=$.attribName="",$.attribList.length=0,$.state=T.TEXT}function J($){var V=$.entity,te=V.toLowerCase(),ae,Z="";return $.ENTITIES[V]?$.ENTITIES[V]:$.ENTITIES[te]?$.ENTITIES[te]:(V=te,V.charAt(0)==="#"&&(V.charAt(1)==="x"?(V=V.slice(2),ae=parseInt(V,16),Z=ae.toString(16)):(V=V.slice(1),ae=parseInt(V,10),Z=ae.toString(10))),V=V.replace(/^0+/,""),isNaN(ae)||Z.toLowerCase()!==V?(X($,"Invalid character entity"),"&"+$.entity+";"):String.fromCodePoint(ae))}function ie($,V){V==="<"?($.state=T.OPEN_WAKA,$.startTagPosition=$.position):E(V)||(X($,"Non-whitespace before first tag."),$.textNode=V,$.state=T.TEXT)}function fe($,V){var te="";return V<$.length&&(te=$.charAt(V)),te}function Q($){var V=this;if(this.error)throw this.error;if(V.closed)return se(V,"Cannot write after close. Assign an onready handler.");if($===null)return pe(V);typeof $=="object"&&($=$.toString());for(var te=0,ae="";ae=fe($,te++),V.c=ae,!!ae;)switch(V.trackPosition&&(V.position++,ae===`
`?(V.line++,V.column=0):V.column++),V.state){case T.BEGIN:if(V.state=T.BEGIN_WHITESPACE,ae==="\uFEFF")continue;ie(V,ae);continue;case T.BEGIN_WHITESPACE:ie(V,ae);continue;case T.TEXT:if(V.sawRoot&&!V.closedRoot){for(var Z=te-1;ae&&ae!=="<"&&ae!=="&";)ae=fe($,te++),ae&&V.trackPosition&&(V.position++,ae===`
`?(V.line++,V.column=0):V.column++);V.textNode+=$.substring(Z,te-1)}ae==="<"&&!(V.sawRoot&&V.closedRoot&&!V.strict)?(V.state=T.OPEN_WAKA,V.startTagPosition=V.position):(!E(ae)&&(!V.sawRoot||V.closedRoot)&&X(V,"Text data outside of root node."),ae==="&"?V.state=T.TEXT_ENTITY:V.textNode+=ae);continue;case T.SCRIPT:ae==="<"?V.state=T.SCRIPT_ENDING:V.script+=ae;continue;case T.SCRIPT_ENDING:ae==="/"?V.state=T.CLOSE_TAG:(V.script+="<"+ae,V.state=T.SCRIPT);continue;case T.OPEN_WAKA:if(ae==="!")V.state=T.SGML_DECL,V.sgmlDecl="";else if(!E(ae))if(P(w,ae))V.state=T.OPEN_TAG,V.tagName=ae;else if(ae==="/")V.state=T.CLOSE_TAG,V.tagName="";else if(ae==="?")V.state=T.PROC_INST,V.procInstName=V.procInstBody="";else{if(X(V,"Unencoded <"),V.startTagPosition+1<V.position){var ee=V.position-V.startTagPosition;ae=new Array(ee).join(" ")+ae}V.textNode+="<"+ae,V.state=T.TEXT}continue;case T.SGML_DECL:(V.sgmlDecl+ae).toUpperCase()===f?(A(V,"onopencdata"),V.state=T.CDATA,V.sgmlDecl="",V.cdata=""):V.sgmlDecl+ae==="--"?(V.state=T.COMMENT,V.comment="",V.sgmlDecl=""):(V.sgmlDecl+ae).toUpperCase()===p?(V.state=T.DOCTYPE,(V.doctype||V.sawRoot)&&X(V,"Inappropriately located doctype declaration"),V.doctype="",V.sgmlDecl=""):ae===">"?(A(V,"onsgmldeclaration",V.sgmlDecl),V.sgmlDecl="",V.state=T.TEXT):(S(ae)&&(V.state=T.SGML_DECL_QUOTED),V.sgmlDecl+=ae);continue;case T.SGML_DECL_QUOTED:ae===V.q&&(V.state=T.SGML_DECL,V.q=""),V.sgmlDecl+=ae;continue;case T.DOCTYPE:ae===">"?(V.state=T.TEXT,A(V,"ondoctype",V.doctype),V.doctype=!0):(V.doctype+=ae,ae==="["?V.state=T.DOCTYPE_DTD:S(ae)&&(V.state=T.DOCTYPE_QUOTED,V.q=ae));continue;case T.DOCTYPE_QUOTED:V.doctype+=ae,ae===V.q&&(V.q="",V.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:V.doctype+=ae,ae==="]"?V.state=T.DOCTYPE:S(ae)&&(V.state=T.DOCTYPE_DTD_QUOTED,V.q=ae);continue;case T.DOCTYPE_DTD_QUOTED:V.doctype+=ae,ae===V.q&&(V.state=T.DOCTYPE_DTD,V.q="");continue;case T.COMMENT:ae==="-"?V.state=T.COMMENT_ENDING:V.comment+=ae;continue;case T.COMMENT_ENDING:ae==="-"?(V.state=T.COMMENT_ENDED,V.comment=L(V.opt,V.comment),V.comment&&A(V,"oncomment",V.comment),V.comment=""):(V.comment+="-"+ae,V.state=T.COMMENT);continue;case T.COMMENT_ENDED:ae!==">"?(X(V,"Malformed comment"),V.comment+="--"+ae,V.state=T.COMMENT):V.state=T.TEXT;continue;case T.CDATA:ae==="]"?V.state=T.CDATA_ENDING:V.cdata+=ae;continue;case T.CDATA_ENDING:ae==="]"?V.state=T.CDATA_ENDING_2:(V.cdata+="]"+ae,V.state=T.CDATA);continue;case T.CDATA_ENDING_2:ae===">"?(V.cdata&&A(V,"oncdata",V.cdata),A(V,"onclosecdata"),V.cdata="",V.state=T.TEXT):ae==="]"?V.cdata+="]":(V.cdata+="]]"+ae,V.state=T.CDATA);continue;case T.PROC_INST:ae==="?"?V.state=T.PROC_INST_ENDING:E(ae)?V.state=T.PROC_INST_BODY:V.procInstName+=ae;continue;case T.PROC_INST_BODY:if(!V.procInstBody&&E(ae))continue;ae==="?"?V.state=T.PROC_INST_ENDING:V.procInstBody+=ae;continue;case T.PROC_INST_ENDING:ae===">"?(A(V,"onprocessinginstruction",{name:V.procInstName,body:V.procInstBody}),V.procInstName=V.procInstBody="",V.state=T.TEXT):(V.procInstBody+="?"+ae,V.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:P(g,ae)?V.tagName+=ae:(ce(V),ae===">"?we(V):ae==="/"?V.state=T.OPEN_TAG_SLASH:(E(ae)||X(V,"Invalid character in tag name"),V.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:ae===">"?(we(V,!0),F(V)):(X(V,"Forward-slash in opening tag not followed by >"),V.state=T.ATTRIB);continue;case T.ATTRIB:if(E(ae))continue;ae===">"?we(V):ae==="/"?V.state=T.OPEN_TAG_SLASH:P(w,ae)?(V.attribName=ae,V.attribValue="",V.state=T.ATTRIB_NAME):X(V,"Invalid attribute name");continue;case T.ATTRIB_NAME:ae==="="?V.state=T.ATTRIB_VALUE:ae===">"?(X(V,"Attribute without value"),V.attribValue=V.attribName,xe(V),we(V)):E(ae)?V.state=T.ATTRIB_NAME_SAW_WHITE:P(g,ae)?V.attribName+=ae:X(V,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if(ae==="=")V.state=T.ATTRIB_VALUE;else{if(E(ae))continue;X(V,"Attribute without value"),V.tag.attributes[V.attribName]="",V.attribValue="",A(V,"onattribute",{name:V.attribName,value:""}),V.attribName="",ae===">"?we(V):P(w,ae)?(V.attribName=ae,V.state=T.ATTRIB_NAME):(X(V,"Invalid attribute name"),V.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(E(ae))continue;S(ae)?(V.q=ae,V.state=T.ATTRIB_VALUE_QUOTED):(X(V,"Unquoted attribute value"),V.state=T.ATTRIB_VALUE_UNQUOTED,V.attribValue=ae);continue;case T.ATTRIB_VALUE_QUOTED:if(ae!==V.q){ae==="&"?V.state=T.ATTRIB_VALUE_ENTITY_Q:V.attribValue+=ae;continue}xe(V),V.q="",V.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:E(ae)?V.state=T.ATTRIB:ae===">"?we(V):ae==="/"?V.state=T.OPEN_TAG_SLASH:P(w,ae)?(X(V,"No whitespace between attributes"),V.attribName=ae,V.attribValue="",V.state=T.ATTRIB_NAME):X(V,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!C(ae)){ae==="&"?V.state=T.ATTRIB_VALUE_ENTITY_U:V.attribValue+=ae;continue}xe(V),ae===">"?we(V):V.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(V.tagName)ae===">"?F(V):P(g,ae)?V.tagName+=ae:V.script?(V.script+="</"+V.tagName,V.tagName="",V.state=T.SCRIPT):(E(ae)||X(V,"Invalid tagname in closing tag"),V.state=T.CLOSE_TAG_SAW_WHITE);else{if(E(ae))continue;k(w,ae)?V.script?(V.script+="</"+ae,V.state=T.SCRIPT):X(V,"Invalid tagname in closing tag."):V.tagName=ae}continue;case T.CLOSE_TAG_SAW_WHITE:if(E(ae))continue;ae===">"?F(V):X(V,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var _e,H;switch(V.state){case T.TEXT_ENTITY:_e=T.TEXT,H="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:_e=T.ATTRIB_VALUE_QUOTED,H="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:_e=T.ATTRIB_VALUE_UNQUOTED,H="attribValue";break}ae===";"?(V[H]+=J(V),V.entity="",V.state=_e):P(V.entity.length?x:v,ae)?V.entity+=ae:(X(V,"Invalid character in entity name"),V[H]+="&"+V.entity+ae,V.entity="",V.state=_e);continue;default:throw new Error(V,"Unknown state: "+V.state)}return V.position>=V.bufferCheckPosition&&i(V),V}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var $=String.fromCharCode,V=Math.floor,te=function(){var ae=16384,Z=[],ee,_e,H=-1,ve=arguments.length;if(!ve)return"";for(var B="";++H<ve;){var j=Number(arguments[H]);if(!isFinite(j)||j<0||j>1114111||V(j)!==j)throw RangeError("Invalid code point: "+j);j<=65535?Z.push(j):(j-=65536,ee=(j>>10)+55296,_e=j%1024+56320,Z.push(ee,_e)),(H+1===ve||Z.length>ae)&&(B+=$.apply(null,Z),Z.length=0)}return B};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:te,configurable:!0,writable:!0}):String.fromCodePoint=te}()})(t)}(B_)),B_}var tA,AD;function UC(){return AD||(AD=1,tA={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),tA}var rA,SD;function $C(){if(SD)return rA;SD=1;var t=UC().isArray;return rA={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},rA}var nA,ND;function lG(){if(ND)return nA;ND=1;var t=iSe(),e=$C(),r=UC().isArray,n,i;function a(g){return n=e.copyOptions(g),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function s(g){var v=Number(g);if(!isNaN(v))return v;var x=g.toLowerCase();return x==="true"?!0:x==="false"?!1:g}function o(g,v){var x;if(n.compact){if(!i[n[g+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[g+"Key"])!==-1:n.alwaysArray)&&(i[n[g+"Key"]]=[]),i[n[g+"Key"]]&&!r(i[n[g+"Key"]])&&(i[n[g+"Key"]]=[i[n[g+"Key"]]]),g+"Fn"in n&&typeof v=="string"&&(v=n[g+"Fn"](v,i)),g==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(x in v)if(v.hasOwnProperty(x))if("instructionFn"in n)v[x]=n.instructionFn(v[x],x,i);else{var E=v[x];delete v[x],v[n.instructionNameFn(x,E,i)]=E}}r(i[n[g+"Key"]])?i[n[g+"Key"]].push(v):i[n[g+"Key"]]=v}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var S={};if(S[n.typeKey]=g,g==="instruction"){for(x in v)if(v.hasOwnProperty(x))break;S[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(x,v,i):x,n.instructionHasAttributes?(S[n.attributesKey]=v[x][n.attributesKey],"instructionFn"in n&&(S[n.attributesKey]=n.instructionFn(S[n.attributesKey],x,i))):("instructionFn"in n&&(v[x]=n.instructionFn(v[x],x,i)),S[n.instructionKey]=v[x])}else g+"Fn"in n&&(v=n[g+"Fn"](v,i)),S[n[g+"Key"]]=v;n.addParent&&(S[n.parentKey]=i),i[n.elementsKey].push(S)}}function l(g){if("attributesFn"in n&&g&&(g=n.attributesFn(g,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&g){var v;for(v in g)if(g.hasOwnProperty(v)&&(n.trim&&(g[v]=g[v].trim()),n.nativeTypeAttributes&&(g[v]=s(g[v])),"attributeValueFn"in n&&(g[v]=n.attributeValueFn(g[v],v,i)),"attributeNameFn"in n)){var x=g[v];delete g[v],g[n.attributeNameFn(v,g[v],i)]=x}}return g}function c(g){var v={};if(g.body&&(g.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var x=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,E;(E=x.exec(g.body))!==null;)v[E[1]]=E[2]||E[3]||E[4];v=l(v)}if(g.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(v).length&&(i[n.declarationKey][n.attributesKey]=v),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(g.body=g.body.trim());var S={};n.instructionHasAttributes&&Object.keys(v).length?(S[g.name]={},S[g.name][n.attributesKey]=v):S[g.name]=g.body,o("instruction",S)}}function u(g,v){var x;if(typeof g=="object"&&(v=g.attributes,g=g.name),v=l(v),"elementNameFn"in n&&(g=n.elementNameFn(g,i)),n.compact){if(x={},!n.ignoreAttributes&&v&&Object.keys(v).length){x[n.attributesKey]={};var E;for(E in v)v.hasOwnProperty(E)&&(x[n.attributesKey][E]=v[E])}!(g in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(g)!==-1:n.alwaysArray)&&(i[g]=[]),i[g]&&!r(i[g])&&(i[g]=[i[g]]),r(i[g])?i[g].push(x):i[g]=x}else i[n.elementsKey]||(i[n.elementsKey]=[]),x={},x[n.typeKey]="element",x[n.nameKey]=g,!n.ignoreAttributes&&v&&Object.keys(v).length&&(x[n.attributesKey]=v),n.alwaysChildren&&(x[n.elementsKey]=[]),i[n.elementsKey].push(x);x[n.parentKey]=i,i=x}function f(g){n.ignoreText||!g.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(g=g.trim()),n.nativeType&&(g=s(g)),n.sanitize&&(g=g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",g))}function p(g){n.ignoreComment||(n.trim&&(g=g.trim()),o("comment",g))}function h(g){var v=i[n.parentKey];n.addParent||delete i[n.parentKey],i=v}function y(g){n.ignoreCdata||(n.trim&&(g=g.trim()),o("cdata",g))}function m(g){n.ignoreDoctype||(g=g.replace(/^ /,""),n.trim&&(g=g.trim()),o("doctype",g))}function w(g){g.note=g}return nA=function(g,v){var x=t.parser(!0,{}),E={};if(i=E,n=a(v),x.opt={strictEntities:!0},x.onopentag=u,x.ontext=f,x.oncomment=p,x.onclosetag=h,x.onerror=w,x.oncdata=y,x.ondoctype=m,x.onprocessinginstruction=c,x.write(g).close(),E[n.elementsKey]){var S=E[n.elementsKey];delete E[n.elementsKey],E[n.elementsKey]=S,delete E.text}return E},nA}var iA,TD;function aSe(){if(TD)return iA;TD=1;var t=$C(),e=lG();function r(n){var i=t.copyOptions(n);return t.ensureSpacesExists(i),i}return iA=function(n,i){var a,s,o,l;return a=r(i),s=e(n,a),l="compact"in a&&a.compact?"_parent":"parent","addParent"in a&&a.addParent?o=JSON.stringify(s,function(c,u){return c===l?"_":u},a.spaces):o=JSON.stringify(s,null,a.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},iA}var aA,PD;function cG(){if(PD)return aA;PD=1;var t=$C(),e=UC().isArray,r,n;function i(x){var E=t.copyOptions(x);return t.ensureFlagExists("ignoreDeclaration",E),t.ensureFlagExists("ignoreInstruction",E),t.ensureFlagExists("ignoreAttributes",E),t.ensureFlagExists("ignoreText",E),t.ensureFlagExists("ignoreComment",E),t.ensureFlagExists("ignoreCdata",E),t.ensureFlagExists("ignoreDoctype",E),t.ensureFlagExists("compact",E),t.ensureFlagExists("indentText",E),t.ensureFlagExists("indentCdata",E),t.ensureFlagExists("indentAttributes",E),t.ensureFlagExists("indentInstruction",E),t.ensureFlagExists("fullTagEmptyElement",E),t.ensureFlagExists("noQuotesForNativeAttributes",E),t.ensureSpacesExists(E),typeof E.spaces=="number"&&(E.spaces=Array(E.spaces+1).join(" ")),t.ensureKeyExists("declaration",E),t.ensureKeyExists("instruction",E),t.ensureKeyExists("attributes",E),t.ensureKeyExists("text",E),t.ensureKeyExists("comment",E),t.ensureKeyExists("cdata",E),t.ensureKeyExists("doctype",E),t.ensureKeyExists("type",E),t.ensureKeyExists("name",E),t.ensureKeyExists("elements",E),t.checkFnExists("doctype",E),t.checkFnExists("instruction",E),t.checkFnExists("cdata",E),t.checkFnExists("comment",E),t.checkFnExists("text",E),t.checkFnExists("instructionName",E),t.checkFnExists("elementName",E),t.checkFnExists("attributeName",E),t.checkFnExists("attributeValue",E),t.checkFnExists("attributes",E),t.checkFnExists("fullTagEmptyElement",E),E}function a(x,E,S){return(!S&&x.spaces?`
`:"")+Array(E+1).join(x.spaces)}function s(x,E,S){if(E.ignoreAttributes)return"";"attributesFn"in E&&(x=E.attributesFn(x,n,r));var C,P,k,T,W=[];for(C in x)x.hasOwnProperty(C)&&x[C]!==null&&x[C]!==void 0&&(T=E.noQuotesForNativeAttributes&&typeof x[C]!="string"?"":'"',P=""+x[C],P=P.replace(/"/g,"&quot;"),k="attributeNameFn"in E?E.attributeNameFn(C,P,n,r):C,W.push(E.spaces&&E.indentAttributes?a(E,S+1,!1):" "),W.push(k+"="+T+("attributeValueFn"in E?E.attributeValueFn(P,C,n,r):P)+T));return x&&Object.keys(x).length&&E.spaces&&E.indentAttributes&&W.push(a(E,S,!1)),W.join("")}function o(x,E,S){return r=x,n="xml",E.ignoreDeclaration?"":"<?xml"+s(x[E.attributesKey],E,S)+"?>"}function l(x,E,S){if(E.ignoreInstruction)return"";var C;for(C in x)if(x.hasOwnProperty(C))break;var P="instructionNameFn"in E?E.instructionNameFn(C,x[C],n,r):C;if(typeof x[C]=="object")return r=x,n=P,"<?"+P+s(x[C][E.attributesKey],E,S)+"?>";var k=x[C]?x[C]:"";return"instructionFn"in E&&(k=E.instructionFn(k,C,n,r)),"<?"+P+(k?" "+k:"")+"?>"}function c(x,E){return E.ignoreComment?"":"<!--"+("commentFn"in E?E.commentFn(x,n,r):x)+"-->"}function u(x,E){return E.ignoreCdata?"":"<![CDATA["+("cdataFn"in E?E.cdataFn(x,n,r):x.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(x,E){return E.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in E?E.doctypeFn(x,n,r):x)+">"}function p(x,E){return E.ignoreText?"":(x=""+x,x=x.replace(/&amp;/g,"&"),x=x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in E?E.textFn(x,n,r):x)}function h(x,E){var S;if(x.elements&&x.elements.length)for(S=0;S<x.elements.length;++S)switch(x.elements[S][E.typeKey]){case"text":if(E.indentText)return!0;break;case"cdata":if(E.indentCdata)return!0;break;case"instruction":if(E.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function y(x,E,S){r=x,n=x.name;var C=[],P="elementNameFn"in E?E.elementNameFn(x.name,x):x.name;C.push("<"+P),x[E.attributesKey]&&C.push(s(x[E.attributesKey],E,S));var k=x[E.elementsKey]&&x[E.elementsKey].length||x[E.attributesKey]&&x[E.attributesKey]["xml:space"]==="preserve";return k||("fullTagEmptyElementFn"in E?k=E.fullTagEmptyElementFn(x.name,x):k=E.fullTagEmptyElement),k?(C.push(">"),x[E.elementsKey]&&x[E.elementsKey].length&&(C.push(m(x[E.elementsKey],E,S+1)),r=x,n=x.name),C.push(E.spaces&&h(x,E)?`
`+Array(S+1).join(E.spaces):""),C.push("</"+P+">")):C.push("/>"),C.join("")}function m(x,E,S,C){return x.reduce(function(P,k){var T=a(E,S,C&&!P);switch(k.type){case"element":return P+T+y(k,E,S);case"comment":return P+T+c(k[E.commentKey],E);case"doctype":return P+T+f(k[E.doctypeKey],E);case"cdata":return P+(E.indentCdata?T:"")+u(k[E.cdataKey],E);case"text":return P+(E.indentText?T:"")+p(k[E.textKey],E);case"instruction":var W={};return W[k[E.nameKey]]=k[E.attributesKey]?k:k[E.instructionKey],P+(E.indentInstruction?T:"")+l(W,E,S)}},"")}function w(x,E,S){var C;for(C in x)if(x.hasOwnProperty(C))switch(C){case E.parentKey:case E.attributesKey:break;case E.textKey:if(E.indentText||S)return!0;break;case E.cdataKey:if(E.indentCdata||S)return!0;break;case E.instructionKey:if(E.indentInstruction||S)return!0;break;case E.doctypeKey:case E.commentKey:return!0;default:return!0}return!1}function g(x,E,S,C,P){r=x,n=E;var k="elementNameFn"in S?S.elementNameFn(E,x):E;if(typeof x>"u"||x===null||x==="")return"fullTagEmptyElementFn"in S&&S.fullTagEmptyElementFn(E,x)||S.fullTagEmptyElement?"<"+k+"></"+k+">":"<"+k+"/>";var T=[];if(E){if(T.push("<"+k),typeof x!="object")return T.push(">"+p(x,S)+"</"+k+">"),T.join("");x[S.attributesKey]&&T.push(s(x[S.attributesKey],S,C));var W=w(x,S,!0)||x[S.attributesKey]&&x[S.attributesKey]["xml:space"]==="preserve";if(W||("fullTagEmptyElementFn"in S?W=S.fullTagEmptyElementFn(E,x):W=S.fullTagEmptyElement),W)T.push(">");else return T.push("/>"),T.join("")}return T.push(v(x,S,C+1,!1)),r=x,n=E,E&&T.push((P?a(S,C,!1):"")+"</"+k+">"),T.join("")}function v(x,E,S,C){var P,k,T,W=[];for(k in x)if(x.hasOwnProperty(k))for(T=e(x[k])?x[k]:[x[k]],P=0;P<T.length;++P){switch(k){case E.declarationKey:W.push(o(T[P],E,S));break;case E.instructionKey:W.push((E.indentInstruction?a(E,S,C):"")+l(T[P],E,S));break;case E.attributesKey:case E.parentKey:break;case E.textKey:W.push((E.indentText?a(E,S,C):"")+p(T[P],E));break;case E.cdataKey:W.push((E.indentCdata?a(E,S,C):"")+u(T[P],E));break;case E.doctypeKey:W.push(a(E,S,C)+f(T[P],E));break;case E.commentKey:W.push(a(E,S,C)+c(T[P],E));break;default:W.push(a(E,S,C)+g(T[P],k,E,S,w(T[P],E)))}C=C&&!W.length}return W.join("")}return aA=function(x,E){E=i(E);var S=[];return r=x,n="_root_",E.compact?S.push(v(x,E,0,!0)):(x[E.declarationKey]&&S.push(o(x[E.declarationKey],E,0)),x[E.elementsKey]&&x[E.elementsKey].length&&S.push(m(x[E.elementsKey],E,0,!S.length))),S.join("")},aA}var sA,CD;function sSe(){if(CD)return sA;CD=1;var t=cG();return sA=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},sA}var oA,kD;function oSe(){if(kD)return oA;kD=1;var t=lG(),e=aSe(),r=cG(),n=sSe();return oA={xml2js:t,xml2json:e,js2xml:r,json2xml:n},oA}var uG=oSe();const VC=t=>{switch(t.type){case void 0:case"element":const e=new cSe(t.name,t.attributes),r=t.elements||[];for(const n of r){const i=VC(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class lSe extends Pt{}class cSe extends Qe{static fromXmlString(e){const r=uG.xml2js(e,{compact:!1});return VC(r)}constructor(e,r){super(e),r&&this.root.push(new lSe(r))}push(e){this.root.push(e)}}class uSe extends Qe{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class dG extends Qe{constructor(e,r){super(e),r&&(this.root=r.root)}}const Aa=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},B2=t=>{const e=Aa(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},fG=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},ID=t=>fG(t,1),hG=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},pG=t=>{const e=hG(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},fm=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return fG(e,3)},wf=t=>typeof t=="string"?hG(t):Aa(t),dSe=t=>typeof t=="string"?pG(t):B2(t),lo=t=>typeof t=="string"?pG(t):B2(t),fSe=B2,hSe=B2,pSe=t=>t.toISOString();class Ze extends Qe{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new _n({val:r}))}}class lA extends Qe{constructor(e,r){super(e),this.root.push(new _n({val:dSe(r)}))}}class Lp extends Qe{constructor(e,r){super(e),this.root.push(new _n({val:r}))}}const kg=(t,e)=>new vl({name:t,attributes:{value:{key:"w:val",value:e}}});class h0 extends Qe{constructor(e,r){super(e),this.root.push(new _n({val:r}))}}class Hd extends Qe{constructor(e,r){super(e),this.root.push(r)}}class vl extends Qe{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new D2(r)),n&&this.root.push(...n)}}const Kt={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class mSe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class gSe extends Qe{constructor(e){super("w:jc"),this.root.push(new mSe({val:e}))}}class rn extends Qe{constructor(e,{color:r,size:n,space:i,style:a}){super(e),this.root.push(new ySe({style:a,color:r===void 0?void 0:fm(r),size:n===void 0?void 0:fSe(n),space:i===void 0?void 0:hSe(i)}))}}class ySe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const zC={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class vSe extends L2{constructor(e){super("w:pBdr"),e.top&&this.root.push(new rn("w:top",e.top)),e.bottom&&this.root.push(new rn("w:bottom",e.bottom)),e.left&&this.root.push(new rn("w:left",e.left)),e.right&&this.root.push(new rn("w:right",e.right))}}class wSe extends Qe{constructor(){super("w:pBdr");const e=new rn("w:bottom",{color:"auto",space:1,style:zC.SINGLE,size:6});this.root.push(e)}}class bSe extends Qe{constructor({start:e,end:r,left:n,right:i,hanging:a,firstLine:s}){super("w:ind"),this.root.push(new D2({start:{key:"w:start",value:e===void 0?void 0:wf(e)},end:{key:"w:end",value:r===void 0?void 0:wf(r)},left:{key:"w:left",value:n===void 0?void 0:wf(n)},right:{key:"w:right",value:i===void 0?void 0:wf(i)},hanging:{key:"w:hanging",value:a===void 0?void 0:lo(a)},firstLine:{key:"w:firstLine",value:s===void 0?void 0:lo(s)}}))}}let xSe=class extends Qe{constructor(){super("w:br")}};const qC={BEGIN:"begin",END:"end",SEPARATE:"separate"};class WC extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class s1 extends Qe{constructor(e){super("w:fldChar"),this.root.push(new WC({type:qC.BEGIN,dirty:e}))}}class o1 extends Qe{constructor(e){super("w:fldChar"),this.root.push(new WC({type:qC.SEPARATE,dirty:e}))}}class l1 extends Qe{constructor(e){super("w:fldChar"),this.root.push(new WC({type:qC.END,dirty:e}))}}const hm={DEFAULT:"default",PRESERVE:"preserve"};class pm extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{space:"xml:space"})}}class _Se extends Qe{constructor(){super("w:instrText"),this.root.push(new pm({space:hm.PRESERVE})),this.root.push("PAGE")}}class ESe extends Qe{constructor(){super("w:instrText"),this.root.push(new pm({space:hm.PRESERVE})),this.root.push("NUMPAGES")}}class ASe extends Qe{constructor(){super("w:instrText"),this.root.push(new pm({space:hm.PRESERVE})),this.root.push("SECTIONPAGES")}}class SSe extends Qe{constructor(){super("w:instrText"),this.root.push(new pm({space:hm.PRESERVE})),this.root.push("SECTION")}}class NSe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class mG extends Qe{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new NSe({fill:e===void 0?void 0:fm(e),color:r===void 0?void 0:fm(r),type:n}))}}class TSe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const PSe={DOT:"dot"};class CSe extends Qe{constructor(e){super("w:em"),this.root.push(new _n({val:e}))}}class kSe extends CSe{constructor(e=PSe.DOT){super(e)}}class ISe extends Qe{constructor(e){super("w:spacing"),this.root.push(new _n({val:wf(e)}))}}class jSe extends Qe{constructor(e){super("w:color"),this.root.push(new _n({val:fm(e)}))}}class OSe extends Qe{constructor(e){super("w:highlight"),this.root.push(new _n({val:e}))}}class RSe extends Qe{constructor(e){super("w:highlightCs"),this.root.push(new _n({val:e}))}}const LSe=t=>new vl({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class jD extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class cA extends Qe{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new jD({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new jD(n))}}}let gG=class extends Qe{constructor(e){super("w:vertAlign"),this.root.push(new _n({val:e}))}};class DSe extends gG{constructor(){super("superscript")}}class MSe extends gG{constructor(){super("subscript")}}const yG={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class FSe extends Qe{constructor(e=yG.SINGLE,r){super("w:u"),this.root.push(new _n({val:e,color:r===void 0?void 0:fm(r)}))}}class ch extends L2{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new Lp("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new cA(e.font)):"name"in e.font?this.push(new cA(e.font.name,e.font.hint)):this.push(new cA(e.font))),e.bold!==void 0&&this.push(new Ze("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Ze("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new Ze("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Ze("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new Ze("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Ze("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Ze("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Ze("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new Ze("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Ze("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new Ze("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new Ze("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Ze("w:vanish",e.vanish)),e.color&&this.push(new jSe(e.color)),e.characterSpacing&&this.push(new ISe(e.characterSpacing)),e.scale!==void 0&&this.push(new h0("w:w",e.scale)),e.kern&&this.push(new lA("w:kern",e.kern)),e.position&&this.push(new Lp("w:position",e.position)),e.size!==void 0&&this.push(new lA("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new lA("w:szCs",i)),e.highlight&&this.push(new OSe(e.highlight));const a=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;a&&this.push(new RSe(a)),e.underline&&this.push(new FSe(e.underline.type,e.underline.color)),e.effect&&this.push(new Lp("w:effect",e.effect)),e.border&&this.push(new rn("w:bdr",e.border)),e.shading&&this.push(new mG(e.shading)),e.subScript&&this.push(new MSe),e.superScript&&this.push(new DSe),e.rightToLeft!==void 0&&this.push(new Ze("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new kSe(e.emphasisMark.type)),e.language&&this.push(LSe(e.language)),e.specVanish&&this.push(new Ze("w:specVanish",e.vanish)),e.math&&this.push(new Ze("w:oMath",e.math)),e.revision&&this.push(new BSe(e.revision))}push(e){this.root.push(e)}}class BSe extends Qe{constructor(e){super("w:rPrChange"),this.root.push(new TSe({id:e.id,author:e.author,date:e.date})),this.addChildElement(new ch(e))}}class OD extends Qe{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new pm({space:hm.PRESERVE})),this.root.push(e)):(this.root.push(new pm({space:(r=e.space)!=null?r:hm.DEFAULT})),this.root.push(e.text))}}const c1={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class U2 extends Qe{constructor(e){if(super("w:r"),We(this,"properties"),this.properties=new ch(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new xSe);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case c1.CURRENT:this.root.push(new s1),this.root.push(new _Se),this.root.push(new o1),this.root.push(new l1);break;case c1.TOTAL_PAGES:this.root.push(new s1),this.root.push(new ESe),this.root.push(new o1),this.root.push(new l1);break;case c1.TOTAL_PAGES_IN_SECTION:this.root.push(new s1),this.root.push(new ASe),this.root.push(new o1),this.root.push(new l1);break;case c1.CURRENT_SECTION:this.root.push(new s1),this.root.push(new SSe),this.root.push(new o1),this.root.push(new l1);break;default:this.root.push(new OD(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new OD(e.text))}}class Lt extends U2{constructor(e){super(typeof e=="string"?{text:e}:e)}}var uA={},vr={},dA,RD;function Uy(){if(RD)return dA;RD=1,dA=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},dA}var LD;function El(){if(LD)return vr;LD=1;var t=Uy(),e=Ad();vr.inherits=e;function r(A,I){return(A.charCodeAt(I)&64512)!==55296||I<0||I+1>=A.length?!1:(A.charCodeAt(I+1)&64512)===56320}function n(A,I){if(Array.isArray(A))return A.slice();if(!A)return[];var L=[];if(typeof A=="string")if(I){if(I==="hex")for(A=A.replace(/[^a-z0-9]+/ig,""),A.length%2!==0&&(A="0"+A),pe=0;pe<A.length;pe+=2)L.push(parseInt(A[pe]+A[pe+1],16))}else for(var se=0,pe=0;pe<A.length;pe++){var X=A.charCodeAt(pe);X<128?L[se++]=X:X<2048?(L[se++]=X>>6|192,L[se++]=X&63|128):r(A,pe)?(X=65536+((X&1023)<<10)+(A.charCodeAt(++pe)&1023),L[se++]=X>>18|240,L[se++]=X>>12&63|128,L[se++]=X>>6&63|128,L[se++]=X&63|128):(L[se++]=X>>12|224,L[se++]=X>>6&63|128,L[se++]=X&63|128)}else for(pe=0;pe<A.length;pe++)L[pe]=A[pe]|0;return L}vr.toArray=n;function i(A){for(var I="",L=0;L<A.length;L++)I+=o(A[L].toString(16));return I}vr.toHex=i;function a(A){var I=A>>>24|A>>>8&65280|A<<8&16711680|(A&255)<<24;return I>>>0}vr.htonl=a;function s(A,I){for(var L="",se=0;se<A.length;se++){var pe=A[se];I==="little"&&(pe=a(pe)),L+=l(pe.toString(16))}return L}vr.toHex32=s;function o(A){return A.length===1?"0"+A:A}vr.zero2=o;function l(A){return A.length===7?"0"+A:A.length===6?"00"+A:A.length===5?"000"+A:A.length===4?"0000"+A:A.length===3?"00000"+A:A.length===2?"000000"+A:A.length===1?"0000000"+A:A}vr.zero8=l;function c(A,I,L,se){var pe=L-I;t(pe%4===0);for(var X=new Array(pe/4),ce=0,ue=I;ce<X.length;ce++,ue+=4){var xe;se==="big"?xe=A[ue]<<24|A[ue+1]<<16|A[ue+2]<<8|A[ue+3]:xe=A[ue+3]<<24|A[ue+2]<<16|A[ue+1]<<8|A[ue],X[ce]=xe>>>0}return X}vr.join32=c;function u(A,I){for(var L=new Array(A.length*4),se=0,pe=0;se<A.length;se++,pe+=4){var X=A[se];I==="big"?(L[pe]=X>>>24,L[pe+1]=X>>>16&255,L[pe+2]=X>>>8&255,L[pe+3]=X&255):(L[pe+3]=X>>>24,L[pe+2]=X>>>16&255,L[pe+1]=X>>>8&255,L[pe]=X&255)}return L}vr.split32=u;function f(A,I){return A>>>I|A<<32-I}vr.rotr32=f;function p(A,I){return A<<I|A>>>32-I}vr.rotl32=p;function h(A,I){return A+I>>>0}vr.sum32=h;function y(A,I,L){return A+I+L>>>0}vr.sum32_3=y;function m(A,I,L,se){return A+I+L+se>>>0}vr.sum32_4=m;function w(A,I,L,se,pe){return A+I+L+se+pe>>>0}vr.sum32_5=w;function g(A,I,L,se){var pe=A[I],X=A[I+1],ce=se+X>>>0,ue=(ce<se?1:0)+L+pe;A[I]=ue>>>0,A[I+1]=ce}vr.sum64=g;function v(A,I,L,se){var pe=I+se>>>0,X=(pe<I?1:0)+A+L;return X>>>0}vr.sum64_hi=v;function x(A,I,L,se){var pe=I+se;return pe>>>0}vr.sum64_lo=x;function E(A,I,L,se,pe,X,ce,ue){var xe=0,we=I;we=we+se>>>0,xe+=we<I?1:0,we=we+X>>>0,xe+=we<X?1:0,we=we+ue>>>0,xe+=we<ue?1:0;var F=A+L+pe+ce+xe;return F>>>0}vr.sum64_4_hi=E;function S(A,I,L,se,pe,X,ce,ue){var xe=I+se+X+ue;return xe>>>0}vr.sum64_4_lo=S;function C(A,I,L,se,pe,X,ce,ue,xe,we){var F=0,J=I;J=J+se>>>0,F+=J<I?1:0,J=J+X>>>0,F+=J<X?1:0,J=J+ue>>>0,F+=J<ue?1:0,J=J+we>>>0,F+=J<we?1:0;var ie=A+L+pe+ce+xe+F;return ie>>>0}vr.sum64_5_hi=C;function P(A,I,L,se,pe,X,ce,ue,xe,we){var F=I+se+X+ue+we;return F>>>0}vr.sum64_5_lo=P;function k(A,I,L){var se=I<<32-L|A>>>L;return se>>>0}vr.rotr64_hi=k;function T(A,I,L){var se=A<<32-L|I>>>L;return se>>>0}vr.rotr64_lo=T;function W(A,I,L){return A>>>L}vr.shr64_hi=W;function M(A,I,L){var se=A<<32-L|I>>>L;return se>>>0}return vr.shr64_lo=M,vr}var fA={},DD;function $y(){if(DD)return fA;DD=1;var t=El(),e=Uy();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return fA.BlockHash=r,r.prototype.update=function(i,a){if(i=t.toArray(i,a),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var s=i.length%this._delta8;this.pending=i.slice(i.length-s,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-s,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,a=this._delta8,s=a-(i+this.padLength)%a,o=new Array(s+this.padLength);o[0]=128;for(var l=1;l<s;l++)o[l]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)o[l++]=0;o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=i>>>24&255,o[l++]=i>>>16&255,o[l++]=i>>>8&255,o[l++]=i&255}else for(o[l++]=i&255,o[l++]=i>>>8&255,o[l++]=i>>>16&255,o[l++]=i>>>24&255,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,c=8;c<this.padLength;c++)o[l++]=0;return o},fA}var Gd={},Uo={},MD;function vG(){if(MD)return Uo;MD=1;var t=El(),e=t.rotr32;function r(u,f,p,h){if(u===0)return n(f,p,h);if(u===1||u===3)return a(f,p,h);if(u===2)return i(f,p,h)}Uo.ft_1=r;function n(u,f,p){return u&f^~u&p}Uo.ch32=n;function i(u,f,p){return u&f^u&p^f&p}Uo.maj32=i;function a(u,f,p){return u^f^p}Uo.p32=a;function s(u){return e(u,2)^e(u,13)^e(u,22)}Uo.s0_256=s;function o(u){return e(u,6)^e(u,11)^e(u,25)}Uo.s1_256=o;function l(u){return e(u,7)^e(u,18)^u>>>3}Uo.g0_256=l;function c(u){return e(u,17)^e(u,19)^u>>>10}return Uo.g1_256=c,Uo}var hA,FD;function USe(){if(FD)return hA;FD=1;var t=El(),e=$y(),r=vG(),n=t.rotl32,i=t.sum32,a=t.sum32_5,s=r.ft_1,o=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(c,o),hA=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(f,p){for(var h=this.W,y=0;y<16;y++)h[y]=f[p+y];for(;y<h.length;y++)h[y]=n(h[y-3]^h[y-8]^h[y-14]^h[y-16],1);var m=this.h[0],w=this.h[1],g=this.h[2],v=this.h[3],x=this.h[4];for(y=0;y<h.length;y++){var E=~~(y/20),S=a(n(m,5),s(E,w,g,v),x,h[y],l[E]);x=v,v=g,g=n(w,30),w=m,m=S}this.h[0]=i(this.h[0],m),this.h[1]=i(this.h[1],w),this.h[2]=i(this.h[2],g),this.h[3]=i(this.h[3],v),this.h[4]=i(this.h[4],x)},c.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},hA}var pA,BD;function wG(){if(BD)return pA;BD=1;var t=El(),e=$y(),r=vG(),n=Uy(),i=t.sum32,a=t.sum32_4,s=t.sum32_5,o=r.ch32,l=r.maj32,c=r.s0_256,u=r.s1_256,f=r.g0_256,p=r.g1_256,h=e.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}return t.inherits(m,h),pA=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(g,v){for(var x=this.W,E=0;E<16;E++)x[E]=g[v+E];for(;E<x.length;E++)x[E]=a(p(x[E-2]),x[E-7],f(x[E-15]),x[E-16]);var S=this.h[0],C=this.h[1],P=this.h[2],k=this.h[3],T=this.h[4],W=this.h[5],M=this.h[6],A=this.h[7];for(n(this.k.length===x.length),E=0;E<x.length;E++){var I=s(A,u(T),o(T,W,M),this.k[E],x[E]),L=i(c(S),l(S,C,P));A=M,M=W,W=T,T=i(k,I),k=P,P=C,C=S,S=i(I,L)}this.h[0]=i(this.h[0],S),this.h[1]=i(this.h[1],C),this.h[2]=i(this.h[2],P),this.h[3]=i(this.h[3],k),this.h[4]=i(this.h[4],T),this.h[5]=i(this.h[5],W),this.h[6]=i(this.h[6],M),this.h[7]=i(this.h[7],A)},m.prototype._digest=function(g){return g==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},pA}var mA,UD;function $Se(){if(UD)return mA;UD=1;var t=El(),e=wG();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),mA=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},mA}var gA,$D;function bG(){if($D)return gA;$D=1;var t=El(),e=$y(),r=Uy(),n=t.rotr64_hi,i=t.rotr64_lo,a=t.shr64_hi,s=t.shr64_lo,o=t.sum64,l=t.sum64_hi,c=t.sum64_lo,u=t.sum64_4_hi,f=t.sum64_4_lo,p=t.sum64_5_hi,h=t.sum64_5_lo,y=e.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}t.inherits(w,y),gA=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(L,se){for(var pe=this.W,X=0;X<32;X++)pe[X]=L[se+X];for(;X<pe.length;X+=2){var ce=M(pe[X-4],pe[X-3]),ue=A(pe[X-4],pe[X-3]),xe=pe[X-14],we=pe[X-13],F=T(pe[X-30],pe[X-29]),J=W(pe[X-30],pe[X-29]),ie=pe[X-32],fe=pe[X-31];pe[X]=u(ce,ue,xe,we,F,J,ie,fe),pe[X+1]=f(ce,ue,xe,we,F,J,ie,fe)}},w.prototype._update=function(L,se){this._prepareBlock(L,se);var pe=this.W,X=this.h[0],ce=this.h[1],ue=this.h[2],xe=this.h[3],we=this.h[4],F=this.h[5],J=this.h[6],ie=this.h[7],fe=this.h[8],Q=this.h[9],$=this.h[10],V=this.h[11],te=this.h[12],ae=this.h[13],Z=this.h[14],ee=this.h[15];r(this.k.length===pe.length);for(var _e=0;_e<pe.length;_e+=2){var H=Z,ve=ee,B=P(fe,Q),j=k(fe,Q),R=g(fe,Q,$,V,te),q=v(fe,Q,$,V,te,ae),G=this.k[_e],ne=this.k[_e+1],re=pe[_e],Ae=pe[_e+1],Ne=p(H,ve,B,j,R,q,G,ne,re,Ae),Se=h(H,ve,B,j,R,q,G,ne,re,Ae);H=S(X,ce),ve=C(X,ce),B=x(X,ce,ue,xe,we),j=E(X,ce,ue,xe,we,F);var Ie=l(H,ve,B,j),Fe=c(H,ve,B,j);Z=te,ee=ae,te=$,ae=V,$=fe,V=Q,fe=l(J,ie,Ne,Se),Q=c(ie,ie,Ne,Se),J=we,ie=F,we=ue,F=xe,ue=X,xe=ce,X=l(Ne,Se,Ie,Fe),ce=c(Ne,Se,Ie,Fe)}o(this.h,0,X,ce),o(this.h,2,ue,xe),o(this.h,4,we,F),o(this.h,6,J,ie),o(this.h,8,fe,Q),o(this.h,10,$,V),o(this.h,12,te,ae),o(this.h,14,Z,ee)},w.prototype._digest=function(L){return L==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function g(I,L,se,pe,X){var ce=I&se^~I&X;return ce<0&&(ce+=4294967296),ce}function v(I,L,se,pe,X,ce){var ue=L&pe^~L&ce;return ue<0&&(ue+=4294967296),ue}function x(I,L,se,pe,X){var ce=I&se^I&X^se&X;return ce<0&&(ce+=4294967296),ce}function E(I,L,se,pe,X,ce){var ue=L&pe^L&ce^pe&ce;return ue<0&&(ue+=4294967296),ue}function S(I,L){var se=n(I,L,28),pe=n(L,I,2),X=n(L,I,7),ce=se^pe^X;return ce<0&&(ce+=4294967296),ce}function C(I,L){var se=i(I,L,28),pe=i(L,I,2),X=i(L,I,7),ce=se^pe^X;return ce<0&&(ce+=4294967296),ce}function P(I,L){var se=n(I,L,14),pe=n(I,L,18),X=n(L,I,9),ce=se^pe^X;return ce<0&&(ce+=4294967296),ce}function k(I,L){var se=i(I,L,14),pe=i(I,L,18),X=i(L,I,9),ce=se^pe^X;return ce<0&&(ce+=4294967296),ce}function T(I,L){var se=n(I,L,1),pe=n(I,L,8),X=a(I,L,7),ce=se^pe^X;return ce<0&&(ce+=4294967296),ce}function W(I,L){var se=i(I,L,1),pe=i(I,L,8),X=s(I,L,7),ce=se^pe^X;return ce<0&&(ce+=4294967296),ce}function M(I,L){var se=n(I,L,19),pe=n(L,I,29),X=a(I,L,6),ce=se^pe^X;return ce<0&&(ce+=4294967296),ce}function A(I,L){var se=i(I,L,19),pe=i(L,I,29),X=s(I,L,6),ce=se^pe^X;return ce<0&&(ce+=4294967296),ce}return gA}var yA,VD;function VSe(){if(VD)return yA;VD=1;var t=El(),e=bG();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),yA=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},yA}var zD;function zSe(){return zD||(zD=1,Gd.sha1=USe(),Gd.sha224=$Se(),Gd.sha256=wG(),Gd.sha384=VSe(),Gd.sha512=bG()),Gd}var vA={},qD;function qSe(){if(qD)return vA;qD=1;var t=El(),e=$y(),r=t.rotl32,n=t.sum32,i=t.sum32_3,a=t.sum32_4,s=e.BlockHash;function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(o,s),vA.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(w,g){for(var v=this.h[0],x=this.h[1],E=this.h[2],S=this.h[3],C=this.h[4],P=v,k=x,T=E,W=S,M=C,A=0;A<80;A++){var I=n(r(a(v,l(A,x,E,S),w[f[A]+g],c(A)),h[A]),C);v=C,C=S,S=r(E,10),E=x,x=I,I=n(r(a(P,l(79-A,k,T,W),w[p[A]+g],u(A)),y[A]),M),P=M,M=W,W=r(T,10),T=k,k=I}I=i(this.h[1],E,W),this.h[1]=i(this.h[2],S,M),this.h[2]=i(this.h[3],C,P),this.h[3]=i(this.h[4],v,k),this.h[4]=i(this.h[0],x,T),this.h[0]=I},o.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(m,w,g,v){return m<=15?w^g^v:m<=31?w&g|~w&v:m<=47?(w|~g)^v:m<=63?w&v|g&~v:w^(g|~v)}function c(m){return m<=15?0:m<=31?1518500249:m<=47?1859775393:m<=63?2400959708:2840853838}function u(m){return m<=15?1352829926:m<=31?1548603684:m<=47?1836072691:m<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return vA}var wA,WD;function WSe(){if(WD)return wA;WD=1;var t=El(),e=Uy();function r(n,i,a){if(!(this instanceof r))return new r(n,i,a);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,a))}return wA=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var a=i.length;a<this.blockSize;a++)i.push(0);for(a=0;a<i.length;a++)i[a]^=54;for(this.inner=new this.Hash().update(i),a=0;a<i.length;a++)i[a]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,a){return this.inner.update(i,a),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},wA}var HD;function HSe(){return HD||(HD=1,function(t){var e=t;e.utils=El(),e.common=$y(),e.sha=zSe(),e.ripemd=qSe(),e.hmac=WSe(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(uA)),uA}HSe();let GSe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",KSe=(t,e=21)=>(r=e)=>{let n="",i=r|0;for(;i--;)n+=t[Math.random()*t.length|0];return n},YSe=(t=21)=>{let e="",r=t|0;for(;r--;)e+=GSe[Math.random()*64|0];return e};const Xs=t=>Math.floor(t*72*20),HC=(t=0)=>{let e=t;return()=>++e},XSe=()=>HC(),JSe=()=>HC(1),QSe=()=>HC(),ZSe=()=>YSe().toLowerCase(),Ig=t=>KSe("1234567890abcdef",t)(),eNe=()=>`${Ig(8)}-${Ig(4)}-${Ig(4)}-${Ig(4)}-${Ig(12)}`;class tNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns"})}}class rNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const nNe={EXTERNAL:"External"};class iNe extends Qe{constructor(e,r,n,i){super("Relationship"),this.root.push(new rNe({id:e,type:r,target:n,targetMode:i}))}}class uh extends Qe{constructor(){super("Relationships"),this.root.push(new tNe({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){const a=new iNe(`rId${e}`,r,n,i);return this.root.push(a),a}get RelationshipCount(){return this.root.length-1}}class aNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class sNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class oNe extends Qe{constructor({id:e,initials:r,author:n,date:i=new Date,children:a}){super("w:comment"),this.root.push(new aNe({id:e,initials:r,author:n,date:i.toISOString()}));for(const s of a)this.root.push(s)}}class lNe extends Qe{constructor({children:e}){super("w:comments"),We(this,"relationships"),this.root.push(new sNe({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new oNe(r));this.relationships=new uh}get Relationships(){return this.relationships}}class cNe extends Qe{constructor(){super("w:pageBreakBefore")}}const y4={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class uNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class dNe extends Qe{constructor(e){super("w:spacing"),this.root.push(new uNe(e))}}let u1=class extends Qe{constructor(e){super("w:pStyle"),this.root.push(new _n({val:e}))}};class fNe extends Qe{constructor(e){super("w:tabs");for(const r of e)this.root.push(new pNe(r))}}const GD={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class hNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class pNe extends Qe{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new hNe({val:e,pos:r,leader:n}))}}class bA extends Qe{constructor(e,r){super("w:numPr"),this.root.push(new mNe(r)),this.root.push(new gNe(e))}}class mNe extends Qe{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new _n({val:e}))}}class gNe extends Qe{constructor(e){super("w:numId"),this.root.push(new _n({val:typeof e=="string"?`{${e}}`:e}))}}class yNe extends Qe{constructor(){super(...arguments),We(this,"fileChild",Symbol())}}class vNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class wNe extends Qe{constructor(e,r,n){super("w:hyperlink"),We(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},a=new vNe(i);this.root.push(a),e.forEach(s=>{this.root.push(s)})}}class bNe extends Qe{constructor(e){super("w:externalHyperlink"),this.options=e}}class xNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class _Ne extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id"})}}class ENe{constructor(e){We(this,"bookmarkUniqueNumericId",QSe()),We(this,"start"),We(this,"children"),We(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new ANe(e.id,r),this.children=e.children,this.end=new SNe(r)}}class ANe extends Qe{constructor(e,r){super("w:bookmarkStart");const n=new xNe({name:e,id:r});this.root.push(n)}}class SNe extends Qe{constructor(e){super("w:bookmarkEnd");const r=new _Ne({id:e});this.root.push(r)}}class NNe extends Qe{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new _n({val:e}))}}const TNe={TOP:"top",CENTER:"center",BOTTOM:"bottom"};um(Xt({},TNe),{BOTH:"both"});class PNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{verticalAlign:"w:val"})}}class CNe extends Qe{constructor(e){super("w:vAlign"),this.root.push(new PNe({verticalAlign:e}))}}class kNe extends Qe{constructor({space:e,count:r,separate:n,equalWidth:i,children:a}){super("w:cols"),this.root.push(new D2({space:{key:"w:space",value:e===void 0?void 0:lo(e)},count:{key:"w:num",value:r===void 0?void 0:Aa(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&a&&a.forEach(s=>this.addChildElement(s))}}const INe=({type:t,linePitch:e,charSpace:r})=>new vl({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Aa(e)},charSpace:{key:"w:charSpace",value:r?Aa(r):void 0}}}),Dp={DEFAULT:"default",FIRST:"first",EVEN:"even"};class jNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const KD={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class xA extends Qe{constructor(e,r){super(e),this.root.push(new jNe({type:r.type||Dp.DEFAULT,id:`rId${r.id}`}))}}const ONe=({countBy:t,start:e,restart:r,distance:n})=>new vl({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Aa(t)},start:{key:"w:start",value:e===void 0?void 0:Aa(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:lo(n)}}});class YD extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class RNe extends L2{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new YD({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new YD({})),e.pageBorderTop&&this.root.push(new rn("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new rn("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new rn("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new rn("w:right",e.pageBorderRight))}}class LNe extends Qe{constructor(e,r,n,i,a,s,o){super("w:pgMar"),this.root.push(new D2({top:{key:"w:top",value:wf(e)},right:{key:"w:right",value:lo(r)},bottom:{key:"w:bottom",value:wf(n)},left:{key:"w:left",value:lo(i)},header:{key:"w:header",value:lo(a)},footer:{key:"w:footer",value:lo(s)},gutter:{key:"w:gutter",value:lo(o)}}))}}class DNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class MNe extends Qe{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new DNe({start:e===void 0?void 0:Aa(e),formatType:r,separator:n}))}}const v4={PORTRAIT:"portrait",LANDSCAPE:"landscape"},FNe=({width:t,height:e,orientation:r,code:n})=>{const i=lo(t),a=lo(e);return new vl({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===v4.LANDSCAPE?a:i},height:{key:"w:h",value:r===v4.LANDSCAPE?i:a},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class BNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class UNe extends Qe{constructor(e){super("w:textDirection"),this.root.push(new BNe({val:e}))}}class $Ne extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class VNe extends Qe{constructor(e){super("w:type"),this.root.push(new $Ne({val:e}))}}const Kd={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},_A={WIDTH:11906,HEIGHT:16838,ORIENTATION:v4.PORTRAIT};class zNe extends Qe{constructor({page:{size:{width:e=_A.WIDTH,height:r=_A.HEIGHT,orientation:n=_A.ORIENTATION}={},margin:{top:i=Kd.TOP,right:a=Kd.RIGHT,bottom:s=Kd.BOTTOM,left:o=Kd.LEFT,header:l=Kd.HEADER,footer:c=Kd.FOOTER,gutter:u=Kd.GUTTER}={},pageNumbers:f={},borders:p,textDirection:h}={},grid:{linePitch:y=360,charSpace:m,type:w}={},headerWrapperGroup:g={},footerWrapperGroup:v={},lineNumbers:x,titlePage:E,verticalAlign:S,column:C,type:P}={}){super("w:sectPr"),this.addHeaderFooterGroup(KD.HEADER,g),this.addHeaderFooterGroup(KD.FOOTER,v),P&&this.root.push(new VNe(P)),this.root.push(FNe({width:e,height:r,orientation:n})),this.root.push(new LNe(i,a,s,o,l,c,u)),p&&this.root.push(new RNe(p)),x&&this.root.push(ONe(x)),this.root.push(new MNe(f)),C&&this.root.push(new kNe(C)),S&&this.root.push(new CNe(S)),E!==void 0&&this.root.push(new Ze("w:titlePg",E)),h&&this.root.push(new UNe(h)),this.root.push(INe({linePitch:y,charSpace:m,type:w}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new xA(e,{type:Dp.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new xA(e,{type:Dp.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new xA(e,{type:Dp.EVEN,id:r.even.View.ReferenceId}))}}class qNe extends Qe{constructor(){super("w:body"),We(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new zNe(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new wr({}),n=new mm({});return n.push(e),r.addChildElement(n),r}}const XD={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class $2 extends Pt{constructor(e,r){super(Xt({Ignorable:r},Object.fromEntries(e.map(n=>[n,XD[n]])))),We(this,"xmlKeys",Xt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(XD).map(n=>[n,`xmlns:${n}`]))))}}class WNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class HNe extends Qe{constructor(e){super("w:background"),this.root.push(new WNe({color:e.color===void 0?void 0:fm(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:ID(e.themeShade),themeTint:e.themeTint===void 0?void 0:ID(e.themeTint)}))}}class GNe extends Qe{constructor(e){super("w:document"),We(this,"body"),this.root.push(new $2(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new qNe,e.background&&this.root.push(new HNe(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class xG{constructor(e){We(this,"document"),We(this,"relationships"),this.document=new GNe(e),this.relationships=new uh}get View(){return this.document}get Relationships(){return this.relationships}}class KNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class YNe extends Qe{constructor(){super("w:wordWrap"),this.root.push(new KNe({val:0}))}}const XNe=t=>{var e,r;return new vl({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class mm extends L2{constructor(e){var r,n;if(super("w:pPr"),We(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new u1(e.heading)),e.bullet&&this.push(new u1("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new u1("ListParagraph"))),e.style&&this.push(new u1(e.style)),e.keepNext!==void 0&&this.push(new Ze("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Ze("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new cNe),e.frame&&this.push(XNe(e.frame)),e.widowControl!==void 0&&this.push(new Ze("w:widowControl",e.widowControl)),e.bullet&&this.push(new bA(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new bA(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new bA(0,0)),e.border&&this.push(new vSe(e.border)),e.thematicBreak&&this.push(new wSe),e.shading&&this.push(new mG(e.shading)),e.wordWrap&&this.push(new YNe),e.overflowPunctuation&&this.push(new Ze("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:GD.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:GD.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new fNe(i)),e.bidirectional!==void 0&&this.push(new Ze("w:bidi",e.bidirectional)),e.spacing&&this.push(new dNe(e.spacing)),e.indent&&this.push(new bSe(e.indent)),e.contextualSpacing!==void 0&&this.push(new Ze("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new gSe(e.alignment)),e.outlineLevel!==void 0&&this.push(new NNe(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Ze("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Ze("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new ch(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof xG)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class wr extends yNe{constructor(e){if(super("w:p"),We(this,"properties"),typeof e=="string")return this.properties=new mm({}),this.root.push(this.properties),this.root.push(new Lt(e)),this;if(this.properties=new mm(e),this.root.push(this.properties),e.text&&this.root.push(new Lt(e.text)),e.children)for(const r of e.children){if(r instanceof ENe){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof bNe){const n=this.root.indexOf(r),i=new wNe(r.options.children,ZSe());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,nNe.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const qh={style:zC.NONE,size:0,color:"auto"},Wh={style:zC.SINGLE,size:4,color:"auto"};class JNe extends Qe{constructor(e){super("w:tblBorders"),e.top?this.root.push(new rn("w:top",e.top)):this.root.push(new rn("w:top",Wh)),e.left?this.root.push(new rn("w:left",e.left)):this.root.push(new rn("w:left",Wh)),e.bottom?this.root.push(new rn("w:bottom",e.bottom)):this.root.push(new rn("w:bottom",Wh)),e.right?this.root.push(new rn("w:right",e.right)):this.root.push(new rn("w:right",Wh)),e.insideHorizontal?this.root.push(new rn("w:insideH",e.insideHorizontal)):this.root.push(new rn("w:insideH",Wh)),e.insideVertical?this.root.push(new rn("w:insideV",e.insideVertical)):this.root.push(new rn("w:insideV",Wh))}}We(JNe,"NONE",{top:qh,bottom:qh,left:qh,right:qh,insideHorizontal:qh,insideVertical:qh});class QNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class ZNe extends Qe{constructor(){super("Properties"),this.root.push(new QNe({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class e4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns"})}}class t4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Wl extends Qe{constructor(e,r){super("Default"),this.root.push(new t4e({contentType:e,extension:r}))}}class r4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class ds extends Qe{constructor(e,r){super("Override"),this.root.push(new r4e({contentType:e,partName:r}))}}class n4e extends Qe{constructor(){super("Types"),this.root.push(new e4e({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Wl("image/png","png")),this.root.push(new Wl("image/jpeg","jpeg")),this.root.push(new Wl("image/jpeg","jpg")),this.root.push(new Wl("image/bmp","bmp")),this.root.push(new Wl("image/gif","gif")),this.root.push(new Wl("image/svg+xml","svg")),this.root.push(new Wl("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Wl("application/xml","xml")),this.root.push(new Wl("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new ds("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new ds("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new ds("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new ds("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new ds("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new ds("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new ds("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new ds("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new ds("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new ds("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new ds("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new ds("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class i4e extends Qe{constructor(e){super("cp:coreProperties"),this.root.push(new $2(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Hd("dc:title",e.title)),e.subject&&this.root.push(new Hd("dc:subject",e.subject)),e.creator&&this.root.push(new Hd("dc:creator",e.creator)),e.keywords&&this.root.push(new Hd("cp:keywords",e.keywords)),e.description&&this.root.push(new Hd("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Hd("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Hd("cp:revision",String(e.revision))),this.root.push(new JD("dcterms:created")),this.root.push(new JD("dcterms:modified"))}}class a4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{type:"xsi:type"})}}class JD extends Qe{constructor(e){super(e),this.root.push(new a4e({type:"dcterms:W3CDTF"})),this.root.push(pSe(new Date))}}class s4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class o4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class l4e extends Qe{constructor(e,r){super("property"),this.root.push(new o4e({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new c4e(r.value))}}class c4e extends Qe{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class u4e extends Qe{constructor(e){super("Properties"),We(this,"nextId"),We(this,"properties",[]),this.root.push(new s4e({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new l4e(this.nextId++,e))}}const d1=({id:t,fontKey:e,subsetted:r},n)=>new vl({name:n,attributes:Xt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new Ze("w:subsetted",r)]:[]]}),d4e=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:a,pitch:s,sig:o,embedRegular:l,embedBold:c,embedItalic:u,embedBoldItalic:f})=>new vl({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[kg("w:altName",e)]:[],...r?[kg("w:panose1",r)]:[],...n?[kg("w:charset",n)]:[],kg("w:family",i),...a?[new Ze("w:notTrueType",a)]:[],kg("w:pitch",s),...o?[new vl({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...l?[d1(l,"w:embedRegular")]:[],...c?[d1(c,"w:embedBold")]:[],...u?[d1(u,"w:embedItalic")]:[],...f?[d1(f,"w:embedBoldItalic")]:[]]}),f4e=({name:t,index:e,fontKey:r,characterSet:n})=>d4e({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),h4e=t=>new vl({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>f4e({name:e.name,index:r+1,fontKey:e.fontKey}))});class p4e{constructor(e){We(this,"fontTable"),We(this,"relationships"),We(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>um(Xt({},r),{fontKey:eNe()})),this.fontTable=h4e(this.fontOptionsWithKey),this.relationships=new uh;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class m4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let g4e=class extends dG{constructor(e,r){super("w:ftr",r),We(this,"refId"),this.refId=e,r||this.root.push(new m4e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class y4e{constructor(e,r,n){We(this,"footer"),We(this,"relationships"),this.media=e,this.footer=new g4e(r,n),this.relationships=new uh}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class v4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class w4e extends Qe{constructor(){super("w:footnoteRef")}}class b4e extends U2{constructor(){super({style:"FootnoteReference"}),this.root.push(new w4e)}}const QD={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class EA extends Qe{constructor(e){super("w:footnote"),this.root.push(new v4e({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new b4e),this.root.push(n)}}}class x4e extends Qe{constructor(){super("w:continuationSeparator")}}class _4e extends U2{constructor(){super({}),this.root.push(new x4e)}}class E4e extends Qe{constructor(){super("w:separator")}}class A4e extends U2{constructor(){super({}),this.root.push(new E4e)}}class S4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class N4e extends Qe{constructor(){super("w:footnotes"),this.root.push(new S4e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new EA({id:-1,type:QD.SEPERATOR,children:[new wr({spacing:{after:0,line:240,lineRule:y4.AUTO},children:[new A4e]})]});this.root.push(e);const r=new EA({id:0,type:QD.CONTINUATION_SEPERATOR,children:[new wr({spacing:{after:0,line:240,lineRule:y4.AUTO},children:[new _4e]})]});this.root.push(r)}createFootNote(e,r){const n=new EA({id:e,children:r});this.root.push(n)}}class T4e{constructor(){We(this,"footnotess"),We(this,"relationships"),this.footnotess=new N4e,this.relationships=new uh}get View(){return this.footnotess}get Relationships(){return this.relationships}}class P4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let C4e=class extends dG{constructor(e,r){super("w:hdr",r),We(this,"refId"),this.refId=e,r||this.root.push(new P4e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class k4e{constructor(e,r,n){We(this,"header"),We(this,"relationships"),this.media=e,this.header=new C4e(r,n),this.relationships=new uh}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class I4e{constructor(){We(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const Hl={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class j4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class O4e extends Qe{constructor(e){super("w:numFmt"),this.root.push(new _n({val:e}))}}class R4e extends Qe{constructor(e){super("w:lvlText"),this.root.push(new _n({val:e}))}}class L4e extends Qe{constructor(e){super("w:lvlJc"),this.root.push(new _n({val:e}))}}class D4e extends Qe{constructor(e){super("w:suff"),this.root.push(new _n({val:e}))}}class M4e extends Qe{constructor(){super("w:isLgl")}}class F4e extends Qe{constructor({level:e,format:r,text:n,alignment:i=Kt.START,start:a=1,style:s,suffix:o,isLegalNumberingStyle:l}){if(super("w:lvl"),We(this,"paragraphProperties"),We(this,"runProperties"),this.root.push(new h0("w:start",Aa(a))),r&&this.root.push(new O4e(r)),o&&this.root.push(new D4e(o)),l&&this.root.push(new M4e),n&&this.root.push(new R4e(n)),this.root.push(new L4e(i)),this.paragraphProperties=new mm(s&&s.paragraph),this.runProperties=new ch(s&&s.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new j4e({ilvl:Aa(e),tentative:1}))}}class B4e extends F4e{}class U4e extends Qe{constructor(e){super("w:multiLevelType"),this.root.push(new _n({val:e}))}}class $4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class ZD extends Qe{constructor(e,r){super("w:abstractNum"),We(this,"id"),this.root.push(new $4e({abstractNumId:Aa(e),restartNumberingAfterBreak:0})),this.root.push(new U4e("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new B4e(n))}}class V4e extends Qe{constructor(e){super("w:abstractNumId"),this.root.push(new _n({val:e}))}}class z4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{numId:"w:numId"})}}class e7 extends Qe{constructor(e){if(super("w:num"),We(this,"numId"),We(this,"reference"),We(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new z4e({numId:Aa(e.numId)})),this.root.push(new V4e(Aa(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new W4e(r.num,r.start))}}class q4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{ilvl:"w:ilvl"})}}class W4e extends Qe{constructor(e,r){super("w:lvlOverride"),this.root.push(new q4e({ilvl:e})),r!==void 0&&this.root.push(new G4e(r))}}class H4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class G4e extends Qe{constructor(e){super("w:startOverride"),this.root.push(new H4e({val:e}))}}class K4e extends Qe{constructor(e){super("w:numbering"),We(this,"abstractNumberingMap",new Map),We(this,"concreteNumberingMap",new Map),We(this,"referenceConfigMap",new Map),We(this,"abstractNumUniqueNumericId",XSe()),We(this,"concreteNumUniqueNumericId",JSe()),this.root.push(new $2(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new ZD(this.abstractNumUniqueNumericId(),[{level:0,format:Hl.BULLET,text:"●",alignment:Kt.LEFT,style:{paragraph:{indent:{left:Xs(.5),hanging:Xs(.25)}}}},{level:1,format:Hl.BULLET,text:"○",alignment:Kt.LEFT,style:{paragraph:{indent:{left:Xs(1),hanging:Xs(.25)}}}},{level:2,format:Hl.BULLET,text:"■",alignment:Kt.LEFT,style:{paragraph:{indent:{left:2160,hanging:Xs(.25)}}}},{level:3,format:Hl.BULLET,text:"●",alignment:Kt.LEFT,style:{paragraph:{indent:{left:2880,hanging:Xs(.25)}}}},{level:4,format:Hl.BULLET,text:"○",alignment:Kt.LEFT,style:{paragraph:{indent:{left:3600,hanging:Xs(.25)}}}},{level:5,format:Hl.BULLET,text:"■",alignment:Kt.LEFT,style:{paragraph:{indent:{left:4320,hanging:Xs(.25)}}}},{level:6,format:Hl.BULLET,text:"●",alignment:Kt.LEFT,style:{paragraph:{indent:{left:5040,hanging:Xs(.25)}}}},{level:7,format:Hl.BULLET,text:"●",alignment:Kt.LEFT,style:{paragraph:{indent:{left:5760,hanging:Xs(.25)}}}},{level:8,format:Hl.BULLET,text:"●",alignment:Kt.LEFT,style:{paragraph:{indent:{left:6480,hanging:Xs(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new e7({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new ZD(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;const a=this.referenceConfigMap.get(e),s=a&&a[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[s&&Number.isInteger(s)?{num:0,start:s}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new e7(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class Y4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class X4e extends Qe{constructor(e){super("w:compatSetting"),this.root.push(new Y4e({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class J4e extends Qe{constructor(e){super("w:compat"),e.version&&this.root.push(new X4e(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Ze("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Ze("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Ze("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Ze("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Ze("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Ze("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Ze("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Ze("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Ze("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Ze("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Ze("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Ze("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Ze("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Ze("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Ze("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Ze("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Ze("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Ze("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Ze("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Ze("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Ze("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Ze("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Ze("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Ze("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Ze("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Ze("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Ze("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Ze("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Ze("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Ze("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Ze("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Ze("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Ze("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Ze("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Ze("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Ze("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Ze("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Ze("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Ze("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Ze("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Ze("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Ze("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Ze("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Ze("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Ze("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Ze("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Ze("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Ze("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Ze("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Ze("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Ze("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Ze("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Ze("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Ze("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Ze("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Ze("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Ze("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Ze("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Ze("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Ze("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Ze("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Ze("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Ze("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Ze("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Ze("w:cachedColBalance",e.cachedColumnBalance))}}class Q4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}let Z4e=class extends Qe{constructor(e){var r,n,i,a,s,o,l,c;super("w:settings"),this.root.push(new Q4e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Ze("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Ze("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Ze("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Ze("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new h0("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new Ze("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new h0("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new h0("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((a=e.hyphenation)==null?void 0:a.doNotHyphenateCaps)!==void 0&&this.root.push(new Ze("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new J4e(um(Xt({},(s=e.compatibility)!=null?s:{}),{version:(c=(l=(o=e.compatibility)==null?void 0:o.version)!=null?l:e.compatibilityModeVersion)!=null?c:15})))}};class _G extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class e3e extends Qe{constructor(e){super("w:name"),this.root.push(new _G({val:e}))}}class t3e extends Qe{constructor(e){super("w:uiPriority"),this.root.push(new _G({val:Aa(e)}))}}class r3e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class EG extends Qe{constructor(e,r){super("w:style"),this.root.push(new r3e(e)),r.name&&this.root.push(new e3e(r.name)),r.basedOn&&this.root.push(new Lp("w:basedOn",r.basedOn)),r.next&&this.root.push(new Lp("w:next",r.next)),r.link&&this.root.push(new Lp("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new t3e(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Ze("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Ze("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Ze("w:qFormat",r.quickFormat))}}class V2 extends EG{constructor(e){super({type:"paragraph",styleId:e.id},e),We(this,"paragraphProperties"),We(this,"runProperties"),this.paragraphProperties=new mm(e.paragraph),this.runProperties=new ch(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class z2 extends EG{constructor(e){super({type:"character",styleId:e.id},Xt({uiPriority:99,unhideWhenUsed:!0},e)),We(this,"runProperties"),this.runProperties=new ch(e.run),this.root.push(this.runProperties)}}class Sd extends V2{constructor(e){super(Xt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class n3e extends Sd{constructor(e){super(Xt({id:"Title",name:"Title"},e))}}class i3e extends Sd{constructor(e){super(Xt({id:"Heading1",name:"Heading 1"},e))}}class a3e extends Sd{constructor(e){super(Xt({id:"Heading2",name:"Heading 2"},e))}}class s3e extends Sd{constructor(e){super(Xt({id:"Heading3",name:"Heading 3"},e))}}class o3e extends Sd{constructor(e){super(Xt({id:"Heading4",name:"Heading 4"},e))}}class l3e extends Sd{constructor(e){super(Xt({id:"Heading5",name:"Heading 5"},e))}}class c3e extends Sd{constructor(e){super(Xt({id:"Heading6",name:"Heading 6"},e))}}class u3e extends Sd{constructor(e){super(Xt({id:"Strong",name:"Strong"},e))}}class d3e extends V2{constructor(e){super(Xt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class f3e extends V2{constructor(e){super(Xt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:y4.AUTO}},run:{size:20}},e))}}class h3e extends z2{constructor(e){super(Xt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class p3e extends z2{constructor(e){super(Xt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class m3e extends z2{constructor(e){super(Xt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:yG.SINGLE}}},e))}}class w4 extends Qe{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new V2(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new z2(r))}}class g3e extends Qe{constructor(e){super("w:pPrDefault"),this.root.push(new mm(e))}}class y3e extends Qe{constructor(e){super("w:rPrDefault"),this.root.push(new ch(e))}}class v3e extends Qe{constructor(e){super("w:docDefaults"),We(this,"runPropertiesDefaults"),We(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new y3e(e.run),this.paragraphPropertiesDefaults=new g3e(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class w3e{newInstance(e){const r=uG.xml2js(e,{compact:!1});let n;for(const s of r.elements||[])s.name==="w:styles"&&(n=s);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new w4({initialStyles:new uSe(n.attributes),importedStyles:i.map(s=>VC(s))})}}class t7{newInstance(e={}){var r;return{initialStyles:new $2(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new v3e((r=e.document)!=null?r:{}),new n3e(Xt({run:{size:56}},e.title)),new i3e(Xt({run:{color:"2E74B5",size:32}},e.heading1)),new a3e(Xt({run:{color:"2E74B5",size:26}},e.heading2)),new s3e(Xt({run:{color:"1F4D78",size:24}},e.heading3)),new o3e(Xt({run:{color:"2E74B5",italics:!0}},e.heading4)),new l3e(Xt({run:{color:"2E74B5"}},e.heading5)),new c3e(Xt({run:{color:"1F4D78"}},e.heading6)),new u3e(Xt({run:{bold:!0}},e.strong)),new d3e(e.listParagraph||{}),new m3e(e.hyperlink||{}),new h3e(e.footnoteReference||{}),new f3e(e.footnoteText||{}),new p3e(e.footnoteTextChar||{})]}}}let r7=class{constructor(e){We(this,"currentRelationshipId",1),We(this,"documentWrapper"),We(this,"headers",[]),We(this,"footers",[]),We(this,"coreProperties"),We(this,"numbering"),We(this,"media"),We(this,"fileRelationships"),We(this,"footnotesWrapper"),We(this,"settings"),We(this,"contentTypes"),We(this,"customProperties"),We(this,"appProperties"),We(this,"styles"),We(this,"comments"),We(this,"fontWrapper");var r,n,i,a,s,o,l,c,u,f,p,h;if(this.coreProperties=new i4e(um(Xt({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new K4e(e.numbering?e.numbering:{config:[]}),this.comments=new lNe((a=e.comments)!=null?a:{children:[]}),this.fileRelationships=new uh,this.customProperties=new u4e((s=e.customProperties)!=null?s:[]),this.appProperties=new ZNe,this.footnotesWrapper=new T4e,this.contentTypes=new n4e,this.documentWrapper=new xG({background:e.background}),this.settings=new Z4e({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(o=e.features)==null?void 0:o.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(c=e.hyphenation)==null?void 0:c.autoHyphenation,hyphenationZone:(u=e.hyphenation)==null?void 0:u.hyphenationZone,consecutiveHyphenLimit:(f=e.hyphenation)==null?void 0:f.consecutiveHyphenLimit,doNotHyphenateCaps:(p=e.hyphenation)==null?void 0:p.doNotHyphenateCaps}}),this.media=new I4e,e.externalStyles!==void 0){const y=new w3e;this.styles=y.newInstance(e.externalStyles)}else if(e.styles){const m=new t7().newInstance(e.styles.default);this.styles=new w4(Xt(Xt({},m),e.styles))}else{const y=new t7;this.styles=new w4(y.newInstance())}this.addDefaultRelationships();for(const y of e.sections)this.addSection(y);if(e.footnotes)for(const y in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),e.footnotes[y].children);this.fontWrapper=new p4e((h=e.fonts)!=null?h:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(um(Xt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const a of n)this.documentWrapper.View.add(a)}createHeader(e){const r=new k4e(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new y4e(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Dp.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Dp.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var b3e=BC();function f1(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var AA={exports:{}},n7;function x3e(){return n7||(n7=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function s(c,u){if(!i[c]){if(!n[c]){var f=typeof f1=="function"&&f1;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var h=i[c]={exports:{}};n[c][0].call(h.exports,function(y){var m=n[c][1][y];return s(m||y)},h,h.exports,r,n,i,a)}return i[c].exports}for(var o=typeof f1=="function"&&f1,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(r,n,i){var a=r("./utils"),s=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,f,p,h,y,m,w=[],g=0,v=l.length,x=v,E=a.getTypeOf(l)!=="string";g<l.length;)x=v-g,f=E?(c=l[g++],u=g<v?l[g++]:0,g<v?l[g++]:0):(c=l.charCodeAt(g++),u=g<v?l.charCodeAt(g++):0,g<v?l.charCodeAt(g++):0),p=c>>2,h=(3&c)<<4|u>>4,y=1<x?(15&u)<<2|f>>6:64,m=2<x?63&f:64,w.push(o.charAt(p)+o.charAt(h)+o.charAt(y)+o.charAt(m));return w.join("")},i.decode=function(l){var c,u,f,p,h,y,m=0,w=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=s.uint8array?new Uint8Array(0|x):new Array(0|x);m<l.length;)c=o.indexOf(l.charAt(m++))<<2|(p=o.indexOf(l.charAt(m++)))>>4,u=(15&p)<<4|(h=o.indexOf(l.charAt(m++)))>>2,f=(3&h)<<6|(y=o.indexOf(l.charAt(m++))),v[w++]=c,h!==64&&(v[w++]=u),y!==64&&(v[w++]=f);return v}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),s=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,f,p,h,y){this.compressedSize=u,this.uncompressedSize=f,this.crc32=p,this.compression=h,this.compressedContent=y}c.prototype={getContentWorker:function(){var u=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,p){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),s=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();n.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(c,u,f,p){var h=s,y=p+f;c^=-1;for(var m=p;m<y;m++)c=c>>>8^h[255&(c^u[m])];return-1^c}(0|l,o,o.length,0):function(c,u,f,p){var h=s,y=p+f;c^=-1;for(var m=p;m<y;m++)c=c>>>8^h[255&(c^u.charCodeAt(m))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),c=a?"uint8array":"array";function u(f,p){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(h,y){var m,w="";for(m=0;m<y;m++)w+=String.fromCharCode(255&h),h>>>=8;return w}function s(h,y,m,w,g,v){var x,E,S=h.file,C=h.compression,P=v!==c.utf8encode,k=o.transformTo("string",v(S.name)),T=o.transformTo("string",c.utf8encode(S.name)),W=S.comment,M=o.transformTo("string",v(W)),A=o.transformTo("string",c.utf8encode(W)),I=T.length!==S.name.length,L=A.length!==W.length,se="",pe="",X="",ce=S.dir,ue=S.date,xe={crc32:0,compressedSize:0,uncompressedSize:0};y&&!m||(xe.crc32=h.crc32,xe.compressedSize=h.compressedSize,xe.uncompressedSize=h.uncompressedSize);var we=0;y&&(we|=8),P||!I&&!L||(we|=2048);var F=0,J=0;ce&&(F|=16),g==="UNIX"?(J=798,F|=function(fe,Q){var $=fe;return fe||($=Q?16893:33204),(65535&$)<<16}(S.unixPermissions,ce)):(J=20,F|=function(fe){return 63&(fe||0)}(S.dosPermissions)),x=ue.getUTCHours(),x<<=6,x|=ue.getUTCMinutes(),x<<=5,x|=ue.getUTCSeconds()/2,E=ue.getUTCFullYear()-1980,E<<=4,E|=ue.getUTCMonth()+1,E<<=5,E|=ue.getUTCDate(),I&&(pe=a(1,1)+a(u(k),4)+T,se+="up"+a(pe.length,2)+pe),L&&(X=a(1,1)+a(u(M),4)+A,se+="uc"+a(X.length,2)+X);var ie="";return ie+=`
\0`,ie+=a(we,2),ie+=C.magic,ie+=a(x,2),ie+=a(E,2),ie+=a(xe.crc32,4),ie+=a(xe.compressedSize,4),ie+=a(xe.uncompressedSize,4),ie+=a(k.length,2),ie+=a(se.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ie+k+se,dirRecord:f.CENTRAL_FILE_HEADER+a(J,2)+ie+a(M.length,2)+"\0\0\0\0"+a(F,4)+a(w,4)+k+se+M}}var o=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),f=r("../signature");function p(h,y,m,w){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=m,this.encodeFileName=w,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,l),p.prototype.push=function(h){var y=h.meta.percent||0,m=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(y+100*(m-w-1))/m:100}}))},p.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var y=this.streamFiles&&!h.file.dir;if(y){var m=s(h,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(h){this.accumulate=!1;var y=this.streamFiles&&!h.file.dir,m=s(h,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),y)this.push({data:function(w){return f.DATA_DESCRIPTOR+a(w.crc32,4)+a(w.compressedSize,4)+a(w.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var h=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var m=this.bytesWritten-h,w=function(g,v,x,E,S){var C=o.transformTo("string",S(E));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(g,2)+a(g,2)+a(v,4)+a(x,4)+a(C.length,2)+C}(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(h){this._sources.push(h);var y=this;return h.on("data",function(m){y.processChunk(m)}),h.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),h.on("error",function(m){y.error(m)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(h){var y=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<y.length;m++)try{y[m].error(h)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,y=0;y<h.length;y++)h[y].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),s=r("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(p,h){f++;var y=function(v,x){var E=v||x,S=a[E];if(!S)throw new Error(E+" is not a valid compression method !");return S}(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},w=h.dir,g=h.date;h._compressWorker(y,m).withStreamInfo("file",{name:p,dir:w,date:g,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),s=r("./external"),o=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function f(p){return new s.Promise(function(h,y){var m=p.decompressed.getContentWorker().pipe(new c);m.on("error",function(w){y(w)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(p,h){var y=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,h.optimizedBinaryString,h.base64).then(function(m){var w=new l(h);return w.load(m),w}).then(function(m){var w=[s.Promise.resolve(m)],g=m.files;if(h.checkCRC32)for(var v=0;v<g.length;v++)w.push(f(g[v]));return s.Promise.all(w)}).then(function(m){for(var w=m.shift(),g=w.files,v=0;v<g.length;v++){var x=g[v],E=x.fileNameStr,S=a.resolve(x.fileNameStr);y.file(S,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(y.file(S).unsafeOriginalName=E)}return w.zipComment.length&&(y.comment=w.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),s=r("../stream/GenericWorker");function o(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(o,s),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function s(o,l,c){a.call(this,l),this._helper=o;var u=this;o.on("data",function(f,p){u.push(f)||u._helper.pause(),c&&c(p)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}r("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(S,C,P){var k,T=o.getTypeOf(C),W=o.extend(P||{},u);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(S=g(S)),W.createFolders&&(k=w(S))&&v.call(this,k,!0);var M=T==="string"&&W.binary===!1&&W.base64===!1;P&&P.binary!==void 0||(W.binary=!M),(C instanceof f&&C.uncompressedSize===0||W.dir||!C||C.length===0)&&(W.base64=!1,W.binary=!0,C="",W.compression="STORE",T="string");var A=null;A=C instanceof f||C instanceof l?C:y.isNode&&y.isStream(C)?new m(S,C):o.prepareContent(S,C,W.binary,W.optimizedBinaryString,W.base64);var I=new p(S,A,W);this.files[S]=I}var s=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),f=r("./compressedObject"),p=r("./zipObject"),h=r("./generate"),y=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),w=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var C=S.lastIndexOf("/");return 0<C?S.substring(0,C):""},g=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},v=function(S,C){return C=C!==void 0?C:u.createFolders,S=g(S),this.files[S]||a.call(this,S,null,{dir:!0,createFolders:C}),this.files[S]};function x(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var C,P,k;for(C in this.files)k=this.files[C],(P=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&S(P,k)},filter:function(S){var C=[];return this.forEach(function(P,k){S(P,k)&&C.push(k)}),C},file:function(S,C,P){if(arguments.length!==1)return S=this.root+S,a.call(this,S,C,P),this;if(x(S)){var k=S;return this.filter(function(W,M){return!M.dir&&k.test(W)})}var T=this.files[this.root+S];return T&&!T.dir?T:null},folder:function(S){if(!S)return this;if(x(S))return this.filter(function(T,W){return W.dir&&S.test(T)});var C=this.root+S,P=v.call(this,C),k=this.clone();return k.root=P.name,k},remove:function(S){S=this.root+S;var C=this.files[S];if(C||(S.slice(-1)!=="/"&&(S+="/"),C=this.files[S]),C&&!C.dir)delete this.files[S];else for(var P=this.filter(function(T,W){return W.name.slice(0,S.length)===S}),k=0;k<P.length;k++)delete this.files[P[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var C,P={};try{if((P=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");o.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var k=P.comment||this.comment||"";C=h.generateWorker(this,P,k)}catch(T){(C=new l("error")).error(T)}return new c(C,P.type||"string",P.mimeType)},generateAsync:function(S,C){return this.generateInternalStream(S).accumulate(C)},generateNodeStream:function(S,C){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(C)}};n.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===f)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&f===p[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=s},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),s=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(f){var p=a.getTypeOf(f);return a.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new c(f):s.uint8array?new u(a.transformTo("uint8array",f)):new o(a.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),s=r("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),s=r("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),s=r("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),s=r("./GenericWorker");function o(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=a.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),s=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),f=null;if(c.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(y,m){return new u.Promise(function(w,g){var v=[],x=y._internalType,E=y._outputType,S=y._mimeType;y.on("data",function(C,P){v.push(C),m&&m(P)}).on("error",function(C){v=[],g(C)}).on("end",function(){try{var C=function(P,k,T){switch(P){case"blob":return a.newBlob(a.transformTo("arraybuffer",k),T);case"base64":return l.encode(k);default:return a.transformTo(P,k)}}(E,function(P,k){var T,W=0,M=null,A=0;for(T=0;T<k.length;T++)A+=k[T].length;switch(P){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(M=new Uint8Array(A),T=0;T<k.length;T++)M.set(k[T],W),W+=k[T].length;return M;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+P+"'")}}(x,v),S);w(C)}catch(P){g(P)}v=[]}).resume()})}function h(y,m,w){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=w,a.checkSupport(g),this._worker=y.pipe(new s(g)),y.lock()}catch(v){this._worker=new o("error"),this._worker.error(v)}}h.prototype={accumulate:function(y){return p(this,y)},on:function(y,m){var w=this;return y==="data"?this._worker.on(y,function(g){m.call(w,g.data,g.meta)}):this._worker.on(y,function(){a.delay(m,arguments,w)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),s=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?o.newBufferFrom(h,"utf-8"):function(y){var m,w,g,v,x,E=y.length,S=0;for(v=0;v<E;v++)(64512&(w=y.charCodeAt(v)))==55296&&v+1<E&&(64512&(g=y.charCodeAt(v+1)))==56320&&(w=65536+(w-55296<<10)+(g-56320),v++),S+=w<128?1:w<2048?2:w<65536?3:4;for(m=s.uint8array?new Uint8Array(S):new Array(S),v=x=0;x<S;v++)(64512&(w=y.charCodeAt(v)))==55296&&v+1<E&&(64512&(g=y.charCodeAt(v+1)))==56320&&(w=65536+(w-55296<<10)+(g-56320),v++),w<128?m[x++]=w:(w<2048?m[x++]=192|w>>>6:(w<65536?m[x++]=224|w>>>12:(m[x++]=240|w>>>18,m[x++]=128|w>>>12&63),m[x++]=128|w>>>6&63),m[x++]=128|63&w);return m}(h)},i.utf8decode=function(h){return s.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):function(y){var m,w,g,v,x=y.length,E=new Array(2*x);for(m=w=0;m<x;)if((g=y[m++])<128)E[w++]=g;else if(4<(v=c[g]))E[w++]=65533,m+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&m<x;)g=g<<6|63&y[m++],v--;1<v?E[w++]=65533:g<65536?E[w++]=g:(g-=65536,E[w++]=55296|g>>10&1023,E[w++]=56320|1023&g)}return E.length!==w&&(E.subarray?E=E.subarray(0,w):E.length=w),a.applyFromCharCode(E)}(h=a.transformTo(s.uint8array?"uint8array":"array",h))},a.inherits(f,l),f.prototype.processChunk=function(h){var y=a.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var m=y;(y=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),y.set(m,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var w=function(v,x){var E;for((x=x||v.length)>v.length&&(x=v.length),E=x-1;0<=E&&(192&v[E])==128;)E--;return E<0||E===0?x:E+c[v[E]]>x?E:x}(y),g=y;w!==y.length&&(s.uint8array?(g=y.subarray(0,w),this.leftOver=y.subarray(w,y.length)):(g=y.slice(0,w),this.leftOver=y.slice(w,y.length))),this.push({data:i.utf8decode(g),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,a.inherits(p,l),p.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),s=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function c(m){return m}function u(m,w){for(var g=0;g<m.length;++g)w[g]=255&m.charCodeAt(g);return w}r("setimmediate"),i.newBlob=function(m,w){i.checkSupport("blob");try{return new Blob([m],{type:w})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,w,g){var v=[],x=0,E=m.length;if(E<=g)return String.fromCharCode.apply(null,m);for(;x<E;)w==="array"||w==="nodebuffer"?v.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+g,E)))):v.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+g,E)))),x+=g;return v.join("")},stringifyByChar:function(m){for(var w="",g=0;g<m.length;g++)w+=String.fromCharCode(m[g]);return w},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(m){var w=65536,g=i.getTypeOf(m),v=!0;if(g==="uint8array"?v=f.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=f.applyCanBeUsed.nodebuffer),v)for(;1<w;)try{return f.stringifyByChunk(m,g,w)}catch{w=Math.floor(w/2)}return f.stringifyByChar(m)}function h(m,w){for(var g=0;g<m.length;g++)w[g]=m[g];return w}i.applyFromCharCode=p;var y={};y.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return y.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,o.allocBuffer(m.length))}},y.array={string:p,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},y.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},y.uint8array={string:p,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return o.newBufferFrom(m)}},y.nodebuffer={string:p,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return y.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,w){if(w=w||"",!m)return w;i.checkSupport(m);var g=i.getTypeOf(w);return y[g][m](w)},i.resolve=function(m){for(var w=m.split("/"),g=[],v=0;v<w.length;v++){var x=w[v];x==="."||x===""&&v!==0&&v!==w.length-1||(x===".."?g.pop():g.push(x))}return g.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(m)?"nodebuffer":a.uint8array&&m instanceof Uint8Array?"uint8array":a.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!a[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var w,g,v="";for(g=0;g<(m||"").length;g++)v+="\\x"+((w=m.charCodeAt(g))<16?"0":"")+w.toString(16).toUpperCase();return v},i.delay=function(m,w,g){setImmediate(function(){m.apply(g||null,w||[])})},i.inherits=function(m,w){function g(){}g.prototype=w.prototype,m.prototype=new g},i.extend=function(){var m,w,g={};for(m=0;m<arguments.length;m++)for(w in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],w)&&g[w]===void 0&&(g[w]=arguments[m][w]);return g},i.prepareContent=function(m,w,g,v,x){return l.Promise.resolve(w).then(function(E){return a.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,C){var P=new FileReader;P.onload=function(k){S(k.target.result)},P.onerror=function(k){C(k.target.error)},P.readAsArrayBuffer(E)}):E}).then(function(E){var S=i.getTypeOf(E);return S?(S==="arraybuffer"?E=i.transformTo("uint8array",E):S==="string"&&(x?E=s.decode(E):g&&v!==!0&&(E=function(C){return u(C,a.uint8array?new Uint8Array(C.length):new Array(C.length))}(E))),E):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),s=r("./utils"),o=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(f)+")")}},isSignature:function(f,p){var h=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===p;return this.reader.setIndex(h),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",h=s.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,h,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),p=this.reader.readInt(4),h=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var y=p-h;if(0<y)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),s=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),f=r("./support");function p(h,y){this.options=h,this.loadOptions=y}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var y,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(w){for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&u[g].magic===w)return u[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var y=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(y),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var y,m,w,g=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<g;)y=h.readInt(2),m=h.readInt(2),w=h.readData(m),this.extraFields[y]={id:y,length:m,value:w};h.setIndex(g)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var m=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var g=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:c.utf8decode(y.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:c.utf8decode(y.readData(h.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(y,m,w){this.name=y,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=m,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var s=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");a.prototype={internalStream:function(y){var m=null,w="string";try{if(!y)throw new Error("No output type specified.");var g=(w=y.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),m=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(m=m.pipe(new l.Utf8EncodeWorker)),!v&&g&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(x){(m=new u("error")).error(x)}return new s(m,w,"")},async:function(y,m){return this.internalStream(y).accumulate(m)},nodeStream:function(y,m){return this.internalStream(y||"nodebuffer").toNodejsStream(m)},_compressWorker:function(y,m){if(this._data instanceof c&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(w,y,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)a.prototype[f[h]]=p;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var c=0,u=new l(y),f=a.document.createTextNode("");u.observe(f,{characterData:!0}),s=function(){f.data=c=++c%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var m=a.document.createElement("script");m.onreadystatechange=function(){y(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:function(){setTimeout(y,0)};else{var p=new a.MessageChannel;p.port1.onmessage=y,s=function(){p.port2.postMessage(0)}}var h=[];function y(){var m,w;o=!0;for(var g=h.length;g;){for(w=h,h=[],m=-1;++m<g;)w[m]();g=h.length}o=!1}n.exports=function(m){h.push(m)!==1||o||s()}}).call(this,typeof rl<"u"?rl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function s(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,g!==s&&m(this,g)}function p(g,v,x){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(g,v,x){a(function(){var E;try{E=v(x)}catch(S){return o.reject(g,S)}E===g?o.reject(g,new TypeError("Cannot resolve promise with itself")):o.resolve(g,E)})}function y(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function m(g,v){var x=!1;function E(P){x||(x=!0,o.reject(g,P))}function S(P){x||(x=!0,o.resolve(g,P))}var C=w(function(){v(S,E)});C.status==="error"&&E(C.value)}function w(g,v){var x={};try{x.value=g(v),x.status="success"}catch(E){x.status="error",x.value=E}return x}(n.exports=f).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(x){return v.resolve(g()).then(function(){return x})},function(x){return v.resolve(g()).then(function(){throw x})})},f.prototype.catch=function(g){return this.then(null,g)},f.prototype.then=function(g,v){if(typeof g!="function"&&this.state===c||typeof v!="function"&&this.state===l)return this;var x=new this.constructor(s);return this.state!==u?h(x,this.state===c?g:v,this.outcome):this.queue.push(new p(x,g,v)),x},p.prototype.callFulfilled=function(g){o.resolve(this.promise,g)},p.prototype.otherCallFulfilled=function(g){h(this.promise,this.onFulfilled,g)},p.prototype.callRejected=function(g){o.reject(this.promise,g)},p.prototype.otherCallRejected=function(g){h(this.promise,this.onRejected,g)},o.resolve=function(g,v){var x=w(y,v);if(x.status==="error")return o.reject(g,x.value);var E=x.value;if(E)m(g,E);else{g.state=c,g.outcome=v;for(var S=-1,C=g.queue.length;++S<C;)g.queue[S].callFulfilled(v)}return g},o.reject=function(g,v){g.state=l,g.outcome=v;for(var x=-1,E=g.queue.length;++x<E;)g.queue[x].callRejected(v);return g},f.resolve=function(g){return g instanceof this?g:o.resolve(new this(s),g)},f.reject=function(g){var v=new this(s);return o.reject(v,g)},f.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,E=!1;if(!x)return this.resolve([]);for(var S=new Array(x),C=0,P=-1,k=new this(s);++P<x;)T(g[P],P);return k;function T(W,M){v.resolve(W).then(function(A){S[M]=A,++C!==x||E||(E=!0,o.resolve(k,S))},function(A){E||(E=!0,o.reject(k,A))})}},f.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,E=!1;if(!x)return this.resolve([]);for(var S=-1,C=new this(s);++S<x;)P=g[S],v.resolve(P).then(function(k){E||(E=!0,o.resolve(C,k))},function(k){E||(E=!0,o.reject(C,k))});var P;return C}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),s=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,f=0,p=-1,h=0,y=8;function m(g){if(!(this instanceof m))return new m(g);this.options=s.assign({level:p,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(x!==f)throw new Error(l[x]);if(v.header&&a.deflateSetHeader(this.strm,v.header),v.dictionary){var E;if(E=typeof v.dictionary=="string"?o.string2buf(v.dictionary):u.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(x=a.deflateSetDictionary(this.strm,E))!==f)throw new Error(l[x]);this._dict_set=!0}}function w(g,v){var x=new m(v);if(x.push(g,!0),x.err)throw x.msg||l[x.err];return x.result}m.prototype.push=function(g,v){var x,E,S=this.strm,C=this.options.chunkSize;if(this.ended)return!1;E=v===~~v?v:v===!0?4:0,typeof g=="string"?S.input=o.string2buf(g):u.call(g)==="[object ArrayBuffer]"?S.input=new Uint8Array(g):S.input=g,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new s.Buf8(C),S.next_out=0,S.avail_out=C),(x=a.deflate(S,E))!==1&&x!==f)return this.onEnd(x),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(S.output,S.next_out))):this.onData(s.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&x!==1);return E===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===f):E!==2||(this.onEnd(f),!(S.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=m,i.deflate=w,i.deflateRaw=function(g,v){return(v=v||{}).raw=!0,w(g,v)},i.gzip=function(g,v){return(v=v||{}).gzip=!0,w(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),s=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),f=r("./zlib/gzheader"),p=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},m||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||m&&m.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=a.inflateInit2(this.strm,w.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function y(m,w){var g=new h(w);if(g.push(m,!0),g.err)throw g.msg||c[g.err];return g.result}h.prototype.push=function(m,w){var g,v,x,E,S,C,P=this.strm,k=this.options.chunkSize,T=this.options.dictionary,W=!1;if(this.ended)return!1;v=w===~~w?w:w===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?P.input=o.binstring2buf(m):p.call(m)==="[object ArrayBuffer]"?P.input=new Uint8Array(m):P.input=m,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new s.Buf8(k),P.next_out=0,P.avail_out=k),(g=a.inflate(P,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&T&&(C=typeof T=="string"?o.string2buf(T):p.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,g=a.inflateSetDictionary(this.strm,C)),g===l.Z_BUF_ERROR&&W===!0&&(g=l.Z_OK,W=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&g!==l.Z_STREAM_END&&(P.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(P.output,P.next_out),E=P.next_out-x,S=o.buf2string(P.output,x),P.next_out=E,P.avail_out=k-E,E&&s.arraySet(P.output,P.output,x,E,0),this.onData(S)):this.onData(s.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(W=!0)}while((0<P.avail_in||P.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(g=a.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(P.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=y,i.inflateRaw=function(m,w){return(w=w||{}).raw=!0,y(m,w)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,f,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),p);else for(var h=0;h<f;h++)l[p+h]=c[u+h]},flattenChunks:function(l){var c,u,f,p,h,y;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(y=new Uint8Array(f),c=p=0,u=l.length;c<u;c++)h=l[c],y.set(h,p),p+=h.length;return y}},o={arraySet:function(l,c,u,f,p){for(var h=0;h<f;h++)l[p+h]=c[u+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,p){if(p<65537&&(f.subarray&&o||!f.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(f,p));for(var h="",y=0;y<p;y++)h+=String.fromCharCode(f[y]);return h}l[254]=l[254]=1,i.string2buf=function(f){var p,h,y,m,w,g=f.length,v=0;for(m=0;m<g;m++)(64512&(h=f.charCodeAt(m)))==55296&&m+1<g&&(64512&(y=f.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),m++),v+=h<128?1:h<2048?2:h<65536?3:4;for(p=new a.Buf8(v),m=w=0;w<v;m++)(64512&(h=f.charCodeAt(m)))==55296&&m+1<g&&(64512&(y=f.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),m++),h<128?p[w++]=h:(h<2048?p[w++]=192|h>>>6:(h<65536?p[w++]=224|h>>>12:(p[w++]=240|h>>>18,p[w++]=128|h>>>12&63),p[w++]=128|h>>>6&63),p[w++]=128|63&h);return p},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var p=new a.Buf8(f.length),h=0,y=p.length;h<y;h++)p[h]=f.charCodeAt(h);return p},i.buf2string=function(f,p){var h,y,m,w,g=p||f.length,v=new Array(2*g);for(h=y=0;h<g;)if((m=f[h++])<128)v[y++]=m;else if(4<(w=l[m]))v[y++]=65533,h+=w-1;else{for(m&=w===2?31:w===3?15:7;1<w&&h<g;)m=m<<6|63&f[h++],w--;1<w?v[y++]=65533:m<65536?v[y++]=m:(m-=65536,v[y++]=55296|m>>10&1023,v[y++]=56320|1023&m)}return u(v,y)},i.utf8border=function(f,p){var h;for((p=p||f.length)>f.length&&(p=f.length),h=p-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?p:h+l[f[h]]>p?h:p}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,s,o,l){for(var c=65535&a|0,u=a>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;u=u+(c=c+s[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();n.exports=function(s,o,l,c){var u=a,f=c+l;s^=-1;for(var p=c;p<f;p++)s=s>>>8^u[255&(s^o[p])];return-1^s}},{}],46:[function(r,n,i){var a,s=r("../utils/common"),o=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),f=0,p=4,h=0,y=-2,m=-1,w=4,g=2,v=8,x=9,E=286,S=30,C=19,P=2*E+1,k=15,T=3,W=258,M=W+T+1,A=42,I=113,L=1,se=2,pe=3,X=4;function ce(H,ve){return H.msg=u[ve],ve}function ue(H){return(H<<1)-(4<H?9:0)}function xe(H){for(var ve=H.length;0<=--ve;)H[ve]=0}function we(H){var ve=H.state,B=ve.pending;B>H.avail_out&&(B=H.avail_out),B!==0&&(s.arraySet(H.output,ve.pending_buf,ve.pending_out,B,H.next_out),H.next_out+=B,ve.pending_out+=B,H.total_out+=B,H.avail_out-=B,ve.pending-=B,ve.pending===0&&(ve.pending_out=0))}function F(H,ve){o._tr_flush_block(H,0<=H.block_start?H.block_start:-1,H.strstart-H.block_start,ve),H.block_start=H.strstart,we(H.strm)}function J(H,ve){H.pending_buf[H.pending++]=ve}function ie(H,ve){H.pending_buf[H.pending++]=ve>>>8&255,H.pending_buf[H.pending++]=255&ve}function fe(H,ve){var B,j,R=H.max_chain_length,q=H.strstart,G=H.prev_length,ne=H.nice_match,re=H.strstart>H.w_size-M?H.strstart-(H.w_size-M):0,Ae=H.window,Ne=H.w_mask,Se=H.prev,Ie=H.strstart+W,Fe=Ae[q+G-1],Ke=Ae[q+G];H.prev_length>=H.good_match&&(R>>=2),ne>H.lookahead&&(ne=H.lookahead);do if(Ae[(B=ve)+G]===Ke&&Ae[B+G-1]===Fe&&Ae[B]===Ae[q]&&Ae[++B]===Ae[q+1]){q+=2,B++;do;while(Ae[++q]===Ae[++B]&&Ae[++q]===Ae[++B]&&Ae[++q]===Ae[++B]&&Ae[++q]===Ae[++B]&&Ae[++q]===Ae[++B]&&Ae[++q]===Ae[++B]&&Ae[++q]===Ae[++B]&&Ae[++q]===Ae[++B]&&q<Ie);if(j=W-(Ie-q),q=Ie-W,G<j){if(H.match_start=ve,ne<=(G=j))break;Fe=Ae[q+G-1],Ke=Ae[q+G]}}while((ve=Se[ve&Ne])>re&&--R!=0);return G<=H.lookahead?G:H.lookahead}function Q(H){var ve,B,j,R,q,G,ne,re,Ae,Ne,Se=H.w_size;do{if(R=H.window_size-H.lookahead-H.strstart,H.strstart>=Se+(Se-M)){for(s.arraySet(H.window,H.window,Se,Se,0),H.match_start-=Se,H.strstart-=Se,H.block_start-=Se,ve=B=H.hash_size;j=H.head[--ve],H.head[ve]=Se<=j?j-Se:0,--B;);for(ve=B=Se;j=H.prev[--ve],H.prev[ve]=Se<=j?j-Se:0,--B;);R+=Se}if(H.strm.avail_in===0)break;if(G=H.strm,ne=H.window,re=H.strstart+H.lookahead,Ae=R,Ne=void 0,Ne=G.avail_in,Ae<Ne&&(Ne=Ae),B=Ne===0?0:(G.avail_in-=Ne,s.arraySet(ne,G.input,G.next_in,Ne,re),G.state.wrap===1?G.adler=l(G.adler,ne,Ne,re):G.state.wrap===2&&(G.adler=c(G.adler,ne,Ne,re)),G.next_in+=Ne,G.total_in+=Ne,Ne),H.lookahead+=B,H.lookahead+H.insert>=T)for(q=H.strstart-H.insert,H.ins_h=H.window[q],H.ins_h=(H.ins_h<<H.hash_shift^H.window[q+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[q+T-1])&H.hash_mask,H.prev[q&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=q,q++,H.insert--,!(H.lookahead+H.insert<T)););}while(H.lookahead<M&&H.strm.avail_in!==0)}function $(H,ve){for(var B,j;;){if(H.lookahead<M){if(Q(H),H.lookahead<M&&ve===f)return L;if(H.lookahead===0)break}if(B=0,H.lookahead>=T&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+T-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),B!==0&&H.strstart-B<=H.w_size-M&&(H.match_length=fe(H,B)),H.match_length>=T)if(j=o._tr_tally(H,H.strstart-H.match_start,H.match_length-T),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=T){for(H.match_length--;H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+T-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart,--H.match_length!=0;);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else j=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(j&&(F(H,!1),H.strm.avail_out===0))return L}return H.insert=H.strstart<T-1?H.strstart:T-1,ve===p?(F(H,!0),H.strm.avail_out===0?pe:X):H.last_lit&&(F(H,!1),H.strm.avail_out===0)?L:se}function V(H,ve){for(var B,j,R;;){if(H.lookahead<M){if(Q(H),H.lookahead<M&&ve===f)return L;if(H.lookahead===0)break}if(B=0,H.lookahead>=T&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+T-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=T-1,B!==0&&H.prev_length<H.max_lazy_match&&H.strstart-B<=H.w_size-M&&(H.match_length=fe(H,B),H.match_length<=5&&(H.strategy===1||H.match_length===T&&4096<H.strstart-H.match_start)&&(H.match_length=T-1)),H.prev_length>=T&&H.match_length<=H.prev_length){for(R=H.strstart+H.lookahead-T,j=o._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-T),H.lookahead-=H.prev_length-1,H.prev_length-=2;++H.strstart<=R&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+T-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),--H.prev_length!=0;);if(H.match_available=0,H.match_length=T-1,H.strstart++,j&&(F(H,!1),H.strm.avail_out===0))return L}else if(H.match_available){if((j=o._tr_tally(H,0,H.window[H.strstart-1]))&&F(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return L}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(j=o._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<T-1?H.strstart:T-1,ve===p?(F(H,!0),H.strm.avail_out===0?pe:X):H.last_lit&&(F(H,!1),H.strm.avail_out===0)?L:se}function te(H,ve,B,j,R){this.good_length=H,this.max_lazy=ve,this.nice_length=B,this.max_chain=j,this.func=R}function ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*P),this.dyn_dtree=new s.Buf16(2*(2*S+1)),this.bl_tree=new s.Buf16(2*(2*C+1)),xe(this.dyn_ltree),xe(this.dyn_dtree),xe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(k+1),this.heap=new s.Buf16(2*E+1),xe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*E+1),xe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(H){var ve;return H&&H.state?(H.total_in=H.total_out=0,H.data_type=g,(ve=H.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?A:I,H.adler=ve.wrap===2?0:1,ve.last_flush=f,o._tr_init(ve),h):ce(H,y)}function ee(H){var ve=Z(H);return ve===h&&function(B){B.window_size=2*B.w_size,xe(B.head),B.max_lazy_match=a[B.level].max_lazy,B.good_match=a[B.level].good_length,B.nice_match=a[B.level].nice_length,B.max_chain_length=a[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=T-1,B.match_available=0,B.ins_h=0}(H.state),ve}function _e(H,ve,B,j,R,q){if(!H)return y;var G=1;if(ve===m&&(ve=6),j<0?(G=0,j=-j):15<j&&(G=2,j-=16),R<1||x<R||B!==v||j<8||15<j||ve<0||9<ve||q<0||w<q)return ce(H,y);j===8&&(j=9);var ne=new ae;return(H.state=ne).strm=H,ne.wrap=G,ne.gzhead=null,ne.w_bits=j,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=R+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+T-1)/T),ne.window=new s.Buf8(2*ne.w_size),ne.head=new s.Buf16(ne.hash_size),ne.prev=new s.Buf16(ne.w_size),ne.lit_bufsize=1<<R+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new s.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=ve,ne.strategy=q,ne.method=B,ee(H)}a=[new te(0,0,0,0,function(H,ve){var B=65535;for(B>H.pending_buf_size-5&&(B=H.pending_buf_size-5);;){if(H.lookahead<=1){if(Q(H),H.lookahead===0&&ve===f)return L;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var j=H.block_start+B;if((H.strstart===0||H.strstart>=j)&&(H.lookahead=H.strstart-j,H.strstart=j,F(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-M&&(F(H,!1),H.strm.avail_out===0))return L}return H.insert=0,ve===p?(F(H,!0),H.strm.avail_out===0?pe:X):(H.strstart>H.block_start&&(F(H,!1),H.strm.avail_out),L)}),new te(4,4,8,4,$),new te(4,5,16,8,$),new te(4,6,32,32,$),new te(4,4,16,16,V),new te(8,16,32,32,V),new te(8,16,128,128,V),new te(8,32,128,256,V),new te(32,128,258,1024,V),new te(32,258,258,4096,V)],i.deflateInit=function(H,ve){return _e(H,ve,v,15,8,0)},i.deflateInit2=_e,i.deflateReset=ee,i.deflateResetKeep=Z,i.deflateSetHeader=function(H,ve){return H&&H.state?H.state.wrap!==2?y:(H.state.gzhead=ve,h):y},i.deflate=function(H,ve){var B,j,R,q;if(!H||!H.state||5<ve||ve<0)return H?ce(H,y):y;if(j=H.state,!H.output||!H.input&&H.avail_in!==0||j.status===666&&ve!==p)return ce(H,H.avail_out===0?-5:y);if(j.strm=H,B=j.last_flush,j.last_flush=ve,j.status===A)if(j.wrap===2)H.adler=0,J(j,31),J(j,139),J(j,8),j.gzhead?(J(j,(j.gzhead.text?1:0)+(j.gzhead.hcrc?2:0)+(j.gzhead.extra?4:0)+(j.gzhead.name?8:0)+(j.gzhead.comment?16:0)),J(j,255&j.gzhead.time),J(j,j.gzhead.time>>8&255),J(j,j.gzhead.time>>16&255),J(j,j.gzhead.time>>24&255),J(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),J(j,255&j.gzhead.os),j.gzhead.extra&&j.gzhead.extra.length&&(J(j,255&j.gzhead.extra.length),J(j,j.gzhead.extra.length>>8&255)),j.gzhead.hcrc&&(H.adler=c(H.adler,j.pending_buf,j.pending,0)),j.gzindex=0,j.status=69):(J(j,0),J(j,0),J(j,0),J(j,0),J(j,0),J(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),J(j,3),j.status=I);else{var G=v+(j.w_bits-8<<4)<<8;G|=(2<=j.strategy||j.level<2?0:j.level<6?1:j.level===6?2:3)<<6,j.strstart!==0&&(G|=32),G+=31-G%31,j.status=I,ie(j,G),j.strstart!==0&&(ie(j,H.adler>>>16),ie(j,65535&H.adler)),H.adler=1}if(j.status===69)if(j.gzhead.extra){for(R=j.pending;j.gzindex<(65535&j.gzhead.extra.length)&&(j.pending!==j.pending_buf_size||(j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),we(H),R=j.pending,j.pending!==j.pending_buf_size));)J(j,255&j.gzhead.extra[j.gzindex]),j.gzindex++;j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),j.gzindex===j.gzhead.extra.length&&(j.gzindex=0,j.status=73)}else j.status=73;if(j.status===73)if(j.gzhead.name){R=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),we(H),R=j.pending,j.pending===j.pending_buf_size)){q=1;break}q=j.gzindex<j.gzhead.name.length?255&j.gzhead.name.charCodeAt(j.gzindex++):0,J(j,q)}while(q!==0);j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),q===0&&(j.gzindex=0,j.status=91)}else j.status=91;if(j.status===91)if(j.gzhead.comment){R=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),we(H),R=j.pending,j.pending===j.pending_buf_size)){q=1;break}q=j.gzindex<j.gzhead.comment.length?255&j.gzhead.comment.charCodeAt(j.gzindex++):0,J(j,q)}while(q!==0);j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),q===0&&(j.status=103)}else j.status=103;if(j.status===103&&(j.gzhead.hcrc?(j.pending+2>j.pending_buf_size&&we(H),j.pending+2<=j.pending_buf_size&&(J(j,255&H.adler),J(j,H.adler>>8&255),H.adler=0,j.status=I)):j.status=I),j.pending!==0){if(we(H),H.avail_out===0)return j.last_flush=-1,h}else if(H.avail_in===0&&ue(ve)<=ue(B)&&ve!==p)return ce(H,-5);if(j.status===666&&H.avail_in!==0)return ce(H,-5);if(H.avail_in!==0||j.lookahead!==0||ve!==f&&j.status!==666){var ne=j.strategy===2?function(re,Ae){for(var Ne;;){if(re.lookahead===0&&(Q(re),re.lookahead===0)){if(Ae===f)return L;break}if(re.match_length=0,Ne=o._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,Ne&&(F(re,!1),re.strm.avail_out===0))return L}return re.insert=0,Ae===p?(F(re,!0),re.strm.avail_out===0?pe:X):re.last_lit&&(F(re,!1),re.strm.avail_out===0)?L:se}(j,ve):j.strategy===3?function(re,Ae){for(var Ne,Se,Ie,Fe,Ke=re.window;;){if(re.lookahead<=W){if(Q(re),re.lookahead<=W&&Ae===f)return L;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=T&&0<re.strstart&&(Se=Ke[Ie=re.strstart-1])===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]){Fe=re.strstart+W;do;while(Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Ie<Fe);re.match_length=W-(Fe-Ie),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=T?(Ne=o._tr_tally(re,1,re.match_length-T),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(Ne=o._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),Ne&&(F(re,!1),re.strm.avail_out===0))return L}return re.insert=0,Ae===p?(F(re,!0),re.strm.avail_out===0?pe:X):re.last_lit&&(F(re,!1),re.strm.avail_out===0)?L:se}(j,ve):a[j.level].func(j,ve);if(ne!==pe&&ne!==X||(j.status=666),ne===L||ne===pe)return H.avail_out===0&&(j.last_flush=-1),h;if(ne===se&&(ve===1?o._tr_align(j):ve!==5&&(o._tr_stored_block(j,0,0,!1),ve===3&&(xe(j.head),j.lookahead===0&&(j.strstart=0,j.block_start=0,j.insert=0))),we(H),H.avail_out===0))return j.last_flush=-1,h}return ve!==p?h:j.wrap<=0?1:(j.wrap===2?(J(j,255&H.adler),J(j,H.adler>>8&255),J(j,H.adler>>16&255),J(j,H.adler>>24&255),J(j,255&H.total_in),J(j,H.total_in>>8&255),J(j,H.total_in>>16&255),J(j,H.total_in>>24&255)):(ie(j,H.adler>>>16),ie(j,65535&H.adler)),we(H),0<j.wrap&&(j.wrap=-j.wrap),j.pending!==0?h:1)},i.deflateEnd=function(H){var ve;return H&&H.state?(ve=H.state.status)!==A&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==I&&ve!==666?ce(H,y):(H.state=null,ve===I?ce(H,-3):h):y},i.deflateSetDictionary=function(H,ve){var B,j,R,q,G,ne,re,Ae,Ne=ve.length;if(!H||!H.state||(q=(B=H.state).wrap)===2||q===1&&B.status!==A||B.lookahead)return y;for(q===1&&(H.adler=l(H.adler,ve,Ne,0)),B.wrap=0,Ne>=B.w_size&&(q===0&&(xe(B.head),B.strstart=0,B.block_start=0,B.insert=0),Ae=new s.Buf8(B.w_size),s.arraySet(Ae,ve,Ne-B.w_size,B.w_size,0),ve=Ae,Ne=B.w_size),G=H.avail_in,ne=H.next_in,re=H.input,H.avail_in=Ne,H.next_in=0,H.input=ve,Q(B);B.lookahead>=T;){for(j=B.strstart,R=B.lookahead-(T-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[j+T-1])&B.hash_mask,B.prev[j&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=j,j++,--R;);B.strstart=j,B.lookahead=T-1,Q(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=T-1,B.match_available=0,H.next_in=ne,H.input=re,H.avail_in=G,B.wrap=q,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,s){var o,l,c,u,f,p,h,y,m,w,g,v,x,E,S,C,P,k,T,W,M,A,I,L,se;o=a.state,l=a.next_in,L=a.input,c=l+(a.avail_in-5),u=a.next_out,se=a.output,f=u-(s-a.avail_out),p=u+(a.avail_out-257),h=o.dmax,y=o.wsize,m=o.whave,w=o.wnext,g=o.window,v=o.hold,x=o.bits,E=o.lencode,S=o.distcode,C=(1<<o.lenbits)-1,P=(1<<o.distbits)-1;e:do{x<15&&(v+=L[l++]<<x,x+=8,v+=L[l++]<<x,x+=8),k=E[v&C];t:for(;;){if(v>>>=T=k>>>24,x-=T,(T=k>>>16&255)===0)se[u++]=65535&k;else{if(!(16&T)){if(!(64&T)){k=E[(65535&k)+(v&(1<<T)-1)];continue t}if(32&T){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}W=65535&k,(T&=15)&&(x<T&&(v+=L[l++]<<x,x+=8),W+=v&(1<<T)-1,v>>>=T,x-=T),x<15&&(v+=L[l++]<<x,x+=8,v+=L[l++]<<x,x+=8),k=S[v&P];r:for(;;){if(v>>>=T=k>>>24,x-=T,!(16&(T=k>>>16&255))){if(!(64&T)){k=S[(65535&k)+(v&(1<<T)-1)];continue r}a.msg="invalid distance code",o.mode=30;break e}if(M=65535&k,x<(T&=15)&&(v+=L[l++]<<x,(x+=8)<T&&(v+=L[l++]<<x,x+=8)),h<(M+=v&(1<<T)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(v>>>=T,x-=T,(T=u-f)<M){if(m<(T=M-T)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(I=g,(A=0)===w){if(A+=y-T,T<W){for(W-=T;se[u++]=g[A++],--T;);A=u-M,I=se}}else if(w<T){if(A+=y+w-T,(T-=w)<W){for(W-=T;se[u++]=g[A++],--T;);if(A=0,w<W){for(W-=T=w;se[u++]=g[A++],--T;);A=u-M,I=se}}}else if(A+=w-T,T<W){for(W-=T;se[u++]=g[A++],--T;);A=u-M,I=se}for(;2<W;)se[u++]=I[A++],se[u++]=I[A++],se[u++]=I[A++],W-=3;W&&(se[u++]=I[A++],1<W&&(se[u++]=I[A++]))}else{for(A=u-M;se[u++]=se[A++],se[u++]=se[A++],se[u++]=se[A++],2<(W-=3););W&&(se[u++]=se[A++],1<W&&(se[u++]=se[A++]))}break}}break}}while(l<c&&u<p);l-=W=x>>3,v&=(1<<(x-=W<<3))-1,a.next_in=l,a.next_out=u,a.avail_in=l<c?c-l+5:5-(l-c),a.avail_out=u<p?p-u+257:257-(u-p),o.hold=v,o.bits=x}},{}],49:[function(r,n,i){var a=r("../utils/common"),s=r("./adler32"),o=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,f=2,p=0,h=-2,y=1,m=852,w=592;function g(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(A){var I;return A&&A.state?(I=A.state,A.total_in=A.total_out=I.total=0,A.msg="",I.wrap&&(A.adler=1&I.wrap),I.mode=y,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new a.Buf32(m),I.distcode=I.distdyn=new a.Buf32(w),I.sane=1,I.back=-1,p):h}function E(A){var I;return A&&A.state?((I=A.state).wsize=0,I.whave=0,I.wnext=0,x(A)):h}function S(A,I){var L,se;return A&&A.state?(se=A.state,I<0?(L=0,I=-I):(L=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?h:(se.window!==null&&se.wbits!==I&&(se.window=null),se.wrap=L,se.wbits=I,E(A))):h}function C(A,I){var L,se;return A?(se=new v,(A.state=se).window=null,(L=S(A,I))!==p&&(A.state=null),L):h}var P,k,T=!0;function W(A){if(T){var I;for(P=new a.Buf32(512),k=new a.Buf32(32),I=0;I<144;)A.lens[I++]=8;for(;I<256;)A.lens[I++]=9;for(;I<280;)A.lens[I++]=7;for(;I<288;)A.lens[I++]=8;for(c(u,A.lens,0,288,P,0,A.work,{bits:9}),I=0;I<32;)A.lens[I++]=5;c(f,A.lens,0,32,k,0,A.work,{bits:5}),T=!1}A.lencode=P,A.lenbits=9,A.distcode=k,A.distbits=5}function M(A,I,L,se){var pe,X=A.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new a.Buf8(X.wsize)),se>=X.wsize?(a.arraySet(X.window,I,L-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(se<(pe=X.wsize-X.wnext)&&(pe=se),a.arraySet(X.window,I,L-se,pe,X.wnext),(se-=pe)?(a.arraySet(X.window,I,L-se,se,0),X.wnext=se,X.whave=X.wsize):(X.wnext+=pe,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=pe))),0}i.inflateReset=E,i.inflateReset2=S,i.inflateResetKeep=x,i.inflateInit=function(A){return C(A,15)},i.inflateInit2=C,i.inflate=function(A,I){var L,se,pe,X,ce,ue,xe,we,F,J,ie,fe,Q,$,V,te,ae,Z,ee,_e,H,ve,B,j,R=0,q=new a.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return h;(L=A.state).mode===12&&(L.mode=13),ce=A.next_out,pe=A.output,xe=A.avail_out,X=A.next_in,se=A.input,ue=A.avail_in,we=L.hold,F=L.bits,J=ue,ie=xe,ve=p;e:for(;;)switch(L.mode){case y:if(L.wrap===0){L.mode=13;break}for(;F<16;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}if(2&L.wrap&&we===35615){q[L.check=0]=255&we,q[1]=we>>>8&255,L.check=o(L.check,q,2,0),F=we=0,L.mode=2;break}if(L.flags=0,L.head&&(L.head.done=!1),!(1&L.wrap)||(((255&we)<<8)+(we>>8))%31){A.msg="incorrect header check",L.mode=30;break}if((15&we)!=8){A.msg="unknown compression method",L.mode=30;break}if(F-=4,H=8+(15&(we>>>=4)),L.wbits===0)L.wbits=H;else if(H>L.wbits){A.msg="invalid window size",L.mode=30;break}L.dmax=1<<H,A.adler=L.check=1,L.mode=512&we?10:12,F=we=0;break;case 2:for(;F<16;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}if(L.flags=we,(255&L.flags)!=8){A.msg="unknown compression method",L.mode=30;break}if(57344&L.flags){A.msg="unknown header flags set",L.mode=30;break}L.head&&(L.head.text=we>>8&1),512&L.flags&&(q[0]=255&we,q[1]=we>>>8&255,L.check=o(L.check,q,2,0)),F=we=0,L.mode=3;case 3:for(;F<32;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}L.head&&(L.head.time=we),512&L.flags&&(q[0]=255&we,q[1]=we>>>8&255,q[2]=we>>>16&255,q[3]=we>>>24&255,L.check=o(L.check,q,4,0)),F=we=0,L.mode=4;case 4:for(;F<16;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}L.head&&(L.head.xflags=255&we,L.head.os=we>>8),512&L.flags&&(q[0]=255&we,q[1]=we>>>8&255,L.check=o(L.check,q,2,0)),F=we=0,L.mode=5;case 5:if(1024&L.flags){for(;F<16;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}L.length=we,L.head&&(L.head.extra_len=we),512&L.flags&&(q[0]=255&we,q[1]=we>>>8&255,L.check=o(L.check,q,2,0)),F=we=0}else L.head&&(L.head.extra=null);L.mode=6;case 6:if(1024&L.flags&&(ue<(fe=L.length)&&(fe=ue),fe&&(L.head&&(H=L.head.extra_len-L.length,L.head.extra||(L.head.extra=new Array(L.head.extra_len)),a.arraySet(L.head.extra,se,X,fe,H)),512&L.flags&&(L.check=o(L.check,se,fe,X)),ue-=fe,X+=fe,L.length-=fe),L.length))break e;L.length=0,L.mode=7;case 7:if(2048&L.flags){if(ue===0)break e;for(fe=0;H=se[X+fe++],L.head&&H&&L.length<65536&&(L.head.name+=String.fromCharCode(H)),H&&fe<ue;);if(512&L.flags&&(L.check=o(L.check,se,fe,X)),ue-=fe,X+=fe,H)break e}else L.head&&(L.head.name=null);L.length=0,L.mode=8;case 8:if(4096&L.flags){if(ue===0)break e;for(fe=0;H=se[X+fe++],L.head&&H&&L.length<65536&&(L.head.comment+=String.fromCharCode(H)),H&&fe<ue;);if(512&L.flags&&(L.check=o(L.check,se,fe,X)),ue-=fe,X+=fe,H)break e}else L.head&&(L.head.comment=null);L.mode=9;case 9:if(512&L.flags){for(;F<16;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}if(we!==(65535&L.check)){A.msg="header crc mismatch",L.mode=30;break}F=we=0}L.head&&(L.head.hcrc=L.flags>>9&1,L.head.done=!0),A.adler=L.check=0,L.mode=12;break;case 10:for(;F<32;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}A.adler=L.check=g(we),F=we=0,L.mode=11;case 11:if(L.havedict===0)return A.next_out=ce,A.avail_out=xe,A.next_in=X,A.avail_in=ue,L.hold=we,L.bits=F,2;A.adler=L.check=1,L.mode=12;case 12:if(I===5||I===6)break e;case 13:if(L.last){we>>>=7&F,F-=7&F,L.mode=27;break}for(;F<3;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}switch(L.last=1&we,F-=1,3&(we>>>=1)){case 0:L.mode=14;break;case 1:if(W(L),L.mode=20,I!==6)break;we>>>=2,F-=2;break e;case 2:L.mode=17;break;case 3:A.msg="invalid block type",L.mode=30}we>>>=2,F-=2;break;case 14:for(we>>>=7&F,F-=7&F;F<32;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}if((65535&we)!=(we>>>16^65535)){A.msg="invalid stored block lengths",L.mode=30;break}if(L.length=65535&we,F=we=0,L.mode=15,I===6)break e;case 15:L.mode=16;case 16:if(fe=L.length){if(ue<fe&&(fe=ue),xe<fe&&(fe=xe),fe===0)break e;a.arraySet(pe,se,X,fe,ce),ue-=fe,X+=fe,xe-=fe,ce+=fe,L.length-=fe;break}L.mode=12;break;case 17:for(;F<14;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}if(L.nlen=257+(31&we),we>>>=5,F-=5,L.ndist=1+(31&we),we>>>=5,F-=5,L.ncode=4+(15&we),we>>>=4,F-=4,286<L.nlen||30<L.ndist){A.msg="too many length or distance symbols",L.mode=30;break}L.have=0,L.mode=18;case 18:for(;L.have<L.ncode;){for(;F<3;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}L.lens[G[L.have++]]=7&we,we>>>=3,F-=3}for(;L.have<19;)L.lens[G[L.have++]]=0;if(L.lencode=L.lendyn,L.lenbits=7,B={bits:L.lenbits},ve=c(0,L.lens,0,19,L.lencode,0,L.work,B),L.lenbits=B.bits,ve){A.msg="invalid code lengths set",L.mode=30;break}L.have=0,L.mode=19;case 19:for(;L.have<L.nlen+L.ndist;){for(;te=(R=L.lencode[we&(1<<L.lenbits)-1])>>>16&255,ae=65535&R,!((V=R>>>24)<=F);){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}if(ae<16)we>>>=V,F-=V,L.lens[L.have++]=ae;else{if(ae===16){for(j=V+2;F<j;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}if(we>>>=V,F-=V,L.have===0){A.msg="invalid bit length repeat",L.mode=30;break}H=L.lens[L.have-1],fe=3+(3&we),we>>>=2,F-=2}else if(ae===17){for(j=V+3;F<j;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}F-=V,H=0,fe=3+(7&(we>>>=V)),we>>>=3,F-=3}else{for(j=V+7;F<j;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}F-=V,H=0,fe=11+(127&(we>>>=V)),we>>>=7,F-=7}if(L.have+fe>L.nlen+L.ndist){A.msg="invalid bit length repeat",L.mode=30;break}for(;fe--;)L.lens[L.have++]=H}}if(L.mode===30)break;if(L.lens[256]===0){A.msg="invalid code -- missing end-of-block",L.mode=30;break}if(L.lenbits=9,B={bits:L.lenbits},ve=c(u,L.lens,0,L.nlen,L.lencode,0,L.work,B),L.lenbits=B.bits,ve){A.msg="invalid literal/lengths set",L.mode=30;break}if(L.distbits=6,L.distcode=L.distdyn,B={bits:L.distbits},ve=c(f,L.lens,L.nlen,L.ndist,L.distcode,0,L.work,B),L.distbits=B.bits,ve){A.msg="invalid distances set",L.mode=30;break}if(L.mode=20,I===6)break e;case 20:L.mode=21;case 21:if(6<=ue&&258<=xe){A.next_out=ce,A.avail_out=xe,A.next_in=X,A.avail_in=ue,L.hold=we,L.bits=F,l(A,ie),ce=A.next_out,pe=A.output,xe=A.avail_out,X=A.next_in,se=A.input,ue=A.avail_in,we=L.hold,F=L.bits,L.mode===12&&(L.back=-1);break}for(L.back=0;te=(R=L.lencode[we&(1<<L.lenbits)-1])>>>16&255,ae=65535&R,!((V=R>>>24)<=F);){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}if(te&&!(240&te)){for(Z=V,ee=te,_e=ae;te=(R=L.lencode[_e+((we&(1<<Z+ee)-1)>>Z)])>>>16&255,ae=65535&R,!(Z+(V=R>>>24)<=F);){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}we>>>=Z,F-=Z,L.back+=Z}if(we>>>=V,F-=V,L.back+=V,L.length=ae,te===0){L.mode=26;break}if(32&te){L.back=-1,L.mode=12;break}if(64&te){A.msg="invalid literal/length code",L.mode=30;break}L.extra=15&te,L.mode=22;case 22:if(L.extra){for(j=L.extra;F<j;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}L.length+=we&(1<<L.extra)-1,we>>>=L.extra,F-=L.extra,L.back+=L.extra}L.was=L.length,L.mode=23;case 23:for(;te=(R=L.distcode[we&(1<<L.distbits)-1])>>>16&255,ae=65535&R,!((V=R>>>24)<=F);){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}if(!(240&te)){for(Z=V,ee=te,_e=ae;te=(R=L.distcode[_e+((we&(1<<Z+ee)-1)>>Z)])>>>16&255,ae=65535&R,!(Z+(V=R>>>24)<=F);){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}we>>>=Z,F-=Z,L.back+=Z}if(we>>>=V,F-=V,L.back+=V,64&te){A.msg="invalid distance code",L.mode=30;break}L.offset=ae,L.extra=15&te,L.mode=24;case 24:if(L.extra){for(j=L.extra;F<j;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}L.offset+=we&(1<<L.extra)-1,we>>>=L.extra,F-=L.extra,L.back+=L.extra}if(L.offset>L.dmax){A.msg="invalid distance too far back",L.mode=30;break}L.mode=25;case 25:if(xe===0)break e;if(fe=ie-xe,L.offset>fe){if((fe=L.offset-fe)>L.whave&&L.sane){A.msg="invalid distance too far back",L.mode=30;break}Q=fe>L.wnext?(fe-=L.wnext,L.wsize-fe):L.wnext-fe,fe>L.length&&(fe=L.length),$=L.window}else $=pe,Q=ce-L.offset,fe=L.length;for(xe<fe&&(fe=xe),xe-=fe,L.length-=fe;pe[ce++]=$[Q++],--fe;);L.length===0&&(L.mode=21);break;case 26:if(xe===0)break e;pe[ce++]=L.length,xe--,L.mode=21;break;case 27:if(L.wrap){for(;F<32;){if(ue===0)break e;ue--,we|=se[X++]<<F,F+=8}if(ie-=xe,A.total_out+=ie,L.total+=ie,ie&&(A.adler=L.check=L.flags?o(L.check,pe,ie,ce-ie):s(L.check,pe,ie,ce-ie)),ie=xe,(L.flags?we:g(we))!==L.check){A.msg="incorrect data check",L.mode=30;break}F=we=0}L.mode=28;case 28:if(L.wrap&&L.flags){for(;F<32;){if(ue===0)break e;ue--,we+=se[X++]<<F,F+=8}if(we!==(4294967295&L.total)){A.msg="incorrect length check",L.mode=30;break}F=we=0}L.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return h}return A.next_out=ce,A.avail_out=xe,A.next_in=X,A.avail_in=ue,L.hold=we,L.bits=F,(L.wsize||ie!==A.avail_out&&L.mode<30&&(L.mode<27||I!==4))&&M(A,A.output,A.next_out,ie-A.avail_out)?(L.mode=31,-4):(J-=A.avail_in,ie-=A.avail_out,A.total_in+=J,A.total_out+=ie,L.total+=ie,L.wrap&&ie&&(A.adler=L.check=L.flags?o(L.check,pe,ie,A.next_out-ie):s(L.check,pe,ie,A.next_out-ie)),A.data_type=L.bits+(L.last?64:0)+(L.mode===12?128:0)+(L.mode===20||L.mode===15?256:0),(J==0&&ie===0||I===4)&&ve===p&&(ve=-5),ve)},i.inflateEnd=function(A){if(!A||!A.state)return h;var I=A.state;return I.window&&(I.window=null),A.state=null,p},i.inflateGetHeader=function(A,I){var L;return A&&A.state&&2&(L=A.state).wrap?((L.head=I).done=!1,p):h},i.inflateSetDictionary=function(A,I){var L,se=I.length;return A&&A.state?(L=A.state).wrap!==0&&L.mode!==11?h:L.mode===11&&s(1,I,se,0)!==L.check?-3:M(A,I,se,se)?(L.mode=31,-4):(L.havedict=1,p):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,f,p,h,y,m,w,g){var v,x,E,S,C,P,k,T,W,M=g.bits,A=0,I=0,L=0,se=0,pe=0,X=0,ce=0,ue=0,xe=0,we=0,F=null,J=0,ie=new a.Buf16(16),fe=new a.Buf16(16),Q=null,$=0;for(A=0;A<=15;A++)ie[A]=0;for(I=0;I<h;I++)ie[f[p+I]]++;for(pe=M,se=15;1<=se&&ie[se]===0;se--);if(se<pe&&(pe=se),se===0)return y[m++]=20971520,y[m++]=20971520,g.bits=1,0;for(L=1;L<se&&ie[L]===0;L++);for(pe<L&&(pe=L),A=ue=1;A<=15;A++)if(ue<<=1,(ue-=ie[A])<0)return-1;if(0<ue&&(u===0||se!==1))return-1;for(fe[1]=0,A=1;A<15;A++)fe[A+1]=fe[A]+ie[A];for(I=0;I<h;I++)f[p+I]!==0&&(w[fe[f[p+I]]++]=I);if(P=u===0?(F=Q=w,19):u===1?(F=s,J-=257,Q=o,$-=257,256):(F=l,Q=c,-1),A=L,C=m,ce=I=we=0,E=-1,S=(xe=1<<(X=pe))-1,u===1&&852<xe||u===2&&592<xe)return 1;for(;;){for(k=A-ce,W=w[I]<P?(T=0,w[I]):w[I]>P?(T=Q[$+w[I]],F[J+w[I]]):(T=96,0),v=1<<A-ce,L=x=1<<X;y[C+(we>>ce)+(x-=v)]=k<<24|T<<16|W|0,x!==0;);for(v=1<<A-1;we&v;)v>>=1;if(v!==0?(we&=v-1,we+=v):we=0,I++,--ie[A]==0){if(A===se)break;A=f[p+w[I]]}if(pe<A&&(we&S)!==E){for(ce===0&&(ce=pe),C+=L,ue=1<<(X=A-ce);X+ce<se&&!((ue-=ie[X+ce])<=0);)X++,ue<<=1;if(xe+=1<<X,u===1&&852<xe||u===2&&592<xe)return 1;y[E=we&S]=pe<<24|X<<16|C-m|0}}return we!==0&&(y[C+we]=A-ce<<24|64<<16|0),g.bits=pe,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),s=0,o=1;function l(R){for(var q=R.length;0<=--q;)R[q]=0}var c=0,u=29,f=256,p=f+1+u,h=30,y=19,m=2*p+1,w=15,g=16,v=7,x=256,E=16,S=17,C=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(p+2));l(M);var A=new Array(2*h);l(A);var I=new Array(512);l(I);var L=new Array(256);l(L);var se=new Array(u);l(se);var pe,X,ce,ue=new Array(h);function xe(R,q,G,ne,re){this.static_tree=R,this.extra_bits=q,this.extra_base=G,this.elems=ne,this.max_length=re,this.has_stree=R&&R.length}function we(R,q){this.dyn_tree=R,this.max_code=0,this.stat_desc=q}function F(R){return R<256?I[R]:I[256+(R>>>7)]}function J(R,q){R.pending_buf[R.pending++]=255&q,R.pending_buf[R.pending++]=q>>>8&255}function ie(R,q,G){R.bi_valid>g-G?(R.bi_buf|=q<<R.bi_valid&65535,J(R,R.bi_buf),R.bi_buf=q>>g-R.bi_valid,R.bi_valid+=G-g):(R.bi_buf|=q<<R.bi_valid&65535,R.bi_valid+=G)}function fe(R,q,G){ie(R,G[2*q],G[2*q+1])}function Q(R,q){for(var G=0;G|=1&R,R>>>=1,G<<=1,0<--q;);return G>>>1}function $(R,q,G){var ne,re,Ae=new Array(w+1),Ne=0;for(ne=1;ne<=w;ne++)Ae[ne]=Ne=Ne+G[ne-1]<<1;for(re=0;re<=q;re++){var Se=R[2*re+1];Se!==0&&(R[2*re]=Q(Ae[Se]++,Se))}}function V(R){var q;for(q=0;q<p;q++)R.dyn_ltree[2*q]=0;for(q=0;q<h;q++)R.dyn_dtree[2*q]=0;for(q=0;q<y;q++)R.bl_tree[2*q]=0;R.dyn_ltree[2*x]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function te(R){8<R.bi_valid?J(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function ae(R,q,G,ne){var re=2*q,Ae=2*G;return R[re]<R[Ae]||R[re]===R[Ae]&&ne[q]<=ne[G]}function Z(R,q,G){for(var ne=R.heap[G],re=G<<1;re<=R.heap_len&&(re<R.heap_len&&ae(q,R.heap[re+1],R.heap[re],R.depth)&&re++,!ae(q,ne,R.heap[re],R.depth));)R.heap[G]=R.heap[re],G=re,re<<=1;R.heap[G]=ne}function ee(R,q,G){var ne,re,Ae,Ne,Se=0;if(R.last_lit!==0)for(;ne=R.pending_buf[R.d_buf+2*Se]<<8|R.pending_buf[R.d_buf+2*Se+1],re=R.pending_buf[R.l_buf+Se],Se++,ne===0?fe(R,re,q):(fe(R,(Ae=L[re])+f+1,q),(Ne=P[Ae])!==0&&ie(R,re-=se[Ae],Ne),fe(R,Ae=F(--ne),G),(Ne=k[Ae])!==0&&ie(R,ne-=ue[Ae],Ne)),Se<R.last_lit;);fe(R,x,q)}function _e(R,q){var G,ne,re,Ae=q.dyn_tree,Ne=q.stat_desc.static_tree,Se=q.stat_desc.has_stree,Ie=q.stat_desc.elems,Fe=-1;for(R.heap_len=0,R.heap_max=m,G=0;G<Ie;G++)Ae[2*G]!==0?(R.heap[++R.heap_len]=Fe=G,R.depth[G]=0):Ae[2*G+1]=0;for(;R.heap_len<2;)Ae[2*(re=R.heap[++R.heap_len]=Fe<2?++Fe:0)]=1,R.depth[re]=0,R.opt_len--,Se&&(R.static_len-=Ne[2*re+1]);for(q.max_code=Fe,G=R.heap_len>>1;1<=G;G--)Z(R,Ae,G);for(re=Ie;G=R.heap[1],R.heap[1]=R.heap[R.heap_len--],Z(R,Ae,1),ne=R.heap[1],R.heap[--R.heap_max]=G,R.heap[--R.heap_max]=ne,Ae[2*re]=Ae[2*G]+Ae[2*ne],R.depth[re]=(R.depth[G]>=R.depth[ne]?R.depth[G]:R.depth[ne])+1,Ae[2*G+1]=Ae[2*ne+1]=re,R.heap[1]=re++,Z(R,Ae,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(Ke,nt){var bt,et,ar,gt,qr,Ut,Dt=nt.dyn_tree,ai=nt.max_code,Mt=nt.stat_desc.static_tree,Qa=nt.stat_desc.has_stree,xr=nt.stat_desc.extra_bits,An=nt.stat_desc.extra_base,Bn=nt.stat_desc.max_length,nr=0;for(gt=0;gt<=w;gt++)Ke.bl_count[gt]=0;for(Dt[2*Ke.heap[Ke.heap_max]+1]=0,bt=Ke.heap_max+1;bt<m;bt++)Bn<(gt=Dt[2*Dt[2*(et=Ke.heap[bt])+1]+1]+1)&&(gt=Bn,nr++),Dt[2*et+1]=gt,ai<et||(Ke.bl_count[gt]++,qr=0,An<=et&&(qr=xr[et-An]),Ut=Dt[2*et],Ke.opt_len+=Ut*(gt+qr),Qa&&(Ke.static_len+=Ut*(Mt[2*et+1]+qr)));if(nr!==0){do{for(gt=Bn-1;Ke.bl_count[gt]===0;)gt--;Ke.bl_count[gt]--,Ke.bl_count[gt+1]+=2,Ke.bl_count[Bn]--,nr-=2}while(0<nr);for(gt=Bn;gt!==0;gt--)for(et=Ke.bl_count[gt];et!==0;)ai<(ar=Ke.heap[--bt])||(Dt[2*ar+1]!==gt&&(Ke.opt_len+=(gt-Dt[2*ar+1])*Dt[2*ar],Dt[2*ar+1]=gt),et--)}}(R,q),$(Ae,Fe,R.bl_count)}function H(R,q,G){var ne,re,Ae=-1,Ne=q[1],Se=0,Ie=7,Fe=4;for(Ne===0&&(Ie=138,Fe=3),q[2*(G+1)+1]=65535,ne=0;ne<=G;ne++)re=Ne,Ne=q[2*(ne+1)+1],++Se<Ie&&re===Ne||(Se<Fe?R.bl_tree[2*re]+=Se:re!==0?(re!==Ae&&R.bl_tree[2*re]++,R.bl_tree[2*E]++):Se<=10?R.bl_tree[2*S]++:R.bl_tree[2*C]++,Ae=re,Fe=(Se=0)===Ne?(Ie=138,3):re===Ne?(Ie=6,3):(Ie=7,4))}function ve(R,q,G){var ne,re,Ae=-1,Ne=q[1],Se=0,Ie=7,Fe=4;for(Ne===0&&(Ie=138,Fe=3),ne=0;ne<=G;ne++)if(re=Ne,Ne=q[2*(ne+1)+1],!(++Se<Ie&&re===Ne)){if(Se<Fe)for(;fe(R,re,R.bl_tree),--Se!=0;);else re!==0?(re!==Ae&&(fe(R,re,R.bl_tree),Se--),fe(R,E,R.bl_tree),ie(R,Se-3,2)):Se<=10?(fe(R,S,R.bl_tree),ie(R,Se-3,3)):(fe(R,C,R.bl_tree),ie(R,Se-11,7));Ae=re,Fe=(Se=0)===Ne?(Ie=138,3):re===Ne?(Ie=6,3):(Ie=7,4)}}l(ue);var B=!1;function j(R,q,G,ne){ie(R,(c<<1)+(ne?1:0),3),function(re,Ae,Ne,Se){te(re),J(re,Ne),J(re,~Ne),a.arraySet(re.pending_buf,re.window,Ae,Ne,re.pending),re.pending+=Ne}(R,q,G)}i._tr_init=function(R){B||(function(){var q,G,ne,re,Ae,Ne=new Array(w+1);for(re=ne=0;re<u-1;re++)for(se[re]=ne,q=0;q<1<<P[re];q++)L[ne++]=re;for(L[ne-1]=re,re=Ae=0;re<16;re++)for(ue[re]=Ae,q=0;q<1<<k[re];q++)I[Ae++]=re;for(Ae>>=7;re<h;re++)for(ue[re]=Ae<<7,q=0;q<1<<k[re]-7;q++)I[256+Ae++]=re;for(G=0;G<=w;G++)Ne[G]=0;for(q=0;q<=143;)M[2*q+1]=8,q++,Ne[8]++;for(;q<=255;)M[2*q+1]=9,q++,Ne[9]++;for(;q<=279;)M[2*q+1]=7,q++,Ne[7]++;for(;q<=287;)M[2*q+1]=8,q++,Ne[8]++;for($(M,p+1,Ne),q=0;q<h;q++)A[2*q+1]=5,A[2*q]=Q(q,5);pe=new xe(M,P,f+1,p,w),X=new xe(A,k,0,h,w),ce=new xe(new Array(0),T,0,y,v)}(),B=!0),R.l_desc=new we(R.dyn_ltree,pe),R.d_desc=new we(R.dyn_dtree,X),R.bl_desc=new we(R.bl_tree,ce),R.bi_buf=0,R.bi_valid=0,V(R)},i._tr_stored_block=j,i._tr_flush_block=function(R,q,G,ne){var re,Ae,Ne=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(Se){var Ie,Fe=4093624447;for(Ie=0;Ie<=31;Ie++,Fe>>>=1)if(1&Fe&&Se.dyn_ltree[2*Ie]!==0)return s;if(Se.dyn_ltree[18]!==0||Se.dyn_ltree[20]!==0||Se.dyn_ltree[26]!==0)return o;for(Ie=32;Ie<f;Ie++)if(Se.dyn_ltree[2*Ie]!==0)return o;return s}(R)),_e(R,R.l_desc),_e(R,R.d_desc),Ne=function(Se){var Ie;for(H(Se,Se.dyn_ltree,Se.l_desc.max_code),H(Se,Se.dyn_dtree,Se.d_desc.max_code),_e(Se,Se.bl_desc),Ie=y-1;3<=Ie&&Se.bl_tree[2*W[Ie]+1]===0;Ie--);return Se.opt_len+=3*(Ie+1)+5+5+4,Ie}(R),re=R.opt_len+3+7>>>3,(Ae=R.static_len+3+7>>>3)<=re&&(re=Ae)):re=Ae=G+5,G+4<=re&&q!==-1?j(R,q,G,ne):R.strategy===4||Ae===re?(ie(R,2+(ne?1:0),3),ee(R,M,A)):(ie(R,4+(ne?1:0),3),function(Se,Ie,Fe,Ke){var nt;for(ie(Se,Ie-257,5),ie(Se,Fe-1,5),ie(Se,Ke-4,4),nt=0;nt<Ke;nt++)ie(Se,Se.bl_tree[2*W[nt]+1],3);ve(Se,Se.dyn_ltree,Ie-1),ve(Se,Se.dyn_dtree,Fe-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,Ne+1),ee(R,R.dyn_ltree,R.dyn_dtree)),V(R),ne&&te(R)},i._tr_tally=function(R,q,G){return R.pending_buf[R.d_buf+2*R.last_lit]=q>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&q,R.pending_buf[R.l_buf+R.last_lit]=255&G,R.last_lit++,q===0?R.dyn_ltree[2*G]++:(R.matches++,q--,R.dyn_ltree[2*(L[G]+f+1)]++,R.dyn_dtree[2*F(q)]++),R.last_lit===R.lit_bufsize-1},i._tr_align=function(R){ie(R,2,3),fe(R,x,M),function(q){q.bi_valid===16?(J(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(s,o){if(!s.setImmediate){var l,c,u,f,p=1,h={},y=!1,m=s.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(s);w=w&&w.setTimeout?w:s,l={}.toString.call(s.process)==="[object process]"?function(E){Ft.nextTick(function(){v(E)})}:function(){if(s.postMessage&&!s.importScripts){var E=!0,S=s.onmessage;return s.onmessage=function(){E=!1},s.postMessage("","*"),s.onmessage=S,E}}()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(E){s.postMessage(f+E,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(E){v(E.data)},function(E){u.port2.postMessage(E)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(E){var S=m.createElement("script");S.onreadystatechange=function(){v(E),S.onreadystatechange=null,c.removeChild(S),S=null},c.appendChild(S)}):function(E){setTimeout(v,0,E)},w.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var S=new Array(arguments.length-1),C=0;C<S.length;C++)S[C]=arguments[C+1];var P={callback:E,args:S};return h[p]=P,l(p),p++},w.clearImmediate=g}function g(E){delete h[E]}function v(E){if(y)setTimeout(v,0,E);else{var S=h[E];if(S){y=!0;try{(function(C){var P=C.callback,k=C.args;switch(k.length){case 0:P();break;case 1:P(k[0]);break;case 2:P(k[0],k[1]);break;case 3:P(k[0],k[1],k[2]);break;default:P.apply(o,k)}})(S)}finally{g(E),y=!1}}}}function x(E){E.source===s&&typeof E.data=="string"&&E.data.indexOf(f)===0&&v(+E.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof rl<"u"?rl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(AA)),AA.exports}var _3e=x3e();const E3e=$H(_3e);var jg={exports:{}},SA,i7;function A3e(){if(i7)return SA;i7=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return t[i]}):r}return SA=e,SA}var a7;function S3e(){if(a7)return jg.exports;a7=1;var t=A3e(),e=BC().Stream,r="    ";function n(c,u){typeof u!="object"&&(u={indent:u});var f=u.stream?new e:null,p="",h=!1,y=u.indent?u.indent===!0?r:u.indent:"",m=!0;function w(S){m?Ft.nextTick(S):S()}function g(S,C){if(C!==void 0&&(p+=C),S&&!h&&(f=f||new e,h=!0),S&&h){var P=p;w(function(){f.emit("data",P)}),p=""}}function v(S,C){o(g,s(S,y,y?1:0),C)}function x(){if(f){var S=p;w(function(){f.emit("data",S),f.emit("end"),f.readable=!1,f.emit("close")})}}function E(S){var C=S.encoding||"UTF-8",P={version:"1.0",encoding:C};S.standalone&&(P.standalone=S.standalone),v({"?xml":{_attr:P}}),p=p.replace("/>","?>")}return w(function(){m=!1}),u.declaration&&E(u.declaration),c&&c.forEach?c.forEach(function(S,C){var P;C+1===c.length&&(P=x),v(S,P)}):v(c,x),f?(f.readable=!0,f):p}function i(){var c=Array.prototype.slice.call(arguments),u={_elem:s(c)};return u.push=function(f){if(!this.append)throw new Error("not assigned to a parent!");var p=this,h=this._elem.indent;o(this.append,s(f,h,this._elem.icount+(h?1:0)),function(){p.append(!0)})},u.close=function(f){f!==void 0&&this.push(f),this.end&&this.end()},u}function a(c,u){return new Array(u||0).join(c||"")}function s(c,u,f){f=f||0;var p=a(u,f),h,y=c,m=!1;if(typeof c=="object"){var w=Object.keys(c);if(h=w[0],y=c[h],y&&y._elem)return y._elem.name=h,y._elem.icount=f,y._elem.indent=u,y._elem.indents=p,y._elem.interrupt=y,y._elem}var g=[],v=[],x;function E(S){var C=Object.keys(S);C.forEach(function(P){g.push(l(P,S[P]))})}switch(typeof y){case"object":if(y===null)break;y._attr&&E(y._attr),y._cdata&&v.push(("<![CDATA["+y._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),y.forEach&&(x=!1,v.push(""),y.forEach(function(S){if(typeof S=="object"){var C=Object.keys(S)[0];C=="_attr"?E(S._attr):v.push(s(S,u,f+1))}else v.pop(),x=!0,v.push(t(S))}),x||v.push(""));break;default:v.push(t(y))}return{name:h,interrupt:m,attributes:g,content:v,icount:f,indents:p,indent:u}}function o(c,u,f){if(typeof u!="object")return c(!1,u);var p=u.interrupt?1:u.content.length;function h(){for(;u.content.length;){var m=u.content.shift();if(m!==void 0){if(y(m))return;o(c,m)}}c(!1,(p>1?u.indents:"")+(u.name?"</"+u.name+">":"")+(u.indent&&!f?`
`:"")),f&&f()}function y(m){return m.interrupt?(m.interrupt.append=c,m.interrupt.end=h,m.interrupt=!1,c(!0),!0):!1}if(c(!1,u.indents+(u.name?"<"+u.name:"")+(u.attributes.length?" "+u.attributes.join(" "):"")+(p?u.name?">":"":u.name?"/>":"")+(u.indent&&p>1?`
`:"")),!p)return c(!1,u.indent?`
`:"");y(u)||h()}function l(c,u){return c+'="'+t(u)+'"'}return jg.exports=n,jg.exports.element=jg.exports.Element=i,jg.exports}var N3e=S3e();const en=$H(N3e),Og=0,NA=32,T3e=32,P3e=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==T3e)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const s=t.slice(Og,NA).map((l,c)=>l^i[c%i.length]),o=new Uint8Array(Og+s.length+Math.max(0,t.length-NA));return o.set(t.slice(0,Og)),o.set(s,Og),o.set(t.slice(NA),Og+s.length),o};class C3e{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class k3e{replace(e,r,n){let i=e;return r.forEach((a,s)=>{i=i.replace(new RegExp(`{${a.fileName}}`,"g"),(n+s).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class I3e{replace(e,r){let n=e;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class j3e{constructor(){We(this,"formatter"),We(this,"imageReplacer"),We(this,"numberingReplacer"),this.formatter=new C3e,this.imageReplacer=new k3e,this.numberingReplacer=new I3e}compile(e,r,n=[]){const i=new E3e,a=this.xmlifyFile(e,r),s=new Map(Object.entries(a));for(const[,o]of s)if(Array.isArray(o))for(const l of o)i.file(l.path,l.data);else i.file(o.path,o.data);for(const o of n)i.file(o.path,o.data);for(const o of e.Media.Array)o.type!=="svg"?i.file(`word/media/${o.fileName}`,o.data):(i.file(`word/media/${o.fileName}`,o.data),i.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(const{data:o,name:l,fontKey:c}of e.FontTable.fontOptionsWithKey){const[u]=l.split(".");i.file(`word/fonts/${u}.odttf`,P3e(o,c))}return i}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,i=en(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=e.Comments.Relationships.RelationshipCount+1,s=en(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,e.Media),l=this.imageReplacer.getMediaData(s,e.Media);return{Relationships:{data:(o.forEach((c,u)=>{e.Document.Relationships.createRelationship(n+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),en(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const c=this.imageReplacer.replace(i,o,n);return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const c=en(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:en(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:en(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:en(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((c,u)=>{const f=en(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,y)=>{c.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:en(this.formatter.format(c.Relationships,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${u+1}.xml.rels`}}),FooterRelationships:e.Footers.map((c,u)=>{const f=en(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,y)=>{c.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:en(this.formatter.format(c.Relationships,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${u+1}.xml.rels`}}),Headers:e.Headers.map((c,u)=>{const f=en(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,p,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/header${u+1}.xml`}}),Footers:e.Footers.map((c,u)=>{const f=en(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,p,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/footer${u+1}.xml`}}),ContentTypes:{data:en(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:en(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:en(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:en(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:en(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:en(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const c=this.imageReplacer.replace(s,l,a);return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((c,u)=>{e.Comments.Relationships.createRelationship(a+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),en(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:en(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:en(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const O3e={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},s7=t=>t===!0?O3e.WITH_2_BLANKS:t===!1?void 0:t,AG=class Qh{static pack(e,r,n){return cAe(this,arguments,function*(i,a,s,o=[]){return this.compiler.compile(i,s7(s),o).generateAsync({type:a,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return Qh.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return Qh.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return Qh.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return Qh.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return Qh.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){const i=new b3e.Stream;return this.compiler.compile(e,s7(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(s=>{i.emit("data",s),i.emit("end")}),i}};We(AG,"compiler",new j3e);let R3e=AG;var SG={exports:{}};(function(t,e){(function(r,n){n()})(og,function(){function r(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,u,f){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,u,f)},p.onerror=function(){console.error("could not download file")},p.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function a(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof og=="object"&&og.global===og?og:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,f){var p=s.URL||s.webkitURL,h=document.createElement("a");u=u||c.name||"download",h.download=u,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin===location.origin?a(h):i(h.href)?n(c,u,f):a(h,h.target="_blank")):(h.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(h.href)},4e4),setTimeout(function(){a(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,f),u);else if(i(c))n(c,u,f);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){a(p)})}}:function(c,u,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return n(c,u,f);var h=c.type==="application/octet-stream",y=/constructor/i.test(s.HTMLElement)||s.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||h&&y||o)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var x=w.result;x=m?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=x:location=x,p=null},w.readAsDataURL(c)}else{var g=s.URL||s.webkitURL,v=g.createObjectURL(c);p?p.location=v:location.href=v,p=null,setTimeout(function(){g.revokeObjectURL(v)},4e4)}});s.saveAs=l.saveAs=l,t.exports=l})})(SG);var L3e=SG.exports;function D3e({document:t,onBack:e}){const r=c=>$r(new Date(c),"dd/MM/yyyy HH:mm",{locale:Nr}),n=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),i=c=>{const u=new xt,f=[37,99,235],p=[245,158,11],h=[55,65,81],y=[156,163,175];u.setFillColor(...f),u.rect(0,0,210,25,"F"),u.setTextColor(255,255,255),u.setFontSize(24),u.setFont(void 0,"bold"),u.text("Legal",20,17),u.setTextColor(...p),u.text("X",50,17),u.setTextColor(255,255,255),u.setFontSize(10),u.setFont(void 0,"normal"),u.text("Sistema de Gestão Jurídica",20,22),u.setTextColor(...h),u.setFontSize(20),u.setFont(void 0,"bold"),u.text("PROCURAÇÃO",105,45,{align:"center"}),u.setDrawColor(...p),u.setLineWidth(2),u.line(20,50,190,50),u.setTextColor(...h),u.setFontSize(11),u.setFont(void 0,"normal");let m=65;const w=6,g=c.lawyers&&c.lawyers.length>1?`os(as) Srs(as). ${c.lawyers.join(", ")}`:`o(a) Sr(a). ${c.lawyers?c.lawyers[0]:"Advogado"}`,v=`
Pelo presente instrumento particular de procuração, eu, ${t.client}, 
nomeio e constituo como ${c.lawyers&&c.lawyers.length>1?"meus bastantes procuradores":"meu bastante procurador"} ${g}, 
para o fim específico de:

${c.object||"Representação jurídica"}

Outorgo-lhe poderes para representar-me ${c.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos"}, 
podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento 
do presente mandato.

Por ser verdade, firmo a presente.

${c.location||"São Paulo"}, ${c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}.


_________________________________
${t.client}
Outorgante
    `.trim();u.splitTextToSize(v,170).forEach(E=>{m>270&&(u.addPage(),m=30),u.text(E,20,m),m+=w}),u.setDrawColor(...y),u.setLineWidth(.5),u.line(20,280,190,280),u.setTextColor(...y),u.setFontSize(8),u.setFont(void 0,"normal"),u.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),u.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290),u.save(`procuracao_${t.client.replace(/\s+/g,"_").toLowerCase()}.pdf`)},a=c=>{const u=new xt,f=[37,99,235],p=[245,158,11],h=[55,65,81],y=[156,163,175],m=[34,197,94];u.setFillColor(...f),u.rect(0,0,210,25,"F"),u.setTextColor(255,255,255),u.setFontSize(24),u.setFont(void 0,"bold"),u.text("Legal",20,17),u.setTextColor(...p),u.text("X",50,17),u.setTextColor(255,255,255),u.setFontSize(10),u.setFont(void 0,"normal"),u.text("Sistema de Gestão Jurídica",20,22),u.setTextColor(...h),u.setFontSize(20),u.setFont(void 0,"bold"),u.text("RECIBO",105,45,{align:"center"}),u.setDrawColor(...p),u.setLineWidth(2),u.line(20,50,190,50),u.setFillColor(248,250,252),u.setDrawColor(...m),u.setLineWidth(1),u.roundedRect(20,55,170,20,3,3,"FD"),u.setTextColor(...m),u.setFontSize(16),u.setFont(void 0,"bold"),u.text(`Valor: ${n(c.amount||0)}`,105,67,{align:"center"}),u.setTextColor(...h),u.setFontSize(11),u.setFont(void 0,"normal");let w=85;const g=`
Recebi de ${t.client} a importância de ${n(c.amount||0)}, 
referente a ${c.description||"serviços jurídicos"}.

Forma de pagamento: ${c.paymentMethod||"Não especificado"}

Para clareza firmo o presente recibo.

${c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}


_________________________________
${c.lawyerName||"Advogado"}
OAB: ${c.lawyerOab||""}
CPF: ${c.lawyerCpf||""}
    `.trim();u.splitTextToSize(g,170).forEach(x=>{w>270&&(u.addPage(),w=30),u.text(x,20,w),w+=6}),u.setDrawColor(...y),u.setLineWidth(.5),u.line(20,280,190,280),u.setTextColor(...y),u.setFontSize(8),u.setFont(void 0,"normal"),u.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),u.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290),u.save(`recibo_${t.client.replace(/\s+/g,"_").toLowerCase()}.pdf`)},s=()=>{let c;if(t.type==="Procuração"){const u=t.data,f=u.lawyers&&u.lawyers.length>1?`os(as) Srs(as). ${u.lawyers.join(", ")}`:`o(a) Sr(a). ${u.lawyers?u.lawyers[0]:"Advogado"}`;c=new r7({sections:[{properties:{},children:[new wr({children:[new Lt({text:"LegalX",bold:!0,size:32,color:"2563eb"}),new Lt({text:" - Sistema de Gestão Jurídica",size:20,color:"6b7280"})],alignment:Kt.CENTER,spacing:{after:400}}),new wr({children:[new Lt({text:"PROCURAÇÃO",bold:!0,size:32})],alignment:Kt.CENTER,spacing:{after:600}}),new wr({children:[new Lt({text:"Pelo presente instrumento particular de procuração, eu, "}),new Lt({text:t.client,bold:!0}),new Lt({text:`, nomeio e constituo como ${u.lawyers&&u.lawyers.length>1?"meus bastantes procuradores":"meu bastante procurador"} `}),new Lt({text:f,bold:!0}),new Lt({text:", para o fim específico de:"})],alignment:Kt.JUSTIFIED,spacing:{after:300}}),new wr({children:[new Lt({text:u.object||"Representação jurídica",bold:!0,italics:!0})],alignment:Kt.JUSTIFIED,spacing:{after:300}}),new wr({children:[new Lt({text:`Outorgo-lhe poderes para representar-me ${u.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos"}, podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento do presente mandato.`})],alignment:Kt.JUSTIFIED,spacing:{after:400}}),new wr({children:[new Lt({text:"Por ser verdade, firmo a presente."})],alignment:Kt.JUSTIFIED,spacing:{after:600}}),new wr({children:[new Lt({text:`${u.location||"São Paulo"}, ${u.date?new Date(u.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}.`})],alignment:Kt.RIGHT,spacing:{after:800}}),new wr({children:[new Lt({text:"_________________________________"})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Lt({text:t.client,bold:!0})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Lt({text:"Outorgante",size:20,color:"6b7280"})],alignment:Kt.CENTER,spacing:{after:800}}),new wr({children:[new Lt({text:"Documento gerado pelo LegalX - Sistema de Gestão Jurídica",size:16,color:"9ca3af"})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Lt({text:`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,size:16,color:"9ca3af"})],alignment:Kt.CENTER})]}]})}else if(t.type==="Recibo"){const u=t.data;c=new r7({sections:[{properties:{},children:[new wr({children:[new Lt({text:"LegalX",bold:!0,size:32,color:"2563eb"}),new Lt({text:" - Sistema de Gestão Jurídica",size:20,color:"6b7280"})],alignment:Kt.CENTER,spacing:{after:400}}),new wr({children:[new Lt({text:"RECIBO",bold:!0,size:32})],alignment:Kt.CENTER,spacing:{after:400}}),new wr({children:[new Lt({text:`Valor: ${n(u.amount||0)}`,bold:!0,size:28,color:"22c55e"})],alignment:Kt.CENTER,spacing:{after:600}}),new wr({children:[new Lt({text:"Recebi de "}),new Lt({text:t.client,bold:!0}),new Lt({text:" a importância de "}),new Lt({text:n(u.amount||0),bold:!0}),new Lt({text:", referente a "}),new Lt({text:u.description||"serviços jurídicos",bold:!0}),new Lt({text:"."})],alignment:Kt.JUSTIFIED,spacing:{after:300}}),new wr({children:[new Lt({text:"Forma de pagamento: "}),new Lt({text:u.paymentMethod||"Não especificado",bold:!0})],alignment:Kt.JUSTIFIED,spacing:{after:400}}),new wr({children:[new Lt({text:"Para clareza firmo o presente recibo."})],alignment:Kt.JUSTIFIED,spacing:{after:600}}),new wr({children:[new Lt({text:u.date?new Date(u.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")})],alignment:Kt.RIGHT,spacing:{after:800}}),new wr({children:[new Lt({text:"_________________________________"})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Lt({text:u.lawyerName||"Advogado",bold:!0})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Lt({text:`OAB: ${u.lawyerOab||""}`,size:20,color:"6b7280"})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Lt({text:`CPF: ${u.lawyerCpf||""}`,size:20,color:"6b7280"})],alignment:Kt.CENTER,spacing:{after:800}}),new wr({children:[new Lt({text:"Documento gerado pelo LegalX - Sistema de Gestão Jurídica",size:16,color:"9ca3af"})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Lt({text:`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,size:16,color:"9ca3af"})],alignment:Kt.CENTER})]}]})}c&&R3e.toBlob(c).then(u=>{L3e.saveAs(u,`${t.type.toLowerCase()}_${t.client.replace(/\s+/g,"_").toLowerCase()}.docx`)}).catch(u=>{console.error("Erro ao gerar documento Word:",u),alert("Erro ao gerar documento Word. Tente novamente.")})},o=()=>{t.type==="Procuração"?i(t.data):t.type==="Recibo"&&a(t.data)},l=()=>{if(t.type==="Procuração"){const c=t.data;return d.jsxs("div",{className:"prose max-w-none",children:[d.jsx("h2",{className:"text-center text-xl font-bold mb-6",children:"PROCURAÇÃO"}),d.jsxs("p",{className:"text-justify leading-relaxed",children:["Pelo presente instrumento particular de procuração, eu, ",d.jsx("strong",{children:t.client}),", nomeio e constituo como ",c.lawyers&&c.lawyers.length>1?"meus bastantes procuradores":"meu bastante procurador"," "," ",d.jsx("strong",{children:c.lawyers?c.lawyers.join(", "):"Advogado"}),", para o fim específico de:"]}),d.jsx("p",{className:"text-justify leading-relaxed my-4",children:d.jsx("strong",{children:c.object||"Representação jurídica"})}),d.jsxs("p",{className:"text-justify leading-relaxed",children:["Outorgo-lhe poderes para representar-me ",c.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos",", podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento do presente mandato."]}),d.jsx("p",{className:"text-justify leading-relaxed mt-6",children:"Por ser verdade, firmo a presente."}),d.jsxs("p",{className:"text-right mt-8",children:[c.location||"São Paulo",", ",c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR"),"."]}),d.jsxs("div",{className:"text-center mt-12",children:[d.jsx("div",{className:"border-t border-gray-400 w-64 mx-auto mb-2"}),d.jsx("p",{children:d.jsx("strong",{children:t.client})}),d.jsx("p",{className:"text-sm text-gray-600",children:"Outorgante"})]})]})}else if(t.type==="Recibo"){const c=t.data;return d.jsxs("div",{className:"prose max-w-none",children:[d.jsx("h2",{className:"text-center text-xl font-bold mb-6",children:"RECIBO"}),d.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 text-center mb-6",children:d.jsxs("p",{className:"text-lg font-bold text-green-700",children:["Valor: ",n(c.amount||0)]})}),d.jsxs("p",{className:"text-justify leading-relaxed",children:["Recebi de ",d.jsx("strong",{children:t.client})," a importância de ",d.jsx("strong",{children:n(c.amount||0)}),", referente a ",d.jsx("strong",{children:c.description||"serviços jurídicos"}),"."]}),d.jsxs("p",{className:"text-justify leading-relaxed mt-4",children:["Forma de pagamento: ",d.jsx("strong",{children:c.paymentMethod||"Não especificado"})]}),d.jsx("p",{className:"text-justify leading-relaxed mt-6",children:"Para clareza firmo o presente recibo."}),d.jsx("p",{className:"text-right mt-8",children:c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}),d.jsxs("div",{className:"text-center mt-12",children:[d.jsx("div",{className:"border-t border-gray-400 w-64 mx-auto mb-2"}),d.jsx("p",{children:d.jsx("strong",{children:c.lawyerName||"Advogado"})}),d.jsxs("p",{className:"text-sm text-gray-600",children:["OAB: ",c.lawyerOab||""]}),d.jsxs("p",{className:"text-sm text-gray-600",children:["CPF: ",c.lawyerCpf||""]})]})]})}return null};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.type}),d.jsxs("p",{className:"text-gray-600",children:["Cliente: ",t.client]})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(TT,{className:"w-5 h-5 mr-2"}),"Baixar PDF"]}),d.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(jm,{className:"w-5 h-5 mr-2"}),"Baixar Word"]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Documento"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Tipo"}),d.jsx("p",{className:"text-gray-900",children:t.type})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cliente"}),d.jsx("p",{className:"text-gray-900",children:t.client})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Criação"}),d.jsx("p",{className:"text-gray-900",children:r(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-8",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Visualização do Documento"}),d.jsx("div",{className:"border border-gray-200 rounded-lg p-8 bg-gray-50 min-h-96",children:l()})]}),d.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[d.jsx("p",{children:"Documento gerado pelo LegalX - Sistema de Gestão Jurídica"}),d.jsxs("p",{children:["Criado em ",r(t.createdAt)]})]})]})}function M3e({quickActionType:t,onClearQuickAction:e}){const[r,n]=O.useState(null),[i,a]=O.useState(null),[s,o]=O.useState([]),[l,c]=O.useState(!1);O.useEffect(()=>{t==="power-of-attorney"?(n("power-of-attorney"),e()):t==="receipt"&&(n("receipt"),e())},[t,e]),O.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const h=await rt.getDocuments();o(h)}catch(h){console.error("Erro ao carregar documentos:",h)}finally{c(!1)}},f=h=>{a(h)},p=()=>{a(null)};return r==="power-of-attorney"?d.jsx(tAe,{onBack:()=>n(null),onSave:u}):r==="receipt"?d.jsx(nAe,{onBack:()=>n(null),onSave:u}):i?d.jsx(D3e,{document:i,onBack:p}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerador de Documentos"}),d.jsx("p",{className:"text-gray-600",children:"Crie documentos jurídicos profissionais"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl",children:[d.jsx("div",{onClick:()=>n("power-of-attorney"),className:"bg-white rounded-lg shadow-md border-2 border-transparent hover:border-blue-300 transition-all cursor-pointer group",children:d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors",children:d.jsx(jm,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Procuração"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Gere procurações jurídicas com todos os dados necessários"}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[d.jsx("p",{children:"• Procuração Ad Judicia"}),d.jsx("p",{children:"• Procuração para fins específicos"}),d.jsx("p",{children:"• Geração em PDF e DOCX"})]}),d.jsx("button",{className:"mt-6 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Criar Procuração"})]})}),d.jsx("div",{onClick:()=>n("receipt"),className:"bg-white rounded-lg shadow-md border-2 border-transparent hover:border-green-300 transition-all cursor-pointer group",children:d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-green-200 transition-colors",children:d.jsx(Hle,{className:"w-8 h-8 text-green-600"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Recibo"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Emita recibos profissionais para honorários e serviços"}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[d.jsx("p",{children:"• Recibo de honorários advocatícios"}),d.jsx("p",{children:"• Recibo de consultoria jurídica"}),d.jsx("p",{children:"• Geração em PDF"})]}),d.jsx("button",{className:"mt-6 w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Criar Recibo"})]})})]}),d.jsxs("div",{className:"mt-12",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentos Recentes"}),d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l?d.jsx("div",{className:"p-6",children:d.jsx("p",{className:"text-gray-500 text-center",children:"Carregando documentos..."})}):s.length===0?d.jsx("div",{className:"p-6",children:d.jsx("p",{className:"text-gray-500 text-center",children:"Nenhum documento gerado ainda"})}):d.jsx("div",{className:"divide-y divide-gray-200",children:s.slice(0,10).map(h=>d.jsx("div",{className:"p-4 hover:bg-gray-50",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900",children:h.type}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",h.client]}),d.jsxs("p",{className:"text-xs text-gray-400",children:["Criado em ",$r(new Date(h.createdAt),"dd/MM/yyyy HH:mm",{locale:Nr})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h.type==="Procuração"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:h.type}),d.jsxs("button",{onClick:()=>f(h),className:"flex items-center px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors ml-2",title:"Visualizar documento",children:[d.jsx(dl,{className:"w-3 h-3 mr-1"}),"Ver"]})]})]})},h.id))})})]})]})}function F3e(){const[t,e]=O.useState("month"),[r,n]=O.useState([]),[i,a]=O.useState([]),[s,o]=O.useState({totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]}),[l,c]=O.useState(!0);O.useEffect(()=>{u()},[]);const u=async()=>{try{const[C,P,k]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getFinancialSummary()]);n(C),a(P),o(k),console.log("Dados do relatório carregados")}catch(C){console.error("Erro ao carregar dados do relatório:",C)}finally{c(!1)}},f=s.totalRevenue,p=s.totalExpenses,h=f-p,y=r.filter(C=>C.status==="Em andamento").length,m=r.filter(C=>C.status==="Concluído").length,w=i.length,g=i.filter(C=>C.status==="Concluído").length,v=[{name:"Em andamento",value:y,color:"#f59e0b"},{name:"Concluídos",value:m,color:"#10b981"}],x=s.monthlyData.map(C=>({...C,profit:C.revenue-C.expenses})),E=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),S=()=>{const C=new xt,P=[37,99,235],k=[245,158,11],T=[55,65,81],W=[156,163,175],M=[34,197,94],A=[239,68,68];C.setFillColor(...P),C.rect(0,0,210,25,"F"),C.setTextColor(255,255,255),C.setFontSize(24),C.setFont(void 0,"bold"),C.text("Legal",20,17),C.setTextColor(...k),C.text("X",50,17),C.setTextColor(255,255,255),C.setFontSize(10),C.setFont(void 0,"normal"),C.text("Sistema de Gestão Jurídica",20,22),C.setTextColor(...T),C.setFontSize(18),C.setFont(void 0,"bold"),C.text("RELATÓRIO FINANCEIRO E OPERACIONAL",105,45,{align:"center"}),C.setDrawColor(...k),C.setLineWidth(2),C.line(20,50,190,50),C.setTextColor(...W),C.setFontSize(10),C.setFont(void 0,"normal"),C.text(`Período: ${t==="month"?"Mês Atual":t==="quarter"?"Trimestre":"Ano"}`,105,55,{align:"center"});let I=70;C.setTextColor(...T),C.setFontSize(14),C.setFont(void 0,"bold"),C.text("RESUMO FINANCEIRO",20,I),I+=15,C.setFillColor(240,253,244),C.setDrawColor(...M),C.setLineWidth(.5),C.roundedRect(20,I-5,170,12,2,2,"FD"),C.setTextColor(...M),C.setFontSize(11),C.setFont(void 0,"normal"),C.text(`✓ Total de Receitas: ${E(f)}`,25,I+3),I+=10,C.setFillColor(254,242,242),C.setDrawColor(...A),C.roundedRect(20,I-5,170,12,2,2,"FD"),C.setTextColor(...A),C.text(`✗ Total de Despesas: ${E(p)}`,25,I+3),I+=10;const L=h>=0?M:A,se=h>=0?[240,253,244]:[254,242,242];C.setFillColor(...se),C.setDrawColor(...L),C.setLineWidth(1),C.roundedRect(20,I-5,170,12,2,2,"FD"),C.setTextColor(...L),C.setFont(void 0,"bold"),C.text(`${h>=0?"↗":"↘"} Lucro Líquido: ${E(h)}`,25,I+3),I+=20,C.setTextColor(...T),C.setFontSize(14),C.setFont(void 0,"bold"),C.text("RESUMO DE PROCESSOS",20,I),I+=15,C.setTextColor(...T),C.setFontSize(11),C.setFont(void 0,"normal"),C.text(`• Processos em Andamento: ${y}`,25,I),I+=10,C.text(`• Processos Concluídos: ${m}`,25,I),I+=10,C.text(`• Total de Processos: ${y+m}`,25,I),I+=20,C.setTextColor(...T),C.setFontSize(14),C.setFont(void 0,"bold"),C.text("RESUMO DE EVENTOS",20,I),I+=15,C.setTextColor(...T),C.setFontSize(11),C.setFont(void 0,"normal"),C.text(`• Total de Eventos: ${w}`,25,I),I+=10,C.text(`• Eventos Concluídos: ${g}`,25,I),I+=10,C.text(`• Taxa de Conclusão: ${w>0?(g/w*100).toFixed(1):0}%`,25,I),C.setDrawColor(...W),C.setLineWidth(.5),C.line(20,280,190,280),C.setTextColor(...W),C.setFontSize(8),C.setFont(void 0,"normal"),C.text("Relatório gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),C.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290),C.text("Página 1 de 1",190,290,{align:"right"}),C.save(`relatorio_${t}_${new Date().toISOString().split("T")[0]}.pdf`)};return d.jsxs("div",{className:"p-6",children:[l&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"Carregando dados do relatório..."})}),d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatórios"}),d.jsx("p",{className:"text-gray-600",children:"Análise completa dos dados do escritório"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("select",{value:t,onChange:C=>e(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"month",children:"Mês Atual"}),d.jsx("option",{value:"quarter",children:"Trimestre"}),d.jsx("option",{value:"year",children:"Ano"})]}),d.jsxs("button",{onClick:S,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(d$,{className:"w-5 h-5 mr-2"}),"Exportar PDF"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(tN,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-green-100 text-sm",children:"Receitas"}),d.jsx("p",{className:"text-2xl font-bold",children:E(f)})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(tN,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-100 text-sm",children:"Despesas"}),d.jsx("p",{className:"text-2xl font-bold",children:E(p)})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Nx,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-100 text-sm",children:"Processos Ativos"}),d.jsx("p",{className:"text-2xl font-bold",children:y})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Sx,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-purple-100 text-sm",children:"Eventos do Mês"}),d.jsx("p",{className:"text-2xl font-bold",children:w})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fluxo Financeiro Mensal"}),d.jsx("div",{className:"h-64",children:d.jsx(qN,{width:"100%",height:"100%",children:d.jsxs(fH,{data:x,children:[d.jsx(TC,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),d.jsx(C2,{dataKey:"month",stroke:"#6b7280",fontSize:12}),d.jsx(k2,{stroke:"#6b7280",fontSize:12}),d.jsx(zN,{formatter:C=>[E(C),""]}),d.jsx(Cf,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Receitas"}),d.jsx(Cf,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:2,name:"Despesas"}),d.jsx(Cf,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Lucro"})]})})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status dos Processos"}),d.jsx("div",{className:"h-64",children:d.jsx(qN,{width:"100%",height:"100%",children:d.jsxs(r5e,{children:[d.jsx(_C,{data:v,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:C,value:P})=>`${C}: ${P}`,children:v.map((C,P)=>d.jsx(S2,{fill:C.color},`cell-${P}`))}),d.jsx(zN,{})]})})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Financeira"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Receita Bruta"}),d.jsx("span",{className:"font-semibold text-green-600",children:E(f)})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Despesas Totais"}),d.jsx("span",{className:"font-semibold text-red-600",children:E(p)})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded border-2 border-blue-200",children:[d.jsx("span",{className:"text-gray-900 font-medium",children:"Lucro Líquido"}),d.jsx("span",{className:"font-bold text-blue-600",children:E(h)})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Margem de Lucro"}),d.jsxs("span",{className:"font-semibold",children:[(h/f*100).toFixed(1),"%"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Operacional"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Total de Processos"}),d.jsx("span",{className:"font-semibold",children:y+m})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Processos Concluídos"}),d.jsx("span",{className:"font-semibold text-green-600",children:m})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Taxa de Conclusão"}),d.jsxs("span",{className:"font-semibold",children:[(m/(y+m)*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Eventos Realizados"}),d.jsxs("span",{className:"font-semibold",children:[g,"/",w]})]})]})]})]})]})}function B3e(){const[t,e]=O.useState(null),[r,n]=O.useState(null),[i,a]=O.useState(null),[s,o]=O.useState(!1),[l,c]=O.useState(!0);O.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const[g,v]=await Promise.all([rt.getGeneralStats(),rt.getFinancialSummary()]);e(g),n(v)}catch(g){console.error("Erro ao carregar estatísticas:",g),e(null),n(null)}finally{c(!1)}},f=async()=>{o(!0);try{const[g,v,x,E,S,C]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getRevenues(),rt.getExpenses(),rt.getLawyers(),rt.getEmployees()]),P=[];let k=!0;g.forEach((T,W)=>{T.processNumber||(P.push(`Processo ${W+1}: Número do processo ausente`),k=!1),T.client||(P.push(`Processo ${W+1}: Cliente ausente`),k=!1)}),v.forEach((T,W)=>{T.title||(P.push(`Evento ${W+1}: Título ausente`),k=!1),T.date||(P.push(`Evento ${W+1}: Data ausente`),k=!1)}),x.forEach((T,W)=>{T.source||(P.push(`Receita ${W+1}: Fonte ausente`),k=!1),T.amount<=0&&(P.push(`Receita ${W+1}: Valor inválido`),k=!1)}),E.forEach((T,W)=>{T.type||(P.push(`Despesa ${W+1}: Tipo ausente`),k=!1),T.amount<=0&&(P.push(`Despesa ${W+1}: Valor inválido`),k=!1)}),S.forEach((T,W)=>{T.oab||(P.push(`Advogado ${W+1}: OAB ausente`),k=!1),T.fullName||(P.push(`Advogado ${W+1}: Nome completo ausente`),k=!1)}),C.forEach((T,W)=>{T.fullName||(P.push(`Colaborador ${W+1}: Nome completo ausente`),k=!1),T.position||(P.push(`Colaborador ${W+1}: Cargo ausente`),k=!1)}),a({isValid:k,errors:P,summary:{totalProcesses:g.length,totalEvents:v.length,totalRevenues:x.length,totalExpenses:E.length,totalLawyers:S.length,totalEmployees:C.length}})}catch(g){console.error("Erro ao validar dados:",g),a({isValid:!1,errors:["Erro ao acessar os dados para validação"],summary:null})}finally{o(!1)}},p=async()=>{var g;try{o(!0);const[v,x,E,S,C,P,k]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getRevenues(),rt.getExpenses(),rt.getDocuments(),rt.getLawyers(),rt.getEmployees()]),T={version:"1.0",timestamp:new Date().toISOString(),user:(g=Xi.currentUser)==null?void 0:g.uid,data:{processes:v,events:x,revenues:E,expenses:S,documents:C,lawyers:P,employees:k}},W=JSON.stringify(T,null,2),M=new Blob([W],{type:"application/json"}),A=URL.createObjectURL(M),I=document.createElement("a");I.href=A,I.download=`legalx_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(A),alert("Backup criado com sucesso!")}catch(v){console.error("Erro ao criar backup:",v),alert("Erro ao criar backup. Tente novamente.")}finally{o(!1)}},h=async g=>{var x;const v=(x=g.target.files)==null?void 0:x[0];if(v)try{o(!0);const E=await v.text(),S=JSON.parse(E);if(!S.data||!S.version)throw new Error("Arquivo de backup inválido");const C=`
Esta ação irá substituir todos os dados atuais pelos dados do backup.
Backup criado em: ${new Date(S.timestamp).toLocaleString("pt-BR")}

Deseja continuar?
      `.trim();if(!confirm(C))return;alert("Funcionalidade de restauração em desenvolvimento. Por segurança, esta operação requer implementação adicional para evitar perda de dados.")}catch(E){console.error("Erro ao importar backup:",E),alert("Erro ao importar backup. Verifique se o arquivo está correto.")}finally{o(!1),g.target.value=""}},y=async()=>{const g=`
⚠️ ATENÇÃO: Esta ação irá excluir TODOS os seus dados permanentemente!

Isso inclui:
- Todos os processos
- Todos os eventos da agenda
- Todas as receitas e despesas
- Todos os documentos
- Todos os advogados e colaboradores

Esta ação NÃO PODE ser desfeita!

Digite "CONFIRMAR EXCLUSÃO" para prosseguir:
    `.trim();if(prompt(g)!=="CONFIRMAR EXCLUSÃO"){alert("Operação cancelada.");return}try{o(!0);const[x,E,S,C,P,k,T]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getRevenues(),rt.getExpenses(),rt.getDocuments(),rt.getLawyers(),rt.getEmployees()]),W=[...x.map(M=>rt.deleteProcess(M.id)),...E.map(M=>rt.deleteEvent(M.id)),...S.map(M=>rt.deleteRevenue(M.id)),...C.map(M=>rt.deleteExpense(M.id)),...P.map(M=>rt.deleteDocument(M.id)),...k.map(M=>rt.deleteLawyer(M.id)),...T.map(M=>rt.deleteEmployee(M.id))];await Promise.all(W),await u(),alert("Todos os dados foram excluídos com sucesso!")}catch(x){console.error("Erro ao limpar dados:",x),alert("Erro ao limpar dados. Alguns dados podem não ter sido excluídos.")}finally{o(!1)}},m=async()=>{if(confirm("Deseja criar dados de exemplo? Isso adicionará dados fictícios ao sistema."))try{o(!0);const g=await rt.saveLawyer({fullName:"Dr. João Silva Santos",oab:"SP123456",email:"joao.silva@exemplo.com",phone:"(11) 99999-9999",specialties:["Direito Civil","Direito Empresarial"],status:"Ativo"}),v=await rt.saveEmployee({fullName:"Maria Oliveira",position:"Secretária",email:"maria.oliveira@exemplo.com",phone:"(11) 88888-8888",status:"Ativo"}),x=await rt.saveProcess({processNumber:"1234567-89.2024.8.26.0001",client:"Empresa ABC Ltda",description:"Ação de cobrança contra fornecedor",status:"Em andamento",court:"Vara Cível Central",responsibleLawyers:g?[g.fullName]:[],value:5e4,area:"Direito Empresarial"});await rt.saveEvent({title:"Audiência de Conciliação",date:new Date().toISOString().split("T")[0],time:"14:00",type:"Audiência",client:"Empresa ABC Ltda",processNumber:"1234567-89.2024.8.26.0001",lawyers:g?[g.fullName]:[],location:"Fórum Central",priority:"Alta",status:"Pendente"}),await rt.saveRevenue({date:new Date().toISOString().split("T")[0],amount:15e3,source:"Empresa ABC Ltda",category:"Honorário",client:"Empresa ABC Ltda",responsibleLawyers:g?[g.fullName]:[],description:"Honorários advocatícios - entrada do processo"}),await rt.saveExpense({date:new Date().toISOString().split("T")[0],amount:1200,type:"Aluguel do escritório",category:"Aluguel",description:"Aluguel mensal do escritório",responsibleMembers:v?[v.fullName]:[]}),await u(),alert("Dados de exemplo criados com sucesso!")}catch(g){console.error("Erro ao criar dados de exemplo:",g),alert("Erro ao criar dados de exemplo. Tente novamente.")}finally{o(!1)}},w=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g);return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configurações do Sistema"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie dados, backup e configurações gerais"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(f$,{className:"w-5 h-5 mr-2"}),"Estatísticas do Sistema"]}),l?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando estatísticas..."})]}):t&&r?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-blue-600",children:"Processos"}),d.jsx("p",{className:"text-xl font-bold text-blue-700",children:t.totalProcesses}),d.jsxs("p",{className:"text-xs text-blue-500",children:[t.activeProcesses," ativos, ",t.completedProcesses," concluídos"]})]}),d.jsxs("div",{className:"bg-green-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-green-600",children:"Eventos"}),d.jsx("p",{className:"text-xl font-bold text-green-700",children:t.totalEvents}),d.jsxs("p",{className:"text-xs text-green-500",children:[t.pendingEvents," pendentes, ",t.completedEvents," concluídos"]})]}),d.jsxs("div",{className:"bg-purple-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-purple-600",children:"Receitas"}),d.jsx("p",{className:"text-lg font-bold text-purple-700",children:w(r.totalRevenue)})]}),d.jsxs("div",{className:"bg-red-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-red-600",children:"Despesas"}),d.jsx("p",{className:"text-lg font-bold text-red-700",children:w(r.totalExpenses)})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Documentos"}),d.jsx("p",{className:"text-lg font-bold text-gray-700",children:t.totalDocuments})]}),d.jsxs("div",{className:"bg-indigo-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-indigo-600",children:"Equipe"}),d.jsx("p",{className:"text-lg font-bold text-indigo-700",children:t.totalLawyers+t.totalEmployees}),d.jsxs("p",{className:"text-xs text-indigo-500",children:[t.activeLawyers," advogados, ",t.activeEmployees," colaboradores"]})]})]}),d.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Armazenamento (Firestore)"}),d.jsxs("div",{className:"flex items-center mt-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"5%"}})}),d.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Ilimitado (Cloud Firestore)"})]})]})]}):d.jsx("p",{className:"text-red-500",children:"Erro ao carregar estatísticas"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(Ec,{className:"w-5 h-5 mr-2"}),"Validação de Dados"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:f,disabled:s,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:s?"Validando...":"Validar Integridade dos Dados"}),i&&d.jsxs("div",{className:`p-4 rounded-lg ${i.isValid?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[d.jsxs("div",{className:"flex items-center mb-2",children:[i.isValid?d.jsx(Ec,{className:"w-5 h-5 text-green-600 mr-2"}):d.jsx(Jp,{className:"w-5 h-5 text-red-600 mr-2"}),d.jsx("span",{className:`font-medium ${i.isValid?"text-green-800":"text-red-800"}`,children:i.isValid?"Dados íntegros":"Problemas encontrados"})]}),i.summary&&d.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Analisados: ",i.summary.totalProcesses," processos, "," ",i.summary.totalEvents," eventos, "," ",i.summary.totalRevenues," receitas, "," ",i.summary.totalExpenses," despesas"]}),i.errors.length>0&&d.jsx("ul",{className:"text-sm text-red-700 space-y-1 max-h-32 overflow-y-auto",children:i.errors.map((g,v)=>d.jsxs("li",{children:["• ",g]},v))})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Backup e Restauração"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:p,disabled:s,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[d.jsx(d$,{className:"w-5 h-5 mr-2"}),s?"Criando Backup...":"Fazer Backup dos Dados"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Restaurar Backup"}),d.jsx("input",{type:"file",accept:".json",onChange:h,disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecione um arquivo de backup (.json) para restaurar"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gerenciamento de Dados"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:m,disabled:s,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[d.jsx(Ale,{className:"w-5 h-5 mr-2"}),s?"Criando...":"Criar Dados de Exemplo"]}),d.jsxs("div",{className:"border-t pt-4",children:[d.jsxs("button",{onClick:y,disabled:s,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:[d.jsx(_s,{className:"w-5 h-5 mr-2"}),s?"Limpando...":"Limpar Todos os Dados"]}),d.jsx("p",{className:"text-xs text-red-500 mt-1",children:"⚠️ Esta ação não pode ser desfeita"})]})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Instruções de Uso"}),d.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Backup:"})," Recomendamos fazer backup regularmente dos seus dados. Os dados são exportados em formato JSON."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Validação:"})," Execute a validação periodicamente para garantir a integridade dos dados no Firestore."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Armazenamento:"})," Os dados são salvos no Cloud Firestore com isolamento por usuário."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Dados de Exemplo:"})," Use para testar o sistema com dados fictícios (advogado, colaborador, processo, evento, receita e despesa)."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Segurança:"})," Todos os dados são associados ao seu usuário autenticado e não são visíveis a outros usuários."]})]})]})]})}function o7({onNewLawyer:t,onNewEmployee:e,onViewLawyer:r,onViewEmployee:n,onEditLawyer:i,onEditEmployee:a}){const[s,o]=O.useState([]),[l,c]=O.useState([]),[u,f]=O.useState("lawyers"),[p,h]=O.useState(""),[y,m]=O.useState("all"),[w,g]=O.useState(!0),[v,x]=O.useState(null);O.useEffect(()=>{E()},[]);const E=async()=>{try{g(!0),x(null);const[A,I]=await Promise.all([rt.getLawyers(),rt.getEmployees()]);o(A),c(I),console.log(`${A.length} advogados e ${I.length} colaboradores carregados`)}catch(A){console.error("Erro ao carregar dados da equipe:",A),x("Erro ao carregar dados da equipe. Tente novamente.")}finally{g(!1)}},S=async A=>{if(confirm("Tem certeza que deseja excluir este advogado?"))try{g(!0),await rt.deleteLawyer(A),await E()}catch(I){console.error("Erro ao excluir advogado:",I),x("Erro ao excluir advogado. Tente novamente.")}finally{g(!1)}},C=async A=>{if(confirm("Tem certeza que deseja excluir este colaborador?"))try{g(!0),await rt.deleteEmployee(A),await E()}catch(I){console.error("Erro ao excluir colaborador:",I),x("Erro ao excluir colaborador. Tente novamente.")}finally{g(!1)}},P=s.filter(A=>{const I=A.fullName.toLowerCase().includes(p.toLowerCase())||A.oab.toLowerCase().includes(p.toLowerCase())||A.cpf.toLowerCase().includes(p.toLowerCase()),L=y==="all"||A.status===y;return I&&L}),k=l.filter(A=>{const I=A.fullName.toLowerCase().includes(p.toLowerCase())||A.position.toLowerCase().includes(p.toLowerCase())||A.cpf.toLowerCase().includes(p.toLowerCase()),L=y==="all"||A.status===y;return I&&L}),T=A=>$r(new Date(A),"dd/MM/yyyy",{locale:Nr}),W=A=>A.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),M=A=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A);return v?d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),d.jsx("div",{className:"mt-2 text-sm text-red-700",children:d.jsx("p",{children:v})}),d.jsx("div",{className:"mt-4",children:d.jsx("button",{type:"button",className:"bg-red-100 px-2 py-1.5 rounded-md text-sm font-medium text-red-800 hover:bg-red-200",onClick:()=>{x(null),E()},children:"Tentar novamente"})})]})]})})}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Equipe"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie advogados e colaboradores do escritório"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:t,disabled:w,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(Yu,{className:"w-5 h-5 mr-2"}),"Novo Advogado"]}),d.jsxs("button",{onClick:e,disabled:w,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx($1,{className:"w-5 h-5 mr-2"}),"Novo Colaborador"]})]})]}),d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[d.jsxs("button",{onClick:()=>f("lawyers"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${u==="lawyers"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Advogados (",s.length,")"]}),d.jsxs("button",{onClick:()=>f("employees"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${u==="employees"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Colaboradores (",l.length,")"]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(PT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:p,onChange:A=>h(A.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Tx,{className:"w-5 h-5 text-gray-400"}),d.jsxs("select",{value:y,onChange:A=>m(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Todos os Status"}),d.jsx("option",{value:"Ativo",children:"Ativo"}),d.jsx("option",{value:"Inativo",children:"Inativo"})]})]})]})]}),w&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando equipe..."})]}),!w&&d.jsxs(d.Fragment,{children:[u==="lawyers"?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(A=>d.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[A.photo?d.jsx("img",{src:A.photo,alt:A.fullName,className:"w-12 h-12 rounded-full object-cover mr-3"}):d.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:d.jsx(Yu,{className:"w-6 h-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.fullName}),d.jsxs("p",{className:"text-sm text-gray-500",children:["OAB: ",A.oab]})]})]}),d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${A.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.status})]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"CPF:"}),d.jsx("span",{className:"text-gray-900",children:W(A.cpf)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Comissão:"}),d.jsxs("span",{className:"text-gray-900",children:[A.commission,"%"]})]}),A.email&&d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Email:"}),d.jsx("span",{className:"text-gray-900 truncate",children:A.email})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Cadastrado:"}),d.jsx("span",{className:"text-gray-900",children:T(A.createdAt)})]})]}),A.specialties&&A.specialties.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Especialidades:"}),d.jsxs("div",{className:"flex flex-wrap gap-1",children:[A.specialties.slice(0,3).map((I,L)=>d.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:I},L)),A.specialties.length>3&&d.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:["+",A.specialties.length-3]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[d.jsx("button",{onClick:()=>r(A),className:"text-blue-600 hover:text-blue-900 p-2 rounded hover:bg-blue-50",title:"Visualizar",children:d.jsx(dl,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>i(A),className:"text-amber-600 hover:text-amber-900 p-2 rounded hover:bg-amber-50",title:"Editar",children:d.jsx(ta,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>S(A.id),className:"text-red-600 hover:text-red-900 p-2 rounded hover:bg-red-50",title:"Excluir",disabled:w,children:d.jsx(_s,{className:"w-4 h-4"})})]})]})},A.id))}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(A=>d.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[A.photo?d.jsx("img",{src:A.photo,alt:A.fullName,className:"w-12 h-12 rounded-full object-cover mr-3"}):d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-3",children:d.jsx($1,{className:"w-6 h-6 text-green-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.fullName}),d.jsx("p",{className:"text-sm text-gray-500",children:A.position})]})]}),d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${A.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.status})]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"CPF:"}),d.jsx("span",{className:"text-gray-900",children:W(A.cpf)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Salário:"}),d.jsx("span",{className:"text-gray-900",children:M(A.salary)})]}),A.email&&d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Email:"}),d.jsx("span",{className:"text-gray-900 truncate",children:A.email})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Cadastrado:"}),d.jsx("span",{className:"text-gray-900",children:T(A.createdAt)})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[d.jsx("button",{onClick:()=>n(A),className:"text-blue-600 hover:text-blue-900 p-2 rounded hover:bg-blue-50",title:"Visualizar",children:d.jsx(dl,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>a(A),className:"text-amber-600 hover:text-amber-900 p-2 rounded hover:bg-amber-50",title:"Editar",children:d.jsx(ta,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>C(A.id),className:"text-red-600 hover:text-red-900 p-2 rounded hover:bg-red-50",title:"Excluir",disabled:w,children:d.jsx(_s,{className:"w-4 h-4"})})]})]})},A.id))}),u==="lawyers"&&P.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Yu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:s.length===0?'Nenhum advogado cadastrado. Clique em "Novo Advogado" para começar.':"Nenhum advogado encontrado com os filtros aplicados."})]}),u==="employees"&&k.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx($1,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:l.length===0?'Nenhum colaborador cadastrado. Clique em "Novo Colaborador" para começar.':"Nenhum colaborador encontrado com os filtros aplicados."})]})]})]})}const U3e=js({fullName:lt().required("Nome completo é obrigatório"),cpf:lt().required("CPF é obrigatório"),oab:lt().required("OAB é obrigatória"),commission:km().min(0,"Comissão deve ser positiva").max(100,"Comissão não pode ser maior que 100%").required("Comissão é obrigatória"),email:lt().email("Email inválido"),phone:lt(),address:lt(),status:lt().required("Status é obrigatório")});function $3e({lawyer:t,onBack:e,onSave:r}){const[n,i]=O.useState((t==null?void 0:t.specialties)||[]),[a,s]=O.useState(""),[o,l]=O.useState((t==null?void 0:t.photo)||""),[c,u]=O.useState(!1),{register:f,handleSubmit:p,formState:{errors:h},setValue:y}=bl({resolver:xl(U3e),defaultValues:t||{status:"Ativo",commission:10}});O.useEffect(()=>{t&&(Object.keys(t).forEach(E=>{y(E,t[E])}),i(t.specialties||[]),l(t.photo||""))},[t,y]);const m=async E=>{u(!0);try{const S={...E,specialties:n,photo:o};if(t){const C=await rt.updateLawyer(t.id,S);C?(console.log("Advogado atualizado com sucesso"),r(C)):alert("Erro ao atualizar advogado")}else{const C=await rt.saveLawyer(S);console.log("Novo advogado criado com sucesso"),r(C)}}catch(S){console.error("Erro ao salvar advogado:",S),alert("Erro ao salvar advogado. Tente novamente.")}finally{u(!1)}},w=()=>{a.trim()&&!n.includes(a.trim())&&(i([...n,a.trim()]),s(""))},g=E=>{i(n.filter((S,C)=>C!==E))},v=E=>{var C;const S=(C=E.target.files)==null?void 0:C[0];if(S){const P=new FileReader;P.onload=k=>{var T;l((T=k.target)==null?void 0:T.result)},P.readAsDataURL(S)}},x=E=>E.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1");return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:c,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Advogado":"Novo Advogado"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do advogado":"Cadastre um novo advogado na equipe"})]})]}),d.jsx("form",{onSubmit:p(m),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Foto do Advogado"}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("div",{className:"flex-shrink-0",children:o?d.jsx("img",{src:o,alt:"Preview",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):d.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center",children:d.jsx(V0,{className:"w-8 h-8 text-gray-400"})})}),d.jsxs("div",{children:[d.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden",id:"photo-upload",disabled:c}),d.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[d.jsx(V0,{className:"w-4 h-4 mr-2"}),"Escolher Foto"]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG ou GIF até 5MB"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),d.jsx("input",{...f("fullName"),type:"text",disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Nome completo do advogado"}),h.fullName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.fullName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...f("cpf"),type:"text",maxLength:14,disabled:c,onChange:E=>{E.target.value=x(E.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"000.000.000-00"}),h.cpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.cpf.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB *"}),d.jsx("input",{...f("oab"),type:"text",disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"123456/SP"}),h.oab&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.oab.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comissão (%) *"}),d.jsx("input",{...f("commission",{valueAsNumber:!0}),type:"number",min:"0",max:"100",step:"0.1",disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"10.0"}),h.commission&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.commission.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{...f("email"),type:"email",disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"email@exemplo.com"}),h.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),d.jsx("input",{...f("phone"),type:"text",disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"(11) 99999-9999"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),d.jsx("input",{...f("address"),type:"text",disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Endereço completo"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),d.jsxs("select",{...f("status"),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"Ativo",children:"Ativo"}),d.jsx("option",{value:"Inativo",children:"Inativo"})]}),h.status&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.status.message})]})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Especialidades"})}),d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx("input",{type:"text",value:a,onChange:E=>s(E.target.value),onKeyPress:E=>E.key==="Enter"&&(E.preventDefault(),w()),disabled:c,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Ex: Direito Trabalhista"}),d.jsxs("button",{type:"button",onClick:w,disabled:c,className:"flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[d.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Adicionar"]})]}),n.length>0?d.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((E,S)=>d.jsxs("div",{className:"flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[d.jsx("span",{children:E}),d.jsx("button",{type:"button",onClick:()=>g(S),disabled:c,className:"ml-2 text-blue-600 hover:text-blue-800 disabled:opacity-50",children:d.jsx(vo,{className:"w-4 h-4"})})]},S))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma especialidade adicionada"})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:e,disabled:c,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:c?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):`${t?"Atualizar":"Salvar"} Advogado`})]})]})})]})}function V3e({lawyer:t,onBack:e,onEdit:r,onUpdate:n}){const i=o=>$r(new Date(o),"dd/MM/yyyy",{locale:Nr}),a=o=>o.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),s=async()=>{const o=t.status==="Ativo"?"Inativo":"Ativo";if(confirm(`Tem certeza que deseja ${o==="Ativo"?"ativar":"inativar"} este advogado?`))try{const c=await rt.updateLawyer(t.id,{status:o});c&&n&&n(c)}catch(c){console.error("Erro ao atualizar status do advogado:",c),alert("Erro ao atualizar advogado. Tente novamente.")}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsx("p",{className:"text-gray-600",children:"Informações detalhadas do advogado"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("button",{onClick:s,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${t.status==="Ativo"?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:t.status==="Ativo"?"Inativar":"Ativar"}),d.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(ta,{className:"w-5 h-5 mr-2"}),"Editar"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[t.photo?d.jsx("img",{src:t.photo,alt:t.fullName,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):d.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(Yu,{className:"w-12 h-12 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsxs("p",{className:"text-lg text-gray-600",children:["OAB: ",t.oab]}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full mt-2 ${t.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]})]})}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"CPF"}),d.jsx("p",{className:"text-gray-900",children:a(t.cpf)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Comissão"}),d.jsxs("p",{className:"text-gray-900 font-semibold",children:[t.commission,"%"]})]}),t.email&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Email"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Xp,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.email})]})]}),t.phone&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Telefone"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Px,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.phone})]})]}),t.address&&d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Endereço"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(h$,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.address})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Cadastro"}),d.jsx("p",{className:"text-gray-900",children:i(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Especialidades"}),t.specialties&&t.specialties.length>0?d.jsx("div",{className:"flex flex-wrap gap-2",children:t.specialties.map((o,l)=>d.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:o},l))}):d.jsx("p",{className:"text-gray-500",children:"Nenhuma especialidade cadastrada"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatísticas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"0"}),d.jsx("p",{className:"text-sm text-blue-600",children:"Processos Ativos"})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-green-600",children:"0"}),d.jsx("p",{className:"text-sm text-green-600",children:"Processos Concluídos"})]}),d.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"R$ 0,00"}),d.jsx("p",{className:"text-sm text-purple-600",children:"Comissões do Mês"})]})]})]})]})]})}const z3e=js({fullName:lt().required("Nome completo é obrigatório"),cpf:lt().required("CPF é obrigatório"),salary:km().min(0,"Salário deve ser positivo").required("Salário é obrigatório"),position:lt().required("Função é obrigatória"),email:lt().email("Email inválido"),phone:lt(),address:lt(),status:lt().required("Status é obrigatório")});function q3e({employee:t,onBack:e,onSave:r}){const[n,i]=O.useState((t==null?void 0:t.photo)||""),[a,s]=O.useState(!1),{register:o,handleSubmit:l,formState:{errors:c},setValue:u}=bl({resolver:xl(z3e),defaultValues:t||{status:"Ativo",salary:0}});O.useEffect(()=>{t&&(Object.keys(t).forEach(y=>{u(y,t[y])}),i(t.photo||""))},[t,u]);const f=async y=>{if(!a)try{s(!0);const m={...y,photo:n};if(t){const w=await rt.updateEmployee(t.id,m);w?(console.log("Colaborador atualizado com sucesso"),r(w)):alert("Erro ao atualizar colaborador")}else{const w=await rt.saveEmployee(m);console.log("Novo colaborador criado com sucesso"),r(w)}}catch(m){console.error("Erro ao salvar colaborador:",m),alert("Erro ao salvar colaborador. Tente novamente.")}finally{s(!1)}},p=y=>{var w;const m=(w=y.target.files)==null?void 0:w[0];if(m){const g=new FileReader;g.onload=v=>{var x;i((x=v.target)==null?void 0:x.result)},g.readAsDataURL(m)}},h=y=>y.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1");return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:a,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Colaborador":"Novo Colaborador"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do colaborador":"Cadastre um novo colaborador na equipe"})]})]}),d.jsx("form",{onSubmit:l(f),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Foto do Colaborador"}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("div",{className:"flex-shrink-0",children:n?d.jsx("img",{src:n,alt:"Preview",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):d.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center",children:d.jsx(V0,{className:"w-8 h-8 text-gray-400"})})}),d.jsxs("div",{children:[d.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"hidden",id:"photo-upload",disabled:a}),d.jsxs("label",{htmlFor:"photo-upload",className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 ${a?"opacity-50 cursor-not-allowed":""}`,children:[d.jsx(V0,{className:"w-4 h-4 mr-2"}),"Escolher Foto"]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG ou GIF até 5MB"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),d.jsx("input",{...o("fullName"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome completo do colaborador",disabled:a}),c.fullName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.fullName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...o("cpf"),type:"text",maxLength:14,onChange:y=>{y.target.value=h(y.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00",disabled:a}),c.cpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.cpf.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função/Cargo *"}),d.jsx("input",{...o("position"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Secretária, Assistente Jurídico",disabled:a}),c.position&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.position.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salário (R$) *"}),d.jsx("input",{...o("salary",{valueAsNumber:!0}),type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",disabled:a}),c.salary&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.salary.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{...o("email"),type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@exemplo.com",disabled:a}),c.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),d.jsx("input",{...o("phone"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"(11) 99999-9999",disabled:a})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),d.jsx("input",{...o("address"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Endereço completo",disabled:a})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),d.jsxs("select",{...o("status"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:a,children:[d.jsx("option",{value:"Ativo",children:"Ativo"}),d.jsx("option",{value:"Inativo",children:"Inativo"})]}),c.status&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.status.message})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",disabled:a,children:"Cancelar"}),d.jsxs("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",disabled:a,children:[a?"Salvando...":t?"Atualizar":"Salvar"," Colaborador"]})]})]})})]})}function W3e({employee:t,onBack:e,onEdit:r,onUpdate:n}){const i=l=>$r(new Date(l),"dd/MM/yyyy",{locale:Nr}),a=l=>l.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),s=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),o=async()=>{const l=t.status==="Ativo"?"Inativo":"Ativo";if(confirm(`Tem certeza que deseja ${l==="Ativo"?"ativar":"inativar"} este colaborador?`))try{const u=await rt.updateEmployee(t.id,{status:l});u&&n&&n(u)}catch(u){console.error("Erro ao atualizar status do colaborador:",u),alert("Erro ao atualizar colaborador. Tente novamente.")}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsx("p",{className:"text-gray-600",children:"Informações detalhadas do colaborador"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("button",{onClick:o,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${t.status==="Ativo"?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:t.status==="Ativo"?"Inativar":"Ativar"}),d.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(ta,{className:"w-5 h-5 mr-2"}),"Editar"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[t.photo?d.jsx("img",{src:t.photo,alt:t.fullName,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):d.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center",children:d.jsx($1,{className:"w-12 h-12 text-green-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsx("p",{className:"text-lg text-gray-600",children:t.position}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full mt-2 ${t.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]})]})}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"CPF"}),d.jsx("p",{className:"text-gray-900",children:a(t.cpf)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Salário"}),d.jsx("p",{className:"text-gray-900 font-semibold",children:s(t.salary)})]}),t.email&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Email"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Xp,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.email})]})]}),t.phone&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Telefone"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Px,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.phone})]})]}),t.address&&d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Endereço"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(h$,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.address})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Cadastro"}),d.jsx("p",{className:"text-gray-900",children:i(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatísticas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"0"}),d.jsx("p",{className:"text-sm text-blue-600",children:"Tarefas Concluídas"})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-green-600",children:"0"}),d.jsx("p",{className:"text-sm text-green-600",children:"Projetos Ativos"})]}),d.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s(t.salary*12)}),d.jsx("p",{className:"text-sm text-purple-600",children:"Salário Anual"})]})]})]})]})]})}const b4={owner:{financas:!0,processos:!0,agenda:!0,documentos:!0,relatorios:!0,equipe:!0,configuracoes:!0},admin:{financas:!0,processos:!0,agenda:!0,documentos:!0,relatorios:!0,equipe:!0,configuracoes:!1},editor:{financas:!1,processos:!0,agenda:!0,documentos:!0,relatorios:!1,equipe:!1,configuracoes:!1},viewer:{financas:!1,processos:!1,agenda:!1,documentos:!1,relatorios:!1,equipe:!1,configuracoes:!1}};class H3e{getCurrentUserId(){const e=Xi.currentUser;if(!e)throw new Error("Usuário não autenticado");return e.uid}async waitForAuth(){return new Promise(e=>{if(Xi.currentUser){e(!0);return}const r=Xi.onAuthStateChanged(n=>{r(),e(!!n)})})}async getTeam(){var e,r,n,i,a,s;try{if(!await this.waitForAuth())return console.log("Usuário não autenticado"),null;const l=this.getCurrentUserId();console.log("Buscando equipe para usuário:",l);const c=eo(Qd(qt,"teams"),Dh("ownerUid","==",l)),u=await to(c);if(console.log("Teams encontrados como owner:",u.size),!u.empty){const p=u.docs[0],h={id:p.id,...p.data(),createdAt:((n=(r=(e=p.data().createdAt)==null?void 0:e.toDate)==null?void 0:r.call(e))==null?void 0:n.toISOString())||p.data().createdAt};return console.log("Team encontrado como owner:",h),h}const f=await Gi(hr(qt,"teamMembers",l));if(f.exists()&&f.data().status==="active"){const h=f.data().teamId;console.log("Usuário é membro da equipe:",h);const y=await Gi(hr(qt,"teams",h));if(y.exists()){const m={id:y.id,...y.data(),createdAt:((s=(a=(i=y.data().createdAt)==null?void 0:i.toDate)==null?void 0:a.call(i))==null?void 0:s.toISOString())||y.data().createdAt};return console.log("Team encontrado como membro:",m),m}}return console.log("Nenhuma equipe encontrada para o usuário"),null}catch(o){throw console.error("Erro ao buscar team:",o),o}}async createTeam(e){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const n=this.getCurrentUserId(),i=Xi.currentUser;if(!i||!i.email)throw new Error("Usuário não possui email válido");console.log("Criando equipe para usuário:",n);const a={...e,ownerUid:n,createdAt:Bt.now(),settings:e.settings||{allowInvitations:!0,defaultRole:"viewer",modules:["processos","agenda","documentos","relatorios"]}},s=await Yl(Qd(qt,"teams"),a);return console.log("Team criado com ID:",s.id),await yU(hr(qt,"teamMembers",n),{uid:n,email:i.email,teamId:s.id,role:"owner",permissions:b4.owner,status:"active",addedAt:Bt.now(),addedBy:n}),console.log("Owner adicionado como membro"),{id:s.id,...e,ownerUid:n,createdAt:new Date().toISOString()}}catch(r){throw console.error("Erro ao criar team:",r),r}}async updateTeam(e,r){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");console.log("Atualizando equipe:",e,r);const i=hr(qt,"teams",e),a={...r,updatedAt:Bt.now()};return Object.keys(a).forEach(s=>{(a[s]===void 0||a[s]===null)&&delete a[s]}),await Ko(i,a),console.log("Team atualizado com sucesso"),await this.getTeam()}catch(n){throw console.error("Erro ao atualizar team:",n),n}}async uploadLogo(e,r){try{return console.log("Upload de logo não disponível no plano gratuito"),new Promise(n=>{const i=new FileReader;i.onload=a=>{var o;const s=(o=a.target)==null?void 0:o.result;console.log("Logo convertido para base64"),n(s)},i.onerror=()=>{console.error("Erro ao converter logo para base64"),n(null)},i.readAsDataURL(e)})}catch(n){return console.error("Erro no upload do logo:",n),null}}async getTeamMembers(e){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");console.log("Buscando membros para equipe:",e);const n=eo(Qd(qt,"teamMembers"),Dh("teamId","==",e),Kl("addedAt","desc")),i=await to(n);return console.log("Membros encontrados:",i.size),i.docs.map(s=>{var o,l,c;return{...s.data(),addedAt:((c=(l=(o=s.data().addedAt)==null?void 0:o.toDate)==null?void 0:l.call(o))==null?void 0:c.toISOString())||s.data().addedAt}})}catch(r){throw console.error("Erro ao buscar membros:",r),r}}async updateMemberPermissions(e,r,n,i){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");console.log("Atualizando permissões do membro:",r);const s=hr(qt,"teamMembers",r),o=await Gi(s);if(!o.exists()||o.data().teamId!==e)throw new Error("Membro não encontrado na equipe");const l={permissions:n};return i&&(l.role=i),await Ko(s,l),console.log("Permissões atualizadas com sucesso"),!0}catch(a){throw console.error("Erro ao atualizar permissões:",a),a}}async removeMember(e,r){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");console.log("Removendo membro:",r);const i=hr(qt,"teamMembers",r),a=await Gi(i);if(!a.exists()||a.data().teamId!==e)throw new Error("Membro não encontrado na equipe");return await bu(i),console.log("Membro removido com sucesso"),!0}catch(n){throw console.error("Erro ao remover membro:",n),n}}async createInvitation(e,r,n){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const a=this.getCurrentUserId();console.log("Criando convite para:",r);const s=eo(Qd(qt,"invitations"),Dh("teamId","==",e),Dh("email","==",r.toLowerCase()),Dh("status","==","pending"));if(!(await to(s)).empty)throw new Error("Já existe um convite pendente para este e-mail");const l=this.generateInviteToken(),c=new Date;c.setHours(c.getHours()+72);const u={email:r.toLowerCase(),teamId:e,role:n,token:l,expiresAt:Bt.fromDate(c),createdAt:Bt.now(),createdBy:a,status:"pending"},f=await Yl(Qd(qt,"invitations"),u);return console.log("Convite criado:",f.id),{id:f.id,...u,expiresAt:c.toISOString(),createdAt:new Date().toISOString()}}catch(i){throw console.error("Erro ao criar convite:",i),i}}async getTeamInvitations(e){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");console.log("Buscando convites para equipe:",e);const n=eo(Qd(qt,"invitations"),Dh("teamId","==",e),Kl("createdAt","desc")),i=await to(n);return console.log("Convites encontrados:",i.size),i.docs.map(s=>{var o,l,c,u,f,p,h,y,m;return{id:s.id,...s.data(),expiresAt:((c=(l=(o=s.data().expiresAt)==null?void 0:o.toDate)==null?void 0:l.call(o))==null?void 0:c.toISOString())||s.data().expiresAt,createdAt:((p=(f=(u=s.data().createdAt)==null?void 0:u.toDate)==null?void 0:f.call(u))==null?void 0:p.toISOString())||s.data().createdAt,usedAt:((m=(y=(h=s.data().usedAt)==null?void 0:h.toDate)==null?void 0:y.call(h))==null?void 0:m.toISOString())||s.data().usedAt}})}catch(r){throw console.error("Erro ao buscar convites:",r),r}}async cancelInvitation(e){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");console.log("Cancelando convite:",e);const n=hr(qt,"invitations",e);return await Ko(n,{status:"cancelled",cancelledAt:Bt.now()}),console.log("Convite cancelado com sucesso"),!0}catch(r){throw console.error("Erro ao cancelar convite:",r),r}}async acceptInvitation(e){try{if(!await this.waitForAuth())return{success:!1,message:"Usuário não autenticado"};const n=this.getCurrentUserId(),i=Xi.currentUser;if(!i||!i.email)return{success:!1,message:"Usuário não possui email válido"};console.log("Aceitando convite:",e);const a=hr(qt,"invitations",e),s=await Gi(a);if(!s.exists())return{success:!1,message:"Convite não encontrado"};const o=s.data(),l=new Date,c=o.expiresAt instanceof Bt?o.expiresAt.toDate():new Date(o.expiresAt);if(l>c)return await Ko(a,{status:"expired"}),{success:!1,message:"Convite expirado"};if(o.status!=="pending")return{success:!1,message:"Convite já foi utilizado ou cancelado"};const u=await Gi(hr(qt,"teamMembers",n));if(u.exists()&&u.data().teamId===o.teamId)return{success:!1,message:"Você já é membro desta equipe"};const f=hae(qt),p=hr(qt,"teamMembers",n);return f.set(p,{uid:n,email:i.email,teamId:o.teamId,role:o.role,permissions:b4[o.role],status:"active",addedAt:Bt.now(),addedBy:o.createdBy}),f.update(a,{status:"accepted",usedAt:Bt.now()}),await f.commit(),console.log("Convite aceito com sucesso"),{success:!0,message:"Convite aceito com sucesso!",teamId:o.teamId}}catch(r){return console.error("Erro ao aceitar convite:",r),{success:!1,message:"Erro interno. Tente novamente."}}}async getInvitationById(e){var r,n,i,a,s,o,l,c,u;try{console.log("Buscando convite:",e);const f=await Gi(hr(qt,"invitations",e));return f.exists()?{id:f.id,...f.data(),expiresAt:((i=(n=(r=f.data().expiresAt)==null?void 0:r.toDate)==null?void 0:n.call(r))==null?void 0:i.toISOString())||f.data().expiresAt,createdAt:((o=(s=(a=f.data().createdAt)==null?void 0:a.toDate)==null?void 0:s.call(a))==null?void 0:o.toISOString())||f.data().createdAt,usedAt:((u=(c=(l=f.data().usedAt)==null?void 0:l.toDate)==null?void 0:c.call(l))==null?void 0:u.toISOString())||f.data().usedAt}:null}catch(f){throw console.error("Erro ao buscar convite:",f),f}}async getUserPermissions(e){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const n=this.getCurrentUserId(),i=await Gi(hr(qt,"teamMembers",n));if(!i.exists()||i.data().teamId!==e||i.data().status!=="active")return null;const a=i.data();return{role:a.role,permissions:a.permissions}}catch(r){throw console.error("Erro ao buscar permissões:",r),r}}generateInviteToken(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Date.now().toString(36)}generateInviteLink(e){return`${window.location.origin}/aceitar?inviteId=${e}`}generateMailtoLink(e,r,n){const i=encodeURIComponent(`Convite para ${n} - LegalX`),a=encodeURIComponent(`
Olá!

Você foi convidado(a) para fazer parte da equipe "${n}" no LegalX - Sistema de Gestão Jurídica.

Para aceitar o convite, clique no link abaixo:
${r}

Este convite expira em 72 horas.

Atenciosamente,
Equipe LegalX
    `.trim());return`mailto:${e}?subject=${i}&body=${a}`}validateCpfCnpj(e){const r=e.replace(/\D/g,"");return r.length===11?this.validateCpf(r):r.length===14?this.validateCnpj(r):!1}validateCpf(e){if(e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let r=0;for(let i=0;i<9;i++)r+=parseInt(e.charAt(i))*(10-i);let n=11-r%11;if((n===10||n===11)&&(n=0),n!==parseInt(e.charAt(9)))return!1;r=0;for(let i=0;i<10;i++)r+=parseInt(e.charAt(i))*(11-i);return n=11-r%11,(n===10||n===11)&&(n=0),n===parseInt(e.charAt(10))}validateCnpj(e){if(e.length!==14)return!1;const r=[5,4,3,2,9,8,7,6,5,4,3,2],n=[6,5,4,3,2,9,8,7,6,5,4,3,2];let i=0;for(let l=0;l<12;l++)i+=parseInt(e.charAt(l))*r[l];let a=i%11;if((a<2?0:11-a)!==parseInt(e.charAt(12)))return!1;i=0;for(let l=0;l<13;l++)i+=parseInt(e.charAt(l))*n[l];return a=i%11,(a<2?0:11-a)===parseInt(e.charAt(13))}formatCpfCnpj(e){const r=e.replace(/\D/g,"");return r.length<=11?r.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):r.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")}formatPhone(e){const r=e.replace(/\D/g,"");return r.length<=10?r.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"):r.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1")}formatCep(e){return e.replace(/\D/g,"").replace(/(\d{5})(\d{1,3})/,"$1-$2")}}const ei=new H3e,G3e=js({name:lt().required("Nome do escritório é obrigatório"),cpfCnpj:lt().required("CPF/CNPJ é obrigatório"),oab:lt().required("OAB é obrigatória"),ccm:lt(),email:lt().email("Email inválido"),website:lt().url("URL inválida"),areaOfPractice:lt()});function K3e({team:t,onUpdate:e}){const[r,n]=O.useState([]),[i,a]=O.useState(void 0),[s,o]=O.useState(""),[l,c]=O.useState(null),[u,f]=O.useState(!1),[p,h]=O.useState(null),{register:y,handleSubmit:m,formState:{errors:w},setValue:g,watch:v,reset:x}=bl({resolver:xl(G3e),defaultValues:{name:"",cpfCnpj:"",oab:"",ccm:"",email:"",website:"",areaOfPractice:""}}),E=v("cpfCnpj");O.useEffect(()=>{t&&(console.log("Inicializando formulário com dados da equipe:",t),x({name:t.name||"",cpfCnpj:t.cpfCnpj||"",oab:t.oab||"",ccm:t.ccm||"",email:t.email||"",website:t.website||"",areaOfPractice:t.areaOfPractice||""}),n(t.phones||[]),a(t.address),o(t.logoUrl||""))},[t,x]),O.useEffect(()=>{if(E){const M=ei.formatCpfCnpj(E);M!==E&&g("cpfCnpj",M)}},[E,g]);const S=()=>{const M={id:Date.now().toString(),type:"Telefone comercial",number:"",operator:""};n([...r,M])},C=(M,A,I)=>{n(r.map(L=>L.id===M?{...L,[A]:I,...A==="type"&&I==="WhatsApp"?{operator:""}:{}}:L))},P=M=>{n(r.filter(A=>A.id!==M))},k=M=>{var I;const A=(I=M.target.files)==null?void 0:I[0];if(A){if(A.size>2*1024*1024){alert("O arquivo deve ter no máximo 2MB");return}if(!["image/jpeg","image/png","image/svg+xml"].includes(A.type)){alert("Apenas arquivos JPG, PNG ou SVG são permitidos");return}c(A);const se=new FileReader;se.onload=pe=>{var X;o((X=pe.target)==null?void 0:X.result)},se.readAsDataURL(A)}},T=async M=>{if(!t){h("Equipe não encontrada");return}try{f(!0),h(null),console.log("Salvando dados do escritório:",M);let A=t.logoUrl;if(l){console.log("Fazendo upload do logo...");const se=await ei.uploadLogo(l,t.id);se&&(A=se,console.log("Logo uploaded:",se))}const I={...M,phones:r,address:i,logoUrl:A};console.log("Dados a serem salvos:",I);const L=await ei.updateTeam(t.id,I);if(L)console.log("Equipe atualizada com sucesso"),e(L),alert("Dados do escritório salvos com sucesso!"),c(null);else throw new Error("Falha ao atualizar equipe")}catch(A){console.error("Erro ao salvar dados do escritório:",A);const I=A.message||"Erro ao salvar dados. Tente novamente.";h(I),alert(I)}finally{f(!1)}},W=(M,A)=>{a(I=>({...I,[M]:A,type:(I==null?void 0:I.type)||"Comercial",cep:(I==null?void 0:I.cep)||"",street:(I==null?void 0:I.street)||"",city:(I==null?void 0:I.city)||"",state:(I==null?void 0:I.state)||"",country:(I==null?void 0:I.country)||"Brasil"}))};return d.jsxs("div",{className:"space-y-8",children:[p&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[d.jsx("p",{className:"text-red-600",children:p}),d.jsx("button",{onClick:()=>h(null),className:"text-red-800 underline text-sm mt-2",children:"Fechar"})]}),d.jsxs("form",{onSubmit:m(T),className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Logo do Escritório"}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("div",{className:"flex-shrink-0",children:s?d.jsx("img",{src:s,alt:"Logo",className:"w-24 h-24 rounded-lg object-cover border-2 border-gray-200"}):d.jsx("div",{className:"w-24 h-24 rounded-lg bg-gray-100 flex items-center justify-center border-2 border-gray-200",children:d.jsx(cle,{className:"w-8 h-8 text-gray-400"})})}),d.jsxs("div",{children:[d.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/svg+xml",onChange:k,className:"hidden",id:"logo-upload",disabled:u}),d.jsxs("label",{htmlFor:"logo-upload",className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors ${u?"opacity-50 cursor-not-allowed":""}`,children:[d.jsx(V0,{className:"w-4 h-4 mr-2"}),"Escolher Logo"]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG ou SVG até 2MB"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Escritório *"}),d.jsx("input",{...y("name"),type:"text",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Ex: Silva & Associados Advocacia"}),w.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF/CNPJ *"}),d.jsx("input",{...y("cpfCnpj"),type:"text",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"000.000.000-00 ou 00.000.000/0000-00"}),w.cpfCnpj&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.cpfCnpj.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB *"}),d.jsx("input",{...y("oab"),type:"text",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"123456/SP"}),w.oab&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.oab.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CCM"}),d.jsx("input",{...y("ccm"),type:"text",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Cadastro de Contribuintes Mobiliários"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Principal"}),d.jsx("input",{...y("email"),type:"email",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"contato@escritorio.com"}),w.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site"}),d.jsx("input",{...y("website"),type:"url",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"https://www.escritorio.com"}),w.website&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.website.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Área de Atuação"}),d.jsx("textarea",{...y("areaOfPractice"),rows:3,disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Ex: Direito Civil, Direito Trabalhista, Direito Empresarial..."})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Telefones"}),d.jsxs("button",{type:"button",onClick:S,disabled:u,className:"flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[d.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Adicionar Telefone"]})]}),d.jsxs("div",{className:"space-y-3",children:[r.map(M=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[d.jsxs("select",{value:M.type,onChange:A=>C(M.id,"type",A.target.value),disabled:u,className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"Telefone comercial",children:"Telefone comercial"}),d.jsx("option",{value:"Celular comercial",children:"Celular comercial"}),d.jsx("option",{value:"Fax",children:"Fax"}),d.jsx("option",{value:"Telefone pessoal",children:"Telefone pessoal"}),d.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),d.jsx("input",{type:"text",value:M.number,onChange:A=>C(M.id,"number",ei.formatPhone(A.target.value)),disabled:u,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"(11) 99999-9999"}),M.type!=="WhatsApp"&&d.jsx("input",{type:"text",value:M.operator||"",onChange:A=>C(M.id,"operator",A.target.value),disabled:u,className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Operadora"}),d.jsx("button",{type:"button",onClick:()=>P(M.id),disabled:u,className:"text-red-600 hover:text-red-800 p-2 rounded hover:bg-red-50 disabled:opacity-50",children:d.jsx(vo,{className:"w-4 h-4"})})]},M.id)),r.length===0&&d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum telefone cadastrado"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Endereço"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Endereço"}),d.jsxs("select",{value:(i==null?void 0:i.type)||"Comercial",onChange:M=>W("type",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"Comercial",children:"Comercial"}),d.jsx("option",{value:"Pessoal",children:"Pessoal"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP"}),d.jsx("input",{type:"text",value:(i==null?void 0:i.cep)||"",onChange:M=>W("cep",ei.formatCep(M.target.value)),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"00000-000"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rua"}),d.jsx("input",{type:"text",value:(i==null?void 0:i.street)||"",onChange:M=>W("street",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Rua, número"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complemento"}),d.jsx("input",{type:"text",value:(i==null?void 0:i.complement)||"",onChange:M=>W("complement",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Sala, andar, etc."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade"}),d.jsx("input",{type:"text",value:(i==null?void 0:i.city)||"",onChange:M=>W("city",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"São Paulo"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),d.jsxs("select",{value:(i==null?void 0:i.state)||"",onChange:M=>W("state",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"",children:"Selecione o estado"}),d.jsx("option",{value:"AC",children:"Acre"}),d.jsx("option",{value:"AL",children:"Alagoas"}),d.jsx("option",{value:"AP",children:"Amapá"}),d.jsx("option",{value:"AM",children:"Amazonas"}),d.jsx("option",{value:"BA",children:"Bahia"}),d.jsx("option",{value:"CE",children:"Ceará"}),d.jsx("option",{value:"DF",children:"Distrito Federal"}),d.jsx("option",{value:"ES",children:"Espírito Santo"}),d.jsx("option",{value:"GO",children:"Goiás"}),d.jsx("option",{value:"MA",children:"Maranhão"}),d.jsx("option",{value:"MT",children:"Mato Grosso"}),d.jsx("option",{value:"MS",children:"Mato Grosso do Sul"}),d.jsx("option",{value:"MG",children:"Minas Gerais"}),d.jsx("option",{value:"PA",children:"Pará"}),d.jsx("option",{value:"PB",children:"Paraíba"}),d.jsx("option",{value:"PR",children:"Paraná"}),d.jsx("option",{value:"PE",children:"Pernambuco"}),d.jsx("option",{value:"PI",children:"Piauí"}),d.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),d.jsx("option",{value:"RN",children:"Rio Grande do Norte"}),d.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),d.jsx("option",{value:"RO",children:"Rondônia"}),d.jsx("option",{value:"RR",children:"Roraima"}),d.jsx("option",{value:"SC",children:"Santa Catarina"}),d.jsx("option",{value:"SP",children:"São Paulo"}),d.jsx("option",{value:"SE",children:"Sergipe"}),d.jsx("option",{value:"TO",children:"Tocantins"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"País"}),d.jsx("input",{type:"text",value:(i==null?void 0:i.country)||"Brasil",onChange:M=>W("country",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Brasil"})]})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:()=>window.location.reload(),disabled:u,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:u?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):"Salvar Dados"})]})]})]})}function Y3e({team:t}){const[e,r]=O.useState([]),[n,i]=O.useState(!1),[a,s]=O.useState(""),[o,l]=O.useState("viewer"),[c,u]=O.useState(!1),[f,p]=O.useState(!0);O.useEffect(()=>{t&&h()},[t]);const h=async()=>{if(t)try{p(!0);const S=await ei.getTeamInvitations(t.id);r(S)}catch(S){console.error("Erro ao carregar convites:",S)}finally{p(!1)}},y=async()=>{if(!(!t||!a.trim()))try{u(!0),await ei.createInvitation(t.id,a.trim(),o)?(await h(),i(!1),s(""),l("viewer"),alert("Convite criado com sucesso!")):alert("Erro ao criar convite. Verifique se o e-mail já não foi convidado.")}catch(S){console.error("Erro ao criar convite:",S),alert("Erro ao criar convite. Tente novamente.")}finally{u(!1)}},m=async S=>{if(confirm("Tem certeza que deseja cancelar este convite?"))try{await ei.cancelInvitation(S)&&await h()}catch(C){console.error("Erro ao cancelar convite:",C),alert("Erro ao cancelar convite.")}},w=S=>{const C=ei.generateInviteLink(S);navigator.clipboard.writeText(C).then(()=>{alert("Link copiado para a área de transferência!")}).catch(()=>{alert("Erro ao copiar link. Tente novamente.")})},g=S=>{const C=ei.generateInviteLink(S.id),P=ei.generateMailtoLink(S.email,C,(t==null?void 0:t.name)||"LegalX");window.open(P,"_blank")},v=S=>{switch(S){case"pending":return d.jsx(Vf,{className:"w-4 h-4 text-amber-500"});case"accepted":return d.jsx(Ec,{className:"w-4 h-4 text-green-500"});case"expired":case"cancelled":return d.jsx(Jp,{className:"w-4 h-4 text-red-500"});default:return d.jsx(Vf,{className:"w-4 h-4 text-gray-500"})}},x=S=>{switch(S){case"pending":return"bg-amber-100 text-amber-800";case"accepted":return"bg-green-100 text-green-800";case"expired":case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=S=>$r(new Date(S),"dd/MM/yyyy HH:mm",{locale:Nr});return t?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Convites"}),d.jsx("p",{className:"text-gray-600",children:"Convide pessoas para fazer parte da sua equipe"})]}),d.jsxs("button",{onClick:()=>i(!n),disabled:c,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[d.jsx(Zo,{className:"w-5 h-5 mr-2"}),"Novo Convite"]})]}),n&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[d.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Criar Novo Convite"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail do Convidado"}),d.jsx("input",{type:"email",value:a,onChange:S=>s(S.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"usuario@exemplo.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função"}),d.jsxs("select",{value:o,onChange:S=>l(S.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"viewer",children:"Visualizador"}),d.jsx("option",{value:"editor",children:"Editor"}),d.jsx("option",{value:"admin",children:"Administrador"})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>i(!1),disabled:c,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"button",onClick:y,disabled:c||!a.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:c?"Criando...":"Criar Convite"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Convites Enviados"}),f?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando convites..."})]}):e.length===0?d.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[d.jsx(Xp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"Nenhum convite enviado ainda"}),d.jsx("p",{className:"text-gray-400 text-sm",children:'Clique em "Novo Convite" para começar'})]}):d.jsx("div",{className:"space-y-3",children:e.map(S=>d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[v(S.status),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:S.email}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[d.jsxs("span",{children:["Função: ",S.role]}),d.jsxs("span",{children:["Criado: ",E(S.createdAt)]}),d.jsxs("span",{children:["Expira: ",E(S.expiresAt)]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${x(S.status)}`,children:S.status==="pending"?"Pendente":S.status==="accepted"?"Aceito":S.status==="expired"?"Expirado":"Cancelado"}),S.status==="pending"&&d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("button",{onClick:()=>w(S.id),className:"flex items-center px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Copiar link",children:[d.jsx(vle,{className:"w-3 h-3 mr-1"}),"Copiar Link"]}),d.jsxs("button",{onClick:()=>g(S),className:"flex items-center px-3 py-1 text-xs bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Abrir cliente de e-mail",children:[d.jsx(Xp,{className:"w-3 h-3 mr-1"}),"Enviar E-mail"]}),d.jsxs("button",{onClick:()=>m(S.id),className:"flex items-center px-3 py-1 text-xs bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Cancelar convite",children:[d.jsx(vo,{className:"w-3 h-3 mr-1"}),"Cancelar"]})]})]})]})},S.id))})]}),d.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[d.jsx("h4",{className:"text-sm font-semibold text-amber-800 mb-2",children:"Como funciona o convite:"}),d.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[d.jsx("li",{children:"1. Crie um convite inserindo o e-mail e escolhendo a função"}),d.jsx("li",{children:'2. Copie o link gerado ou use o botão "Enviar E-mail" para abrir seu cliente de e-mail'}),d.jsx("li",{children:"3. Envie o link para a pessoa convidada"}),d.jsx("li",{children:"4. A pessoa deve clicar no link e fazer login/cadastro para aceitar"}),d.jsx("li",{children:"5. Convites expiram em 72 horas"})]}),d.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:[d.jsx("strong",{children:"Nota:"}),' O envio automático de e-mails requer plano Blaze + serviço SMTP. No plano gratuito, use o botão "Enviar E-mail\\" para abrir seu cliente de e-mail.']})]})]}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"Carregando dados da equipe..."})})}function X3e({team:t}){const[e,r]=O.useState([]),[n,i]=O.useState(null),[a,s]=O.useState(null),[o,l]=O.useState("viewer"),[c,u]=O.useState(!0),[f,p]=O.useState(!1);O.useEffect(()=>{t&&h()},[t]);const h=async()=>{if(t)try{u(!0);const C=await ei.getTeamMembers(t.id);r(C)}catch(C){console.error("Erro ao carregar membros:",C)}finally{u(!1)}},y=C=>{i(C),s(C.permissions),l(C.role)},m=async()=>{if(!(!n||!a||!t))try{p(!0),await ei.updateMemberPermissions(t.id,n.uid,a,o)?(await h(),i(null),s(null),alert("Permissões atualizadas com sucesso!")):alert("Erro ao atualizar permissões.")}catch(C){console.error("Erro ao salvar permissões:",C),alert("Erro ao salvar permissões.")}finally{p(!1)}},w=async C=>{if(C.role==="owner"){alert("Não é possível remover o proprietário da equipe.");return}if(confirm(`Tem certeza que deseja remover ${C.email} da equipe?`))try{await ei.removeMember(t.id,C.uid)&&await h()}catch(P){console.error("Erro ao remover membro:",P),alert("Erro ao remover membro.")}},g=(C,P)=>{a&&s({...a,[C]:P})},v=C=>{l(C),s(b4[C])},x=C=>{switch(C){case"owner":return d.jsx(Yu,{className:"w-4 h-4 text-amber-500"});case"admin":return d.jsx(Yle,{className:"w-4 h-4 text-blue-500"});case"editor":return d.jsx(ta,{className:"w-4 h-4 text-green-500"});default:return d.jsx(Yu,{className:"w-4 h-4 text-gray-500"})}},E=C=>{switch(C){case"owner":return"bg-amber-100 text-amber-800";case"admin":return"bg-blue-100 text-blue-800";case"editor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},S=C=>$r(new Date(C),"dd/MM/yyyy",{locale:Nr});return c?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando membros..."})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Controle de Acesso"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie permissões e funções dos membros da equipe"})]}),d.jsx("div",{className:"space-y-4",children:e.map(C=>d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(Yu,{className:"w-6 h-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("p",{className:"font-medium text-gray-900",children:C.email}),x(C.role)]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${E(C.role)}`,children:C.role==="owner"?"Proprietário":C.role==="admin"?"Administrador":C.role==="editor"?"Editor":"Visualizador"}),d.jsxs("span",{children:["Adicionado: ",S(C.addedAt)]}),d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${C.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.status==="active"?"Ativo":"Inativo"})]})]})]}),d.jsx("div",{className:"flex items-center space-x-2",children:C.role!=="owner"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>y(C),className:"flex items-center px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[d.jsx(ta,{className:"w-3 h-3 mr-1"}),"Editar"]}),d.jsxs("button",{onClick:()=>w(C),className:"flex items-center px-3 py-1 text-xs bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:[d.jsx(_s,{className:"w-3 h-3 mr-1"}),"Remover"]})]})})]}),d.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[d.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Permissões:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(C.permissions).map(([P,k])=>d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${k?"bg-green-100 text-green-800":"bg-gray-100 text-gray-500"}`,children:P.charAt(0).toUpperCase()+P.slice(1)},P))})]})]},C.uid))}),n&&a&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Editar Permissões - ",n.email]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função"}),d.jsxs("select",{value:o,onChange:C=>v(C.target.value),disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"viewer",children:"Visualizador"}),d.jsx("option",{value:"editor",children:"Editor"}),d.jsx("option",{value:"admin",children:"Administrador"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permissões por Módulo"}),d.jsx("div",{className:"space-y-3",children:Object.entries(a).map(([C,P])=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:P,onChange:k=>g(C,k.target.checked),disabled:f,className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),d.jsx("span",{className:"text-sm text-gray-700 capitalize",children:C.charAt(0).toUpperCase()+C.slice(1)})]},C))})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>{i(null),s(null)},disabled:f,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"button",onClick:m,disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:f?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):"Salvar Alterações"})]})]})})}),e.length===0&&d.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[d.jsx(Cx,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"Nenhum membro na equipe ainda"}),d.jsx("p",{className:"text-gray-400 text-sm",children:'Use a aba "Grupo de Envolvidos" para convidar pessoas'})]})]})}function J3e({onBack:t}){const[e,r]=O.useState("office"),[n,i]=O.useState(null),[a,s]=O.useState(!0),[o,l]=O.useState(null);O.useEffect(()=>{const p=Xi.onAuthStateChanged(h=>{h?c():(s(!1),l("Usuário não autenticado"))});return()=>p()},[]);const c=async()=>{try{s(!0),l(null),console.log("Carregando dados da equipe...");const p=await ei.getTeam();console.log("Dados da equipe carregados:",p),i(p),p||console.log("Nenhuma equipe encontrada. Usuário deve criar uma.")}catch(p){console.error("Erro ao carregar dados da administração:",p),l("Erro ao carregar dados da administração")}finally{s(!1)}},u=p=>{i(p)},f=async()=>{try{if(s(!0),!Xi.currentUser){l("Usuário não autenticado");return}const h=await ei.createTeam({name:"Meu Escritório",phones:[],settings:{allowInvitations:!0,defaultRole:"viewer",modules:["processos","agenda","documentos","relatorios"]}});h?(i(h),console.log("Equipe criada com sucesso:",h)):l("Erro ao criar equipe")}catch(p){console.error("Erro ao criar equipe:",p),l("Erro ao criar equipe")}finally{s(!1)}};return a?d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Carregando administração..."})]})})}):o?d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"flex items-center mb-6",children:d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]})}),d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro"}),d.jsx("p",{className:"text-red-600 mb-4",children:o}),d.jsx("button",{onClick:()=>{l(null),c()},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Tentar Novamente"})]})]}):n?d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ww,{className:"w-8 h-8 text-blue-600 mr-3"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Administração"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie seu escritório e equipe"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("nav",{className:"flex space-x-8 px-6",children:[d.jsx("button",{onClick:()=>r("office"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="office"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Escritório"}),d.jsx("button",{onClick:()=>r("team"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="team"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Grupo de Envolvidos"}),d.jsx("button",{onClick:()=>r("access"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="access"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Acesso"})]})}),d.jsxs("div",{className:"p-6",children:[e==="office"&&d.jsx(K3e,{team:n,onUpdate:u}),e==="team"&&d.jsx(Y3e,{team:n}),e==="access"&&d.jsx(X3e,{team:n})]})]})]}):d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"flex items-center mb-6",children:d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]})}),d.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[d.jsx(Ww,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configure seu Escritório"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Para começar a usar o sistema de administração, você precisa configurar seu escritório."}),d.jsx("button",{onClick:f,disabled:a,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:a?"Criando...":"Criar Meu Escritório"})]})]})}function l7(){const[t]=eQ(),e=y3(),[r,n]=O.useState(null),[i,a]=O.useState(!0),[s,o]=O.useState(!1),[l,c]=O.useState(null),u=t.get("inviteId");O.useEffect(()=>{u?f():(c({success:!1,message:"Link de convite inválido"}),a(!1))},[u]);const f=async()=>{if(u)try{a(!0);const h=await ei.getInvitationById(u);if(!h){c({success:!1,message:"Convite não encontrado"});return}const y=new Date,m=new Date(h.expiresAt);if(y>m){c({success:!1,message:"Este convite expirou"});return}if(h.status!=="pending"){c({success:!1,message:h.status==="accepted"?"Este convite já foi aceito":"Este convite foi cancelado"});return}n(h)}catch(h){console.error("Erro ao carregar convite:",h),c({success:!1,message:"Erro ao carregar convite"})}finally{a(!1)}},p=async()=>{if(u)try{o(!0);const h=await ei.acceptInvitation(u);c(h),h.success&&setTimeout(()=>{e("/")},3e3)}catch(h){console.error("Erro ao aceitar convite:",h),c({success:!1,message:"Erro interno. Tente novamente."})}finally{o(!1)}};return i?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Carregando convite..."})]})}):l?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsx("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:l.success?d.jsxs(d.Fragment,{children:[d.jsx(Ec,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Convite Aceito!"}),d.jsx("p",{className:"text-gray-600 mb-6",children:l.message}),d.jsx("p",{className:"text-sm text-gray-500",children:"Redirecionando para o sistema..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Jp,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Erro no Convite"}),d.jsx("p",{className:"text-gray-600 mb-6",children:l.message}),d.jsx("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Ir para o Sistema"})]})})}):r?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]}),d.jsx("p",{className:"text-blue-600",children:"Sistema de Gestão Jurídica"})]}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx(Vf,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Convite para Equipe"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["Você foi convidado para fazer parte da equipe como ",d.jsx("strong",{children:r.role})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"E-mail:"}),d.jsx("span",{className:"font-medium",children:r.email})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Função:"}),d.jsx("span",{className:"font-medium capitalize",children:r.role})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Expira em:"}),d.jsx("span",{className:"font-medium",children:$r(new Date(r.expiresAt),"dd/MM/yyyy HH:mm",{locale:Nr})})]})]})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:p,disabled:s,className:"w-full flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:s?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Aceitando Convite..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Ec,{className:"w-5 h-5 mr-2"}),"Aceitar Convite"]})}),d.jsx("button",{onClick:()=>e("/"),disabled:s,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("p",{className:"text-xs text-gray-500",children:"Ao aceitar, você terá acesso aos módulos permitidos pela sua função."})})]})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[d.jsx(Jp,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Convite Inválido"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Este link de convite não é válido ou expirou."}),d.jsx("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Ir para o Sistema"})]})})}function Q3e(){const t=kc(),[e,r]=O.useState("dashboard"),[n,i]=O.useState(!1),[a,s]=O.useState(null),[o,l]=O.useState(null),[c,u]=O.useState(null),[f,p]=O.useState(null),[h,y]=O.useState("lawyer"),[m,w]=O.useState("list"),[g,v]=O.useState(null);if(t.pathname==="/aceitar")return d.jsx(l7,{});const E=async()=>{try{await Cm.logout()}catch(se){console.error("Erro ao fazer logout:",se),window.location.reload()}},S=se=>{r(se),i(!1),w("list"),s(null),l(null),u(null),p(null),v(null)},C=()=>{i(!0),r("")},P=()=>{i(!1),r("dashboard")},k=se=>{switch(i(!1),se){case"new-power-of-attorney":r("documents"),v("power-of-attorney");break;case"new-receipt":r("documents"),v("receipt");break;case"new-revenue":r("financial"),v("revenue");break;case"new-expense":r("financial"),v("expense");break;case"new-process":r("processes"),w("form"),s(null);break;case"new-event":r("calendar"),v("event");break;case"new-lawyer":r("team"),w("form"),u(null),y("lawyer");break;case"new-employee":r("team"),w("form"),p(null),y("employee");break}},T=()=>{w("form"),s(null)},W=se=>{s(se),w("view")},M=se=>{s(se),w("form")},A=()=>{w("list"),s(null),l(null),u(null),p(null),v(null)},I=()=>{if(n)return d.jsx(J3e,{onBack:P});switch(e){case"dashboard":return d.jsx(OL,{});case"processes":switch(m){case"form":return d.jsx(q_e,{process:a,onBack:A,onSave:A});case"view":return d.jsx(W_e,{process:a,onBack:A,onEdit:()=>w("form"),onUpdate:se=>{s(se)}});default:return d.jsx(V_e,{onNewProcess:T,onViewProcess:W,onEditProcess:M})}case"calendar":return d.jsx(X_e,{quickActionType:g,onClearQuickAction:()=>v(null)});case"financial":return d.jsx(eEe,{quickActionType:g,onClearQuickAction:()=>v(null)});case"documents":return d.jsx(M3e,{quickActionType:g,onClearQuickAction:()=>v(null)});case"reports":return d.jsx(F3e,{});case"settings":return d.jsx(B3e,{});case"team":switch(m){case"form":return h==="lawyer"?d.jsx($3e,{lawyer:c,onBack:A,onSave:A}):d.jsx(q3e,{employee:f,onBack:A,onSave:A});case"view":return c?d.jsx(V3e,{lawyer:c,onBack:A,onEdit:()=>{y("lawyer"),w("form")},onUpdate:se=>{u(se)}}):f?d.jsx(W3e,{employee:f,onBack:A,onEdit:()=>{y("employee"),w("form")},onUpdate:se=>{p(se)}}):d.jsx(o7,{onNewLawyer:()=>{},onNewEmployee:()=>{},onViewLawyer:()=>{},onViewEmployee:()=>{},onEditLawyer:()=>{},onEditEmployee:()=>{}});default:return d.jsx(o7,{onNewLawyer:()=>{w("form"),u(null),y("lawyer")},onNewEmployee:()=>{w("form"),p(null),y("employee")},onViewLawyer:se=>{u(se),w("view")},onViewEmployee:se=>{p(se),w("view")},onEditLawyer:se=>{u(se),y("lawyer"),w("form")},onEditEmployee:se=>{p(se),y("employee"),w("form")}})}default:return d.jsx(OL,{})}},L=se=>d.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[d.jsx(oce,{user:se,onLogout:E,onOpenAdmin:C}),d.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d.jsx(uce,{activeSection:e,onSectionChange:S,onQuickAction:k}),d.jsx("main",{className:"flex-1 overflow-auto",children:I()})]})]});return d.jsxs(SJ,{children:[d.jsx(bS,{path:"/aceitar",element:d.jsx(l7,{})}),d.jsx(bS,{path:"/*",element:d.jsx(sce,{children:L})})]})}xF(document.getElementById("root")).render(d.jsx(O.StrictMode,{children:d.jsx(YJ,{children:d.jsx(Q3e,{})})}));export{mr as _,og as c,bo as g};
