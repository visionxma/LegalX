var yK=Object.defineProperty;var vK=(t,e,r)=>e in t?yK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var g5=(t,e,r)=>vK(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function So(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w7={exports:{}},Bb={},b7={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy=Symbol.for("react.element"),wK=Symbol.for("react.portal"),bK=Symbol.for("react.fragment"),xK=Symbol.for("react.strict_mode"),_K=Symbol.for("react.profiler"),EK=Symbol.for("react.provider"),AK=Symbol.for("react.context"),SK=Symbol.for("react.forward_ref"),NK=Symbol.for("react.suspense"),TK=Symbol.for("react.memo"),PK=Symbol.for("react.lazy"),I6=Symbol.iterator;function CK(t){return t===null||typeof t!="object"?null:(t=I6&&t[I6]||t["@@iterator"],typeof t=="function"?t:null)}var x7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_7=Object.assign,E7={};function vm(t,e,r){this.props=t,this.context=e,this.refs=E7,this.updater=r||x7}vm.prototype.isReactComponent={};vm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A7(){}A7.prototype=vm.prototype;function N4(t,e,r){this.props=t,this.context=e,this.refs=E7,this.updater=r||x7}var T4=N4.prototype=new A7;T4.constructor=N4;_7(T4,vm.prototype);T4.isPureReactComponent=!0;var j6=Array.isArray,S7=Object.prototype.hasOwnProperty,P4={current:null},N7={key:!0,ref:!0,__self:!0,__source:!0};function T7(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)S7.call(e,n)&&!N7.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:sy,type:t,key:s,ref:a,props:i,_owner:P4.current}}function kK(t,e){return{$$typeof:sy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function C4(t){return typeof t=="object"&&t!==null&&t.$$typeof===sy}function IK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var O6=/\/+/g;function y5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IK(""+t.key):e.toString(36)}function v1(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case sy:case wK:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+y5(a,0):n,j6(i)?(r="",t!=null&&(r=t.replace(O6,"$&/")+"/"),v1(i,e,r,"",function(c){return c})):i!=null&&(C4(i)&&(i=kK(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(O6,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",j6(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+y5(s,o);a+=v1(s,e,r,l,i)}else if(l=CK(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+y5(s,o++),a+=v1(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function yv(t,e,r){if(t==null)return t;var n=[],i=0;return v1(t,n,"","",function(s){return e.call(r,s,i++)}),n}function jK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var as={current:null},w1={transition:null},OK={ReactCurrentDispatcher:as,ReactCurrentBatchConfig:w1,ReactCurrentOwner:P4};function P7(){throw Error("act(...) is not supported in production builds of React.")}Vt.Children={map:yv,forEach:function(t,e,r){yv(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return yv(t,function(){e++}),e},toArray:function(t){return yv(t,function(e){return e})||[]},only:function(t){if(!C4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Vt.Component=vm;Vt.Fragment=bK;Vt.Profiler=_K;Vt.PureComponent=N4;Vt.StrictMode=xK;Vt.Suspense=NK;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OK;Vt.act=P7;Vt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=_7({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=P4.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)S7.call(e,l)&&!N7.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:sy,type:t.type,key:i,ref:s,props:n,_owner:a}};Vt.createContext=function(t){return t={$$typeof:AK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EK,_context:t},t.Consumer=t};Vt.createElement=T7;Vt.createFactory=function(t){var e=T7.bind(null,t);return e.type=t,e};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(t){return{$$typeof:SK,render:t}};Vt.isValidElement=C4;Vt.lazy=function(t){return{$$typeof:PK,_payload:{_status:-1,_result:t},_init:jK}};Vt.memo=function(t,e){return{$$typeof:TK,type:t,compare:e===void 0?null:e}};Vt.startTransition=function(t){var e=w1.transition;w1.transition={};try{t()}finally{w1.transition=e}};Vt.unstable_act=P7;Vt.useCallback=function(t,e){return as.current.useCallback(t,e)};Vt.useContext=function(t){return as.current.useContext(t)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(t){return as.current.useDeferredValue(t)};Vt.useEffect=function(t,e){return as.current.useEffect(t,e)};Vt.useId=function(){return as.current.useId()};Vt.useImperativeHandle=function(t,e,r){return as.current.useImperativeHandle(t,e,r)};Vt.useInsertionEffect=function(t,e){return as.current.useInsertionEffect(t,e)};Vt.useLayoutEffect=function(t,e){return as.current.useLayoutEffect(t,e)};Vt.useMemo=function(t,e){return as.current.useMemo(t,e)};Vt.useReducer=function(t,e,r){return as.current.useReducer(t,e,r)};Vt.useRef=function(t){return as.current.useRef(t)};Vt.useState=function(t){return as.current.useState(t)};Vt.useSyncExternalStore=function(t,e,r){return as.current.useSyncExternalStore(t,e,r)};Vt.useTransition=function(){return as.current.useTransition()};Vt.version="18.3.1";b7.exports=Vt;var R=b7.exports;const br=So(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RK=R,LK=Symbol.for("react.element"),DK=Symbol.for("react.fragment"),MK=Object.prototype.hasOwnProperty,FK=RK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BK={key:!0,ref:!0,__self:!0,__source:!0};function C7(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)MK.call(e,n)&&!BK.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:LK,type:t,key:s,ref:a,props:i,_owner:FK.current}}Bb.Fragment=DK;Bb.jsx=C7;Bb.jsxs=C7;w7.exports=Bb;var d=w7.exports,k7={exports:{}},ta={},I7={exports:{}},j7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ce,ue){var xe=ce.length;ce.push(ue);e:for(;0<xe;){var we=xe-1>>>1,F=ce[we];if(0<i(F,ue))ce[we]=ue,ce[xe]=F,xe=we;else break e}}function r(ce){return ce.length===0?null:ce[0]}function n(ce){if(ce.length===0)return null;var ue=ce[0],xe=ce.pop();if(xe!==ue){ce[0]=xe;e:for(var we=0,F=ce.length,J=F>>>1;we<J;){var se=2*(we+1)-1,he=ce[se],Q=se+1,$=ce[Q];if(0>i(he,xe))Q<F&&0>i($,he)?(ce[we]=$,ce[Q]=xe,we=Q):(ce[we]=he,ce[se]=xe,we=se);else if(Q<F&&0>i($,xe))ce[we]=$,ce[Q]=xe,we=Q;else break e}}return ue}function i(ce,ue){var xe=ce.sortIndex-ue.sortIndex;return xe!==0?xe:ce.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,p=3,f=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(ce){for(var ue=r(c);ue!==null;){if(ue.callback===null)n(c);else if(ue.startTime<=ce)n(c),ue.sortIndex=ue.expirationTime,e(l,ue);else break;ue=r(c)}}function E(ce){if(g=!1,x(ce),!y)if(r(l)!==null)y=!0,pe(N);else{var ue=r(c);ue!==null&&X(E,ue.startTime-ce)}}function N(ce,ue){y=!1,g&&(g=!1,m(k),k=-1),f=!0;var xe=p;try{for(x(ue),h=r(l);h!==null&&(!(h.expirationTime>ue)||ce&&!M());){var we=h.callback;if(typeof we=="function"){h.callback=null,p=h.priorityLevel;var F=we(h.expirationTime<=ue);ue=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(l)&&n(l),x(ue)}else n(l);h=r(l)}if(h!==null)var J=!0;else{var se=r(c);se!==null&&X(E,se.startTime-ue),J=!1}return J}finally{h=null,p=xe,f=!1}}var C=!1,P=null,k=-1,T=5,q=-1;function M(){return!(t.unstable_now()-q<T)}function A(){if(P!==null){var ce=t.unstable_now();q=ce;var ue=!0;try{ue=P(!0,ce)}finally{ue?I():(C=!1,P=null)}}else C=!1}var I;if(typeof v=="function")I=function(){v(A)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ne=j.port2;j.port1.onmessage=A,I=function(){ne.postMessage(null)}}else I=function(){w(A,0)};function pe(ce){P=ce,C||(C=!0,I())}function X(ce,ue){k=w(function(){ce(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ce){ce.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,pe(N))},t.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ce?Math.floor(1e3/ce):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ce){switch(p){case 1:case 2:case 3:var ue=3;break;default:ue=p}var xe=p;p=ue;try{return ce()}finally{p=xe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ce,ue){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var xe=p;p=ce;try{return ue()}finally{p=xe}},t.unstable_scheduleCallback=function(ce,ue,xe){var we=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?we+xe:we):xe=we,ce){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=xe+F,ce={id:u++,callback:ue,priorityLevel:ce,startTime:xe,expirationTime:F,sortIndex:-1},xe>we?(ce.sortIndex=xe,e(c,ce),r(l)===null&&ce===r(c)&&(g?(m(k),k=-1):g=!0,X(E,xe-we))):(ce.sortIndex=F,e(l,ce),y||f||(y=!0,pe(N))),ce},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(ce){var ue=p;return function(){var xe=p;p=ue;try{return ce.apply(this,arguments)}finally{p=xe}}}})(j7);I7.exports=j7;var UK=I7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $K=R,Qs=UK;function tt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O7=new Set,w0={};function Xh(t,e){Bp(t,e),Bp(t+"Capture",e)}function Bp(t,e){for(w0[t]=e,t=0;t<e.length;t++)O7.add(e[t])}var gc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),RA=Object.prototype.hasOwnProperty,VK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R6={},L6={};function zK(t){return RA.call(L6,t)?!0:RA.call(R6,t)?!1:VK.test(t)?L6[t]=!0:(R6[t]=!0,!1)}function qK(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WK(t,e,r,n){if(e===null||typeof e>"u"||qK(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function os(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var _i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_i[t]=new os(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_i[e]=new os(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_i[t]=new os(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_i[t]=new os(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_i[t]=new os(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_i[t]=new os(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_i[t]=new os(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_i[t]=new os(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_i[t]=new os(t,5,!1,t.toLowerCase(),null,!1,!1)});var k4=/[\-:]([a-z])/g;function I4(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(k4,I4);_i[e]=new os(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(k4,I4);_i[e]=new os(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(k4,I4);_i[e]=new os(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_i[t]=new os(t,1,!1,t.toLowerCase(),null,!1,!1)});_i.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_i[t]=new os(t,1,!1,t.toLowerCase(),null,!0,!0)});function j4(t,e,r,n){var i=_i.hasOwnProperty(e)?_i[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WK(e,r,i,n)&&(r=null),n||i===null?zK(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Cc=$K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vv=Symbol.for("react.element"),ep=Symbol.for("react.portal"),tp=Symbol.for("react.fragment"),O4=Symbol.for("react.strict_mode"),LA=Symbol.for("react.profiler"),R7=Symbol.for("react.provider"),L7=Symbol.for("react.context"),R4=Symbol.for("react.forward_ref"),DA=Symbol.for("react.suspense"),MA=Symbol.for("react.suspense_list"),L4=Symbol.for("react.memo"),Eu=Symbol.for("react.lazy"),D7=Symbol.for("react.offscreen"),D6=Symbol.iterator;function ug(t){return t===null||typeof t!="object"?null:(t=D6&&t[D6]||t["@@iterator"],typeof t=="function"?t:null)}var Kr=Object.assign,v5;function Fg(t){if(v5===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);v5=e&&e[1]||""}return`
`+v5+t}var w5=!1;function b5(t,e){if(!t||w5)return"";w5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{w5=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Fg(t):""}function HK(t){switch(t.tag){case 5:return Fg(t.type);case 16:return Fg("Lazy");case 13:return Fg("Suspense");case 19:return Fg("SuspenseList");case 0:case 2:case 15:return t=b5(t.type,!1),t;case 11:return t=b5(t.type.render,!1),t;case 1:return t=b5(t.type,!0),t;default:return""}}function FA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tp:return"Fragment";case ep:return"Portal";case LA:return"Profiler";case O4:return"StrictMode";case DA:return"Suspense";case MA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L7:return(t.displayName||"Context")+".Consumer";case R7:return(t._context.displayName||"Context")+".Provider";case R4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L4:return e=t.displayName||null,e!==null?e:FA(t.type)||"Memo";case Eu:e=t._payload,t=t._init;try{return FA(t(e))}catch{}}return null}function GK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FA(e);case 8:return e===O4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ed(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KK(t){var e=M7(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wv(t){t._valueTracker||(t._valueTracker=KK(t))}function F7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=M7(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Z1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function BA(t,e){var r=e.checked;return Kr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function M6(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ed(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function B7(t,e){e=e.checked,e!=null&&j4(t,"checked",e,!1)}function UA(t,e){B7(t,e);var r=ed(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$A(t,e.type,r):e.hasOwnProperty("defaultValue")&&$A(t,e.type,ed(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function F6(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $A(t,e,r){(e!=="number"||Z1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Bg=Array.isArray;function vp(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ed(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function VA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(tt(91));return Kr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B6(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(tt(92));if(Bg(r)){if(1<r.length)throw Error(tt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ed(r)}}function U7(t,e){var r=ed(e.value),n=ed(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function U6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $7(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$7(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bv,V7=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bv=bv||document.createElement("div"),bv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function b0(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Xg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YK=["Webkit","ms","Moz","O"];Object.keys(Xg).forEach(function(t){YK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xg[e]=Xg[t]})});function z7(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Xg.hasOwnProperty(t)&&Xg[t]?(""+e).trim():e+"px"}function q7(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=z7(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var XK=Kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qA(t,e){if(e){if(XK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(tt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(tt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(tt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(tt(62))}}function WA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HA=null;function D4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var GA=null,wp=null,bp=null;function $6(t){if(t=ly(t)){if(typeof GA!="function")throw Error(tt(280));var e=t.stateNode;e&&(e=qb(e),GA(t.stateNode,t.type,e))}}function W7(t){wp?bp?bp.push(t):bp=[t]:wp=t}function H7(){if(wp){var t=wp,e=bp;if(bp=wp=null,$6(t),e)for(t=0;t<e.length;t++)$6(e[t])}}function G7(t,e){return t(e)}function K7(){}var x5=!1;function Y7(t,e,r){if(x5)return t(e,r);x5=!0;try{return G7(t,e,r)}finally{x5=!1,(wp!==null||bp!==null)&&(K7(),H7())}}function x0(t,e){var r=t.stateNode;if(r===null)return null;var n=qb(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(tt(231,e,typeof r));return r}var KA=!1;if(gc)try{var dg={};Object.defineProperty(dg,"passive",{get:function(){KA=!0}}),window.addEventListener("test",dg,dg),window.removeEventListener("test",dg,dg)}catch{KA=!1}function JK(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Jg=!1,ew=null,tw=!1,YA=null,QK={onError:function(t){Jg=!0,ew=t}};function ZK(t,e,r,n,i,s,a,o,l){Jg=!1,ew=null,JK.apply(QK,arguments)}function eY(t,e,r,n,i,s,a,o,l){if(ZK.apply(this,arguments),Jg){if(Jg){var c=ew;Jg=!1,ew=null}else throw Error(tt(198));tw||(tw=!0,YA=c)}}function Jh(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function X7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V6(t){if(Jh(t)!==t)throw Error(tt(188))}function tY(t){var e=t.alternate;if(!e){if(e=Jh(t),e===null)throw Error(tt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return V6(i),t;if(s===n)return V6(i),e;s=s.sibling}throw Error(tt(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(tt(189))}}if(r.alternate!==n)throw Error(tt(190))}if(r.tag!==3)throw Error(tt(188));return r.stateNode.current===r?t:e}function J7(t){return t=tY(t),t!==null?Q7(t):null}function Q7(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q7(t);if(e!==null)return e;t=t.sibling}return null}var Z7=Qs.unstable_scheduleCallback,z6=Qs.unstable_cancelCallback,rY=Qs.unstable_shouldYield,nY=Qs.unstable_requestPaint,mn=Qs.unstable_now,iY=Qs.unstable_getCurrentPriorityLevel,M4=Qs.unstable_ImmediatePriority,eM=Qs.unstable_UserBlockingPriority,rw=Qs.unstable_NormalPriority,sY=Qs.unstable_LowPriority,tM=Qs.unstable_IdlePriority,Ub=null,ol=null;function aY(t){if(ol&&typeof ol.onCommitFiberRoot=="function")try{ol.onCommitFiberRoot(Ub,t,void 0,(t.current.flags&128)===128)}catch{}}var yo=Math.clz32?Math.clz32:cY,oY=Math.log,lY=Math.LN2;function cY(t){return t>>>=0,t===0?32:31-(oY(t)/lY|0)|0}var xv=64,_v=4194304;function Ug(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nw(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Ug(o):(s&=a,s!==0&&(n=Ug(s)))}else a=r&~i,a!==0?n=Ug(a):s!==0&&(n=Ug(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-yo(e),i=1<<r,n|=t[r],e&=~i;return n}function uY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dY(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-yo(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=uY(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function XA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rM(){var t=xv;return xv<<=1,!(xv&4194240)&&(xv=64),t}function _5(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ay(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yo(e),t[e]=r}function hY(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-yo(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function F4(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-yo(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var gr=0;function nM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iM,B4,sM,aM,oM,JA=!1,Ev=[],Fu=null,Bu=null,Uu=null,_0=new Map,E0=new Map,Nu=[],fY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q6(t,e){switch(t){case"focusin":case"focusout":Fu=null;break;case"dragenter":case"dragleave":Bu=null;break;case"mouseover":case"mouseout":Uu=null;break;case"pointerover":case"pointerout":_0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":E0.delete(e.pointerId)}}function hg(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ly(e),e!==null&&B4(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pY(t,e,r,n,i){switch(e){case"focusin":return Fu=hg(Fu,t,e,r,n,i),!0;case"dragenter":return Bu=hg(Bu,t,e,r,n,i),!0;case"mouseover":return Uu=hg(Uu,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return _0.set(s,hg(_0.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,E0.set(s,hg(E0.get(s)||null,t,e,r,n,i)),!0}return!1}function lM(t){var e=ch(t.target);if(e!==null){var r=Jh(e);if(r!==null){if(e=r.tag,e===13){if(e=X7(r),e!==null){t.blockedOn=e,oM(t.priority,function(){sM(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function b1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=QA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);HA=n,r.target.dispatchEvent(n),HA=null}else return e=ly(r),e!==null&&B4(e),t.blockedOn=r,!1;e.shift()}return!0}function W6(t,e,r){b1(t)&&r.delete(e)}function mY(){JA=!1,Fu!==null&&b1(Fu)&&(Fu=null),Bu!==null&&b1(Bu)&&(Bu=null),Uu!==null&&b1(Uu)&&(Uu=null),_0.forEach(W6),E0.forEach(W6)}function fg(t,e){t.blockedOn===e&&(t.blockedOn=null,JA||(JA=!0,Qs.unstable_scheduleCallback(Qs.unstable_NormalPriority,mY)))}function A0(t){function e(i){return fg(i,t)}if(0<Ev.length){fg(Ev[0],t);for(var r=1;r<Ev.length;r++){var n=Ev[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fu!==null&&fg(Fu,t),Bu!==null&&fg(Bu,t),Uu!==null&&fg(Uu,t),_0.forEach(e),E0.forEach(e),r=0;r<Nu.length;r++)n=Nu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Nu.length&&(r=Nu[0],r.blockedOn===null);)lM(r),r.blockedOn===null&&Nu.shift()}var xp=Cc.ReactCurrentBatchConfig,iw=!0;function gY(t,e,r,n){var i=gr,s=xp.transition;xp.transition=null;try{gr=1,U4(t,e,r,n)}finally{gr=i,xp.transition=s}}function yY(t,e,r,n){var i=gr,s=xp.transition;xp.transition=null;try{gr=4,U4(t,e,r,n)}finally{gr=i,xp.transition=s}}function U4(t,e,r,n){if(iw){var i=QA(t,e,r,n);if(i===null)j5(t,e,n,sw,r),q6(t,n);else if(pY(i,t,e,r,n))n.stopPropagation();else if(q6(t,n),e&4&&-1<fY.indexOf(t)){for(;i!==null;){var s=ly(i);if(s!==null&&iM(s),s=QA(t,e,r,n),s===null&&j5(t,e,n,sw,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else j5(t,e,n,null,r)}}var sw=null;function QA(t,e,r,n){if(sw=null,t=D4(n),t=ch(t),t!==null)if(e=Jh(t),e===null)t=null;else if(r=e.tag,r===13){if(t=X7(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sw=t,null}function cM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iY()){case M4:return 1;case eM:return 4;case rw:case sY:return 16;case tM:return 536870912;default:return 16}default:return 16}}var Ru=null,$4=null,x1=null;function uM(){if(x1)return x1;var t,e=$4,r=e.length,n,i="value"in Ru?Ru.value:Ru.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return x1=i.slice(t,1<n?1-n:void 0)}function _1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Av(){return!0}function H6(){return!1}function ra(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Av:H6,this.isPropagationStopped=H6,this}return Kr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Av)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Av)},persist:function(){},isPersistent:Av}),e}var wm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V4=ra(wm),oy=Kr({},wm,{view:0,detail:0}),vY=ra(oy),E5,A5,pg,$b=Kr({},oy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pg&&(pg&&t.type==="mousemove"?(E5=t.screenX-pg.screenX,A5=t.screenY-pg.screenY):A5=E5=0,pg=t),E5)},movementY:function(t){return"movementY"in t?t.movementY:A5}}),G6=ra($b),wY=Kr({},$b,{dataTransfer:0}),bY=ra(wY),xY=Kr({},oy,{relatedTarget:0}),S5=ra(xY),_Y=Kr({},wm,{animationName:0,elapsedTime:0,pseudoElement:0}),EY=ra(_Y),AY=Kr({},wm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SY=ra(AY),NY=Kr({},wm,{data:0}),K6=ra(NY),TY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CY[t])?!!e[t]:!1}function z4(){return kY}var IY=Kr({},oy,{key:function(t){if(t.key){var e=TY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z4,charCode:function(t){return t.type==="keypress"?_1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jY=ra(IY),OY=Kr({},$b,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y6=ra(OY),RY=Kr({},oy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z4}),LY=ra(RY),DY=Kr({},wm,{propertyName:0,elapsedTime:0,pseudoElement:0}),MY=ra(DY),FY=Kr({},$b,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BY=ra(FY),UY=[9,13,27,32],q4=gc&&"CompositionEvent"in window,Qg=null;gc&&"documentMode"in document&&(Qg=document.documentMode);var $Y=gc&&"TextEvent"in window&&!Qg,dM=gc&&(!q4||Qg&&8<Qg&&11>=Qg),X6=" ",J6=!1;function hM(t,e){switch(t){case"keyup":return UY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rp=!1;function VY(t,e){switch(t){case"compositionend":return fM(e);case"keypress":return e.which!==32?null:(J6=!0,X6);case"textInput":return t=e.data,t===X6&&J6?null:t;default:return null}}function zY(t,e){if(rp)return t==="compositionend"||!q4&&hM(t,e)?(t=uM(),x1=$4=Ru=null,rp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dM&&e.locale!=="ko"?null:e.data;default:return null}}var qY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qY[t.type]:e==="textarea"}function pM(t,e,r,n){W7(n),e=aw(e,"onChange"),0<e.length&&(r=new V4("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Zg=null,S0=null;function WY(t){SM(t,0)}function Vb(t){var e=sp(t);if(F7(e))return t}function HY(t,e){if(t==="change")return e}var mM=!1;if(gc){var N5;if(gc){var T5="oninput"in document;if(!T5){var Z6=document.createElement("div");Z6.setAttribute("oninput","return;"),T5=typeof Z6.oninput=="function"}N5=T5}else N5=!1;mM=N5&&(!document.documentMode||9<document.documentMode)}function ek(){Zg&&(Zg.detachEvent("onpropertychange",gM),S0=Zg=null)}function gM(t){if(t.propertyName==="value"&&Vb(S0)){var e=[];pM(e,S0,t,D4(t)),Y7(WY,e)}}function GY(t,e,r){t==="focusin"?(ek(),Zg=e,S0=r,Zg.attachEvent("onpropertychange",gM)):t==="focusout"&&ek()}function KY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vb(S0)}function YY(t,e){if(t==="click")return Vb(e)}function XY(t,e){if(t==="input"||t==="change")return Vb(e)}function JY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wo=typeof Object.is=="function"?Object.is:JY;function N0(t,e){if(wo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!RA.call(e,i)||!wo(t[i],e[i]))return!1}return!0}function tk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rk(t,e){var r=tk(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tk(r)}}function yM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vM(){for(var t=window,e=Z1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Z1(t.document)}return e}function W4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QY(t){var e=vM(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&yM(r.ownerDocument.documentElement,r)){if(n!==null&&W4(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=rk(r,s);var a=rk(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZY=gc&&"documentMode"in document&&11>=document.documentMode,np=null,ZA=null,e0=null,eS=!1;function nk(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;eS||np==null||np!==Z1(n)||(n=np,"selectionStart"in n&&W4(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),e0&&N0(e0,n)||(e0=n,n=aw(ZA,"onSelect"),0<n.length&&(e=new V4("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=np)))}function Sv(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ip={animationend:Sv("Animation","AnimationEnd"),animationiteration:Sv("Animation","AnimationIteration"),animationstart:Sv("Animation","AnimationStart"),transitionend:Sv("Transition","TransitionEnd")},P5={},wM={};gc&&(wM=document.createElement("div").style,"AnimationEvent"in window||(delete ip.animationend.animation,delete ip.animationiteration.animation,delete ip.animationstart.animation),"TransitionEvent"in window||delete ip.transitionend.transition);function zb(t){if(P5[t])return P5[t];if(!ip[t])return t;var e=ip[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in wM)return P5[t]=e[r];return t}var bM=zb("animationend"),xM=zb("animationiteration"),_M=zb("animationstart"),EM=zb("transitionend"),AM=new Map,ik="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hd(t,e){AM.set(t,e),Xh(e,[t])}for(var C5=0;C5<ik.length;C5++){var k5=ik[C5],eX=k5.toLowerCase(),tX=k5[0].toUpperCase()+k5.slice(1);hd(eX,"on"+tX)}hd(bM,"onAnimationEnd");hd(xM,"onAnimationIteration");hd(_M,"onAnimationStart");hd("dblclick","onDoubleClick");hd("focusin","onFocus");hd("focusout","onBlur");hd(EM,"onTransitionEnd");Bp("onMouseEnter",["mouseout","mouseover"]);Bp("onMouseLeave",["mouseout","mouseover"]);Bp("onPointerEnter",["pointerout","pointerover"]);Bp("onPointerLeave",["pointerout","pointerover"]);Xh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $g="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rX=new Set("cancel close invalid load scroll toggle".split(" ").concat($g));function sk(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,eY(n,e,void 0,t),t.currentTarget=null}function SM(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;sk(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;sk(i,o,c),s=l}}}if(tw)throw t=YA,tw=!1,YA=null,t}function Dr(t,e){var r=e[sS];r===void 0&&(r=e[sS]=new Set);var n=t+"__bubble";r.has(n)||(NM(e,t,2,!1),r.add(n))}function I5(t,e,r){var n=0;e&&(n|=4),NM(r,t,n,e)}var Nv="_reactListening"+Math.random().toString(36).slice(2);function T0(t){if(!t[Nv]){t[Nv]=!0,O7.forEach(function(r){r!=="selectionchange"&&(rX.has(r)||I5(r,!1,t),I5(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nv]||(e[Nv]=!0,I5("selectionchange",!1,e))}}function NM(t,e,r,n){switch(cM(e)){case 1:var i=gY;break;case 4:i=yY;break;default:i=U4}r=i.bind(null,e,r,t),i=void 0,!KA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function j5(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ch(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Y7(function(){var c=s,u=D4(r),h=[];e:{var p=AM.get(t);if(p!==void 0){var f=V4,y=t;switch(t){case"keypress":if(_1(r)===0)break e;case"keydown":case"keyup":f=jY;break;case"focusin":y="focus",f=S5;break;case"focusout":y="blur",f=S5;break;case"beforeblur":case"afterblur":f=S5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=G6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=bY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=LY;break;case bM:case xM:case _M:f=EY;break;case EM:f=MY;break;case"scroll":f=vY;break;case"wheel":f=BY;break;case"copy":case"cut":case"paste":f=SY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Y6}var g=(e&4)!==0,w=!g&&t==="scroll",m=g?p!==null?p+"Capture":null:p;g=[];for(var v=c,x;v!==null;){x=v;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,m!==null&&(E=x0(v,m),E!=null&&g.push(P0(v,E,x)))),w)break;v=v.return}0<g.length&&(p=new f(p,y,null,r,u),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&r!==HA&&(y=r.relatedTarget||r.fromElement)&&(ch(y)||y[yc]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(y=r.relatedTarget||r.toElement,f=c,y=y?ch(y):null,y!==null&&(w=Jh(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=c),f!==y)){if(g=G6,E="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=Y6,E="onPointerLeave",m="onPointerEnter",v="pointer"),w=f==null?p:sp(f),x=y==null?p:sp(y),p=new g(E,v+"leave",f,r,u),p.target=w,p.relatedTarget=x,E=null,ch(u)===c&&(g=new g(m,v+"enter",y,r,u),g.target=x,g.relatedTarget=w,E=g),w=E,f&&y)t:{for(g=f,m=y,v=0,x=g;x;x=Mf(x))v++;for(x=0,E=m;E;E=Mf(E))x++;for(;0<v-x;)g=Mf(g),v--;for(;0<x-v;)m=Mf(m),x--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=Mf(g),m=Mf(m)}g=null}else g=null;f!==null&&ak(h,p,f,g,!1),y!==null&&w!==null&&ak(h,w,y,g,!0)}}e:{if(p=c?sp(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var N=HY;else if(Q6(p))if(mM)N=XY;else{N=KY;var C=GY}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=YY);if(N&&(N=N(t,c))){pM(h,N,r,u);break e}C&&C(t,p,c),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&$A(p,"number",p.value)}switch(C=c?sp(c):window,t){case"focusin":(Q6(C)||C.contentEditable==="true")&&(np=C,ZA=c,e0=null);break;case"focusout":e0=ZA=np=null;break;case"mousedown":eS=!0;break;case"contextmenu":case"mouseup":case"dragend":eS=!1,nk(h,r,u);break;case"selectionchange":if(ZY)break;case"keydown":case"keyup":nk(h,r,u)}var P;if(q4)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else rp?hM(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(dM&&r.locale!=="ko"&&(rp||k!=="onCompositionStart"?k==="onCompositionEnd"&&rp&&(P=uM()):(Ru=u,$4="value"in Ru?Ru.value:Ru.textContent,rp=!0)),C=aw(c,k),0<C.length&&(k=new K6(k,t,null,r,u),h.push({event:k,listeners:C}),P?k.data=P:(P=fM(r),P!==null&&(k.data=P)))),(P=$Y?VY(t,r):zY(t,r))&&(c=aw(c,"onBeforeInput"),0<c.length&&(u=new K6("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=P))}SM(h,e)})}function P0(t,e,r){return{instance:t,listener:e,currentTarget:r}}function aw(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=x0(t,r),s!=null&&n.unshift(P0(t,s,i)),s=x0(t,e),s!=null&&n.push(P0(t,s,i))),t=t.return}return n}function Mf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ak(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=x0(r,s),l!=null&&a.unshift(P0(r,l,o))):i||(l=x0(r,s),l!=null&&a.push(P0(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var nX=/\r\n?/g,iX=/\u0000|\uFFFD/g;function ok(t){return(typeof t=="string"?t:""+t).replace(nX,`
`).replace(iX,"")}function Tv(t,e,r){if(e=ok(e),ok(t)!==e&&r)throw Error(tt(425))}function ow(){}var tS=null,rS=null;function nS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iS=typeof setTimeout=="function"?setTimeout:void 0,sX=typeof clearTimeout=="function"?clearTimeout:void 0,lk=typeof Promise=="function"?Promise:void 0,aX=typeof queueMicrotask=="function"?queueMicrotask:typeof lk<"u"?function(t){return lk.resolve(null).then(t).catch(oX)}:iS;function oX(t){setTimeout(function(){throw t})}function O5(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),A0(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);A0(e)}function $u(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ck(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var bm=Math.random().toString(36).slice(2),el="__reactFiber$"+bm,C0="__reactProps$"+bm,yc="__reactContainer$"+bm,sS="__reactEvents$"+bm,lX="__reactListeners$"+bm,cX="__reactHandles$"+bm;function ch(t){var e=t[el];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yc]||r[el]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ck(t);t!==null;){if(r=t[el])return r;t=ck(t)}return e}t=r,r=t.parentNode}return null}function ly(t){return t=t[el]||t[yc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sp(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(tt(33))}function qb(t){return t[C0]||null}var aS=[],ap=-1;function fd(t){return{current:t}}function Br(t){0>ap||(t.current=aS[ap],aS[ap]=null,ap--)}function Or(t,e){ap++,aS[ap]=t.current,t.current=e}var td={},Vi=fd(td),_s=fd(!1),Rh=td;function Up(t,e){var r=t.type.contextTypes;if(!r)return td;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Es(t){return t=t.childContextTypes,t!=null}function lw(){Br(_s),Br(Vi)}function uk(t,e,r){if(Vi.current!==td)throw Error(tt(168));Or(Vi,e),Or(_s,r)}function TM(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(tt(108,GK(t)||"Unknown",i));return Kr({},r,n)}function cw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||td,Rh=Vi.current,Or(Vi,t),Or(_s,_s.current),!0}function dk(t,e,r){var n=t.stateNode;if(!n)throw Error(tt(169));r?(t=TM(t,e,Rh),n.__reactInternalMemoizedMergedChildContext=t,Br(_s),Br(Vi),Or(Vi,t)):Br(_s),Or(_s,r)}var Zl=null,Wb=!1,R5=!1;function PM(t){Zl===null?Zl=[t]:Zl.push(t)}function uX(t){Wb=!0,PM(t)}function pd(){if(!R5&&Zl!==null){R5=!0;var t=0,e=gr;try{var r=Zl;for(gr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Zl=null,Wb=!1}catch(i){throw Zl!==null&&(Zl=Zl.slice(t+1)),Z7(M4,pd),i}finally{gr=e,R5=!1}}return null}var op=[],lp=0,uw=null,dw=0,va=[],wa=0,Lh=null,rc=1,nc="";function Zd(t,e){op[lp++]=dw,op[lp++]=uw,uw=t,dw=e}function CM(t,e,r){va[wa++]=rc,va[wa++]=nc,va[wa++]=Lh,Lh=t;var n=rc;t=nc;var i=32-yo(n)-1;n&=~(1<<i),r+=1;var s=32-yo(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,rc=1<<32-yo(e)+i|r<<i|n,nc=s+t}else rc=1<<s|r<<i|n,nc=t}function H4(t){t.return!==null&&(Zd(t,1),CM(t,1,0))}function G4(t){for(;t===uw;)uw=op[--lp],op[lp]=null,dw=op[--lp],op[lp]=null;for(;t===Lh;)Lh=va[--wa],va[wa]=null,nc=va[--wa],va[wa]=null,rc=va[--wa],va[wa]=null}var Ks=null,Ws=null,Vr=!1,oo=null;function kM(t,e){var r=Ea(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function hk(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ks=t,Ws=$u(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ks=t,Ws=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Lh!==null?{id:rc,overflow:nc}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ea(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ks=t,Ws=null,!0):!1;default:return!1}}function oS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lS(t){if(Vr){var e=Ws;if(e){var r=e;if(!hk(t,e)){if(oS(t))throw Error(tt(418));e=$u(r.nextSibling);var n=Ks;e&&hk(t,e)?kM(n,r):(t.flags=t.flags&-4097|2,Vr=!1,Ks=t)}}else{if(oS(t))throw Error(tt(418));t.flags=t.flags&-4097|2,Vr=!1,Ks=t}}}function fk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ks=t}function Pv(t){if(t!==Ks)return!1;if(!Vr)return fk(t),Vr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nS(t.type,t.memoizedProps)),e&&(e=Ws)){if(oS(t))throw IM(),Error(tt(418));for(;e;)kM(t,e),e=$u(e.nextSibling)}if(fk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(tt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ws=$u(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ws=null}}else Ws=Ks?$u(t.stateNode.nextSibling):null;return!0}function IM(){for(var t=Ws;t;)t=$u(t.nextSibling)}function $p(){Ws=Ks=null,Vr=!1}function K4(t){oo===null?oo=[t]:oo.push(t)}var dX=Cc.ReactCurrentBatchConfig;function mg(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(tt(309));var n=r.stateNode}if(!n)throw Error(tt(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(tt(284));if(!r._owner)throw Error(tt(290,t))}return t}function Cv(t,e){throw t=Object.prototype.toString.call(e),Error(tt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pk(t){var e=t._init;return e(t._payload)}function jM(t){function e(m,v){if(t){var x=m.deletions;x===null?(m.deletions=[v],m.flags|=16):x.push(v)}}function r(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function n(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Wu(m,v),m.index=0,m.sibling=null,m}function s(m,v,x){return m.index=x,t?(x=m.alternate,x!==null?(x=x.index,x<v?(m.flags|=2,v):x):(m.flags|=2,v)):(m.flags|=1048576,v)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,v,x,E){return v===null||v.tag!==6?(v=$5(x,m.mode,E),v.return=m,v):(v=i(v,x),v.return=m,v)}function l(m,v,x,E){var N=x.type;return N===tp?u(m,v,x.props.children,E,x.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Eu&&pk(N)===v.type)?(E=i(v,x.props),E.ref=mg(m,v,x),E.return=m,E):(E=C1(x.type,x.key,x.props,null,m.mode,E),E.ref=mg(m,v,x),E.return=m,E)}function c(m,v,x,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=V5(x,m.mode,E),v.return=m,v):(v=i(v,x.children||[]),v.return=m,v)}function u(m,v,x,E,N){return v===null||v.tag!==7?(v=Eh(x,m.mode,E,N),v.return=m,v):(v=i(v,x),v.return=m,v)}function h(m,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$5(""+v,m.mode,x),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vv:return x=C1(v.type,v.key,v.props,null,m.mode,x),x.ref=mg(m,null,v),x.return=m,x;case ep:return v=V5(v,m.mode,x),v.return=m,v;case Eu:var E=v._init;return h(m,E(v._payload),x)}if(Bg(v)||ug(v))return v=Eh(v,m.mode,x,null),v.return=m,v;Cv(m,v)}return null}function p(m,v,x,E){var N=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:o(m,v,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vv:return x.key===N?l(m,v,x,E):null;case ep:return x.key===N?c(m,v,x,E):null;case Eu:return N=x._init,p(m,v,N(x._payload),E)}if(Bg(x)||ug(x))return N!==null?null:u(m,v,x,E,null);Cv(m,x)}return null}function f(m,v,x,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(x)||null,o(v,m,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vv:return m=m.get(E.key===null?x:E.key)||null,l(v,m,E,N);case ep:return m=m.get(E.key===null?x:E.key)||null,c(v,m,E,N);case Eu:var C=E._init;return f(m,v,x,C(E._payload),N)}if(Bg(E)||ug(E))return m=m.get(x)||null,u(v,m,E,N,null);Cv(v,E)}return null}function y(m,v,x,E){for(var N=null,C=null,P=v,k=v=0,T=null;P!==null&&k<x.length;k++){P.index>k?(T=P,P=null):T=P.sibling;var q=p(m,P,x[k],E);if(q===null){P===null&&(P=T);break}t&&P&&q.alternate===null&&e(m,P),v=s(q,v,k),C===null?N=q:C.sibling=q,C=q,P=T}if(k===x.length)return r(m,P),Vr&&Zd(m,k),N;if(P===null){for(;k<x.length;k++)P=h(m,x[k],E),P!==null&&(v=s(P,v,k),C===null?N=P:C.sibling=P,C=P);return Vr&&Zd(m,k),N}for(P=n(m,P);k<x.length;k++)T=f(P,m,k,x[k],E),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?k:T.key),v=s(T,v,k),C===null?N=T:C.sibling=T,C=T);return t&&P.forEach(function(M){return e(m,M)}),Vr&&Zd(m,k),N}function g(m,v,x,E){var N=ug(x);if(typeof N!="function")throw Error(tt(150));if(x=N.call(x),x==null)throw Error(tt(151));for(var C=N=null,P=v,k=v=0,T=null,q=x.next();P!==null&&!q.done;k++,q=x.next()){P.index>k?(T=P,P=null):T=P.sibling;var M=p(m,P,q.value,E);if(M===null){P===null&&(P=T);break}t&&P&&M.alternate===null&&e(m,P),v=s(M,v,k),C===null?N=M:C.sibling=M,C=M,P=T}if(q.done)return r(m,P),Vr&&Zd(m,k),N;if(P===null){for(;!q.done;k++,q=x.next())q=h(m,q.value,E),q!==null&&(v=s(q,v,k),C===null?N=q:C.sibling=q,C=q);return Vr&&Zd(m,k),N}for(P=n(m,P);!q.done;k++,q=x.next())q=f(P,m,k,q.value,E),q!==null&&(t&&q.alternate!==null&&P.delete(q.key===null?k:q.key),v=s(q,v,k),C===null?N=q:C.sibling=q,C=q);return t&&P.forEach(function(A){return e(m,A)}),Vr&&Zd(m,k),N}function w(m,v,x,E){if(typeof x=="object"&&x!==null&&x.type===tp&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case vv:e:{for(var N=x.key,C=v;C!==null;){if(C.key===N){if(N=x.type,N===tp){if(C.tag===7){r(m,C.sibling),v=i(C,x.props.children),v.return=m,m=v;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Eu&&pk(N)===C.type){r(m,C.sibling),v=i(C,x.props),v.ref=mg(m,C,x),v.return=m,m=v;break e}r(m,C);break}else e(m,C);C=C.sibling}x.type===tp?(v=Eh(x.props.children,m.mode,E,x.key),v.return=m,m=v):(E=C1(x.type,x.key,x.props,null,m.mode,E),E.ref=mg(m,v,x),E.return=m,m=E)}return a(m);case ep:e:{for(C=x.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(m,v.sibling),v=i(v,x.children||[]),v.return=m,m=v;break e}else{r(m,v);break}else e(m,v);v=v.sibling}v=V5(x,m.mode,E),v.return=m,m=v}return a(m);case Eu:return C=x._init,w(m,v,C(x._payload),E)}if(Bg(x))return y(m,v,x,E);if(ug(x))return g(m,v,x,E);Cv(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(m,v.sibling),v=i(v,x),v.return=m,m=v):(r(m,v),v=$5(x,m.mode,E),v.return=m,m=v),a(m)):r(m,v)}return w}var Vp=jM(!0),OM=jM(!1),hw=fd(null),fw=null,cp=null,Y4=null;function X4(){Y4=cp=fw=null}function J4(t){var e=hw.current;Br(hw),t._currentValue=e}function cS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function _p(t,e){fw=t,Y4=cp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bs=!0),t.firstContext=null)}function ka(t){var e=t._currentValue;if(Y4!==t)if(t={context:t,memoizedValue:e,next:null},cp===null){if(fw===null)throw Error(tt(308));cp=t,fw.dependencies={lanes:0,firstContext:t}}else cp=cp.next=t;return e}var uh=null;function Q4(t){uh===null?uh=[t]:uh.push(t)}function RM(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Q4(e)):(r.next=i.next,i.next=r),e.interleaved=r,vc(t,n)}function vc(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Au=!1;function Z4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,er&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,vc(t,r)}return i=n.interleaved,i===null?(e.next=e,Q4(n)):(e.next=i.next,i.next=e),n.interleaved=e,vc(t,r)}function E1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,F4(t,r)}}function mk(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pw(t,e,r,n){var i=t.updateQueue;Au=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,u=c=l=null,o=s;do{var p=o.lane,f=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,g=o;switch(p=e,f=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(f,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(f,h,p):y,p==null)break e;h=Kr({},h,p);break e;case 2:Au=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else f={eventTime:f,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Mh|=a,t.lanes=a,t.memoizedState=h}}function gk(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(tt(191,i));i.call(n)}}}var cy={},ll=fd(cy),k0=fd(cy),I0=fd(cy);function dh(t){if(t===cy)throw Error(tt(174));return t}function e3(t,e){switch(Or(I0,e),Or(k0,t),Or(ll,cy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zA(e,t)}Br(ll),Or(ll,e)}function zp(){Br(ll),Br(k0),Br(I0)}function DM(t){dh(I0.current);var e=dh(ll.current),r=zA(e,t.type);e!==r&&(Or(k0,t),Or(ll,r))}function t3(t){k0.current===t&&(Br(ll),Br(k0))}var Wr=fd(0);function mw(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var L5=[];function r3(){for(var t=0;t<L5.length;t++)L5[t]._workInProgressVersionPrimary=null;L5.length=0}var A1=Cc.ReactCurrentDispatcher,D5=Cc.ReactCurrentBatchConfig,Dh=0,Hr=null,qn=null,ei=null,gw=!1,t0=!1,j0=0,hX=0;function Ci(){throw Error(tt(321))}function n3(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!wo(t[r],e[r]))return!1;return!0}function i3(t,e,r,n,i,s){if(Dh=s,Hr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,A1.current=t===null||t.memoizedState===null?gX:yX,t=r(n,i),t0){s=0;do{if(t0=!1,j0=0,25<=s)throw Error(tt(301));s+=1,ei=qn=null,e.updateQueue=null,A1.current=vX,t=r(n,i)}while(t0)}if(A1.current=yw,e=qn!==null&&qn.next!==null,Dh=0,ei=qn=Hr=null,gw=!1,e)throw Error(tt(300));return t}function s3(){var t=j0!==0;return j0=0,t}function Go(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?Hr.memoizedState=ei=t:ei=ei.next=t,ei}function Ia(){if(qn===null){var t=Hr.alternate;t=t!==null?t.memoizedState:null}else t=qn.next;var e=ei===null?Hr.memoizedState:ei.next;if(e!==null)ei=e,qn=t;else{if(t===null)throw Error(tt(310));qn=t,t={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},ei===null?Hr.memoizedState=ei=t:ei=ei.next=t}return ei}function O0(t,e){return typeof e=="function"?e(t):e}function M5(t){var e=Ia(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=qn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Dh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Hr.lanes|=u,Mh|=u}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,wo(n,e.memoizedState)||(bs=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Hr.lanes|=s,Mh|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function F5(t){var e=Ia(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);wo(s,e.memoizedState)||(bs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function MM(){}function FM(t,e){var r=Hr,n=Ia(),i=e(),s=!wo(n.memoizedState,i);if(s&&(n.memoizedState=i,bs=!0),n=n.queue,a3($M.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||ei!==null&&ei.memoizedState.tag&1){if(r.flags|=2048,R0(9,UM.bind(null,r,n,i,e),void 0,null),ii===null)throw Error(tt(349));Dh&30||BM(r,e,i)}return i}function BM(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Hr.updateQueue,e===null?(e={lastEffect:null,stores:null},Hr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function UM(t,e,r,n){e.value=r,e.getSnapshot=n,VM(e)&&zM(t)}function $M(t,e,r){return r(function(){VM(e)&&zM(t)})}function VM(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wo(t,r)}catch{return!0}}function zM(t){var e=vc(t,1);e!==null&&vo(e,t,1,-1)}function yk(t){var e=Go();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:O0,lastRenderedState:t},e.queue=t,t=t.dispatch=mX.bind(null,Hr,t),[e.memoizedState,t]}function R0(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Hr.updateQueue,e===null?(e={lastEffect:null,stores:null},Hr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function qM(){return Ia().memoizedState}function S1(t,e,r,n){var i=Go();Hr.flags|=t,i.memoizedState=R0(1|e,r,void 0,n===void 0?null:n)}function Hb(t,e,r,n){var i=Ia();n=n===void 0?null:n;var s=void 0;if(qn!==null){var a=qn.memoizedState;if(s=a.destroy,n!==null&&n3(n,a.deps)){i.memoizedState=R0(e,r,s,n);return}}Hr.flags|=t,i.memoizedState=R0(1|e,r,s,n)}function vk(t,e){return S1(8390656,8,t,e)}function a3(t,e){return Hb(2048,8,t,e)}function WM(t,e){return Hb(4,2,t,e)}function HM(t,e){return Hb(4,4,t,e)}function GM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KM(t,e,r){return r=r!=null?r.concat([t]):null,Hb(4,4,GM.bind(null,e,t),r)}function o3(){}function YM(t,e){var r=Ia();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&n3(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function XM(t,e){var r=Ia();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&n3(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function JM(t,e,r){return Dh&21?(wo(r,e)||(r=rM(),Hr.lanes|=r,Mh|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=r)}function fX(t,e){var r=gr;gr=r!==0&&4>r?r:4,t(!0);var n=D5.transition;D5.transition={};try{t(!1),e()}finally{gr=r,D5.transition=n}}function QM(){return Ia().memoizedState}function pX(t,e,r){var n=qu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ZM(t))eF(e,r);else if(r=RM(t,e,r,n),r!==null){var i=ns();vo(r,t,n,i),tF(r,e,n)}}function mX(t,e,r){var n=qu(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ZM(t))eF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,wo(o,a)){var l=e.interleaved;l===null?(i.next=i,Q4(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=RM(t,e,i,n),r!==null&&(i=ns(),vo(r,t,n,i),tF(r,e,n))}}function ZM(t){var e=t.alternate;return t===Hr||e!==null&&e===Hr}function eF(t,e){t0=gw=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function tF(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,F4(t,r)}}var yw={readContext:ka,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useInsertionEffect:Ci,useLayoutEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useMutableSource:Ci,useSyncExternalStore:Ci,useId:Ci,unstable_isNewReconciler:!1},gX={readContext:ka,useCallback:function(t,e){return Go().memoizedState=[t,e===void 0?null:e],t},useContext:ka,useEffect:vk,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,S1(4194308,4,GM.bind(null,e,t),r)},useLayoutEffect:function(t,e){return S1(4194308,4,t,e)},useInsertionEffect:function(t,e){return S1(4,2,t,e)},useMemo:function(t,e){var r=Go();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Go();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=pX.bind(null,Hr,t),[n.memoizedState,t]},useRef:function(t){var e=Go();return t={current:t},e.memoizedState=t},useState:yk,useDebugValue:o3,useDeferredValue:function(t){return Go().memoizedState=t},useTransition:function(){var t=yk(!1),e=t[0];return t=fX.bind(null,t[1]),Go().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Hr,i=Go();if(Vr){if(r===void 0)throw Error(tt(407));r=r()}else{if(r=e(),ii===null)throw Error(tt(349));Dh&30||BM(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,vk($M.bind(null,n,s,t),[t]),n.flags|=2048,R0(9,UM.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Go(),e=ii.identifierPrefix;if(Vr){var r=nc,n=rc;r=(n&~(1<<32-yo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=j0++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=hX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yX={readContext:ka,useCallback:YM,useContext:ka,useEffect:a3,useImperativeHandle:KM,useInsertionEffect:WM,useLayoutEffect:HM,useMemo:XM,useReducer:M5,useRef:qM,useState:function(){return M5(O0)},useDebugValue:o3,useDeferredValue:function(t){var e=Ia();return JM(e,qn.memoizedState,t)},useTransition:function(){var t=M5(O0)[0],e=Ia().memoizedState;return[t,e]},useMutableSource:MM,useSyncExternalStore:FM,useId:QM,unstable_isNewReconciler:!1},vX={readContext:ka,useCallback:YM,useContext:ka,useEffect:a3,useImperativeHandle:KM,useInsertionEffect:WM,useLayoutEffect:HM,useMemo:XM,useReducer:F5,useRef:qM,useState:function(){return F5(O0)},useDebugValue:o3,useDeferredValue:function(t){var e=Ia();return qn===null?e.memoizedState=t:JM(e,qn.memoizedState,t)},useTransition:function(){var t=F5(O0)[0],e=Ia().memoizedState;return[t,e]},useMutableSource:MM,useSyncExternalStore:FM,useId:QM,unstable_isNewReconciler:!1};function io(t,e){if(t&&t.defaultProps){e=Kr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function uS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Kr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Gb={isMounted:function(t){return(t=t._reactInternals)?Jh(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ns(),i=qu(t),s=uc(n,i);s.payload=e,r!=null&&(s.callback=r),e=Vu(t,s,i),e!==null&&(vo(e,t,i,n),E1(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ns(),i=qu(t),s=uc(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Vu(t,s,i),e!==null&&(vo(e,t,i,n),E1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ns(),n=qu(t),i=uc(r,n);i.tag=2,e!=null&&(i.callback=e),e=Vu(t,i,n),e!==null&&(vo(e,t,n,r),E1(e,t,n))}};function wk(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!N0(r,n)||!N0(i,s):!0}function rF(t,e,r){var n=!1,i=td,s=e.contextType;return typeof s=="object"&&s!==null?s=ka(s):(i=Es(e)?Rh:Vi.current,n=e.contextTypes,s=(n=n!=null)?Up(t,i):td),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gb,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function bk(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Gb.enqueueReplaceState(e,e.state,null)}function dS(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Z4(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ka(s):(s=Es(e)?Rh:Vi.current,i.context=Up(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(uS(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gb.enqueueReplaceState(i,i.state,null),pw(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qp(t,e){try{var r="",n=e;do r+=HK(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function B5(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function hS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var wX=typeof WeakMap=="function"?WeakMap:Map;function nF(t,e,r){r=uc(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ww||(ww=!0,_S=n),hS(t,e)},r}function iF(t,e,r){r=uc(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){hS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){hS(t,e),typeof n!="function"&&(zu===null?zu=new Set([this]):zu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function xk(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new wX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=OX.bind(null,t,e,r),e.then(t,t))}function _k(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ek(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=uc(-1,1),e.tag=2,Vu(r,e,1))),r.lanes|=1),t)}var bX=Cc.ReactCurrentOwner,bs=!1;function Qi(t,e,r,n){e.child=t===null?OM(e,null,r,n):Vp(e,t.child,r,n)}function Ak(t,e,r,n,i){r=r.render;var s=e.ref;return _p(e,i),n=i3(t,e,r,n,s,i),r=s3(),t!==null&&!bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wc(t,e,i)):(Vr&&r&&H4(e),e.flags|=1,Qi(t,e,n,i),e.child)}function Sk(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!m3(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,sF(t,e,s,n,i)):(t=C1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:N0,r(a,n)&&t.ref===e.ref)return wc(t,e,i)}return e.flags|=1,t=Wu(s,n),t.ref=e.ref,t.return=e,e.child=t}function sF(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(N0(s,n)&&t.ref===e.ref)if(bs=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(bs=!0);else return e.lanes=t.lanes,wc(t,e,i)}return fS(t,e,r,n,i)}function aF(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(dp,Us),Us|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Or(dp,Us),Us|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Or(dp,Us),Us|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Or(dp,Us),Us|=n;return Qi(t,e,i,r),e.child}function oF(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function fS(t,e,r,n,i){var s=Es(r)?Rh:Vi.current;return s=Up(e,s),_p(e,i),r=i3(t,e,r,n,s,i),n=s3(),t!==null&&!bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wc(t,e,i)):(Vr&&n&&H4(e),e.flags|=1,Qi(t,e,r,i),e.child)}function Nk(t,e,r,n,i){if(Es(r)){var s=!0;cw(e)}else s=!1;if(_p(e,i),e.stateNode===null)N1(t,e),rF(e,r,n),dS(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=ka(c):(c=Es(r)?Rh:Vi.current,c=Up(e,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&bk(e,a,n,c),Au=!1;var p=e.memoizedState;a.state=p,pw(e,n,a,i),l=e.memoizedState,o!==n||p!==l||_s.current||Au?(typeof u=="function"&&(uS(e,r,u,n),l=e.memoizedState),(o=Au||wk(e,r,o,n,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,LM(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:io(e.type,o),a.props=c,h=e.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ka(l):(l=Es(r)?Rh:Vi.current,l=Up(e,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==l)&&bk(e,a,n,l),Au=!1,p=e.memoizedState,a.state=p,pw(e,n,a,i);var y=e.memoizedState;o!==h||p!==y||_s.current||Au?(typeof f=="function"&&(uS(e,r,f,n),y=e.memoizedState),(c=Au||wk(e,r,c,n,p,y,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),a.props=n,a.state=y,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return pS(t,e,r,n,s,i)}function pS(t,e,r,n,i,s){oF(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&dk(e,r,!1),wc(t,e,s);n=e.stateNode,bX.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Vp(e,t.child,null,s),e.child=Vp(e,null,o,s)):Qi(t,e,o,s),e.memoizedState=n.state,i&&dk(e,r,!0),e.child}function lF(t){var e=t.stateNode;e.pendingContext?uk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uk(t,e.context,!1),e3(t,e.containerInfo)}function Tk(t,e,r,n,i){return $p(),K4(i),e.flags|=256,Qi(t,e,r,n),e.child}var mS={dehydrated:null,treeContext:null,retryLane:0};function gS(t){return{baseLanes:t,cachePool:null,transitions:null}}function cF(t,e,r){var n=e.pendingProps,i=Wr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Or(Wr,i&1),t===null)return lS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Xb(a,n,0,null),t=Eh(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=gS(r),e.memoizedState=mS,t):l3(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return xX(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Wu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Wu(o,s):(s=Eh(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?gS(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=mS,n}return s=t.child,t=s.sibling,n=Wu(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function l3(t,e){return e=Xb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kv(t,e,r,n){return n!==null&&K4(n),Vp(e,t.child,null,r),t=l3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xX(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=B5(Error(tt(422))),kv(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Xb({mode:"visible",children:n.children},i,0,null),s=Eh(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Vp(e,t.child,null,a),e.child.memoizedState=gS(a),e.memoizedState=mS,s);if(!(e.mode&1))return kv(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(tt(419)),n=B5(s,n,void 0),kv(t,e,a,n)}if(o=(a&t.childLanes)!==0,bs||o){if(n=ii,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vc(t,i),vo(n,t,i,-1))}return p3(),n=B5(Error(tt(421))),kv(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RX.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ws=$u(i.nextSibling),Ks=e,Vr=!0,oo=null,t!==null&&(va[wa++]=rc,va[wa++]=nc,va[wa++]=Lh,rc=t.id,nc=t.overflow,Lh=e),e=l3(e,n.children),e.flags|=4096,e)}function Pk(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),cS(t.return,e,r)}function U5(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function uF(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Qi(t,e,n.children,r),n=Wr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pk(t,r,e);else if(t.tag===19)Pk(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Or(Wr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&mw(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),U5(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mw(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}U5(e,!0,r,null,s);break;case"together":U5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function N1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Mh|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(tt(153));if(e.child!==null){for(t=e.child,r=Wu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _X(t,e,r){switch(e.tag){case 3:lF(e),$p();break;case 5:DM(e);break;case 1:Es(e.type)&&cw(e);break;case 4:e3(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Or(hw,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Or(Wr,Wr.current&1),e.flags|=128,null):r&e.child.childLanes?cF(t,e,r):(Or(Wr,Wr.current&1),t=wc(t,e,r),t!==null?t.sibling:null);Or(Wr,Wr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return uF(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Or(Wr,Wr.current),n)break;return null;case 22:case 23:return e.lanes=0,aF(t,e,r)}return wc(t,e,r)}var dF,yS,hF,fF;dF=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yS=function(){};hF=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,dh(ll.current);var s=null;switch(r){case"input":i=BA(t,i),n=BA(t,n),s=[];break;case"select":i=Kr({},i,{value:void 0}),n=Kr({},n,{value:void 0}),s=[];break;case"textarea":i=VA(t,i),n=VA(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ow)}qA(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(w0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(w0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Dr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};fF=function(t,e,r,n){r!==n&&(e.flags|=4)};function gg(t,e){if(!Vr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ki(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function EX(t,e,r){var n=e.pendingProps;switch(G4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(e),null;case 1:return Es(e.type)&&lw(),ki(e),null;case 3:return n=e.stateNode,zp(),Br(_s),Br(Vi),r3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Pv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oo!==null&&(SS(oo),oo=null))),yS(t,e),ki(e),null;case 5:t3(e);var i=dh(I0.current);if(r=e.type,t!==null&&e.stateNode!=null)hF(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(tt(166));return ki(e),null}if(t=dh(ll.current),Pv(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[el]=e,n[C0]=s,t=(e.mode&1)!==0,r){case"dialog":Dr("cancel",n),Dr("close",n);break;case"iframe":case"object":case"embed":Dr("load",n);break;case"video":case"audio":for(i=0;i<$g.length;i++)Dr($g[i],n);break;case"source":Dr("error",n);break;case"img":case"image":case"link":Dr("error",n),Dr("load",n);break;case"details":Dr("toggle",n);break;case"input":M6(n,s),Dr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Dr("invalid",n);break;case"textarea":B6(n,s),Dr("invalid",n)}qA(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Tv(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Tv(n.textContent,o,t),i=["children",""+o]):w0.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Dr("scroll",n)}switch(r){case"input":wv(n),F6(n,s,!0);break;case"textarea":wv(n),U6(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ow)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$7(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[el]=e,t[C0]=n,dF(t,e,!1,!1),e.stateNode=t;e:{switch(a=WA(r,n),r){case"dialog":Dr("cancel",t),Dr("close",t),i=n;break;case"iframe":case"object":case"embed":Dr("load",t),i=n;break;case"video":case"audio":for(i=0;i<$g.length;i++)Dr($g[i],t);i=n;break;case"source":Dr("error",t),i=n;break;case"img":case"image":case"link":Dr("error",t),Dr("load",t),i=n;break;case"details":Dr("toggle",t),i=n;break;case"input":M6(t,n),i=BA(t,n),Dr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Kr({},n,{value:void 0}),Dr("invalid",t);break;case"textarea":B6(t,n),i=VA(t,n),Dr("invalid",t);break;default:i=n}qA(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?q7(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V7(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&b0(t,l):typeof l=="number"&&b0(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(w0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Dr("scroll",t):l!=null&&j4(t,s,l,a))}switch(r){case"input":wv(t),F6(t,n,!1);break;case"textarea":wv(t),U6(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ed(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?vp(t,!!n.multiple,s,!1):n.defaultValue!=null&&vp(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ow)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ki(e),null;case 6:if(t&&e.stateNode!=null)fF(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(tt(166));if(r=dh(I0.current),dh(ll.current),Pv(e)){if(n=e.stateNode,r=e.memoizedProps,n[el]=e,(s=n.nodeValue!==r)&&(t=Ks,t!==null))switch(t.tag){case 3:Tv(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tv(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[el]=e,e.stateNode=n}return ki(e),null;case 13:if(Br(Wr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vr&&Ws!==null&&e.mode&1&&!(e.flags&128))IM(),$p(),e.flags|=98560,s=!1;else if(s=Pv(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(tt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(tt(317));s[el]=e}else $p(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ki(e),s=!1}else oo!==null&&(SS(oo),oo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Wr.current&1?Wn===0&&(Wn=3):p3())),e.updateQueue!==null&&(e.flags|=4),ki(e),null);case 4:return zp(),yS(t,e),t===null&&T0(e.stateNode.containerInfo),ki(e),null;case 10:return J4(e.type._context),ki(e),null;case 17:return Es(e.type)&&lw(),ki(e),null;case 19:if(Br(Wr),s=e.memoizedState,s===null)return ki(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)gg(s,!1);else{if(Wn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=mw(t),a!==null){for(e.flags|=128,gg(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Or(Wr,Wr.current&1|2),e.child}t=t.sibling}s.tail!==null&&mn()>Wp&&(e.flags|=128,n=!0,gg(s,!1),e.lanes=4194304)}else{if(!n)if(t=mw(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),gg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Vr)return ki(e),null}else 2*mn()-s.renderingStartTime>Wp&&r!==1073741824&&(e.flags|=128,n=!0,gg(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mn(),e.sibling=null,r=Wr.current,Or(Wr,n?r&1|2:r&1),e):(ki(e),null);case 22:case 23:return f3(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Us&1073741824&&(ki(e),e.subtreeFlags&6&&(e.flags|=8192)):ki(e),null;case 24:return null;case 25:return null}throw Error(tt(156,e.tag))}function AX(t,e){switch(G4(e),e.tag){case 1:return Es(e.type)&&lw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zp(),Br(_s),Br(Vi),r3(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return t3(e),null;case 13:if(Br(Wr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(tt(340));$p()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Br(Wr),null;case 4:return zp(),null;case 10:return J4(e.type._context),null;case 22:case 23:return f3(),null;case 24:return null;default:return null}}var Iv=!1,Fi=!1,SX=typeof WeakSet=="function"?WeakSet:Set,ht=null;function up(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nn(t,e,n)}else r.current=null}function vS(t,e,r){try{r()}catch(n){nn(t,e,n)}}var Ck=!1;function NX(t,e){if(tS=iw,t=vM(),W4(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===r&&++c===i&&(o=a),p===s&&++u===n&&(l=a),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(rS={focusedElem:t,selectionRange:r},iw=!1,ht=e;ht!==null;)if(e=ht,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ht=t;else for(;ht!==null;){e=ht;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:io(e.type,g),w);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(E){nn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ht=t;break}ht=e.return}return y=Ck,Ck=!1,y}function r0(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&vS(e,r,s)}i=i.next}while(i!==n)}}function Kb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function wS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function pF(t){var e=t.alternate;e!==null&&(t.alternate=null,pF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[el],delete e[C0],delete e[sS],delete e[lX],delete e[cX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mF(t){return t.tag===5||t.tag===3||t.tag===4}function kk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ow));else if(n!==4&&(t=t.child,t!==null))for(bS(t,e,r),t=t.sibling;t!==null;)bS(t,e,r),t=t.sibling}function xS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(xS(t,e,r),t=t.sibling;t!==null;)xS(t,e,r),t=t.sibling}var pi=null,ao=!1;function fu(t,e,r){for(r=r.child;r!==null;)gF(t,e,r),r=r.sibling}function gF(t,e,r){if(ol&&typeof ol.onCommitFiberUnmount=="function")try{ol.onCommitFiberUnmount(Ub,r)}catch{}switch(r.tag){case 5:Fi||up(r,e);case 6:var n=pi,i=ao;pi=null,fu(t,e,r),pi=n,ao=i,pi!==null&&(ao?(t=pi,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):pi.removeChild(r.stateNode));break;case 18:pi!==null&&(ao?(t=pi,r=r.stateNode,t.nodeType===8?O5(t.parentNode,r):t.nodeType===1&&O5(t,r),A0(t)):O5(pi,r.stateNode));break;case 4:n=pi,i=ao,pi=r.stateNode.containerInfo,ao=!0,fu(t,e,r),pi=n,ao=i;break;case 0:case 11:case 14:case 15:if(!Fi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&vS(r,e,a),i=i.next}while(i!==n)}fu(t,e,r);break;case 1:if(!Fi&&(up(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){nn(r,e,o)}fu(t,e,r);break;case 21:fu(t,e,r);break;case 22:r.mode&1?(Fi=(n=Fi)||r.memoizedState!==null,fu(t,e,r),Fi=n):fu(t,e,r);break;default:fu(t,e,r)}}function Ik(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new SX),e.forEach(function(n){var i=LX.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function eo(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:pi=o.stateNode,ao=!1;break e;case 3:pi=o.stateNode.containerInfo,ao=!0;break e;case 4:pi=o.stateNode.containerInfo,ao=!0;break e}o=o.return}if(pi===null)throw Error(tt(160));gF(s,a,i),pi=null,ao=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){nn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yF(e,t),e=e.sibling}function yF(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(eo(e,t),qo(t),n&4){try{r0(3,t,t.return),Kb(3,t)}catch(g){nn(t,t.return,g)}try{r0(5,t,t.return)}catch(g){nn(t,t.return,g)}}break;case 1:eo(e,t),qo(t),n&512&&r!==null&&up(r,r.return);break;case 5:if(eo(e,t),qo(t),n&512&&r!==null&&up(r,r.return),t.flags&32){var i=t.stateNode;try{b0(i,"")}catch(g){nn(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&B7(i,s),WA(o,a);var c=WA(o,s);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?q7(i,h):u==="dangerouslySetInnerHTML"?V7(i,h):u==="children"?b0(i,h):j4(i,u,h,c)}switch(o){case"input":UA(i,s);break;case"textarea":U7(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?vp(i,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?vp(i,!!s.multiple,s.defaultValue,!0):vp(i,!!s.multiple,s.multiple?[]:"",!1))}i[C0]=s}catch(g){nn(t,t.return,g)}}break;case 6:if(eo(e,t),qo(t),n&4){if(t.stateNode===null)throw Error(tt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){nn(t,t.return,g)}}break;case 3:if(eo(e,t),qo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{A0(e.containerInfo)}catch(g){nn(t,t.return,g)}break;case 4:eo(e,t),qo(t);break;case 13:eo(e,t),qo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(d3=mn())),n&4&&Ik(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Fi=(c=Fi)||u,eo(e,t),Fi=c):eo(e,t),qo(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ht=t,u=t.child;u!==null;){for(h=ht=u;ht!==null;){switch(p=ht,f=p.child,p.tag){case 0:case 11:case 14:case 15:r0(4,p,p.return);break;case 1:up(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){nn(n,r,g)}}break;case 5:up(p,p.return);break;case 22:if(p.memoizedState!==null){Ok(h);continue}}f!==null?(f.return=p,ht=f):Ok(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=z7("display",a))}catch(g){nn(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){nn(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:eo(e,t),qo(t),n&4&&Ik(t);break;case 21:break;default:eo(e,t),qo(t)}}function qo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(mF(r)){var n=r;break e}r=r.return}throw Error(tt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(b0(i,""),n.flags&=-33);var s=kk(t);xS(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=kk(t);bS(t,o,a);break;default:throw Error(tt(161))}}catch(l){nn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TX(t,e,r){ht=t,vF(t)}function vF(t,e,r){for(var n=(t.mode&1)!==0;ht!==null;){var i=ht,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Iv;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Fi;o=Iv;var c=Fi;if(Iv=a,(Fi=l)&&!c)for(ht=i;ht!==null;)a=ht,l=a.child,a.tag===22&&a.memoizedState!==null?Rk(i):l!==null?(l.return=a,ht=l):Rk(i);for(;s!==null;)ht=s,vF(s),s=s.sibling;ht=i,Iv=o,Fi=c}jk(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ht=s):jk(t)}}function jk(t){for(;ht!==null;){var e=ht;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fi||Kb(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Fi)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:io(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gk(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}gk(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&A0(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}Fi||e.flags&512&&wS(e)}catch(p){nn(e,e.return,p)}}if(e===t){ht=null;break}if(r=e.sibling,r!==null){r.return=e.return,ht=r;break}ht=e.return}}function Ok(t){for(;ht!==null;){var e=ht;if(e===t){ht=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ht=r;break}ht=e.return}}function Rk(t){for(;ht!==null;){var e=ht;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Kb(4,e)}catch(l){nn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){nn(e,i,l)}}var s=e.return;try{wS(e)}catch(l){nn(e,s,l)}break;case 5:var a=e.return;try{wS(e)}catch(l){nn(e,a,l)}}}catch(l){nn(e,e.return,l)}if(e===t){ht=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ht=o;break}ht=e.return}}var PX=Math.ceil,vw=Cc.ReactCurrentDispatcher,c3=Cc.ReactCurrentOwner,Sa=Cc.ReactCurrentBatchConfig,er=0,ii=null,Ln=null,xi=0,Us=0,dp=fd(0),Wn=0,L0=null,Mh=0,Yb=0,u3=0,n0=null,ws=null,d3=0,Wp=1/0,Jl=null,ww=!1,_S=null,zu=null,jv=!1,Lu=null,bw=0,i0=0,ES=null,T1=-1,P1=0;function ns(){return er&6?mn():T1!==-1?T1:T1=mn()}function qu(t){return t.mode&1?er&2&&xi!==0?xi&-xi:dX.transition!==null?(P1===0&&(P1=rM()),P1):(t=gr,t!==0||(t=window.event,t=t===void 0?16:cM(t.type)),t):1}function vo(t,e,r,n){if(50<i0)throw i0=0,ES=null,Error(tt(185));ay(t,r,n),(!(er&2)||t!==ii)&&(t===ii&&(!(er&2)&&(Yb|=r),Wn===4&&Tu(t,xi)),As(t,n),r===1&&er===0&&!(e.mode&1)&&(Wp=mn()+500,Wb&&pd()))}function As(t,e){var r=t.callbackNode;dY(t,e);var n=nw(t,t===ii?xi:0);if(n===0)r!==null&&z6(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&z6(r),e===1)t.tag===0?uX(Lk.bind(null,t)):PM(Lk.bind(null,t)),aX(function(){!(er&6)&&pd()}),r=null;else{switch(nM(n)){case 1:r=M4;break;case 4:r=eM;break;case 16:r=rw;break;case 536870912:r=tM;break;default:r=rw}r=NF(r,wF.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function wF(t,e){if(T1=-1,P1=0,er&6)throw Error(tt(327));var r=t.callbackNode;if(Ep()&&t.callbackNode!==r)return null;var n=nw(t,t===ii?xi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=xw(t,n);else{e=n;var i=er;er|=2;var s=xF();(ii!==t||xi!==e)&&(Jl=null,Wp=mn()+500,_h(t,e));do try{IX();break}catch(o){bF(t,o)}while(!0);X4(),vw.current=s,er=i,Ln!==null?e=0:(ii=null,xi=0,e=Wn)}if(e!==0){if(e===2&&(i=XA(t),i!==0&&(n=i,e=AS(t,i))),e===1)throw r=L0,_h(t,0),Tu(t,n),As(t,mn()),r;if(e===6)Tu(t,n);else{if(i=t.current.alternate,!(n&30)&&!CX(i)&&(e=xw(t,n),e===2&&(s=XA(t),s!==0&&(n=s,e=AS(t,s))),e===1))throw r=L0,_h(t,0),Tu(t,n),As(t,mn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(tt(345));case 2:eh(t,ws,Jl);break;case 3:if(Tu(t,n),(n&130023424)===n&&(e=d3+500-mn(),10<e)){if(nw(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ns(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=iS(eh.bind(null,t,ws,Jl),e);break}eh(t,ws,Jl);break;case 4:if(Tu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-yo(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=mn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*PX(n/1960))-n,10<n){t.timeoutHandle=iS(eh.bind(null,t,ws,Jl),n);break}eh(t,ws,Jl);break;case 5:eh(t,ws,Jl);break;default:throw Error(tt(329))}}}return As(t,mn()),t.callbackNode===r?wF.bind(null,t):null}function AS(t,e){var r=n0;return t.current.memoizedState.isDehydrated&&(_h(t,e).flags|=256),t=xw(t,e),t!==2&&(e=ws,ws=r,e!==null&&SS(e)),t}function SS(t){ws===null?ws=t:ws.push.apply(ws,t)}function CX(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!wo(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tu(t,e){for(e&=~u3,e&=~Yb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-yo(e),n=1<<r;t[r]=-1,e&=~n}}function Lk(t){if(er&6)throw Error(tt(327));Ep();var e=nw(t,0);if(!(e&1))return As(t,mn()),null;var r=xw(t,e);if(t.tag!==0&&r===2){var n=XA(t);n!==0&&(e=n,r=AS(t,n))}if(r===1)throw r=L0,_h(t,0),Tu(t,e),As(t,mn()),r;if(r===6)throw Error(tt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,eh(t,ws,Jl),As(t,mn()),null}function h3(t,e){var r=er;er|=1;try{return t(e)}finally{er=r,er===0&&(Wp=mn()+500,Wb&&pd())}}function Fh(t){Lu!==null&&Lu.tag===0&&!(er&6)&&Ep();var e=er;er|=1;var r=Sa.transition,n=gr;try{if(Sa.transition=null,gr=1,t)return t()}finally{gr=n,Sa.transition=r,er=e,!(er&6)&&pd()}}function f3(){Us=dp.current,Br(dp)}function _h(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,sX(r)),Ln!==null)for(r=Ln.return;r!==null;){var n=r;switch(G4(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lw();break;case 3:zp(),Br(_s),Br(Vi),r3();break;case 5:t3(n);break;case 4:zp();break;case 13:Br(Wr);break;case 19:Br(Wr);break;case 10:J4(n.type._context);break;case 22:case 23:f3()}r=r.return}if(ii=t,Ln=t=Wu(t.current,null),xi=Us=e,Wn=0,L0=null,u3=Yb=Mh=0,ws=n0=null,uh!==null){for(e=0;e<uh.length;e++)if(r=uh[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}uh=null}return t}function bF(t,e){do{var r=Ln;try{if(X4(),A1.current=yw,gw){for(var n=Hr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gw=!1}if(Dh=0,ei=qn=Hr=null,t0=!1,j0=0,c3.current=null,r===null||r.return===null){Wn=1,L0=e,Ln=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=xi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=_k(a);if(f!==null){f.flags&=-257,Ek(f,a,o,s,e),f.mode&1&&xk(s,c,e),e=f,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){xk(s,c,e),p3();break e}l=Error(tt(426))}}else if(Vr&&o.mode&1){var w=_k(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ek(w,a,o,s,e),K4(qp(l,o));break e}}s=l=qp(l,o),Wn!==4&&(Wn=2),n0===null?n0=[s]:n0.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=nF(s,l,e);mk(s,m);break e;case 1:o=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zu===null||!zu.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=iF(s,o,e);mk(s,E);break e}}s=s.return}while(s!==null)}EF(r)}catch(N){e=N,Ln===r&&r!==null&&(Ln=r=r.return);continue}break}while(!0)}function xF(){var t=vw.current;return vw.current=yw,t===null?yw:t}function p3(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),ii===null||!(Mh&268435455)&&!(Yb&268435455)||Tu(ii,xi)}function xw(t,e){var r=er;er|=2;var n=xF();(ii!==t||xi!==e)&&(Jl=null,_h(t,e));do try{kX();break}catch(i){bF(t,i)}while(!0);if(X4(),er=r,vw.current=n,Ln!==null)throw Error(tt(261));return ii=null,xi=0,Wn}function kX(){for(;Ln!==null;)_F(Ln)}function IX(){for(;Ln!==null&&!rY();)_F(Ln)}function _F(t){var e=SF(t.alternate,t,Us);t.memoizedProps=t.pendingProps,e===null?EF(t):Ln=e,c3.current=null}function EF(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=AX(r,e),r!==null){r.flags&=32767,Ln=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wn=6,Ln=null;return}}else if(r=EX(r,e,Us),r!==null){Ln=r;return}if(e=e.sibling,e!==null){Ln=e;return}Ln=e=t}while(e!==null);Wn===0&&(Wn=5)}function eh(t,e,r){var n=gr,i=Sa.transition;try{Sa.transition=null,gr=1,jX(t,e,r,n)}finally{Sa.transition=i,gr=n}return null}function jX(t,e,r,n){do Ep();while(Lu!==null);if(er&6)throw Error(tt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(tt(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(hY(t,s),t===ii&&(Ln=ii=null,xi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jv||(jv=!0,NF(rw,function(){return Ep(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Sa.transition,Sa.transition=null;var a=gr;gr=1;var o=er;er|=4,c3.current=null,NX(t,r),yF(r,t),QY(rS),iw=!!tS,rS=tS=null,t.current=r,TX(r),nY(),er=o,gr=a,Sa.transition=s}else t.current=r;if(jv&&(jv=!1,Lu=t,bw=i),s=t.pendingLanes,s===0&&(zu=null),aY(r.stateNode),As(t,mn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ww)throw ww=!1,t=_S,_S=null,t;return bw&1&&t.tag!==0&&Ep(),s=t.pendingLanes,s&1?t===ES?i0++:(i0=0,ES=t):i0=0,pd(),null}function Ep(){if(Lu!==null){var t=nM(bw),e=Sa.transition,r=gr;try{if(Sa.transition=null,gr=16>t?16:t,Lu===null)var n=!1;else{if(t=Lu,Lu=null,bw=0,er&6)throw Error(tt(331));var i=er;for(er|=4,ht=t.current;ht!==null;){var s=ht,a=s.child;if(ht.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ht=c;ht!==null;){var u=ht;switch(u.tag){case 0:case 11:case 15:r0(8,u,s)}var h=u.child;if(h!==null)h.return=u,ht=h;else for(;ht!==null;){u=ht;var p=u.sibling,f=u.return;if(pF(u),u===c){ht=null;break}if(p!==null){p.return=f,ht=p;break}ht=f}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ht=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ht=a;else e:for(;ht!==null;){if(s=ht,s.flags&2048)switch(s.tag){case 0:case 11:case 15:r0(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ht=m;break e}ht=s.return}}var v=t.current;for(ht=v;ht!==null;){a=ht;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ht=x;else e:for(a=v;ht!==null;){if(o=ht,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Kb(9,o)}}catch(N){nn(o,o.return,N)}if(o===a){ht=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,ht=E;break e}ht=o.return}}if(er=i,pd(),ol&&typeof ol.onPostCommitFiberRoot=="function")try{ol.onPostCommitFiberRoot(Ub,t)}catch{}n=!0}return n}finally{gr=r,Sa.transition=e}}return!1}function Dk(t,e,r){e=qp(r,e),e=nF(t,e,1),t=Vu(t,e,1),e=ns(),t!==null&&(ay(t,1,e),As(t,e))}function nn(t,e,r){if(t.tag===3)Dk(t,t,r);else for(;e!==null;){if(e.tag===3){Dk(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zu===null||!zu.has(n))){t=qp(r,t),t=iF(e,t,1),e=Vu(e,t,1),t=ns(),e!==null&&(ay(e,1,t),As(e,t));break}}e=e.return}}function OX(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ns(),t.pingedLanes|=t.suspendedLanes&r,ii===t&&(xi&r)===r&&(Wn===4||Wn===3&&(xi&130023424)===xi&&500>mn()-d3?_h(t,0):u3|=r),As(t,e)}function AF(t,e){e===0&&(t.mode&1?(e=_v,_v<<=1,!(_v&130023424)&&(_v=4194304)):e=1);var r=ns();t=vc(t,e),t!==null&&(ay(t,e,r),As(t,r))}function RX(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),AF(t,r)}function LX(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(tt(314))}n!==null&&n.delete(e),AF(t,r)}var SF;SF=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||_s.current)bs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return bs=!1,_X(t,e,r);bs=!!(t.flags&131072)}else bs=!1,Vr&&e.flags&1048576&&CM(e,dw,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;N1(t,e),t=e.pendingProps;var i=Up(e,Vi.current);_p(e,r),i=i3(null,e,n,t,i,r);var s=s3();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Es(n)?(s=!0,cw(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z4(e),i.updater=Gb,e.stateNode=i,i._reactInternals=e,dS(e,n,t,r),e=pS(null,e,n,!0,s,r)):(e.tag=0,Vr&&s&&H4(e),Qi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(N1(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=MX(n),t=io(n,t),i){case 0:e=fS(null,e,n,t,r);break e;case 1:e=Nk(null,e,n,t,r);break e;case 11:e=Ak(null,e,n,t,r);break e;case 14:e=Sk(null,e,n,io(n.type,t),r);break e}throw Error(tt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:io(n,i),fS(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:io(n,i),Nk(t,e,n,i,r);case 3:e:{if(lF(e),t===null)throw Error(tt(387));n=e.pendingProps,s=e.memoizedState,i=s.element,LM(t,e),pw(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qp(Error(tt(423)),e),e=Tk(t,e,n,r,i);break e}else if(n!==i){i=qp(Error(tt(424)),e),e=Tk(t,e,n,r,i);break e}else for(Ws=$u(e.stateNode.containerInfo.firstChild),Ks=e,Vr=!0,oo=null,r=OM(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($p(),n===i){e=wc(t,e,r);break e}Qi(t,e,n,r)}e=e.child}return e;case 5:return DM(e),t===null&&lS(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,nS(n,i)?a=null:s!==null&&nS(n,s)&&(e.flags|=32),oF(t,e),Qi(t,e,a,r),e.child;case 6:return t===null&&lS(e),null;case 13:return cF(t,e,r);case 4:return e3(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Vp(e,null,n,r):Qi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:io(n,i),Ak(t,e,n,i,r);case 7:return Qi(t,e,e.pendingProps,r),e.child;case 8:return Qi(t,e,e.pendingProps.children,r),e.child;case 12:return Qi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Or(hw,n._currentValue),n._currentValue=a,s!==null)if(wo(s.value,a)){if(s.children===i.children&&!_s.current){e=wc(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=uc(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),cS(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(tt(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),cS(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Qi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,_p(e,r),i=ka(i),n=n(i),e.flags|=1,Qi(t,e,n,r),e.child;case 14:return n=e.type,i=io(n,e.pendingProps),i=io(n.type,i),Sk(t,e,n,i,r);case 15:return sF(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:io(n,i),N1(t,e),e.tag=1,Es(n)?(t=!0,cw(e)):t=!1,_p(e,r),rF(e,n,i),dS(e,n,i,r),pS(null,e,n,!0,t,r);case 19:return uF(t,e,r);case 22:return aF(t,e,r)}throw Error(tt(156,e.tag))};function NF(t,e){return Z7(t,e)}function DX(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(t,e,r,n){return new DX(t,e,r,n)}function m3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MX(t){if(typeof t=="function")return m3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===R4)return 11;if(t===L4)return 14}return 2}function Wu(t,e){var r=t.alternate;return r===null?(r=Ea(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function C1(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")m3(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case tp:return Eh(r.children,i,s,e);case O4:a=8,i|=8;break;case LA:return t=Ea(12,r,e,i|2),t.elementType=LA,t.lanes=s,t;case DA:return t=Ea(13,r,e,i),t.elementType=DA,t.lanes=s,t;case MA:return t=Ea(19,r,e,i),t.elementType=MA,t.lanes=s,t;case D7:return Xb(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R7:a=10;break e;case L7:a=9;break e;case R4:a=11;break e;case L4:a=14;break e;case Eu:a=16,n=null;break e}throw Error(tt(130,t==null?t:typeof t,""))}return e=Ea(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Eh(t,e,r,n){return t=Ea(7,t,n,e),t.lanes=r,t}function Xb(t,e,r,n){return t=Ea(22,t,n,e),t.elementType=D7,t.lanes=r,t.stateNode={isHidden:!1},t}function $5(t,e,r){return t=Ea(6,t,null,e),t.lanes=r,t}function V5(t,e,r){return e=Ea(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FX(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_5(0),this.expirationTimes=_5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_5(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function g3(t,e,r,n,i,s,a,o,l){return t=new FX(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ea(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z4(s),t}function BX(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ep,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function TF(t){if(!t)return td;t=t._reactInternals;e:{if(Jh(t)!==t||t.tag!==1)throw Error(tt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Es(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(tt(171))}if(t.tag===1){var r=t.type;if(Es(r))return TM(t,r,e)}return e}function PF(t,e,r,n,i,s,a,o,l){return t=g3(r,n,!0,t,i,s,a,o,l),t.context=TF(null),r=t.current,n=ns(),i=qu(r),s=uc(n,i),s.callback=e??null,Vu(r,s,i),t.current.lanes=i,ay(t,i,n),As(t,n),t}function Jb(t,e,r,n){var i=e.current,s=ns(),a=qu(i);return r=TF(r),e.context===null?e.context=r:e.pendingContext=r,e=uc(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Vu(i,e,a),t!==null&&(vo(t,i,a,s),E1(t,i,a)),a}function _w(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function y3(t,e){Mk(t,e),(t=t.alternate)&&Mk(t,e)}function UX(){return null}var CF=typeof reportError=="function"?reportError:function(t){console.error(t)};function v3(t){this._internalRoot=t}Qb.prototype.render=v3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(tt(409));Jb(t,e,null,null)};Qb.prototype.unmount=v3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fh(function(){Jb(null,t,null,null)}),e[yc]=null}};function Qb(t){this._internalRoot=t}Qb.prototype.unstable_scheduleHydration=function(t){if(t){var e=aM();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Nu.length&&e!==0&&e<Nu[r].priority;r++);Nu.splice(r,0,t),r===0&&lM(t)}};function w3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fk(){}function $X(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=_w(a);s.call(c)}}var a=PF(e,n,t,0,null,!1,!1,"",Fk);return t._reactRootContainer=a,t[yc]=a.current,T0(t.nodeType===8?t.parentNode:t),Fh(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=_w(l);o.call(c)}}var l=g3(t,0,!1,null,null,!1,!1,"",Fk);return t._reactRootContainer=l,t[yc]=l.current,T0(t.nodeType===8?t.parentNode:t),Fh(function(){Jb(e,l,r,n)}),l}function ex(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=_w(a);o.call(l)}}Jb(e,a,t,i)}else a=$X(r,e,t,i,n);return _w(a)}iM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ug(e.pendingLanes);r!==0&&(F4(e,r|1),As(e,mn()),!(er&6)&&(Wp=mn()+500,pd()))}break;case 13:Fh(function(){var n=vc(t,1);if(n!==null){var i=ns();vo(n,t,1,i)}}),y3(t,1)}};B4=function(t){if(t.tag===13){var e=vc(t,134217728);if(e!==null){var r=ns();vo(e,t,134217728,r)}y3(t,134217728)}};sM=function(t){if(t.tag===13){var e=qu(t),r=vc(t,e);if(r!==null){var n=ns();vo(r,t,e,n)}y3(t,e)}};aM=function(){return gr};oM=function(t,e){var r=gr;try{return gr=t,e()}finally{gr=r}};GA=function(t,e,r){switch(e){case"input":if(UA(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=qb(n);if(!i)throw Error(tt(90));F7(n),UA(n,i)}}}break;case"textarea":U7(t,r);break;case"select":e=r.value,e!=null&&vp(t,!!r.multiple,e,!1)}};G7=h3;K7=Fh;var VX={usingClientEntryPoint:!1,Events:[ly,sp,qb,W7,H7,h3]},yg={findFiberByHostInstance:ch,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zX={bundleType:yg.bundleType,version:yg.version,rendererPackageName:yg.rendererPackageName,rendererConfig:yg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=J7(t),t===null?null:t.stateNode},findFiberByHostInstance:yg.findFiberByHostInstance||UX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ov=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ov.isDisabled&&Ov.supportsFiber)try{Ub=Ov.inject(zX),ol=Ov}catch{}}ta.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VX;ta.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w3(e))throw Error(tt(200));return BX(t,e,null,r)};ta.createRoot=function(t,e){if(!w3(t))throw Error(tt(299));var r=!1,n="",i=CF;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=g3(t,1,!1,null,null,r,!1,n,i),t[yc]=e.current,T0(t.nodeType===8?t.parentNode:t),new v3(e)};ta.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(tt(188)):(t=Object.keys(t).join(","),Error(tt(268,t)));return t=J7(e),t=t===null?null:t.stateNode,t};ta.flushSync=function(t){return Fh(t)};ta.hydrate=function(t,e,r){if(!Zb(e))throw Error(tt(200));return ex(null,t,e,!0,r)};ta.hydrateRoot=function(t,e,r){if(!w3(t))throw Error(tt(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=CF;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=PF(e,null,t,1,r??null,i,!1,s,a),t[yc]=e.current,T0(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Qb(e)};ta.render=function(t,e,r){if(!Zb(e))throw Error(tt(200));return ex(null,t,e,!1,r)};ta.unmountComponentAtNode=function(t){if(!Zb(t))throw Error(tt(40));return t._reactRootContainer?(Fh(function(){ex(null,null,t,!1,function(){t._reactRootContainer=null,t[yc]=null})}),!0):!1};ta.unstable_batchedUpdates=h3;ta.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zb(r))throw Error(tt(200));if(t==null||t._reactInternals===void 0)throw Error(tt(38));return ex(t,e,r,!1,n)};ta.version="18.3.1-next-f1338f8080-20240426";function kF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kF)}catch(t){console.error(t)}}kF(),k7.exports=ta;var b3=k7.exports,IF,Bk=b3;IF=Bk.createRoot,Bk.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uk="popstate";function qX(t={}){function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return NS("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:D0(i)}return HX(e,r,null,t)}function Gr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WX(){return Math.random().toString(36).substring(2,10)}function $k(t,e){return{usr:t.state,key:t.key,idx:e}}function NS(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xm(e):e,state:r,key:e&&e.key||n||WX()}}function D0({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xm(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function HX(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function h(){o="POP";let w=u(),m=w==null?null:w-c;c=w,l&&l({action:o,location:g.location,delta:m})}function p(w,m){o="PUSH";let v=NS(g.location,w,m);c=u()+1;let x=$k(v,c),E=g.createHref(v);try{a.pushState(x,"",E)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(E)}s&&l&&l({action:o,location:g.location,delta:1})}function f(w,m){o="REPLACE";let v=NS(g.location,w,m);c=u();let x=$k(v,c),E=g.createHref(v);a.replaceState(x,"",E),s&&l&&l({action:o,location:g.location,delta:0})}function y(w){return GX(w)}let g={get action(){return o},get location(){return t(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Uk,h),l=w,()=>{i.removeEventListener(Uk,h),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let m=y(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:f,go(w){return a.go(w)}};return g}function GX(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Gr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:D0(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function jF(t,e,r="/"){return KX(t,e,r,!1)}function KX(t,e,r,n){let i=typeof e=="string"?xm(e):e,s=bc(i.pathname||"/",r);if(s==null)return null;let a=OF(t);YX(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=aJ(s);o=iJ(a[l],c,n)}return o}function OF(t,e=[],r=[],n="",i=!1){let s=(a,o,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;Gr(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let h=dc([n,u.relativePath]),p=r.concat(u);a.children&&a.children.length>0&&(Gr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),OF(a.children,e,p,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:rJ(h,a.index),routesMeta:p})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of RF(a.path))s(a,o,!0,c)}),e}function RF(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=RF(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function YX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:nJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var XX=/^:[\w-]+$/,JX=3,QX=2,ZX=1,eJ=10,tJ=-2,Vk=t=>t==="*";function rJ(t,e){let r=t.split("/"),n=r.length;return r.some(Vk)&&(n+=tJ),e&&(n+=QX),r.filter(i=>!Vk(i)).reduce((i,s)=>i+(XX.test(s)?JX:s===""?ZX:eJ),n)}function nJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function iJ(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=Ew({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=Ew({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:dc([s,h.pathname]),pathnameBase:uJ(dc([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=dc([s,h.pathnameBase]))}return a}function Ew(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=sJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:h},p)=>{if(u==="*"){let y=o[p]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const f=o[p];return h&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function sJ(t,e=!1,r=!0){bo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function aJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function bc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function oJ(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?xm(t):t;return{pathname:r?r.startsWith("/")?r:lJ(r,e):e,search:dJ(n),hash:hJ(i)}}function lJ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function z5(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function LF(t){let e=cJ(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function DF(t,e,r,n=!1){let i;typeof t=="string"?i=xm(t):(i={...t},Gr(!i.pathname||!i.pathname.includes("?"),z5("?","pathname","search",i)),Gr(!i.pathname||!i.pathname.includes("#"),z5("#","pathname","hash",i)),Gr(!i.search||!i.search.includes("#"),z5("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=oJ(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var dc=t=>t.join("/").replace(/\/\/+/g,"/"),uJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var MF=["POST","PUT","PATCH","DELETE"];new Set(MF);var pJ=["GET",...MF];new Set(pJ);var _m=R.createContext(null);_m.displayName="DataRouter";var tx=R.createContext(null);tx.displayName="DataRouterState";R.createContext(!1);var FF=R.createContext({isTransitioning:!1});FF.displayName="ViewTransition";var mJ=R.createContext(new Map);mJ.displayName="Fetchers";var gJ=R.createContext(null);gJ.displayName="Await";var El=R.createContext(null);El.displayName="Navigation";var uy=R.createContext(null);uy.displayName="Location";var kc=R.createContext({outlet:null,matches:[],isDataRoute:!1});kc.displayName="Route";var x3=R.createContext(null);x3.displayName="RouteError";function yJ(t,{relative:e}={}){Gr(dy(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=R.useContext(El),{hash:i,pathname:s,search:a}=hy(t,{relative:e}),o=s;return r!=="/"&&(o=s==="/"?r:dc([r,s])),n.createHref({pathname:o,search:a,hash:i})}function dy(){return R.useContext(uy)!=null}function Ic(){return Gr(dy(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(uy).location}var BF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UF(t){R.useContext(El).static||R.useLayoutEffect(t)}function _3(){let{isDataRoute:t}=R.useContext(kc);return t?kJ():vJ()}function vJ(){Gr(dy(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(_m),{basename:e,navigator:r}=R.useContext(El),{matches:n}=R.useContext(kc),{pathname:i}=Ic(),s=JSON.stringify(LF(n)),a=R.useRef(!1);return UF(()=>{a.current=!0}),R.useCallback((l,c={})=>{if(bo(a.current,BF),!a.current)return;if(typeof l=="number"){r.go(l);return}let u=DF(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:dc([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,s,i,t])}R.createContext(null);function hy(t,{relative:e}={}){let{matches:r}=R.useContext(kc),{pathname:n}=Ic(),i=JSON.stringify(LF(r));return R.useMemo(()=>DF(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function wJ(t,e){return $F(t,e)}function $F(t,e,r,n,i){var v;Gr(dy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(El),{matches:a}=R.useContext(kc),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let x=h&&h.path||"";VF(c,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=Ic(),f;if(e){let x=typeof e=="string"?xm(e):e;Gr(u==="/"||((v=x.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),f=x}else f=p;let y=f.pathname||"/",g=y;if(u!=="/"){let x=u.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=jF(t,{pathname:g});bo(h||w!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),bo(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=AJ(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:dc([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:dc([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n,i);return e&&m?R.createElement(uy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},m):m}function bJ(){let t=CJ(),e=fJ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),r?R.createElement("pre",{style:i},r):null,a)}var xJ=R.createElement(bJ,null),_J=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(kc.Provider,{value:this.props.routeContext},R.createElement(x3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EJ({routeContext:t,match:e,children:r}){let n=R.useContext(_m);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(kc.Provider,{value:t},r)}function AJ(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,a=r==null?void 0:r.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Gr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:h,errors:p}=r,f=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||f){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,h)=>{let p,f=!1,y=null,g=null;r&&(p=a&&u.route.id?a[u.route.id]:void 0,y=u.route.errorElement||xJ,o&&(l<0&&h===0?(VF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,g=null):l===h&&(f=!0,g=u.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,h+1)),m=()=>{let v;return p?v=y:f?v=g:u.route.Component?v=R.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=c,R.createElement(EJ,{match:u,routeContext:{outlet:c,matches:w,isDataRoute:r!=null},children:v})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?R.createElement(_J,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:m(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):m()},null)}function E3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SJ(t){let e=R.useContext(_m);return Gr(e,E3(t)),e}function NJ(t){let e=R.useContext(tx);return Gr(e,E3(t)),e}function TJ(t){let e=R.useContext(kc);return Gr(e,E3(t)),e}function A3(t){let e=TJ(t),r=e.matches[e.matches.length-1];return Gr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function PJ(){return A3("useRouteId")}function CJ(){var n;let t=R.useContext(x3),e=NJ("useRouteError"),r=A3("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function kJ(){let{router:t}=SJ("useNavigate"),e=A3("useNavigate"),r=R.useRef(!1);return UF(()=>{r.current=!0}),R.useCallback(async(i,s={})=>{bo(r.current,BF),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var zk={};function VF(t,e,r){!e&&!zk[t]&&(zk[t]=!0,bo(!1,r))}R.memo(IJ);function IJ({routes:t,future:e,state:r,unstable_onError:n}){return $F(t,void 0,r,n,e)}function TS(t){Gr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jJ({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Gr(!dy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=R.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=xm(r));let{pathname:l="/",search:c="",hash:u="",state:h=null,key:p="default"}=r,f=R.useMemo(()=>{let y=bc(l,a);return y==null?null:{location:{pathname:y,search:c,hash:u,state:h,key:p},navigationType:n}},[a,l,c,u,h,p,n]);return bo(f!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:R.createElement(El.Provider,{value:o},R.createElement(uy.Provider,{children:e,value:f}))}function OJ({children:t,location:e}){return wJ(PS(t),e)}function PS(t,e=[]){let r=[];return R.Children.forEach(t,(n,i)=>{if(!R.isValidElement(n))return;let s=[...e,i];if(n.type===R.Fragment){r.push.apply(r,PS(n.props.children,s));return}Gr(n.type===TS,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=PS(n.props.children,s)),r.push(a)}),r}var k1="get",I1="application/x-www-form-urlencoded";function rx(t){return t!=null&&typeof t.tagName=="string"}function RJ(t){return rx(t)&&t.tagName.toLowerCase()==="button"}function LJ(t){return rx(t)&&t.tagName.toLowerCase()==="form"}function DJ(t){return rx(t)&&t.tagName.toLowerCase()==="input"}function MJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FJ(t,e){return t.button===0&&(!e||e==="_self")&&!MJ(t)}function CS(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function BJ(t,e){let r=CS(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}var Rv=null;function UJ(){if(Rv===null)try{new FormData(document.createElement("form"),0),Rv=!1}catch{Rv=!0}return Rv}var $J=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function q5(t){return t!=null&&!$J.has(t)?(bo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${I1}"`),null):t}function VJ(t,e){let r,n,i,s,a;if(LJ(t)){let o=t.getAttribute("action");n=o?bc(o,e):null,r=t.getAttribute("method")||k1,i=q5(t.getAttribute("enctype"))||I1,s=new FormData(t)}else if(RJ(t)||DJ(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?bc(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||k1,i=q5(t.getAttribute("formenctype"))||q5(o.getAttribute("enctype"))||I1,s=new FormData(o,t),!UJ()){let{name:c,type:u,value:h}=t;if(u==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,h)}}else{if(rx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=k1,n=null,i=I1,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function S3(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zJ(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&bc(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function qJ(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WJ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function HJ(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await qJ(s,r);return a.links?a.links():[]}return[]}));return XJ(n.flat(1).filter(WJ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qk(t,e,r,n,i,s){let a=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var h;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function GJ(t,e,{includeHydrateFallback:r}={}){return KJ(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function KJ(t){return[...new Set(t)]}function YJ(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function XJ(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(YJ(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function zF(){let t=R.useContext(_m);return S3(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JJ(){let t=R.useContext(tx);return S3(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var N3=R.createContext(void 0);N3.displayName="FrameworkContext";function qF(){let t=R.useContext(N3);return S3(t,"You must render this element inside a <HydratedRouter> element"),t}function QJ(t,e){let r=R.useContext(N3),[n,i]=R.useState(!1),[s,a]=R.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=e,p=R.useRef(null);R.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let g=m=>{m.forEach(v=>{a(v.isIntersecting)})},w=new IntersectionObserver(g,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[t]),R.useEffect(()=>{if(n){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[n]);let f=()=>{i(!0)},y=()=>{i(!1),a(!1)};return r?t!=="intent"?[s,p,{}]:[s,p,{onFocus:vg(o,f),onBlur:vg(l,y),onMouseEnter:vg(c,f),onMouseLeave:vg(u,y),onTouchStart:vg(h,f)}]:[!1,p,{}]}function vg(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function ZJ({page:t,...e}){let{router:r}=zF(),n=R.useMemo(()=>jF(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?R.createElement(tQ,{page:t,matches:n,...e}):null}function eQ(t){let{manifest:e,routeModules:r}=qF(),[n,i]=R.useState([]);return R.useEffect(()=>{let s=!1;return HJ(t,e,r).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,r]),n}function tQ({page:t,matches:e,...r}){let n=Ic(),{manifest:i,routeModules:s}=qF(),{basename:a}=zF(),{loaderData:o,matches:l}=JJ(),c=R.useMemo(()=>qk(t,e,l,i,n,"data"),[t,e,l,i,n]),u=R.useMemo(()=>qk(t,e,l,i,n,"assets"),[t,e,l,i,n]),h=R.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,g=!1;if(e.forEach(m=>{var x;let v=i.routes[m.route.id];!v||!v.hasLoader||(!c.some(E=>E.route.id===m.route.id)&&m.route.id in o&&((x=s[m.route.id])!=null&&x.shouldRevalidate)||v.hasClientLoader?g=!0:y.add(m.route.id))}),y.size===0)return[];let w=zJ(t,a,"data");return g&&y.size>0&&w.searchParams.set("_routes",e.filter(m=>y.has(m.route.id)).map(m=>m.route.id).join(",")),[w.pathname+w.search]},[a,o,n,i,c,e,t,s]),p=R.useMemo(()=>GJ(u,i),[u,i]),f=eQ(u);return R.createElement(R.Fragment,null,h.map(y=>R.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>R.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),f.map(({key:y,link:g})=>R.createElement("link",{key:y,nonce:r.nonce,...g})))}function rQ(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var WF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WF&&(window.__reactRouterVersion="7.8.2")}catch{}function nQ({basename:t,children:e,window:r}){let n=R.useRef();n.current==null&&(n.current=qX({window:r,v5Compat:!0}));let i=n.current,[s,a]=R.useState({action:i.action,location:i.location}),o=R.useCallback(l=>{R.startTransition(()=>a(l))},[a]);return R.useLayoutEffect(()=>i.listen(o),[i,o]),R.createElement(jJ,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var HF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GF=R.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:h,...p},f){let{basename:y}=R.useContext(El),g=typeof c=="string"&&HF.test(c),w,m=!1;if(typeof c=="string"&&g&&(w=c,WF))try{let T=new URL(window.location.href),q=c.startsWith("//")?new URL(T.protocol+c):new URL(c),M=bc(q.pathname,y);q.origin===T.origin&&M!=null?c=M+q.search+q.hash:m=!0}catch{bo(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=yJ(c,{relative:i}),[x,E,N]=QJ(n,p),C=oQ(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:h});function P(T){e&&e(T),T.defaultPrevented||C(T)}let k=R.createElement("a",{...p,...N,href:w||v,onClick:m||s?e:P,ref:rQ(f,E),target:l,"data-discover":!g&&r==="render"?"true":void 0});return x&&!g?R.createElement(R.Fragment,null,k,R.createElement(ZJ,{page:v})):k});GF.displayName="Link";var iQ=R.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let h=hy(a,{relative:c.relative}),p=Ic(),f=R.useContext(tx),{navigator:y,basename:g}=R.useContext(El),w=f!=null&&fQ(h)&&o===!0,m=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,v=p.pathname,x=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(v=v.toLowerCase(),x=x?x.toLowerCase():null,m=m.toLowerCase()),x&&g&&(x=bc(x,g)||x);const E=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let N=v===m||!i&&v.startsWith(m)&&v.charAt(E)==="/",C=x!=null&&(x===m||!i&&x.startsWith(m)&&x.charAt(m.length)==="/"),P={isActive:N,isPending:C,isTransitioning:w},k=N?e:void 0,T;typeof n=="function"?T=n(P):T=[n,N?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(P):s;return R.createElement(GF,{...c,"aria-current":k,className:T,ref:u,style:q,to:a,viewTransition:o},typeof l=="function"?l(P):l)});iQ.displayName="NavLink";var sQ=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:a=k1,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:h,...p},f)=>{let y=dQ(),g=hQ(o,{relative:c}),w=a.toLowerCase()==="get"?"get":"post",m=typeof o=="string"&&HF.test(o),v=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let E=x.nativeEvent.submitter,N=(E==null?void 0:E.getAttribute("formmethod"))||a;y(E||x.currentTarget,{fetcherKey:e,method:N,navigate:r,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:h})};return R.createElement("form",{ref:f,method:w,action:g,onSubmit:n?l:v,...p,"data-discover":!m&&t==="render"?"true":void 0})});sQ.displayName="Form";function aQ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KF(t){let e=R.useContext(_m);return Gr(e,aQ(t)),e}function oQ(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=_3(),l=Ic(),c=hy(t,{relative:s});return R.useCallback(u=>{if(FJ(u,e)){u.preventDefault();let h=r!==void 0?r:D0(l)===D0(c);o(t,{replace:h,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,r,n,e,t,i,s,a])}function lQ(t){bo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(CS(t)),r=R.useRef(!1),n=Ic(),i=R.useMemo(()=>BJ(n.search,r.current?null:e.current),[n.search]),s=_3(),a=R.useCallback((o,l)=>{const c=CS(typeof o=="function"?o(new URLSearchParams(i)):o);r.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var cQ=0,uQ=()=>`__${String(++cQ)}__`;function dQ(){let{router:t}=KF("useSubmit"),{basename:e}=R.useContext(El),r=PJ();return R.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=VJ(n,e);if(i.navigate===!1){let u=i.fetcherKey||uQ();await t.fetch(u,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function hQ(t,{relative:e}={}){let{basename:r}=R.useContext(El),n=R.useContext(kc);Gr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...hy(t||".",{relative:e})},a=Ic();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:dc([r,s.pathname])),D0(s)}function fQ(t,{relative:e}={}){let r=R.useContext(FF);Gr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=KF("useViewTransitionState"),i=hy(t,{relative:e});if(!r.isTransitioning)return!1;let s=bc(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=bc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ew(i.pathname,a)!=null||Ew(i.pathname,s)!=null}const pQ=()=>{};var Wk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},mQ=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},XF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|o>>4;let p=(o&15)<<2|c>>6,f=c&63;l||(f=64,a||(p=64)),n.push(r[u],r[h],r[p],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||h==null)throw new gQ;const p=s<<2|o>>4;if(n.push(p),c!==64){const f=o<<4&240|c>>2;if(n.push(f),h!==64){const y=c<<6&192|h;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yQ=function(t){const e=YF(t);return XF.encodeByteArray(e,!0)},Aw=function(t){return yQ(t).replace(/\./g,"")},JF=function(t){try{return XF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=()=>vQ().__FIREBASE_DEFAULTS__,bQ=()=>{if(typeof process>"u"||typeof Wk>"u")return;const t=Wk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JF(t[1]);return e&&JSON.parse(e)},nx=()=>{try{return pQ()||wQ()||bQ()||xQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QF=t=>{var e,r;return(r=(e=nx())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},_Q=t=>{const e=QF(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},ZF=()=>{var t;return(t=nx())==null?void 0:t.config},e9=t=>{var e;return(e=nx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t9(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Aw(JSON.stringify(r)),Aw(JSON.stringify(a)),""].join(".")}const s0={};function SQ(){const t={prod:[],emulator:[]};for(const e of Object.keys(s0))s0[e]?t.emulator.push(e):t.prod.push(e);return t}function NQ(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let Hk=!1;function r9(t,e){if(typeof window>"u"||typeof document>"u"||!Em(window.location.host)||s0[t]===e||s0[t]||Hk)return;s0[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",s=SQ().prod.length>0;function a(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,f){p.setAttribute("width","24"),p.setAttribute("id",f),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Hk=!0,a()},p}function u(p,f){p.setAttribute("id",f),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=NQ(n),f=r("text"),y=document.getElementById(f)||document.createElement("span"),g=r("learnmore"),w=document.getElementById(g)||document.createElement("a"),m=r("preprendIcon"),v=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;o(x),u(w,g);const E=c();l(v,m),x.append(v,y,w,E),document.body.appendChild(x)}s?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zi())}function PQ(){var e;const t=(e=nx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IQ(){const t=zi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jQ(){return!PQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i9(){try{return typeof indexedDB=="object"}catch{return!1}}function s9(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}function OQ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ="FirebaseError";class No extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=RQ,Object.setPrototypeOf(this,No.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qh.prototype.create)}}class Qh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?LQ(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new No(i,o,n)}}function LQ(t,e){return t.replace(DQ,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const DQ=/\{\$([^}]+)}/g;function MQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rd(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(Gk(s)&&Gk(a)){if(!rd(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Gk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Vg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zg(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function FQ(t,e){const r=new BQ(t,e);return r.subscribe.bind(r)}class BQ{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");UQ(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=W5),i.error===void 0&&(i.error=W5),i.complete===void 0&&(i.complete=W5);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UQ(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function W5(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=1e3,VQ=2,zQ=4*60*60*1e3,qQ=.5;function Kk(t,e=$Q,r=VQ){const n=e*Math.pow(r,t),i=Math.round(qQ*n*(Math.random()-.5)*2);return Math.min(zQ,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class xo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WQ=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new EQ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GQ(e))try{this.getOrInitializeService({instanceIdentifier:th})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=th){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=th){return this.instances.has(e)}getOptions(e=th){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:HQ(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=th){return this.component?this.component.multipleInstances?e:th:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HQ(t){return t===th?void 0:t}function GQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new WQ(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Wt||(Wt={}));const YQ={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},XQ=Wt.INFO,JQ={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},QQ=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=JQ[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ix{constructor(e){this.name=e,this._logLevel=XQ,this._logHandler=QQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const ZQ=(t,e)=>e.some(r=>t instanceof r);let Yk,Xk;function eZ(){return Yk||(Yk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tZ(){return Xk||(Xk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a9=new WeakMap,kS=new WeakMap,o9=new WeakMap,H5=new WeakMap,T3=new WeakMap;function rZ(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Hu(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&a9.set(r,t)}).catch(()=>{}),T3.set(e,t),e}function nZ(t){if(kS.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});kS.set(t,e)}let IS={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return kS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o9.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Hu(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iZ(t){IS=t(IS)}function sZ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(G5(this),e,...r);return o9.set(n,e.sort?e.sort():[e]),Hu(n)}:tZ().includes(t)?function(...e){return t.apply(G5(this),e),Hu(a9.get(this))}:function(...e){return Hu(t.apply(G5(this),e))}}function aZ(t){return typeof t=="function"?sZ(t):(t instanceof IDBTransaction&&nZ(t),ZQ(t,eZ())?new Proxy(t,IS):t)}function Hu(t){if(t instanceof IDBRequest)return rZ(t);if(H5.has(t))return H5.get(t);const e=aZ(t);return e!==t&&(H5.set(t,e),T3.set(e,t)),e}const G5=t=>T3.get(t);function l9(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Hu(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Hu(a.result),l.oldVersion,l.newVersion,Hu(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const oZ=["get","getKey","getAll","getAllKeys","count"],lZ=["put","add","delete","clear"],K5=new Map;function Jk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(K5.get(e))return K5.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=lZ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||oZ.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return K5.set(e,s),s}iZ(t=>({...t,get:(e,r,n)=>Jk(e,r)||t.get(e,r,n),has:(e,r)=>!!Jk(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(uZ(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function uZ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jS="@firebase/app",Qk="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new ix("@firebase/app"),dZ="@firebase/app-compat",hZ="@firebase/analytics-compat",fZ="@firebase/analytics",pZ="@firebase/app-check-compat",mZ="@firebase/app-check",gZ="@firebase/auth",yZ="@firebase/auth-compat",vZ="@firebase/database",wZ="@firebase/data-connect",bZ="@firebase/database-compat",xZ="@firebase/functions",_Z="@firebase/functions-compat",EZ="@firebase/installations",AZ="@firebase/installations-compat",SZ="@firebase/messaging",NZ="@firebase/messaging-compat",TZ="@firebase/performance",PZ="@firebase/performance-compat",CZ="@firebase/remote-config",kZ="@firebase/remote-config-compat",IZ="@firebase/storage",jZ="@firebase/storage-compat",OZ="@firebase/firestore",RZ="@firebase/ai",LZ="@firebase/firestore-compat",DZ="firebase",MZ="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="[DEFAULT]",FZ={[jS]:"fire-core",[dZ]:"fire-core-compat",[fZ]:"fire-analytics",[hZ]:"fire-analytics-compat",[mZ]:"fire-app-check",[pZ]:"fire-app-check-compat",[gZ]:"fire-auth",[yZ]:"fire-auth-compat",[vZ]:"fire-rtdb",[wZ]:"fire-data-connect",[bZ]:"fire-rtdb-compat",[xZ]:"fire-fn",[_Z]:"fire-fn-compat",[EZ]:"fire-iid",[AZ]:"fire-iid-compat",[SZ]:"fire-fcm",[NZ]:"fire-fcm-compat",[TZ]:"fire-perf",[PZ]:"fire-perf-compat",[CZ]:"fire-rc",[kZ]:"fire-rc-compat",[IZ]:"fire-gcs",[jZ]:"fire-gcs-compat",[OZ]:"fire-fst",[LZ]:"fire-fst-compat",[RZ]:"fire-vertex","fire-js":"fire-js",[DZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Map,BZ=new Map,RS=new Map;function Zk(t,e){try{t.container.addComponent(e)}catch(r){xc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function yl(t){const e=t.name;if(RS.has(e))return xc.debug(`There were multiple attempts to register component ${e}.`),!1;RS.set(e,t);for(const r of Sw.values())Zk(r,t);for(const r of BZ.values())Zk(r,t);return!0}function Zh(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function _a(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gu=new Qh("app","Firebase",UZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Z{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=MZ;function c9(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:OS,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Gu.create("bad-app-name",{appName:String(i)});if(r||(r=ZF()),!r)throw Gu.create("no-options");const s=Sw.get(i);if(s){if(rd(r,s.options)&&rd(n,s.config))return s;throw Gu.create("duplicate-app",{appName:i})}const a=new KQ(i);for(const l of RS.values())a.addComponent(l);const o=new $Z(r,n,a);return Sw.set(i,o),o}function P3(t=OS){const e=Sw.get(t);if(!e&&t===OS&&ZF())return c9();if(!e)throw Gu.create("no-app",{appName:t});return e}function Na(t,e,r){let n=FZ[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xc.warn(a.join(" "));return}yl(new xo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ="firebase-heartbeat-database",zZ=1,M0="firebase-heartbeat-store";let Y5=null;function u9(){return Y5||(Y5=l9(VZ,zZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(M0)}catch(r){console.warn(r)}}}}).catch(t=>{throw Gu.create("idb-open",{originalErrorMessage:t.message})})),Y5}async function qZ(t){try{const r=(await u9()).transaction(M0),n=await r.objectStore(M0).get(d9(t));return await r.done,n}catch(e){if(e instanceof No)xc.warn(e.message);else{const r=Gu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xc.warn(r.message)}}}async function eI(t,e){try{const n=(await u9()).transaction(M0,"readwrite");await n.objectStore(M0).put(e,d9(t)),await n.done}catch(r){if(r instanceof No)xc.warn(r.message);else{const n=Gu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});xc.warn(n.message)}}}function d9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZ=1024,HZ=30;class GZ{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new YZ(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>HZ){const a=XZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){xc.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=tI(),{heartbeatsToSend:n,unsentEntries:i}=KZ(this._heartbeatsCache.heartbeats),s=Aw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return xc.warn(r),""}}}function tI(){return new Date().toISOString().substring(0,10)}function KZ(t,e=WZ){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),rI(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),rI(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class YZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i9()?s9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await qZ(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return eI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return eI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function rI(t){return Aw(JSON.stringify({version:2,heartbeats:t})).length}function XZ(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(t){yl(new xo("platform-logger",e=>new cZ(e),"PRIVATE")),yl(new xo("heartbeat",e=>new GZ(e),"PRIVATE")),Na(jS,Qk,t),Na(jS,Qk,"esm2020"),Na("fire-js","")}JZ("");function h9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QZ=h9,f9=new Qh("auth","Firebase",h9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new ix("@firebase/auth");function ZZ(t,...e){Nw.logLevel<=Wt.WARN&&Nw.warn(`Auth (${Am}): ${t}`,...e)}function j1(t,...e){Nw.logLevel<=Wt.ERROR&&Nw.error(`Auth (${Am}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,...e){throw C3(t,...e)}function cl(t,...e){return C3(t,...e)}function p9(t,e,r){const n={...QZ(),[e]:r};return new Qh("auth","Firebase",n).create(e,{appName:t.name})}function hc(t){return p9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C3(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return f9.create(t,...e)}function Tt(t,e,...r){if(!t)throw C3(e,...r)}function ic(t){const e="INTERNAL ASSERTION FAILED: "+t;throw j1(e),new Error(e)}function _c(t,e){t||ic(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function eee(){return nI()==="http:"||nI()==="https:"}function nI(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eee()||n9()||"connection"in navigator)?navigator.onLine:!0}function ree(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,r){this.shortDelay=e,this.longDelay=r,_c(r>e,"Short delay should be less than long delay!"),this.isMobile=TQ()||kQ()}get(){return tee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t,e){_c(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ic("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ic("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ic("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],see=new py(3e4,6e4);function md(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gd(t,e,r,n,i={}){return g9(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=fy({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return CQ()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Em(t.emulatorConfig.host)&&(c.credentials="include"),m9.fetch()(await y9(t,t.config.apiHost,r,o),c)})}async function g9(t,e,r){t._canInitEmulator=!1;const n={...nee,...e};try{const i=new oee(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Lv(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lv(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Lv(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Lv(t,"user-disabled",a);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw p9(t,u,c);_o(t,u)}}catch(i){if(i instanceof No)throw i;_o(t,"network-request-failed",{message:String(i)})}}async function my(t,e,r,n,i={}){const s=await gd(t,e,r,n,i);return"mfaPendingCredential"in s&&_o(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function y9(t,e,r,n){const i=`${e}${r}?${n}`,s=t,a=s.config.emulator?k3(t.config,i):`${t.config.apiScheme}://${i}`;return iee.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function aee(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oee{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(cl(this.auth,"network-request-failed")),see.get())})}}function Lv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=cl(t,e,n);return i.customData._tokenResponse=r,i}function iI(t){return t!==void 0&&t.enterprise!==void 0}class lee{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return aee(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cee(t,e){return gd(t,"GET","/v2/recaptchaConfig",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uee(t,e){return gd(t,"POST","/v1/accounts:delete",e)}async function Tw(t,e){return gd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dee(t,e=!1){const r=ln(t),n=await r.getIdToken(e),i=I3(n);Tt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:a0(X5(i.auth_time)),issuedAtTime:a0(X5(i.iat)),expirationTime:a0(X5(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function X5(t){return Number(t)*1e3}function I3(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return j1("JWT malformed, contained fewer than 3 sections"),null;try{const i=JF(r);return i?JSON.parse(i):(j1("Failed to decode base64 JWT payload"),null)}catch(i){return j1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sI(t){const e=I3(t);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof No&&hee(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function hee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=a0(this.lastLoginAt),this.creationTime=a0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pw(t){var h;const e=t.auth,r=await t.getIdToken(),n=await F0(t,Tw(e,{idToken:r}));Tt(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?v9(i.providerUserInfo):[],a=mee(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new DS(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function pee(t){const e=ln(t);await Pw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mee(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function v9(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gee(t,e){const r=await g9(t,{},async()=>{const n=fy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await y9(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&Em(t.emulatorConfig.host)&&(l.credentials="include"),m9.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function yee(t,e){return gd(t,"POST","/v2/accounts:revokeToken",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const r=sI(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await gee(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Ap;return n&&(Tt(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Tt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Tt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ap,this.toJSON())}_performRefresh(){return ic("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t,e){Tt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mo{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new fee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new DS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await F0(this,this.stsTokenManager.getToken(this.auth,e));return Tt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return dee(this,e)}reload(){return pee(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new mo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Pw(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_a(this.auth.app))return Promise.reject(hc(this.auth));const e=await this.getIdToken();return await F0(this,uee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,a=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:f,providerData:y,stsTokenManager:g}=r;Tt(h&&g,e,"internal-error");const w=Ap.fromJSON(this.name,g);Tt(typeof h=="string",e,"internal-error"),pu(n,e.name),pu(i,e.name),Tt(typeof p=="boolean",e,"internal-error"),Tt(typeof f=="boolean",e,"internal-error"),pu(s,e.name),pu(a,e.name),pu(o,e.name),pu(l,e.name),pu(c,e.name),pu(u,e.name);const m=new mo({uid:h,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:f,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:w,createdAt:c,lastLoginAt:u});return y&&Array.isArray(y)&&(m.providerData=y.map(v=>({...v}))),l&&(m._redirectEventId=l),m}static async _fromIdTokenResponse(e,r,n=!1){const i=new Ap;i.updateFromServerResponse(r);const s=new mo({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Pw(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Tt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?v9(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Ap;o.updateFromIdToken(n);const l=new mo({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new DS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Map;function sc(t){_c(t instanceof Function,"Expected a class definition");let e=aI.get(t);return e?(_c(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}w9.type="NONE";const oI=w9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e,r){return`firebase:${t}:${e}:${r}`}class Sp{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=O1(this.userKey,i.apiKey,s),this.fullPersistenceKey=O1("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Tw(this.auth,{idToken:e}).catch(()=>{});return r?mo._fromGetAccountInfoResponse(this.auth,r,e):null}return mo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Sp(sc(oI),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||sc(oI);const a=O1(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const u=await c._get(a);if(u){let h;if(typeof u=="string"){const p=await Tw(e,{idToken:u}).catch(()=>{});if(!p)break;h=await mo._fromGetAccountInfoResponse(e,p,u)}else h=mo._fromJSON(e,u);c!==s&&(o=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sp(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Sp(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S9(e))return"Blackberry";if(N9(e))return"Webos";if(x9(e))return"Safari";if((e.includes("chrome/")||_9(e))&&!e.includes("edge/"))return"Chrome";if(A9(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function b9(t=zi()){return/firefox\//i.test(t)}function x9(t=zi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _9(t=zi()){return/crios\//i.test(t)}function E9(t=zi()){return/iemobile/i.test(t)}function A9(t=zi()){return/android/i.test(t)}function S9(t=zi()){return/blackberry/i.test(t)}function N9(t=zi()){return/webos/i.test(t)}function j3(t=zi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vee(t=zi()){var e;return j3(t)&&!!((e=window.navigator)!=null&&e.standalone)}function wee(){return IQ()&&document.documentMode===10}function T9(t=zi()){return j3(t)||A9(t)||N9(t)||S9(t)||/windows phone/i.test(t)||E9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t,e=[]){let r;switch(t){case"Browser":r=lI(zi());break;case"Worker":r=`${lI(zi())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Am}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xee(t,e={}){return gd(t,"GET","/v2/passwordPolicy",md(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=6;class Eee{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??_ee,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cI(this),this.idTokenSubscription=new cI(this),this.beforeStateQueue=new bee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=sc(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await Sp.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Tw(this,{idToken:e}),n=await mo._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(_a(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Pw(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ree()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_a(this.app))return Promise.reject(hc(this));const r=e?ln(e):null;return r&&Tt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _a(this.app)?Promise.reject(hc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _a(this.app)?Promise.reject(hc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xee(this),r=new Eee(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await yee(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&sc(e)||this._popupRedirectResolver;Tt(r,this,"argument-error"),this.redirectPersistenceManager=await Sp.create(this,[sc(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(_a(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&ZZ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ef(t){return ln(t)}class cI{constructor(e){this.auth=e,this.observer=null,this.addObserver=FQ(r=>this.observer=r)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function See(t){sx=t}function C9(t){return sx.loadJS(t)}function Nee(){return sx.recaptchaEnterpriseScript}function Tee(){return sx.gapiScript}function Pee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Cee{constructor(){this.enterprise=new kee}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class kee{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Iee="recaptcha-enterprise",k9="NO_RECAPTCHA";class jee{constructor(e){this.type=Iee,this.auth=ef(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{cee(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new lee(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;iI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(k9)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Cee().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&iI(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Nee();l.length!==0&&(l+=o),C9(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function uI(t,e,r,n=!1,i=!1){const s=new jee(t);let a;if(i)a=k9;else try{a=await s.verify(r)}catch{a=await s.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function MS(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await uI(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await uI(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(t,e){const r=Zh(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(rd(s,e??{}))return i;_o(i,"already-initialized")}return r.initialize({options:e})}function Ree(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(sc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Lee(t,e,r){const n=ef(t);Tt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),s=I9(e),{host:a,port:o}=Dee(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Tt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Tt(rd(c,n.config.emulator)&&rd(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,Em(a)?(t9(`${s}//${a}${l}`),r9("Auth",!0)):Mee()}function I9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Dee(t){const e=I9(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:dI(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:dI(a)}}}function dI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Mee(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ic("not implemented")}_getIdTokenResponse(e){return ic("not implemented")}_linkToIdToken(e,r){return ic("not implemented")}_getReauthenticationResolver(e){return ic("not implemented")}}async function Fee(t,e){return gd(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bee(t,e){return my(t,"POST","/v1/accounts:signInWithPassword",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uee(t,e){return my(t,"POST","/v1/accounts:signInWithEmailLink",md(t,e))}async function $ee(t,e){return my(t,"POST","/v1/accounts:signInWithEmailLink",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends O3{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new B0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new B0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return MS(e,r,"signInWithPassword",Bee);case"emailLink":return Uee(e,{email:this._email,oobCode:this._password});default:_o(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return MS(e,n,"signUpPassword",Fee);case"emailLink":return $ee(e,{idToken:r,email:this._email,oobCode:this._password});default:_o(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Np(t,e){return my(t,"POST","/v1/accounts:signInWithIdp",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vee="http://localhost";class Bh extends O3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Bh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):_o("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const a=new Bh(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Np(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Np(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Np(e,r)}buildRequest(){const e={requestUri:Vee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=fy(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qee(t){const e=Vg(zg(t)).link,r=e?Vg(zg(e)).deep_link_id:null,n=Vg(zg(t)).deep_link_id;return(n?Vg(zg(n)).link:null)||n||r||e||t}class R3{constructor(e){const r=Vg(zg(e)),n=r.apiKey??null,i=r.oobCode??null,s=zee(r.mode??null);Tt(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=qee(e);try{return new R3(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.providerId=Sm.PROVIDER_ID}static credential(e,r){return B0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=R3.parseLink(r);return Tt(n,"argument-error"),B0._fromEmailAndCode(e,n.code,n.tenantId)}}Sm.PROVIDER_ID="password";Sm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends j9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends gy{constructor(){super("facebook.com")}static credential(e){return Bh._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pu.credential(e.oauthAccessToken)}catch{return null}}}Pu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends gy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Bh._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Cu.credential(r,n)}catch{return null}}}Cu.GOOGLE_SIGN_IN_METHOD="google.com";Cu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends gy{constructor(){super("github.com")}static credential(e){return Bh._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ku.credential(e.oauthAccessToken)}catch{return null}}}ku.GITHUB_SIGN_IN_METHOD="github.com";ku.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends gy{constructor(){super("twitter.com")}static credential(e,r){return Bh._fromParams({providerId:Iu.PROVIDER_ID,signInMethod:Iu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Iu.credentialFromTaggedObject(e)}static credentialFromError(e){return Iu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Iu.credential(r,n)}catch{return null}}}Iu.TWITTER_SIGN_IN_METHOD="twitter.com";Iu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wee(t,e){return my(t,"POST","/v1/accounts:signUp",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await mo._fromIdTokenResponse(e,n,i),a=hI(n);return new Uh({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=hI(n);return new Uh({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function hI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends No{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Cw.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Cw(e,r,n,i)}}function O9(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cw._fromErrorAndOperation(t,s,e,n):s})}async function Hee(t,e,r=!1){const n=await F0(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Uh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gee(t,e,r=!1){const{auth:n}=t;if(_a(n.app))return Promise.reject(hc(n));const i="reauthenticate";try{const s=await F0(t,O9(n,i,e,t),r);Tt(s.idToken,n,"internal-error");const a=I3(s.idToken);Tt(a,n,"internal-error");const{sub:o}=a;return Tt(t.uid===o,n,"user-mismatch"),Uh._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_o(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(t,e,r=!1){if(_a(t.app))return Promise.reject(hc(t));const n="signIn",i=await O9(t,n,e),s=await Uh._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function Kee(t,e){return R9(ef(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(t){const e=ef(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Yee(t,e,r){if(_a(t.app))return Promise.reject(hc(t));const n=ef(t),a=await MS(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wee).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&L9(t),l}),o=await Uh._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function Xee(t,e,r){return _a(t.app)?Promise.reject(hc(t)):Kee(ln(t),Sm.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&L9(t),n})}function Jee(t,e,r,n){return ln(t).onIdTokenChanged(e,r,n)}function Qee(t,e,r){return ln(t).beforeAuthStateChanged(e,r)}function Zee(t,e,r,n){return ln(t).onAuthStateChanged(e,r,n)}function ete(t){return ln(t).signOut()}const kw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(kw,"1"),this.storage.removeItem(kw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tte=1e3,rte=10;class M9 extends D9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);wee()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rte):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},tte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}M9.type="LOCAL";const nte=M9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9 extends D9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}F9.type="SESSION";const B9=F9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ite(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new ax(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async c=>c(r.origin,s)),l=await ite(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ax.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=L3("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(){return window}function ate(t){ul().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(){return typeof ul().WorkerGlobalScope<"u"&&typeof ul().importScripts=="function"}async function ote(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lte(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function cte(){return U9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="firebaseLocalStorageDb",ute=1,Iw="firebaseLocalStorage",V9="fbase_key";class yy{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ox(t,e){return t.transaction([Iw],e?"readwrite":"readonly").objectStore(Iw)}function dte(){const t=indexedDB.deleteDatabase($9);return new yy(t).toPromise()}function FS(){const t=indexedDB.open($9,ute);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Iw,{keyPath:V9})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Iw)?e(n):(n.close(),await dte(),e(await FS()))})})}async function fI(t,e,r){const n=ox(t,!0).put({[V9]:e,value:r});return new yy(n).toPromise()}async function hte(t,e){const r=ox(t,!1).get(e),n=await new yy(r).toPromise();return n===void 0?null:n.value}function pI(t,e){const r=ox(t,!0).delete(e);return new yy(r).toPromise()}const fte=800,pte=3;class z9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await FS(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>pte)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ax._getInstance(cte()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await ote(),!this.activeServiceWorker)return;this.sender=new ste(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lte()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await FS();return await fI(e,kw,"1"),await pI(e,kw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>fI(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>hte(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>pI(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ox(i,!1).getAll();return new yy(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z9.type="LOCAL";const mte=z9;new py(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gte(t,e){return e?sc(e):(Tt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3 extends O3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Np(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Np(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Np(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function yte(t){return R9(t.auth,new D3(t),t.bypassAuthState)}function vte(t){const{auth:e,user:r}=t;return Tt(r,e,"internal-error"),Gee(r,new D3(t),t.bypassAuthState)}async function wte(t){const{auth:e,user:r}=t;return Tt(r,e,"internal-error"),Hee(r,new D3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yte;case"linkViaPopup":case"linkViaRedirect":return wte;case"reauthViaPopup":case"reauthViaRedirect":return vte;default:_o(this.auth,"internal-error")}}resolve(e){_c(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_c(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte=new py(2e3,1e4);class hp extends q9{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,hp.currentPopupAction&&hp.currentPopupAction.cancel(),hp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){_c(this.filter.length===1,"Popup operations only handle one event");const e=L3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(cl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(cl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bte.get())};e()}}hp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte="pendingRedirect",R1=new Map;class _te extends q9{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=R1.get(this.auth._key());if(!e){try{const n=await Ete(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}R1.set(this.auth._key(),e)}return this.bypassAuthState||R1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ete(t,e){const r=Nte(e),n=Ste(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Ate(t,e){R1.set(t._key(),e)}function Ste(t){return sc(t._redirectPersistence)}function Nte(t){return O1(xte,t.config.apiKey,t.name)}async function Tte(t,e,r=!1){if(_a(t.app))return Promise.reject(hc(t));const n=ef(t),i=gte(n,e),a=await new _te(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pte=10*60*1e3;class Cte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kte(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!W9(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(cl(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pte&&this.cachedEventUids.clear(),this.cachedEventUids.has(mI(e))}saveEventToCache(e){this.cachedEventUids.add(mI(e)),this.lastProcessedEventTime=Date.now()}}function mI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ite(t,e={}){return gd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ote=/^https?/;async function Rte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ite(t);for(const r of e)try{if(Lte(r))return}catch{}_o(t,"unauthorized-domain")}function Lte(t){const e=LS(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!Ote.test(r))return!1;if(jte.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte=new py(3e4,6e4);function gI(){const t=ul().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Mte(t){return new Promise((e,r)=>{var i,s,a;function n(){gI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gI(),r(cl(t,"network-request-failed"))},timeout:Dte.get()})}if((s=(i=ul().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=ul().gapi)!=null&&a.load)n();else{const o=Pee("iframefcb");return ul()[o]=()=>{gapi.load?n():r(cl(t,"network-request-failed"))},C9(`${Tee()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw L1=null,e})}let L1=null;function Fte(t){return L1=L1||Mte(t),L1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bte=new py(5e3,15e3),Ute="__/auth/iframe",$te="emulator/auth/iframe",Vte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qte(t){const e=t.config;Tt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?k3(e,$te):`https://${t.config.authDomain}/${Ute}`,n={apiKey:e.apiKey,appName:t.name,v:Am},i=zte.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${fy(n).slice(1)}`}async function Wte(t){const e=await Fte(t),r=ul().gapi;return Tt(r,t,"internal-error"),e.open({where:document.body,url:qte(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vte,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=cl(t,"network-request-failed"),o=ul().setTimeout(()=>{s(a)},Bte.get());function l(){ul().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gte=500,Kte=600,Yte="_blank",Xte="http://localhost";class yI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jte(t,e,r,n=Gte,i=Kte){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...Hte,width:n.toString(),height:i.toString(),top:s,left:a},c=zi().toLowerCase();r&&(o=_9(c)?Yte:r),b9(c)&&(e=e||Xte,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[f,y])=>`${p}${f}=${y},`,"");if(vee(c)&&o!=="_self")return Qte(e||"",o),new yI(null);const h=window.open(e||"",o,u);Tt(h,t,"popup-blocked");try{h.focus()}catch{}return new yI(h)}function Qte(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zte="__/auth/handler",ere="emulator/auth/handler",tre=encodeURIComponent("fac");async function vI(t,e,r,n,i,s){Tt(t.config.authDomain,t,"auth-domain-config-required"),Tt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Am,eventId:i};if(e instanceof j9){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",MQ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))a[u]=h}if(e instanceof gy){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${tre}=${encodeURIComponent(l)}`:"";return`${rre(t)}?${fy(o).slice(1)}${c}`}function rre({config:t}){return t.emulator?k3(t,ere):`https://${t.authDomain}/${Zte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="webStorageSupport";class nre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B9,this._completeRedirectFn=Tte,this._overrideRedirectResult=Ate}async _openPopup(e,r,n,i){var a;_c((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await vI(e,r,n,LS(),i);return Jte(e,s,L3())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await vI(e,r,n,LS(),i);return ate(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(_c(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Wte(e),n=new Cte(e);return r.register("authEvent",i=>(Tt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(J5,{type:J5},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[J5];s!==void 0&&r(!!s),_o(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Rte(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return T9()||x9()||j3()}}const ire=nre;var wI="@firebase/auth",bI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function are(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ore(t){yl(new xo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Tt(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P9(t)},c=new Aee(n,i,s,l);return Ree(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),yl(new xo("auth-internal",e=>{const r=ef(e.getProvider("auth").getImmediate());return(n=>new sre(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Na(wI,bI,are(t)),Na(wI,bI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre=5*60,cre=e9("authIdTokenMaxAge")||lre;let xI=null;const ure=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>cre)return;const i=r==null?void 0:r.token;xI!==i&&(xI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dre(t=P3()){const e=Zh(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Oee(t,{popupRedirectResolver:ire,persistence:[mte,nte,B9]}),n=e9("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=ure(s.toString());Qee(r,a,()=>a(r.currentUser)),Jee(r,o=>a(o))}}const i=QF("auth");return i&&Lee(r,`http://${i}`),r}function hre(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}See({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=cl("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",hre().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ore("Browser");var _I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ku,H9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,k){function T(){}T.prototype=k.prototype,P.D=k.prototype,P.prototype=new T,P.prototype.constructor=P,P.C=function(q,M,A){for(var I=Array(arguments.length-2),j=2;j<arguments.length;j++)I[j-2]=arguments[j];return k.prototype[M].apply(q,I)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,k,T){T||(T=0);var q=Array(16);if(typeof k=="string")for(var M=0;16>M;++M)q[M]=k.charCodeAt(T++)|k.charCodeAt(T++)<<8|k.charCodeAt(T++)<<16|k.charCodeAt(T++)<<24;else for(M=0;16>M;++M)q[M]=k[T++]|k[T++]<<8|k[T++]<<16|k[T++]<<24;k=P.g[0],T=P.g[1],M=P.g[2];var A=P.g[3],I=k+(A^T&(M^A))+q[0]+3614090360&4294967295;k=T+(I<<7&4294967295|I>>>25),I=A+(M^k&(T^M))+q[1]+3905402710&4294967295,A=k+(I<<12&4294967295|I>>>20),I=M+(T^A&(k^T))+q[2]+606105819&4294967295,M=A+(I<<17&4294967295|I>>>15),I=T+(k^M&(A^k))+q[3]+3250441966&4294967295,T=M+(I<<22&4294967295|I>>>10),I=k+(A^T&(M^A))+q[4]+4118548399&4294967295,k=T+(I<<7&4294967295|I>>>25),I=A+(M^k&(T^M))+q[5]+1200080426&4294967295,A=k+(I<<12&4294967295|I>>>20),I=M+(T^A&(k^T))+q[6]+2821735955&4294967295,M=A+(I<<17&4294967295|I>>>15),I=T+(k^M&(A^k))+q[7]+4249261313&4294967295,T=M+(I<<22&4294967295|I>>>10),I=k+(A^T&(M^A))+q[8]+1770035416&4294967295,k=T+(I<<7&4294967295|I>>>25),I=A+(M^k&(T^M))+q[9]+2336552879&4294967295,A=k+(I<<12&4294967295|I>>>20),I=M+(T^A&(k^T))+q[10]+4294925233&4294967295,M=A+(I<<17&4294967295|I>>>15),I=T+(k^M&(A^k))+q[11]+2304563134&4294967295,T=M+(I<<22&4294967295|I>>>10),I=k+(A^T&(M^A))+q[12]+1804603682&4294967295,k=T+(I<<7&4294967295|I>>>25),I=A+(M^k&(T^M))+q[13]+4254626195&4294967295,A=k+(I<<12&4294967295|I>>>20),I=M+(T^A&(k^T))+q[14]+2792965006&4294967295,M=A+(I<<17&4294967295|I>>>15),I=T+(k^M&(A^k))+q[15]+1236535329&4294967295,T=M+(I<<22&4294967295|I>>>10),I=k+(M^A&(T^M))+q[1]+4129170786&4294967295,k=T+(I<<5&4294967295|I>>>27),I=A+(T^M&(k^T))+q[6]+3225465664&4294967295,A=k+(I<<9&4294967295|I>>>23),I=M+(k^T&(A^k))+q[11]+643717713&4294967295,M=A+(I<<14&4294967295|I>>>18),I=T+(A^k&(M^A))+q[0]+3921069994&4294967295,T=M+(I<<20&4294967295|I>>>12),I=k+(M^A&(T^M))+q[5]+3593408605&4294967295,k=T+(I<<5&4294967295|I>>>27),I=A+(T^M&(k^T))+q[10]+38016083&4294967295,A=k+(I<<9&4294967295|I>>>23),I=M+(k^T&(A^k))+q[15]+3634488961&4294967295,M=A+(I<<14&4294967295|I>>>18),I=T+(A^k&(M^A))+q[4]+3889429448&4294967295,T=M+(I<<20&4294967295|I>>>12),I=k+(M^A&(T^M))+q[9]+568446438&4294967295,k=T+(I<<5&4294967295|I>>>27),I=A+(T^M&(k^T))+q[14]+3275163606&4294967295,A=k+(I<<9&4294967295|I>>>23),I=M+(k^T&(A^k))+q[3]+4107603335&4294967295,M=A+(I<<14&4294967295|I>>>18),I=T+(A^k&(M^A))+q[8]+1163531501&4294967295,T=M+(I<<20&4294967295|I>>>12),I=k+(M^A&(T^M))+q[13]+2850285829&4294967295,k=T+(I<<5&4294967295|I>>>27),I=A+(T^M&(k^T))+q[2]+4243563512&4294967295,A=k+(I<<9&4294967295|I>>>23),I=M+(k^T&(A^k))+q[7]+1735328473&4294967295,M=A+(I<<14&4294967295|I>>>18),I=T+(A^k&(M^A))+q[12]+2368359562&4294967295,T=M+(I<<20&4294967295|I>>>12),I=k+(T^M^A)+q[5]+4294588738&4294967295,k=T+(I<<4&4294967295|I>>>28),I=A+(k^T^M)+q[8]+2272392833&4294967295,A=k+(I<<11&4294967295|I>>>21),I=M+(A^k^T)+q[11]+1839030562&4294967295,M=A+(I<<16&4294967295|I>>>16),I=T+(M^A^k)+q[14]+4259657740&4294967295,T=M+(I<<23&4294967295|I>>>9),I=k+(T^M^A)+q[1]+2763975236&4294967295,k=T+(I<<4&4294967295|I>>>28),I=A+(k^T^M)+q[4]+1272893353&4294967295,A=k+(I<<11&4294967295|I>>>21),I=M+(A^k^T)+q[7]+4139469664&4294967295,M=A+(I<<16&4294967295|I>>>16),I=T+(M^A^k)+q[10]+3200236656&4294967295,T=M+(I<<23&4294967295|I>>>9),I=k+(T^M^A)+q[13]+681279174&4294967295,k=T+(I<<4&4294967295|I>>>28),I=A+(k^T^M)+q[0]+3936430074&4294967295,A=k+(I<<11&4294967295|I>>>21),I=M+(A^k^T)+q[3]+3572445317&4294967295,M=A+(I<<16&4294967295|I>>>16),I=T+(M^A^k)+q[6]+76029189&4294967295,T=M+(I<<23&4294967295|I>>>9),I=k+(T^M^A)+q[9]+3654602809&4294967295,k=T+(I<<4&4294967295|I>>>28),I=A+(k^T^M)+q[12]+3873151461&4294967295,A=k+(I<<11&4294967295|I>>>21),I=M+(A^k^T)+q[15]+530742520&4294967295,M=A+(I<<16&4294967295|I>>>16),I=T+(M^A^k)+q[2]+3299628645&4294967295,T=M+(I<<23&4294967295|I>>>9),I=k+(M^(T|~A))+q[0]+4096336452&4294967295,k=T+(I<<6&4294967295|I>>>26),I=A+(T^(k|~M))+q[7]+1126891415&4294967295,A=k+(I<<10&4294967295|I>>>22),I=M+(k^(A|~T))+q[14]+2878612391&4294967295,M=A+(I<<15&4294967295|I>>>17),I=T+(A^(M|~k))+q[5]+4237533241&4294967295,T=M+(I<<21&4294967295|I>>>11),I=k+(M^(T|~A))+q[12]+1700485571&4294967295,k=T+(I<<6&4294967295|I>>>26),I=A+(T^(k|~M))+q[3]+2399980690&4294967295,A=k+(I<<10&4294967295|I>>>22),I=M+(k^(A|~T))+q[10]+4293915773&4294967295,M=A+(I<<15&4294967295|I>>>17),I=T+(A^(M|~k))+q[1]+2240044497&4294967295,T=M+(I<<21&4294967295|I>>>11),I=k+(M^(T|~A))+q[8]+1873313359&4294967295,k=T+(I<<6&4294967295|I>>>26),I=A+(T^(k|~M))+q[15]+4264355552&4294967295,A=k+(I<<10&4294967295|I>>>22),I=M+(k^(A|~T))+q[6]+2734768916&4294967295,M=A+(I<<15&4294967295|I>>>17),I=T+(A^(M|~k))+q[13]+1309151649&4294967295,T=M+(I<<21&4294967295|I>>>11),I=k+(M^(T|~A))+q[4]+4149444226&4294967295,k=T+(I<<6&4294967295|I>>>26),I=A+(T^(k|~M))+q[11]+3174756917&4294967295,A=k+(I<<10&4294967295|I>>>22),I=M+(k^(A|~T))+q[2]+718787259&4294967295,M=A+(I<<15&4294967295|I>>>17),I=T+(A^(M|~k))+q[9]+3951481745&4294967295,P.g[0]=P.g[0]+k&4294967295,P.g[1]=P.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+A&4294967295}n.prototype.u=function(P,k){k===void 0&&(k=P.length);for(var T=k-this.blockSize,q=this.B,M=this.h,A=0;A<k;){if(M==0)for(;A<=T;)i(this,P,A),A+=this.blockSize;if(typeof P=="string"){for(;A<k;)if(q[M++]=P.charCodeAt(A++),M==this.blockSize){i(this,q),M=0;break}}else for(;A<k;)if(q[M++]=P[A++],M==this.blockSize){i(this,q),M=0;break}}this.h=M,this.o+=k},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var k=1;k<P.length-8;++k)P[k]=0;var T=8*this.o;for(k=P.length-8;k<P.length;++k)P[k]=T&255,T/=256;for(this.u(P),P=Array(16),k=T=0;4>k;++k)for(var q=0;32>q;q+=8)P[T++]=this.g[k]>>>q&255;return P};function s(P,k){var T=o;return Object.prototype.hasOwnProperty.call(T,P)?T[P]:T[P]=k(P)}function a(P,k){this.h=k;for(var T=[],q=!0,M=P.length-1;0<=M;M--){var A=P[M]|0;q&&A==k||(T[M]=A,q=!1)}this.g=T}var o={};function l(P){return-128<=P&&128>P?s(P,function(k){return new a([k|0],0>k?-1:0)}):new a([P|0],0>P?-1:0)}function c(P){if(isNaN(P)||!isFinite(P))return h;if(0>P)return w(c(-P));for(var k=[],T=1,q=0;P>=T;q++)k[q]=P/T|0,T*=4294967296;return new a(k,0)}function u(P,k){if(P.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P.charAt(0)=="-")return w(u(P.substring(1),k));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(k,8)),q=h,M=0;M<P.length;M+=8){var A=Math.min(8,P.length-M),I=parseInt(P.substring(M,M+A),k);8>A?(A=c(Math.pow(k,A)),q=q.j(A).add(c(I))):(q=q.j(T),q=q.add(c(I)))}return q}var h=l(0),p=l(1),f=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-w(this).m();for(var P=0,k=1,T=0;T<this.g.length;T++){var q=this.i(T);P+=(0<=q?q:4294967296+q)*k,k*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(y(this))return"0";if(g(this))return"-"+w(this).toString(P);for(var k=c(Math.pow(P,6)),T=this,q="";;){var M=E(T,k).g;T=m(T,M.j(k));var A=((0<T.g.length?T.g[0]:T.h)>>>0).toString(P);if(T=M,y(T))return A+q;for(;6>A.length;)A="0"+A;q=A+q}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function y(P){if(P.h!=0)return!1;for(var k=0;k<P.g.length;k++)if(P.g[k]!=0)return!1;return!0}function g(P){return P.h==-1}t.l=function(P){return P=m(this,P),g(P)?-1:y(P)?0:1};function w(P){for(var k=P.g.length,T=[],q=0;q<k;q++)T[q]=~P.g[q];return new a(T,~P.h).add(p)}t.abs=function(){return g(this)?w(this):this},t.add=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],q=0,M=0;M<=k;M++){var A=q+(this.i(M)&65535)+(P.i(M)&65535),I=(A>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);q=I>>>16,A&=65535,I&=65535,T[M]=I<<16|A}return new a(T,T[T.length-1]&-2147483648?-1:0)};function m(P,k){return P.add(w(k))}t.j=function(P){if(y(this)||y(P))return h;if(g(this))return g(P)?w(this).j(w(P)):w(w(this).j(P));if(g(P))return w(this.j(w(P)));if(0>this.l(f)&&0>P.l(f))return c(this.m()*P.m());for(var k=this.g.length+P.g.length,T=[],q=0;q<2*k;q++)T[q]=0;for(q=0;q<this.g.length;q++)for(var M=0;M<P.g.length;M++){var A=this.i(q)>>>16,I=this.i(q)&65535,j=P.i(M)>>>16,ne=P.i(M)&65535;T[2*q+2*M]+=I*ne,v(T,2*q+2*M),T[2*q+2*M+1]+=A*ne,v(T,2*q+2*M+1),T[2*q+2*M+1]+=I*j,v(T,2*q+2*M+1),T[2*q+2*M+2]+=A*j,v(T,2*q+2*M+2)}for(q=0;q<k;q++)T[q]=T[2*q+1]<<16|T[2*q];for(q=k;q<2*k;q++)T[q]=0;return new a(T,0)};function v(P,k){for(;(P[k]&65535)!=P[k];)P[k+1]+=P[k]>>>16,P[k]&=65535,k++}function x(P,k){this.g=P,this.h=k}function E(P,k){if(y(k))throw Error("division by zero");if(y(P))return new x(h,h);if(g(P))return k=E(w(P),k),new x(w(k.g),w(k.h));if(g(k))return k=E(P,w(k)),new x(w(k.g),k.h);if(30<P.g.length){if(g(P)||g(k))throw Error("slowDivide_ only works with positive integers.");for(var T=p,q=k;0>=q.l(P);)T=N(T),q=N(q);var M=C(T,1),A=C(q,1);for(q=C(q,2),T=C(T,2);!y(q);){var I=A.add(q);0>=I.l(P)&&(M=M.add(T),A=I),q=C(q,1),T=C(T,1)}return k=m(P,M.j(k)),new x(M,k)}for(M=h;0<=P.l(k);){for(T=Math.max(1,Math.floor(P.m()/k.m())),q=Math.ceil(Math.log(T)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),A=c(T),I=A.j(k);g(I)||0<I.l(P);)T-=q,A=c(T),I=A.j(k);y(A)&&(A=p),M=M.add(A),P=m(P,I)}return new x(M,P)}t.A=function(P){return E(this,P).h},t.and=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],q=0;q<k;q++)T[q]=this.i(q)&P.i(q);return new a(T,this.h&P.h)},t.or=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],q=0;q<k;q++)T[q]=this.i(q)|P.i(q);return new a(T,this.h|P.h)},t.xor=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],q=0;q<k;q++)T[q]=this.i(q)^P.i(q);return new a(T,this.h^P.h)};function N(P){for(var k=P.g.length+1,T=[],q=0;q<k;q++)T[q]=P.i(q)<<1|P.i(q-1)>>>31;return new a(T,P.h)}function C(P,k){var T=k>>5;k%=32;for(var q=P.g.length-T,M=[],A=0;A<q;A++)M[A]=0<k?P.i(A+T)>>>k|P.i(A+T+1)<<32-k:P.i(A+T);return new a(M,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,H9=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,Ku=a}).apply(typeof _I<"u"?_I:typeof self<"u"?self:typeof window<"u"?window:{});var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G9,qg,K9,D1,BS,Y9,X9,J9;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,z,Y){return _==Array.prototype||_==Object.prototype||(_[z]=Y.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dv=="object"&&Dv];for(var z=0;z<_.length;++z){var Y=_[z];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var n=r(this);function i(_,z){if(z)e:{var Y=n;_=_.split(".");for(var me=0;me<_.length-1;me++){var je=_[me];if(!(je in Y))break e;Y=Y[je]}_=_[_.length-1],me=Y[_],z=z(me),z!=me&&z!=null&&e(Y,_,{configurable:!0,writable:!0,value:z})}}function s(_,z){_ instanceof String&&(_+="");var Y=0,me=!1,je={next:function(){if(!me&&Y<_.length){var Me=Y++;return{value:z(Me,_[Me]),done:!1}}return me=!0,{done:!0,value:void 0}}};return je[Symbol.iterator]=function(){return je},je}i("Array.prototype.values",function(_){return _||function(){return s(this,function(z,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(_){var z=typeof _;return z=z!="object"?z:_?Array.isArray(_)?"array":z:"null",z=="array"||z=="object"&&typeof _.length=="number"}function c(_){var z=typeof _;return z=="object"&&_!=null||z=="function"}function u(_,z,Y){return _.call.apply(_.bind,arguments)}function h(_,z,Y){if(!_)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(je,me),_.apply(z,je)}}return function(){return _.apply(z,arguments)}}function p(_,z,Y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function f(_,z){var Y=Array.prototype.slice.call(arguments,1);return function(){var me=Y.slice();return me.push.apply(me,arguments),_.apply(this,me)}}function y(_,z){function Y(){}Y.prototype=z.prototype,_.aa=z.prototype,_.prototype=new Y,_.prototype.constructor=_,_.Qb=function(me,je,Me){for(var Je=Array(arguments.length-2),It=2;It<arguments.length;It++)Je[It-2]=arguments[It];return z.prototype[je].apply(me,Je)}}function g(_){const z=_.length;if(0<z){const Y=Array(z);for(let me=0;me<z;me++)Y[me]=_[me];return Y}return[]}function w(_,z){for(let Y=1;Y<arguments.length;Y++){const me=arguments[Y];if(l(me)){const je=_.length||0,Me=me.length||0;_.length=je+Me;for(let Je=0;Je<Me;Je++)_[je+Je]=me[Je]}else _.push(me)}}class m{constructor(z,Y){this.i=z,this.j=Y,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function v(_){return/^[\s\xa0]*$/.test(_)}function x(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function E(_){return E[" "](_),_}E[" "]=function(){};var N=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function C(_,z,Y){for(const me in _)z.call(Y,_[me],me,_)}function P(_,z){for(const Y in _)z.call(void 0,_[Y],Y,_)}function k(_){const z={};for(const Y in _)z[Y]=_[Y];return z}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(_,z){let Y,me;for(let je=1;je<arguments.length;je++){me=arguments[je];for(Y in me)_[Y]=me[Y];for(let Me=0;Me<T.length;Me++)Y=T[Me],Object.prototype.hasOwnProperty.call(me,Y)&&(_[Y]=me[Y])}}function M(_){var z=1;_=_.split(":");const Y=[];for(;0<z&&_.length;)Y.push(_.shift()),z--;return _.length&&Y.push(_.join(":")),Y}function A(_){o.setTimeout(()=>{throw _},0)}function I(){var _=ue;let z=null;return _.g&&(z=_.g,_.g=_.g.next,_.g||(_.h=null),z.next=null),z}class j{constructor(){this.h=this.g=null}add(z,Y){const me=ne.get();me.set(z,Y),this.h?this.h.next=me:this.g=me,this.h=me}}var ne=new m(()=>new pe,_=>_.reset());class pe{constructor(){this.next=this.g=this.h=null}set(z,Y){this.h=z,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ce=!1,ue=new j,xe=()=>{const _=o.Promise.resolve(void 0);X=()=>{_.then(we)}};var we=()=>{for(var _;_=I();){try{_.h.call(_.g)}catch(Y){A(Y)}var z=ne;z.j(_),100>z.h&&(z.h++,_.next=z.g,z.g=_)}ce=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(_,z){this.type=_,this.g=this.target=z,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,z=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const Y=()=>{};o.addEventListener("test",Y,z),o.removeEventListener("test",Y,z)}catch{}return _}();function he(_,z){if(J.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var Y=this.type=_.type,me=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=z,z=_.relatedTarget){if(N){e:{try{E(z.nodeName);var je=!0;break e}catch{}je=!1}je||(z=null)}}else Y=="mouseover"?z=_.fromElement:Y=="mouseout"&&(z=_.toElement);this.relatedTarget=z,me?(this.clientX=me.clientX!==void 0?me.clientX:me.pageX,this.clientY=me.clientY!==void 0?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:Q[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&he.aa.h.call(this)}}y(he,J);var Q={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),V=0;function te(_,z,Y,me,je){this.listener=_,this.proxy=null,this.src=z,this.type=Y,this.capture=!!me,this.ha=je,this.key=++V,this.da=this.fa=!1}function ae(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Z(_){this.src=_,this.g={},this.h=0}Z.prototype.add=function(_,z,Y,me,je){var Me=_.toString();_=this.g[Me],_||(_=this.g[Me]=[],this.h++);var Je=_e(_,z,me,je);return-1<Je?(z=_[Je],Y||(z.fa=!1)):(z=new te(z,this.src,Me,!!me,je),z.fa=Y,_.push(z)),z};function ee(_,z){var Y=z.type;if(Y in _.g){var me=_.g[Y],je=Array.prototype.indexOf.call(me,z,void 0),Me;(Me=0<=je)&&Array.prototype.splice.call(me,je,1),Me&&(ae(z),_.g[Y].length==0&&(delete _.g[Y],_.h--))}}function _e(_,z,Y,me){for(var je=0;je<_.length;++je){var Me=_[je];if(!Me.da&&Me.listener==z&&Me.capture==!!Y&&Me.ha==me)return je}return-1}var H="closure_lm_"+(1e6*Math.random()|0),ve={};function B(_,z,Y,me,je){if(Array.isArray(z)){for(var Me=0;Me<z.length;Me++)B(_,z[Me],Y,me,je);return null}return Y=Se(Y),_&&_[$]?_.K(z,Y,c(me)?!!me.capture:!!me,je):O(_,z,Y,!1,me,je)}function O(_,z,Y,me,je,Me){if(!z)throw Error("Invalid event type");var Je=c(je)?!!je.capture:!!je,It=Ae(_);if(It||(_[H]=It=new Z(_)),Y=It.add(z,Y,me,Je,Me),Y.proxy)return Y;if(me=L(),Y.proxy=me,me.src=_,me.listener=Y,_.addEventListener)se||(je=Je),je===void 0&&(je=!1),_.addEventListener(z.toString(),me,je);else if(_.attachEvent)_.attachEvent(ie(z.toString()),me);else if(_.addListener&&_.removeListener)_.addListener(me);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function L(){function _(Y){return z.call(_.src,_.listener,Y)}const z=re;return _}function W(_,z,Y,me,je){if(Array.isArray(z))for(var Me=0;Me<z.length;Me++)W(_,z[Me],Y,me,je);else me=c(me)?!!me.capture:!!me,Y=Se(Y),_&&_[$]?(_=_.i,z=String(z).toString(),z in _.g&&(Me=_.g[z],Y=_e(Me,Y,me,je),-1<Y&&(ae(Me[Y]),Array.prototype.splice.call(Me,Y,1),Me.length==0&&(delete _.g[z],_.h--)))):_&&(_=Ae(_))&&(z=_.g[z.toString()],_=-1,z&&(_=_e(z,Y,me,je)),(Y=-1<_?z[_]:null)&&G(Y))}function G(_){if(typeof _!="number"&&_&&!_.da){var z=_.src;if(z&&z[$])ee(z.i,_);else{var Y=_.type,me=_.proxy;z.removeEventListener?z.removeEventListener(Y,me,_.capture):z.detachEvent?z.detachEvent(ie(Y),me):z.addListener&&z.removeListener&&z.removeListener(me),(Y=Ae(z))?(ee(Y,_),Y.h==0&&(Y.src=null,z[H]=null)):ae(_)}}}function ie(_){return _ in ve?ve[_]:ve[_]="on"+_}function re(_,z){if(_.da)_=!0;else{z=new he(z,this);var Y=_.listener,me=_.ha||_.src;_.fa&&G(_),_=Y.call(me,z)}return _}function Ae(_){return _=_[H],_ instanceof Z?_:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(_){return typeof _=="function"?_:(_[Ne]||(_[Ne]=function(z){return _.handleEvent(z)}),_[Ne])}function Ie(){F.call(this),this.i=new Z(this),this.M=this,this.F=null}y(Ie,F),Ie.prototype[$]=!0,Ie.prototype.removeEventListener=function(_,z,Y,me){W(this,_,z,Y,me)};function Fe(_,z){var Y,me=_.F;if(me)for(Y=[];me;me=me.F)Y.push(me);if(_=_.M,me=z.type||z,typeof z=="string")z=new J(z,_);else if(z instanceof J)z.target=z.target||_;else{var je=z;z=new J(me,_),q(z,je)}if(je=!0,Y)for(var Me=Y.length-1;0<=Me;Me--){var Je=z.g=Y[Me];je=Ke(Je,me,!0,z)&&je}if(Je=z.g=_,je=Ke(Je,me,!0,z)&&je,je=Ke(Je,me,!1,z)&&je,Y)for(Me=0;Me<Y.length;Me++)Je=z.g=Y[Me],je=Ke(Je,me,!1,z)&&je}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var _=this.i,z;for(z in _.g){for(var Y=_.g[z],me=0;me<Y.length;me++)ae(Y[me]);delete _.g[z],_.h--}}this.F=null},Ie.prototype.K=function(_,z,Y,me){return this.i.add(String(_),z,!1,Y,me)},Ie.prototype.L=function(_,z,Y,me){return this.i.add(String(_),z,!0,Y,me)};function Ke(_,z,Y,me){if(z=_.i.g[String(z)],!z)return!0;z=z.concat();for(var je=!0,Me=0;Me<z.length;++Me){var Je=z[Me];if(Je&&!Je.da&&Je.capture==Y){var It=Je.listener,zt=Je.ha||Je.src;Je.fa&&ee(_.i,Je),je=It.call(zt,me)!==!1&&je}}return je&&!me.defaultPrevented}function nt(_,z,Y){if(typeof _=="function")Y&&(_=p(_,Y));else if(_&&typeof _.handleEvent=="function")_=p(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:o.setTimeout(_,z||0)}function bt(_){_.g=nt(()=>{_.g=null,_.i&&(_.i=!1,bt(_))},_.l);const z=_.h;_.h=null,_.m.apply(null,z)}class et extends F{constructor(z,Y){super(),this.m=z,this.l=Y,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(_){F.call(this),this.h=_,this.g={}}y(or,F);var gt=[];function qr(_){C(_.g,function(z,Y){this.g.hasOwnProperty(Y)&&G(z)},_),_.g={}}or.prototype.N=function(){or.aa.N.call(this),qr(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=o.JSON.stringify,Ft=o.JSON.parse,li=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function Bt(){}Bt.prototype.h=null;function na(_){return _.h||(_.h=_.i())}function _r(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Un(){J.call(this,"d")}y(Un,J);function ir(){J.call(this,"c")}y(ir,J);var Et={},Qt=null;function ia(){return Qt=Qt||new Ie}Et.La="serverreachability";function Nn(_){J.call(this,Et.La,_)}y(Nn,J);function Si(_){const z=ia();Fe(z,new Nn(z))}Et.STAT_EVENT="statevent";function ks(_,z){J.call(this,Et.STAT_EVENT,_),this.stat=z}y(ks,J);function dt(_){const z=ia();Fe(z,new ks(z,_))}Et.Ma="timingevent";function ls(_,z){J.call(this,Et.Ma,_),this.size=z}y(ls,J);function Ni(_,z){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},z)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function cn(_,z,Y,me,je,Me){_.info(function(){if(_.g)if(Me)for(var Je="",It=Me.split("&"),zt=0;zt<It.length;zt++){var jt=It[zt].split("=");if(1<jt.length){var cr=jt[0];jt=jt[1];var Er=cr.split("_");Je=2<=Er.length&&Er[1]=="type"?Je+(cr+"="+jt+"&"):Je+(cr+"=redacted&")}}else Je=null;else Je=Me;return"XMLHTTP REQ ("+me+") [attempt "+je+"]: "+z+`
`+Y+`
`+Je})}function Jr(_,z,Y,me,je,Me,Je){_.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+je+"]: "+z+`
`+Y+`
`+Me+" "+Je})}function Pn(_,z,Y,me){_.info(function(){return"XMLHTTP TEXT ("+z+"): "+za(_,Y)+(me?" "+me:"")})}function Fc(_,z){_.info(function(){return"TIMEOUT: "+z})}Tn.prototype.info=function(){};function za(_,z){if(!_.g)return z;if(!z)return null;try{var Y=JSON.parse(z);if(Y){for(_=0;_<Y.length;_++)if(Array.isArray(Y[_])){var me=Y[_];if(!(2>me.length)){var je=me[1];if(Array.isArray(je)&&!(1>je.length)){var Me=je[0];if(Me!="noop"&&Me!="stop"&&Me!="close")for(var Je=1;Je<je.length;Je++)je[Je]=""}}}}return $t(Y)}catch{return z}}var Ti={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wi;function Hi(){}y(Hi,Bt),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},Wi=new Hi;function un(_,z,Y,me){this.j=_,this.i=z,this.l=Y,this.R=me||1,this.U=new or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Is}function Is(){this.i=null,this.g="",this.h=!1}var Io={},jo={};function Oo(_,z,Y){_.L=1,_.v=Ol(Gi(z)),_.m=Y,_.P=!0,Pl(_,null)}function Pl(_,z){_.F=Date.now(),Bc(_),_.A=Gi(_.v);var Y=_.A,me=_.R;Array.isArray(me)||(me=[String(me)]),Pt(Y.i,"t",me),_.C=0,Y=_.j.J,_.h=new Is,_.g=oe(_.j,Y?z:null,!_.m),0<_.O&&(_.M=new et(p(_.Y,_,_.g),_.O)),z=_.U,Y=_.g,me=_.ca;var je="readystatechange";Array.isArray(je)||(je&&(gt[0]=je.toString()),je=gt);for(var Me=0;Me<je.length;Me++){var Je=B(Y,je[Me],me||z.handleEvent,!1,z.h||z);if(!Je)break;z.g[Je.key]=Je}z=_.H?k(_.H):{},_.m?(_.u||(_.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,z)):(_.u="GET",_.g.ea(_.A,_.u,null,z)),Si(),cn(_.i,_.u,_.A,_.l,_.R,_.m)}un.prototype.ca=function(_){_=_.target;const z=this.M;z&&$n(_)==3?z.j():this.Y(_)},un.prototype.Y=function(_){try{if(_==this.g)e:{const Er=$n(this.g);var z=this.g.Ba();const Ja=this.g.Z();if(!(3>Er)&&(Er!=3||this.g&&(this.h.h||this.g.oa()||_f(this.g)))){this.J||Er!=4||z==7||(z==8||0>=Ja?Si(3):Si(2)),Ro(this);var Y=this.g.Z();this.X=Y;t:if(Cl(this)){var me=_f(this.g);_="";var je=me.length,Me=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qa(this),Lo(this);var Je="";break t}this.h.i=new o.TextDecoder}for(z=0;z<je;z++)this.h.h=!0,_+=this.h.i.decode(me[z],{stream:!(Me&&z==je-1)});me.length=0,this.h.g+=_,this.C=0,Je=this.h.g}else Je=this.g.oa();if(this.o=Y==200,Jr(this.i,this.u,this.A,this.l,this.R,Er,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var It,zt=this.g;if((It=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(It)){var jt=It;break t}}jt=null}if(Y=jt)Pn(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kl(this,Y);else{this.o=!1,this.s=3,dt(12),qa(this),Lo(this);break e}}if(this.P){Y=!0;let ui;for(;!this.J&&this.C<Je.length;)if(ui=ff(this,Je),ui==jo){Er==4&&(this.s=4,dt(14),Y=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(ui==Io){this.s=4,dt(15),Pn(this.i,this.l,Je,"[Invalid Chunk]"),Y=!1;break}else Pn(this.i,this.l,ui,null),kl(this,ui);if(Cl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Er!=4||Je.length!=0||this.h.h||(this.s=1,dt(16),Y=!1),this.o=this.o&&Y,!Y)Pn(this.i,this.l,Je,"[Invalid Chunked Response]"),qa(this),Lo(this);else if(0<Je.length&&!this.W){this.W=!0;var cr=this.j;cr.g==this&&cr.ba&&!cr.M&&(cr.j.info("Great, no buffering proxy detected. Bytes received: "+Je.length),Zc(cr),cr.M=!0,dt(11))}}else Pn(this.i,this.l,Je,null),kl(this,Je);Er==4&&qa(this),this.o&&!this.J&&(Er==4?Uo(this.j,this):(this.o=!1,Bc(this)))}else Fo(this.g),Y==400&&0<Je.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),qa(this),Lo(this)}}}catch{}finally{}};function Cl(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function ff(_,z){var Y=_.C,me=z.indexOf(`
`,Y);return me==-1?jo:(Y=Number(z.substring(Y,me)),isNaN(Y)?Io:(me+=1,me+Y>z.length?jo:(z=z.slice(me,me+Y),_.C=me+Y,z)))}un.prototype.cancel=function(){this.J=!0,qa(this)};function Bc(_){_.S=Date.now()+_.I,pf(_,_.I)}function pf(_,z){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Ni(p(_.ba,_),z)}function Ro(_){_.B&&(o.clearTimeout(_.B),_.B=null)}un.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Fc(this.i,this.A),this.L!=2&&(Si(),dt(17)),qa(this),this.s=2,Lo(this)):pf(this,this.S-_)};function Lo(_){_.j.G==0||_.J||Uo(_.j,_)}function qa(_){Ro(_);var z=_.M;z&&typeof z.ma=="function"&&z.ma(),_.M=null,qr(_.U),_.g&&(z=_.g,_.g=null,z.abort(),z.ma())}function kl(_,z){try{var Y=_.j;if(Y.G!=0&&(Y.g==_||kd(Y.h,_))){if(!_.K&&kd(Y.h,_)&&Y.G==3){try{var me=Y.Da.g.parse(z)}catch{me=null}if(Array.isArray(me)&&me.length==3){var je=me;if(je[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<_.F)Xa(Y),Yc(Y);else break e;Fl(Y),dt(18)}}else Y.za=je[1],0<Y.za-Y.T&&37500>je[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=Ni(p(Y.Za,Y),6e3));if(1>=Il(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else Pi(Y,11)}else if((_.K||Y.g==_)&&Xa(Y),!v(z))for(je=Y.Da.g.parse(z),z=0;z<je.length;z++){let jt=je[z];if(Y.T=jt[0],jt=jt[1],Y.G==2)if(jt[0]=="c"){Y.K=jt[1],Y.ia=jt[2];const cr=jt[3];cr!=null&&(Y.la=cr,Y.j.info("VER="+Y.la));const Er=jt[4];Er!=null&&(Y.Aa=Er,Y.j.info("SVER="+Y.Aa));const Ja=jt[5];Ja!=null&&typeof Ja=="number"&&0<Ja&&(me=1.5*Ja,Y.L=me,Y.j.info("backChannelRequestTimeoutMs_="+me)),me=Y;const ui=_.g;if(ui){const $o=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($o){var Me=me.h;Me.g||$o.indexOf("spdy")==-1&&$o.indexOf("quic")==-1&&$o.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(Rr(Me,Me.h),Me.h=null))}if(me.D){const Vo=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(me.ya=Vo,ur(me.I,me.D,Vo))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-_.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),me=Y;var Je=_;if(me.qa=D(me,me.J?me.ia:null,me.W),Je.K){Id(me.h,Je);var It=Je,zt=me.L;zt&&(It.I=zt),It.B&&(Ro(It),Bc(It)),me.g=Je}else Qc(me);0<Y.i.length&&Xc(Y)}else jt[0]!="stop"&&jt[0]!="close"||Pi(Y,7);else Y.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Pi(Y,7):Ya(Y):jt[0]!="noop"&&Y.l&&Y.l.ta(jt),Y.v=0)}}Si(4)}catch{}}var Wm=class{constructor(_,z){this.g=_,this.map=z}};function Cd(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mf(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Il(_){return _.h?1:_.g?_.g.size:0}function kd(_,z){return _.h?_.h==z:_.g?_.g.has(z):!1}function Rr(_,z){_.g?_.g.add(z):_.h=z}function Id(_,z){_.h&&_.h==z?_.h=null:_.g&&_.g.has(z)&&_.g.delete(z)}Cd.prototype.cancel=function(){if(this.i=jd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function jd(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let z=_.i;for(const Y of _.g.values())z=z.concat(Y.D);return z}return g(_.i)}function gf(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var z=[],Y=_.length,me=0;me<Y;me++)z.push(_[me]);return z}z=[],Y=0;for(me in _)z[Y++]=_[me];return z}function Od(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var z=[];_=_.length;for(var Y=0;Y<_;Y++)z.push(Y);return z}z=[],Y=0;for(const me in _)z[Y++]=me;return z}}}function yf(_,z){if(_.forEach&&typeof _.forEach=="function")_.forEach(z,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,z,void 0);else for(var Y=Od(_),me=gf(_),je=me.length,Me=0;Me<je;Me++)z.call(void 0,me[Me],Y&&Y[Me],_)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uc(_,z){if(_){_=_.split("&");for(var Y=0;Y<_.length;Y++){var me=_[Y].indexOf("="),je=null;if(0<=me){var Me=_[Y].substring(0,me);je=_[Y].substring(me+1)}else Me=_[Y];z(Me,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function Qr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Qr){this.h=_.h,jl(this,_.j),this.o=_.o,this.g=_.g,$c(this,_.s),this.l=_.l;var z=_.i,Y=new Do;Y.i=z.i,z.g&&(Y.g=new Map(z.g),Y.h=z.h),Rd(this,Y),this.m=_.m}else _&&(z=String(_).match(us))?(this.h=!1,jl(this,z[1]||"",!0),this.o=Rl(z[2]||""),this.g=Rl(z[3]||"",!0),$c(this,z[4]),this.l=Rl(z[5]||"",!0),Rd(this,z[6]||"",!0),this.m=Rl(z[7]||"")):(this.h=!1,this.i=new Do(null,this.h))}Qr.prototype.toString=function(){var _=[],z=this.j;z&&_.push(Wa(z,vf,!0),":");var Y=this.g;return(Y||z=="file")&&(_.push("//"),(z=this.o)&&_.push(Wa(z,vf,!0),"@"),_.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&_.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&_.push("/"),_.push(Wa(Y,Y.charAt(0)=="/"?Ha:Gm,!0))),(Y=this.i.toString())&&_.push("?",Y),(Y=this.m)&&_.push("#",Wa(Y,zc)),_.join("")};function Gi(_){return new Qr(_)}function jl(_,z,Y){_.j=Y?Rl(z,!0):z,_.j&&(_.j=_.j.replace(/:$/,""))}function $c(_,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);_.s=z}else _.s=null}function Rd(_,z,Y){z instanceof Do?(_.i=z,Km(_.i,_.h)):(Y||(z=Wa(z,Vc)),_.i=new Do(z,_.h))}function ur(_,z,Y){_.i.set(z,Y)}function Ol(_){return ur(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Rl(_,z){return _?z?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Wa(_,z,Y){return typeof _=="string"?(_=encodeURI(_).replace(z,Hm),Y&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Hm(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var vf=/[#\/\?@]/g,Gm=/[#\?:]/g,Ha=/[#\?]/g,Vc=/[#\?@]/g,zc=/#/g;function Do(_,z){this.h=this.g=null,this.i=_||null,this.j=!!z}function Lr(_){_.g||(_.g=new Map,_.h=0,_.i&&Uc(_.i,function(z,Y){_.add(decodeURIComponent(z.replace(/\+/g," ")),Y)}))}t=Do.prototype,t.add=function(_,z){Lr(this),this.i=null,_=Mo(this,_);var Y=this.g.get(_);return Y||this.g.set(_,Y=[]),Y.push(z),this.h+=1,this};function wf(_,z){Lr(_),z=Mo(_,z),_.g.has(z)&&(_.i=null,_.h-=_.g.get(z).length,_.g.delete(z))}function Ld(_,z){return Lr(_),z=Mo(_,z),_.g.has(z)}t.forEach=function(_,z){Lr(this),this.g.forEach(function(Y,me){Y.forEach(function(je){_.call(z,je,me,this)},this)},this)},t.na=function(){Lr(this);const _=Array.from(this.g.values()),z=Array.from(this.g.keys()),Y=[];for(let me=0;me<z.length;me++){const je=_[me];for(let Me=0;Me<je.length;Me++)Y.push(z[me])}return Y},t.V=function(_){Lr(this);let z=[];if(typeof _=="string")Ld(this,_)&&(z=z.concat(this.g.get(Mo(this,_))));else{_=Array.from(this.g.values());for(let Y=0;Y<_.length;Y++)z=z.concat(_[Y])}return z},t.set=function(_,z){return Lr(this),this.i=null,_=Mo(this,_),Ld(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[z]),this.h+=1,this},t.get=function(_,z){return _?(_=this.V(_),0<_.length?String(_[0]):z):z};function Pt(_,z,Y){wf(_,z),0<Y.length&&(_.i=null,_.g.set(Mo(_,z),g(Y)),_.h+=Y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],z=Array.from(this.g.keys());for(var Y=0;Y<z.length;Y++){var me=z[Y];const Me=encodeURIComponent(String(me)),Je=this.V(me);for(me=0;me<Je.length;me++){var je=Me;Je[me]!==""&&(je+="="+encodeURIComponent(String(Je[me]))),_.push(je)}}return this.i=_.join("&")};function Mo(_,z){return z=String(z),_.j&&(z=z.toLowerCase()),z}function Km(_,z){z&&!_.j&&(Lr(_),_.i=null,_.g.forEach(function(Y,me){var je=me.toLowerCase();me!=je&&(wf(this,me),Pt(this,je,Y))},_)),_.j=z}function sa(_,z){const Y=new Tn;if(o.Image){const me=new Image;me.onload=f(js,Y,"TestLoadImage: loaded",!0,z,me),me.onerror=f(js,Y,"TestLoadImage: error",!1,z,me),me.onabort=f(js,Y,"TestLoadImage: abort",!1,z,me),me.ontimeout=f(js,Y,"TestLoadImage: timeout",!1,z,me),o.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=_}else z(!1)}function bf(_,z){const Y=new Tn,me=new AbortController,je=setTimeout(()=>{me.abort(),js(Y,"TestPingServer: timeout",!1,z)},1e4);fetch(_,{signal:me.signal}).then(Me=>{clearTimeout(je),Me.ok?js(Y,"TestPingServer: ok",!0,z):js(Y,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(je),js(Y,"TestPingServer: error",!1,z)})}function js(_,z,Y,me,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),me(Y)}catch{}}function qc(){this.g=new li}function Dd(_,z,Y){const me=Y||"";try{yf(_,function(je,Me){let Je=je;c(je)&&(Je=$t(je)),z.push(me+Me+"="+encodeURIComponent(Je))})}catch(je){throw z.push(me+"type="+encodeURIComponent("_badmap")),je}}function Wc(_){this.l=_.Ub||null,this.j=_.eb||!1}y(Wc,Bt),Wc.prototype.g=function(){return new Hc(this.l,this.j)},Wc.prototype.i=function(_){return function(){return _}}({});function Hc(_,z){Ie.call(this),this.D=_,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Hc,Ie),t=Hc.prototype,t.open=function(_,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=z,this.readyState=1,Os(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(z.body=_),(this.D||o).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ga(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xf(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function xf(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var z=_.value?_.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!_.done}))&&(this.response=this.responseText+=z)}_.done?Ga(this):Os(this),this.readyState==3&&xf(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Ga(this))},t.Qa=function(_){this.g&&(this.response=_,Ga(this))},t.ga=function(){this.g&&Ga(this)};function Ga(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Os(_)}t.setRequestHeader=function(_,z){this.u.append(_,z)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],z=this.h.entries();for(var Y=z.next();!Y.done;)Y=Y.value,_.push(Y[0]+": "+Y[1]),Y=z.next();return _.join(`\r
`)};function Os(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Ka(_){let z="";return C(_,function(Y,me){z+=me,z+=":",z+=Y,z+=`\r
`}),z}function Md(_,z,Y){e:{for(me in Y){var me=!1;break e}me=!0}me||(Y=Ka(Y),typeof _=="string"?Y!=null&&encodeURIComponent(String(Y)):ur(_,z,Y))}function lr(_){Ie.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(lr,Ie);var Fd=/^https?$/i,Gc=["POST","PUT"];t=lr.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,z,Y,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);z=z?z.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wi.g(),this.v=this.o?na(this.o):na(Wi),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(z,String(_),!0),this.B=!1}catch(Me){Bd(this,Me);return}if(_=Y||"",Y=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var je in me)Y.set(je,me[je]);else if(typeof me.keys=="function"&&typeof me.get=="function")for(const Me of me.keys())Y.set(Me,me.get(Me));else throw Error("Unknown input type for opt_headers: "+String(me));me=Array.from(Y.keys()).find(Me=>Me.toLowerCase()=="content-type"),je=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Gc,z,void 0))||me||je||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,Je]of Y)this.g.setRequestHeader(Me,Je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rs(this),this.u=!0,this.g.send(_),this.u=!1}catch(Me){Bd(this,Me)}};function Bd(_,z){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=z,_.m=5,Ud(_),Ll(_)}function Ud(_){_.A||(_.A=!0,Fe(_,"complete"),Fe(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Fe(this,"complete"),Fe(this,"abort"),Ll(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ll(this,!0)),lr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$d(this):this.bb())},t.bb=function(){$d(this)};function $d(_){if(_.h&&typeof a<"u"&&(!_.v[1]||$n(_)!=4||_.Z()!=2)){if(_.u&&$n(_)==4)nt(_.Ea,0,_);else if(Fe(_,"readystatechange"),$n(_)==4){_.h=!1;try{const Je=_.Z();e:switch(Je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var Y;if(!(Y=z)){var me;if(me=Je===0){var je=String(_.D).match(us)[1]||null;!je&&o.self&&o.self.location&&(je=o.self.location.protocol.slice(0,-1)),me=!Fd.test(je?je.toLowerCase():"")}Y=me}if(Y)Fe(_,"complete"),Fe(_,"success");else{_.m=6;try{var Me=2<$n(_)?_.g.statusText:""}catch{Me=""}_.l=Me+" ["+_.Z()+"]",Ud(_)}}finally{Ll(_)}}}}function Ll(_,z){if(_.g){Rs(_);const Y=_.g,me=_.v[0]?()=>{}:null;_.g=null,_.v=null,z||Fe(_,"ready");try{Y.onreadystatechange=me}catch{}}}function Rs(_){_.I&&(o.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function $n(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var z=this.g.responseText;return _&&z.indexOf(_)==0&&(z=z.substring(_.length)),Ft(z)}};function _f(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Fo(_){const z={};_=(_.g&&2<=$n(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let me=0;me<_.length;me++){if(v(_[me]))continue;var Y=M(_[me]);const je=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Me=z[je]||[];z[je]=Me,Me.push(Y)}P(z,function(me){return me.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(_,z,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[_]||z}function Kc(_){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ci("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ci("baseRetryDelayMs",5e3,_),this.cb=ci("retryDelaySeedMs",1e4,_),this.Wa=ci("forwardChannelMaxRetries",2,_),this.wa=ci("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Cd(_&&_.concurrentRequestLimit),this.Da=new qc,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kc.prototype,t.la=8,t.G=1,t.connect=function(_,z,Y,me){dt(0),this.W=_,this.H=z||{},Y&&me!==void 0&&(this.H.OSID=Y,this.H.OAID=me),this.F=this.X,this.I=D(this,null,this.W),Xc(this)};function Ya(_){if(Dl(_),_.G==3){var z=_.U++,Y=Gi(_.I);if(ur(Y,"SID",_.K),ur(Y,"RID",z),ur(Y,"TYPE","terminate"),Bo(_,Y),z=new un(_,_.j,z),z.L=2,z.v=Ol(Gi(Y)),Y=!1,o.navigator&&o.navigator.sendBeacon)try{Y=o.navigator.sendBeacon(z.v.toString(),"")}catch{}!Y&&o.Image&&(new Image().src=z.v,Y=!0),Y||(z.g=oe(z.j,null),z.g.ea(z.v)),z.F=Date.now(),Bc(z)}tu(_)}function Yc(_){_.g&&(Zc(_),_.g.cancel(),_.g=null)}function Dl(_){Yc(_),_.u&&(o.clearTimeout(_.u),_.u=null),Xa(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function Xc(_){if(!mf(_.h)&&!_.s){_.s=!0;var z=_.Ga;X||xe(),ce||(X(),ce=!0),ue.add(z,_),_.B=0}}function Vd(_,z){return Il(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=z.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Ni(p(_.Ga,_,z),eu(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const je=new un(this,this.j,_);let Me=this.o;if(this.S&&(Me?(Me=k(Me),q(Me,this.S)):Me=this.S),this.m!==null||this.O||(je.H=Me,Me=null),this.P)e:{for(var z=0,Y=0;Y<this.i.length;Y++){t:{var me=this.i[Y];if("__data__"in me.map&&(me=me.map.__data__,typeof me=="string")){me=me.length;break t}me=void 0}if(me===void 0)break;if(z+=me,4096<z){z=Y;break e}if(z===4096||Y===this.i.length-1){z=Y+1;break e}}z=1e3}else z=1e3;z=Ml(this,je,z),Y=Gi(this.I),ur(Y,"RID",_),ur(Y,"CVER",22),this.D&&ur(Y,"X-HTTP-Session-Id",this.D),Bo(this,Y),Me&&(this.O?z="headers="+encodeURIComponent(String(Ka(Me)))+"&"+z:this.m&&Md(Y,this.m,Me)),Rr(this.h,je),this.Ua&&ur(Y,"TYPE","init"),this.P?(ur(Y,"$req",z),ur(Y,"SID","null"),je.T=!0,Oo(je,Y,null)):Oo(je,Y,z),this.G=2}}else this.G==3&&(_?Jc(this,_):this.i.length==0||mf(this.h)||Jc(this))};function Jc(_,z){var Y;z?Y=z.l:Y=_.U++;const me=Gi(_.I);ur(me,"SID",_.K),ur(me,"RID",Y),ur(me,"AID",_.T),Bo(_,me),_.m&&_.o&&Md(me,_.m,_.o),Y=new un(_,_.j,Y,_.B+1),_.m===null&&(Y.H=_.o),z&&(_.i=z.D.concat(_.i)),z=Ml(_,Y,1e3),Y.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Rr(_.h,Y),Oo(Y,me,z)}function Bo(_,z){_.H&&C(_.H,function(Y,me){ur(z,me,Y)}),_.l&&yf({},function(Y,me){ur(z,me,Y)})}function Ml(_,z,Y){Y=Math.min(_.i.length,Y);var me=_.l?p(_.l.Na,_.l,_):null;e:{var je=_.i;let Me=-1;for(;;){const Je=["count="+Y];Me==-1?0<Y?(Me=je[0].g,Je.push("ofs="+Me)):Me=0:Je.push("ofs="+Me);let It=!0;for(let zt=0;zt<Y;zt++){let jt=je[zt].g;const cr=je[zt].map;if(jt-=Me,0>jt)Me=Math.max(0,je[zt].g-100),It=!1;else try{Dd(cr,Je,"req"+jt+"_")}catch{me&&me(cr)}}if(It){me=Je.join("&");break e}}}return _=_.i.splice(0,Y),z.D=_,me}function Qc(_){if(!_.g&&!_.u){_.Y=1;var z=_.Fa;X||xe(),ce||(X(),ce=!0),ue.add(z,_),_.v=0}}function Fl(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Ni(p(_.Fa,_),eu(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,Ef(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Ni(p(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Yc(this),Ef(this))};function Zc(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function Ef(_){_.g=new un(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var z=Gi(_.qa);ur(z,"RID","rpc"),ur(z,"SID",_.K),ur(z,"AID",_.T),ur(z,"CI",_.F?"0":"1"),!_.F&&_.ja&&ur(z,"TO",_.ja),ur(z,"TYPE","xmlhttp"),Bo(_,z),_.m&&_.o&&Md(z,_.m,_.o),_.L&&(_.g.I=_.L);var Y=_.g;_=_.ia,Y.L=1,Y.v=Ol(Gi(z)),Y.m=null,Y.P=!0,Pl(Y,_)}t.Za=function(){this.C!=null&&(this.C=null,Yc(this),Fl(this),dt(19))};function Xa(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function Uo(_,z){var Y=null;if(_.g==z){Xa(_),Zc(_),_.g=null;var me=2}else if(kd(_.h,z))Y=z.D,Id(_.h,z),me=1;else return;if(_.G!=0){if(z.o)if(me==1){Y=z.m?z.m.length:0,z=Date.now()-z.F;var je=_.B;me=ia(),Fe(me,new ls(me,Y)),Xc(_)}else Qc(_);else if(je=z.s,je==3||je==0&&0<z.X||!(me==1&&Vd(_,z)||me==2&&Fl(_)))switch(Y&&0<Y.length&&(z=_.h,z.i=z.i.concat(Y)),je){case 1:Pi(_,5);break;case 4:Pi(_,10);break;case 3:Pi(_,6);break;default:Pi(_,2)}}}function eu(_,z){let Y=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(Y*=2),Y*z}function Pi(_,z){if(_.j.info("Error code "+z),z==2){var Y=p(_.fb,_),me=_.Xa;const je=!me;me=new Qr(me||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||jl(me,"https"),Ol(me),je?sa(me.toString(),Y):bf(me.toString(),Y)}else dt(2);_.G=0,_.l&&_.l.sa(z),tu(_),Dl(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function tu(_){if(_.G=0,_.ka=[],_.l){const z=jd(_.h);(z.length!=0||_.i.length!=0)&&(w(_.ka,z),w(_.ka,_.i),_.h.i.length=0,g(_.i),_.i.length=0),_.l.ra()}}function D(_,z,Y){var me=Y instanceof Qr?Gi(Y):new Qr(Y);if(me.g!="")z&&(me.g=z+"."+me.g),$c(me,me.s);else{var je=o.location;me=je.protocol,z=z?z+"."+je.hostname:je.hostname,je=+je.port;var Me=new Qr(null);me&&jl(Me,me),z&&(Me.g=z),je&&$c(Me,je),Y&&(Me.l=Y),me=Me}return Y=_.D,z=_.ya,Y&&z&&ur(me,Y,z),ur(me,"VER",_.la),Bo(_,me),me}function oe(_,z,Y){if(z&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=_.Ca&&!_.pa?new lr(new Wc({eb:Y})):new lr(_.pa),z.Ha(_.J),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ee(){}t=Ee.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Te(){}Te.prototype.g=function(_,z){return new Oe(_,z)};function Oe(_,z){Ie.call(this),this.g=new Kc(z),this.l=_,this.h=z&&z.messageUrlParams||null,_=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(_?_["X-WebChannel-Content-Type"]=z.messageContentType:_={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(_?_["X-WebChannel-Client-Profile"]=z.va:_={"X-WebChannel-Client-Profile":z.va}),this.g.S=_,(_=z&&z.Sb)&&!v(_)&&(this.g.m=_),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!v(z)&&(this.g.D=z,_=this.h,_!==null&&z in _&&(_=this.h,z in _&&delete _[z])),this.j=new st(this)}y(Oe,Ie),Oe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Oe.prototype.close=function(){Ya(this.g)},Oe.prototype.o=function(_){var z=this.g;if(typeof _=="string"){var Y={};Y.__data__=_,_=Y}else this.u&&(Y={},Y.__data__=$t(_),_=Y);z.i.push(new Wm(z.Ya++,_)),z.G==3&&Xc(z)},Oe.prototype.N=function(){this.g.l=null,delete this.j,Ya(this.g),delete this.g,Oe.aa.N.call(this)};function $e(_){Un.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var z=_.__sm__;if(z){e:{for(const Y in z){_=Y;break e}_=void 0}(this.i=_)&&(_=this.i,z=z!==null&&_ in z?z[_]:void 0),this.data=z}else this.data=_}y($e,Un);function Xe(){ir.call(this),this.status=1}y(Xe,ir);function st(_){this.g=_}y(st,Ee),st.prototype.ua=function(){Fe(this.g,"a")},st.prototype.ta=function(_){Fe(this.g,new $e(_))},st.prototype.sa=function(_){Fe(this.g,new Xe)},st.prototype.ra=function(){Fe(this.g,"b")},Te.prototype.createWebChannel=Te.prototype.g,Oe.prototype.send=Oe.prototype.o,Oe.prototype.open=Oe.prototype.m,Oe.prototype.close=Oe.prototype.close,J9=function(){return new Te},X9=function(){return ia()},Y9=Et,BS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ti.NO_ERROR=0,Ti.TIMEOUT=8,Ti.HTTP_ERROR=6,D1=Ti,cs.COMPLETE="complete",K9=cs,_r.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,qg=_r,lr.prototype.listenOnce=lr.prototype.L,lr.prototype.getLastError=lr.prototype.Ka,lr.prototype.getLastErrorCode=lr.prototype.Ba,lr.prototype.getStatus=lr.prototype.Z,lr.prototype.getResponseJson=lr.prototype.Oa,lr.prototype.getResponseText=lr.prototype.oa,lr.prototype.send=lr.prototype.ea,lr.prototype.setWithCredentials=lr.prototype.Ha,G9=lr}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});const EI="@firebase/firestore",AI="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new ix("@firebase/firestore");function Gf(){return $h.logLevel}function ut(t,...e){if($h.logLevel<=Wt.DEBUG){const r=e.map(M3);$h.debug(`Firestore (${Nm}): ${t}`,...r)}}function Ec(t,...e){if($h.logLevel<=Wt.ERROR){const r=e.map(M3);$h.error(`Firestore (${Nm}): ${t}`,...r)}}function Hp(t,...e){if($h.logLevel<=Wt.WARN){const r=e.map(M3);$h.warn(`Firestore (${Nm}): ${t}`,...r)}}function M3(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,Q9(t,n,r)}function Q9(t,e,r){let n=`FIRESTORE (${Nm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ec(n),new Error(n)}function Jt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||Q9(e,i,n)}function kt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends No{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Mi.UNAUTHENTICATED))}shutdown(){}}class pre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class mre{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Jt(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new dl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dl,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dl)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Jt(typeof n.accessToken=="string",31837,{l:n}),new Z9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string",2055,{h:e}),new Mi(e)}}class gre{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yre{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new gre(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vre{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_a(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Jt(this.o===void 0,3512);const n=s=>{s.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ut("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new SI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Jt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new SI(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=wre(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function Ht(t,e){return t<e?-1:t>e?1:0}function US(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return Q5(i)===Q5(s)?Ht(i,s):Q5(i)?1:-1}return Ht(t.length,e.length)}const bre=55296,xre=57343;function Q5(t){const e=t.charCodeAt(0);return e>=bre&&e<=xre}function Gp(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="__name__";class Ko{constructor(e,r,n){r===void 0?r=0:r>e.length&&_t(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&_t(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ko.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ko?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=Ko.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return Ht(e.length,r.length)}static compareSegments(e,r){const n=Ko.isNumericId(e),i=Ko.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Ko.extractNumericId(e).compare(Ko.extractNumericId(r)):US(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ku.fromString(e.substring(4,e.length-2))}}class xr extends Ko{construct(e,r,n){return new xr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new at(Ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new xr(r)}static emptyPath(){return new xr([])}}const _re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends Ko{construct(e,r,n){return new wi(e,r,n)}static isValidIdentifier(e){return _re.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NI}static keyField(){return new wi([NI])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new at(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new at(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new at(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new at(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wi(r)}static emptyPath(){return new wi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(xr.fromString(e))}static fromName(e){return new wt(xr.fromString(e).popFirst(5))}static empty(){return new wt(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return xr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new xr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t,e,r){if(!r)throw new at(Ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ere(t,e,r,n){if(e===!0&&n===!0)throw new at(Ve.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function TI(t){if(!wt.isDocumentKey(t))throw new at(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PI(t){if(wt.isDocumentKey(t))throw new at(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tB(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_t(12329,{type:typeof t})}function ja(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new at(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=lx(t);throw new at(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,e){const r={typeString:t};return e&&(r.value=e),r}function vy(t,e){if(!tB(t))throw new at(Ve.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new at(Ve.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=-62135596800,kI=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*kI);return new Dt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new at(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new at(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<CI)throw new at(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kI}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vy(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:Mn("string",Dt._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Dt(0,0))}static max(){return new Nt(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=-1;function Are(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(n===1e9?new Dt(r+1,0):new Dt(r,n));return new nd(i,wt.empty(),e)}function Sre(t){return new nd(t.readTime,t.key,U0)}class nd{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new nd(Nt.min(),wt.empty(),U0)}static max(){return new nd(Nt.max(),wt.empty(),U0)}}function Nre(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=wt.comparator(t.documentKey,e.documentKey),r!==0?r:Ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(t){if(t.code!==Ve.FAILED_PRECONDITION||t.message!==Tre)throw t;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ge((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ge?r:Ge.resolve(r)}catch(r){return Ge.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ge.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ge.reject(r)}static resolve(e){return new Ge((r,n)=>{r(e)})}static reject(e){return new Ge((r,n)=>{n(e)})}static waitFor(e){return new Ge((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=Ge.resolve(!1);for(const n of e)r=r.next(i=>i?Ge.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new Ge((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;r(e[c]).next(u=>{a[c]=u,++o,o===s&&n(a)},u=>i(u))}})}static doWhile(e,r){return new Ge((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function Cre(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Pm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=-1;function wy(t){return t==null}function jw(t){return t===0&&1/t==-1/0}function kre(t){return typeof t=="number"&&Number.isInteger(t)&&!jw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="";function Ire(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=II(e)),e=jre(t.get(r),e);return II(e)}function jre(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case rB:r+="";break;default:r+=s}}return r}function II(t){return t+rB+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function yd(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function nB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,r){this.comparator=e,this.root=r||yi.EMPTY}insert(e,r){return new Yr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,yi.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mv(this.root,e,this.comparator,!0)}}class Mv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yi{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??yi.RED,this.left=i??yi.EMPTY,this.right=s??yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new yi(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return yi.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}yi.EMPTY=null,yi.RED=!0,yi.BLACK=!1;yi.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new yi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new OI(this.data.getIterator())}getIteratorFrom(e){return new OI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Hn(this.comparator);return r.data=e,r}}class OI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.fields=e,e.sort(wi.comparator)}static empty(){return new Hs([])}unionWith(e){let r=new Hn(wi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Hs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Gp(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iB("Invalid base64 string: "+s):s}}(e);return new Ei(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Ei(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const Ore=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function id(t){if(Jt(!!t,39018),typeof t=="string"){let e=0;const r=Ore.exec(t);if(Jt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sd(t){return typeof t=="string"?Ei.fromBase64String(t):Ei.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB="server_timestamp",aB="__type__",oB="__previous_value__",lB="__local_write_time__";function U3(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[aB])==null?void 0:n.stringValue)===sB}function ux(t){const e=t.mapValue.fields[oB];return U3(e)?ux(e):e}function $0(t){const e=id(t.mapValue.fields[lB].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(e,r,n,i,s,a,o,l,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Ow="(default)";class V0{constructor(e,r){this.projectId=e,this.database=r||Ow}static empty(){return new V0("","")}get isDefaultDatabase(){return this.database===Ow}isEqual(e){return e instanceof V0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB="__type__",uB="__max__",Fv={mapValue:{fields:{__type__:{stringValue:uB}}}},dB="__vector__",Rw="value";function ad(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U3(t)?4:Dre(t)?9007199254740991:Lre(t)?10:11:_t(28295,{value:t})}function vl(t,e){if(t===e)return!0;const r=ad(t);if(r!==ad(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $0(t).isEqual($0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=id(i.timestampValue),o=id(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return sd(i.bytesValue).isEqual(sd(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return fn(i.geoPointValue.latitude)===fn(s.geoPointValue.latitude)&&fn(i.geoPointValue.longitude)===fn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return fn(i.integerValue)===fn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=fn(i.doubleValue),o=fn(s.doubleValue);return a===o?jw(a)===jw(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Gp(t.arrayValue.values||[],e.arrayValue.values||[],vl);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(jI(a)!==jI(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!vl(a[l],o[l])))return!1;return!0}(t,e);default:return _t(52216,{left:t})}}function z0(t,e){return(t.values||[]).find(r=>vl(r,e))!==void 0}function Kp(t,e){if(t===e)return 0;const r=ad(t),n=ad(e);if(r!==n)return Ht(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ht(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=fn(s.integerValue||s.doubleValue),l=fn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return RI(t.timestampValue,e.timestampValue);case 4:return RI($0(t),$0(e));case 5:return US(t.stringValue,e.stringValue);case 6:return function(s,a){const o=sd(s),l=sd(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Ht(o[c],l[c]);if(u!==0)return u}return Ht(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ht(fn(s.latitude),fn(a.latitude));return o!==0?o:Ht(fn(s.longitude),fn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return LI(t.arrayValue,e.arrayValue);case 10:return function(s,a){var p,f,y,g;const o=s.fields||{},l=a.fields||{},c=(p=o[Rw])==null?void 0:p.arrayValue,u=(f=l[Rw])==null?void 0:f.arrayValue,h=Ht(((y=c==null?void 0:c.values)==null?void 0:y.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return h!==0?h:LI(c,u)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Fv.mapValue&&a===Fv.mapValue)return 0;if(s===Fv.mapValue)return 1;if(a===Fv.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=US(l[h],u[h]);if(p!==0)return p;const f=Kp(o[l[h]],c[u[h]]);if(f!==0)return f}return Ht(l.length,u.length)}(t.mapValue,e.mapValue);default:throw _t(23264,{he:r})}}function RI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ht(t,e);const r=id(t),n=id(e),i=Ht(r.seconds,n.seconds);return i!==0?i:Ht(r.nanos,n.nanos)}function LI(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Kp(r[i],n[i]);if(s)return s}return Ht(r.length,n.length)}function Yp(t){return $S(t)}function $S(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=id(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return sd(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return wt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=$S(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${$S(r.fields[a])}`;return i+"}"}(t.mapValue):_t(61005,{value:t})}function M1(t){switch(ad(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ux(t);return e?16+M1(e):16;case 5:return 2*t.stringValue.length;case 6:return sd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+M1(s),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return yd(n.fields,(s,a)=>{i+=s.length+M1(a)}),i}(t.mapValue);default:throw _t(13486,{value:t})}}function DI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function VS(t){return!!t&&"integerValue"in t}function $3(t){return!!t&&"arrayValue"in t}function MI(t){return!!t&&"nullValue"in t}function FI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function F1(t){return!!t&&"mapValue"in t}function Lre(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[cB])==null?void 0:n.stringValue)===dB}function o0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yd(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=o0(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=o0(t.arrayValue.values[r]);return e}return{...t}}function Dre(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.value=e}static empty(){return new ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!F1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=o0(r)}setAll(e){let r=wi.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=o0(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());F1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return vl(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];F1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){yd(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new ts(o0(this.value))}}function hB(t){const e=[];return yd(t.fields,(r,n)=>{const i=new wi([r]);if(F1(n)){const s=hB(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Hs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ri(e,0,Nt.min(),Nt.min(),Nt.min(),ts.empty(),0)}static newFoundDocument(e,r,n,i){return new ri(e,1,r,Nt.min(),n,i,0)}static newNoDocument(e,r){return new ri(e,2,r,Nt.min(),Nt.min(),ts.empty(),0)}static newUnknownDocument(e,r){return new ri(e,3,r,Nt.min(),Nt.min(),ts.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ri&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,r){this.position=e,this.inclusive=r}}function BI(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=wt.comparator(wt.fromName(a.referenceValue),r.key):n=Kp(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function UI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!vl(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,r="asc"){this.field=e,this.dir=r}}function Mre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{}class Dn extends fB{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Bre(e,r,n):r==="array-contains"?new Vre(e,n):r==="in"?new zre(e,n):r==="not-in"?new qre(e,n):r==="array-contains-any"?new Wre(e,n):new Dn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Ure(e,n):new $re(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Kp(r,this.value)):r!==null&&ad(this.value)===ad(r)&&this.matchesComparison(Kp(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Eo extends fB{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Eo(e,r)}matches(e){return pB(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pB(t){return t.op==="and"}function mB(t){return Fre(t)&&pB(t)}function Fre(t){for(const e of t.filters)if(e instanceof Eo)return!1;return!0}function zS(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+Yp(t.value);if(mB(t))return t.filters.map(e=>zS(e)).join(",");{const e=t.filters.map(r=>zS(r)).join(",");return`${t.op}(${e})`}}function gB(t,e){return t instanceof Dn?function(n,i){return i instanceof Dn&&n.op===i.op&&n.field.isEqual(i.field)&&vl(n.value,i.value)}(t,e):t instanceof Eo?function(n,i){return i instanceof Eo&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&gB(a,i.filters[o]),!0):!1}(t,e):void _t(19439)}function yB(t){return t instanceof Dn?function(r){return`${r.field.canonicalString()} ${r.op} ${Yp(r.value)}`}(t):t instanceof Eo?function(r){return r.op.toString()+" {"+r.getFilters().map(yB).join(" ,")+"}"}(t):"Filter"}class Bre extends Dn{constructor(e,r,n){super(e,r,n),this.key=wt.fromName(n.referenceValue)}matches(e){const r=wt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Ure extends Dn{constructor(e,r){super(e,"in",r),this.keys=vB("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class $re extends Dn{constructor(e,r){super(e,"not-in",r),this.keys=vB("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function vB(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>wt.fromName(n.referenceValue))}class Vre extends Dn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return $3(r)&&z0(r.arrayValue,this.value)}}class zre extends Dn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&z0(this.value.arrayValue,r)}}class qre extends Dn{constructor(e,r){super(e,"not-in",r)}matches(e){if(z0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!z0(this.value.arrayValue,r)}}class Wre extends Dn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!$3(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>z0(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function $I(t,e=null,r=[],n=[],i=null,s=null,a=null){return new Hre(t,e,r,n,i,s,a)}function V3(t){const e=kt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>zS(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),wy(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Yp(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Yp(n)).join(",")),e.Te=r}return e.Te}function z3(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Mre(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!gB(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UI(t.startAt,e.startAt)&&UI(t.endAt,e.endAt)}function qS(t){return wt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Gre(t,e,r,n,i,s,a,o){return new Cm(t,e,r,n,i,s,a,o)}function q3(t){return new Cm(t)}function VI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wB(t){return t.collectionGroup!==null}function l0(t){const e=kt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Hn(wi.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new q0(s,n))}),r.has(wi.keyField().canonicalString())||e.Ie.push(new q0(wi.keyField(),n))}return e.Ie}function hl(t){const e=kt(t);return e.Ee||(e.Ee=Kre(e,l0(t))),e.Ee}function Kre(t,e){if(t.limitType==="F")return $I(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new q0(i.field,s)});const r=t.endAt?new Lw(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Lw(t.startAt.position,t.startAt.inclusive):null;return $I(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function WS(t,e){const r=t.filters.concat([e]);return new Cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Dw(t,e,r){return new Cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function dx(t,e){return z3(hl(t),hl(e))&&t.limitType===e.limitType}function bB(t){return`${V3(hl(t))}|lt:${t.limitType}`}function Kf(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>yB(i)).join(", ")}]`),wy(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Yp(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Yp(i)).join(",")),`Target(${n})`}(hl(t))}; limitType=${t.limitType})`}function hx(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):wt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of l0(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const c=BI(a,o,l);return a.inclusive?c<=0:c<0}(n.startAt,l0(n),i)||n.endAt&&!function(a,o,l){const c=BI(a,o,l);return a.inclusive?c>=0:c>0}(n.endAt,l0(n),i))}(t,e)}function Yre(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xB(t){return(e,r)=>{let n=!1;for(const i of l0(t)){const s=Xre(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Xre(t,e,r){const n=t.field.isKeyField()?wt.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Kp(l,c):_t(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return _t(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yd(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return nB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre=new Yr(wt.comparator);function Ac(){return Jre}const _B=new Yr(wt.comparator);function Wg(...t){let e=_B;for(const r of t)e=e.insert(r.key,r);return e}function EB(t){let e=_B;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function hh(){return c0()}function AB(){return c0()}function c0(){return new tf(t=>t.toString(),(t,e)=>t.isEqual(e))}const Qre=new Yr(wt.comparator),Zre=new Hn(wt.comparator);function Gt(...t){let e=Zre;for(const r of t)e=e.add(r);return e}const ene=new Hn(Ht);function tne(){return ene}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jw(e)?"-0":e}}function SB(t){return{integerValue:""+t}}function rne(t,e){return kre(e)?SB(e):W3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this._=void 0}}function nne(t,e,r){return t instanceof Mw?function(i,s){const a={fields:{[aB]:{stringValue:sB},[lB]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&U3(s)&&(s=ux(s)),s&&(a.fields[oB]=s),{mapValue:a}}(r,e):t instanceof W0?TB(t,e):t instanceof H0?PB(t,e):function(i,s){const a=NB(i,s),o=zI(a)+zI(i.Ae);return VS(a)&&VS(i.Ae)?SB(o):W3(i.serializer,o)}(t,e)}function ine(t,e,r){return t instanceof W0?TB(t,e):t instanceof H0?PB(t,e):r}function NB(t,e){return t instanceof Fw?function(n){return VS(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Mw extends fx{}class W0 extends fx{constructor(e){super(),this.elements=e}}function TB(t,e){const r=CB(e);for(const n of t.elements)r.some(i=>vl(i,n))||r.push(n);return{arrayValue:{values:r}}}class H0 extends fx{constructor(e){super(),this.elements=e}}function PB(t,e){let r=CB(e);for(const n of t.elements)r=r.filter(i=>!vl(i,n));return{arrayValue:{values:r}}}class Fw extends fx{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function zI(t){return fn(t.integerValue||t.doubleValue)}function CB(t){return $3(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sne(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof W0&&i instanceof W0||n instanceof H0&&i instanceof H0?Gp(n.elements,i.elements,vl):n instanceof Fw&&i instanceof Fw?vl(n.Ae,i.Ae):n instanceof Mw&&i instanceof Mw}(t.transform,e.transform)}class ane{constructor(e,r){this.version=e,this.transformResults=r}}class bi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function B1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class px{}function kB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mx(t.key,bi.none()):new by(t.key,t.data,bi.none());{const r=t.data,n=ts.empty();let i=new Hn(wi.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new vd(t.key,n,new Hs(i.toArray()),bi.none())}}function one(t,e,r){t instanceof by?function(i,s,a){const o=i.value.clone(),l=WI(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof vd?function(i,s,a){if(!B1(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=WI(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(IB(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function u0(t,e,r,n){return t instanceof by?function(s,a,o,l){if(!B1(s.precondition,a))return o;const c=s.value.clone(),u=HI(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof vd?function(s,a,o,l){if(!B1(s.precondition,a))return o;const c=HI(s.fieldTransforms,l,a),u=a.data;return u.setAll(IB(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(s,a,o){return B1(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function lne(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=NB(n.transform,i||null);s!=null&&(r===null&&(r=ts.empty()),r.set(n.field,s))}return r||null}function qI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Gp(n,i,(s,a)=>sne(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class by extends px{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vd extends px{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IB(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function WI(t,e,r){const n=new Map;Jt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,ine(a,o,r[i]))}return n}function HI(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,nne(s,a,e))}return n}class mx extends px{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jB extends px{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&one(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=u0(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=u0(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=AB();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=kB(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Nt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Gp(this.mutations,e.mutations,(r,n)=>qI(r,n))&&Gp(this.baseMutations,e.baseMutations,(r,n)=>qI(r,n))}}class H3{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Jt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return Qre}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new H3(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On,Yt;function OB(t){switch(t){case Ve.OK:return _t(64938);case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return _t(15467,{code:t})}}function RB(t){if(t===void 0)return Ec("GRPC error has no .code"),Ve.UNKNOWN;switch(t){case On.OK:return Ve.OK;case On.CANCELLED:return Ve.CANCELLED;case On.UNKNOWN:return Ve.UNKNOWN;case On.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case On.INTERNAL:return Ve.INTERNAL;case On.UNAVAILABLE:return Ve.UNAVAILABLE;case On.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case On.NOT_FOUND:return Ve.NOT_FOUND;case On.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case On.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case On.ABORTED:return Ve.ABORTED;case On.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case On.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case On.DATA_LOSS:return Ve.DATA_LOSS;default:return _t(39323,{code:t})}}(Yt=On||(On={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fne=new Ku([4294967295,4294967295],0);function GI(t){const e=hne().encode(t),r=new H9;return r.update(e),new Uint8Array(r.digest())}function KI(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ku([r,n],0),new Ku([i,s],0)]}class G3{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Hg(`Invalid padding: ${r}`);if(n<0)throw new Hg(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Hg(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Hg(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Ku.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Ku.fromNumber(n)));return i.compare(fne)===1&&(i=new Ku([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=GI(e),[n,i]=KI(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);if(!this.we(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new G3(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const r=GI(e),[n,i]=KI(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Hg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,xy.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new gx(Nt.min(),i,new Yr(Ht),Ac(),Gt())}}class xy{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new xy(n,r,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class LB{constructor(e,r){this.targetId=e,this.Ce=r}}class DB{constructor(e,r,n=Ei.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class YI{constructor(){this.ve=0,this.Fe=XI(),this.Me=Ei.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Gt(),r=Gt(),n=Gt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:_t(38017,{changeType:s})}}),new xy(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=XI()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pne{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ac(),this.Je=Bv(),this.He=Bv(),this.Ye=new Yr(Ht)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(qS(s))if(n===0){const a=new wt(s.path);this.et(r,a,ri.newNoDocument(a,Nt.min()))}else Jt(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=sd(n).toUint8Array()}catch(l){if(l instanceof iB)return Hp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new G3(a,i,s)}catch(l){return Hp(l instanceof Hg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(r,s,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&qS(o.target)){const l=new wt(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,ri.newNoDocument(l,e))}s.Be&&(r.set(a,s.ke()),s.qe())}});let n=Gt();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new gx(e,r,this.Ye,this.je,n);return this.je=Ac(),this.Je=Bv(),this.He=Bv(),this.Ye=new Yr(Ht),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new YI,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Hn(Ht),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Hn(Ht),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ut("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YI),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Bv(){return new Yr(wt.comparator)}function XI(){return new Yr(wt.comparator)}const mne={asc:"ASCENDING",desc:"DESCENDING"},gne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yne={and:"AND",or:"OR"};class vne{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function HS(t,e){return t.useProto3Json||wy(e)?e:{value:e}}function Bw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wne(t,e){return Bw(t,e.toTimestamp())}function Ys(t){return Jt(!!t,49232),Nt.fromTimestamp(function(r){const n=id(r);return new Dt(n.seconds,n.nanos)}(t))}function K3(t,e){return GS(t,e).canonicalString()}function GS(t,e){const r=function(i){return new xr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function FB(t){const e=xr.fromString(t);return Jt(qB(e),10190,{key:e.toString()}),e}function Uw(t,e){return K3(t.databaseId,e.path)}function d0(t,e){const r=FB(e);if(r.get(1)!==t.databaseId.projectId)throw new at(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new at(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new wt(UB(r))}function BB(t,e){return K3(t.databaseId,e)}function bne(t){const e=FB(t);return e.length===4?xr.emptyPath():UB(e)}function KS(t){return new xr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UB(t){return Jt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JI(t,e,r){return{name:Uw(t,e),fields:r.value.mapValue.fields}}function xne(t,e){return"found"in e?function(n,i){Jt(!!i.found,43571),i.found.name,i.found.updateTime;const s=d0(n,i.found.name),a=Ys(i.found.updateTime),o=i.found.createTime?Ys(i.found.createTime):Nt.min(),l=new ts({mapValue:{fields:i.found.fields}});return ri.newFoundDocument(s,a,o,l)}(t,e):"missing"in e?function(n,i){Jt(!!i.missing,3894),Jt(!!i.readTime,22933);const s=d0(n,i.missing),a=Ys(i.readTime);return ri.newNoDocument(s,a)}(t,e):_t(7234,{result:e})}function _ne(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_t(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Jt(u===void 0||typeof u=="string",58123),Ei.fromBase64String(u||"")):(Jt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Ei.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?Ve.UNKNOWN:RB(c.code);return new at(u,c.message||"")}(a);r=new DB(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=d0(t,n.document.name),s=Ys(n.document.updateTime),a=n.document.createTime?Ys(n.document.createTime):Nt.min(),o=new ts({mapValue:{fields:n.document.fields}}),l=ri.newFoundDocument(i,s,a,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new U1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=d0(t,n.document),s=n.readTime?Ys(n.readTime):Nt.min(),a=ri.newNoDocument(i,s),o=n.removedTargetIds||[];r=new U1([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=d0(t,n.document),s=n.removedTargetIds||[];r=new U1([],s,i,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new dne(i,s),o=n.targetId;r=new LB(o,a)}}return r}function $B(t,e){let r;if(e instanceof by)r={update:JI(t,e.key,e.value)};else if(e instanceof mx)r={delete:Uw(t,e.key)};else if(e instanceof vd)r={update:JI(t,e.key,e.data),updateMask:Ine(e.fieldMask)};else{if(!(e instanceof jB))return _t(16599,{Vt:e.type});r={verify:Uw(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof Mw)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof W0)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof H0)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Fw)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw _t(20930,{transform:a.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wne(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_t(27497)}(t,e.precondition)),r}function Ene(t,e){return t&&t.length>0?(Jt(e!==void 0,14353),t.map(r=>function(i,s){let a=i.updateTime?Ys(i.updateTime):Ys(s);return a.isEqual(Nt.min())&&(a=Ys(s)),new ane(a,i.transformResults||[])}(r,e))):[]}function Ane(t,e){return{documents:[BB(t,e.path)]}}function Sne(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=BB(t,i);const s=function(c){if(c.length!==0)return zB(Eo.create(c,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Yf(p.field),direction:Pne(p.dir)}}(u))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=HS(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:r,parent:i}}function Nne(t){let e=bne(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Jt(n===1,65062);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(h){const p=VB(h);return p instanceof Eo&&mB(p)?p.getFilters():[p]}(r.where));let a=[];r.orderBy&&(a=function(h){return h.map(p=>function(y){return new q0(Xf(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(h){let p;return p=typeof h=="object"?h.value:h,wy(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new Lw(f,p)}(r.startAt));let c=null;return r.endAt&&(c=function(h){const p=!h.before,f=h.values||[];return new Lw(f,p)}(r.endAt)),Gre(e,i,a,s,o,"F",l,c)}function Tne(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function VB(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Xf(r.unaryFilter.field);return Dn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Xf(r.unaryFilter.field);return Dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xf(r.unaryFilter.field);return Dn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Xf(r.unaryFilter.field);return Dn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(t):t.fieldFilter!==void 0?function(r){return Dn.create(Xf(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Eo.create(r.compositeFilter.filters.map(n=>VB(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(r.compositeFilter.op))}(t):_t(30097,{filter:t})}function Pne(t){return mne[t]}function Cne(t){return gne[t]}function kne(t){return yne[t]}function Yf(t){return{fieldPath:t.canonicalString()}}function Xf(t){return wi.fromServerFormat(t.fieldPath)}function zB(t){return t instanceof Dn?function(r){if(r.op==="=="){if(FI(r.value))return{unaryFilter:{field:Yf(r.field),op:"IS_NAN"}};if(MI(r.value))return{unaryFilter:{field:Yf(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(FI(r.value))return{unaryFilter:{field:Yf(r.field),op:"IS_NOT_NAN"}};if(MI(r.value))return{unaryFilter:{field:Yf(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yf(r.field),op:Cne(r.op),value:r.value}}}(t):t instanceof Eo?function(r){const n=r.getFilters().map(i=>zB(i));return n.length===1?n[0]:{compositeFilter:{op:kne(r.op),filters:n}}}(t):_t(54877,{filter:t})}function Ine(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function qB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,r,n,i,s=Nt.min(),a=Nt.min(),o=Ei.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Du(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(e){this.yt=e}}function One(t){const e=Nne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(){this.Cn=new Lne}addToCollectionParentIndex(e,r){return this.Cn.add(r),Ge.resolve()}getCollectionParents(e,r){return Ge.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Ge.resolve()}deleteFieldIndex(e,r){return Ge.resolve()}deleteAllFieldIndexes(e){return Ge.resolve()}createTargetIndexes(e,r){return Ge.resolve()}getDocumentsMatchingTarget(e,r){return Ge.resolve(null)}getIndexType(e,r){return Ge.resolve(0)}getFieldIndexes(e,r){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,r){return Ge.resolve(nd.min())}getMinOffsetFromCollectionGroup(e,r){return Ge.resolve(nd.min())}updateCollectionGroup(e,r,n){return Ge.resolve()}updateIndexEntries(e,r){return Ge.resolve()}}class Lne{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Hn(xr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Hn(xr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WB=41943040;class vs{static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(WB,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xp(0)}static cr(){return new Xp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="LruGarbageCollector",Dne=1048576;function ej([t,e],[r,n]){const i=Ht(t,r);return i===0?Ht(e,n):i}class Mne{constructor(e){this.Ir=e,this.buffer=new Hn(ej),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();ej(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Fne{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(ZI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Pm(r)?ut(ZI,"Ignoring IndexedDB error during garbage collection: ",r):await Tm(r)}await this.Vr(3e5)})}}class Bne{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Ge.resolve(cx.ce);const n=new Mne(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(QI)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QI):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,o=Date.now(),this.removeTargets(e,n,r))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(c=Date.now(),Gf()<=Wt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function Une(t,e){return new Bne(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(){this.changes=new tf(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ri.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ge.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zne{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&u0(n.mutation,i,Hs.empty(),Dt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Gt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Gt()){const i=hh();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Wg();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=hh();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Gt()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=Ac();const a=c0(),o=function(){return c0()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof vd)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),u0(u.mutation,c,u.mutation.getFieldMask(),Dt.now())):a.set(c.key,Hs.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>a.set(c,u)),r.forEach((c,u)=>o.set(c,new Vne(u,a.get(c)??null))),o))}recalculateAndSaveOverlays(e,r){const n=c0();let i=new Yr((a,o)=>a-o),s=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Hs.empty();u=o.applyToLocalView(c,u),n.set(l,u);const h=(i.get(o.batchId)||Gt()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,h=AB();u.forEach(p=>{if(!s.has(p)){const f=kB(r.get(p),n.get(p));f!==null&&h.set(p,f),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Ge.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return wt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):wB(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):Ge.resolve(hh());let o=U0,l=s;return a.next(c=>Ge.forEach(c,(u,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(u)?Ge.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Gt())).next(u=>({batchId:o,changes:EB(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new wt(r)).next(n=>{let i=Wg();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Wg();return this.indexManager.getCollectionParents(e,s).next(o=>Ge.forEach(o,l=>{const c=function(h,p){return new Cm(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((h,p)=>{a=a.insert(h,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,ri.newInvalidDocument(u)))});let o=Wg();return a.forEach((l,c)=>{const u=s.get(l);u!==void 0&&u0(u.mutation,c,Hs.empty(),Dt.now()),hx(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Ge.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ys(i.createTime)}}(r)),Ge.resolve()}getNamedQuery(e,r){return Ge.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:One(i.bundledQuery),readTime:Ys(i.readTime)}}(r)),Ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(){this.overlays=new Yr(wt.comparator),this.qr=new Map}getOverlay(e,r){return Ge.resolve(this.overlays.get(r))}getOverlays(e,r){const n=hh();return Ge.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.St(e,r,s)}),Ge.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),Ge.resolve()}getOverlaysForCollection(e,r,n){const i=hh(),s=r.length+1,a=new wt(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Ge.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Yr((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=s.get(c.largestBatchId);u===null&&(u=hh(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=hh(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return Ge.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new une(r,n));let s=this.qr.get(r);s===void 0&&(s=Gt(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hne{constructor(){this.sessionToken=Ei.EMPTY_BYTE_STRING}getSessionToken(e){return Ge.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this.Qr=new Hn(Qn.$r),this.Ur=new Hn(Qn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Qn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Qn(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new wt(new xr([])),n=new Qn(r,e),i=new Qn(r,e+1),s=[];return this.Ur.forEachInRange([n,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new wt(new xr([])),n=new Qn(r,e),i=new Qn(r,e+1);let s=Gt();return this.Ur.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Qn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Qn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return wt.comparator(e.key,r.key)||Ht(e.Yr,r.Yr)}static Kr(e,r){return Ht(e.Yr,r.Yr)||wt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Hn(Qn.$r)}checkEmpty(e){return Ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new cne(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Qn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ge.resolve(a)}lookupMutationBatch(e,r){return Ge.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return Ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(this.mutationQueue.length===0?B3:this.tr-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Qn(r,0),i=new Qn(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),Ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Hn(Ht);return r.forEach(i=>{const s=new Qn(i,0),a=new Qn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{n=n.add(o.Yr)})}),Ge.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;wt.isDocumentKey(s)||(s=s.child(""));const a=new Qn(new wt(s),0);let o=new Hn(Ht);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},a),Ge.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Jt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ge.forEach(r.mutations,i=>{const s=new Qn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Qn(r,0),i=this.Zr.firstAfterOrEqual(n);return Ge.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ge.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(e){this.ri=e,this.docs=function(){return new Yr(wt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ge.resolve(n?n.document.mutableCopy():ri.newInvalidDocument(r))}getEntries(e,r){let n=Ac();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():ri.newInvalidDocument(i))}),Ge.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Ac();const a=r.path,o=new wt(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Nre(Sre(u),n)<=0||(i.has(u.key)||hx(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Ge.resolve(s)}getAllFromCollectionGroup(e,r,n,i){_t(9500)}ii(e,r){return Ge.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Yne(this)}getSize(e){return Ge.resolve(this.size)}}class Yne extends $ne{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),Ge.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(e){this.persistence=e,this.si=new tf(r=>V3(r),z3),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new Y3,this.targetCount=0,this.ai=Xp.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Ge.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Xp(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Ge.resolve()}updateTargetData(e,r){return this.Pr(r),Ge.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Ge.waitFor(s).next(()=>i)}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return Ge.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),Ge.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Ge.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Ge.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return Ge.resolve(n)}containsKey(e,r){return Ge.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,r){this.ui={},this.overlays={},this.ci=new cx(0),this.li=!1,this.li=!0,this.hi=new Hne,this.referenceDelegate=e(this),this.Pi=new Xne(this),this.indexManager=new Rne,this.remoteDocumentCache=function(i){return new Kne(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new jne(r),this.Ii=new qne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Wne,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Gne(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ut("MemoryPersistence","Starting transaction:",e);const i=new Jne(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,r){return Ge.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class Jne extends Pre{constructor(e){super(),this.currentSequenceNumber=e}}class X3{constructor(e){this.persistence=e,this.Ri=new Y3,this.Vi=null}static mi(e){return new X3(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Ge.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Ge.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Ge.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.fi,n=>{const i=wt.fromPath(n);return this.gi(e,i).next(s=>{s||r.removeEntry(i,Nt.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return Ge.or([()=>Ge.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class $w{constructor(e,r){this.persistence=e,this.pi=new tf(n=>Ire(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Une(this,r)}static mi(e,r){return new $w(e,r)}Ei(){}di(e){return Ge.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return Ge.forEach(this.pi,(n,i)=>this.br(e,n,i).next(s=>s?Ge.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,r).next(o=>{o||(n++,s.removeEntry(a,Nt.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ge.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ge.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=M1(e.data.value)),r}br(e,r,n){return Ge.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return Ge.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Gt(),i=Gt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new J3(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return jQ()?8:Cre(zi())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Qne;return this.Ss(e,r,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,r,a,o.size)})}).next(()=>s.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(Gf()<=Wt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Kf(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ge.resolve()):(Gf()<=Wt.DEBUG&&ut("QueryEngine","Query:",Kf(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Gf()<=Wt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Kf(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hl(r))):Ge.resolve())}ys(e,r){if(VI(r))return Ge.resolve(null);let n=hl(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Dw(r,null,"F"),n=hl(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Gt(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Ds(r,o);return this.Cs(r,c,a,l.readTime)?this.ys(e,Dw(r,null,"F")):this.vs(e,c,r,l)}))})))}ws(e,r,n,i){return VI(r)||i.isEqual(Nt.min())?Ge.resolve(null):this.ps.getDocuments(e,n).next(s=>{const a=this.Ds(r,s);return this.Cs(r,a,n,i)?Ge.resolve(null):(Gf()<=Wt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kf(r)),this.vs(e,a,r,Are(i,U0)).next(o=>o))})}Ds(e,r){let n=new Hn(xB(e));return r.forEach((i,s)=>{hx(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return Gf()<=Wt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Kf(r)),this.ps.getDocumentsMatchingQuery(e,r,nd.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="LocalStore",eie=3e8;class tie{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Yr(Ht),this.xs=new tf(s=>V3(s),z3),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zne(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function rie(t,e,r,n){return new tie(t,e,r,n)}async function GB(t,e){const r=kt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Gt();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function nie(t,e){const r=kt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const h=c.batch,p=h.keys();let f=Ge.resolve();return p.forEach(y=>{f=f.next(()=>u.getEntry(l,y)).next(g=>{const w=c.docVersions.get(y);Jt(w!==null,48541),g.version.compareTo(w)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Gt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function KB(t){const e=kt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function iie(t,e){const r=kt(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((u,h)=>{const p=i.get(h);if(!p)return;o.push(r.Pi.removeMatchingKeys(s,u.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(s,u.addedDocuments,h)));let f=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Ei.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,n)),i=i.insert(h,f),function(g,w,m){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=eie?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(p,f,u)&&o.push(r.Pi.updateTargetData(s,f))});let l=Ac(),c=Gt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(sie(s,a,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!n.isEqual(Nt.min())){const u=r.Pi.getLastRemoteSnapshotVersion(s).next(h=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(u)}return Ge.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(r.Ms=i,s))}function sie(t,e,r){let n=Gt(),i=Gt();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=Ac();return r.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Nt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ut(Q3,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:a,qs:i}})}function aie(t,e){const r=kt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=B3),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function oie(t,e){const r=kt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(s=>s?(i=s,Ge.resolve(i)):r.Pi.allocateTargetId(n).next(a=>(i=new Du(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function YS(t,e,r){const n=kt(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Pm(a))throw a;ut(Q3,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function tj(t,e,r){const n=kt(t);let i=Nt.min(),s=Gt();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const h=kt(l),p=h.xs.get(u);return p!==void 0?Ge.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,u)}(n,a,hl(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(a,e,r?i:Nt.min(),r?s:Gt())).next(o=>(lie(n,Yre(e),o),{documents:o,Qs:s})))}function lie(t,e,r){let n=t.Os.get(e)||Nt.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Os.set(e,n)}class rj{constructor(){this.activeTargetIds=tne()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cie{constructor(){this.Mo=new rj,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rj,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="ConnectivityMonitor";class ij{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(nj,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(nj,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uv=null;function XS(){return Uv===null?Uv=function(){return 268435456+Math.round(2147483648*Math.random())}():Uv++,"0x"+Uv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="RestConnection",die={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hie{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Ow?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const a=XS(),o=this.zo(e,r.toUriEncodedString());ut(Z5,`Sending RPC '${e}' ${a}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),u=Em(c);return this.Jo(e,o,l,n,u).then(h=>(ut(Z5,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Hp(Z5,`RPC '${e}' ${a} failed with error: `,h,"url: ",o,"request:",n),h})}Ho(e,r,n,i,s,a){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nm}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}zo(e,r){const n=die[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fie{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="WebChannelConnection";class pie extends hie{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const a=XS();return new Promise((o,l)=>{const c=new G9;c.setWithCredentials(!0),c.listenOnce(K9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case D1.NO_ERROR:const h=c.getResponseJson();ut(Ii,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case D1.TIMEOUT:ut(Ii,`RPC '${e}' ${a} timed out`),l(new at(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case D1.HTTP_ERROR:const p=c.getStatus();if(ut(Ii,`RPC '${e}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const y=f==null?void 0:f.error;if(y&&y.status&&y.message){const g=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(v)>=0?v:Ve.UNKNOWN}(y.status);l(new at(g,y.message))}else l(new at(Ve.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new at(Ve.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ut(Ii,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);ut(Ii,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",u,n,15)})}T_(e,r,n){const i=XS(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=J9(),o=X9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=s.join("");ut(Ii,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=a.createWebChannel(u,l);this.I_(h);let p=!1,f=!1;const y=new fie({Yo:w=>{f?ut(Ii,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(ut(Ii,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),ut(Ii,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},Zo:()=>h.close()}),g=(w,m,v)=>{w.listen(m,x=>{try{v(x)}catch(E){setTimeout(()=>{throw E},0)}})};return g(h,qg.EventType.OPEN,()=>{f||(ut(Ii,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),g(h,qg.EventType.CLOSE,()=>{f||(f=!0,ut(Ii,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(h))}),g(h,qg.EventType.ERROR,w=>{f||(f=!0,Hp(Ii,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),y.a_(new at(Ve.UNAVAILABLE,"The operation could not be completed")))}),g(h,qg.EventType.MESSAGE,w=>{var m;if(!f){const v=w.data[0];Jt(!!v,16349);const x=v,E=(x==null?void 0:x.error)||((m=x[0])==null?void 0:m.error);if(E){ut(Ii,`RPC '${e}' stream ${i} received error:`,E);const N=E.status;let C=function(T){const q=On[T];if(q!==void 0)return RB(q)}(N),P=E.message;C===void 0&&(C=Ve.INTERNAL,P="Unknown error status: "+N+" with message "+E.message),f=!0,y.a_(new at(C,P)),h.close()}else ut(Ii,`RPC '${e}' stream ${i} received:`,v),y.u_(v)}}),g(o,Y9.STAT_EVENT,w=>{w.stat===BS.PROXY?ut(Ii,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===BS.NOPROXY&&ut(Ii,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function e_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t){return new vne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="PersistentStream";class YB{constructor(e,r,n,i,s,a,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z3(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ve.RESOURCE_EXHAUSTED?(Ec(r.toString()),Ec("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new at(Ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ut(sj,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ut(sj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mie extends YB{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=_ne(this.serializer,e),n=function(s){if(!("targetChange"in s))return Nt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Nt.min():a.readTime?Ys(a.readTime):Nt.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=KS(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=qS(l)?{documents:Ane(s,l)}:{query:Sne(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=MB(s,a.resumeToken);const c=HS(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Nt.min())>0){o.readTime=Bw(s,a.snapshotVersion.toTimestamp());const c=HS(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=Tne(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=KS(this.serializer),r.removeTarget=e,this.q_(r)}}class gie extends YB{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Ene(e.writeResults,e.commitTime),n=Ys(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=KS(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>$B(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yie{}class vie extends yie{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new at(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,GS(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new at(Ve.UNKNOWN,s.toString())})}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,GS(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new at(Ve.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class wie{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ec(r),this.aa=!1):ut("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="RemoteStore";class bie{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{n.enqueueAndForget(async()=>{rf(this)&&(ut(Vh,"Restarting streams for network reachability change."),await async function(l){const c=kt(l);c.Ea.add(4),await _y(c),c.Ra.set("Unknown"),c.Ea.delete(4),await vx(c)}(this))})}),this.Ra=new wie(n,i)}}async function vx(t){if(rf(t))for(const e of t.da)await e(!0)}async function _y(t){for(const e of t.da)await e(!1)}function XB(t,e){const r=kt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),nT(r)?rT(r):km(r).O_()&&tT(r,e))}function eT(t,e){const r=kt(t),n=km(r);r.Ia.delete(e),n.O_()&&JB(r,e),r.Ia.size===0&&(n.O_()?n.L_():rf(r)&&r.Ra.set("Unknown"))}function tT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}km(t).Y_(e)}function JB(t,e){t.Va.Ue(e),km(t).Z_(e)}function rT(t){t.Va=new pne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),km(t).start(),t.Ra.ua()}function nT(t){return rf(t)&&!km(t).x_()&&t.Ia.size>0}function rf(t){return kt(t).Ea.size===0}function QB(t){t.Va=void 0}async function xie(t){t.Ra.set("Online")}async function _ie(t){t.Ia.forEach((e,r)=>{tT(t,e)})}async function Eie(t,e){QB(t),nT(t)?(t.Ra.ha(e),rT(t)):t.Ra.set("Unknown")}async function Aie(t,e,r){if(t.Ra.set("Online"),e instanceof DB&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){ut(Vh,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Vw(t,n)}else if(e instanceof U1?t.Va.Ze(e):e instanceof LB?t.Va.st(e):t.Va.tt(e),!r.isEqual(Nt.min()))try{const n=await KB(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(Ei.EMPTY_BYTE_STRING,u.snapshotVersion)),JB(s,l);const h=new Du(u.target,l,c,u.sequenceNumber);tT(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){ut(Vh,"Failed to raise snapshot:",n),await Vw(t,n)}}async function Vw(t,e,r){if(!Pm(e))throw e;t.Ea.add(1),await _y(t),t.Ra.set("Offline"),r||(r=()=>KB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ut(Vh,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await vx(t)})}function ZB(t,e){return e().catch(r=>Vw(t,r,e))}async function wx(t){const e=kt(t),r=od(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:B3;for(;Sie(e);)try{const i=await aie(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,Nie(e,i)}catch(i){await Vw(e,i)}eU(e)&&tU(e)}function Sie(t){return rf(t)&&t.Ta.length<10}function Nie(t,e){t.Ta.push(e);const r=od(t);r.O_()&&r.X_&&r.ea(e.mutations)}function eU(t){return rf(t)&&!od(t).x_()&&t.Ta.length>0}function tU(t){od(t).start()}async function Tie(t){od(t).ra()}async function Pie(t){const e=od(t);for(const r of t.Ta)e.ea(r.mutations)}async function Cie(t,e,r){const n=t.Ta.shift(),i=H3.from(n,e,r);await ZB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wx(t)}async function kie(t,e){e&&od(t).X_&&await async function(n,i){if(function(a){return OB(a)&&a!==Ve.ABORTED}(i.code)){const s=n.Ta.shift();od(n).B_(),await ZB(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await wx(n)}}(t,e),eU(t)&&tU(t)}async function aj(t,e){const r=kt(t);r.asyncQueue.verifyOperationInProgress(),ut(Vh,"RemoteStore received new credentials");const n=rf(r);r.Ea.add(3),await _y(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await vx(r)}async function Iie(t,e){const r=kt(t);e?(r.Ea.delete(2),await vx(r)):e||(r.Ea.add(2),await _y(r),r.Ra.set("Unknown"))}function km(t){return t.ma||(t.ma=function(r,n,i){const s=kt(r);return s.sa(),new mie(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:xie.bind(null,t),t_:_ie.bind(null,t),r_:Eie.bind(null,t),H_:Aie.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),nT(t)?rT(t):t.Ra.set("Unknown")):(await t.ma.stop(),QB(t))})),t.ma}function od(t){return t.fa||(t.fa=function(r,n,i){const s=kt(r);return s.sa(),new gie(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Tie.bind(null,t),r_:kie.bind(null,t),ta:Pie.bind(null,t),na:Cie.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await wx(t)):(await t.fa.stop(),t.Ta.length>0&&(ut(Vh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new iT(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sT(t,e){if(Ec("AsyncQueue",`${e}: ${t}`),Pm(t))return new at(Ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{static emptySet(e){return new Tp(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||wt.comparator(r.key,n.key):(r,n)=>wt.comparator(r.key,n.key),this.keyedMap=Wg(),this.sortedSet=new Yr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Tp)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Tp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.ga=new Yr(wt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class Jp{constructor(e,r,n,i,s,a,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new Jp(e,r,Tp.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Oie{constructor(){this.queries=lj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=kt(r),s=i.queries;i.queries=lj(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new at(Ve.ABORTED,"Firestore shutting down"))}}function lj(){return new tf(t=>bB(t),dx)}async function rU(t,e){const r=kt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new jie,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=sT(a,`Initialization of query '${Kf(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&aT(r)}async function nU(t,e){const r=kt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Rie(t,e){const r=kt(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(n=!0);a.wa=i}}n&&aT(r)}function Lie(t,e,r){const n=kt(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function aT(t){t.Ca.forEach(e=>{e.next()})}var JS,cj;(cj=JS||(JS={})).Ma="default",cj.Cache="cache";class iU{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Jp(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Jp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==JS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.key=e}}class aU{constructor(e){this.key=e}}class Die{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gt(),this.mutatedKeys=Gt(),this.eu=xB(e),this.tu=new Tp(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new oj,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const p=i.get(u),f=hx(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;p&&f?p.data.isEqual(f.data)?y!==g&&(n.track({type:3,doc:f}),w=!0):this.su(p,f)||(n.track({type:2,doc:f}),w=!0,(l&&this.eu(f,l)>0||c&&this.eu(f,c)<0)&&(o=!0)):!p&&f?(n.track({type:0,doc:f}),w=!0):p&&!f&&(n.track({type:1,doc:p}),w=!0,(l||c)&&(o=!0)),w&&(f?(a=a.add(f),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{tu:a,iu:n,Cs:o,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((u,h)=>function(f,y){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:w})}};return g(f)-g(y)}(u.type,h.type)||this.eu(u.doc,h.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new Jp(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oj,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Gt(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new aU(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new sU(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Gt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Jp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const oT="SyncEngine";class Mie{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Fie{constructor(e){this.key=e,this.hu=!1}}class Bie{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new tf(o=>bB(o),dx),this.Iu=new Map,this.Eu=new Set,this.du=new Yr(wt.comparator),this.Au=new Map,this.Ru=new Y3,this.Vu={},this.mu=new Map,this.fu=Xp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Uie(t,e,r=!0){const n=hU(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await oU(n,e,r,!0),i}async function $ie(t,e){const r=hU(t);await oU(r,e,!0,!1)}async function oU(t,e,r,n){const i=await oie(t.localStore,hl(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await Vie(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&XB(t.remoteStore,i),o}async function Vie(t,e,r,n,i){t.pu=(h,p,f)=>async function(g,w,m,v){let x=w.view.ru(m);x.Cs&&(x=await tj(g.localStore,w.query,!1).then(({documents:P})=>w.view.ru(P,x)));const E=v&&v.targetChanges.get(w.targetId),N=v&&v.targetMismatches.get(w.targetId)!=null,C=w.view.applyChanges(x,g.isPrimaryClient,E,N);return dj(g,w.targetId,C.au),C.snapshot}(t,h,p,f);const s=await tj(t.localStore,e,!0),a=new Die(e,s.Qs),o=a.ru(s.documents),l=xy.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);dj(t,r,c.au);const u=new Mie(e,r,a);return t.Tu.set(e,u),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),c.snapshot}async function zie(t,e,r){const n=kt(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter(a=>!dx(a,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await YS(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&eT(n.remoteStore,i.targetId),QS(n,i.targetId)}).catch(Tm)):(QS(n,i.targetId),await YS(n.localStore,i.targetId,!0))}async function qie(t,e){const r=kt(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),eT(r.remoteStore,n.targetId))}async function Wie(t,e,r){const n=Qie(t);try{const i=await function(a,o){const l=kt(a),c=Dt.now(),u=o.reduce((f,y)=>f.add(y.key),Gt());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=Ac(),g=Gt();return l.Ns.getEntries(f,u).next(w=>{y=w,y.forEach((m,v)=>{v.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,y)).next(w=>{h=w;const m=[];for(const v of o){const x=lne(v,h.get(v.key).overlayedDocument);x!=null&&m.push(new vd(v.key,x,hB(x.value.mapValue),bi.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,m,o)}).next(w=>{p=w;const m=w.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(f,w.batchId,m)})}).then(()=>({batchId:p.batchId,changes:EB(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Yr(Ht)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c}(n,i.batchId,r),await Ey(n,i.changes),await wx(n.remoteStore)}catch(i){const s=sT(i,"Failed to persist write");r.reject(s)}}async function lU(t,e){const r=kt(t);try{const n=await iie(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Au.get(s);a&&(Jt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Jt(a.hu,14607):i.removedDocuments.size>0&&(Jt(a.hu,42227),a.hu=!1))}),await Ey(r,n,e)}catch(n){await Tm(n)}}function uj(t,e,r){const n=kt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=kt(a);l.onlineState=o;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.Sa)p.va(o)&&(c=!0)}),c&&aT(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Hie(t,e,r){const n=kt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let a=new Yr(wt.comparator);a=a.insert(s,ri.newNoDocument(s,Nt.min()));const o=Gt().add(s),l=new gx(Nt.min(),new Map,new Yr(Ht),a,o);await lU(n,l),n.du=n.du.remove(s),n.Au.delete(e),lT(n)}else await YS(n.localStore,e,!1).then(()=>QS(n,e,r)).catch(Tm)}async function Gie(t,e){const r=kt(t),n=e.batch.batchId;try{const i=await nie(r.localStore,e);uU(r,n,null),cU(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ey(r,i)}catch(i){await Tm(i)}}async function Kie(t,e,r){const n=kt(t);try{const i=await function(a,o){const l=kt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(Jt(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);uU(n,e,r),cU(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ey(n,i)}catch(i){await Tm(i)}}function cU(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function uU(t,e,r){const n=kt(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function QS(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||dU(t,n)})}function dU(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(eT(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),lT(t))}function dj(t,e,r){for(const n of r)n instanceof sU?(t.Ru.addReference(n.key,e),Yie(t,n)):n instanceof aU?(ut(oT,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||dU(t,n.key)):_t(19791,{wu:n})}function Yie(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ut(oT,"New document in limbo: "+r),t.Eu.add(n),lT(t))}function lT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new wt(xr.fromString(e)),n=t.fu.next();t.Au.set(n,new Fie(r)),t.du=t.du.insert(r,n),XB(t.remoteStore,new Du(hl(q3(r.path)),n,"TargetPurposeLimboResolution",cx.ce))}}async function Ey(t,e,r){const n=kt(t),i=[],s=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{a.push(n.pu(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const h=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=J3.As(l.targetId,c);s.push(h)}}))}),await Promise.all(a),n.Pu.H_(i),await async function(l,c){const u=kt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Ge.forEach(c,p=>Ge.forEach(p.Es,f=>u.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>Ge.forEach(p.ds,f=>u.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!Pm(h))throw h;ut(Q3,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const f=u.Ms.get(p),y=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(y);u.Ms=u.Ms.insert(p,g)}}}(n.localStore,s))}async function Xie(t,e){const r=kt(t);if(!r.currentUser.isEqual(e)){ut(oT,"User change. New user:",e.toKey());const n=await GB(r.localStore,e);r.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new at(Ve.CANCELLED,a))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ey(r,n.Ls)}}function Jie(t,e){const r=kt(t),n=r.Au.get(e);if(n&&n.hu)return Gt().add(n.key);{let i=Gt();const s=r.Iu.get(e);if(!s)return i;for(const a of s){const o=r.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function hU(t){const e=kt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hie.bind(null,e),e.Pu.H_=Rie.bind(null,e.eventManager),e.Pu.yu=Lie.bind(null,e.eventManager),e}function Qie(t){const e=kt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kie.bind(null,e),e}class zw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return rie(this.persistence,new Zne,e.initialUser,this.serializer)}Cu(e){return new HB(X3.mi,this.serializer)}Du(e){return new cie}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zw.provider={build:()=>new zw};class Zie extends zw{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Jt(this.persistence.referenceDelegate instanceof $w,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Fne(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new HB(n=>$w.mi(n,r),this.serializer)}}class ZS{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>uj(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xie.bind(null,this.syncEngine),await Iie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Oie}()}createDatastore(e){const r=yx(e.databaseInfo.databaseId),n=function(s){return new pie(s)}(e.databaseInfo);return function(s,a,o,l){return new vie(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new bie(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>uj(this.syncEngine,r,0),function(){return ij.v()?new ij:new uie}())}createSyncEngine(e,r){return function(i,s,a,o,l,c,u){const h=new Bie(i,s,a,o,l,c);return u&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=kt(i);ut(Vh,"RemoteStore shutting down."),s.Ea.add(5),await _y(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}ZS.provider={build:()=>new ZS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ec("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new at(Ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(i,s){const a=kt(i),o={documents:s.map(h=>Uw(a.serializer,h))},l=await a.Ho("BatchGetDocuments",a.serializer.databaseId,xr.emptyPath(),o,s.length),c=new Map;l.forEach(h=>{const p=xne(a.serializer,h);c.set(p.key.toString(),p)});const u=[];return s.forEach(h=>{const p=c.get(h.toString());Jt(!!p,55234,{key:h}),u.push(p)}),u}(this.datastore,e);return r.forEach(n=>this.recordVersion(n)),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new mx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,n)=>{const i=wt.fromPath(n);this.mutations.push(new jB(i,this.precondition(i)))}),await async function(n,i){const s=kt(n),a={writes:i.map(o=>$B(s.serializer,o))};await s.Go("Commit",s.serializer.databaseId,xr.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw _t(50498,{Gu:e.constructor.name});r=Nt.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new at(Ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Nt.min())?bi.exists(!1):bi.updateTime(r):bi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Nt.min()))throw new at(Ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(r)}return bi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e,r,n,i,s){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=s,this.zu=n.maxAttempts,this.M_=new Z3(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new ese(this.datastore),r=this.Hu(e);r&&r.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(i=>{this.Yu(i)}))}).catch(n=>{this.Yu(n)})})}Hu(e){try{const r=this.updateFunction(e);return!wy(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!OB(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="FirestoreClient";class rse{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Mi.UNAUTHENTICATED,this.clientId=F3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{ut(ld,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(ut(ld,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=sT(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function t_(t,e){t.asyncQueue.verifyOperationInProgress(),ut(ld,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await GB(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hj(t,e){t.asyncQueue.verifyOperationInProgress();const r=await nse(t);ut(ld,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>aj(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>aj(e.remoteStore,i)),t._onlineComponents=e}async function nse(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ut(ld,"Using user provided OfflineComponentProvider");try{await t_(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ve.FAILED_PRECONDITION||i.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Hp("Error using user provided cache. Falling back to memory cache: "+r),await t_(t,new zw)}}else ut(ld,"Using default OfflineComponentProvider"),await t_(t,new Zie(void 0));return t._offlineComponents}async function cT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ut(ld,"Using user provided OnlineComponentProvider"),await hj(t,t._uninitializedComponentsProvider._online)):(ut(ld,"Using default OnlineComponentProvider"),await hj(t,new ZS))),t._onlineComponents}function ise(t){return cT(t).then(e=>e.syncEngine)}function sse(t){return cT(t).then(e=>e.datastore)}async function pU(t){const e=await cT(t),r=e.eventManager;return r.onListen=Uie.bind(null,e.syncEngine),r.onUnlisten=zie.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=$ie.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=qie.bind(null,e.syncEngine),r}function ase(t,e,r={}){const n=new dl;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new fU({next:p=>{u.Nu(),a.enqueueAndForget(()=>nU(s,h));const f=p.docs.has(o);!f&&p.fromCache?c.reject(new at(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&p.fromCache&&l&&l.source==="server"?c.reject(new at(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new iU(q3(o.path),u,{includeMetadataChanges:!0,qa:!0});return rU(s,h)}(await pU(t),t.asyncQueue,e,r,n)),n.promise}function ose(t,e,r={}){const n=new dl;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new fU({next:p=>{u.Nu(),a.enqueueAndForget(()=>nU(s,h)),p.fromCache&&l.source==="server"?c.reject(new at(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new iU(o,u,{includeMetadataChanges:!0,qa:!0});return rU(s,h)}(await pU(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="firestore.googleapis.com",pj=!0;class mj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gU,this.ssl=pj}else this.host=e.host,this.ssl=e.ssl??pj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dne)throw new at(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ere("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mU(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new at(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new at(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new at(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bx{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new fre;switch(n.type){case"firstParty":return new yre(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new at(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=fj.get(r);n&&(ut("ComponentProvider","Removing Datastore"),fj.delete(r),n.terminate())}(this),Promise.resolve()}}function lse(t,e,r,n={}){var c;t=ja(t,bx);const i=Em(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(t9(`https://${o}`),r9("Firestore",!0)),s.host!==gU&&s.host!==o&&Hp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:n};if(!rd(l,a)&&(t._setSettings(l),n.mockUserToken)){let u,h;if(typeof n.mockUserToken=="string")u=n.mockUserToken,h=Mi.MOCK_USER;else{u=AQ(n.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new at(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Mi(p)}t._authCredentials=new pre(new Z9(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new wd(this.firestore,e,this._query)}}class on{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(vy(r,on._jsonSchema))return new on(e,n||null,new wt(xr.fromString(r.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:Mn("string",on._jsonSchemaVersion),referencePath:Mn("string")};class Yu extends wd{constructor(e,r,n){super(e,r,q3(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new wt(e))}withConverter(e){return new Yu(this.firestore,e,this._path)}}function Ji(t,e,...r){if(t=ln(t),eB("collection","path",e),t instanceof bx){const n=xr.fromString(e,...r);return PI(n),new Yu(t,null,n)}{if(!(t instanceof on||t instanceof Yu))throw new at(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return PI(n),new Yu(t.firestore,null,n)}}function ar(t,e,...r){if(t=ln(t),arguments.length===1&&(e=F3.newId()),eB("doc","path",e),t instanceof bx){const n=xr.fromString(e,...r);return TI(n),new on(t,null,new wt(n))}{if(!(t instanceof on||t instanceof Yu))throw new at(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return TI(n),new on(t.firestore,t instanceof Yu?t.converter:null,new wt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="AsyncQueue";class yj{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z3(this,"async_queue_retry"),this._c=()=>{const n=e_();n&&ut(gj,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=e_();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=e_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new dl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pm(e))throw e;ut(gj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Ec("INTERNAL UNHANDLED ERROR: ",vj(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=iT.createAndSchedule(this,e,r,n,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&_t(47125,{Pc:vj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function vj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bd extends bx{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new yj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yj(e),this._firestoreClient=void 0,await e}}}function cse(t,e){const r=typeof t=="object"?t:P3(),n=typeof t=="string"?t:Ow,i=Zh(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=_Q("firestore");s&&lse(i,...s)}return i}function xx(t){if(t._terminated)throw new at(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||use(t),t._firestoreClient}function use(t){var n,i,s;const e=t._freezeSettings(),r=function(o,l,c,u){return new Rre(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,mU(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new rse(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(Ei.fromBase64String(e))}catch(r){throw new at(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new zs(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vy(e,zs._jsonSchema))return zs.fromBase64String(e.bytes)}}zs._jsonSchemaVersion="firestore/bytes/1.0",zs._jsonSchema={type:Mn("string",zs._jsonSchemaVersion),bytes:Mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new at(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new at(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new at(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fl._jsonSchemaVersion}}static fromJSON(e){if(vy(e,fl._jsonSchema))return new fl(e.latitude,e.longitude)}}fl._jsonSchemaVersion="firestore/geoPoint/1.0",fl._jsonSchema={type:Mn("string",fl._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vy(e,pl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new pl(e.vectorValues);throw new at(Ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pl._jsonSchemaVersion="firestore/vectorValue/1.0",pl._jsonSchema={type:Mn("string",pl._jsonSchemaVersion),vectorValues:Mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dse=/^__.*__$/;class hse{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new vd(e,this.data,this.fieldMask,r,this.fieldTransforms):new by(e,this.data,r,this.fieldTransforms)}}class yU{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new vd(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function vU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:t})}}class dT{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qw(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vU(this.Ac)&&dse.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fse{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||yx(e)}Cc(e,r,n,i=!1){return new dT({Ac:e,methodName:r,Dc:n,path:wi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sy(t){const e=t._freezeSettings(),r=yx(t._databaseId);return new fse(t._databaseId,!!e.ignoreUndefinedProperties,r)}function hT(t,e,r,n,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);fT("Data must be an object, but it was:",a,n);const o=xU(n,a);let l,c;if(s.merge)l=new Hs(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const p=eN(e,h,r);if(!a.contains(p))throw new at(Ve.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);EU(u,p)||u.push(p)}l=new Hs(u),c=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=a.fieldTransforms;return new hse(new ts(o),l,c)}class _x extends uT{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _x}}function wU(t,e,r,n){const i=t.Cc(1,e,r);fT("Data must be an object, but it was:",i,n);const s=[],a=ts.empty();yd(n,(l,c)=>{const u=pT(e,l,r);c=ln(c);const h=i.yc(u);if(c instanceof _x)s.push(u);else{const p=Ny(c,h);p!=null&&(s.push(u),a.set(u,p))}});const o=new Hs(s);return new yU(a,o,i.fieldTransforms)}function bU(t,e,r,n,i,s){const a=t.Cc(1,e,r),o=[eN(e,n,r)],l=[i];if(s.length%2!=0)throw new at(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)o.push(eN(e,s[p])),l.push(s[p+1]);const c=[],u=ts.empty();for(let p=o.length-1;p>=0;--p)if(!EU(c,o[p])){const f=o[p];let y=l[p];y=ln(y);const g=a.yc(f);if(y instanceof _x)c.push(f);else{const w=Ny(y,g);w!=null&&(c.push(f),u.set(f,w))}}const h=new Hs(c);return new yU(u,h,a.fieldTransforms)}function pse(t,e,r,n=!1){return Ny(r,t.Cc(n?4:3,e))}function Ny(t,e){if(_U(t=ln(t)))return fT("Unsupported field value:",e,t),xU(t,e);if(t instanceof uT)return function(n,i){if(!vU(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=Ny(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=ln(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rne(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Dt.fromDate(n);return{timestampValue:Bw(i.serializer,s)}}if(n instanceof Dt){const s=new Dt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Bw(i.serializer,s)}}if(n instanceof fl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zs)return{bytesValue:MB(i.serializer,n._byteString)};if(n instanceof on){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:K3(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof pl)return function(a,o){return{mapValue:{fields:{[cB]:{stringValue:dB},[Rw]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return W3(o.serializer,c)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${lx(n)}`)}(t,e)}function xU(t,e){const r={};return nB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yd(t,(n,i)=>{const s=Ny(i,e.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function _U(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof fl||t instanceof zs||t instanceof on||t instanceof uT||t instanceof pl)}function fT(t,e,r){if(!_U(r)||!tB(r)){const n=lx(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function eN(t,e,r){if((e=ln(e))instanceof Ay)return e._internalPath;if(typeof e=="string")return pT(t,e);throw qw("Field path arguments must be of type string or ",t,!1,void 0,r)}const mse=new RegExp("[~\\*/\\[\\]]");function pT(t,e,r){if(e.search(mse)>=0)throw qw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Ay(...e.split("."))._internalPath}catch{throw qw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function qw(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new at(Ve.INVALID_ARGUMENT,o+t+l)}function EU(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Ex("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class gse extends Ww{data(){return super.data()}}function Ex(t,e){return typeof e=="string"?pT(t,e):e instanceof Ay?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yse(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new at(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mT{}class gT extends mT{}function mi(t,e,...r){let n=[];e instanceof mT&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof yT).length,o=s.filter(l=>l instanceof Ax).length;if(a>1||a>0&&o>0)throw new at(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Ax extends gT{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Ax(e,r,n)}_apply(e){const r=this._parse(e);return AU(e._query,r),new wd(e.firestore,e.converter,WS(e._query,r))}_parse(e){const r=Sy(e.firestore);return function(s,a,o,l,c,u,h){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new at(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){bj(h,u);const y=[];for(const g of h)y.push(wj(l,s,g));p={arrayValue:{values:y}}}else p=wj(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||bj(h,u),p=pse(o,a,h,u==="in"||u==="not-in");return Dn.create(c,u,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Xn(t,e,r){const n=e,i=Ex("where",t);return Ax._create(i,n,r)}class yT extends mT{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new yT(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Eo.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)AU(a,l),a=WS(a,l)}(e._query,r),new wd(e.firestore,e.converter,WS(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vT extends gT{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new vT(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new at(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new at(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new q0(s,a)}(e._query,this._field,this._direction);return new wd(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Cm(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Ql(t,e="asc"){const r=e,n=Ex("orderBy",t);return vT._create(n,r)}class wT extends gT{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new wT(e,r,n)}_apply(e){return new wd(e.firestore,e.converter,Dw(e._query,this._limit,this._limitType))}}function wg(t){return wT._create("limit",t,"F")}function wj(t,e,r){if(typeof(r=ln(r))=="string"){if(r==="")throw new at(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wB(e)&&r.indexOf("/")!==-1)throw new at(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(xr.fromString(r));if(!wt.isDocumentKey(n))throw new at(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return DI(t,new wt(n))}if(r instanceof on)return DI(t,r._key);throw new at(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lx(r)}.`)}function bj(t,e){if(!Array.isArray(t)||t.length===0)throw new at(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AU(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new at(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class SU{convertValue(e,r="none"){switch(ad(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(sd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return yd(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[Rw].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>fn(a.doubleValue));return new pl(r)}convertGeoPoint(e){return new fl(fn(e.latitude),fn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=ux(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp($0(e));default:return null}}convertTimestamp(e){const r=id(e);return new Dt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=xr.fromString(e);Jt(qB(n),9688,{name:e});const i=new V0(n.get(1),n.get(3)),s=new wt(n.popFirst(5));return i.isEqual(r)||Ec(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class vse extends SU{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,r)}}class fp{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xu extends Ww{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new $1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Ex("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Xu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Xu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xu._jsonSchema={type:Mn("string",Xu._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class $1 extends Xu{data(e={}){return super.data(e)}}class Pp{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new fp(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new $1(this._firestore,this._userDataWriter,n.key,n,new fp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new at(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new $1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new fp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new $1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new fp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:wse(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=F3.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){t=ja(t,on);const e=ja(t.firestore,bd);return ase(xx(e),t._key).then(r=>xse(e,t,r))}Pp._jsonSchemaVersion="firestore/querySnapshot/1.0",Pp._jsonSchema={type:Mn("string",Pp._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class xT extends SU{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,r)}}function gi(t){t=ja(t,wd);const e=ja(t.firestore,bd),r=xx(e),n=new xT(e);return yse(t._query),ose(r,t._query).then(i=>new Pp(e,n,t,i))}function bse(t,e,r){t=ja(t,on);const n=ja(t.firestore,bd),i=bT(t.converter,e,r);return Sx(n,[hT(Sy(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,bi.none())])}function Zo(t,e,r,...n){t=ja(t,on);const i=ja(t.firestore,bd),s=Sy(i);let a;return a=typeof(e=ln(e))=="string"||e instanceof Ay?bU(s,"updateDoc",t._key,e,r,n):wU(s,"updateDoc",t._key,e),Sx(i,[a.toMutation(t._key,bi.exists(!0))])}function xu(t){return Sx(ja(t.firestore,bd),[new mx(t._key,bi.none())])}function Yd(t,e){const r=ja(t.firestore,bd),n=ar(t),i=bT(t.converter,e);return Sx(r,[hT(Sy(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,bi.exists(!1))]).then(()=>n)}function Sx(t,e){return function(n,i){const s=new dl;return n.asyncQueue.enqueueAndForget(async()=>Wie(await ise(n),i,s)),s.promise}(xx(t),e)}function xse(t,e,r){const n=r.docs.get(e._key),i=new xT(t);return new Xu(t,i,e._key,n,new fp(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _se={maxAttempts:5};function Gg(t,e){if((t=ln(t)).firestore!==e)throw new at(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=Sy(e)}get(e){const r=Gg(e,this._firestore),n=new vse(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return _t(24041);const s=i[0];if(s.isFoundDocument())return new Ww(this._firestore,n,s.key,s,r.converter);if(s.isNoDocument())return new Ww(this._firestore,n,r._key,null,r.converter);throw _t(18433,{doc:s})})}set(e,r,n){const i=Gg(e,this._firestore),s=bT(i.converter,r,n),a=hT(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,n);return this._transaction.set(i._key,a),this}update(e,r,n,...i){const s=Gg(e,this._firestore);let a;return a=typeof(r=ln(r))=="string"||r instanceof Ay?bU(this._dataReader,"Transaction.update",s._key,r,n,i):wU(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(e){const r=Gg(e,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase extends Ese{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Gg(e,this._firestore),n=new xT(this._firestore);return super.get(e).then(i=>new Xu(this._firestore,n,r._key,i._document,new fp(!1,!1),r.converter))}}function r_(t,e,r){t=ja(t,bd);const n={..._se,...r};return function(s){if(s.maxAttempts<1)throw new at(Ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(s,a,o){const l=new dl;return s.asyncQueue.enqueueAndForget(async()=>{const c=await sse(s);new tse(s.asyncQueue,c,o,a,l).ju()}),l.promise}(xx(t),i=>e(new Ase(t,i)),n)}(function(e,r=!0){(function(i){Nm=i})(Am),yl(new xo("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new bd(new mre(n.getProvider("auth-internal")),new vre(a,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new at(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new V0(c.options.projectId,u)}(a,i),a);return s={useFetchStreams:r,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Na(EI,AI,e),Na(EI,AI,"esm2020")})();var Sse="firebase",Nse="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Na(Sse,Nse,"app");const NU="@firebase/installations",_T="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=1e4,PU=`w:${_T}`,CU="FIS_v2",Tse="https://firebaseinstallations.googleapis.com/v1",Pse=60*60*1e3,Cse="installations",kse="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zh=new Qh(Cse,kse,Ise);function kU(t){return t instanceof No&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU({projectId:t}){return`${Tse}/projects/${t}/installations`}function jU(t){return{token:t.token,requestStatus:2,expiresIn:Ose(t.expiresIn),creationTime:Date.now()}}async function OU(t,e){const n=(await e.json()).error;return zh.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function RU({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jse(t,{refreshToken:e}){const r=RU(t);return r.append("Authorization",Rse(e)),r}async function LU(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Ose(t){return Number(t.replace("s","000"))}function Rse(t){return`${CU} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lse({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=IU(t),i=RU(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={fid:r,authVersion:CU,appId:t.appId,sdkVersion:PU},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await LU(()=>fetch(n,o));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:jU(c.authToken)}}else throw await OU("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dse(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mse=/^[cdef][\w-]{21}$/,tN="";function Fse(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Bse(t);return Mse.test(r)?r:tN}catch{return tN}}function Bse(t){return Dse(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=new Map;function FU(t,e){const r=Nx(t);BU(r,e),Use(r,e)}function BU(t,e){const r=MU.get(t);if(r)for(const n of r)n(e)}function Use(t,e){const r=$se();r&&r.postMessage({key:t,fid:e}),Vse()}let fh=null;function $se(){return!fh&&"BroadcastChannel"in self&&(fh=new BroadcastChannel("[Firebase] FID Change"),fh.onmessage=t=>{BU(t.data.key,t.data.fid)}),fh}function Vse(){MU.size===0&&fh&&(fh.close(),fh=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zse="firebase-installations-database",qse=1,qh="firebase-installations-store";let n_=null;function ET(){return n_||(n_=l9(zse,qse,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qh)}}})),n_}async function Hw(t,e){const r=Nx(t),i=(await ET()).transaction(qh,"readwrite"),s=i.objectStore(qh),a=await s.get(r);return await s.put(e,r),await i.done,(!a||a.fid!==e.fid)&&FU(t,e.fid),e}async function UU(t){const e=Nx(t),n=(await ET()).transaction(qh,"readwrite");await n.objectStore(qh).delete(e),await n.done}async function Tx(t,e){const r=Nx(t),i=(await ET()).transaction(qh,"readwrite"),s=i.objectStore(qh),a=await s.get(r),o=e(a);return o===void 0?await s.delete(r):await s.put(o,r),await i.done,o&&(!a||a.fid!==o.fid)&&FU(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AT(t){let e;const r=await Tx(t.appConfig,n=>{const i=Wse(n),s=Hse(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===tN?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Wse(t){const e=t||{fid:Fse(),registrationStatus:0};return $U(e)}function Hse(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(zh.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Gse(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Kse(t)}:{installationEntry:e}}async function Gse(t,e){try{const r=await Lse(t,e);return Hw(t.appConfig,r)}catch(r){throw kU(r)&&r.customData.serverCode===409?await UU(t.appConfig):await Hw(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Kse(t){let e=await xj(t.appConfig);for(;e.registrationStatus===1;)await DU(100),e=await xj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await AT(t);return n||r}return e}function xj(t){return Tx(t,e=>{if(!e)throw zh.create("installation-not-found");return $U(e)})}function $U(t){return Yse(t)?{fid:t.fid,registrationStatus:0}:t}function Yse(t){return t.registrationStatus===1&&t.registrationTime+TU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xse({appConfig:t,heartbeatServiceProvider:e},r){const n=Jse(t,r),i=jse(t,r),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={installation:{sdkVersion:PU,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await LU(()=>fetch(n,o));if(l.ok){const c=await l.json();return jU(c)}else throw await OU("Generate Auth Token",l)}function Jse(t,{fid:e}){return`${IU(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(t,e=!1){let r;const n=await Tx(t.appConfig,s=>{if(!VU(s))throw zh.create("not-registered");const a=s.authToken;if(!e&&eae(a))return s;if(a.requestStatus===1)return r=Qse(t,e),s;{if(!navigator.onLine)throw zh.create("app-offline");const o=rae(s);return r=Zse(t,o),o}});return r?await r:n.authToken}async function Qse(t,e){let r=await _j(t.appConfig);for(;r.authToken.requestStatus===1;)await DU(100),r=await _j(t.appConfig);const n=r.authToken;return n.requestStatus===0?ST(t,e):n}function _j(t){return Tx(t,e=>{if(!VU(e))throw zh.create("not-registered");const r=e.authToken;return nae(r)?{...e,authToken:{requestStatus:0}}:e})}async function Zse(t,e){try{const r=await Xse(t,e),n={...e,authToken:r};return await Hw(t.appConfig,n),r}catch(r){if(kU(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await UU(t.appConfig);else{const n={...e,authToken:{requestStatus:0}};await Hw(t.appConfig,n)}throw r}}function VU(t){return t!==void 0&&t.registrationStatus===2}function eae(t){return t.requestStatus===2&&!tae(t)}function tae(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Pse}function rae(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function nae(t){return t.requestStatus===1&&t.requestTime+TU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iae(t){const e=t,{installationEntry:r,registrationPromise:n}=await AT(e);return n?n.catch(console.error):ST(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sae(t,e=!1){const r=t;return await aae(r),(await ST(r,e)).token}async function aae(t){const{registrationPromise:e}=await AT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oae(t){if(!t||!t.options)throw i_("App Configuration");if(!t.name)throw i_("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw i_(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function i_(t){return zh.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="installations",lae="installations-internal",cae=t=>{const e=t.getProvider("app").getImmediate(),r=oae(e),n=Zh(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},uae=t=>{const e=t.getProvider("app").getImmediate(),r=Zh(e,zU).getImmediate();return{getId:()=>iae(r),getToken:i=>sae(r,i)}};function dae(){yl(new xo(zU,cae,"PUBLIC")),yl(new xo(lae,uae,"PRIVATE"))}dae();Na(NU,_T);Na(NU,_T,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="analytics",hae="firebase_id",fae="origin",pae=60*1e3,mae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",NT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new ix("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gae={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xs=new Qh("analytics","Analytics",gae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yae(t){if(!t.startsWith(NT)){const e=Xs.create("invalid-gtag-resource",{gtagURL:t});return Ss.warn(e.message),""}return t}function qU(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function vae(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function wae(t,e){const r=vae("firebase-js-sdk-policy",{createScriptURL:yae}),n=document.createElement("script"),i=`${NT}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function bae(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function xae(t,e,r,n,i,s){const a=n[i];try{if(a)await e[a];else{const l=(await qU(r)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){Ss.error(o)}t("config",i,s)}async function _ae(t,e,r,n,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await qU(r);for(const l of a){const c=o.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,i||{})}catch(s){Ss.error(s)}}function Eae(t,e,r,n){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await _ae(t,e,r,o,l)}else if(s==="config"){const[o,l]=a;await xae(t,e,r,n,o,l)}else if(s==="consent"){const[o,l]=a;t("consent",o,l)}else if(s==="get"){const[o,l,c]=a;t("get",o,l,c)}else if(s==="set"){const[o]=a;t("set",o)}else t(s,...a)}catch(o){Ss.error(o)}}return i}function Aae(t,e,r,n,i){let s=function(...a){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Eae(s,t,e,r),{gtagCore:s,wrappedGtag:window[i]}}function Sae(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(NT)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nae=30,Tae=1e3;class Pae{constructor(e={},r=Tae){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const WU=new Pae;function Cae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function kae(t){var a;const{appId:e,apiKey:r}=t,n={method:"GET",headers:Cae(r)},i=mae.replace("{app-id}",e),s=await fetch(i,n);if(s.status!==200&&s.status!==304){let o="";try{const l=await s.json();(a=l.error)!=null&&a.message&&(o=l.error.message)}catch{}throw Xs.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function Iae(t,e=WU,r){const{appId:n,apiKey:i,measurementId:s}=t.options;if(!n)throw Xs.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw Xs.create("no-api-key")}const a=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Rae;return setTimeout(async()=>{o.abort()},pae),HU({appId:n,apiKey:i,measurementId:s},a,o,e)}async function HU(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=WU){var o;const{appId:s,measurementId:a}=t;try{await jae(n,e)}catch(l){if(a)return Ss.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await kae(t);return i.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!Oae(c)){if(i.deleteThrottleMetadata(s),a)return Ss.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:a};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?Kk(r,i.intervalMillis,Nae):Kk(r,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return i.setThrottleMetadata(s,h),Ss.debug(`Calling attemptFetch again in ${u} millis`),HU(t,h,n,i)}}function jae(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(s),n(Xs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Oae(t){if(!(t instanceof No)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Rae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Lae(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const s=await e,a={...n,send_to:s};t("event",r,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dae(){if(i9())try{await s9()}catch(t){return Ss.warn(Xs.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ss.warn(Xs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Mae(t,e,r,n,i,s,a){const o=Iae(t);o.then(p=>{r[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ss.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ss.error(p)),e.push(o);const l=Dae().then(p=>{if(p)return n.getId()}),[c,u]=await Promise.all([o,l]);Sae(s)||wae(s,c.measurementId),i("js",new Date);const h=(a==null?void 0:a.config)??{};return h[fae]="firebase",h.update=!0,u!=null&&(h[hae]=u),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fae{constructor(e){this.app=e}_delete(){return delete h0[this.app.options.appId],Promise.resolve()}}let h0={},Ej=[];const Aj={};let s_="dataLayer",Bae="gtag",Sj,GU,Nj=!1;function Uae(){const t=[];if(n9()&&t.push("This is a browser extension environment."),OQ()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Xs.create("invalid-analytics-context",{errorInfo:e});Ss.warn(r.message)}}function $ae(t,e,r){Uae();const n=t.options.appId;if(!n)throw Xs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ss.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xs.create("no-api-key");if(h0[n]!=null)throw Xs.create("already-exists",{id:n});if(!Nj){bae(s_);const{wrappedGtag:s,gtagCore:a}=Aae(h0,Ej,Aj,s_,Bae);GU=s,Sj=a,Nj=!0}return h0[n]=Mae(t,Ej,Aj,e,Sj,s_,r),new Fae(t)}function Vae(t=P3()){t=ln(t);const e=Zh(t,Gw);return e.isInitialized()?e.getImmediate():zae(t)}function zae(t,e={}){const r=Zh(t,Gw);if(r.isInitialized()){const i=r.getImmediate();if(rd(e,r.getOptions()))return i;throw Xs.create("already-initialized")}return r.initialize({options:e})}function qae(t,e,r,n){t=ln(t),Lae(GU,h0[t.app.options.appId],e,r,n).catch(i=>Ss.error(i))}const Tj="@firebase/analytics",Pj="0.10.18";function Wae(){yl(new xo(Gw,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return $ae(n,i,r)},"PUBLIC")),yl(new xo("analytics-internal",t,"PRIVATE")),Na(Tj,Pj),Na(Tj,Pj,"esm2020");function t(e){try{const r=e.getProvider(Gw).getImmediate();return{logEvent:(n,i,s)=>qae(r,n,i,s)}}catch(r){throw Xs.create("interop-component-reg-failed",{reason:r})}}}Wae();const Hae={apiKey:"AIzaSyBj8BmTKrauLcB7c0BL_56GKexxzJXPocA",authDomain:"legalx-b64a7.firebaseapp.com",projectId:"legalx-b64a7",storageBucket:"legalx-b64a7.firebasestorage.app",messagingSenderId:"34186005691",appId:"1:34186005691:web:e6bf474c3893ba3a0dad9e",measurementId:"G-HESNWJTHSZ"},TT=c9(Hae);let Gae;try{Gae=Vae(TT)}catch{console.log("Analytics não disponível em desenvolvimento")}const pn=dre(TT),Rt=cse(TT);class Kae{constructor(){this.authStateListeners=[],Zee(pn,async e=>{if(console.log("Estado de autenticação mudou:",e==null?void 0:e.uid),e)try{const r=await this.getUserData(e.uid);this.notifyAuthStateListeners(r)}catch(r){console.error("Erro ao buscar dados do usuário:",r),this.notifyAuthStateListeners(null)}else this.notifyAuthStateListeners(null)})}async register(e,r){try{console.log("Tentando registrar usuário:",e.email);const i=(await Yee(pn,e.email,r)).user;console.log("Usuário criado no Auth:",i.uid),await new Promise(l=>setTimeout(l,1e3)),await i.getIdToken(!0);const s={id:i.uid,officeName:e.officeName,oabNumber:e.oabNumber,email:e.email,createdAt:new Date().toISOString()};let a=0;const o=3;for(;a<o;)try{if(!pn.currentUser)throw new Error("Usuário não está mais autenticado");await bse(ar(Rt,"users",i.uid),s),console.log("Dados salvos no Firestore com sucesso");break}catch(l){if(a++,console.error(`Tentativa ${a} falhou:`,l),a>=o)throw l;await new Promise(c=>setTimeout(c,1e3*a)),await i.getIdToken(!0)}return{success:!0,message:"Cadastro realizado com sucesso!",user:s}}catch(n){console.error("Erro completo ao registrar usuário:",n);let i="Erro interno. Tente novamente.";switch(n.code){case"auth/email-already-in-use":i="Este e-mail já está sendo usado por outra conta.";break;case"auth/weak-password":i="A senha é muito fraca. Use pelo menos 6 caracteres.";break;case"auth/invalid-email":i="E-mail inválido.";break;case"auth/operation-not-allowed":i="Operação não permitida. Verifique a configuração do Firebase.";break;case"permission-denied":i="Erro de permissão no banco de dados. Tente novamente em alguns segundos.";break;case"unavailable":i="Serviço temporariamente indisponível. Tente novamente.";break;default:i=`Erro: ${n.message||"Erro desconhecido"}`}return{success:!1,message:i}}}async login(e,r){try{console.log("Tentando fazer login:",e);const i=(await Xee(pn,e,r)).user;console.log("Login bem-sucedido no Auth:",i.uid);const s=await this.getUserData(i.uid);return s?(console.log("Dados do usuário recuperados:",s),{success:!0,message:"Login realizado com sucesso!",user:s}):(console.error("Dados do usuário não encontrados no Firestore"),{success:!1,message:"Dados do usuário não encontrados."})}catch(n){console.error("Erro completo ao fazer login:",n);let i="Erro interno. Tente novamente.";switch(n.code){case"auth/user-not-found":case"auth/invalid-credential":i="E-mail ou senha incorretos.";break;case"auth/wrong-password":i="Senha incorreta.";break;case"auth/invalid-email":i="E-mail inválido.";break;case"auth/user-disabled":i="Conta desabilitada.";break;case"auth/too-many-requests":i="Muitas tentativas. Tente novamente mais tarde.";break;case"auth/network-request-failed":i="Erro de rede. Verifique sua conexão.";break;default:i=`Erro: ${n.message||"Erro desconhecido"}`}return{success:!1,message:i}}}async logout(){try{await ete(pn),console.log("Logout realizado com sucesso")}catch(e){throw console.error("Erro ao fazer logout:",e),e}}async getCurrentUser(){const e=pn.currentUser;return e?await this.getUserData(e.uid):null}async getUserData(e){try{console.log("Buscando dados do usuário:",e);const r=await ba(ar(Rt,"users",e));if(!r.exists())return console.log("Documento do usuário não existe"),null;const n={id:e,...r.data()};return console.log("Dados do usuário encontrados:",n),n}catch(r){return console.error("Erro ao buscar dados do usuário:",r),null}}onAuthStateChanged(e){return this.authStateListeners.push(e),()=>{this.authStateListeners=this.authStateListeners.filter(r=>r!==e)}}notifyAuthStateListeners(e){this.authStateListeners.forEach(r=>r(e))}}const Im=new Kae,rN={owner:{financas:!0,processos:!0,agenda:!0,documentos:!0,relatorios:!0,equipe:!0,configuracoes:!0},admin:{financas:!0,processos:!0,agenda:!0,documentos:!0,relatorios:!0,equipe:!0,configuracoes:!1},editor:{financas:!1,processos:!0,agenda:!0,documentos:!0,relatorios:!1,equipe:!1,configuracoes:!1},viewer:{financas:!1,processos:!1,agenda:!1,documentos:!1,relatorios:!1,equipe:!1,configuracoes:!1}};class Yae{getCurrentUserId(){const e=pn.currentUser;if(!e)throw new Error("Usuário não autenticado");return e.uid}async waitForAuth(){return new Promise(e=>{if(pn.currentUser){e(!0);return}const r=pn.onAuthStateChanged(n=>{r(),e(!!n)})})}async generateSecureToken(){const e=crypto.getRandomValues(new Uint8Array(32)),r=Array.from(e).map(l=>l.toString(16).padStart(2,"0")).join(""),i=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",i),o=Array.from(new Uint8Array(s)).map(l=>l.toString(16).padStart(2,"0")).join("");return{token:r,hash:o}}async hashToken(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(i)).map(a=>a.toString(16).padStart(2,"0")).join("")}async createTeam(e){var r,n,i,s,a,o;try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const c=this.getCurrentUserId(),u=pn.currentUser;if(!(u!=null&&u.email))throw new Error("Usuário sem email válido");console.log("Criando nova equipe para usuário:",c);const h=mi(Ji(Rt,"teams"),Xn("ownerUid","==",c),wg(1)),p=await gi(h);if(!p.empty){console.log("Usuário já possui uma equipe");const w=p.docs[0];return{id:w.id,...w.data(),createdAt:((i=(n=(r=w.data().createdAt)==null?void 0:r.toDate)==null?void 0:n.call(r))==null?void 0:i.toISOString())||w.data().createdAt}}const f={name:e.name||"Meu Escritório",ownerUid:c,createdAt:Dt.now(),phones:e.phones||[],settings:e.settings||{allowInvitations:!0,defaultRole:"viewer",modules:["processos","agenda","documentos","relatorios"]},...e},y=await r_(Rt,async w=>{const m=ar(Ji(Rt,"teams"));w.set(m,f);const v=ar(Ji(Rt,"teamMembers"));return w.set(v,{uid:c,email:u.email.toLowerCase(),teamId:m.id,role:"owner",permissions:rN.owner,status:"active",addedAt:Dt.now(),addedBy:c,lastActiveAt:Dt.now()}),m});console.log("Equipe criada com sucesso:",y.id);const g=await ba(y);return g.exists()?{id:g.id,...g.data(),createdAt:((o=(a=(s=g.data().createdAt)==null?void 0:s.toDate)==null?void 0:a.call(s))==null?void 0:o.toISOString())||g.data().createdAt}:null}catch(l){throw console.error("Erro ao criar equipe:",l),l}}async updateTeam(e,r){var n,i,s;try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const o=this.getCurrentUserId();console.log("Atualizando equipe:",e);const l=await ba(ar(Rt,"teams",e));if(!l.exists())throw new Error("Equipe não encontrada");if(l.data().ownerUid!==o)throw new Error("Apenas o proprietário pode atualizar a equipe");const{id:c,ownerUid:u,createdAt:h,...p}=r;await Zo(ar(Rt,"teams",e),{...p,updatedAt:Dt.now()});const f=await ba(ar(Rt,"teams",e));return f.exists()?{id:f.id,...f.data(),createdAt:((s=(i=(n=f.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:s.toISOString())||f.data().createdAt}:null}catch(a){throw console.error("Erro ao atualizar equipe:",a),a}}async uploadLogo(e,r){try{return new Promise((n,i)=>{const s=new FileReader;s.onload=()=>{const a=s.result;n(a)},s.onerror=a=>{console.error("Erro ao converter arquivo:",a),i(null)},s.readAsDataURL(e)})}catch(n){return console.error("Erro ao fazer upload do logo:",n),null}}async createInvitation(e,r,n){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const s=this.getCurrentUserId(),a=r.toLowerCase().trim();return console.log("Criando convite seguro para:",a),await r_(Rt,async o=>{const l=mi(Ji(Rt,"invitations"),Xn("teamId","==",e),Xn("email","==",a),Xn("status","==","pending"));if(!(await gi(l)).empty)throw new Error("Já existe um convite pendente para este e-mail");const u=mi(Ji(Rt,"teamMembers"),Xn("teamId","==",e),Xn("email","==",a),Xn("status","==","active"));if(!(await gi(u)).empty)throw new Error("Este usuário já é membro da equipe");const{token:p,hash:f}=await this.generateSecureToken(),y=new Date;y.setHours(y.getHours()+72);const g={email:a,teamId:e,role:n,tokenHash:f,expiresAt:Dt.fromDate(y),createdAt:Dt.now(),createdBy:s,status:"pending",metadata:{userAgent:navigator.userAgent,createdFrom:"web"}},w=ar(Ji(Rt,"invitations"));o.set(w,g);const v=`${window.location.origin}/aceitar?inviteId=${w.id}&token=${p}`;return console.log("Convite seguro criado:",w.id),{link:v,inviteId:w.id}})}catch(i){throw console.error("Erro ao criar convite seguro:",i),i}}async getTeamInvitations(e){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const n=mi(Ji(Rt,"invitations"),Xn("teamId","==",e),Ql("createdAt","desc"));return(await gi(n)).docs.map(s=>{var a,o,l,c,u,h,p,f,y;return{id:s.id,...s.data(),expiresAt:((l=(o=(a=s.data().expiresAt)==null?void 0:a.toDate)==null?void 0:o.call(a))==null?void 0:l.toISOString())||s.data().expiresAt,createdAt:((h=(u=(c=s.data().createdAt)==null?void 0:c.toDate)==null?void 0:u.call(c))==null?void 0:h.toISOString())||s.data().createdAt,usedAt:((y=(f=(p=s.data().usedAt)==null?void 0:p.toDate)==null?void 0:f.call(p))==null?void 0:y.toISOString())||s.data().usedAt}})}catch(r){throw console.error("Erro ao buscar convites:",r),r}}async cancelInvitation(e){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");return await Zo(ar(Rt,"invitations",e),{status:"cancelled",cancelledAt:Dt.now(),cancelledBy:this.getCurrentUserId()}),!0}catch(r){return console.error("Erro ao cancelar convite:",r),!1}}async validateInvitation(e,r){var n,i,s,a,o,l,c,u,h;try{console.log("Validando convite:",e);const p=await ba(ar(Rt,"invitations",e));if(!p.exists())return{valid:!1,error:"Convite não encontrado"};const f={id:p.id,...p.data(),expiresAt:((s=(i=(n=p.data().expiresAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:s.toISOString())||p.data().expiresAt,createdAt:((l=(o=(a=p.data().createdAt)==null?void 0:a.toDate)==null?void 0:o.call(a))==null?void 0:l.toISOString())||p.data().createdAt,usedAt:((h=(u=(c=p.data().usedAt)==null?void 0:c.toDate)==null?void 0:u.call(c))==null?void 0:h.toISOString())||p.data().usedAt};if(await this.hashToken(r)!==f.tokenHash)return console.log("Token hash mismatch"),{valid:!1,error:"Token de convite inválido"};const g=new Date,w=new Date(f.expiresAt);return g>w?(await Zo(ar(Rt,"invitations",e),{status:"expired",expiredAt:Dt.now()}),{valid:!1,error:"Convite expirado"}):f.status!=="pending"?{valid:!1,error:{accepted:"Convite já foi aceito",expired:"Convite expirado",cancelled:"Convite cancelado",revoked:"Convite revogado"}[f.status]||"Convite não está disponível"}:{valid:!0,invitation:f,requiresAuth:!pn.currentUser}}catch(p){return console.error("Erro ao validar convite:",p),{valid:!1,error:"Erro interno ao validar convite"}}}async acceptInvitation(e,r){try{console.log("Tentando aceitar convite:",e);const n=await this.validateInvitation(e,r);if(!n.valid||!n.invitation)return{success:!1,message:n.error||"Convite inválido"};const i=n.invitation;if(!await this.waitForAuth())return this.savePendingInvite({inviteId:e,token:r,email:i.email,expiresAt:i.expiresAt,timestamp:new Date().toISOString()}),{success:!1,message:"É necessário fazer login para aceitar o convite",requiresAuth:!0};const a=this.getCurrentUserId(),o=pn.currentUser;return!o||!o.email?{success:!1,message:"Usuário não possui email válido"}:o.email.toLowerCase()!==i.email.toLowerCase()?{success:!1,message:`Este convite foi enviado para ${i.email}. Faça login com o e-mail correto.`}:await r_(Rt,async l=>{const c=mi(Ji(Rt,"teamMembers"),Xn("uid","==",a),Xn("teamId","==",i.teamId),wg(1));if(!(await gi(c)).empty)return{success:!1,message:"Você já é membro desta equipe"};const h=ar(Rt,"invitations",e),p=await l.get(h);if(!p.exists()||p.data().status!=="pending")return{success:!1,message:"Convite não está mais válido"};const f=ar(Ji(Rt,"teamMembers"));return l.set(f,{uid:a,email:o.email.toLowerCase(),teamId:i.teamId,role:i.role,permissions:rN[i.role],status:"active",addedAt:Dt.now(),addedBy:i.createdBy,lastActiveAt:Dt.now(),inviteId:e}),l.update(h,{status:"accepted",usedAt:Dt.now(),acceptedBy:a,"metadata.acceptedFrom":"web"}),{success:!0,message:"Convite aceito com sucesso! Bem-vindo à equipe.",data:{teamId:i.teamId}}})}catch(n){return console.error("Erro ao aceitar convite:",n),{success:!1,message:"Erro interno. Tente novamente."}}}async getTeam(){var e,r,n,i,s,a;try{if(!await this.waitForAuth())return null;const l=this.getCurrentUserId(),c=mi(Ji(Rt,"teams"),Xn("ownerUid","==",l)),u=await gi(c);if(!u.empty){const f=u.docs[0];return{id:f.id,...f.data(),createdAt:((n=(r=(e=f.data().createdAt)==null?void 0:e.toDate)==null?void 0:r.call(e))==null?void 0:n.toISOString())||f.data().createdAt}}const h=mi(Ji(Rt,"teamMembers"),Xn("uid","==",l),Xn("status","==","active"),wg(1)),p=await gi(h);if(!p.empty){const f=p.docs[0].data(),y=await ba(ar(Rt,"teams",f.teamId));if(y.exists())return{id:y.id,...y.data(),createdAt:((a=(s=(i=y.data().createdAt)==null?void 0:i.toDate)==null?void 0:s.call(i))==null?void 0:a.toISOString())||y.data().createdAt}}return null}catch(o){throw console.error("Erro ao buscar team:",o),o}}async getTeamMembers(e){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const n=mi(Ji(Rt,"teamMembers"),Xn("teamId","==",e),Ql("addedAt","desc"));return(await gi(n)).docs.map(s=>{var a,o,l,c,u,h;return{id:s.id,...s.data(),addedAt:((l=(o=(a=s.data().addedAt)==null?void 0:a.toDate)==null?void 0:o.call(a))==null?void 0:l.toISOString())||s.data().addedAt,lastActiveAt:((h=(u=(c=s.data().lastActiveAt)==null?void 0:c.toDate)==null?void 0:u.call(c))==null?void 0:h.toISOString())||s.data().lastActiveAt}})}catch(r){throw console.error("Erro ao buscar membros:",r),r}}async updateMemberPermissions(e,r,n,i){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const a=mi(Ji(Rt,"teamMembers"),Xn("teamId","==",e),Xn("uid","==",r),wg(1)),o=await gi(a);if(o.empty)throw new Error("Membro não encontrado");const l=o.docs[0];return await Zo(ar(Rt,"teamMembers",l.id),{permissions:n,role:i,updatedAt:Dt.now(),updatedBy:this.getCurrentUserId()}),!0}catch(s){return console.error("Erro ao atualizar permissões:",s),!1}}async removeMember(e,r){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const i=mi(Ji(Rt,"teamMembers"),Xn("teamId","==",e),Xn("uid","==",r),wg(1)),s=await gi(i);if(s.empty)throw new Error("Membro não encontrado");const a=s.docs[0];return await xu(ar(Rt,"teamMembers",a.id)),!0}catch(n){return console.error("Erro ao remover membro:",n),!1}}savePendingInvite(e){try{if(typeof Storage>"u")return;const n=this.getPendingInvites().filter(i=>i.inviteId!==e.inviteId);n.push(e),localStorage.setItem("legalx_pending_invites",JSON.stringify(n)),console.log("Convite pendente salvo:",e.inviteId)}catch(r){console.error("Erro ao salvar convite pendente:",r)}}getPendingInvites(){try{if(typeof Storage>"u")return[];const e=localStorage.getItem("legalx_pending_invites");if(!e)return[];const r=JSON.parse(e),n=new Date,i=r.filter(s=>{const a=new Date(s.expiresAt);return n<=a});return i.length!==r.length&&localStorage.setItem("legalx_pending_invites",JSON.stringify(i)),i}catch(e){return console.error("Erro ao recuperar convites pendentes:",e),[]}}clearPendingInvite(e){try{if(typeof Storage>"u")return;const n=this.getPendingInvites().filter(i=>i.inviteId!==e);localStorage.setItem("legalx_pending_invites",JSON.stringify(n)),console.log("Convite pendente removido:",e)}catch(r){console.error("Erro ao limpar convite pendente:",r)}}async processPendingInvites(){try{if(!await this.waitForAuth())return{processed:0,errors:["Usuário não autenticado"]};const r=this.getPendingInvites();if(r.length===0)return{processed:0,errors:[]};console.log("Processando convites pendentes:",r.length);let n=0;const i=[];for(const s of r)try{const a=await this.acceptInvitation(s.inviteId,s.token);a.success?(this.clearPendingInvite(s.inviteId),n++):a.requiresAuth||(this.clearPendingInvite(s.inviteId),i.push(`${s.inviteId}: ${a.message}`))}catch(a){console.error("Erro ao processar convite:",a),i.push(`${s.inviteId}: Erro interno`)}return{processed:n,errors:i}}catch(e){return console.error("Erro ao processar convites pendentes:",e),{processed:0,errors:["Erro interno ao processar convites"]}}}formatCpfCnpj(e){const r=e.replace(/\D/g,"");return r.length<=11?r.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):r.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")}formatPhone(e){const r=e.replace(/\D/g,"");return r.length<=10?r.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"):r.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1")}}const ni=new Yae;var Ty=t=>t.type==="checkbox",ph=t=>t instanceof Date,Zi=t=>t==null;const KU=t=>typeof t=="object";var wn=t=>!Zi(t)&&!Array.isArray(t)&&KU(t)&&!ph(t),Xae=t=>wn(t)&&t.target?Ty(t.target)?t.target.checked:t.target.value:t,Jae=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Qae=(t,e)=>t.has(Jae(e)),Zae=t=>{const e=t.constructor&&t.constructor.prototype;return wn(e)&&e.hasOwnProperty("isPrototypeOf")},PT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(PT&&(t instanceof Blob||n))&&(r||wn(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!Zae(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Jn(t[i]));else return t;return e}var Px=t=>/^\w*$/.test(t),Rn=t=>t===void 0,CT=t=>Array.isArray(t)?t.filter(Boolean):[],kT=t=>CT(t.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(t,e,r)=>{if(!e||!wn(t))return r;const n=(Px(e)?[e]:kT(e)).reduce((i,s)=>Zi(i)?i:i[s],t);return Rn(n)||n===t?Rn(t[e])?r:t[e]:n},Yo=t=>typeof t=="boolean",Sr=(t,e,r)=>{let n=-1;const i=Px(e)?[e]:kT(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=wn(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Cj={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},co={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eoe=br.createContext(null);eoe.displayName="HookFormContext";var toe=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==co.all&&(e._proxyFormState[a]=!n||co.all),t[a]}});return i};const roe=typeof window<"u"?br.useLayoutEffect:br.useEffect;var nl=t=>typeof t=="string",noe=(t,e,r,n,i)=>nl(t)?(n&&e.watch.add(t),pt(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),pt(r,s))):(n&&(e.watchAll=!0),r),nN=t=>Zi(t)||!KU(t);function ju(t,e,r=new WeakSet){if(nN(t)||nN(e))return t===e;if(ph(t)&&ph(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ph(a)&&ph(o)||wn(a)&&wn(o)||Array.isArray(a)&&Array.isArray(o)?!ju(a,o,r):a!==o)return!1}}return!0}var YU=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},f0=t=>Array.isArray(t)?t:[t],kj=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},gs=t=>wn(t)&&!Object.keys(t).length,IT=t=>t.type==="file",uo=t=>typeof t=="function",Kw=t=>{if(!PT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},XU=t=>t.type==="select-multiple",jT=t=>t.type==="radio",ioe=t=>jT(t)||Ty(t),a_=t=>Kw(t)&&t.isConnected;function soe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Rn(t)?n++:t[e[n++]];return t}function aoe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Rn(t[e]))return!1;return!0}function In(t,e){const r=Array.isArray(e)?e:Px(e)?[e]:kT(e),n=r.length===1?t:soe(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(wn(n)&&gs(n)||Array.isArray(n)&&aoe(n))&&In(t,r.slice(0,-1)),t}var JU=t=>{for(const e in t)if(uo(t[e]))return!0;return!1};function Yw(t,e={}){const r=Array.isArray(t);if(wn(t)||r)for(const n in t)Array.isArray(t[n])||wn(t[n])&&!JU(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Yw(t[n],e[n])):Zi(t[n])||(e[n]=!0);return e}function QU(t,e,r){const n=Array.isArray(t);if(wn(t)||n)for(const i in t)Array.isArray(t[i])||wn(t[i])&&!JU(t[i])?Rn(e)||nN(r[i])?r[i]=Array.isArray(t[i])?Yw(t[i],[]):{...Yw(t[i])}:QU(t[i],Zi(e)?{}:e[i],r[i]):r[i]=!ju(t[i],e[i]);return r}var bg=(t,e)=>QU(t,e,Yw(e));const Ij={value:!1,isValid:!1},jj={value:!0,isValid:!0};var ZU=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Rn(t[0].attributes.value)?Rn(t[0].value)||t[0].value===""?jj:{value:t[0].value,isValid:!0}:jj:Ij}return Ij},e$=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Rn(t)?t:e?t===""?NaN:t&&+t:r&&nl(t)?new Date(t):n?n(t):t;const Oj={isValid:!1,value:null};var t$=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Oj):Oj;function Rj(t){const e=t.ref;return IT(e)?e.files:jT(e)?t$(t.refs).value:XU(e)?[...e.selectedOptions].map(({value:r})=>r):Ty(e)?ZU(t.refs).value:e$(Rn(e.value)?t.ref.value:e.value,t)}var ooe=(t,e,r,n)=>{const i={};for(const s of t){const a=pt(e,s);a&&Sr(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Xw=t=>t instanceof RegExp,xg=t=>Rn(t)?t:Xw(t)?t.source:wn(t)?Xw(t.value)?t.value.source:t.value:t,Lj=t=>({isOnSubmit:!t||t===co.onSubmit,isOnBlur:t===co.onBlur,isOnChange:t===co.onChange,isOnAll:t===co.all,isOnTouch:t===co.onTouched});const Dj="AsyncFunction";var loe=t=>!!t&&!!t.validate&&!!(uo(t.validate)&&t.validate.constructor.name===Dj||wn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Dj)),coe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Mj=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const p0=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=pt(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(p0(o,e))break}else if(wn(o)&&p0(o,e))break}}};function Fj(t,e,r){const n=pt(t,r);if(n||Px(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=pt(e,s),o=pt(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var uoe=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return gs(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||co.all))},doe=(t,e,r)=>!t||!e||t===e||f0(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),hoe=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,foe=(t,e)=>!CT(pt(t,e)).length&&In(t,e),poe=(t,e,r)=>{const n=f0(pt(t,r));return Sr(n,"root",e[r]),Sr(t,r,n),t},V1=t=>nl(t);function Bj(t,e,r="validate"){if(V1(t)||Array.isArray(t)&&t.every(V1)||Yo(t)&&!t)return{type:r,message:V1(t)?t:"",ref:e}}var Ff=t=>wn(t)&&!Xw(t)?t:{value:t,message:""},Uj=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:h,max:p,pattern:f,validate:y,name:g,valueAsNumber:w,mount:m}=t._f,v=pt(r,g);if(!m||e.has(g))return{};const x=o?o[0]:a,E=A=>{i&&x.reportValidity&&(x.setCustomValidity(Yo(A)?"":A||""),x.reportValidity())},N={},C=jT(a),P=Ty(a),k=C||P,T=(w||IT(a))&&Rn(a.value)&&Rn(v)||Kw(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,q=YU.bind(null,g,n,N),M=(A,I,j,ne=Hl.maxLength,pe=Hl.minLength)=>{const X=A?I:j;N[g]={type:A?ne:pe,message:X,ref:a,...q(A?ne:pe,X)}};if(s?!Array.isArray(v)||!v.length:l&&(!k&&(T||Zi(v))||Yo(v)&&!v||P&&!ZU(o).isValid||C&&!t$(o).isValid)){const{value:A,message:I}=V1(l)?{value:!!l,message:l}:Ff(l);if(A&&(N[g]={type:Hl.required,message:I,ref:x,...q(Hl.required,I)},!n))return E(I),N}if(!T&&(!Zi(h)||!Zi(p))){let A,I;const j=Ff(p),ne=Ff(h);if(!Zi(v)&&!isNaN(v)){const pe=a.valueAsNumber||v&&+v;Zi(j.value)||(A=pe>j.value),Zi(ne.value)||(I=pe<ne.value)}else{const pe=a.valueAsDate||new Date(v),X=xe=>new Date(new Date().toDateString()+" "+xe),ce=a.type=="time",ue=a.type=="week";nl(j.value)&&v&&(A=ce?X(v)>X(j.value):ue?v>j.value:pe>new Date(j.value)),nl(ne.value)&&v&&(I=ce?X(v)<X(ne.value):ue?v<ne.value:pe<new Date(ne.value))}if((A||I)&&(M(!!A,j.message,ne.message,Hl.max,Hl.min),!n))return E(N[g].message),N}if((c||u)&&!T&&(nl(v)||s&&Array.isArray(v))){const A=Ff(c),I=Ff(u),j=!Zi(A.value)&&v.length>+A.value,ne=!Zi(I.value)&&v.length<+I.value;if((j||ne)&&(M(j,A.message,I.message),!n))return E(N[g].message),N}if(f&&!T&&nl(v)){const{value:A,message:I}=Ff(f);if(Xw(A)&&!v.match(A)&&(N[g]={type:Hl.pattern,message:I,ref:a,...q(Hl.pattern,I)},!n))return E(I),N}if(y){if(uo(y)){const A=await y(v,r),I=Bj(A,x);if(I&&(N[g]={...I,...q(Hl.validate,I.message)},!n))return E(I.message),N}else if(wn(y)){let A={};for(const I in y){if(!gs(A)&&!n)break;const j=Bj(await y[I](v,r),x,I);j&&(A={...j,...q(I,j.message)},E(j.message),n&&(N[g]=A))}if(!gs(A)&&(N[g]={ref:x,...A},!n))return N}}return E(!0),N};const moe={mode:co.onSubmit,reValidateMode:co.onChange,shouldFocusError:!0};function goe(t={}){let e={...moe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:uo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=wn(e.defaultValues)||wn(e.values)?Jn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Jn(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const p={array:kj(),state:kj()},f=e.criteriaMode===co.all,y=G=>ie=>{clearTimeout(c),c=setTimeout(G,ie)},g=async G=>{if(!e.disabled&&(u.isValid||h.isValid||G)){const ie=e.resolver?gs((await P()).errors):await T(n,!0);ie!==r.isValid&&p.state.next({isValid:ie})}},w=(G,ie)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((G||Array.from(o.mount)).forEach(re=>{re&&(ie?Sr(r.validatingFields,re,ie):In(r.validatingFields,re))}),p.state.next({validatingFields:r.validatingFields,isValidating:!gs(r.validatingFields)}))},m=(G,ie=[],re,Ae,Ne=!0,Se=!0)=>{if(Ae&&re&&!e.disabled){if(a.action=!0,Se&&Array.isArray(pt(n,G))){const Ie=re(pt(n,G),Ae.argA,Ae.argB);Ne&&Sr(n,G,Ie)}if(Se&&Array.isArray(pt(r.errors,G))){const Ie=re(pt(r.errors,G),Ae.argA,Ae.argB);Ne&&Sr(r.errors,G,Ie),foe(r.errors,G)}if((u.touchedFields||h.touchedFields)&&Se&&Array.isArray(pt(r.touchedFields,G))){const Ie=re(pt(r.touchedFields,G),Ae.argA,Ae.argB);Ne&&Sr(r.touchedFields,G,Ie)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=bg(i,s)),p.state.next({name:G,isDirty:M(G,ie),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Sr(s,G,ie)},v=(G,ie)=>{Sr(r.errors,G,ie),p.state.next({errors:r.errors})},x=G=>{r.errors=G,p.state.next({errors:r.errors,isValid:!1})},E=(G,ie,re,Ae)=>{const Ne=pt(n,G);if(Ne){const Se=pt(s,G,Rn(re)?pt(i,G):re);Rn(Se)||Ae&&Ae.defaultChecked||ie?Sr(s,G,ie?Se:Rj(Ne._f)):j(G,Se),a.mount&&g()}},N=(G,ie,re,Ae,Ne)=>{let Se=!1,Ie=!1;const Fe={name:G};if(!e.disabled){if(!re||Ae){(u.isDirty||h.isDirty)&&(Ie=r.isDirty,r.isDirty=Fe.isDirty=M(),Se=Ie!==Fe.isDirty);const Ke=ju(pt(i,G),ie);Ie=!!pt(r.dirtyFields,G),Ke?In(r.dirtyFields,G):Sr(r.dirtyFields,G,!0),Fe.dirtyFields=r.dirtyFields,Se=Se||(u.dirtyFields||h.dirtyFields)&&Ie!==!Ke}if(re){const Ke=pt(r.touchedFields,G);Ke||(Sr(r.touchedFields,G,re),Fe.touchedFields=r.touchedFields,Se=Se||(u.touchedFields||h.touchedFields)&&Ke!==re)}Se&&Ne&&p.state.next(Fe)}return Se?Fe:{}},C=(G,ie,re,Ae)=>{const Ne=pt(r.errors,G),Se=(u.isValid||h.isValid)&&Yo(ie)&&r.isValid!==ie;if(e.delayError&&re?(l=y(()=>v(G,re)),l(e.delayError)):(clearTimeout(c),l=null,re?Sr(r.errors,G,re):In(r.errors,G)),(re?!ju(Ne,re):Ne)||!gs(Ae)||Se){const Ie={...Ae,...Se&&Yo(ie)?{isValid:ie}:{},errors:r.errors,name:G};r={...r,...Ie},p.state.next(Ie)}},P=async G=>{w(G,!0);const ie=await e.resolver(s,e.context,ooe(G||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(G),ie},k=async G=>{const{errors:ie}=await P(G);if(G)for(const re of G){const Ae=pt(ie,re);Ae?Sr(r.errors,re,Ae):In(r.errors,re)}else r.errors=ie;return ie},T=async(G,ie,re={valid:!0})=>{for(const Ae in G){const Ne=G[Ae];if(Ne){const{_f:Se,...Ie}=Ne;if(Se){const Fe=o.array.has(Se.name),Ke=Ne._f&&loe(Ne._f);Ke&&u.validatingFields&&w([Ae],!0);const nt=await Uj(Ne,o.disabled,s,f,e.shouldUseNativeValidation&&!ie,Fe);if(Ke&&u.validatingFields&&w([Ae]),nt[Se.name]&&(re.valid=!1,ie))break;!ie&&(pt(nt,Se.name)?Fe?poe(r.errors,nt,Se.name):Sr(r.errors,Se.name,nt[Se.name]):In(r.errors,Se.name))}!gs(Ie)&&await T(Ie,ie,re)}}return re.valid},q=()=>{for(const G of o.unMount){const ie=pt(n,G);ie&&(ie._f.refs?ie._f.refs.every(re=>!a_(re)):!a_(ie._f.ref))&&$(G)}o.unMount=new Set},M=(G,ie)=>!e.disabled&&(G&&ie&&Sr(s,G,ie),!ju(xe(),i)),A=(G,ie,re)=>noe(G,o,{...a.mount?s:Rn(ie)?i:nl(G)?{[G]:ie}:ie},re,ie),I=G=>CT(pt(a.mount?s:i,G,e.shouldUnregister?pt(i,G,[]):[])),j=(G,ie,re={})=>{const Ae=pt(n,G);let Ne=ie;if(Ae){const Se=Ae._f;Se&&(!Se.disabled&&Sr(s,G,e$(ie,Se)),Ne=Kw(Se.ref)&&Zi(ie)?"":ie,XU(Se.ref)?[...Se.ref.options].forEach(Ie=>Ie.selected=Ne.includes(Ie.value)):Se.refs?Ty(Se.ref)?Se.refs.forEach(Ie=>{(!Ie.defaultChecked||!Ie.disabled)&&(Array.isArray(Ne)?Ie.checked=!!Ne.find(Fe=>Fe===Ie.value):Ie.checked=Ne===Ie.value||!!Ne)}):Se.refs.forEach(Ie=>Ie.checked=Ie.value===Ne):IT(Se.ref)?Se.ref.value="":(Se.ref.value=Ne,Se.ref.type||p.state.next({name:G,values:Jn(s)})))}(re.shouldDirty||re.shouldTouch)&&N(G,Ne,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&ue(G)},ne=(G,ie,re)=>{for(const Ae in ie){if(!ie.hasOwnProperty(Ae))return;const Ne=ie[Ae],Se=G+"."+Ae,Ie=pt(n,Se);(o.array.has(G)||wn(Ne)||Ie&&!Ie._f)&&!ph(Ne)?ne(Se,Ne,re):j(Se,Ne,re)}},pe=(G,ie,re={})=>{const Ae=pt(n,G),Ne=o.array.has(G),Se=Jn(ie);Sr(s,G,Se),Ne?(p.array.next({name:G,values:Jn(s)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&re.shouldDirty&&p.state.next({name:G,dirtyFields:bg(i,s),isDirty:M(G,Se)})):Ae&&!Ae._f&&!Zi(Se)?ne(G,Se,re):j(G,Se,re),Mj(G,o)&&p.state.next({...r,name:G}),p.state.next({name:a.mount?G:void 0,values:Jn(s)})},X=async G=>{a.mount=!0;const ie=G.target;let re=ie.name,Ae=!0;const Ne=pt(n,re),Se=Ke=>{Ae=Number.isNaN(Ke)||ph(Ke)&&isNaN(Ke.getTime())||ju(Ke,pt(s,re,Ke))},Ie=Lj(e.mode),Fe=Lj(e.reValidateMode);if(Ne){let Ke,nt;const bt=ie.type?Rj(Ne._f):Xae(G),et=G.type===Cj.BLUR||G.type===Cj.FOCUS_OUT,or=!coe(Ne._f)&&!e.resolver&&!pt(r.errors,re)&&!Ne._f.deps||hoe(et,pt(r.touchedFields,re),r.isSubmitted,Fe,Ie),gt=Mj(re,o,et);Sr(s,re,bt),et?(!ie||!ie.readOnly)&&(Ne._f.onBlur&&Ne._f.onBlur(G),l&&l(0)):Ne._f.onChange&&Ne._f.onChange(G);const qr=N(re,bt,et),$t=!gs(qr)||gt;if(!et&&p.state.next({name:re,type:G.type,values:Jn(s)}),or)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?et&&g():et||g()),$t&&p.state.next({name:re,...gt?{}:qr});if(!et&&gt&&p.state.next({...r}),e.resolver){const{errors:Ft}=await P([re]);if(Se(bt),Ae){const li=Fj(r.errors,n,re),Bt=Fj(Ft,n,li.name||re);Ke=Bt.error,re=Bt.name,nt=gs(Ft)}}else w([re],!0),Ke=(await Uj(Ne,o.disabled,s,f,e.shouldUseNativeValidation))[re],w([re]),Se(bt),Ae&&(Ke?nt=!1:(u.isValid||h.isValid)&&(nt=await T(n,!0)));Ae&&(Ne._f.deps&&ue(Ne._f.deps),C(re,nt,Ke,qr))}},ce=(G,ie)=>{if(pt(r.errors,ie)&&G.focus)return G.focus(),1},ue=async(G,ie={})=>{let re,Ae;const Ne=f0(G);if(e.resolver){const Se=await k(Rn(G)?G:Ne);re=gs(Se),Ae=G?!Ne.some(Ie=>pt(Se,Ie)):re}else G?(Ae=(await Promise.all(Ne.map(async Se=>{const Ie=pt(n,Se);return await T(Ie&&Ie._f?{[Se]:Ie}:Ie)}))).every(Boolean),!(!Ae&&!r.isValid)&&g()):Ae=re=await T(n);return p.state.next({...!nl(G)||(u.isValid||h.isValid)&&re!==r.isValid?{}:{name:G},...e.resolver||!G?{isValid:re}:{},errors:r.errors}),ie.shouldFocus&&!Ae&&p0(n,ce,G?Ne:o.mount),Ae},xe=G=>{const ie={...a.mount?s:i};return Rn(G)?ie:nl(G)?pt(ie,G):G.map(re=>pt(ie,re))},we=(G,ie)=>({invalid:!!pt((ie||r).errors,G),isDirty:!!pt((ie||r).dirtyFields,G),error:pt((ie||r).errors,G),isValidating:!!pt(r.validatingFields,G),isTouched:!!pt((ie||r).touchedFields,G)}),F=G=>{G&&f0(G).forEach(ie=>In(r.errors,ie)),p.state.next({errors:G?r.errors:{}})},J=(G,ie,re)=>{const Ae=(pt(n,G,{_f:{}})._f||{}).ref,Ne=pt(r.errors,G)||{},{ref:Se,message:Ie,type:Fe,...Ke}=Ne;Sr(r.errors,G,{...Ke,...ie,ref:Ae}),p.state.next({name:G,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},se=(G,ie)=>uo(G)?p.state.subscribe({next:re=>"values"in re&&G(A(void 0,ie),re)}):A(G,ie,!0),he=G=>p.state.subscribe({next:ie=>{doe(G.name,ie.name,G.exact)&&uoe(ie,G.formState||u,O,G.reRenderRoot)&&G.callback({values:{...s},...r,...ie,defaultValues:i})}}).unsubscribe,Q=G=>(a.mount=!0,h={...h,...G.formState},he({...G,formState:h})),$=(G,ie={})=>{for(const re of G?f0(G):o.mount)o.mount.delete(re),o.array.delete(re),ie.keepValue||(In(n,re),In(s,re)),!ie.keepError&&In(r.errors,re),!ie.keepDirty&&In(r.dirtyFields,re),!ie.keepTouched&&In(r.touchedFields,re),!ie.keepIsValidating&&In(r.validatingFields,re),!e.shouldUnregister&&!ie.keepDefaultValue&&In(i,re);p.state.next({values:Jn(s)}),p.state.next({...r,...ie.keepDirty?{isDirty:M()}:{}}),!ie.keepIsValid&&g()},V=({disabled:G,name:ie})=>{(Yo(G)&&a.mount||G||o.disabled.has(ie))&&(G?o.disabled.add(ie):o.disabled.delete(ie))},te=(G,ie={})=>{let re=pt(n,G);const Ae=Yo(ie.disabled)||Yo(e.disabled);return Sr(n,G,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:G}},name:G,mount:!0,...ie}}),o.mount.add(G),re?V({disabled:Yo(ie.disabled)?ie.disabled:e.disabled,name:G}):E(G,!0,ie.value),{...Ae?{disabled:ie.disabled||e.disabled}:{},...e.progressive?{required:!!ie.required,min:xg(ie.min),max:xg(ie.max),minLength:xg(ie.minLength),maxLength:xg(ie.maxLength),pattern:xg(ie.pattern)}:{},name:G,onChange:X,onBlur:X,ref:Ne=>{if(Ne){te(G,ie),re=pt(n,G);const Se=Rn(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,Ie=ioe(Se),Fe=re._f.refs||[];if(Ie?Fe.find(Ke=>Ke===Se):Se===re._f.ref)return;Sr(n,G,{_f:{...re._f,...Ie?{refs:[...Fe.filter(a_),Se,...Array.isArray(pt(i,G))?[{}]:[]],ref:{type:Se.type,name:G}}:{ref:Se}}}),E(G,!1,void 0,Se)}else re=pt(n,G,{}),re._f&&(re._f.mount=!1),(e.shouldUnregister||ie.shouldUnregister)&&!(Qae(o.array,G)&&a.action)&&o.unMount.add(G)}}},ae=()=>e.shouldFocusError&&p0(n,ce,o.mount),Z=G=>{Yo(G)&&(p.state.next({disabled:G}),p0(n,(ie,re)=>{const Ae=pt(n,re);Ae&&(ie.disabled=Ae._f.disabled||G,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(Ne=>{Ne.disabled=Ae._f.disabled||G}))},0,!1))},ee=(G,ie)=>async re=>{let Ae;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let Ne=Jn(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Se,values:Ie}=await P();r.errors=Se,Ne=Jn(Ie)}else await T(n);if(o.disabled.size)for(const Se of o.disabled)In(Ne,Se);if(In(r.errors,"root"),gs(r.errors)){p.state.next({errors:{}});try{await G(Ne,re)}catch(Se){Ae=Se}}else ie&&await ie({...r.errors},re),ae(),setTimeout(ae);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gs(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},_e=(G,ie={})=>{pt(n,G)&&(Rn(ie.defaultValue)?pe(G,Jn(pt(i,G))):(pe(G,ie.defaultValue),Sr(i,G,Jn(ie.defaultValue))),ie.keepTouched||In(r.touchedFields,G),ie.keepDirty||(In(r.dirtyFields,G),r.isDirty=ie.defaultValue?M(G,Jn(pt(i,G))):M()),ie.keepError||(In(r.errors,G),u.isValid&&g()),p.state.next({...r}))},H=(G,ie={})=>{const re=G?Jn(G):i,Ae=Jn(re),Ne=gs(G),Se=Ne?i:Ae;if(ie.keepDefaultValues||(i=re),!ie.keepValues){if(ie.keepDirtyValues){const Ie=new Set([...o.mount,...Object.keys(bg(i,s))]);for(const Fe of Array.from(Ie))pt(r.dirtyFields,Fe)?Sr(Se,Fe,pt(s,Fe)):pe(Fe,pt(Se,Fe))}else{if(PT&&Rn(G))for(const Ie of o.mount){const Fe=pt(n,Ie);if(Fe&&Fe._f){const Ke=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Kw(Ke)){const nt=Ke.closest("form");if(nt){nt.reset();break}}}}if(ie.keepFieldsRef)for(const Ie of o.mount)pe(Ie,pt(Se,Ie));else n={}}s=e.shouldUnregister?ie.keepDefaultValues?Jn(i):{}:Jn(Se),p.array.next({values:{...Se}}),p.state.next({values:{...Se}})}o={mount:ie.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!ie.keepIsValid||!!ie.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:ie.keepSubmitCount?r.submitCount:0,isDirty:Ne?!1:ie.keepDirty?r.isDirty:!!(ie.keepDefaultValues&&!ju(G,i)),isSubmitted:ie.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ne?{}:ie.keepDirtyValues?ie.keepDefaultValues&&s?bg(i,s):r.dirtyFields:ie.keepDefaultValues&&G?bg(i,G):ie.keepDirty?r.dirtyFields:{},touchedFields:ie.keepTouched?r.touchedFields:{},errors:ie.keepErrors?r.errors:{},isSubmitSuccessful:ie.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ve=(G,ie)=>H(uo(G)?G(s):G,ie),B=(G,ie={})=>{const re=pt(n,G),Ae=re&&re._f;if(Ae){const Ne=Ae.refs?Ae.refs[0]:Ae.ref;Ne.focus&&(Ne.focus(),ie.shouldSelect&&uo(Ne.select)&&Ne.select())}},O=G=>{r={...r,...G}},W={control:{register:te,unregister:$,getFieldState:we,handleSubmit:ee,setError:J,_subscribe:he,_runSchema:P,_focusError:ae,_getWatch:A,_getDirty:M,_setValid:g,_setFieldArray:m,_setDisabledField:V,_setErrors:x,_getFieldArray:I,_reset:H,_resetDefaultValues:()=>uo(e.defaultValues)&&e.defaultValues().then(G=>{ve(G,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:Z,_subjects:p,_proxyFormState:u,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(G){a=G},get _defaultValues(){return i},get _names(){return o},set _names(G){o=G},get _formState(){return r},get _options(){return e},set _options(G){e={...e,...G}}},subscribe:Q,trigger:ue,register:te,handleSubmit:ee,watch:se,setValue:pe,getValues:xe,reset:ve,resetField:_e,clearErrors:F,unregister:$,setError:J,setFocus:B,getFieldState:we};return{...W,formControl:W}}function Al(t={}){const e=br.useRef(void 0),r=br.useRef(void 0),[n,i]=br.useState({isDirty:!1,isValidating:!1,isLoading:uo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:uo(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!uo(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=goe(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,roe(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),br.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),br.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),br.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),br.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),br.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),br.useEffect(()=>{t.values&&!ju(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),br.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=toe(n,s),e.current}const $j=(t,e,r)=>{if(t&&"reportValidity"in t){const n=pt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},r$=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?$j(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>$j(i,r,t))}},yoe=(t,e)=>{e.shouldUseNativeValidation&&r$(t,e);const r={};for(const n in t){const i=pt(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(voe(e.names||Object.keys(t),n)){const a=Object.assign({},pt(r,n));Sr(a,"root",s),Sr(r,n,a)}else Sr(r,n,s)}return r},voe=(t,e)=>{const r=Vj(e);return t.some(n=>Vj(n).match(`^${r}\\.\\d+`))};function Vj(t){return t.replace(/\]|\[/g,"")}function Sl(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(a,o){try{var l=(e!=null&&e.context,Promise.resolve(t[r.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},e,{context:i}))).then(function(c){return s.shouldUseNativeValidation&&r$({},s),{values:r.raw?Object.assign({},n):c,errors:{}}}))}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(!a.inner)throw a;return{values:{},errors:yoe((o=a,l=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(o.inner||[]).reduce(function(c,u){if(c[u.path]||(c[u.path]={message:u.message,type:u.type}),l){var h=c[u.path].types,p=h&&h[u.type];c[u.path]=YU(u.path,l,c,u.type,p?[].concat(p,u.message):u.message)}return c},{})),s)};var o,l}))}catch(a){return Promise.reject(a)}}}function nf(t){this._maxSize=t,this.clear()}nf.prototype.clear=function(){this._size=0,this._values=Object.create(null)};nf.prototype.get=function(t){return this._values[t]};nf.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var woe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n$=/^\d+$/,boe=/^\d/,xoe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,_oe=/^\s*(['"]?)(.*?)(\1)\s*$/,OT=512,zj=new nf(OT),qj=new nf(OT),Wj=new nf(OT),Ah={Cache:nf,split:iN,normalizePath:o_,setter:function(t){var e=o_(t);return qj.get(t)||qj.set(t,function(n,i){for(var s=0,a=e.length,o=n;s<a-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;o=o[e[s++]]}o[e[s]]=i})},getter:function(t,e){var r=o_(t);return Wj.get(t)||Wj.set(t,function(i){for(var s=0,a=r.length;s<a;)if(i!=null||!e)i=i[r[s++]];else return;return i})},join:function(t){return t.reduce(function(e,r){return e+(RT(r)||n$.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){Eoe(Array.isArray(t)?t:iN(t),e,r)}};function o_(t){return zj.get(t)||zj.set(t,iN(t).map(function(e){return e.replace(_oe,"$2")}))}function iN(t){return t.match(woe)||[""]}function Eoe(t,e,r){var n=t.length,i,s,a,o;for(s=0;s<n;s++)i=t[s],i&&(Noe(i)&&(i='"'+i+'"'),o=RT(i),a=!o&&/^\d+$/.test(i),e.call(r,i,o,a,s,t))}function RT(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Aoe(t){return t.match(boe)&&!t.match(n$)}function Soe(t){return xoe.test(t)}function Noe(t){return!RT(t)&&(Aoe(t)||Soe(t))}const Toe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Cx=t=>t.match(Toe)||[],kx=t=>t[0].toUpperCase()+t.slice(1),LT=(t,e)=>Cx(t).join(e).toLowerCase(),i$=t=>Cx(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Poe=t=>kx(i$(t)),Coe=t=>LT(t,"_"),koe=t=>LT(t,"-"),Ioe=t=>kx(LT(t," ")),joe=t=>Cx(t).map(kx).join(" ");var l_={words:Cx,upperFirst:kx,camelCase:i$,pascalCase:Poe,snakeCase:Coe,kebabCase:koe,sentenceCase:Ioe,titleCase:joe},DT={exports:{}};DT.exports=function(t){return s$(Ooe(t),t)};DT.exports.array=s$;function s$(t,e){var r=t.length,n=new Array(r),i={},s=r,a=Roe(e),o=Loe(t);for(e.forEach(function(c){if(!o.has(c[0])||!o.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return n;function l(c,u,h){if(h.has(c)){var p;try{p=", node was:"+JSON.stringify(c)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!o.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var f=a.get(c)||new Set;if(f=Array.from(f),u=f.length){h.add(c);do{var y=f[--u];l(y,o.get(y),h)}while(u);h.delete(c)}n[--r]=c}}}function Ooe(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var i=t[r];e.add(i[0]),e.add(i[1])}return Array.from(e)}function Roe(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var i=t[r];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function Loe(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Doe=DT.exports;const Moe=So(Doe),Foe=Object.prototype.toString,Boe=Error.prototype.toString,Uoe=RegExp.prototype.toString,$oe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Voe=/^Symbol\((.*)\)(.*)$/;function zoe(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Hj(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return zoe(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return $oe.call(t).replace(Voe,"Symbol($1)");const n=Foe.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Boe.call(t)+"]":n==="RegExp"?Uoe.call(t):null}function fc(t,e){let r=Hj(t,e);return r!==null?r:JSON.stringify(t,function(n,i){let s=Hj(this[n],e);return s!==null?s:i},2)}function a$(t){return t==null?[]:[].concat(t)}let o$,l$,c$,qoe=/\$\{\s*(\w+)\s*\}/g;o$=Symbol.toStringTag;class Gj{constructor(e,r,n,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[o$]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=i,this.errors=[],this.inner=[],a$(e).forEach(s=>{if(es.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}l$=Symbol.hasInstance;c$=Symbol.toStringTag;class es extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(qoe,(i,s)=>fc(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,i,s){const a=new Gj(e,r,n,i);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[c$]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,es)}static[l$](e){return Gj[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Xo={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const i=n!=null&&n!==r?` (cast from the value \`${fc(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${fc(r,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${fc(r,!0)}\``+i}},ms={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},_u={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},sN={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Woe={isValue:"${path} field must be ${value}"},z1={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},q1={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Hoe={notType:t=>{const{path:e,value:r,spec:n}=t,i=n.types.length;if(Array.isArray(r)){if(r.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${r.length} for value: \`${fc(r,!0)}\``;if(r.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${r.length} for value: \`${fc(r,!0)}\``}return es.formatError(Xo.notType,t)}};Object.assign(Object.create(null),{mixed:Xo,string:ms,number:_u,date:sN,object:z1,array:q1,boolean:Woe,tuple:Hoe});const Ix=t=>t&&t.__isYupSchema__;class Jw{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:s}=r,a=typeof n=="function"?n:(...o)=>o.every(l=>l===n);return new Jw(e,(o,l)=>{var c;let u=a(...o)?i:s;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),i=this.fn(n,e,r);if(i===void 0||i===e)return e;if(!Ix(i))throw new TypeError("conditions must return a schema object");return i.resolve(r)}}const $v={context:"$",value:"."};function Goe(t,e){return new xd(t,e)}class xd{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===$v.context,this.isValue=this.key[0]===$v.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?$v.context:this.isValue?$v.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Ah.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let i=this.isContext?n:this.isValue?e:r;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}xd.prototype.__isYupRef=!0;const ac=t=>t==null;function Bf(t){function e({value:r,path:n="",options:i,originalValue:s,schema:a},o,l){const{name:c,test:u,params:h,message:p,skipAbsent:f}=t;let{parent:y,context:g,abortEarly:w=a.spec.abortEarly,disableStackTrace:m=a.spec.disableStackTrace}=i;const v={value:r,parent:y,context:g};function x(M={}){const A=u$(Object.assign({value:r,originalValue:s,label:a.spec.label,path:M.path||n,spec:a.spec,disableStackTrace:M.disableStackTrace||m},h,M.params),v),I=new es(es.formatError(M.message||p,A),r,A.path,M.type||c,A.disableStackTrace);return I.params=A,I}const E=w?o:l;let N={path:n,parent:y,type:c,from:i.from,createError:x,resolve(M){return d$(M,v)},options:i,originalValue:s,schema:a};const C=M=>{es.isError(M)?E(M):M?l(null):E(x())},P=M=>{es.isError(M)?E(M):o(M)};if(f&&ac(r))return C(!0);let T;try{var q;if(T=u.call(N,r,N),typeof((q=T)==null?void 0:q.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${N.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(T).then(C,P)}}catch(M){P(M);return}C(T)}return e.OPTIONS=t,e}function u$(t,e){if(!t)return t;for(const r of Object.keys(t))t[r]=d$(t[r],e);return t}function d$(t,e){return xd.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function Koe(t,e,r,n=r){let i,s,a;return e?(Ah.forEach(e,(o,l,c)=>{let u=l?o.slice(1,o.length-1):o;t=t.resolve({context:n,parent:i,value:r});let h=t.type==="tuple",p=c?parseInt(u,10):0;if(t.innerType||h){if(h&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(r&&p>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);i=r,r=r&&r[p],t=h?t.spec.types[p]:t.innerType}if(!c){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);i=r,r=r&&r[u],t=t.fields[u]}s=u,a=l?"["+o+"]":"."+o}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Qw extends Set{describe(){const e=[];for(const r of this.values())e.push(xd.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Qw(this.values())}merge(e,r){const n=this.clone();return e.forEach(i=>n.add(i)),r.forEach(i=>n.delete(i)),n}}function pp(t,e=new Map){if(Ix(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=pp(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,i]of t.entries())r.set(n,pp(i,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(pp(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,i]of Object.entries(t))r[n]=pp(i,e)}else throw Error(`Unable to clone ${t}`);return r}function Yoe(t){if(!(t!=null&&t.length))return;const e=[];let r="",n=!1,i=!1;for(let s=0;s<t.length;s++){const a=t[s];if(a==="["&&!i){r&&(e.push(...r.split(".").filter(Boolean)),r=""),n=!0;continue}if(a==="]"&&!i){r&&(/^\d+$/.test(r)?e.push(r):e.push(r.replace(/^"|"$/g,"")),r=""),n=!1;continue}if(a==='"'){i=!i;continue}if(a==="."&&!n&&!i){r&&(e.push(r),r="");continue}r+=a}return r&&e.push(...r.split(".").filter(Boolean)),e}function Xoe(t,e){const r=e?`${e}.${t.path}`:t.path;return t.errors.map(n=>({message:n,path:Yoe(r)}))}function h$(t,e){var r;if(!((r=t.inner)!=null&&r.length)&&t.errors.length)return Xoe(t,e);const n=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(i=>h$(i,n))}class Oa{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Qw,this._blacklist=new Qw,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Xo.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=pp(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const i=Object.assign({},r.spec,n.spec);return n.spec=i,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((i,s)=>s.resolve(i,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,i,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),i=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(i&&ac(s))return s;let a=fc(e),o=fc(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,i){let{path:s,originalValue:a=e,strict:o=this.spec.strict}=r,l=e;o||(l=this._cast(l,Object.assign({assert:!1},r)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:s,value:l,originalValue:a,options:r,tests:c},n,u=>{if(u.length)return i(u,l);this.runTests({path:s,value:l,originalValue:a,options:r,tests:this.tests},n,i)})}runTests(e,r,n){let i=!1,{tests:s,value:a,originalValue:o,path:l,options:c}=e,u=g=>{i||(i=!0,r(g,a))},h=g=>{i||(i=!0,n(g,a))},p=s.length,f=[];if(!p)return h([]);let y={value:a,originalValue:o,path:l,options:c,schema:this};for(let g=0;g<s.length;g++){const w=s[g];w(y,u,function(v){v&&(Array.isArray(v)?f.push(...v):f.push(v)),--p<=0&&h(f)})}}asNestedTest({key:e,index:r,parent:n,parentPath:i,originalParent:s,options:a}){const o=e??r;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let c=n[o];const u=Object.assign({},a,{strict:!0,parent:n,value:c,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${i||""}[${l?o:`"${o}"`}]`:(i?`${i}.`:"")+e});return(h,p,f)=>this.resolve(u)._validate(c,u,p,f)}validate(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return new Promise((a,o)=>i._validate(e,r,(l,c)=>{es.isError(l)&&(l.value=c),o(l)},(l,c)=>{l.length?o(new es(l,c,void 0,void 0,s)):a(c)}))}validateSync(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),s,a=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},r,{sync:!0}),(o,l)=>{throw es.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new es(o,e,void 0,void 0,a);s=l}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(es.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(es.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):pp(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Bf({message:r,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Bf({message:r,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Xo.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Xo.notNull){return this.nullability(!1,e)}required(e=Xo.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Xo.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),i=Bf(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(a=>!(a.OPTIONS.name===r.name&&(s||a.OPTIONS.test===i.OPTIONS.test))),n.tests.push(i),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),i=a$(e).map(s=>new xd(s));return i.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new Jw(i,r):Jw.fromOptions(i,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Bf({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Xo.oneOf){let n=this.clone();return e.forEach(i=>{n._whitelist.add(i),n._blacklist.delete(i)}),n.internalTests.whiteList=Bf({message:r,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),n}notOneOf(e,r=Xo.notOneOf){let n=this.clone();return e.forEach(i=>{n._blacklist.add(i),n._whitelist.delete(i)}),n.internalTests.blacklist=Bf({message:r,name:"notOneOf",test(i){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:i,optional:s,nullable:a}=r.spec;return{meta:i,label:n,optional:s,nullable:a,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.filter((l,c,u)=>u.findIndex(h=>h.OPTIONS.name===l.OPTIONS.name)===c).map(l=>{const c=l.OPTIONS.params&&e?u$(Object.assign({},l.OPTIONS.params),e):l.OPTIONS.params;return{name:l.OPTIONS.name,params:c}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await e.validate(n,{abortEarly:!1})}}catch(i){if(i instanceof es)return{issues:h$(i)};throw i}}}}}Oa.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Oa.prototype[`${t}At`]=function(e,r,n={}){const{parent:i,parentPath:s,schema:a}=Koe(this,e,r,n.context);return a[t](i&&i[s],Object.assign({},n,{parent:i,path:e}))};for(const t of["equals","is"])Oa.prototype[t]=Oa.prototype.oneOf;for(const t of["not","nope"])Oa.prototype[t]=Oa.prototype.notOneOf;const Joe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Qoe(t){const e=aN(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function aN(t){var e,r;const n=Joe.exec(t);return n?{year:Gl(n[1]),month:Gl(n[2],1)-1,day:Gl(n[3],1),hour:Gl(n[4]),minute:Gl(n[5]),second:Gl(n[6]),millisecond:n[7]?Gl(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Gl(n[10]),minuteOffset:Gl(n[11])}:null}function Gl(t,e=0){return Number(t)||e}let Zoe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ele=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,tle=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,rle="^\\d{4}-\\d{2}-\\d{2}",nle="\\d{2}:\\d{2}:\\d{2}",ile="(([+-]\\d{2}(:?\\d{2})?)|Z)",sle=new RegExp(`${rle}T${nle}(\\.\\d+)?${ile}$`),ale=t=>ac(t)||t===t.trim(),ole={}.toString();function lt(){return new f$}class f$ extends Oa{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===ole?e:i})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Xo.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=ms.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=ms.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=ms.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,i,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:i,name:s}=r:i=r),this.test({name:s||"matches",message:i||ms.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&n||a.search(e)!==-1})}email(e=ms.email){return this.matches(Zoe,{name:"email",message:e,excludeEmptyString:!0})}url(e=ms.url){return this.matches(ele,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ms.uuid){return this.matches(tle,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,i;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:i=void 0}=e:r=e),this.matches(sle,{name:"datetime",message:r||ms.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||ms.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const a=aN(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:r||ms.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const a=aN(s);return a?a.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=ms.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:ale})}lowercase(e=ms.lowercase){return this.transform(r=>ac(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ac(r)||r===r.toLowerCase()})}uppercase(e=ms.uppercase){return this.transform(r=>ac(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ac(r)||r===r.toUpperCase()})}}lt.prototype=f$.prototype;let lle=t=>t!=+t;function jm(){return new p$}class p$ extends Oa{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!lle(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return n.isType(i)||i===null?i:parseFloat(i)})})}min(e,r=_u.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=_u.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=_u.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=_u.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=_u.positive){return this.moreThan(0,e)}negative(e=_u.negative){return this.lessThan(0,e)}integer(e=_u.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>ac(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(i=>ac(i)?i:Math[e](i))}}jm.prototype=p$.prototype;let cle=new Date(""),ule=t=>Object.prototype.toString.call(t)==="[object Date]";class jx extends Oa{constructor(){super({type:"date",check(e){return ule(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=Qoe(e),isNaN(e)?jx.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(xd.isRef(e))n=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=i}return n}min(e,r=sN.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(n)}})}max(e,r=sN.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(n)}})}}jx.INVALID_DATE=cle;jx.prototype;function dle(t,e=[]){let r=[],n=new Set,i=new Set(e.map(([a,o])=>`${a}-${o}`));function s(a,o){let l=Ah.split(a)[0];n.add(l),i.has(`${o}-${l}`)||r.push([o,l])}for(const a of Object.keys(t)){let o=t[a];n.add(a),xd.isRef(o)&&o.isSibling?s(o.path,a):Ix(o)&&"deps"in o&&o.deps.forEach(l=>s(l,a))}return Moe.array(Array.from(n),r).reverse()}function Kj(t,e){let r=1/0;return t.some((n,i)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=i,!0}),r}function m$(t){return(e,r)=>Kj(t,e)-Kj(t,r)}const g$=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function W1(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=W1(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=W1(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(W1)}):"optional"in t?t.optional():t}const hle=(t,e)=>{const r=[...Ah.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),i=Ah.getter(Ah.join(r),!0)(t);return!!(i&&n in i)};let Yj=t=>Object.prototype.toString.call(t)==="[object Object]";function Xj(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const fle=m$([]);function Ba(t){return new y$(t)}class y$ extends Oa{constructor(e){super({type:"object",check(r){return Yj(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=fle,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let i=super._cast(e,r);if(i===void 0)return this.getDefault(r);if(!this._typeCheck(i))return i;let s=this.fields,a=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},c=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),u=!1;for(const h of o){let p=s[h],f=h in i;if(p){let y,g=i[h];c.path=(r.path?`${r.path}.`:"")+h,p=p.resolve({value:g,context:r.context,parent:l});let w=p instanceof Oa?p.spec:void 0,m=w==null?void 0:w.strict;if(w!=null&&w.strip){u=u||h in i;continue}y=!r.__validating||!m?p.cast(i[h],c):i[h],y!==void 0&&(l[h]=y)}else f&&!a&&(l[h]=i[h]);(f!==h in l||l[h]!==i[h])&&(u=!0)}return u?l:i}_validate(e,r={},n,i){let{from:s=[],originalValue:a=e,recursive:o=this.spec.recursive}=r;r.from=[{schema:this,value:a},...s],r.__validating=!0,r.originalValue=a,super._validate(e,r,n,(l,c)=>{if(!o||!Yj(c)){i(l,c);return}a=a||c;let u=[];for(let h of this._nodes){let p=this.fields[h];!p||xd.isRef(p)||u.push(p.asNestedTest({options:r,key:h,parent:c,parentPath:r.path,originalParent:a}))}this.runTests({tests:u,value:c,originalValue:a,options:r},n,h=>{i(h.sort(this._sortErrors).concat(l),c)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[i,s]of Object.entries(this.fields)){const a=n[i];n[i]=a===void 0?s:a}return r.withMutation(i=>i.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var i;const s=this.fields[n];let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(a):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=dle(e,r),n._sortErrors=m$(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let i=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),i=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),i)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return W1(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,i])=>e.includes(n)&&e.includes(i)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let i=Ah.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return hle(s,e)&&(a=Object.assign({},s),n||delete a[e],a[r]=i(s)),a})}json(){return this.transform(g$)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||z1.exact,test(r){if(r==null)return!0;const n=Xj(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=z1.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(i){if(i==null)return!0;const s=Xj(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=z1.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const i of Object.keys(r))n[e(i)]=r[i];return n})}camelCase(){return this.transformKeys(l_.camelCase)}snakeCase(){return this.transformKeys(l_.snakeCase)}constantCase(){return this.transformKeys(e=>l_.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,a]of Object.entries(r.fields)){var i;let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[s]})),n.fields[s]=a.describe(o)}return n}}Ba.prototype=y$.prototype;function Om(t){return new v$(t)}class v$ extends Oa{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let i=!1;const s=n.map((a,o)=>{const l=this.innerType.cast(a,Object.assign({},r,{path:`${r.path||""}[${o}]`}));return l!==a&&(i=!0),l});return i?s:n}_validate(e,r={},n,i){var s;let a=this.innerType,o=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(l,c)=>{var u;if(!o||!a||!this._typeCheck(c)){i(l,c);return}let h=new Array(c.length);for(let f=0;f<c.length;f++){var p;h[f]=a.asNestedTest({options:r,index:f,parent:c,parentPath:r.path,originalParent:(p=r.originalValue)!=null?p:e})}this.runTests({value:c,tests:h,originalValue:(u=r.originalValue)!=null?u:e,options:r},n,f=>i(f.concat(l),c))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(g$)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!Ix(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+fc(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=q1.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||q1.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||q1.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,i,s)=>!e(n,i,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var i;let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}Om.prototype=v$.prototype;function ple({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const w$=R.forwardRef(ple);function mle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const is=R.forwardRef(mle);function gle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const yle=R.forwardRef(gle);function vle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const c_=R.forwardRef(vle);function wle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const u_=R.forwardRef(wle);function ble({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const H1=R.forwardRef(ble);function xle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const _le=R.forwardRef(xle);function Ele({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Ox=R.forwardRef(Ele);function Ale({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const b$=R.forwardRef(Ale);function Sle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const wl=R.forwardRef(Sle);function Nle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Tle=R.forwardRef(Nle);function Ple({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Cle=R.forwardRef(Ple);function kle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Ile=R.forwardRef(kle);function jle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Qp=R.forwardRef(jle);function Ole({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Zw=R.forwardRef(Ole);function Rle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const oN=R.forwardRef(Rle);function Lle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const MT=R.forwardRef(Lle);function Dle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Mle=R.forwardRef(Dle);function Fle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Rm=R.forwardRef(Fle);function Ble({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ule=R.forwardRef(Ble);function $le({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Zp=R.forwardRef($le);function Vle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Sh=R.forwardRef(Vle);function zle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const lN=R.forwardRef(zle);function qle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ta=R.forwardRef(qle);function Wle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Rx=R.forwardRef(Wle);function Hle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Lx=R.forwardRef(Hle);function Gle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Kle=R.forwardRef(Gle);function Yle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const Xle=R.forwardRef(Yle);function Jle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const cN=R.forwardRef(Jle);function Qle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const FT=R.forwardRef(Qle);function Zle({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const x$=R.forwardRef(Zle);function ece({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const ss=R.forwardRef(ece);function tce({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Dx=R.forwardRef(tce);function rce({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const G0=R.forwardRef(rce);function nce({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const go=R.forwardRef(nce);function ice({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const sce=R.forwardRef(ice);function ace({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}const _$=R.forwardRef(ace);function oce({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Nh=R.forwardRef(oce);function lce({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Pa=R.forwardRef(lce);function cce({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const uce=R.forwardRef(cce);function dce({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Mx=R.forwardRef(dce);function hce({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const _g=R.forwardRef(hce);function fce({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Ju=R.forwardRef(fce);function pce({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ra=R.forwardRef(pce),mce=Ba({email:lt().email("E-mail inválido").required("E-mail é obrigatório"),password:lt().required("Senha é obrigatória")});function gce({onSuccess:t,onSwitchToRegister:e}){const[r,n]=R.useState(!1),[i,s]=R.useState(!1),[a,o]=R.useState(""),{register:l,handleSubmit:c,formState:{errors:u}}=Al({resolver:Sl(mce)}),h=async p=>{s(!0),o("");try{const f=await Im.login(p.email,p.password);f.success&&f.user?t(f.user):o(f.message)}catch(f){console.error("Erro no login:",f),o("Erro interno. Tente novamente.")}finally{s(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]}),d.jsx("p",{className:"text-blue-200",children:"Sistema de Gestão Jurídica"})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Entrar"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Acesse sua conta no LegalX"})]}),a&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-red-600 text-sm",children:a})}),d.jsxs("form",{onSubmit:c(h),className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail"}),d.jsxs("div",{className:"relative",children:[d.jsx(Zp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...l("email"),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),u.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),d.jsxs("div",{className:"relative",children:[d.jsx(cN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...l("password"),type:r?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Sua senha"}),d.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(lN,{className:"w-5 h-5"}):d.jsx(Ta,{className:"w-5 h-5"})})]}),u.password&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.password.message})]}),d.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors mt-6",children:i?"Entrando...":"Entrar"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:["Não tem uma conta?"," ",d.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Criar Conta"})]})})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("div",{className:"bg-blue-800 bg-opacity-50 rounded-lg p-4",children:[d.jsxs("p",{className:"text-blue-100 text-sm mb-2",children:[d.jsx("strong",{children:"Demo:"})," Crie uma conta para testar o sistema"]}),d.jsx("p",{className:"text-blue-200 text-xs",children:"Todos os dados são salvos localmente no seu navegador"})]})})]})})}const yce=Ba({officeName:lt().required("Nome do escritório é obrigatório"),oabNumber:lt().required("Número da OAB é obrigatório"),email:lt().email("E-mail inválido").required("E-mail é obrigatório"),password:lt().min(6,"Senha deve ter pelo menos 6 caracteres").required("Senha é obrigatória"),confirmPassword:lt().oneOf([Goe("password")],"Senhas não coincidem").required("Confirmação de senha é obrigatória")});function vce({onSuccess:t,onSwitchToLogin:e}){const[r,n]=R.useState(!1),[i,s]=R.useState(!1),[a,o]=R.useState(!1),[l,c]=R.useState(""),{register:u,handleSubmit:h,formState:{errors:p}}=Al({resolver:Sl(yce)}),f=async y=>{o(!0),c("");try{const g=await Im.register({officeName:y.officeName,oabNumber:y.oabNumber,email:y.email},y.password);g.success&&g.user?t(g.user):c(g.message)}catch(g){console.error("Erro no cadastro:",g),c("Erro interno. Tente novamente.")}finally{o(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]}),d.jsx("p",{className:"text-blue-200",children:"Sistema de Gestão Jurídica"})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Criar Conta"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Cadastre seu escritório no LegalX"})]}),l&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-red-600 text-sm",children:l})}),d.jsxs("form",{onSubmit:h(f),className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Escritório *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ju,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("officeName"),type:"text",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Escritório Silva & Associados"})]}),p.officeName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.officeName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB do Responsável *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Xle,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("oabNumber"),type:"text",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 123456/SP"})]}),p.oabNumber&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.oabNumber.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Zp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("email"),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),p.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha *"}),d.jsxs("div",{className:"relative",children:[d.jsx(cN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("password"),type:r?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mínimo 6 caracteres"}),d.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(lN,{className:"w-5 h-5"}):d.jsx(Ta,{className:"w-5 h-5"})})]}),p.password&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.password.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha *"}),d.jsxs("div",{className:"relative",children:[d.jsx(cN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("confirmPassword"),type:i?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirme sua senha"}),d.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?d.jsx(lN,{className:"w-5 h-5"}):d.jsx(Ta,{className:"w-5 h-5"})})]}),p.confirmPassword&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.confirmPassword.message})]}),d.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Criando conta...":"Criar Conta"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:["Já tem uma conta?"," ",d.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Fazer Login"})]})})]})]})})}function wce({children:t}){const[e,r]=R.useState(!1),[n,i]=R.useState(null),[s,a]=R.useState("login"),[o,l]=R.useState(!0),[c,u]=R.useState(!1),[h,p]=R.useState(null);R.useEffect(()=>{const w=Im.onAuthStateChanged(m=>{i(m),r(m!==null),l(!1),m!==null&&f()});return()=>w()},[]);const f=async()=>{try{u(!0);const w=ni.getPendingInvites();if(w.length===0)return;console.log(`Processando ${w.length} convites pendentes...`),await new Promise(v=>setTimeout(v,1e3));const m=await ni.processPendingInvites();p(m),m.processed>0&&(console.log(`${m.processed} convites processados com sucesso`),setTimeout(()=>{alert(`Ótimo! ${m.processed} convite(s) foram processados automaticamente. Você agora tem acesso às equipes.`)},1500)),m.errors.length>0&&console.warn("Erros ao processar alguns convites:",m.errors)}catch(w){console.error("Erro ao processar convites pendentes:",w)}finally{u(!1),setTimeout(()=>{p(null)},1e4)}},y=w=>{i(w),r(!0)},g=()=>{a(s==="login"?"register":"login")};return o?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),d.jsx("p",{className:"text-white",children:"Carregando..."})]})}):c?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Processando Convites"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Verificando convites pendentes e adicionando você às equipes..."}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:d.jsx("p",{className:"text-sm text-blue-700",children:"Isso pode levar alguns segundos. Por favor, aguarde."})})]})}):!e||!n?s==="login"?d.jsx(gce,{onSuccess:y,onSwitchToRegister:g}):d.jsx(vce,{onSuccess:y,onSwitchToLogin:g}):d.jsxs(d.Fragment,{children:[t(n),h&&h.processed>0&&d.jsx("div",{className:"fixed top-4 right-4 max-w-sm bg-green-50 border border-green-200 rounded-lg shadow-lg p-4 z-50",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm font-medium text-green-800",children:"Convites Processados!"}),d.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[h.processed," convite(s) foram aceitos automaticamente."]})]})]})}),h&&h.errors.length>0&&d.jsx("div",{className:"fixed top-4 right-4 max-w-sm bg-amber-50 border border-amber-200 rounded-lg shadow-lg p-4 z-50",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Alguns Convites Não Puderam Ser Processados"}),d.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[h.errors.length," erro(s) encontrado(s). Verifique os convites manualmente."]})]})]})})]})}function bce({user:t,onLogout:e,onOpenAdmin:r}){const n=()=>{confirm("Tem certeza que deseja sair?")&&(Im.logout(),e())};return d.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center mr-3",children:d.jsx("span",{className:"text-white font-bold text-sm",children:t.officeName.charAt(0).toUpperCase()})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t.officeName}),d.jsxs("p",{className:"text-sm text-gray-500",children:["OAB: ",t.oabNumber]})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.email}),d.jsx("p",{className:"text-xs text-gray-500",children:"Administrador"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[r&&d.jsxs("button",{onClick:r,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Administração",children:[d.jsx(Zw,{className:"w-4 h-4 mr-1"}),"Admin"]}),d.jsx(uce,{className:"w-8 h-8 text-gray-400"}),d.jsxs("button",{onClick:n,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Sair",children:[d.jsx(yle,{className:"w-4 h-4 mr-1"}),"Sair"]})]})]})]})})}function E$(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=E$(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function rr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=E$(t))&&(n&&(n+=" "),n+=e);return n}const xce=[{name:"Dashboard",href:"dashboard",icon:Kle},{name:"Processos",href:"processes",icon:Rx},{name:"Agenda",href:"calendar",icon:Ox},{name:"Financeiro",href:"financial",icon:oN},{name:"Equipe",href:"team",icon:Mx},{name:"Documentos",href:"documents",icon:Rm},{name:"Relatórios",href:"reports",icon:b$},{name:"Configurações",href:"settings",icon:Zw}],_ce=[{name:"Nova Procuração",action:"new-power-of-attorney"},{name:"Novo Recibo",action:"new-receipt"},{name:"Nova Receita",action:"new-revenue"},{name:"Nova Despesa",action:"new-expense"},{name:"Novo Processo",action:"new-process"},{name:"Novo Evento",action:"new-event"},{name:"Novo Advogado",action:"new-lawyer"},{name:"Novo Colaborador",action:"new-employee"}];function Ece({activeSection:t,onSectionChange:e,onQuickAction:r}){return d.jsxs("div",{className:"flex flex-col w-64 bg-blue-900 text-white h-screen",children:[d.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-blue-800",children:d.jsxs("h1",{className:"text-2xl font-bold",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d.jsx("nav",{className:"px-4 py-6 space-y-2",children:xce.map(n=>d.jsxs("button",{onClick:()=>e(n.href),className:rr("w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",t===n.href?"bg-blue-800 text-white":"text-blue-100 hover:bg-blue-800 hover:text-white"),children:[d.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),d.jsxs("div",{className:"px-4 py-4 border-t border-blue-800",children:[d.jsx("h3",{className:"text-xs font-semibold text-blue-300 uppercase tracking-wider mb-3",children:"Ações Rápidas"}),d.jsx("div",{className:"space-y-1",children:_ce.map(n=>d.jsxs("button",{onClick:()=>r(n.action),className:"w-full flex items-center px-2 py-1.5 text-xs text-blue-100 hover:bg-blue-800 rounded transition-colors",children:[d.jsx(go,{className:"w-3 h-3 mr-2"}),n.name]},n.action))})]})]})]})}function Ace({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Sce=R.forwardRef(Ace);function Nce({title:t,titleId:e,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const Tce=R.forwardRef(Nce);function d_({title:t,amount:e,type:r,change:n}){const i=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),s=()=>{switch(r){case"revenue":return"border-green-200 bg-green-50";case"expense":return"border-red-200 bg-red-50";case"balance":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-white"}},a=()=>{switch(r){case"revenue":return"text-green-600";case"expense":return"text-red-600";case"balance":return e>=0?"text-blue-600":"text-red-600";default:return"text-gray-600"}};return d.jsx("div",{className:`p-6 rounded-lg border-2 ${s()} transition-all hover:shadow-md`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),d.jsx("p",{className:`text-2xl font-bold ${a()}`,children:i(e)})]}),n!==void 0&&d.jsxs("div",{className:`flex items-center ${n>=0?"text-green-600":"text-red-600"}`,children:[n>=0?d.jsx(Tce,{className:"w-4 h-4 mr-1"}):d.jsx(Sce,{className:"w-4 h-4 mr-1"}),d.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(n),"%"]})]})]})})}function Vv({title:t,value:e,icon:r,color:n,description:i}){return d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`p-3 rounded-lg ${n}`,children:d.jsx(r,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e}),i&&d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i})]})]})})}var Fx={},A$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(A$);var BT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(BT);var UT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(UT);var Bx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",o="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const c=r[s];o?c==="\\"&&s+1<i?(s++,a+=r[s]):c===o?o="":a+=c:l?c==='"'||c==="'"?o=c:c==="]"?(l=!1,n.push(a),a=""):a+=c:c==="["?(l=!0,a&&(n.push(a),a="")):c==="."?a&&(n.push(a),a=""):a+=c,s++}return a&&n.push(a),n}t.toPath=e})(Bx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A$,r=BT,n=UT,i=Bx;function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?r.isDeepKey(l)?s(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return a(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function a(o,l,c){if(l.length===0)return c;let u=o;for(let h=0;h<l.length;h++){if(u==null||e.isUnsafeProperty(l[h]))return c;u=u[l[h]]}return u===void 0?c:u}t.get=s})(Fx);var Pce=Fx.get;const cd=So(Pce);var S$={exports:{}},Cr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T=Symbol.for("react.transitional.element"),VT=Symbol.for("react.portal"),Ux=Symbol.for("react.fragment"),$x=Symbol.for("react.strict_mode"),Vx=Symbol.for("react.profiler"),zx=Symbol.for("react.consumer"),qx=Symbol.for("react.context"),Wx=Symbol.for("react.forward_ref"),Hx=Symbol.for("react.suspense"),Gx=Symbol.for("react.suspense_list"),Kx=Symbol.for("react.memo"),Yx=Symbol.for("react.lazy"),Cce=Symbol.for("react.view_transition"),kce=Symbol.for("react.client.reference");function Ua(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $T:switch(t=t.type,t){case Ux:case Vx:case $x:case Hx:case Gx:case Cce:return t;default:switch(t=t&&t.$$typeof,t){case qx:case Wx:case Yx:case Kx:return t;case zx:return t;default:return e}}case VT:return e}}}Cr.ContextConsumer=zx;Cr.ContextProvider=qx;Cr.Element=$T;Cr.ForwardRef=Wx;Cr.Fragment=Ux;Cr.Lazy=Yx;Cr.Memo=Kx;Cr.Portal=VT;Cr.Profiler=Vx;Cr.StrictMode=$x;Cr.Suspense=Hx;Cr.SuspenseList=Gx;Cr.isContextConsumer=function(t){return Ua(t)===zx};Cr.isContextProvider=function(t){return Ua(t)===qx};Cr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$T};Cr.isForwardRef=function(t){return Ua(t)===Wx};Cr.isFragment=function(t){return Ua(t)===Ux};Cr.isLazy=function(t){return Ua(t)===Yx};Cr.isMemo=function(t){return Ua(t)===Kx};Cr.isPortal=function(t){return Ua(t)===VT};Cr.isProfiler=function(t){return Ua(t)===Vx};Cr.isStrictMode=function(t){return Ua(t)===$x};Cr.isSuspense=function(t){return Ua(t)===Hx};Cr.isSuspenseList=function(t){return Ua(t)===Gx};Cr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ux||t===Vx||t===$x||t===Hx||t===Gx||typeof t=="object"&&t!==null&&(t.$$typeof===Yx||t.$$typeof===Kx||t.$$typeof===qx||t.$$typeof===zx||t.$$typeof===Wx||t.$$typeof===kce||t.getModuleId!==void 0)};Cr.typeOf=Ua;S$.exports=Cr;var Ice=S$.exports,$i=t=>t===0?0:t>0?1:-1,La=t=>typeof t=="number"&&t!=+t,mh=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,yt=t=>(typeof t=="number"||t instanceof Number)&&!La(t),bl=t=>yt(t)||typeof t=="string",jce=0,em=t=>{var e=++jce;return"".concat(t||"").concat(e)},Ca=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(e)&&typeof e!="string")return n;var s;if(mh(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return La(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},N$=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},oh=(t,e)=>yt(t)&&yt(e)?r=>t+r*(e-t):()=>e;function T$(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):cd(n,e))===r)}var bn=t=>t===null||typeof t>"u",Py=t=>bn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Oce=["viewBox","children"],Rce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Jj=["points","pathLength"],h_={svg:Oce,polygon:Jj,polyline:Jj},zT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qT=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(R.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{zT.includes(i)&&(n[i]=s=>r[i](r,s))}),n},Lce=(t,e,r)=>n=>(t(e,r,n),null),WT=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];zT.includes(i)&&typeof s=="function"&&(n||(n={}),n[i]=Lce(s,e,r))}),n},Qj=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Zj=null,f_=null,P$=t=>{if(t===Zj&&Array.isArray(f_))return f_;var e=[];return R.Children.forEach(t,r=>{bn(r)||(Ice.isFragment(r)?e=e.concat(P$(r.props.children)):e.push(r))}),f_=e,Zj=t,e};function Xx(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>Qj(i)):n=[Qj(e)],P$(t).forEach(i=>{var s=cd(i,"type.displayName")||cd(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var C$=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Dce=(t,e,r,n)=>{var i,s=(i=n&&(h_==null?void 0:h_[n]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(n&&s.includes(e)||Rce.includes(e))||r&&zT.includes(e)},tr=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;Dce((a=n)===null||a===void 0?void 0:a[s],s,e,r)&&(i[s]=n[s])}),i},Mce=["children","width","height","viewBox","className","style","title","desc"];function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uN.apply(null,arguments)}function Fce(t,e){if(t==null)return{};var r,n,i=Bce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Bce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var HT=R.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:l,desc:c}=t,u=Fce(t,Mce),h=s||{width:n,height:i,x:0,y:0},p=rr("recharts-surface",a);return R.createElement("svg",uN({},tr(u,!0,"svg"),{className:p,width:n,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),R.createElement("title",null,l),R.createElement("desc",null,c),r)}),Uce=["children","className"];function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dN.apply(null,arguments)}function $ce(t,e){if(t==null)return{};var r,n,i=Vce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Vce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ns=R.forwardRef((t,e)=>{var{children:r,className:n}=t,i=$ce(t,Uce),s=rr("recharts-layer",n);return R.createElement("g",dN({className:s},tr(i,!0),{ref:e}),r)}),k$=R.createContext(null),zce=()=>R.useContext(k$);function jr(t){return function(){return t}}const I$=Math.cos,eb=Math.sin,To=Math.sqrt,tb=Math.PI,Jx=2*tb,hN=Math.PI,fN=2*hN,rh=1e-6,qce=fN-rh;function j$(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Wce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return j$;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Hce{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?j$:Wce(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,c=i-r,u=a-e,h=o-r,p=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>rh)if(!(Math.abs(h*l-c*u)>rh)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-a,y=i-o,g=l*l+c*c,w=f*f+y*y,m=Math.sqrt(g),v=Math.sqrt(p),x=s*Math.tan((hN-Math.acos((g+p-w)/(2*m*v)))/2),E=x/v,N=x/m;Math.abs(E-1)>rh&&this._append`L${e+E*u},${r+E*h}`,this._append`A${s},${s},0,0,${+(h*f>u*y)},${this._x1=e+N*l},${this._y1=r+N*c}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,h=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>rh||Math.abs(this._y1-u)>rh)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%fN+fN),p>qce?this._append`A${n},${n},0,1,${h},${e-o},${r-l}A${n},${n},0,1,${h},${this._x1=c},${this._y1=u}`:p>rh&&this._append`A${n},${n},0,${+(p>=hN)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function GT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Hce(e)}function KT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function O$(t){this._context=t}O$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qx(t){return new O$(t)}function R$(t){return t[0]}function L$(t){return t[1]}function D$(t,e){var r=jr(!0),n=null,i=Qx,s=null,a=GT(o);t=typeof t=="function"?t:t===void 0?R$:jr(t),e=typeof e=="function"?e:e===void 0?L$:jr(e);function o(l){var c,u=(l=KT(l)).length,h,p=!1,f;for(n==null&&(s=i(f=a())),c=0;c<=u;++c)!(c<u&&r(h=l[c],c,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(h,c,l),+e(h,c,l));if(f)return s=null,f+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:jr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:jr(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:jr(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function zv(t,e,r){var n=null,i=jr(!0),s=null,a=Qx,o=null,l=GT(c);t=typeof t=="function"?t:t===void 0?R$:jr(+t),e=typeof e=="function"?e:jr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?L$:jr(+r);function c(h){var p,f,y,g=(h=KT(h)).length,w,m=!1,v,x=new Array(g),E=new Array(g);for(s==null&&(o=a(v=l())),p=0;p<=g;++p){if(!(p<g&&i(w=h[p],p,h))===m)if(m=!m)f=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=p-1;y>=f;--y)o.point(x[y],E[y]);o.lineEnd(),o.areaEnd()}m&&(x[p]=+t(w,p,h),E[p]=+e(w,p,h),o.point(n?+n(w,p,h):x[p],r?+r(w,p,h):E[p]))}if(v)return o=null,v+""||null}function u(){return D$().defined(i).curve(a).context(s)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:jr(+h),n=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:jr(+h),c):t},c.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:jr(+h),c):n},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:jr(+h),r=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:jr(+h),c):e},c.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:jr(+h),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:jr(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),c):a},c.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),c):s},c}class M${constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Gce(t){return new M$(t,!0)}function Kce(t){return new M$(t,!1)}const YT={draw(t,e){const r=To(e/tb);t.moveTo(r,0),t.arc(0,0,r,0,Jx)}},Yce={draw(t,e){const r=To(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},F$=To(1/3),Xce=F$*2,Jce={draw(t,e){const r=To(e/Xce),n=r*F$;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Qce={draw(t,e){const r=To(e),n=-r/2;t.rect(n,n,r,r)}},Zce=.8908130915292852,B$=eb(tb/10)/eb(7*tb/10),eue=eb(Jx/10)*B$,tue=-I$(Jx/10)*B$,rue={draw(t,e){const r=To(e*Zce),n=eue*r,i=tue*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=Jx*s/5,o=I$(a),l=eb(a);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},p_=To(3),nue={draw(t,e){const r=-To(e/(p_*3));t.moveTo(0,r*2),t.lineTo(-p_*r,-r),t.lineTo(p_*r,-r),t.closePath()}},fa=-.5,pa=To(3)/2,pN=1/To(12),iue=(pN/2+1)*3,sue={draw(t,e){const r=To(e/iue),n=r/2,i=r*pN,s=n,a=r*pN+r,o=-s,l=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(fa*n-pa*i,pa*n+fa*i),t.lineTo(fa*s-pa*a,pa*s+fa*a),t.lineTo(fa*o-pa*l,pa*o+fa*l),t.lineTo(fa*n+pa*i,fa*i-pa*n),t.lineTo(fa*s+pa*a,fa*a-pa*s),t.lineTo(fa*o+pa*l,fa*l-pa*o),t.closePath()}};function aue(t,e){let r=null,n=GT(i);t=typeof t=="function"?t:jr(t||YT),e=typeof e=="function"?e:jr(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:jr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:jr(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function rb(){}function nb(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function U$(t){this._context=t}U$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oue(t){return new U$(t)}function $$(t){this._context=t}$$.prototype={areaStart:rb,areaEnd:rb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:nb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lue(t){return new $$(t)}function V$(t){this._context=t}V$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:nb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cue(t){return new V$(t)}function z$(t){this._context=t}z$.prototype={areaStart:rb,areaEnd:rb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function uue(t){return new z$(t)}function eO(t){return t<0?-1:1}function tO(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(eO(s)+eO(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function rO(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function m_(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function ib(t){this._context=t}ib.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m_(this,this._t0,rO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,m_(this,rO(this,r=tO(this,t,e)),r);break;default:m_(this,this._t0,r=tO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function q$(t){this._context=new W$(t)}(q$.prototype=Object.create(ib.prototype)).point=function(t,e){ib.prototype.point.call(this,e,t)};function W$(t){this._context=t}W$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function due(t){return new ib(t)}function hue(t){return new q$(t)}function H$(t){this._context=t}H$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=nO(t),i=nO(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function nO(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function fue(t){return new H$(t)}function Zx(t,e){this._context=t,this._t=e}Zx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function pue(t){return new Zx(t,.5)}function mue(t){return new Zx(t,0)}function gue(t){return new Zx(t,1)}function tm(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function mN(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function yue(t,e){return t[e]}function vue(t){const e=[];return e.key=t,e}function wue(){var t=jr([]),e=mN,r=tm,n=yue;function i(s){var a=Array.from(t.apply(this,arguments),vue),o,l=a.length,c=-1,u;for(const h of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+n(h,a[o].key,c,s)]).data=h;for(o=0,u=KT(e(a));o<l;++o)a[u[o]].index=o;return r(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:jr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:jr(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?mN:typeof s=="function"?s:jr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??tm,i):r},i}function bue(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}tm(t,e)}}function xue(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}tm(t,e)}}function _ue(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],h=u[n][1]||0,p=u[n-1][1]||0,f=(h-p)/2,y=0;y<o;++y){var g=t[e[y]],w=g[n][1]||0,m=g[n-1][1]||0;f+=w-m}l+=h,c+=f*h}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,tm(t,e)}}var Eue=["type","size","sizeType"];function gN(){return gN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gN.apply(null,arguments)}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){Aue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aue(t,e,r){return(e=Sue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tue(t,e){if(t==null)return{};var r,n,i=Pue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Pue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var G$={symbolCircle:YT,symbolCross:Yce,symbolDiamond:Jce,symbolSquare:Qce,symbolStar:rue,symbolTriangle:nue,symbolWye:sue},Cue=Math.PI/180,kue=t=>{var e="symbol".concat(Py(t));return G$[e]||YT},Iue=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*Cue;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},jue=(t,e)=>{G$["symbol".concat(Py(t))]=e},XT=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=Tue(t,Eue),s=sO(sO({},i),{},{type:e,size:r,sizeType:n}),a=()=>{var h=kue(e),p=aue().type(h).size(Iue(r,n,e));return p()},{className:o,cx:l,cy:c}=s,u=tr(s,!0);return l===+l&&c===+c&&r===+r?R.createElement("path",gN({},u,{className:rr("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(c,")"),d:a()})):null};XT.registerSymbol=jue;function yN(){return yN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yN.apply(null,arguments)}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){JT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JT(t,e,r){return(e=Rue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rue(t){var e=Lue(t,"string");return typeof e=="symbol"?e:e+""}function Lue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ma=32;class QT extends R.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=ma/2,s=ma/6,a=ma/3,o=e.inactive?n:e.color,l=r??e.type;if(l==="none")return null;if(l==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:ma,y2:i,className:"recharts-legend-icon"});if(l==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(ma,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return R.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(ma/8,"h").concat(ma,"v").concat(ma*3/4,"h").concat(-ma,"z"),className:"recharts-legend-icon"});if(R.isValidElement(e.legendIcon)){var c=Oue({},e);return delete c.legendIcon,R.cloneElement(e.legendIcon,c)}return R.createElement(XT,{fill:o,cx:i,cy:i,size:ma,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:ma,height:ma},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,h)=>{var p=u.formatter||i,f=rr({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:u.inactive});if(u.type==="none")return null;var y=u.inactive?s:u.color,g=p?p(u.value,u,h):u.value;return R.createElement("li",yN({className:f,style:l,key:"legend-item-".concat(h)},WT(this.props,u,h)),R.createElement(HT,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,a)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}JT(QT,"displayName","Legend");JT(QT,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var K$={},Y$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(Y$);var ZT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(ZT);var X$={},e2={},J$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(J$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J$;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(e2);var Q$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(Q$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e2,r=Q$;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(X$);var Z$={},eV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fx;function r(n){return function(i){return e.get(i,n)}}t.property=r})(eV);var tV={},g_={},y_={},eP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(eP);var tP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(tP);var t2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(t2);var oO;function Due(){return oO||(oO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rP(),r=eP,n=tP,i=t2;function s(h,p,f){return typeof f!="function"?e.isMatch(h,p):a(h,p,function y(g,w,m,v,x,E){const N=f(g,w,m,v,x,E);return N!==void 0?!!N:a(g,w,y,E)},new Map)}function a(h,p,f,y){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,f,y);case"function":return Object.keys(p).length>0?a(h,{...p},f,y):i.eq(h,p);default:return r.isObject(h)?typeof p=="string"?p==="":!0:i.eq(h,p)}}function o(h,p,f,y){if(p==null)return!0;if(Array.isArray(p))return c(h,p,f,y);if(p instanceof Map)return l(h,p,f,y);if(p instanceof Set)return u(h,p,f,y);const g=Object.keys(p);if(h==null)return g.length===0;if(g.length===0)return!0;if(y&&y.has(p))return y.get(p)===h;y&&y.set(p,h);try{for(let w=0;w<g.length;w++){const m=g[w];if(!n.isPrimitive(h)&&!(m in h)||p[m]===void 0&&h[m]!==void 0||p[m]===null&&h[m]!==null||!f(h[m],p[m],m,h,p,y))return!1}return!0}finally{y&&y.delete(p)}}function l(h,p,f,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[g,w]of p.entries()){const m=h.get(g);if(f(m,w,g,h,p,y)===!1)return!1}return!0}function c(h,p,f,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const g=new Set;for(let w=0;w<p.length;w++){const m=p[w];let v=!1;for(let x=0;x<h.length;x++){if(g.has(x))continue;const E=h[x];let N=!1;if(f(E,m,w,h,p,y)&&(N=!0),N){g.add(x),v=!0;break}}if(!v)return!1}return!0}function u(h,p,f,y){return p.size===0?!0:h instanceof Set?c([...h],[...p],f,y):!1}t.isMatchWith=s,t.isSetMatch=u}(y_)),y_}var lO;function rP(){return lO||(lO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Due();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(g_)),g_}var rV={},nP={},iP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(iP);var r2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(r2);var n2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",h="[object Function]",p="[object ArrayBuffer]",f="[object Object]",y="[object Error]",g="[object DataView]",w="[object Uint8Array]",m="[object Uint8ClampedArray]",v="[object Uint16Array]",x="[object Uint32Array]",E="[object BigUint64Array]",N="[object Int8Array]",C="[object Int16Array]",P="[object Int32Array]",k="[object BigInt64Array]",T="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=p,t.arrayTag=u,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=E,t.booleanTag=i,t.dataViewTag=g,t.dateTag=o,t.errorTag=y,t.float32ArrayTag=T,t.float64ArrayTag=q,t.functionTag=h,t.int16ArrayTag=C,t.int32ArrayTag=P,t.int8ArrayTag=N,t.mapTag=l,t.numberTag=n,t.objectTag=f,t.regexpTag=e,t.setTag=c,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=v,t.uint32ArrayTag=x,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=m})(n2);var nV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(nV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iP,r=r2,n=n2,i=tP,s=nV;function a(u,h){return o(u,void 0,u,new Map,h)}function o(u,h,p,f=new Map,y=void 0){const g=y==null?void 0:y(u,h,p,f);if(g!=null)return g;if(i.isPrimitive(u))return u;if(f.has(u))return f.get(u);if(Array.isArray(u)){const w=new Array(u.length);f.set(u,w);for(let m=0;m<u.length;m++)w[m]=o(u[m],m,p,f,y);return Object.hasOwn(u,"index")&&(w.index=u.index),Object.hasOwn(u,"input")&&(w.input=u.input),w}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const w=new RegExp(u.source,u.flags);return w.lastIndex=u.lastIndex,w}if(u instanceof Map){const w=new Map;f.set(u,w);for(const[m,v]of u)w.set(m,o(v,m,p,f,y));return w}if(u instanceof Set){const w=new Set;f.set(u,w);for(const m of u)w.add(o(m,void 0,p,f,y));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const w=new(Object.getPrototypeOf(u)).constructor(u.length);f.set(u,w);for(let m=0;m<u.length;m++)w[m]=o(u[m],m,p,f,y);return w}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const w=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return f.set(u,w),l(w,u,p,f,y),w}if(typeof File<"u"&&u instanceof File){const w=new File([u],u.name,{type:u.type});return f.set(u,w),l(w,u,p,f,y),w}if(u instanceof Blob){const w=new Blob([u],{type:u.type});return f.set(u,w),l(w,u,p,f,y),w}if(u instanceof Error){const w=new u.constructor;return f.set(u,w),w.message=u.message,w.name=u.name,w.stack=u.stack,w.cause=u.cause,l(w,u,p,f,y),w}if(typeof u=="object"&&c(u)){const w=Object.create(Object.getPrototypeOf(u));return f.set(u,w),l(w,u,p,f,y),w}return u}function l(u,h,p=u,f,y){const g=[...Object.keys(h),...e.getSymbols(h)];for(let w=0;w<g.length;w++){const m=g[w],v=Object.getOwnPropertyDescriptor(u,m);(v==null||v.writable)&&(u[m]=o(h[m],m,p,f,y))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(nP);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nP;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(rV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rP(),r=rV;function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(tV);var iV={},sV={},aV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nP,r=n2;function n(i,s){return e.cloneDeepWith(i,(a,o,l,c)=>{const u=s==null?void 0:s(a,o,l,c);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case r.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=n})(aV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aV;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(sV);var oV={},sP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(sP);var lV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r2;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(lV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BT,r=sP,n=lV,i=Bx;function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=a;for(let u=0;u<l.length;u++){const h=l[u];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}t.has=s})(oV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rP(),r=UT,n=sV,i=Fx,s=oV;function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?s.has(c,o):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=a})(iV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZT,r=eV,n=tV,i=iV;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(Z$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y$,r=ZT,n=X$,i=Z$;function s(a,o=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(K$);var Mue=K$.uniqBy;const cO=So(Mue);function cV(t,e,r){return e===!0?cO(t,r):typeof e=="function"?cO(t,e):t}var uV={exports:{}},dV={},hV={exports:{}},fV={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=R;function Fue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bue=typeof Object.is=="function"?Object.is:Fue,Uue=rm.useState,$ue=rm.useEffect,Vue=rm.useLayoutEffect,zue=rm.useDebugValue;function que(t,e){var r=e(),n=Uue({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return Vue(function(){i.value=r,i.getSnapshot=e,v_(i)&&s({inst:i})},[t,r,e]),$ue(function(){return v_(i)&&s({inst:i}),t(function(){v_(i)&&s({inst:i})})},[t]),zue(r),r}function v_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Bue(t,r)}catch{return!0}}function Wue(t,e){return e()}var Hue=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wue:que;fV.useSyncExternalStore=rm.useSyncExternalStore!==void 0?rm.useSyncExternalStore:Hue;hV.exports=fV;var Gue=hV.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2=R,Kue=Gue;function Yue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xue=typeof Object.is=="function"?Object.is:Yue,Jue=Kue.useSyncExternalStore,Que=i2.useRef,Zue=i2.useEffect,ede=i2.useMemo,tde=i2.useDebugValue;dV.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Que(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=ede(function(){function l(f){if(!c){if(c=!0,u=f,f=n(f),i!==void 0&&a.hasValue){var y=a.value;if(i(y,f))return h=y}return h=f}if(y=h,Xue(u,f))return y;var g=n(f);return i!==void 0&&i(y,g)?(u=f,y):(u=f,h=g)}var c=!1,u,h,p=r===void 0?null:r;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,r,n,i]);var o=Jue(t,s[0],s[1]);return Zue(function(){a.hasValue=!0,a.value=o},[o]),tde(o),o};uV.exports=dV;var rde=uV.exports,aP=R.createContext(null),nde=t=>t,Xr=()=>{var t=R.useContext(aP);return t?t.store.dispatch:nde},G1=()=>{},ide=()=>G1,sde=(t,e)=>t===e;function vt(t){var e=R.useContext(aP);return rde.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:ide,e?e.store.getState:G1,e?e.store.getState:G1,e?t:G1,sde)}function ade(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ode(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function lde(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var uO=t=>Array.isArray(t)?t:[t];function cde(t){const e=Array.isArray(t[0])?t[0]:t;return lde(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ude(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var dde=class{constructor(t){this.value=t}deref(){return this.value}},hde=typeof WeakRef<"u"?WeakRef:dde,fde=0,dO=1;function qv(){return{s:fde,v:void 0,o:null,p:null}}function pV(t,e={}){let r=qv();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var h;let o=r;const{length:l}=arguments;for(let p=0,f=l;p<f;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const w=g.get(y);w===void 0?(o=qv(),g.set(y,o)):o=w}else{let g=o.p;g===null&&(o.p=g=new Map);const w=g.get(y);w===void 0?(o=qv(),g.set(y,o)):o=w}}const c=o;let u;if(o.s===dO)u=o.v;else if(u=t.apply(null,arguments),s++,n){const p=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;p!=null&&n(p,u)&&(u=p,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new hde(u):u}return c.s=dO,c.v=u,u}return a.clearCache=()=>{r=qv(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function pde(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),ade(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:h,memoizeOptions:p=[],argsMemoize:f=pV,argsMemoizeOptions:y=[],devModeChecks:g={}}=u,w=uO(p),m=uO(y),v=cde(i),x=h(function(){return s++,c.apply(null,arguments)},...w),E=f(function(){a++;const C=ude(v,arguments);return o=x.apply(null,C),o},...m);return Object.assign(E,{resultFunc:c,memoizedResultFunc:x,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var Ue=pde(pV),mde=Object.assign((t,e=Ue)=>{ode(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>mde}),mV={},gV={},yV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(yV);var vV={},oP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(oP);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oP,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(vV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yV,r=vV,n=Bx;function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(f=>String(f));const c=(f,y)=>{let g=f;for(let w=0;w<y.length&&g!=null;++w)g=g[y[w]];return g},u=(f,y)=>y==null||f==null?y:typeof f=="object"&&"key"in f?Object.hasOwn(y,f.key)?y[f.key]:c(y,f.path):typeof f=="function"?f(y):Array.isArray(f)?c(y,f):typeof y=="object"?y[f]:y,h=a.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||r.isKey(f)?f:{key:f,path:n.toPath(f)}));return s.map(f=>({original:f,criteria:h.map(y=>u(y,f))})).slice().sort((f,y)=>{for(let g=0;g<h.length;g++){const w=e.compareValues(f.criteria[g],y.criteria[g],o[g]);if(w!==0)return w}return 0}).map(f=>f.original)}t.orderBy=i})(gV);var wV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<s?a(u,l+1):i.push(u)}};return a(r,0),i}t.flatten=e})(wV);var lP={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sP,r=e2,n=eP,i=t2;function s(a,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}t.isIterateeCall=s})(lP);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gV,r=wV,n=lP;function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(mV);var gde=mV.sortBy;const s2=So(gde);var bV=t=>t.legend.settings,yde=t=>t.legend.size,vde=t=>t.legend.payload,wde=Ue([vde,bV],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?s2(n,r):n});function bde(){return vt(wde)}var Wv=1;function xV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=R.useState({height:0,left:0,top:0,width:0}),n=R.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Wv||Math.abs(a.left-e.left)>Wv||Math.abs(a.top-e.top)>Wv||Math.abs(a.width-e.width)>Wv)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function fi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xde=typeof Symbol=="function"&&Symbol.observable||"@@observable",hO=xde,w_=()=>Math.random().toString(36).substring(7).split("").join("."),_de={INIT:`@@redux/INIT${w_()}`,REPLACE:`@@redux/REPLACE${w_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${w_()}`},sb=_de;function cP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function _V(t,e,r){if(typeof t!="function")throw new Error(fi(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(fi(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(fi(1));return r(_V)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((w,m)=>{a.set(m,w)}))}function u(){if(l)throw new Error(fi(3));return i}function h(w){if(typeof w!="function")throw new Error(fi(4));if(l)throw new Error(fi(5));let m=!0;c();const v=o++;return a.set(v,w),function(){if(m){if(l)throw new Error(fi(6));m=!1,c(),a.delete(v),s=null}}}function p(w){if(!cP(w))throw new Error(fi(7));if(typeof w.type>"u")throw new Error(fi(8));if(typeof w.type!="string")throw new Error(fi(17));if(l)throw new Error(fi(9));try{l=!0,i=n(i,w)}finally{l=!1}return(s=a).forEach(v=>{v()}),w}function f(w){if(typeof w!="function")throw new Error(fi(10));n=w,p({type:sb.REPLACE})}function y(){const w=h;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(fi(11));function v(){const E=m;E.next&&E.next(u())}return v(),{unsubscribe:w(v)}},[hO](){return this}}}return p({type:sb.INIT}),{dispatch:p,subscribe:h,getState:u,replaceReducer:f,[hO]:y}}function Ede(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:sb.INIT})>"u")throw new Error(fi(12));if(typeof r(void 0,{type:sb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fi(13))})}function EV(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{Ede(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const h=n[u],p=r[h],f=a[h],y=p(f,o);if(typeof y>"u")throw o&&o.type,new Error(fi(14));c[h]=y,l=l||y!==f}return l=l||n.length!==Object.keys(a).length,l?c:a}}function ab(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Ade(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(fi(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=t.map(l=>l(a));return s=ab(...o)(i.dispatch),{...i,dispatch:s}}}function AV(t){return cP(t)&&"type"in t&&typeof t.type=="string"}var SV=Symbol.for("immer-nothing"),fO=Symbol.for("immer-draftable"),Zs=Symbol.for("immer-state");function ho(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var nm=Object.getPrototypeOf;function Wh(t){return!!t&&!!t[Zs]}function Sc(t){var e;return t?NV(t)||Array.isArray(t)||!!t[fO]||!!((e=t.constructor)!=null&&e[fO])||o2(t)||l2(t):!1}var Sde=Object.prototype.constructor.toString();function NV(t){if(!t||typeof t!="object")return!1;const e=nm(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Sde}function ob(t,e){a2(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function a2(t){const e=t[Zs];return e?e.type_:Array.isArray(t)?1:o2(t)?2:l2(t)?3:0}function vN(t,e){return a2(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function TV(t,e,r){const n=a2(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Nde(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function o2(t){return t instanceof Map}function l2(t){return t instanceof Set}function nh(t){return t.copy_||t.base_}function wN(t,e){if(o2(t))return new Map(t);if(l2(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=NV(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Zs];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(nm(t),n)}else{const n=nm(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function uP(t,e=!1){return c2(t)||Wh(t)||!Sc(t)||(a2(t)>1&&(t.set=t.add=t.clear=t.delete=Tde),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>uP(n,!0))),t}function Tde(){ho(2)}function c2(t){return Object.isFrozen(t)}var Pde={};function Hh(t){const e=Pde[t];return e||ho(0,t),e}var K0;function PV(){return K0}function Cde(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pO(t,e){e&&(Hh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bN(t){xN(t),t.drafts_.forEach(kde),t.drafts_=null}function xN(t){t===K0&&(K0=t.parent_)}function mO(t){return K0=Cde(K0,t)}function kde(t){const e=t[Zs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Zs].modified_&&(bN(e),ho(4)),Sc(t)&&(t=lb(e,t),e.parent_||cb(e,t)),e.patches_&&Hh("Patches").generateReplacementPatches_(r[Zs].base_,t,e.patches_,e.inversePatches_)):t=lb(e,r,[]),bN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==SV?t:void 0}function lb(t,e,r){if(c2(e))return e;const n=e[Zs];if(!n)return ob(e,(i,s)=>yO(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return cb(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),ob(s,(o,l)=>yO(t,n,i,o,l,r,a)),cb(t,i,!1),r&&t.patches_&&Hh("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function yO(t,e,r,n,i,s,a){if(Wh(i)){const o=s&&e&&e.type_!==3&&!vN(e.assigned_,n)?s.concat(n):void 0,l=lb(t,i,o);if(TV(r,n,l),Wh(l))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Sc(i)&&!c2(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;lb(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&cb(t,i)}}function cb(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&uP(e,r)}function Ide(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:PV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=dP;r&&(i=[n],s=Y0);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var dP={get(t,e){if(e===Zs)return t;const r=nh(t);if(!vN(r,e))return jde(t,r,e);const n=r[e];return t.finalized_||!Sc(n)?n:n===b_(t.base_,e)?(x_(t),t.copy_[e]=EN(n,t)):n},has(t,e){return e in nh(t)},ownKeys(t){return Reflect.ownKeys(nh(t))},set(t,e,r){const n=CV(nh(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=b_(nh(t),e),s=i==null?void 0:i[Zs];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Nde(r,i)&&(r!==void 0||vN(t.base_,e)))return!0;x_(t),_N(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return b_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,x_(t),_N(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=nh(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ho(11)},getPrototypeOf(t){return nm(t.base_)},setPrototypeOf(){ho(12)}},Y0={};ob(dP,(t,e)=>{Y0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Y0.deleteProperty=function(t,e){return Y0.set.call(this,t,e,void 0)};Y0.set=function(t,e,r){return dP.set.call(this,t[0],e,r,t[0])};function b_(t,e){const r=t[Zs];return(r?nh(r):t)[e]}function jde(t,e,r){var i;const n=CV(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function CV(t,e){if(!(e in t))return;let r=nm(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=nm(r)}}function _N(t){t.modified_||(t.modified_=!0,t.parent_&&_N(t.parent_))}function x_(t){t.copy_||(t.copy_=wN(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Ode=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(l=s,...c){return a.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&ho(6),n!==void 0&&typeof n!="function"&&ho(7);let i;if(Sc(e)){const s=mO(this),a=EN(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?bN(s):xN(s)}return pO(s,n),gO(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===SV&&(i=void 0),this.autoFreeze_&&uP(i,!0),n){const s=[],a=[];Hh("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else ho(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Sc(t)||ho(8),Wh(t)&&(t=pc(t));const e=mO(this),r=EN(t,void 0);return r[Zs].isManual_=!0,xN(e),r}finishDraft(t,e){const r=t&&t[Zs];(!r||!r.isManual_)&&ho(9);const{scope_:n}=r;return pO(n,e),gO(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Hh("Patches").applyPatches_;return Wh(t)?n(t,e):this.produce(t,i=>n(i,e))}};function EN(t,e){const r=o2(t)?Hh("MapSet").proxyMap_(t,e):l2(t)?Hh("MapSet").proxySet_(t,e):Ide(t,e);return(e?e.scope_:PV()).drafts_.push(r),r}function pc(t){return Wh(t)||ho(10,t),kV(t)}function kV(t){if(!Sc(t)||c2(t))return t;const e=t[Zs];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=wN(t,e.scope_.immer_.useStrictShallowCopy_)}else r=wN(t,!0);return ob(r,(n,i)=>{TV(r,n,kV(i))}),e&&(e.finalized_=!1),r}var ea=new Ode,IV=ea.produce;ea.produceWithPatches.bind(ea);ea.setAutoFreeze.bind(ea);ea.setUseStrictShallowCopy.bind(ea);ea.applyPatches.bind(ea);ea.createDraft.bind(ea);ea.finishDraft.bind(ea);function jV(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var Rde=jV(),Lde=jV,Dde=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ab:ab.apply(null,arguments)};function Da(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Js(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>AV(n)&&n.type===t,r}var OV=class Kg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Kg.prototype)}static get[Symbol.species](){return Kg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Kg(...e[0].concat(this)):new Kg(...e.concat(this))}};function vO(t){return Sc(t)?IV(t,()=>{}):t}function Hv(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function Mde(t){return typeof t=="boolean"}var Fde=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new OV;return r&&(Mde(r)?a.push(Rde):a.push(Lde(r.extraArgument))),a},Bde="RTK_autoBatch",wO=t=>e=>{setTimeout(e,t)},Ude=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wO(10):t.type==="callback"?t.queueNotification:wO(t.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const h=()=>i&&u(),p=n.subscribe(h);return o.add(u),()=>{p(),o.delete(u)}},dispatch(u){var h;try{return i=!((h=u==null?void 0:u.meta)!=null&&h[Bde]),s=!i,s&&(a||(a=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},$de=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new OV(t);return n&&i.push(Ude(typeof n=="object"?n:void 0)),i};function Vde(t){const e=Fde(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(cP(r))l=EV(r);else throw new Error(Js(1));let c;typeof n=="function"?c=n(e):c=e();let u=ab;i&&(u=Dde({trace:!1,...typeof i=="object"&&i}));const h=Ade(...c),p=$de(h);let f=typeof o=="function"?o(p):p();const y=u(...f);return _V(l,a,y)}function RV(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Js(28));if(o in e)throw new Error(Js(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function zde(t){return typeof t=="function"}function qde(t,e){let[r,n,i]=RV(e),s;if(zde(t))s=()=>vO(t());else{const o=vO(t);s=()=>o}function a(o=s(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,h)=>{if(h)if(Wh(u)){const f=h(u,l);return f===void 0?u:f}else{if(Sc(u))return IV(u,p=>h(p,l));{const p=h(u,l);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},o)}return a.getInitialState=s,a}var Wde="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Hde=(t=21)=>{let e="",r=t;for(;r--;)e+=Wde[Math.random()*64|0];return e},Gde=Symbol.for("rtk-slice-createasyncthunk");function Kde(t,e){return`${t}/${e}`}function Yde({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Gde];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Js(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(Jde()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(E,N){const C=typeof E=="string"?E:E.type;if(!C)throw new Error(Js(12));if(C in c.sliceCaseReducersByType)throw new Error(Js(13));return c.sliceCaseReducersByType[C]=N,u},addMatcher(E,N){return c.sliceMatchers.push({matcher:E,reducer:N}),u},exposeAction(E,N){return c.actionCreators[E]=N,u},exposeCaseReducer(E,N){return c.sliceCaseReducersByName[E]=N,u}};l.forEach(E=>{const N=o[E],C={reducerName:E,type:Kde(s,E),createNotation:typeof i.reducers=="function"};Zde(N)?the(C,N,u,e):Qde(C,N,u)});function h(){const[E={},N=[],C=void 0]=typeof i.extraReducers=="function"?RV(i.extraReducers):[i.extraReducers],P={...E,...c.sliceCaseReducersByType};return qde(i.initialState,k=>{for(let T in P)k.addCase(T,P[T]);for(let T of c.sliceMatchers)k.addMatcher(T.matcher,T.reducer);for(let T of N)k.addMatcher(T.matcher,T.reducer);C&&k.addDefaultCase(C)})}const p=E=>E,f=new Map,y=new WeakMap;let g;function w(E,N){return g||(g=h()),g(E,N)}function m(){return g||(g=h()),g.getInitialState()}function v(E,N=!1){function C(k){let T=k[E];return typeof T>"u"&&N&&(T=Hv(y,C,m)),T}function P(k=p){const T=Hv(f,N,()=>new WeakMap);return Hv(T,k,()=>{const q={};for(const[M,A]of Object.entries(i.selectors??{}))q[M]=Xde(A,k,()=>Hv(y,k,m),N);return q})}return{reducerPath:E,getSelectors:P,get selectors(){return P(C)},selectSlice:C}}const x={name:s,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:m,...v(a),injectInto(E,{reducerPath:N,...C}={}){const P=N??a;return E.inject({reducerPath:P,reducer:w},C),{...x,...v(P,!0)}}};return x}}function Xde(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var $a=Yde();function Jde(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Qde({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!ehe(n))throw new Error(Js(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Da(t,a):Da(t))}function Zde(t){return t._reducerDefinitionType==="asyncThunk"}function ehe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function the({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Js(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:u}=r,h=i(t,s,u);n.exposeAction(e,h),a&&n.addCase(h.fulfilled,a),o&&n.addCase(h.pending,o),l&&n.addCase(h.rejected,l),c&&n.addMatcher(h.settled,c),n.exposeCaseReducer(e,{fulfilled:a||Gv,pending:o||Gv,rejected:l||Gv,settled:c||Gv})}function Gv(){}var rhe="task",LV="listener",DV="completed",hP="cancelled",nhe=`task-${hP}`,ihe=`task-${DV}`,AN=`${LV}-${hP}`,she=`${LV}-${DV}`,u2=class{constructor(t){g5(this,"name","TaskAbortError");g5(this,"message");this.code=t,this.message=`${rhe} ${hP} (reason: ${t})`}},fP=(t,e)=>{if(typeof t!="function")throw new TypeError(Js(32))},ub=()=>{},MV=(t,e=ub)=>(t.catch(e),t),FV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Th=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ph=t=>{if(t.aborted){const{reason:e}=t;throw new u2(e)}};function BV(t,e){let r=ub;return new Promise((n,i)=>{const s=()=>i(new u2(t.reason));if(t.aborted){s();return}r=FV(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=ub})}var ahe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof u2?"cancelled":"rejected",error:r}}finally{e==null||e()}},db=t=>e=>MV(BV(t,e).then(r=>(Ph(t),r))),UV=t=>{const e=db(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Cp}=Object,bO={},d2="listenerMiddleware",ohe=(t,e)=>{const r=n=>FV(t,()=>Th(n,t.reason));return(n,i)=>{fP(n);const s=new AbortController;r(s);const a=ahe(async()=>{Ph(t),Ph(s.signal);const o=await n({pause:db(s.signal),delay:UV(s.signal),signal:s.signal});return Ph(s.signal),o},()=>Th(s,ihe));return i!=null&&i.autoJoin&&e.push(a.catch(ub)),{result:db(t)(a),cancel(){Th(s,nhe)}}}},lhe=(t,e)=>{const r=async(n,i)=>{Ph(e);let s=()=>{};const o=[new Promise((l,c)=>{let u=t({predicate:n,effect:(h,p)=>{p.unsubscribe(),l([h,p.getState(),p.getOriginalState()])}});s=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await BV(e,Promise.race(o));return Ph(e),l}finally{s()}};return(n,i)=>MV(r(n,i))},$V=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=Da(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Js(21));return fP(s),{predicate:i,type:e,effect:s}},VV=Cp(t=>{const{type:e,predicate:r,effect:n}=$V(t);return{id:Hde(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Js(22))}}},{withTypes:()=>VV}),xO=(t,e)=>{const{type:r,effect:n,predicate:i}=$V(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},SN=t=>{t.pending.forEach(e=>{Th(e,AN)})},che=t=>()=>{t.forEach(SN),t.clear()},_O=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},zV=Cp(Da(`${d2}/add`),{withTypes:()=>zV}),uhe=Da(`${d2}/removeAll`),qV=Cp(Da(`${d2}/remove`),{withTypes:()=>qV}),dhe=(...t)=>{console.error(`${d2}/error`,...t)},Cy=(t={})=>{const e=new Map,{extra:r,onError:n=dhe}=t;fP(n);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),h=>{u.unsubscribe(),h!=null&&h.cancelActive&&SN(u)}),s=u=>{const h=xO(e,u)??VV(u);return i(h)};Cp(s,{withTypes:()=>s});const a=u=>{const h=xO(e,u);return h&&(h.unsubscribe(),u.cancelActive&&SN(h)),!!h};Cp(a,{withTypes:()=>a});const o=async(u,h,p,f)=>{const y=new AbortController,g=lhe(s,y.signal),w=[];try{u.pending.add(y),await Promise.resolve(u.effect(h,Cp({},p,{getOriginalState:f,condition:(m,v)=>g(m,v).then(Boolean),take:g,delay:UV(y.signal),pause:db(y.signal),extra:r,signal:y.signal,fork:ohe(y.signal,w),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((m,v,x)=>{m!==y&&(Th(m,AN),x.delete(m))})},cancel:()=>{Th(y,AN),u.pending.delete(y)},throwIfCancelled:()=>{Ph(y.signal)}})))}catch(m){m instanceof u2||_O(n,m,{raisedBy:"effect"})}finally{await Promise.all(w),Th(y,she),u.pending.delete(y)}},l=che(e);return{middleware:u=>h=>p=>{if(!AV(p))return h(p);if(zV.match(p))return s(p.payload);if(uhe.match(p)){l();return}if(qV.match(p))return a(p.payload);let f=u.getState();const y=()=>{if(f===bO)throw new Error(Js(23));return f};let g;try{if(g=h(p),e.size>0){const w=u.getState(),m=Array.from(e.values());for(const v of m){let x=!1;try{x=v.predicate(p,w,f)}catch(E){x=!1,_O(n,E,{raisedBy:"predicate"})}x&&o(v,p,u,y)}}}finally{f=bO}return g},startListening:s,stopListening:a,clearListeners:l}};function Js(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var hhe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},WV=$a({name:"chartLayout",initialState:hhe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:fhe,setLayout:phe,setChartSize:mhe,setScale:ghe}=WV.actions,yhe=WV.reducer;function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){vhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vhe(t,e,r){return(e=whe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function whe(t){var e=bhe(t,"string");return typeof e=="symbol"?e:e+""}function bhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hb=Math.PI/180,xhe=t=>t*180/Math.PI,Fn=(t,e,r,n)=>({x:t+Math.cos(-hb*n)*r,y:e+Math.sin(-hb*n)*r}),HV=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_he=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},Ehe=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=_he({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:a,angle:xhe(l),angleInRadian:l}},Ahe=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},She=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},Nhe=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:s}=Ehe({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:c}=Ahe(e),u=s,h;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;h=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;h=u>=c&&u<=l}return h?AO(AO({},e),{},{radius:i,angle:She(u,e)}):null};function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){The(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function The(t,e,r){return(e=Phe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Phe(t){var e=Che(t,"string");return typeof e=="symbol"?e:e+""}function Che(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function an(t,e,r){return bn(t)||bn(e)?r:bl(e)?cd(t,e,r):typeof e=="function"?e(t):r}var khe=(t,e,r,n,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,h=l>=o-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if($i(u-c)!==$i(h-u)){var f=[];if($i(h-u)===$i(i[1]-i[0])){p=h;var y=u+i[1]-i[0];f[0]=Math.min(y,(y+c)/2),f[1]=Math.max(y,(y+c)/2)}else{p=c;var g=h+i[1]-i[0];f[0]=Math.min(u,(g+u)/2),f[1]=Math.max(u,(g+u)/2)}var w=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(t>w[0]&&t<=w[1]||t>=f[0]&&t<=f[1]){({index:a}=r[l]);break}}else{var m=Math.min(c,h),v=Math.max(c,h);if(t>(m+u)/2&&t<=(v+u)/2){({index:a}=r[l]);break}}}else if(e){for(var x=0;x<o;x++)if(x===0&&t<=(e[x].coordinate+e[x+1].coordinate)/2||x>0&&x<o-1&&t>(e[x].coordinate+e[x-1].coordinate)/2&&t<=(e[x].coordinate+e[x+1].coordinate)/2||x===o-1&&t>(e[x].coordinate+e[x-1].coordinate)/2){({index:a}=e[x]);break}}return a},Ihe=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&yt(t[s]))return xa(xa({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&yt(t[a]))return xa(xa({},t),{},{[a]:t[a]+(i||0)})}return t},_d=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",GV=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},KV=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:h,niceTicks:p,axisType:f}=t;if(!a)return null;var y=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=i==="category"&&a.bandwidth?a.bandwidth()/y:0;if(g=f==="angleAxis"&&s&&s.length>=2?$i(s[0]-s[1])*2*g:g,h||p){var w=(h||p||[]).map((m,v)=>{var x=n?n.indexOf(m):m;return{coordinate:a(x)+g,value:m,offset:g,index:v}});return w.filter(m=>!La(m.coordinate))}return l&&c?c.map((m,v)=>({coordinate:a(m)+g,value:m,index:v,offset:g})):a.ticks&&!r&&u!=null?a.ticks(u).map((m,v)=>({coordinate:a(m)+g,value:m,offset:g,index:v})):a.domain().map((m,v)=>({coordinate:a(m)+g,value:n?n[m]:m,index:v,offset:g}))},NO=1e-4,jhe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-NO,s=Math.max(n[0],n[1])+NO,a=t(e[0]),o=t(e[r-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[r-1]])}},Ohe=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0,a=0;a<e;++a){var o=La(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+o,s=t[a][r][1])}},Rhe=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0;s<e;++s){var a=La(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=i,t[s][r][1]=i+a,i=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},Lhe={sign:Ohe,expand:bue,none:tm,silhouette:xue,wiggle:_ue,positive:Rhe},Dhe=(t,e,r)=>{var n=Lhe[r],i=wue().keys(e).value((s,a)=>+an(s,a,0)).order(mN).offset(n);return i(t)};function Mhe(t){return t==null?void 0:String(t)}function TO(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!bn(i[e.dataKey])){var o=T$(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=an(i,bn(a)?e.dataKey:a);return bn(l)?null:e.scale(l)}var Fhe=t=>{var e=t.flat(2).filter(yt);return[Math.min(...e),Math.max(...e)]},Bhe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Uhe=(t,e,r)=>{if(t!=null)return Bhe(Object.keys(t).reduce((n,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((l,c)=>{var u=Fhe(c.slice(e,r+1));return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},PO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NN=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=s2(e,u=>u.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],c=i[a-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function kO(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return xa(xa({},e),{},{dataKey:r,payload:n,value:i,name:s})}function h2(t,e){if(t)return String(t);if(typeof e=="string")return e}function $he(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return n?Nhe({x:t,y:e},n):null}var Vhe=(t,e,r,n)=>{var i=e.find(c=>c&&c.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=n;return xa(xa(xa({},n),Fn(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=n;return xa(xa(xa({},n),Fn(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},zhe=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,jc=t=>t.layout.width,Oc=t=>t.layout.height,qhe=t=>t.layout.scale,YV=t=>t.layout.margin,pP=Ue(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),mP=Ue(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),XV="data-recharts-item-index",JV="data-recharts-item-data-key",f2=60;function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){Whe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Whe(t,e,r){return(e=Hhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hhe(t){var e=Ghe(t,"string");return typeof e=="symbol"?e:e+""}function Ghe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Khe=t=>t.brush.height,si=Ue([jc,Oc,YV,Khe,pP,mP,bV,yde],(t,e,r,n,i,s,a,o)=>{var l=s.reduce((y,g)=>{var{orientation:w}=g;if(!g.mirror&&!g.hide){var m=typeof g.width=="number"?g.width:f2;return mu(mu({},y),{},{[w]:y[w]+m})}return y},{left:r.left||0,right:r.right||0}),c=i.reduce((y,g)=>{var{orientation:w}=g;return!g.mirror&&!g.hide?mu(mu({},y),{},{[w]:cd(y,"".concat(w))+g.height}):y},{top:r.top||0,bottom:r.bottom||0}),u=mu(mu({},c),l),h=u.bottom;u.bottom+=n,u=Ihe(u,a,o);var p=t-u.left-u.right,f=e-u.top-u.bottom;return mu(mu({brushBottom:h},u),{},{width:Math.max(p,0),height:Math.max(f,0)})}),Yhe=Ue(si,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),QV=Ue(jc,Oc,(t,e)=>({x:0,y:0,width:t,height:e})),Xhe=R.createContext(null),Ps=()=>R.useContext(Xhe)!=null,p2=t=>t.brush,m2=Ue([p2,si,YV],(t,e,r)=>({height:t.height,x:yt(t.x)?t.x:e.left,y:yt(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:yt(t.width)?t.width:e.width})),gP=()=>{var t,e=Ps(),r=vt(Yhe),n=vt(m2),i=(t=vt(p2))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Jhe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ZV=()=>{var t;return(t=vt(si))!==null&&t!==void 0?t:Jhe},yP=()=>vt(jc),vP=()=>vt(Oc),Qhe={top:0,right:0,bottom:0,left:0},Zhe=()=>{var t;return(t=vt(e=>e.layout.margin))!==null&&t!==void 0?t:Qhe},Ur=t=>t.layout.layoutType,wP=()=>vt(Ur),efe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ez=$a({name:"legend",initialState:efe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=pc(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:jO,setLegendSettings:tfe,addLegendPayload:tz,removeLegendPayload:rz}=ez.actions,rfe=ez.reducer,nfe=["contextPayload"];function TN(){return TN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TN.apply(null,arguments)}function OO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function im(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(r),!0).forEach(function(n){bP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bP(t,e,r){return(e=ife(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ife(t){var e=sfe(t,"string");return typeof e=="symbol"?e:e+""}function sfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function afe(t,e){if(t==null)return{};var r,n,i=ofe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ofe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function lfe(t){return t.value}function cfe(t){var{contextPayload:e}=t,r=afe(t,nfe),n=cV(e,t.payloadUniqBy,lfe),i=im(im({},r),{},{payload:n});return R.isValidElement(t.content)?R.cloneElement(t.content,i):typeof t.content=="function"?R.createElement(t.content,i):R.createElement(QT,i)}function ufe(t,e,r,n,i,s){var{layout:a,align:o,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?c={left:((n||0)-s.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-s.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),im(im({},c),u)}function dfe(t){var e=Xr();return R.useEffect(()=>{e(tfe(t))},[e,t]),null}function hfe(t){var e=Xr();return R.useEffect(()=>(e(jO(t)),()=>{e(jO({width:0,height:0}))}),[e,t]),null}function ffe(t){var e=bde(),r=zce(),n=Zhe(),{width:i,height:s,wrapperStyle:a,portal:o}=t,[l,c]=xV([e]),u=yP(),h=vP(),p=u-(n.left||0)-(n.right||0),f=g2.getWidthOrHeight(t.layout,s,i,p),y=o?a:im(im({position:"absolute",width:(f==null?void 0:f.width)||i||"auto",height:(f==null?void 0:f.height)||s||"auto"},ufe(a,t,n,u,h,l)),a),g=o??r;if(g==null)return null;var w=R.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},R.createElement(dfe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),R.createElement(hfe,{width:l.width,height:l.height}),R.createElement(cfe,TN({},t,f,{margin:n,chartWidth:u,chartHeight:h,contextPayload:e})));return b3.createPortal(w,g)}class g2 extends R.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&yt(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return R.createElement(ffe,this.props)}}bP(g2,"displayName","Legend");bP(g2,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function PN(){return PN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PN.apply(null,arguments)}function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function __(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){pfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pfe(t,e,r){return(e=mfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mfe(t){var e=gfe(t,"string");return typeof e=="symbol"?e:e+""}function gfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yfe(t){return Array.isArray(t)&&bl(t[0])&&bl(t[1])?t.join(" ~ "):t}var vfe=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:h,accessibilityLayer:p=!1}=t,f=()=>{if(s&&s.length){var N={padding:0,margin:0},C=(o?s2(s,o):s).map((P,k)=>{if(P.type==="none")return null;var T=P.formatter||a||yfe,{value:q,name:M}=P,A=q,I=M;if(T){var j=T(q,M,P,k,s);if(Array.isArray(j))[A,I]=j;else if(j!=null)A=j;else return null}var ne=__({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:ne},bl(I)?R.createElement("span",{className:"recharts-tooltip-item-name"},I):null,bl(I)?R.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,R.createElement("span",{className:"recharts-tooltip-item-value"},A),R.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:N},C)}return null},y=__({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=__({margin:0},i),w=!bn(u),m=w?u:"",v=rr("recharts-default-tooltip",l),x=rr("recharts-tooltip-label",c);w&&h&&s!==void 0&&s!==null&&(m=h(u,s));var E=p?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",PN({className:v,style:y},E),R.createElement("p",{className:x,style:g},R.isValidElement(m)?m:"".concat(m)),f())},Eg="recharts-tooltip-wrapper",wfe={visibility:"hidden"};function bfe(t){var{coordinate:e,translateX:r,translateY:n}=t;return rr(Eg,{["".concat(Eg,"-right")]:yt(r)&&e&&yt(e.x)&&r>=e.x,["".concat(Eg,"-left")]:yt(r)&&e&&yt(e.x)&&r<e.x,["".concat(Eg,"-bottom")]:yt(n)&&e&&yt(e.y)&&n>=e.y,["".concat(Eg,"-top")]:yt(n)&&e&&yt(e.y)&&n<e.y})}function LO(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=t;if(s&&yt(s[n]))return s[n];var u=r[n]-o-(i>0?i:0),h=r[n]+i;if(e[n])return a[n]?u:h;var p=l[n];if(p==null)return 0;if(a[n]){var f=u,y=p;return f<y?Math.max(h,p):Math.max(u,p)}if(c==null)return 0;var g=h+o,w=p+c;return g>w?Math.max(u,p):Math.max(h,p)}function xfe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function _fe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,c,u,h;return a.height>0&&a.width>0&&r?(u=LO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=LO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=xfe({translateX:u,translateY:h,useTranslate3d:o})):c=wfe,{cssProperties:c,cssClasses:bfe({translateX:u,translateY:h,coordinate:r})}}function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){CN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CN(t,e,r){return(e=Efe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Efe(t){var e=Afe(t,"string");return typeof e=="symbol"?e:e+""}function Afe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Sfe extends R.PureComponent{constructor(){super(...arguments),CN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),CN(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:h,useTranslate3d:p,viewBox:f,wrapperStyle:y,lastBoundingBox:g,innerRef:w,hasPortalFromProps:m}=this.props,{cssClasses:v,cssProperties:x}=_fe({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:c,position:u,reverseDirection:h,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:f}),E=m?{}:Kv(Kv({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=Kv(Kv({},E),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},y);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:N,ref:w},s)}}var Nfe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Lm={isSsr:Nfe()},nz=()=>vt(t=>t.rootProps.accessibilityLayer);function Ao(t){return Number.isFinite(t)}function sm(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function kN(){return kN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kN.apply(null,arguments)}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){Tfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tfe(t,e,r){return(e=Pfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pfe(t){var e=Cfe(t,"string");return typeof e=="symbol"?e:e+""}function Cfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BO={curveBasisClosed:lue,curveBasisOpen:cue,curveBasis:oue,curveBumpX:Gce,curveBumpY:Kce,curveLinearClosed:uue,curveLinear:Qx,curveMonotoneX:due,curveMonotoneY:hue,curveNatural:fue,curveStep:pue,curveStepAfter:gue,curveStepBefore:mue},Yv=t=>Ao(t.x)&&Ao(t.y),Ag=t=>t.x,Sg=t=>t.y,kfe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Py(t));return(r==="curveMonotone"||r==="curveBump")&&e?BO["".concat(r).concat(e==="vertical"?"Y":"X")]:BO[r]||Qx},Ife=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=kfe(e,i),o=s?r.filter(Yv):r,l;if(Array.isArray(n)){var c=s?n.filter(h=>Yv(h)):n,u=o.map((h,p)=>FO(FO({},h),{},{base:c[p]}));return i==="vertical"?l=zv().y(Sg).x1(Ag).x0(h=>h.base.x):l=zv().x(Ag).y1(Sg).y0(h=>h.base.y),l.defined(Yv).curve(a),l(u)}return i==="vertical"&&yt(n)?l=zv().y(Sg).x1(Ag).x0(n):yt(n)?l=zv().x(Ag).y1(Sg).y0(n):l=D$().x(Ag).y(Sg),l.defined(Yv).curve(a),l(o)},xP=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var s=r&&r.length?Ife(t):n;return R.createElement("path",kN({},tr(t,!1),qT(t),{className:rr("recharts-curve",e),d:s===null?void 0:s,ref:i}))},jfe=["x","y","top","left","width","height","className"];function IN(){return IN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IN.apply(null,arguments)}function UO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ofe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(r),!0).forEach(function(n){Rfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rfe(t,e,r){return(e=Lfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lfe(t){var e=Dfe(t,"string");return typeof e=="symbol"?e:e+""}function Dfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mfe(t,e){if(t==null)return{};var r,n,i=Ffe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ffe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Bfe=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),Ufe=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=Mfe(t,jfe),c=Ofe({x:e,y:r,top:n,left:i,width:s,height:a},l);return!yt(e)||!yt(r)||!yt(s)||!yt(a)||!yt(n)||!yt(i)?null:R.createElement("path",IN({},tr(c,!0),{className:rr("recharts-cross",o),d:Bfe(e,r,s,a,n,i)}))};function $fe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){zfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zfe(t,e,r){return(e=qfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qfe(t){var e=Wfe(t,"string");return typeof e=="symbol"?e:e+""}function Wfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Po(t,e){var r=Vfe({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}var iz={},sz={},az={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(az);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=az,r=iP,n=r2,i=n2,s=t2;function a(c,u,h){return o(c,u,void 0,void 0,void 0,void 0,h)}function o(c,u,h,p,f,y,g){const w=g(c,u,h,p,f,y);if(w!==void 0)return w;if(typeof c==typeof u)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===u;case"number":return c===u||Object.is(c,u);case"function":return c===u;case"object":return l(c,u,y,g)}return l(c,u,y,g)}function l(c,u,h,p){if(Object.is(c,u))return!0;let f=n.getTag(c),y=n.getTag(u);if(f===i.argumentsTag&&(f=i.objectTag),y===i.argumentsTag&&(y=i.objectTag),f!==y)return!1;switch(f){case i.stringTag:return c.toString()===u.toString();case i.numberTag:{const m=c.valueOf(),v=u.valueOf();return s.eq(m,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),u.valueOf());case i.regexpTag:return c.source===u.source&&c.flags===u.flags;case i.functionTag:return c===u}h=h??new Map;const g=h.get(c),w=h.get(u);if(g!=null&&w!=null)return g===u;h.set(c,u),h.set(u,c);try{switch(f){case i.mapTag:{if(c.size!==u.size)return!1;for(const[m,v]of c.entries())if(!u.has(m)||!o(v,u.get(m),m,c,u,h,p))return!1;return!0}case i.setTag:{if(c.size!==u.size)return!1;const m=Array.from(c.values()),v=Array.from(u.values());for(let x=0;x<m.length;x++){const E=m[x],N=v.findIndex(C=>o(E,C,void 0,c,u,h,p));if(N===-1)return!1;v.splice(N,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(u)||c.length!==u.length)return!1;for(let m=0;m<c.length;m++)if(!o(c[m],u[m],m,c,u,h,p))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==u.byteLength?!1:l(new Uint8Array(c),new Uint8Array(u),h,p);case i.dataViewTag:return c.byteLength!==u.byteLength||c.byteOffset!==u.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(u),h,p);case i.errorTag:return c.name===u.name&&c.message===u.message;case i.objectTag:{if(!(l(c.constructor,u.constructor,h,p)||e.isPlainObject(c)&&e.isPlainObject(u)))return!1;const v=[...Object.keys(c),...r.getSymbols(c)],x=[...Object.keys(u),...r.getSymbols(u)];if(v.length!==x.length)return!1;for(let E=0;E<v.length;E++){const N=v[E],C=c[N];if(!Object.hasOwn(u,N))return!1;const P=u[N];if(!o(C,P,N,c,u,h,p))return!1}return!0}default:return!1}}finally{h.delete(c),h.delete(u)}}t.isEqualWith=a})(sz);var oz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(oz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sz,r=oz;function n(i,s){return e.isEqualWith(i,s,r.noop)}t.isEqual=n})(iz);var Hfe=iz.isEqual;const Gfe=So(Hfe);function Kfe(t){var e={},r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...c]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,c),l);return}s(l),i=t.setTimeout(s.bind(null,c));return}typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}var fb=1e-4,lz=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],cz=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),VO=(t,e)=>r=>{var n=lz(t,e);return cz(n,r)},Yfe=(t,e)=>r=>{var n=lz(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return cz(i,r)},zO=function(){for(var e,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var l=a[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,n,r,i]=l[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else a.length===4&&([e,n,r,i]=a);var c=VO(e,r),u=VO(n,i),h=Yfe(e,r),p=y=>y>1?1:y<0?0:y,f=y=>{for(var g=y>1?1:y,w=g,m=0;m<8;++m){var v=c(w)-g,x=h(w);if(Math.abs(v-g)<fb||x<fb)return u(w);w=p(w-v/x)}return u(w)};return f.isStepper=!1,f},Xfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,l)=>{var c=-(a-o)*r,u=l*n,h=l+(c-u)*i/1e3,p=l*i/1e3+a;return Math.abs(p-o)<fb&&Math.abs(h)<fb?[o,0]:[p,h]};return s.isStepper=!0,s.dt=i,s},Jfe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zO(t);case"spring":return Xfe();default:if(t.split("(")[0]==="cubic-bezier")return zO(t)}return typeof t=="function"?t:null};function qO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(r),!0).forEach(function(n){Qfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qfe(t,e,r){return(e=Zfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zfe(t){var e=epe(t,"string");return typeof e=="symbol"?e:e+""}function epe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tpe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),rpe=(t,e,r)=>t.map(n=>"".concat(tpe(n)," ").concat(e,"ms ").concat(r)).join(","),npe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),X0=(t,e)=>Object.keys(e).reduce((r,n)=>WO(WO({},r),{},{[n]:t(n,e[n])}),{});function HO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(r),!0).forEach(function(n){ipe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ipe(t,e,r){return(e=spe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function spe(t){var e=ape(t,"string");return typeof e=="symbol"?e:e+""}function ape(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pb=(t,e,r)=>t+(e-t)*r,jN=t=>{var{from:e,to:r}=t;return e!==r},uz=(t,e,r)=>{var n=X0((i,s)=>{if(jN(s)){var[a,o]=t(s.from,s.to,s.velocity);return vi(vi({},s),{},{from:a,velocity:o})}return s},e);return r<1?X0((i,s)=>jN(s)?vi(vi({},s),{},{velocity:pb(s.velocity,n[i].velocity,r),from:pb(s.from,n[i].from,r)}):s,e):uz(t,n,r-1)};function ope(t,e,r,n,i,s){var a,o=n.reduce((p,f)=>vi(vi({},p),{},{[f]:{from:t[f],velocity:0,to:e[f]}}),{}),l=()=>X0((p,f)=>f.from,o),c=()=>!Object.values(o).filter(jN).length,u=null,h=p=>{a||(a=p);var f=p-a,y=f/r.dt;o=uz(r,o,y),i(vi(vi(vi({},t),e),l())),a=p,c()||(u=s.setTimeout(h))};return()=>(u=s.setTimeout(h),()=>{u()})}function lpe(t,e,r,n,i,s,a){var o=null,l=i.reduce((h,p)=>vi(vi({},h),{},{[p]:[t[p],e[p]]}),{}),c,u=h=>{c||(c=h);var p=(h-c)/n,f=X0((g,w)=>pb(...w,r(p)),l);if(s(vi(vi(vi({},t),e),f)),p<1)o=a.setTimeout(u);else{var y=X0((g,w)=>pb(...w,r(1)),l);s(vi(vi(vi({},t),e),y))}};return()=>(o=a.setTimeout(u),()=>{o()})}const cpe=(t,e,r,n,i,s)=>{var a=npe(t,e);return r.isStepper===!0?ope(t,e,r,a,i,s):lpe(t,e,r,n,a,i,s)};class upe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}var dpe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function ON(){return ON=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ON.apply(null,arguments)}function hpe(t,e){if(t==null)return{};var r,n,i=fpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function fpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){gh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gh(t,e,r){return(e=ppe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ppe(t){var e=mpe(t,"string");return typeof e=="symbol"?e:e+""}function mpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gpe(){return Kfe(new upe)}class _P extends R.PureComponent{constructor(e,r){super(e,r),gh(this,"mounted",!1),gh(this,"manager",null),gh(this,"stopJSAnimation",null),gh(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:o,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:l}=this.state;if(n){if(!r){var c={style:i?{[i]:a}:a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(c);return}if(!(Gfe(e.to,a)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=u||s?o:e.to;if(this.state&&l){var p={style:i?{[i]:h}:h};(i&&l[i]!==h||!i&&l!==h)&&this.setState(p)}this.runAnimation(gu(gu({},this.props),{},{from:h,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l}=e,c=cpe(r,n,Jfe(s),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=c()};this.manager.start([l,a,u,i,o])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:l,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof c=="function"||a==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:s}:s,h=rpe(Object.keys(u),n,a);this.manager.start([o,r,gu(gu({},u),{},{transition:h}),n,l])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:o,from:l,to:c,canBegin:u,onAnimationEnd:h,shouldReAnimate:p,onAnimationReStart:f,animationManager:y}=e,g=hpe(e,dpe),w=R.Children.count(r),m=this.state.style;if(typeof r=="function")return r(m);if(!o||w===0||i<=0)return r;var v=x=>{var{style:E={},className:N}=x.props,C=R.cloneElement(x,gu(gu({},g),{},{style:gu(gu({},E),m),className:N}));return C};return w===1?v(R.Children.only(r)):R.createElement("div",null,R.Children.map(r,x=>v(x)))}}gh(_P,"displayName","Animate");gh(_P,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var ype=R.createContext(null);function Gh(t){var e,r,n=R.useContext(ype);return R.createElement(_P,ON({},t,{animationManager:(e=(r=t.animationManager)!==null&&r!==void 0?r:n)!==null&&e!==void 0?e:gpe()}))}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mb.apply(null,arguments)}var KO=(t,e,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],h=0,p=4;h<p;h++)u[h]=i[h]>s?s:i[h];c="M".concat(t,",").concat(e+a*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+o*u[0],",").concat(e)),c+="L ".concat(t+r-o*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+r,",").concat(e+a*u[1])),c+="L ".concat(t+r,",").concat(e+n-a*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+r-o*u[2],",").concat(e+n)),c+="L ".concat(t+o*u[3],",").concat(e+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+n-a*u[3])),c+="Z"}else if(s>0&&i===+i&&i>0){var f=Math.min(s,i);c="M ".concat(t,",").concat(e+a*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(l,",").concat(t+o*f,",").concat(e,`
            L `).concat(t+r-o*f,",").concat(e,`
            A `).concat(f,",").concat(f,",0,0,").concat(l,",").concat(t+r,",").concat(e+a*f,`
            L `).concat(t+r,",").concat(e+n-a*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(l,",").concat(t+r-o*f,",").concat(e+n,`
            L `).concat(t+o*f,",").concat(e+n,`
            A `).concat(f,",").concat(f,",0,0,").concat(l,",").concat(t,",").concat(e+n-a*f," Z")}else c="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},vpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dz=t=>{var e=Po(t,vpe),r=R.useRef(null),[n,i]=R.useState(-1);R.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var m=r.current.getTotalLength();m&&i(m)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:c,className:u}=e,{animationEasing:h,animationDuration:p,animationBegin:f,isAnimationActive:y,isUpdateAnimationActive:g}=e;if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var w=rr("recharts-rectangle",u);return g?R.createElement(Gh,{canBegin:n>0,from:{width:o,height:l,x:s,y:a},to:{width:o,height:l,x:s,y:a},duration:p,animationEasing:h,isActive:g},m=>{var{width:v,height:x,x:E,y:N}=m;return R.createElement(Gh,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:p,isActive:y,easing:h},R.createElement("path",mb({},tr(e,!0),{className:w,d:KO(E,N,v,x,c),ref:r})))}):R.createElement("path",mb({},tr(e,!0),{className:w,d:KO(s,a,o,l,c)}))};function hz(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=Fn(e,r,n,i),o=Fn(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function RN(){return RN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RN.apply(null,arguments)}var wpe=(t,e)=>{var r=$i(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Xv=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,c=o*(a?1:-1)+n,u=Math.asin(o/c)/hb,h=l?i:i+s*u,p=Fn(e,r,c,h),f=Fn(e,r,n,h),y=l?i-s*u:i,g=Fn(e,r,c*Math.cos(u*hb),y);return{center:p,circleTangency:f,lineTangency:g,theta:u}},fz=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=wpe(s,a),l=s+o,c=Fn(e,r,i,s),u=Fn(e,r,i,l),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=Fn(e,r,n,s),f=Fn(e,r,n,l);h+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(e,",").concat(r," Z");return h},bpe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:c}=t,u=$i(c-l),{circleTangency:h,lineTangency:p,theta:f}=Xv({cx:e,cy:r,radius:i,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:y,lineTangency:g,theta:w}=Xv({cx:e,cy:r,radius:i,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),m=o?Math.abs(l-c):Math.abs(l-c)-f-w;if(m<0)return a?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):fz({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(m>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:x,lineTangency:E,theta:N}=Xv({cx:e,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:C,lineTangency:P,theta:k}=Xv({cx:e,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),T=o?Math.abs(l-c):Math.abs(l-c)-N-k;if(T<0&&s===0)return"".concat(v,"L").concat(e,",").concat(r,"Z");v+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else v+="L".concat(e,",").concat(r,"Z");return v},xpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pz=t=>{var e=Po(t,xpe),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:h}=e;if(s<i||c===u)return null;var p=rr("recharts-sector",h),f=s-i,y=Ca(a,f,0,!0),g;return y>0&&Math.abs(c-u)<360?g=bpe({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(y,f/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):g=fz({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u}),R.createElement("path",RN({},tr(e,!0),{className:p,d:g}))};function _pe(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:h}=e,p=Fn(o,l,c,h),f=Fn(o,l,u,h);n=p.x,i=p.y,s=f.x,a=f.y}else return hz(e);return[{x:n,y:i},{x:s,y:a}]}var mz={},gz={},yz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oP;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(yz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yz;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(gz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lP,r=gz;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=a;return l}t.range=n})(mz);var Epe=mz.range;const vz=So(Epe);function Qu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ape(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function EP(t){let e,r,n;t.length!==2?(e=Qu,r=(o,l)=>Qu(t(o),l),n=(o,l)=>t(o)-l):(e=t===Qu||t===Ape?t:Spe,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;r(o[h],l)<0?c=h+1:u=h}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;r(o[h],l)<=0?c=h+1:u=h}while(c<u)}return c}function a(o,l,c=0,u=o.length){const h=i(o,l,c,u-1);return h>c&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function Spe(){return 0}function wz(t){return t===null?NaN:+t}function*Npe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Tpe=EP(Qu),ky=Tpe.right;EP(wz).center;class YO extends Map{constructor(e,r=kpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(XO(this,e))}has(e){return super.has(XO(this,e))}set(e,r){return super.set(Ppe(this,e),r)}delete(e){return super.delete(Cpe(this,e))}}function XO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Ppe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Cpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function kpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ipe(t=Qu){if(t===Qu)return bz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function bz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const jpe=Math.sqrt(50),Ope=Math.sqrt(10),Rpe=Math.sqrt(2);function gb(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=jpe?10:s>=Ope?5:s>=Rpe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?gb(t,e,r*2):[o,l,c]}function LN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?gb(e,t,r):gb(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function DN(t,e,r){return e=+e,t=+t,r=+r,gb(t,e,r)[2]}function MN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?DN(e,t,r):DN(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function JO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function QO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function xz(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?bz:Ipe(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),h=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*h*(l-h)/l)*(c-l/2<0?-1:1),f=Math.max(r,Math.floor(e-c*h/l+p)),y=Math.min(n,Math.floor(e+(l-c)*h/l+p));xz(t,e,f,y,i)}const s=t[e];let a=r,o=n;for(Ng(t,r,e),i(t[n],s)>0&&Ng(t,r,n);a<o;){for(Ng(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?Ng(t,r,o):(++o,Ng(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Ng(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Lpe(t,e,r){if(t=Float64Array.from(Npe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return QO(t);if(e>=1)return JO(t);var n,i=(n-1)*e,s=Math.floor(i),a=JO(xz(t,s).subarray(0,s+1)),o=QO(t.subarray(s+1));return a+(o-a)*(i-s)}}function Dpe(t,e,r=wz){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Mpe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Va(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Rc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const FN=Symbol("implicit");function AP(){var t=new YO,e=[],r=[],n=FN;function i(s){let a=t.get(s);if(a===void 0){if(n!==FN)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new YO;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return AP(e,r).unknown(n)},Va.apply(i,arguments),i}function SP(){var t=AP().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function h(){var p=e().length,f=i<n,y=f?i:n,g=f?n:i;s=(g-y)/Math.max(1,p-l+c*2),o&&(s=Math.floor(s)),y+=(g-y-s*(p-l))*u,a=s*(1-l),o&&(y=Math.round(y),a=Math.round(a));var w=Mpe(p).map(function(m){return y+s*m});return r(f?w.reverse():w)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(p){return arguments.length?(o=!!p,h()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),h()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),h()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,h()):c},t.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),h()):u},t.copy=function(){return SP(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Va.apply(h(),arguments)}function _z(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _z(e())},t}function Fpe(){return _z(SP.apply(null,arguments).paddingInner(1))}function NP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Ez(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Iy(){}var J0=.7,yb=1/J0,kp="\\s*([+-]?\\d+)\\s*",Q0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bpe=/^#([0-9a-f]{3,8})$/,Upe=new RegExp(`^rgb\\(${kp},${kp},${kp}\\)$`),$pe=new RegExp(`^rgb\\(${ml},${ml},${ml}\\)$`),Vpe=new RegExp(`^rgba\\(${kp},${kp},${kp},${Q0}\\)$`),zpe=new RegExp(`^rgba\\(${ml},${ml},${ml},${Q0}\\)$`),qpe=new RegExp(`^hsl\\(${Q0},${ml},${ml}\\)$`),Wpe=new RegExp(`^hsla\\(${Q0},${ml},${ml},${Q0}\\)$`),ZO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NP(Iy,Z0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eR,formatHex:eR,formatHex8:Hpe,formatHsl:Gpe,formatRgb:tR,toString:tR});function eR(){return this.rgb().formatHex()}function Hpe(){return this.rgb().formatHex8()}function Gpe(){return Az(this).formatHsl()}function tR(){return this.rgb().formatRgb()}function Z0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Bpe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?rR(e):r===3?new xs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Jv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Jv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Upe.exec(t))?new xs(e[1],e[2],e[3],1):(e=$pe.exec(t))?new xs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vpe.exec(t))?Jv(e[1],e[2],e[3],e[4]):(e=zpe.exec(t))?Jv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qpe.exec(t))?sR(e[1],e[2]/100,e[3]/100,1):(e=Wpe.exec(t))?sR(e[1],e[2]/100,e[3]/100,e[4]):ZO.hasOwnProperty(t)?rR(ZO[t]):t==="transparent"?new xs(NaN,NaN,NaN,0):null}function rR(t){return new xs(t>>16&255,t>>8&255,t&255,1)}function Jv(t,e,r,n){return n<=0&&(t=e=r=NaN),new xs(t,e,r,n)}function Kpe(t){return t instanceof Iy||(t=Z0(t)),t?(t=t.rgb(),new xs(t.r,t.g,t.b,t.opacity)):new xs}function BN(t,e,r,n){return arguments.length===1?Kpe(t):new xs(t,e,r,n??1)}function xs(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}NP(xs,BN,Ez(Iy,{brighter(t){return t=t==null?yb:Math.pow(yb,t),new xs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?J0:Math.pow(J0,t),new xs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xs(Ch(this.r),Ch(this.g),Ch(this.b),vb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nR,formatHex:nR,formatHex8:Ype,formatRgb:iR,toString:iR}));function nR(){return`#${yh(this.r)}${yh(this.g)}${yh(this.b)}`}function Ype(){return`#${yh(this.r)}${yh(this.g)}${yh(this.b)}${yh((isNaN(this.opacity)?1:this.opacity)*255)}`}function iR(){const t=vb(this.opacity);return`${t===1?"rgb(":"rgba("}${Ch(this.r)}, ${Ch(this.g)}, ${Ch(this.b)}${t===1?")":`, ${t})`}`}function vb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ch(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yh(t){return t=Ch(t),(t<16?"0":"")+t.toString(16)}function sR(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new fo(t,e,r,n)}function Az(t){if(t instanceof fo)return new fo(t.h,t.s,t.l,t.opacity);if(t instanceof Iy||(t=Z0(t)),!t)return new fo;if(t instanceof fo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new fo(a,o,l,t.opacity)}function Xpe(t,e,r,n){return arguments.length===1?Az(t):new fo(t,e,r,n??1)}function fo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}NP(fo,Xpe,Ez(Iy,{brighter(t){return t=t==null?yb:Math.pow(yb,t),new fo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?J0:Math.pow(J0,t),new fo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new xs(E_(t>=240?t-240:t+120,i,n),E_(t,i,n),E_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new fo(aR(this.h),Qv(this.s),Qv(this.l),vb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vb(this.opacity);return`${t===1?"hsl(":"hsla("}${aR(this.h)}, ${Qv(this.s)*100}%, ${Qv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aR(t){return t=(t||0)%360,t<0?t+360:t}function Qv(t){return Math.max(0,Math.min(1,t||0))}function E_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const TP=t=>()=>t;function Jpe(t,e){return function(r){return t+r*e}}function Qpe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Zpe(t){return(t=+t)==1?Sz:function(e,r){return r-e?Qpe(e,r,t):TP(isNaN(e)?r:e)}}function Sz(t,e){var r=e-t;return r?Jpe(t,r):TP(isNaN(t)?e:t)}const oR=function t(e){var r=Zpe(e);function n(i,s){var a=r((i=BN(i)).r,(s=BN(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),c=Sz(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function eme(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function tme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rme(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Dm(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function nme(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function wb(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function ime(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Dm(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var UN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A_=new RegExp(UN.source,"g");function sme(t){return function(){return t}}function ame(t){return function(e){return t(e)+""}}function ome(t,e){var r=UN.lastIndex=A_.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=UN.exec(t))&&(i=A_.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:wb(n,i)})),r=A_.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?ame(l[0].x):sme(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)o[(h=l[u]).i]=h.x(c);return o.join("")})}function Dm(t,e){var r=typeof e,n;return e==null||r==="boolean"?TP(e):(r==="number"?wb:r==="string"?(n=Z0(e))?(e=n,oR):ome:e instanceof Z0?oR:e instanceof Date?nme:tme(e)?eme:Array.isArray(e)?rme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ime:wb)(t,e)}function PP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function lme(t,e){e===void 0&&(e=t,t=Dm);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function cme(t){return function(){return t}}function bb(t){return+t}var lR=[0,1];function rs(t){return t}function $N(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:cme(isNaN(e)?NaN:.5)}function ume(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function dme(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=$N(i,n),s=r(a,s)):(n=$N(n,i),s=r(s,a)),function(o){return s(n(o))}}function hme(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=$N(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=ky(t,o,1,n)-1;return s[l](i[l](o))}}function jy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function y2(){var t=lR,e=lR,r=Dm,n,i,s,a=rs,o,l,c;function u(){var p=Math.min(t.length,e.length);return a!==rs&&(a=ume(t[0],t[p-1])),o=p>2?hme:dme,l=c=null,h}function h(p){return p==null||isNaN(p=+p)?s:(l||(l=o(t.map(n),e,r)))(n(a(p)))}return h.invert=function(p){return a(i((c||(c=o(e,t.map(n),wb)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,bb),u()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),u()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),r=PP,u()},h.clamp=function(p){return arguments.length?(a=p?!0:rs,u()):a!==rs},h.interpolate=function(p){return arguments.length?(r=p,u()):r},h.unknown=function(p){return arguments.length?(s=p,h):s},function(p,f){return n=p,i=f,u()}}function CP(){return y2()(rs,rs)}function fme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xb(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function am(t){return t=xb(Math.abs(t)),t?t[1]:NaN}function pme(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function mme(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var gme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ey(t){if(!(e=gme.exec(t)))throw new Error("invalid format: "+t);var e;return new kP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ey.prototype=kP.prototype;function kP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}kP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yme(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Nz;function vme(t,e){var r=xb(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(Nz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+xb(t,Math.max(0,e+s-1))[0]}function cR(t,e){var r=xb(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const uR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cR(t*100,e),r:cR,s:vme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dR(t){return t}var hR=Array.prototype.map,fR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function wme(t){var e=t.grouping===void 0||t.thousands===void 0?dR:pme(hR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?dR:mme(hR.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=ey(h);var p=h.fill,f=h.align,y=h.sign,g=h.symbol,w=h.zero,m=h.width,v=h.comma,x=h.precision,E=h.trim,N=h.type;N==="n"?(v=!0,N="g"):uR[N]||(x===void 0&&(x=12),E=!0,N="g"),(w||p==="0"&&f==="=")&&(w=!0,p="0",f="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=g==="$"?n:/[%p]/.test(N)?a:"",k=uR[N],T=/[defgprs%]/.test(N);x=x===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function q(M){var A=C,I=P,j,ne,pe;if(N==="c")I=k(M)+I,M="";else{M=+M;var X=M<0||1/M<0;if(M=isNaN(M)?l:k(Math.abs(M),x),E&&(M=yme(M)),X&&+M==0&&y!=="+"&&(X=!1),A=(X?y==="("?y:o:y==="-"||y==="("?"":y)+A,I=(N==="s"?fR[8+Nz/3]:"")+I+(X&&y==="("?")":""),T){for(j=-1,ne=M.length;++j<ne;)if(pe=M.charCodeAt(j),48>pe||pe>57){I=(pe===46?i+M.slice(j+1):M.slice(j))+I,M=M.slice(0,j);break}}}v&&!w&&(M=e(M,1/0));var ce=A.length+M.length+I.length,ue=ce<m?new Array(m-ce+1).join(p):"";switch(v&&w&&(M=e(ue+M,ue.length?m-I.length:1/0),ue=""),f){case"<":M=A+M+I+ue;break;case"=":M=A+ue+M+I;break;case"^":M=ue.slice(0,ce=ue.length>>1)+A+M+I+ue.slice(ce);break;default:M=ue+A+M+I;break}return s(M)}return q.toString=function(){return h+""},q}function u(h,p){var f=c((h=ey(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(am(p)/3)))*3,g=Math.pow(10,-y),w=fR[8+y/3];return function(m){return f(g*m)+w}}return{format:c,formatPrefix:u}}var Zv,IP,Tz;bme({thousands:",",grouping:[3],currency:["$",""]});function bme(t){return Zv=wme(t),IP=Zv.format,Tz=Zv.formatPrefix,Zv}function xme(t){return Math.max(0,-am(Math.abs(t)))}function _me(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(am(e)/3)))*3-am(Math.abs(t)))}function Eme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,am(e)-am(t))+1}function Pz(t,e,r,n){var i=MN(t,e,r),s;switch(n=ey(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=_me(i,a))&&(n.precision=s),Tz(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Eme(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=xme(i))&&(n.precision=s-(n.type==="%")*2);break}}return IP(n)}function Ed(t){var e=t.domain;return t.ticks=function(r){var n=e();return LN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Pz(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=DN(a,o,r),c===l)return n[i]=a,n[s]=o,e(n);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Cz(){var t=CP();return t.copy=function(){return jy(t,Cz())},Va.apply(t,arguments),Ed(t)}function kz(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,bb),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return kz(t).unknown(e)},t=arguments.length?Array.from(t,bb):[0,1],Ed(r)}function Iz(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function pR(t){return Math.log(t)}function mR(t){return Math.exp(t)}function Ame(t){return-Math.log(-t)}function Sme(t){return-Math.exp(-t)}function Nme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Tme(t){return t===10?Nme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Pme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gR(t){return(e,r)=>-t(-e,r)}function jP(t){const e=t(pR,mR),r=e.domain;let n=10,i,s;function a(){return i=Pme(n),s=Tme(n),r()[0]<0?(i=gR(i),s=gR(s),t(Ame,Sme)):t(pR,mR),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const h=u<c;h&&([c,u]=[u,c]);let p=i(c),f=i(u),y,g;const w=o==null?10:+o;let m=[];if(!(n%1)&&f-p<w){if(p=Math.floor(p),f=Math.ceil(f),c>0){for(;p<=f;++p)for(y=1;y<n;++y)if(g=p<0?y/s(-p):y*s(p),!(g<c)){if(g>u)break;m.push(g)}}else for(;p<=f;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/s(-p):y*s(p),!(g<c)){if(g>u)break;m.push(g)}m.length*2<w&&(m=LN(c,u,w))}else m=LN(p,f,Math.min(f-p,w)).map(s);return h?m.reverse():m},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ey(l)).precision==null&&(l.trim=!0),l=IP(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let h=u/s(Math.round(i(u)));return h*n<n-.5&&(h*=n),h<=c?l(u):""}},e.nice=()=>r(Iz(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function jz(){const t=jP(y2()).domain([1,10]);return t.copy=()=>jy(t,jz()).base(t.base()),Va.apply(t,arguments),t}function yR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function OP(t){var e=1,r=t(yR(e),vR(e));return r.constant=function(n){return arguments.length?t(yR(e=+n),vR(e)):e},Ed(r)}function Oz(){var t=OP(y2());return t.copy=function(){return jy(t,Oz()).constant(t.constant())},Va.apply(t,arguments)}function wR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Cme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kme(t){return t<0?-t*t:t*t}function RP(t){var e=t(rs,rs),r=1;function n(){return r===1?t(rs,rs):r===.5?t(Cme,kme):t(wR(r),wR(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ed(e)}function LP(){var t=RP(y2());return t.copy=function(){return jy(t,LP()).exponent(t.exponent())},Va.apply(t,arguments),t}function Ime(){return LP.apply(null,arguments).exponent(.5)}function bR(t){return Math.sign(t)*t*t}function jme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Rz(){var t=CP(),e=[0,1],r=!1,n;function i(s){var a=jme(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(bR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,bb)).map(bR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Rz(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Va.apply(i,arguments),Ed(i)}function Lz(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=Dpe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[ky(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Qu),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Lz().domain(t).range(e).unknown(n)},Va.apply(s,arguments)}function Dz(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[ky(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return Dz().domain([t,e]).range(i).unknown(s)},Va.apply(Ed(a),arguments)}function Mz(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[ky(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Mz().domain(t).range(e).unknown(r)},Va.apply(i,arguments)}const S_=new Date,N_=new Date;function Gn(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>Gn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(S_.setTime(+s),N_.setTime(+a),t(S_),t(N_),Math.floor(r(S_,N_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const _b=Gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_b.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):_b);_b.range;const oc=1e3,Aa=oc*60,lc=Aa*60,Nc=lc*24,DP=Nc*7,xR=Nc*30,T_=Nc*365,vh=Gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*oc)},(t,e)=>(e-t)/oc,t=>t.getUTCSeconds());vh.range;const MP=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oc)},(t,e)=>{t.setTime(+t+e*Aa)},(t,e)=>(e-t)/Aa,t=>t.getMinutes());MP.range;const FP=Gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Aa)},(t,e)=>(e-t)/Aa,t=>t.getUTCMinutes());FP.range;const BP=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oc-t.getMinutes()*Aa)},(t,e)=>{t.setTime(+t+e*lc)},(t,e)=>(e-t)/lc,t=>t.getHours());BP.range;const UP=Gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*lc)},(t,e)=>(e-t)/lc,t=>t.getUTCHours());UP.range;const Oy=Gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Aa)/Nc,t=>t.getDate()-1);Oy.range;const v2=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Nc,t=>t.getUTCDate()-1);v2.range;const Fz=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Nc,t=>Math.floor(t/Nc));Fz.range;function sf(t){return Gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Aa)/DP)}const w2=sf(0),Eb=sf(1),Ome=sf(2),Rme=sf(3),om=sf(4),Lme=sf(5),Dme=sf(6);w2.range;Eb.range;Ome.range;Rme.range;om.range;Lme.range;Dme.range;function af(t){return Gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/DP)}const b2=af(0),Ab=af(1),Mme=af(2),Fme=af(3),lm=af(4),Bme=af(5),Ume=af(6);b2.range;Ab.range;Mme.range;Fme.range;lm.range;Bme.range;Ume.range;const $P=Gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$P.range;const VP=Gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());VP.range;const Tc=Gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Tc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Tc.range;const Pc=Gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Pc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Pc.range;function Bz(t,e,r,n,i,s){const a=[[vh,1,oc],[vh,5,5*oc],[vh,15,15*oc],[vh,30,30*oc],[s,1,Aa],[s,5,5*Aa],[s,15,15*Aa],[s,30,30*Aa],[i,1,lc],[i,3,3*lc],[i,6,6*lc],[i,12,12*lc],[n,1,Nc],[n,2,2*Nc],[r,1,DP],[e,1,xR],[e,3,3*xR],[t,1,T_]];function o(c,u,h){const p=u<c;p&&([c,u]=[u,c]);const f=h&&typeof h.range=="function"?h:l(c,u,h),y=f?f.range(c,+u+1):[];return p?y.reverse():y}function l(c,u,h){const p=Math.abs(u-c)/h,f=EP(([,,w])=>w).right(a,p);if(f===a.length)return t.every(MN(c/T_,u/T_,h));if(f===0)return _b.every(Math.max(MN(c,u,h),1));const[y,g]=a[p/a[f-1][2]<a[f][2]/p?f-1:f];return y.every(g)}return[o,l]}const[$me,Vme]=Bz(Pc,VP,b2,Fz,UP,FP),[zme,qme]=Bz(Tc,$P,w2,Oy,BP,MP);function P_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function C_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Tg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Wme(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=Pg(i),u=Cg(i),h=Pg(s),p=Cg(s),f=Pg(a),y=Cg(a),g=Pg(o),w=Cg(o),m=Pg(l),v=Cg(l),x={a:X,A:ce,b:ue,B:xe,c:null,d:TR,e:TR,f:pge,g:Age,G:Nge,H:dge,I:hge,j:fge,L:Uz,m:mge,M:gge,p:we,q:F,Q:kR,s:IR,S:yge,u:vge,U:wge,V:bge,w:xge,W:_ge,x:null,X:null,y:Ege,Y:Sge,Z:Tge,"%":CR},E={a:J,A:se,b:he,B:Q,c:null,d:PR,e:PR,f:Ige,g:$ge,G:zge,H:Pge,I:Cge,j:kge,L:Vz,m:jge,M:Oge,p:$,q:V,Q:kR,s:IR,S:Rge,u:Lge,U:Dge,V:Mge,w:Fge,W:Bge,x:null,X:null,y:Uge,Y:Vge,Z:qge,"%":CR},N={a:q,A:M,b:A,B:I,c:j,d:SR,e:SR,f:oge,g:AR,G:ER,H:NR,I:NR,j:nge,L:age,m:rge,M:ige,p:T,q:tge,Q:cge,s:uge,S:sge,u:Xme,U:Jme,V:Qme,w:Yme,W:Zme,x:ne,X:pe,y:AR,Y:ER,Z:ege,"%":lge};x.x=C(r,x),x.X=C(n,x),x.c=C(e,x),E.x=C(r,E),E.X=C(n,E),E.c=C(e,E);function C(te,ae){return function(Z){var ee=[],_e=-1,H=0,ve=te.length,B,O,L;for(Z instanceof Date||(Z=new Date(+Z));++_e<ve;)te.charCodeAt(_e)===37&&(ee.push(te.slice(H,_e)),(O=_R[B=te.charAt(++_e)])!=null?B=te.charAt(++_e):O=B==="e"?" ":"0",(L=ae[B])&&(B=L(Z,O)),ee.push(B),H=_e+1);return ee.push(te.slice(H,_e)),ee.join("")}}function P(te,ae){return function(Z){var ee=Tg(1900,void 0,1),_e=k(ee,te,Z+="",0),H,ve;if(_e!=Z.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(ae&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(H=C_(Tg(ee.y,0,1)),ve=H.getUTCDay(),H=ve>4||ve===0?Ab.ceil(H):Ab(H),H=v2.offset(H,(ee.V-1)*7),ee.y=H.getUTCFullYear(),ee.m=H.getUTCMonth(),ee.d=H.getUTCDate()+(ee.w+6)%7):(H=P_(Tg(ee.y,0,1)),ve=H.getDay(),H=ve>4||ve===0?Eb.ceil(H):Eb(H),H=Oy.offset(H,(ee.V-1)*7),ee.y=H.getFullYear(),ee.m=H.getMonth(),ee.d=H.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ve="Z"in ee?C_(Tg(ee.y,0,1)).getUTCDay():P_(Tg(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ve+5)%7:ee.w+ee.U*7-(ve+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,C_(ee)):P_(ee)}}function k(te,ae,Z,ee){for(var _e=0,H=ae.length,ve=Z.length,B,O;_e<H;){if(ee>=ve)return-1;if(B=ae.charCodeAt(_e++),B===37){if(B=ae.charAt(_e++),O=N[B in _R?ae.charAt(_e++):B],!O||(ee=O(te,Z,ee))<0)return-1}else if(B!=Z.charCodeAt(ee++))return-1}return ee}function T(te,ae,Z){var ee=c.exec(ae.slice(Z));return ee?(te.p=u.get(ee[0].toLowerCase()),Z+ee[0].length):-1}function q(te,ae,Z){var ee=f.exec(ae.slice(Z));return ee?(te.w=y.get(ee[0].toLowerCase()),Z+ee[0].length):-1}function M(te,ae,Z){var ee=h.exec(ae.slice(Z));return ee?(te.w=p.get(ee[0].toLowerCase()),Z+ee[0].length):-1}function A(te,ae,Z){var ee=m.exec(ae.slice(Z));return ee?(te.m=v.get(ee[0].toLowerCase()),Z+ee[0].length):-1}function I(te,ae,Z){var ee=g.exec(ae.slice(Z));return ee?(te.m=w.get(ee[0].toLowerCase()),Z+ee[0].length):-1}function j(te,ae,Z){return k(te,e,ae,Z)}function ne(te,ae,Z){return k(te,r,ae,Z)}function pe(te,ae,Z){return k(te,n,ae,Z)}function X(te){return a[te.getDay()]}function ce(te){return s[te.getDay()]}function ue(te){return l[te.getMonth()]}function xe(te){return o[te.getMonth()]}function we(te){return i[+(te.getHours()>=12)]}function F(te){return 1+~~(te.getMonth()/3)}function J(te){return a[te.getUTCDay()]}function se(te){return s[te.getUTCDay()]}function he(te){return l[te.getUTCMonth()]}function Q(te){return o[te.getUTCMonth()]}function $(te){return i[+(te.getUTCHours()>=12)]}function V(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ae=C(te+="",x);return ae.toString=function(){return te},ae},parse:function(te){var ae=P(te+="",!1);return ae.toString=function(){return te},ae},utcFormat:function(te){var ae=C(te+="",E);return ae.toString=function(){return te},ae},utcParse:function(te){var ae=P(te+="",!0);return ae.toString=function(){return te},ae}}}var _R={"-":"",_:" ",0:"0"},ai=/^\s*\d+/,Hme=/^%/,Gme=/[\\^$*+?|[\]().{}]/g;function nr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function Kme(t){return t.replace(Gme,"\\$&")}function Pg(t){return new RegExp("^(?:"+t.map(Kme).join("|")+")","i")}function Cg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Yme(t,e,r){var n=ai.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Xme(t,e,r){var n=ai.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Jme(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Qme(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Zme(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function ER(t,e,r){var n=ai.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function AR(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ege(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tge(t,e,r){var n=ai.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function rge(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function SR(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function nge(t,e,r){var n=ai.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function NR(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ige(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function sge(t,e,r){var n=ai.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function age(t,e,r){var n=ai.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function oge(t,e,r){var n=ai.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lge(t,e,r){var n=Hme.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function cge(t,e,r){var n=ai.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function uge(t,e,r){var n=ai.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function TR(t,e){return nr(t.getDate(),e,2)}function dge(t,e){return nr(t.getHours(),e,2)}function hge(t,e){return nr(t.getHours()%12||12,e,2)}function fge(t,e){return nr(1+Oy.count(Tc(t),t),e,3)}function Uz(t,e){return nr(t.getMilliseconds(),e,3)}function pge(t,e){return Uz(t,e)+"000"}function mge(t,e){return nr(t.getMonth()+1,e,2)}function gge(t,e){return nr(t.getMinutes(),e,2)}function yge(t,e){return nr(t.getSeconds(),e,2)}function vge(t){var e=t.getDay();return e===0?7:e}function wge(t,e){return nr(w2.count(Tc(t)-1,t),e,2)}function $z(t){var e=t.getDay();return e>=4||e===0?om(t):om.ceil(t)}function bge(t,e){return t=$z(t),nr(om.count(Tc(t),t)+(Tc(t).getDay()===4),e,2)}function xge(t){return t.getDay()}function _ge(t,e){return nr(Eb.count(Tc(t)-1,t),e,2)}function Ege(t,e){return nr(t.getFullYear()%100,e,2)}function Age(t,e){return t=$z(t),nr(t.getFullYear()%100,e,2)}function Sge(t,e){return nr(t.getFullYear()%1e4,e,4)}function Nge(t,e){var r=t.getDay();return t=r>=4||r===0?om(t):om.ceil(t),nr(t.getFullYear()%1e4,e,4)}function Tge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nr(e/60|0,"0",2)+nr(e%60,"0",2)}function PR(t,e){return nr(t.getUTCDate(),e,2)}function Pge(t,e){return nr(t.getUTCHours(),e,2)}function Cge(t,e){return nr(t.getUTCHours()%12||12,e,2)}function kge(t,e){return nr(1+v2.count(Pc(t),t),e,3)}function Vz(t,e){return nr(t.getUTCMilliseconds(),e,3)}function Ige(t,e){return Vz(t,e)+"000"}function jge(t,e){return nr(t.getUTCMonth()+1,e,2)}function Oge(t,e){return nr(t.getUTCMinutes(),e,2)}function Rge(t,e){return nr(t.getUTCSeconds(),e,2)}function Lge(t){var e=t.getUTCDay();return e===0?7:e}function Dge(t,e){return nr(b2.count(Pc(t)-1,t),e,2)}function zz(t){var e=t.getUTCDay();return e>=4||e===0?lm(t):lm.ceil(t)}function Mge(t,e){return t=zz(t),nr(lm.count(Pc(t),t)+(Pc(t).getUTCDay()===4),e,2)}function Fge(t){return t.getUTCDay()}function Bge(t,e){return nr(Ab.count(Pc(t)-1,t),e,2)}function Uge(t,e){return nr(t.getUTCFullYear()%100,e,2)}function $ge(t,e){return t=zz(t),nr(t.getUTCFullYear()%100,e,2)}function Vge(t,e){return nr(t.getUTCFullYear()%1e4,e,4)}function zge(t,e){var r=t.getUTCDay();return t=r>=4||r===0?lm(t):lm.ceil(t),nr(t.getUTCFullYear()%1e4,e,4)}function qge(){return"+0000"}function CR(){return"%"}function kR(t){return+t}function IR(t){return Math.floor(+t/1e3)}var Uf,qz,Wz;Wge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wge(t){return Uf=Wme(t),qz=Uf.format,Uf.parse,Wz=Uf.utcFormat,Uf.utcParse,Uf}function Hge(t){return new Date(t)}function Gge(t){return t instanceof Date?+t:+new Date(+t)}function zP(t,e,r,n,i,s,a,o,l,c){var u=CP(),h=u.invert,p=u.domain,f=c(".%L"),y=c(":%S"),g=c("%I:%M"),w=c("%I %p"),m=c("%a %d"),v=c("%b %d"),x=c("%B"),E=c("%Y");function N(C){return(l(C)<C?f:o(C)<C?y:a(C)<C?g:s(C)<C?w:n(C)<C?i(C)<C?m:v:r(C)<C?x:E)(C)}return u.invert=function(C){return new Date(h(C))},u.domain=function(C){return arguments.length?p(Array.from(C,Gge)):p().map(Hge)},u.ticks=function(C){var P=p();return t(P[0],P[P.length-1],C??10)},u.tickFormat=function(C,P){return P==null?N:c(P)},u.nice=function(C){var P=p();return(!C||typeof C.range!="function")&&(C=e(P[0],P[P.length-1],C??10)),C?p(Iz(P,C)):u},u.copy=function(){return jy(u,zP(t,e,r,n,i,s,a,o,l,c))},u}function Kge(){return Va.apply(zP(zme,qme,Tc,$P,w2,Oy,BP,MP,vh,qz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yge(){return Va.apply(zP($me,Vme,Pc,VP,b2,v2,UP,FP,vh,Wz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function x2(){var t=0,e=1,r,n,i,s,a=rs,o=!1,l;function c(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(a=h,c):a};function u(h){return function(p){var f,y;return arguments.length?([f,y]=p,a=h(f,y),c):[a(0),a(1)]}}return c.range=u(Dm),c.rangeRound=u(PP),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),c}}function Ad(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Hz(){var t=Ed(x2()(rs));return t.copy=function(){return Ad(t,Hz())},Rc.apply(t,arguments)}function Gz(){var t=jP(x2()).domain([1,10]);return t.copy=function(){return Ad(t,Gz()).base(t.base())},Rc.apply(t,arguments)}function Kz(){var t=OP(x2());return t.copy=function(){return Ad(t,Kz()).constant(t.constant())},Rc.apply(t,arguments)}function qP(){var t=RP(x2());return t.copy=function(){return Ad(t,qP()).exponent(t.exponent())},Rc.apply(t,arguments)}function Xge(){return qP.apply(null,arguments).exponent(.5)}function Yz(){var t=[],e=rs;function r(n){if(n!=null&&!isNaN(n=+n))return e((ky(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Qu),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Lpe(t,s/n))},r.copy=function(){return Yz(e).domain(t)},Rc.apply(r,arguments)}function _2(){var t=0,e=.5,r=1,n=1,i,s,a,o,l,c=rs,u,h=!1,p;function f(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-s)*(n*g<n*s?o:l),c(h?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e,r]=g,i=u(t=+t),s=u(e=+e),a=u(r=+r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,f):[t,e,r]},f.clamp=function(g){return arguments.length?(h=!!g,f):h},f.interpolator=function(g){return arguments.length?(c=g,f):c};function y(g){return function(w){var m,v,x;return arguments.length?([m,v,x]=w,c=lme(g,[m,v,x]),f):[c(0),c(.5),c(1)]}}return f.range=y(Dm),f.rangeRound=y(PP),f.unknown=function(g){return arguments.length?(p=g,f):p},function(g){return u=g,i=g(t),s=g(e),a=g(r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,f}}function Xz(){var t=Ed(_2()(rs));return t.copy=function(){return Ad(t,Xz())},Rc.apply(t,arguments)}function Jz(){var t=jP(_2()).domain([.1,1,10]);return t.copy=function(){return Ad(t,Jz()).base(t.base())},Rc.apply(t,arguments)}function Qz(){var t=OP(_2());return t.copy=function(){return Ad(t,Qz()).constant(t.constant())},Rc.apply(t,arguments)}function WP(){var t=RP(_2());return t.copy=function(){return Ad(t,WP()).exponent(t.exponent())},Rc.apply(t,arguments)}function Jge(){return WP.apply(null,arguments).exponent(.5)}const Yg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:SP,scaleDiverging:Xz,scaleDivergingLog:Jz,scaleDivergingPow:WP,scaleDivergingSqrt:Jge,scaleDivergingSymlog:Qz,scaleIdentity:kz,scaleImplicit:FN,scaleLinear:Cz,scaleLog:jz,scaleOrdinal:AP,scalePoint:Fpe,scalePow:LP,scaleQuantile:Lz,scaleQuantize:Dz,scaleRadial:Rz,scaleSequential:Hz,scaleSequentialLog:Gz,scaleSequentialPow:qP,scaleSequentialQuantile:Yz,scaleSequentialSqrt:Xge,scaleSequentialSymlog:Kz,scaleSqrt:Ime,scaleSymlog:Oz,scaleThreshold:Mz,scaleTime:Kge,scaleUtc:Yge,tickFormat:Pz},Symbol.toStringTag,{value:"Module"}));var of=t=>t.chartData,HP=Ue([of],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Zz=(t,e,r,n)=>n?HP(t):of(t);function cm(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Ao(e)&&Ao(r))return!0}return!1}function jR(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Qge(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(Ao(r))i=r;else if(typeof r=="function")return;if(Ao(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(cm(a))return a}}function Zge(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(cm(n))return jR(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(yt(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&PO.test(i)){var l=PO.exec(i);if(l==null||e==null)a=void 0;else{var c=+l[1];a=e[0]-c}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(yt(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&CO.test(s)){var u=CO.exec(s);if(u==null||e==null)o=void 0;else{var h=+u[1];o=e[1]+h}}else o=e==null?void 0:e[1];var p=[a,o];if(cm(p))return e==null?p:jR(p,e,r)}}}var Mm=1e9,e0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KP,zr=!0,Ma="[DecimalError] ",kh=Ma+"Invalid argument: ",GP=Ma+"Exponent out of range: ",Fm=Math.floor,ih=Math.pow,t0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qs,Zn=1e7,Mr=7,eq=9007199254740991,Sb=Fm(eq/Mr),ft={};ft.absoluteValue=ft.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ft.comparedTo=ft.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Mr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ft.dividedBy=ft.div=function(t){return mc(this,new this.constructor(t))};ft.dividedToIntegerBy=ft.idiv=function(t){var e=this,r=e.constructor;return Pr(mc(e,new r(t),0,1),r.precision)};ft.equals=ft.eq=function(t){return!this.cmp(t)};ft.exponent=function(){return Bn(this)};ft.greaterThan=ft.gt=function(t){return this.cmp(t)>0};ft.greaterThanOrEqualTo=ft.gte=function(t){return this.cmp(t)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(t){return this.cmp(t)<0};ft.lessThanOrEqualTo=ft.lte=function(t){return this.cmp(t)<1};ft.logarithm=ft.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(qs))throw Error(Ma+"NaN");if(r.s<1)throw Error(Ma+(r.s?"NaN":"-Infinity"));return r.eq(qs)?new n(0):(zr=!1,e=mc(ty(r,s),ty(t,s),s),zr=!0,Pr(e,i))};ft.minus=ft.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nq(e,t):tq(e,(t.s=-t.s,t))};ft.modulo=ft.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ma+"NaN");return r.s?(zr=!1,e=mc(r,t,0,1).times(t),zr=!0,r.minus(e)):Pr(new n(r),i)};ft.naturalExponential=ft.exp=function(){return rq(this)};ft.naturalLogarithm=ft.ln=function(){return ty(this)};ft.negated=ft.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ft.plus=ft.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tq(e,t):nq(e,(t.s=-t.s,t))};ft.precision=ft.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kh+t);if(e=Bn(i)+1,n=i.d.length-1,r=n*Mr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ft.squareRoot=ft.sqrt=function(){var t,e,r,n,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ma+"NaN")}for(t=Bn(o),zr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=il(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Fm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(s=n,n=s.plus(mc(o,s,a+2)).times(.5),il(s.d).slice(0,a)===(e=il(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Pr(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return zr=!0,Pr(n,r)};ft.times=ft.mul=function(t){var e,r,n,i,s,a,o,l,c,u=this,h=u.constructor,p=u.d,f=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,r=u.e+t.e,l=p.length,c=f.length,l<c&&(s=p,p=f,f=s,a=l,l=c,c=a),s=[],a=l+c,n=a;n--;)s.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=s[i]+f[n]*p[i-n-1]+e,s[i--]=o%Zn|0,e=o/Zn|0;s[i]=(s[i]+e)%Zn|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,zr?Pr(t,h.precision):t};ft.toDecimalPlaces=ft.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(xl(t,0,Mm),e===void 0?e=n.rounding:xl(e,0,8),Pr(r,t+Bn(r)+1,e))};ft.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Kh(n,!0):(xl(t,0,Mm),e===void 0?e=i.rounding:xl(e,0,8),n=Pr(new i(n),t+1,e),r=Kh(n,!0,t+1)),r};ft.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Kh(i):(xl(t,0,Mm),e===void 0?e=s.rounding:xl(e,0,8),n=Pr(new s(i),t+Bn(i)+1,e),r=Kh(n.abs(),!1,t+Bn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ft.toInteger=ft.toint=function(){var t=this,e=t.constructor;return Pr(new e(t),Bn(t)+1,e.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(t){var e,r,n,i,s,a,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(qs);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ma+"Infinity");return o}if(o.eq(qs))return o;if(n=l.precision,t.eq(qs))return Pr(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=u<0?-u:u)<=eq){for(i=new l(qs),e=Math.ceil(n/Mr+4),zr=!1;r%2&&(i=i.times(o),RR(i.d,e)),r=Fm(r/2),r!==0;)o=o.times(o),RR(o.d,e);return zr=!0,t.s<0?new l(qs).div(i):Pr(i,n)}}else if(s<0)throw Error(Ma+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,zr=!1,i=t.times(ty(o,n+c)),zr=!0,i=rq(i),i.s=s,i};ft.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Bn(i),n=Kh(i,r<=s.toExpNeg||r>=s.toExpPos)):(xl(t,1,Mm),e===void 0?e=s.rounding:xl(e,0,8),i=Pr(new s(i),t,e),r=Bn(i),n=Kh(i,t<=r||r<=s.toExpNeg,t)),n};ft.toSignificantDigits=ft.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(xl(t,1,Mm),e===void 0?e=n.rounding:xl(e,0,8)),Pr(new n(r),t,e)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bn(t),r=t.constructor;return Kh(t,e<=r.toExpNeg||e>=r.toExpPos)};function tq(t,e){var r,n,i,s,a,o,l,c,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),zr?Pr(e,h):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(n=l,s=-s,o=c.length):(n=c,i=a,o=l.length),a=Math.ceil(h/Mr),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/Zn|0,l[s]%=Zn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,zr?Pr(e,h):e}function xl(t,e,r){if(t!==~~t||t<e||t>r)throw Error(kh+t)}function il(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=Mr-n.length,r&&(s+=Su(r)),s+=n;a=t[e],n=a+"",r=Mr-n.length,r&&(s+=Su(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var mc=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%Zn|0,a=s/Zn|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Zn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,l,c,u,h,p,f,y,g,w,m,v,x,E,N,C,P,k,T=n.constructor,q=n.s==i.s?1:-1,M=n.d,A=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(Ma+"Division by zero");for(l=n.e-i.e,P=A.length,N=M.length,f=new T(q),y=f.d=[],c=0;A[c]==(M[c]||0);)++c;if(A[c]>(M[c]||0)&&--l,s==null?v=s=T.precision:a?v=s+(Bn(n)-Bn(i))+1:v=s,v<0)return new T(0);if(v=v/Mr+2|0,c=0,P==1)for(u=0,A=A[0],v++;(c<N||u)&&v--;c++)x=u*Zn+(M[c]||0),y[c]=x/A|0,u=x%A|0;else{for(u=Zn/(A[0]+1)|0,u>1&&(A=t(A,u),M=t(M,u),P=A.length,N=M.length),E=P,g=M.slice(0,P),w=g.length;w<P;)g[w++]=0;k=A.slice(),k.unshift(0),C=A[0],A[1]>=Zn/2&&++C;do u=0,o=e(A,g,P,w),o<0?(m=g[0],P!=w&&(m=m*Zn+(g[1]||0)),u=m/C|0,u>1?(u>=Zn&&(u=Zn-1),h=t(A,u),p=h.length,w=g.length,o=e(h,g,p,w),o==1&&(u--,r(h,P<p?k:A,p))):(u==0&&(o=u=1),h=A.slice()),p=h.length,p<w&&h.unshift(0),r(g,h,w),o==-1&&(w=g.length,o=e(A,g,P,w),o<1&&(u++,r(g,P<w?k:A,w))),w=g.length):o===0&&(u++,g=[0]),y[c++]=u,o&&g[0]?g[w++]=M[E]||0:(g=[M[E]],w=1);while((E++<N||g[0]!==void 0)&&v--)}return y[0]||y.shift(),f.e=l,Pr(f,a?s+Bn(f)+1:s)}}();function rq(t,e){var r,n,i,s,a,o,l=0,c=0,u=t.constructor,h=u.precision;if(Bn(t)>16)throw Error(GP+Bn(t));if(!t.s)return new u(qs);for(e==null?(zr=!1,o=h):o=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(n=Math.log(ih(2,c))/Math.LN10*2+5|0,o+=n,r=i=s=new u(qs),u.precision=o;;){if(i=Pr(i.times(t),o),r=r.times(++l),a=s.plus(mc(i,r,o)),il(a.d).slice(0,o)===il(s.d).slice(0,o)){for(;c--;)s=Pr(s.times(s),o);return u.precision=h,e==null?(zr=!0,Pr(s,h)):s}s=a}}function Bn(t){for(var e=t.e*Mr,r=t.d[0];r>=10;r/=10)e++;return e}function k_(t,e,r){if(e>t.LN10.sd())throw zr=!0,r&&(t.precision=r),Error(Ma+"LN10 precision limit exceeded");return Pr(new t(t.LN10),e)}function Su(t){for(var e="";t--;)e+="0";return e}function ty(t,e){var r,n,i,s,a,o,l,c,u,h=1,p=10,f=t,y=f.d,g=f.constructor,w=g.precision;if(f.s<1)throw Error(Ma+(f.s?"NaN":"-Infinity"));if(f.eq(qs))return new g(0);if(e==null?(zr=!1,c=w):c=e,f.eq(10))return e==null&&(zr=!0),k_(g,c);if(c+=p,g.precision=c,r=il(y),n=r.charAt(0),s=Bn(f),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=il(f.d),n=r.charAt(0),h++;s=Bn(f),n>1?(f=new g("0."+r),s++):f=new g(n+"."+r.slice(1))}else return l=k_(g,c+2,w).times(s+""),f=ty(new g(n+"."+r.slice(1)),c-p).plus(l),g.precision=w,e==null?(zr=!0,Pr(f,w)):f;for(o=a=f=mc(f.minus(qs),f.plus(qs),c),u=Pr(f.times(f),c),i=3;;){if(a=Pr(a.times(u),c),l=o.plus(mc(a,new g(i),c)),il(l.d).slice(0,c)===il(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(k_(g,c+2,w).times(s+""))),o=mc(o,new g(h),c),g.precision=w,e==null?(zr=!0,Pr(o,w)):o;o=l,i+=2}}function OR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Fm(r/Mr),t.d=[],n=(r+1)%Mr,r<0&&(n+=Mr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Mr;n<i;)t.d.push(+e.slice(n,n+=Mr));e=e.slice(n),n=Mr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),zr&&(t.e>Sb||t.e<-Sb))throw Error(GP+r)}else t.s=0,t.e=0,t.d=[0];return t}function Pr(t,e,r){var n,i,s,a,o,l,c,u,h=t.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=Mr,i=e,c=h[u=0];else{if(u=Math.ceil((n+1)/Mr),s=h.length,u>=s)return t;for(c=s=h[u],a=1;s>=10;s/=10)a++;n%=Mr,i=n-Mr+a}if(r!==void 0&&(s=ih(10,a-i-1),o=c/s%10|0,l=e<0||h[u+1]!==void 0||c%s,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/ih(10,a-i):0:h[u-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return l?(s=Bn(t),h.length=1,e=e-s-1,h[0]=ih(10,(Mr-e%Mr)%Mr),t.e=Fm(-e/Mr)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=u,s=1,u--):(h.length=u+1,s=ih(10,Mr-n),h[u]=i>0?(c/ih(10,a-i)%ih(10,i)|0)*s:0),l)for(;;)if(u==0){(h[0]+=s)==Zn&&(h[0]=1,++t.e);break}else{if(h[u]+=s,h[u]!=Zn)break;h[u--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(zr&&(t.e>Sb||t.e<-Sb))throw Error(GP+Bn(t));return t}function nq(t,e){var r,n,i,s,a,o,l,c,u,h,p=t.constructor,f=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),zr?Pr(e,f):e;if(l=t.d,h=e.d,n=e.e,c=t.e,l=l.slice(),a=c-n,a){for(u=a<0,u?(r=l,a=-a,o=h.length):(r=h,n=c,o=l.length),i=Math.max(Math.ceil(f/Mr),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=h.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){u=l[i]<h[i];break}a=0}for(u&&(r=l,l=h,h=r,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=Zn-1;--l[s],l[i]+=Zn}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,zr?Pr(e,f):e):new p(0)}function Kh(t,e,r){var n,i=Bn(t),s=il(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+Su(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Su(-i-1)+s,r&&(n=r-a)>0&&(s+=Su(n))):i>=a?(s+=Su(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+Su(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=Su(n))),t.s<0?"-"+s:s}function RR(t,e){if(t.length>e)return t.length=e,!0}function iq(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(kh+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return OR(a,s.toString())}else if(typeof s!="string")throw Error(kh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,t0e.test(s))OR(a,s);else throw Error(kh+s)}if(i.prototype=ft,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iq,i.config=i.set=r0e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function r0e(t){if(!t||typeof t!="object")throw Error(Ma+"Object expected");var e,r,n,i=["precision",1,Mm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Fm(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(kh+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(kh+r+": "+n);return this}var KP=iq(e0e);qs=new KP(1);const pr=KP;var n0e=t=>t,sq={"@@functional/placeholder":!0},aq=t=>t===sq,LR=t=>function e(){return arguments.length===0||arguments.length===1&&aq(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},oq=(t,e)=>t===1?e:LR(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==sq).length;return s>=t?e(...n):oq(t-s,LR(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var c=n.map(u=>aq(u)?o.shift():u);return e(...c,...o)}))}),E2=t=>oq(t.length,t),VN=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},i0e=E2((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),s0e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return n0e;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},zN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),lq=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var l;return a===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,r=t(...i)),r}};function cq(t){var e;return t===0?e=1:e=Math.floor(new pr(t).abs().log(10).toNumber())+1,e}function uq(t,e,r){for(var n=new pr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}E2((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});E2((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});E2((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var dq=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},hq=(t,e,r)=>{if(t.lte(0))return new pr(0);var n=cq(t.toNumber()),i=new pr(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new pr(Math.ceil(s.div(a).toNumber())).add(r).mul(a),l=o.mul(i);return e?new pr(l.toNumber()):new pr(Math.ceil(l.toNumber()))},a0e=(t,e,r)=>{var n=new pr(1),i=new pr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new pr(10).pow(cq(t)-1),i=new pr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new pr(Math.floor(t)))}else t===0?i=new pr(Math.floor((e-1)/2)):r||(i=new pr(Math.floor(t)));var a=Math.floor((e-1)/2),o=s0e(i0e(l=>i.add(new pr(l-a).mul(n)).toNumber()),VN);return o(0,e)},fq=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new pr(0),tickMin:new pr(0),tickMax:new pr(0)};var a=hq(new pr(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new pr(0):(o=new pr(e).add(r).div(2),o=o.sub(new pr(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new pr(r).sub(o).div(a).toNumber()),u=l+c+1;return u>n?fq(e,r,n,i,s+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:a,tickMin:o.sub(new pr(l).mul(a)),tickMax:o.add(new pr(c).mul(a))})};function o0e(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=dq([e,r]);if(a===-1/0||o===1/0){var l=o===1/0?[a,...VN(0,n-1).map(()=>1/0)]:[...VN(0,n-1).map(()=>-1/0),o];return e>r?zN(l):l}if(a===o)return a0e(a,n,i);var{step:c,tickMin:u,tickMax:h}=fq(a,o,s,i,0),p=uq(u,h.add(new pr(.1).mul(c)),c);return e>r?zN(p):p}function l0e(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=dq([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(e,2),l=hq(new pr(a).sub(s).div(o-1),i,0),c=[...uq(new pr(s),new pr(a),l),a];return i===!1&&(c=c.map(u=>Math.round(u))),r>n?zN(c):c}var c0e=lq(o0e),u0e=lq(l0e),d0e=t=>t.rootProps.barCategoryGap,Ry=t=>t.rootProps.stackOffset,YP=t=>t.options.chartName,XP=t=>t.rootProps.syncId,pq=t=>t.rootProps.syncMethod,JP=t=>t.options.eventEmitter,ec={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},$s={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},A2=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},h0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ec.angleAxisId,includeHidden:!1,name:void 0,reversed:ec.reversed,scale:ec.scale,tick:ec.tick,tickCount:void 0,ticks:void 0,type:ec.type,unit:void 0},f0e={allowDataOverflow:$s.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$s.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$s.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$s.scale,tick:$s.tick,tickCount:$s.tickCount,ticks:void 0,type:$s.type,unit:void 0},p0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ec.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ec.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ec.scale,tick:ec.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},m0e={allowDataOverflow:$s.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$s.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$s.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$s.scale,tick:$s.tick,tickCount:$s.tickCount,ticks:void 0,type:"category",unit:void 0},QP=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?p0e:h0e,ZP=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?m0e:f0e,S2=t=>t.polarOptions,eC=Ue([jc,Oc,si],HV),mq=Ue([S2,eC],(t,e)=>{if(t!=null)return Ca(t.innerRadius,e,0)}),gq=Ue([S2,eC],(t,e)=>{if(t!=null)return Ca(t.outerRadius,e,e*.8)}),g0e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},yq=Ue([S2],g0e);Ue([QP,yq],A2);var vq=Ue([eC,mq,gq],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});Ue([ZP,vq],A2);var y0e=Ue([Ur,S2,mq,gq,jc,Oc],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:l,endAngle:c}=e;return{cx:Ca(a,i,i/2),cy:Ca(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),xn=(t,e)=>e,Ly=(t,e,r)=>r;function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){v0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v0e(t,e,r){return(e=w0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w0e(t){var e=b0e(t,"string");return typeof e=="symbol"?e:e+""}function b0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qN=[0,"auto"],Fs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Lc=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??Fs},Bs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:f2},Sd=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??Bs},x0e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},tC=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??x0e},_n=(t,e,r)=>{switch(e){case"xAxis":return Lc(t,r);case"yAxis":return Sd(t,r);case"zAxis":return tC(t,r);case"angleAxis":return QP(t,r);case"radiusAxis":return ZP(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},_0e=(t,e,r)=>{switch(e){case"xAxis":return Lc(t,r);case"yAxis":return Sd(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Dy=(t,e,r)=>{switch(e){case"xAxis":return Lc(t,r);case"yAxis":return Sd(t,r);case"angleAxis":return QP(t,r);case"radiusAxis":return ZP(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},wq=t=>t.graphicalItems.countOfBars>0;function rC(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var bq=t=>t.graphicalItems.cartesianItems,E0e=Ue([xn,Ly],rC),nC=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),My=Ue([bq,_n,E0e],nC),xq=t=>t.filter(e=>e.stackId===void 0),A0e=Ue([My],xq),iC=t=>t.map(e=>e.data).filter(Boolean).flat(1),S0e=Ue([My],iC),sC=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},N2=Ue([S0e,Zz],sC),aC=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:an(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:an(i,n)}))):t.map(n=>({value:n})),T2=Ue([N2,_n,My],aC);function _q(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function lf(t){return t.filter(e=>bl(e)||e instanceof Date).map(Number).filter(e=>La(e)===!1)}function N0e(t,e,r){return!r||typeof e!="number"||La(e)?[]:r.length?lf(r.flatMap(n=>{var i=an(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Ao(s)||!Ao(a)))return[e-s,e+a]})):[]}var Eq=(t,e,r)=>{var n={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,l=o.map(c=>c.dataKey);return[a,{stackedData:Dhe(t,l,r),graphicalItems:o}]}))},T0e=Ue([N2,My,Ry],Eq),Aq=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var s=Uhe(t,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},P0e=Ue([T0e,of,xn],Aq),Sq=(t,e,r,n)=>r.length>0?t.flatMap(i=>r.flatMap(s=>{var a,o,l=(a=s.errorBars)===null||a===void 0?void 0:a.filter(u=>_q(n,u)),c=an(i,(o=e.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:c,errorDomain:N0e(i,c,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:an(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),C0e=Ue(N2,_n,A0e,xn,Sq);function k0e(t){var{value:e}=t;if(bl(e)||e instanceof Date)return e}var I0e=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=lf(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},j0e=(t,e,r)=>{var n=t.map(k0e).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&N$(n))?vz(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},oC=t=>{var e;if(t==null||!("domain"in t))return qN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=lf(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:qN},lC=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},Nq=t=>t.referenceElements.dots,Bm=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),O0e=Ue([Nq,xn,Ly],Bm),Tq=t=>t.referenceElements.areas,R0e=Ue([Tq,xn,Ly],Bm),Pq=t=>t.referenceElements.lines,L0e=Ue([Pq,xn,Ly],Bm),Cq=(t,e)=>{var r=lf(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},D0e=Ue(O0e,xn,Cq),kq=(t,e)=>{var r=lf(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},M0e=Ue([R0e,xn],kq),Iq=(t,e)=>{var r=lf(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},F0e=Ue(L0e,xn,Iq),B0e=Ue(D0e,F0e,M0e,(t,e,r)=>lC(t,r,e)),jq=Ue([_n],oC),cC=(t,e,r,n,i)=>{var s=Qge(e,t.allowDataOverflow);return s??Zge(e,lC(r,i,I0e(n)),t.allowDataOverflow)},U0e=Ue([_n,jq,P0e,C0e,B0e],cC),$0e=[0,1],uC=(t,e,r,n,i,s,a)=>{if(!(t==null||r==null||r.length===0)){var{dataKey:o,type:l}=t,c=_d(e,s);return c&&o==null?vz(0,r.length):l==="category"?j0e(n,t,c):i==="expand"?$0e:a}},dC=Ue([_n,Ur,N2,T2,Ry,xn,U0e],uC),Oq=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Py(s));return o in Yg?o:"point"}}},Um=Ue([_n,Ur,wq,YP,xn],Oq);function V0e(t){if(t!=null){if(t in Yg)return Yg[t]();var e="scale".concat(Py(t));if(e in Yg)return Yg[e]()}}function hC(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=V0e(e);if(i!=null){var s=i.domain(r).range(n);return jhe(s),s}}}var fC=(t,e,r)=>{var n=oC(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&cm(t))return c0e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&cm(t))return u0e(t,e.tickCount,e.allowDecimals)}},pC=Ue([dC,Dy,Um],fC),mC=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&cm(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},z0e=Ue([_n,dC,pC,xn],mC),q0e=Ue(T2,_n,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(lf(t.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),Rq=Ue(q0e,Ur,d0e,si,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!Ao(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Ca(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),W0e=(t,e)=>{var r=Lc(t,e);return r==null||typeof r.padding!="string"?0:Rq(t,"xAxis",e,r.padding)},H0e=(t,e)=>{var r=Sd(t,e);return r==null||typeof r.padding!="string"?0:Rq(t,"yAxis",e,r.padding)},G0e=Ue(Lc,W0e,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),K0e=Ue(Sd,H0e,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Y0e=Ue([si,G0e,m2,p2,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),X0e=Ue([si,Ur,K0e,m2,p2,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Fy=(t,e,r,n)=>{var i;switch(e){case"xAxis":return Y0e(t,r,n);case"yAxis":return X0e(t,r,n);case"zAxis":return(i=tC(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return yq(t);case"radiusAxis":return vq(t,r);default:return}},Lq=Ue([_n,Fy],A2),$m=Ue([_n,Um,z0e,Lq],hC);Ue(My,xn,(t,e)=>t.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>_q(e,r)));function Dq(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var P2=(t,e)=>e,C2=(t,e,r)=>r,J0e=Ue(pP,P2,C2,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Dq)),Q0e=Ue(mP,P2,C2,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Dq)),Mq=(t,e)=>({width:t.width,height:e.height}),Z0e=(t,e)=>{var r=typeof e.width=="number"?e.width:f2;return{width:r,height:t.height}},eye=Ue(si,Lc,Mq),tye=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},rye=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},nye=Ue(Oc,si,J0e,P2,C2,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var l=Mq(e,o);a==null&&(a=tye(e,n,t));var c=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),s}),iye=Ue(jc,si,Q0e,P2,C2,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var l=Z0e(e,o);a==null&&(a=rye(e,n,t));var c=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),s}),sye=(t,e)=>{var r=si(t),n=Lc(t,e);if(n!=null){var i=nye(t,n.orientation,n.mirror),s=i[e];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},aye=(t,e)=>{var r=si(t),n=Sd(t,e);if(n!=null){var i=iye(t,n.orientation,n.mirror),s=i[e];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},oye=Ue(si,Sd,(t,e)=>{var r=typeof e.width=="number"?e.width:f2;return{width:r,height:t.height}}),Fq=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=_d(t,n),l=e.map(c=>c.value);if(a&&o&&s==="category"&&i&&N$(l))return l}},gC=Ue([Ur,T2,_n,xn],Fq),Bq=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=_d(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},yC=Ue([Ur,T2,Dy,xn],Bq),MR=Ue([Ur,_0e,Um,$m,gC,yC,Fy,pC,xn],(t,e,r,n,i,s,a,o,l)=>{if(e==null)return null;var c=_d(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:o,range:a,realScaleType:r,scale:n}}),lye=(t,e,r,n,i,s,a,o,l)=>{if(!(e==null||n==null)){var c=_d(t,l),{type:u,ticks:h,tickCount:p}=e,f=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=u==="category"&&n.bandwidth?n.bandwidth()/f:0;y=l==="angleAxis"&&s!=null&&s.length>=2?$i(s[0]-s[1])*2*y:y;var g=h||i;if(g){var w=g.map((m,v)=>{var x=a?a.indexOf(m):m;return{index:v,coordinate:n(x)+y,value:m,offset:y}});return w.filter(m=>!La(m.coordinate))}return c&&o?o.map((m,v)=>({coordinate:n(m)+y,value:m,index:v,offset:y})):n.ticks?n.ticks(p).map(m=>({coordinate:n(m)+y,value:m,offset:y})):n.domain().map((m,v)=>({coordinate:n(m)+y,value:a?a[m]:m,index:v,offset:y}))}},Uq=Ue([Ur,Dy,Um,$m,pC,Fy,gC,yC,xn],lye),cye=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=_d(t,a),{tickCount:l}=e,c=0;return c=a==="angleAxis"&&(n==null?void 0:n.length)>=2?$i(n[0]-n[1])*2*c:c,o&&s?s.map((u,h)=>({coordinate:r(u)+c,value:u,index:h,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,h)=>({coordinate:r(u)+c,value:i?i[u]:u,index:h,offset:c}))}},$q=Ue([Ur,Dy,$m,Fy,gC,yC,xn],cye),k2=Ue(_n,$m,(t,e)=>{if(!(t==null||e==null))return Nb(Nb({},t),{},{scale:e})}),uye=Ue([_n,Um,dC,Lq],hC);Ue((t,e,r)=>tC(t,r),uye,(t,e)=>{if(!(t==null||e==null))return Nb(Nb({},t),{},{scale:e})});var dye=Ue([Ur,pP,mP],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Vq=t=>t.options.defaultTooltipEventType,zq=t=>t.options.validateTooltipEventTypes;function qq(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function vC(t,e){var r=Vq(t),n=zq(t);return qq(e,r,n)}function hye(t){return vt(e=>vC(e,t))}var Wq=(t,e)=>{var r,n=Number(e);if(!(La(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},fye=t=>t.tooltip.settings,Ou={active:!1,index:null,dataKey:void 0,coordinate:void 0},pye={itemInteraction:{click:Ou,hover:Ou},axisInteraction:{click:Ou,hover:Ou},keyboardInteraction:Ou,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Hq=$a({name:"tooltip",initialState:pye,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=pc(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:mye,removeTooltipEntrySettings:gye,setTooltipSettingsState:yye,setActiveMouseOverItemIndex:Gq,mouseLeaveItem:vye,mouseLeaveChart:Kq,setActiveClickItemIndex:wye,setMouseOverAxisIndex:Yq,setMouseClickAxisIndex:bye,setSyncInteraction:WN,setKeyboardInteraction:HN}=Hq.actions,xye=Hq.reducer;function FR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(r),!0).forEach(function(n){_ye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ye(t,e,r){return(e=Eye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eye(t){var e=Aye(t,"string");return typeof e=="symbol"?e:e+""}function Aye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sye(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Nye(t){return t.index!=null}var Xq=(t,e,r,n)=>{if(e==null)return Ou;var i=Sye(t,e,r);if(i==null)return Ou;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Nye(i)){if(s)return e1(e1({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return e1(e1({},Ou),{},{coordinate:i.coordinate})},wC=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!Ao(n))return r;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(n,s)))},Jq=(t,e,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var u=i==null?void 0:i[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:u.coordinate}}}},Qq=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},By=t=>t.options.tooltipPayloadSearcher,Vm=t=>t.tooltip;function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){Tye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tye(t,e,r){return(e=Pye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pye(t){var e=Cye(t,"string");return typeof e=="symbol"?e:e+""}function Cye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kye(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function Iye(t,e){return t??e}var Zq=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,h=[];return t.reduce((p,f)=>{var y,{dataDefinedOnItem:g,settings:w}=f,m=Iye(g,o),v=kye(m,c,u),x=(y=w==null?void 0:w.dataKey)!==null&&y!==void 0?y:n==null?void 0:n.dataKey,E=w==null?void 0:w.nameKey,N;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&a==="axis"?N=T$(v,n.dataKey,i):N=s(v,e,l,E),Array.isArray(N))N.forEach(P=>{var k=UR(UR({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});p.push(kO({tooltipEntrySettings:k,dataKey:P.dataKey,payload:P.payload,value:an(P.payload,P.dataKey),name:P.name}))});else{var C;p.push(kO({tooltipEntrySettings:w,dataKey:x,payload:N,value:an(N,x),name:(C=an(N,E))!==null&&C!==void 0?C:w==null?void 0:w.name}))}return p},h)}},oi=t=>{var e=Ur(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},zm=t=>t.tooltip.settings.axisId,Ai=t=>{var e=oi(t),r=zm(t);return Dy(t,e,r)},bC=Ue([Ai,Ur,wq,YP,oi],Oq),jye=Ue([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Oye=Ue([oi,zm],rC),I2=Ue([jye,Ai,Oye],nC),Rye=Ue([I2],iC),cf=Ue([Rye,of],sC),xC=Ue([cf,Ai,I2],aC),Lye=Ue([Ai],oC),Dye=Ue([cf,I2,Ry],Eq),Mye=Ue([Dye,of,oi],Aq),Fye=Ue([I2],xq),Bye=Ue([cf,Ai,Fye,oi],Sq),Uye=Ue([Nq,oi,zm],Bm),$ye=Ue([Uye,oi],Cq),Vye=Ue([Tq,oi,zm],Bm),zye=Ue([Vye,oi],kq),qye=Ue([Pq,oi,zm],Bm),Wye=Ue([qye,oi],Iq),Hye=Ue([$ye,Wye,zye],lC),Gye=Ue([Ai,Lye,Mye,Bye,Hye],cC),eW=Ue([Ai,Ur,cf,xC,Ry,oi,Gye],uC),Kye=Ue([eW,Ai,bC],fC),Yye=Ue([Ai,eW,Kye,oi],mC),tW=t=>{var e=oi(t),r=zm(t),n=!1;return Fy(t,e,r,n)},rW=Ue([Ai,tW],A2),nW=Ue([Ai,bC,Yye,rW],hC),Xye=Ue([Ur,xC,Ai,oi],Fq),Jye=Ue([Ur,xC,Ai,oi],Bq),Qye=(t,e,r,n,i,s,a,o)=>{if(e){var{type:l}=e,c=_d(t,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?$i(i[0]-i[1])*2*h:h,c&&a?a.map((p,f)=>({coordinate:n(p)+h,value:p,index:f,offset:h})):n.domain().map((p,f)=>({coordinate:n(p)+h,value:s?s[p]:p,index:f,offset:h}))}}},Dc=Ue([Ur,Ai,bC,nW,tW,Xye,Jye,oi],Qye),_C=Ue([Vq,zq,fye],(t,e,r)=>qq(r.shared,t,e)),iW=t=>t.tooltip.settings.trigger,EC=t=>t.tooltip.settings.defaultIndex,j2=Ue([Vm,_C,iW,EC],Xq),um=Ue([j2,cf],wC),sW=Ue([Dc,um],Wq),Zye=Ue([j2],t=>{if(t)return t.dataKey}),aW=Ue([Vm,_C,iW,EC],Qq),eve=Ue([jc,Oc,Ur,si,Dc,EC,aW,By],Jq),tve=Ue([j2,eve],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),rve=Ue([j2],t=>t.active),nve=Ue([aW,um,of,Ai,sW,By,_C],Zq),ive=Ue([nve],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){sve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sve(t,e,r){return(e=ave(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ave(t){var e=ove(t,"string");return typeof e=="symbol"?e:e+""}function ove(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lve=()=>vt(Ai),cve=()=>{var t=lve(),e=vt(Dc),r=vt(nW);return NN(VR(VR({},t),{},{scale:r}),e)},uve=()=>vt(YP),AC=(t,e)=>e,oW=(t,e,r)=>r,SC=(t,e,r,n)=>n,dve=Ue(Dc,t=>s2(t,e=>e.coordinate)),NC=Ue([Vm,AC,oW,SC],Xq),lW=Ue([NC,cf],wC),hve=(t,e,r)=>{if(e!=null){var n=Vm(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},cW=Ue([Vm,AC,oW,SC],Qq),Tb=Ue([jc,Oc,Ur,si,Dc,SC,cW,By],Jq),fve=Ue([NC,Tb],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),uW=Ue(Dc,lW,Wq),pve=Ue([cW,lW,of,Ai,uW,By,AC],Zq),mve=Ue([NC],t=>({isActive:t.active,activeIndex:t.index})),gve=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s)){var l=$he(t.chartX,t.chartY,e,r,o);if(l){var c=zhe(l,e),u=khe(c,a,s,n,i),h=Vhe(e,s,u,l);return{activeIndex:String(u),activeCoordinate:h}}}};function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GN.apply(null,arguments)}function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){yve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yve(t,e,r){return(e=vve(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vve(t){var e=wve(t,"string");return typeof e=="symbol"?e:e+""}function wve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bve(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:l,chartName:c}=t,u=e,h=r,p=n;if(!o||!u||c!=="ScatterChart"&&l!=="axis")return null;var f,y;if(c==="ScatterChart")f=u,y=Ufe;else if(c==="BarChart")f=$fe(a,u,i,s),y=dz;else if(a==="radial"){var{cx:g,cy:w,radius:m,startAngle:v,endAngle:x}=hz(u);f={cx:g,cy:w,startAngle:v,endAngle:x,innerRadius:m,outerRadius:m},y=pz}else f={points:_pe(a,u,i)},y=xP;var E=typeof o=="object"&&"className"in o?o.className:void 0,N=t1(t1(t1(t1({stroke:"#ccc",pointerEvents:"none"},i),f),tr(o,!1)),{},{payload:h,payloadIndex:p,className:rr("recharts-tooltip-cursor",E)});return R.isValidElement(o)?R.cloneElement(o,N):R.createElement(y,N)}function xve(t){var e=cve(),r=ZV(),n=wP(),i=uve();return R.createElement(bve,GN({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var dW=R.createContext(null),_ve=()=>R.useContext(dW),hW={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,h||l,p),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],f]:l._events[y].push(f):(l._events[y]=f,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,f=h.length,y=new Array(f);p<f;p++)y[p]=h[p].fn;return y},o.prototype.listenerCount=function(c){var u=r?r+c:c,h=this._events[u];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,u,h,p,f,y){var g=r?r+c:c;if(!this._events[g])return!1;var w=this._events[g],m=arguments.length,v,x;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),m){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,h),!0;case 4:return w.fn.call(w.context,u,h,p),!0;case 5:return w.fn.call(w.context,u,h,p,f),!0;case 6:return w.fn.call(w.context,u,h,p,f,y),!0}for(x=1,v=new Array(m-1);x<m;x++)v[x-1]=arguments[x];w.fn.apply(w.context,v)}else{var E=w.length,N;for(x=0;x<E;x++)switch(w[x].once&&this.removeListener(c,w[x].fn,void 0,!0),m){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,u);break;case 3:w[x].fn.call(w[x].context,u,h);break;case 4:w[x].fn.call(w[x].context,u,h,p);break;default:if(!v)for(N=1,v=new Array(m-1);N<m;N++)v[N-1]=arguments[N];w[x].fn.apply(w[x].context,v)}}return!0},o.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},o.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},o.prototype.removeListener=function(c,u,h,p){var f=r?r+c:c;if(!this._events[f])return this;if(!u)return a(this,f),this;var y=this._events[f];if(y.fn)y.fn===u&&(!p||y.once)&&(!h||y.context===h)&&a(this,f);else{for(var g=0,w=[],m=y.length;g<m;g++)(y[g].fn!==u||p&&!y[g].once||h&&y[g].context!==h)&&w.push(y[g]);w.length?this._events[f]=w.length===1?w[0]:w:a(this,f)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(hW);var Eve=hW.exports;const Ave=So(Eve);var ry=new Ave,KN="recharts.syncEvent.tooltip",qR="recharts.syncEvent.brush";function fW(t,e){if(e){var r=Number.parseInt(e,10);if(!La(r))return t==null?void 0:t[r]}}var Sve={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},pW=$a({name:"options",initialState:Sve,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Nve=pW.reducer,{createEventEmitter:Tve}=pW.actions;function Pve(t){return t.tooltip.syncInteraction}var Cve={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},mW=$a({name:"chartData",initialState:Cve,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:WR,setDataStartEndIndexes:kve,setComputedData:pTe}=mW.actions,Ive=mW.reducer,gW=()=>{};function jve(){var t=vt(XP),e=vt(JP),r=Xr(),n=vt(pq),i=vt(Dc),s=wP(),a=gP(),o=vt(l=>l.rootProps.className);R.useEffect(()=>{if(t==null)return gW;var l=(c,u,h)=>{if(e!==h&&t===c){if(n==="index"){r(u);return}if(i!=null){var p;if(typeof n=="function"){var f={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},y=n(i,f);p=i[y]}else n==="value"&&(p=i.find(C=>String(C.value)===u.payload.label));var{coordinate:g}=u.payload;if(p==null||u.payload.active===!1||g==null||a==null){r(WN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:m}=g,v=Math.min(w,a.x+a.width),x=Math.min(m,a.y+a.height),E={x:s==="horizontal"?p.coordinate:v,y:s==="horizontal"?x:p.coordinate},N=WN({active:u.payload.active,coordinate:E,dataKey:u.payload.dataKey,index:String(p.index),label:u.payload.label});r(N)}}};return ry.on(KN,l),()=>{ry.off(KN,l)}},[o,r,e,t,n,i,s,a])}function Ove(){var t=vt(XP),e=vt(JP),r=Xr();R.useEffect(()=>{if(t==null)return gW;var n=(i,s,a)=>{e!==a&&t===i&&r(kve(s))};return ry.on(qR,n),()=>{ry.off(qR,n)}},[r,e,t])}function Rve(){var t=Xr();R.useEffect(()=>{t(Tve())},[t]),jve(),Ove()}function Lve(t,e,r,n,i,s){var a=vt(p=>hve(p,t,e)),o=vt(JP),l=vt(XP),c=vt(pq),u=vt(Pve),h=u==null?void 0:u.active;R.useEffect(()=>{if(!h&&l!=null&&o!=null){var p=WN({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});ry.emit(KN,l,p,o)}},[h,r,a,i,n,o,l,c,s])}function HR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(r),!0).forEach(function(n){Dve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dve(t,e,r){return(e=Mve(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mve(t){var e=Fve(t,"string");return typeof e=="symbol"?e:e+""}function Fve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bve(t){return t.dataKey}function Uve(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(vfe,e)}var KR=[],$ve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Lm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function YN(t){var e=Po(t,$ve),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:h,reverseDirection:p,useTranslate3d:f,wrapperStyle:y,cursor:g,shared:w,trigger:m,defaultIndex:v,portal:x,axisId:E}=e,N=Xr(),C=typeof v=="number"?String(v):v;R.useEffect(()=>{N(yye({shared:w,trigger:m,axisId:E,active:r,defaultIndex:C}))},[N,w,m,E,r,C]);var P=gP(),k=nz(),T=hye(w),{activeIndex:q,isActive:M}=vt(he=>mve(he,T,m,C)),A=vt(he=>pve(he,T,m,C)),I=vt(he=>uW(he,T,m,C)),j=vt(he=>fve(he,T,m,C)),ne=A,pe=_ve(),X=r??M,[ce,ue]=xV([ne,X]),xe=T==="axis"?I:void 0;Lve(T,m,j,xe,q,X);var we=x??pe;if(we==null)return null;var F=ne??KR;X||(F=KR),o&&F.length&&(F=cV(ne.filter(he=>he.value!=null&&(he.hide!==!0||e.includeHidden)),u,Bve));var J=F.length>0,se=R.createElement(Sfe,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:l,active:X,coordinate:j,hasPayload:J,offset:c,position:h,reverseDirection:p,useTranslate3d:f,viewBox:P,wrapperStyle:y,lastBoundingBox:ce,innerRef:ue,hasPortalFromProps:!!x},Uve(a,GR(GR({},e),{},{payload:F,label:xe,active:X,coordinate:j,accessibilityLayer:k})));return R.createElement(R.Fragment,null,b3.createPortal(se,we),X&&R.createElement(xve,{cursor:g,tooltipEventType:T,coordinate:j,payload:ne,index:q}))}var yW={},vW={},wW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),u=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},h=()=>{c&&u(),g()};let p=null;const f=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,h()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{y(),a=void 0,o=null},w=()=>{u()},m=function(...v){if(i!=null&&i.aborted)return;a=this,o=v;const x=p==null;f(),l&&x&&u()};return m.schedule=f,m.cancel=g,m.flush=w,i==null||i.addEventListener("abort",g,{once:!0}),m}t.debounce=e})(wW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wW;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,c=Array(2);a&&(c[0]="leading"),o&&(c[1]="trailing");let u,h=null;const p=e.debounce(function(...g){u=n.apply(this,g),h=null},i,{edges:c}),f=function(...g){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(u=n.apply(this,g),h=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,g),u)},y=()=>(p.flush(),u);return f.cancel=p.cancel,f.flush=y,f}t.debounce=r})(vW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vW;function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(yW);var Vve=yW.throttle;const zve=So(Vve);var m0=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){qve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qve(t,e,r){return(e=Wve(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wve(t){var e=Hve(t,"string");return typeof e=="symbol"?e:e+""}function Hve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XN=R.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:h,className:p,onResize:f,style:y={}}=t,g=R.useRef(null),w=R.useRef();w.current=f,R.useImperativeHandle(e,()=>g.current);var[m,v]=R.useState({containerWidth:n.width,containerHeight:n.height}),x=R.useCallback((N,C)=>{v(P=>{var k=Math.round(N),T=Math.round(C);return P.containerWidth===k&&P.containerHeight===T?P:{containerWidth:k,containerHeight:T}})},[]);R.useEffect(()=>{var N=T=>{var q,{width:M,height:A}=T[0].contentRect;x(M,A),(q=w.current)===null||q===void 0||q.call(w,M,A)};u>0&&(N=zve(N,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(N),{width:P,height:k}=g.current.getBoundingClientRect();return x(P,k),C.observe(g.current),()=>{C.disconnect()}},[x,u]);var E=R.useMemo(()=>{var{containerWidth:N,containerHeight:C}=m;if(N<0||C<0)return null;m0(mh(i)||mh(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),m0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=mh(i)?N:i,k=mh(s)?C:s;return r&&r>0&&(P?k=P/r:k&&(P=k*r),l&&k>l&&(k=l)),m0(P>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,k,i,s,a,o,r),R.Children.map(c,T=>R.cloneElement(T,{width:P,height:k,style:I_({width:P,height:k},T.props.style)}))},[r,c,s,l,o,a,m,i]);return R.createElement("div",{id:h?"".concat(h):void 0,className:rr("recharts-responsive-container",p),style:I_(I_({},y),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:g},R.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),O2=t=>null;O2.displayName="Cell";function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){Gve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gve(t,e,r){return(e=Kve(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kve(t){var e=Yve(t,"string");return typeof e=="symbol"?e:e+""}function Yve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $f={widthCache:{},cacheCount:0},Xve=2e3,Jve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JR="recharts_measurement_span";function Qve(t){var e=JN({},t);return Object.keys(e).forEach(r=>{e[r]||delete e[r]}),e}var g0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Lm.isSsr)return{width:0,height:0};var n=Qve(r),i=JSON.stringify({text:e,copyStyle:n});if($f.widthCache[i])return $f.widthCache[i];try{var s=document.getElementById(JR);s||(s=document.createElement("span"),s.setAttribute("id",JR),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=JN(JN({},Jve),n);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return $f.widthCache[i]=l,++$f.cacheCount>Xve&&($f.cacheCount=0,$f.widthCache={}),l}catch{return{width:0,height:0}}},QR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,e1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},t1e=Object.keys(bW),mp="NaN";function r1e(t,e){return t*bW[e]}class ys{static parse(e){var r,[,n,i]=(r=e1e.exec(e))!==null&&r!==void 0?r:[];return new ys(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,La(e)&&(this.unit=""),r!==""&&!Zve.test(r)&&(this.num=NaN,this.unit=""),t1e.includes(r)&&(this.num=r1e(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new ys(NaN,""):new ys(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ys(NaN,""):new ys(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ys(NaN,""):new ys(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ys(NaN,""):new ys(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return La(this.num)}}function xW(t){if(t.includes(mp))return mp;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=QR.exec(e))!==null&&r!==void 0?r:[],a=ys.parse(n??""),o=ys.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return mp;e=e.replace(QR,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,h,p]=(c=ZR.exec(e))!==null&&c!==void 0?c:[],f=ys.parse(u??""),y=ys.parse(p??""),g=h==="+"?f.add(y):f.subtract(y);if(g.isNaN())return mp;e=e.replace(ZR,g.toString())}return e}var eL=/\(([^()]*)\)/;function n1e(t){for(var e=t,r;(r=eL.exec(e))!=null;){var[,n]=r;e=e.replace(eL,xW(n))}return e}function i1e(t){var e=t.replace(/\s+/g,"");return e=n1e(e),e=xW(e),e}function s1e(t){try{return i1e(t)}catch{return mp}}function j_(t){var e=s1e(t.slice(5,-1));return e===mp?"":e}var a1e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],o1e=["dx","dy","angle","className","breakAll"];function QN(){return QN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QN.apply(null,arguments)}function tL(t,e){if(t==null)return{};var r,n,i=l1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function l1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var _W=/[ \f\n\r\t\v\u2028\u2029]+/,EW=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];bn(e)||(r?i=e.toString().split(""):i=e.toString().split(_W));var s=i.map(o=>({word:o,width:g0(o,n).width})),a=r?0:g0(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},c1e=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,c=yt(s),u=a,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((A,I)=>{var{word:j,width:ne}=I,pe=A[A.length-1];if(pe&&(n==null||i||pe.width+ne+r<Number(n)))pe.words.push(j),pe.width+=ne+r;else{var X={words:[j],width:ne};A.push(X)}return A},[])},p=h(e),f=q=>q.reduce((M,A)=>M.width>A.width?M:A);if(!c||i)return p;var y=p.length>s||f(p).width>Number(n);if(!y)return p;for(var g="…",w=q=>{var M=u.slice(0,q),A=EW({breakAll:l,style:o,children:M+g}).wordsWithComputedWidth,I=h(A),j=I.length>s||f(I).width>Number(n);return[j,I]},m=0,v=u.length-1,x=0,E;m<=v&&x<=u.length-1;){var N=Math.floor((m+v)/2),C=N-1,[P,k]=w(C),[T]=w(N);if(!P&&!T&&(m=N+1),P&&T&&(v=N-1),!P&&T){E=k;break}x++}return E||p},rL=t=>{var e=bn(t)?[]:t.toString().split(_W);return[{words:e}]},u1e=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!Lm.isSsr){var o,l,c=EW({breakAll:s,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:h}=c;o=u,l=h}else return rL(n);return c1e({breakAll:s,children:n,maxLines:a,style:i},o,l,e,r)}return rL(n)},nL="#808080",R2=R.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=nL}=t,u=tL(t,a1e),h=R.useMemo(()=>u1e({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:a,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,a,u.style,u.width]),{dx:p,dy:f,angle:y,className:g,breakAll:w}=u,m=tL(u,o1e);if(!bl(r)||!bl(n))return null;var v=r+(yt(p)?p:0),x=n+(yt(f)?f:0),E;switch(l){case"start":E=j_("calc(".concat(s,")"));break;case"middle":E=j_("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:E=j_("calc(".concat(h.length-1," * -").concat(i,")"));break}var N=[];if(a){var C=h[0].width,{width:P}=u;N.push("scale(".concat(yt(P)?P/C:1,")"))}return y&&N.push("rotate(".concat(y,", ").concat(v,", ").concat(x,")")),N.length&&(m.transform=N.join(" ")),R.createElement("text",QN({},tr(m,!0),{ref:e,x:v,y:x,className:rr("recharts-text",g),textAnchor:o,fill:c.includes("url")?nL:c}),h.map((k,T)=>{var q=k.words.join(w?"":" ");return R.createElement("tspan",{x:v,dy:T===0?E:i,key:"".concat(q,"-").concat(T)},q)}))});R2.displayName="Text";var d1e=["offset"],h1e=["labelRef"];function iL(t,e){if(t==null)return{};var r,n,i=f1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function f1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function sL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(r),!0).forEach(function(n){p1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p1e(t,e,r){return(e=m1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m1e(t){var e=g1e(t,"string");return typeof e=="symbol"?e:e+""}function g1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tc.apply(null,arguments)}var y1e=t=>{var{value:e,formatter:r}=t,n=bn(t.children)?e:t.children;return typeof r=="function"?r(n):n},TC=t=>t!=null&&typeof t=="function",v1e=(t,e)=>{var r=$i(e-t),n=Math.min(Math.abs(e-t),360);return r*n},w1e=(t,e,r)=>{var{position:n,viewBox:i,offset:s,className:a}=t,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:h,endAngle:p,clockWise:f}=i,y=(c+u)/2,g=v1e(h,p),w=g>=0?1:-1,m,v;n==="insideStart"?(m=h+w*s,v=f):n==="insideEnd"?(m=p-w*s,v=!f):n==="end"&&(m=p+w*s,v=f),v=g<=0?v:!v;var x=Fn(o,l,y,m),E=Fn(o,l,y,m+(v?1:-1)*359),N="M".concat(x.x,",").concat(x.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(v?0:1,`,
    `).concat(E.x,",").concat(E.y),C=bn(t.id)?em("recharts-radial-line-"):t.id;return R.createElement("text",tc({},r,{dominantBaseline:"central",className:rr("recharts-radial-bar-label",a)}),R.createElement("defs",null,R.createElement("path",{id:C,d:N})),R.createElement("textPath",{xlinkHref:"#".concat(C)},e))},b1e=t=>{var{viewBox:e,offset:r,position:n}=t,{cx:i,cy:s,innerRadius:a,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(n==="outside"){var{x:h,y:p}=Fn(i,s,o+r,u);return{x:h,y:p,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var f=(a+o)/2,{x:y,y:g}=Fn(i,s,f,u);return{x:y,y:g,textAnchor:"middle",verticalAnchor:"middle"}},x1e=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:s,y:a,width:o,height:l}=e,c=l>=0?1:-1,u=c*n,h=c>0?"end":"start",p=c>0?"start":"end",f=o>=0?1:-1,y=f*n,g=f>0?"end":"start",w=f>0?"start":"end";if(i==="top"){var m={x:s+o/2,y:a-c*n,textAnchor:"middle",verticalAnchor:h};return jn(jn({},m),r?{height:Math.max(a-r.y,0),width:o}:{})}if(i==="bottom"){var v={x:s+o/2,y:a+l+u,textAnchor:"middle",verticalAnchor:p};return jn(jn({},v),r?{height:Math.max(r.y+r.height-(a+l),0),width:o}:{})}if(i==="left"){var x={x:s-y,y:a+l/2,textAnchor:g,verticalAnchor:"middle"};return jn(jn({},x),r?{width:Math.max(x.x-r.x,0),height:l}:{})}if(i==="right"){var E={x:s+o+y,y:a+l/2,textAnchor:w,verticalAnchor:"middle"};return jn(jn({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:l}:{})}var N=r?{width:o,height:l}:{};return i==="insideLeft"?jn({x:s+y,y:a+l/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideRight"?jn({x:s+o-y,y:a+l/2,textAnchor:g,verticalAnchor:"middle"},N):i==="insideTop"?jn({x:s+o/2,y:a+u,textAnchor:"middle",verticalAnchor:p},N):i==="insideBottom"?jn({x:s+o/2,y:a+l-u,textAnchor:"middle",verticalAnchor:h},N):i==="insideTopLeft"?jn({x:s+y,y:a+u,textAnchor:w,verticalAnchor:p},N):i==="insideTopRight"?jn({x:s+o-y,y:a+u,textAnchor:g,verticalAnchor:p},N):i==="insideBottomLeft"?jn({x:s+y,y:a+l-u,textAnchor:w,verticalAnchor:h},N):i==="insideBottomRight"?jn({x:s+o-y,y:a+l-u,textAnchor:g,verticalAnchor:h},N):i&&typeof i=="object"&&(yt(i.x)||mh(i.x))&&(yt(i.y)||mh(i.y))?jn({x:s+Ca(i.x,o),y:a+Ca(i.y,l),textAnchor:"end",verticalAnchor:"end"},N):jn({x:s+o/2,y:a+l/2,textAnchor:"middle",verticalAnchor:"middle"},N)},_1e=t=>"cx"in t&&yt(t.cx);function Vs(t){var{offset:e=5}=t,r=iL(t,d1e),n=jn({offset:e},r),{viewBox:i,position:s,value:a,children:o,content:l,className:c="",textBreakAll:u,labelRef:h}=n,p=gP(),f=i||p;if(!f||bn(a)&&bn(o)&&!R.isValidElement(l)&&typeof l!="function")return null;if(R.isValidElement(l)){var y=iL(n,h1e);return R.cloneElement(l,y)}var g;if(typeof l=="function"){if(g=R.createElement(l,n),R.isValidElement(g))return g}else g=y1e(n);var w=_1e(f),m=tr(n,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return w1e(n,g,m);var v=w?b1e(n):x1e(n,f);return R.createElement(R2,tc({ref:h,className:rr("recharts-label",c)},m,v,{breakAll:u}),g)}Vs.displayName="Label";var AW=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:o,innerRadius:l,outerRadius:c,x:u,y:h,top:p,left:f,width:y,height:g,clockWise:w,labelViewBox:m}=t;if(m)return m;if(yt(y)&&yt(g)){if(yt(u)&&yt(h))return{x:u,y:h,width:y,height:g};if(yt(p)&&yt(f))return{x:p,y:f,width:y,height:g}}if(yt(u)&&yt(h))return{x:u,y:h,width:0,height:0};if(yt(e)&&yt(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:l||0,outerRadius:c||o||a||0,clockWise:w};if(t.viewBox)return t.viewBox},E1e=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?R.createElement(Vs,tc({key:"label-implicit"},n)):bl(t)?R.createElement(Vs,tc({key:"label-implicit",value:t},n)):R.isValidElement(t)?t.type===Vs?R.cloneElement(t,jn({key:"label-implicit"},n)):R.createElement(Vs,tc({key:"label-implicit",content:t},n)):TC(t)?R.createElement(Vs,tc({key:"label-implicit",content:t},n)):t&&typeof t=="object"?R.createElement(Vs,tc({},t,{key:"label-implicit"},n)):null},A1e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:s}=e,a=AW(e),o=Xx(i,Vs).map((c,u)=>R.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)}));if(!n)return o;var l=E1e(e.label,r||a,s);return[l,...o]};Vs.parseViewBox=AW;Vs.renderCallByParent=A1e;var SW={},NW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(NW);var TW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(TW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NW,r=TW,n=e2;function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(SW);var S1e=SW.last;const N1e=So(S1e);var T1e=["valueAccessor"],P1e=["data","dataKey","clockWise","id","textBreakAll"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pb.apply(null,arguments)}function aL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(r),!0).forEach(function(n){C1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C1e(t,e,r){return(e=k1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k1e(t){var e=I1e(t,"string");return typeof e=="symbol"?e:e+""}function I1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lL(t,e){if(t==null)return{};var r,n,i=j1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function j1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var O1e=t=>Array.isArray(t.value)?N1e(t.value):t.value;function Ih(t){var{valueAccessor:e=O1e}=t,r=lL(t,T1e),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:o}=r,l=lL(r,P1e);return!n||!n.length?null:R.createElement(Ns,{className:"recharts-label-list"},n.map((c,u)=>{var h=bn(i)?e(c,u):an(c&&c.payload,i),p=bn(a)?{}:{id:"".concat(a,"-").concat(u)};return R.createElement(Vs,Pb({},tr(c,!0),l,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:o,viewBox:Vs.parseViewBox(bn(s)?c:oL(oL({},c),{},{clockWise:s})),key:"label-".concat(u),index:u}))}))}Ih.displayName="LabelList";function R1e(t,e){return t?t===!0?R.createElement(Ih,{key:"labelList-implicit",data:e}):R.isValidElement(t)||TC(t)?R.createElement(Ih,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?R.createElement(Ih,Pb({data:e},t,{key:"labelList-implicit"})):null:null}function L1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=Xx(n,Ih).map((a,o)=>R.cloneElement(a,{data:e,key:"labelList-".concat(o)}));if(!r)return i;var s=R1e(t.label,e);return[s,...i]}Ih.renderCallByParent=L1e;function ZN(){return ZN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZN.apply(null,arguments)}var PW=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=rr("recharts-dot",i);return e===+e&&r===+r&&n===+n?R.createElement("circle",ZN({},tr(t,!1),qT(t),{className:s,cx:e,cy:r,r:n})):null},CW=t=>t.graphicalItems.polarItems,D1e=Ue([xn,Ly],rC),PC=Ue([CW,_n,D1e],nC),M1e=Ue([PC],iC),CC=Ue([M1e,HP],sC),F1e=Ue([CC,_n,PC],aC),B1e=Ue([CC,_n,PC],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=an(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:an(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),cL=()=>{},U1e=Ue([_n,jq,cL,B1e,cL],cC),kW=Ue([_n,Ur,CC,F1e,Ry,xn,U1e],uC),$1e=Ue([kW,_n,Um],fC);Ue([_n,kW,$1e,xn],mC);var V1e={radiusAxis:{},angleAxis:{}},z1e=$a({name:"polarAxis",initialState:V1e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),q1e=z1e.reducer;function uL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(r),!0).forEach(function(n){W1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W1e(t,e,r){return(e=H1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H1e(t){var e=G1e(t,"string");return typeof e=="symbol"?e:e+""}function G1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kC=(t,e)=>e,K1e=[],IC=(t,e,r)=>(r==null?void 0:r.length)===0?K1e:r,IW=Ue([HP,kC,IC],(t,e,r)=>{var{chartData:n}=t,i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>dL(dL({},e.presentationProps),s.props))),i!=null)return i}),Y1e=Ue([IW,kC,IC],(t,e,r)=>{if(t!=null)return t.map((n,i)=>{var s,a=an(n,e.nameKey,e.name),o;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:h2(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),X1e=Ue([CW,kC],(t,e)=>{if(t.some(r=>r.type==="pie"&&e.dataKey===r.dataKey&&e.data===r.data))return e}),J1e=Ue([IW,X1e,IC,si],(t,e,r,n)=>{if(!(e==null||t==null))return zwe({offset:n,pieSettings:e,displayedData:t,cells:r})}),Q1e={countOfBars:0,cartesianItems:[],polarItems:[]},jW=$a({name:"graphicalItems",initialState:Q1e,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=pc(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=pc(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=pc(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addBar:mTe,removeBar:gTe,addCartesianGraphicalItem:Z1e,replaceCartesianGraphicalItem:ewe,removeCartesianGraphicalItem:twe,addPolarGraphicalItem:rwe,removePolarGraphicalItem:nwe}=jW.actions,iwe=jW.reducer;function hL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(r),!0).forEach(function(n){swe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function swe(t,e,r){return(e=awe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function awe(t){var e=owe(t,"string");return typeof e=="symbol"?e:e+""}function owe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lwe(t){var e=Xr(),r=R.useRef(null);return R.useEffect(()=>{var n=fL(fL({},t),{},{stackId:Mhe(t.stackId)});r.current===null?e(Z1e(n)):r.current!==n&&e(ewe({prev:r.current,next:n})),r.current=n},[e,t]),R.useEffect(()=>()=>{r.current&&(e(twe(r.current)),r.current=null)},[e]),null}function cwe(t){var e=Xr();return R.useEffect(()=>(e(rwe(t)),()=>{e(nwe(t))}),[e,t]),null}var OW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(OW);var uwe=OW.isPlainObject;const dwe=So(uwe);function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cb.apply(null,arguments)}var pL=(t,e,r,n,i)=>{var s=r-n,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+r,",").concat(e),a+="L ".concat(t+r-s/2,",").concat(e+i),a+="L ".concat(t+r-s/2-n,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},hwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fwe=t=>{var e=Po(t,hwe),r=R.useRef(),[n,i]=R.useState(-1);R.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,upperWidth:o,lowerWidth:l,height:c,className:u}=e,{animationEasing:h,animationDuration:p,animationBegin:f,isUpdateAnimationActive:y}=e;if(s!==+s||a!==+a||o!==+o||l!==+l||c!==+c||o===0&&l===0||c===0)return null;var g=rr("recharts-trapezoid",u);return y?R.createElement(Gh,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:c,x:s,y:a},to:{upperWidth:o,lowerWidth:l,height:c,x:s,y:a},duration:p,animationEasing:h,isActive:y},w=>{var{upperWidth:m,lowerWidth:v,height:x,x:E,y:N}=w;return R.createElement(Gh,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:p,easing:h},R.createElement("path",Cb({},tr(e,!0),{className:g,d:pL(E,N,m,v,x),ref:r})))}):R.createElement("g",null,R.createElement("path",Cb({},tr(e,!0),{className:g,d:pL(s,a,o,l,c)})))},pwe=["option","shapeType","propTransformer","activeClassName","isActive"];function mwe(t,e){if(t==null)return{};var r,n,i=gwe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gwe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function mL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(r),!0).forEach(function(n){ywe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ywe(t,e,r){return(e=vwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vwe(t){var e=wwe(t,"string");return typeof e=="symbol"?e:e+""}function wwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bwe(t,e){return kb(kb({},e),t)}function xwe(t,e){return t==="symbols"}function gL(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return R.createElement(dz,r);case"trapezoid":return R.createElement(fwe,r);case"sector":return R.createElement(pz,r);case"symbols":if(xwe(e))return R.createElement(XT,r);break;default:return null}}function _we(t){return R.isValidElement(t)?t.props:t}function Ewe(t){var{option:e,shapeType:r,propTransformer:n=bwe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=mwe(t,pwe),o;if(R.isValidElement(e))o=R.cloneElement(e,kb(kb({},a),_we(e)));else if(typeof e=="function")o=e(a);else if(dwe(e)&&typeof e!="boolean"){var l=n(e,a);o=R.createElement(gL,{shapeType:r,elementProps:l})}else{var c=a;o=R.createElement(gL,{shapeType:r,elementProps:c})}return s?R.createElement(Ns,{className:i},o):o}var Awe=(t,e)=>{var r=Xr();return(n,i)=>s=>{t==null||t(n,i,s),r(Gq({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},Swe=t=>{var e=Xr();return(r,n)=>i=>{t==null||t(r,n,i),e(vye())}},Nwe=(t,e)=>{var r=Xr();return(n,i)=>s=>{t==null||t(n,i,s),r(wye({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function RW(t){var{fn:e,args:r}=t,n=Xr(),i=Ps();return R.useEffect(()=>{if(!i){var s=e(r);return n(mye(s)),()=>{n(gye(s))}}},[e,r,n,i]),null}var LW=()=>{};function Twe(t){var{legendPayload:e}=t,r=Xr(),n=Ps();return R.useEffect(()=>n?LW:(r(tz(e)),()=>{r(rz(e))}),[r,n,e]),null}function Pwe(t){var{legendPayload:e}=t,r=Xr(),n=vt(Ur);return R.useEffect(()=>n!=="centric"&&n!=="radial"?LW:(r(tz(e)),()=>{r(rz(e))}),[r,n,e]),null}function DW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=R.useRef(em(e)),n=R.useRef(t);return n.current!==t&&(r.current=em(e),n.current=t),r.current}var Cwe=["onMouseEnter","onClick","onMouseLeave"];function kwe(t,e){if(t==null)return{};var r,n,i=Iwe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Iwe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function yL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(r),!0).forEach(function(n){L2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L2(t,e,r){return(e=jwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jwe(t){var e=Owe(t,"string");return typeof e=="symbol"?e:e+""}function Owe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yh.apply(null,arguments)}function Rwe(t){var e=R.useMemo(()=>tr(t,!1),[t]),r=R.useMemo(()=>Xx(t.children,O2),[t.children]),n=R.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),i=vt(s=>Y1e(s,n,r));return R.createElement(Pwe,{legendPayload:i})}function Lwe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:h2(o,e),hide:l,type:c,color:a,unit:""}}}var Dwe=(t,e)=>t>e?"start":t<e?"end":"middle",Mwe=(t,e,r)=>typeof e=="function"?e(t):Ca(e,r,r*.8),Fwe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,o=HV(s,a),l=i+Ca(t.cx,s,s/2),c=n+Ca(t.cy,a,a/2),u=Ca(t.innerRadius,o,0),h=Mwe(r,t.outerRadius,o),p=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:h,maxRadius:p}},Bwe=(t,e)=>{var r=$i(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Uwe=(t,e)=>{if(R.isValidElement(t))return R.cloneElement(t,e);if(typeof t=="function")return t(e);var r=rr("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return R.createElement(xP,Yh({},e,{type:"linear",className:r}))},$we=(t,e,r)=>{if(R.isValidElement(t))return R.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),R.isValidElement(n)))return n;var i=rr("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return R.createElement(R2,Yh({},e,{alignmentBaseline:"middle",className:i}),n)};function Vwe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var o=tr(r,!1),l=tr(i,!1),c=tr(s,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,h=e.map((p,f)=>{var y=(p.startAngle+p.endAngle)/2,g=Fn(p.cx,p.cy,p.outerRadius+u,y),w=sn(sn(sn(sn({},o),p),{},{stroke:"none"},l),{},{index:f,textAnchor:Dwe(g.x,p.cx)},g),m=sn(sn(sn(sn({},o),p),{},{fill:"none",stroke:p.fill},c),{},{index:f,points:[Fn(p.cx,p.cy,p.outerRadius,y),g],key:"line"});return R.createElement(Ns,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(f)},s&&Uwe(s,m),$we(i,w,an(p,a)))});return R.createElement(Ns,{className:"recharts-pie-labels"},h)}function MW(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=t,a=vt(um),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,u=kwe(i,Cwe),h=Awe(o,i.dataKey),p=Swe(c),f=Nwe(l,i.dataKey);return e==null?null:R.createElement(R.Fragment,null,e.map((y,g)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&e.length!==1)return null;var w=r&&String(g)===a,m=a?n:null,v=w?r:m,x=sn(sn({},y),{},{stroke:y.stroke,tabIndex:-1,[XV]:g,[JV]:i.dataKey});return R.createElement(Ns,Yh({tabIndex:-1,className:"recharts-pie-sector"},WT(u,y,g),{onMouseEnter:h(y,g),onMouseLeave:p(y,g),onClick:f(y,g),key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(g)}),R.createElement(Ewe,Yh({option:v,isActive:w,shapeType:"sector"},x)))}),R.createElement(Vwe,{sectors:e,props:i,showLabels:s}))}function zwe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:h}=r,p=Math.abs(r.minAngle),f=Bwe(o,l),y=Math.abs(f),g=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,w=n.filter(C=>an(C,c,0)!==0).length,m=(y>=360?w:w-1)*g,v=y-w*p-m,x=n.reduce((C,P)=>{var k=an(P,c,0);return C+(yt(k)?k:0)},0),E;if(x>0){var N;E=n.map((C,P)=>{var k=an(C,c,0),T=an(C,u,P),q=Fwe(r,s,C),M=(yt(k)?k:0)/x,A,I=sn(sn({},C),i&&i[P]&&i[P].props);P?A=N.endAngle+$i(f)*g*(k!==0?1:0):A=o;var j=A+$i(f)*((k!==0?p:0)+M*v),ne=(A+j)/2,pe=(q.innerRadius+q.outerRadius)/2,X=[{name:T,value:k,payload:I,dataKey:c,type:h}],ce=Fn(q.cx,q.cy,pe,ne);return N=sn(sn(sn(sn({},r.presentationProps),{},{percent:M,cornerRadius:a,name:T,tooltipPayload:X,midAngle:ne,middleRadius:pe,tooltipPosition:ce},I),q),{},{value:an(C,c),startAngle:A,endAngle:j,payload:I,paddingAngle:$i(f)*g}),N})}return E}function qwe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:h}=e,p=DW(e,"recharts-pie-"),f=r.current,[y,g]=R.useState(!0),w=R.useCallback(()=>{typeof h=="function"&&h(),g(!1)},[h]),m=R.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return R.createElement(Gh,{begin:s,duration:a,isActive:i,easing:o,from:{t:0},to:{t:1},onAnimationStart:m,onAnimationEnd:w,key:p},v=>{var{t:x}=v,E=[],N=n&&n[0],C=N.startAngle;return n.forEach((P,k)=>{var T=f&&f[k],q=k>0?cd(P,"paddingAngle",0):0;if(T){var M=oh(T.endAngle-T.startAngle,P.endAngle-P.startAngle),A=sn(sn({},P),{},{startAngle:C+q,endAngle:C+M(x)+q});E.push(A),C=A.endAngle}else{var{endAngle:I,startAngle:j}=P,ne=oh(0,I-j),pe=ne(x),X=sn(sn({},P),{},{startAngle:C+q,endAngle:C+pe+q});E.push(X),C=X.endAngle}}),r.current=E,R.createElement(Ns,null,R.createElement(MW,{sectors:E,activeShape:l,inactiveShape:c,allOtherPieProps:e,showLabels:!y}))})}function Wwe(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,s=R.useRef(null),a=s.current;return r&&e&&e.length&&(!a||a!==e)?R.createElement(qwe,{props:t,previousSectorsRef:s}):R.createElement(MW,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Hwe(t){var{hide:e,className:r,rootTabIndex:n}=t,i=rr("recharts-pie",r);return e?null:R.createElement(Ns,{tabIndex:n,className:i},R.createElement(Wwe,t))}var FW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Lm.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Gwe(t){var e=Po(t,FW),r=R.useMemo(()=>Xx(t.children,O2),[t.children]),n=tr(e,!1),i=R.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:n}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,n]),s=vt(a=>J1e(a,i,r));return R.createElement(R.Fragment,null,R.createElement(RW,{fn:Lwe,args:sn(sn({},e),{},{sectors:s})}),R.createElement(Hwe,Yh({},e,{sectors:s})))}class jC extends R.PureComponent{constructor(){super(...arguments),L2(this,"id",em("recharts-pie-"))}render(){return R.createElement(R.Fragment,null,R.createElement(cwe,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),R.createElement(Rwe,this.props),R.createElement(Gwe,this.props),this.props.children)}}L2(jC,"displayName","Pie");L2(jC,"defaultProps",FW);var Kwe=Ue([si],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Ywe=Ue([Kwe,jc,Oc],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),Xwe=t=>{var e=Ps();return vt(r=>k2(r,"xAxis",t,e))},Jwe=t=>{var e=Ps();return vt(r=>k2(r,"yAxis",t,e))},OC=()=>vt(Ywe),Qwe=()=>vt(ive);function vL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(r),!0).forEach(function(n){Zwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zwe(t,e,r){return(e=ebe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ebe(t){var e=tbe(t,"string");return typeof e=="symbol"?e:e+""}function tbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rbe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=wL(wL({index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},tr(i,!1)),qT(i)),o;return R.isValidElement(i)?o=R.cloneElement(i,a):typeof i=="function"?o=i(a):o=R.createElement(PW,a),R.createElement(Ns,{className:"recharts-active-dot"},o)};function nbe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,s=vt(um),a=Qwe();if(e==null||a==null)return null;var o=e.find(l=>a.includes(l.payload));return bn(o)?null:rbe({point:o,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}var ibe=["children"];function sbe(t,e){if(t==null)return{};var r,n,i=abe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function abe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var bL=()=>{},BW=R.createContext({addErrorBar:bL,removeErrorBar:bL}),obe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},UW=R.createContext(obe);function lbe(t){var{children:e}=t,r=sbe(t,ibe);return R.createElement(UW.Provider,{value:r},e)}var cbe=()=>R.useContext(UW),ube=t=>{var{children:e,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:s,data:a,stackId:o,hide:l,type:c,barSize:u}=t,[h,p]=R.useState([]),f=R.useCallback(w=>{p(m=>[...m,w])},[p]),y=R.useCallback(w=>{p(m=>m.filter(v=>v!==w))},[p]),g=Ps();return R.createElement(BW.Provider,{value:{addErrorBar:f,removeErrorBar:y}},R.createElement(lwe,{type:c,data:a,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:s,errorBars:h,stackId:o,hide:l,barSize:u,isPanorama:g}),e)};function dbe(t){var{addErrorBar:e,removeErrorBar:r}=R.useContext(BW);return R.useEffect(()=>(e(t),()=>{r(t)}),[e,r,t]),null}var hbe=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function $W(t,e,r){return(e=fbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fbe(t){var e=pbe(t,"string");return typeof e=="symbol"?e:e+""}function pbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ny.apply(null,arguments)}function mbe(t,e){if(t==null)return{};var r,n,i=gbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gbe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ybe(t){var{direction:e,width:r,dataKey:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o}=t,l=mbe(t,hbe),c=tr(l,!1),{data:u,dataPointFormatter:h,xAxisId:p,yAxisId:f,errorBarOffset:y}=cbe(),g=Xwe(p),w=Jwe(f);if((g==null?void 0:g.scale)==null||(w==null?void 0:w.scale)==null||u==null||e==="x"&&g.type!=="number")return null;var m=u.map(v=>{var{x,y:E,value:N,errorVal:C}=h(v,n,e);if(!C)return null;var P=[],k,T;if(Array.isArray(C)?[k,T]=C:k=T=C,e==="x"){var{scale:q}=g,M=E+y,A=M+r,I=M-r,j=q(N-k),ne=q(N+T);P.push({x1:ne,y1:A,x2:ne,y2:I}),P.push({x1:j,y1:M,x2:ne,y2:M}),P.push({x1:j,y1:A,x2:j,y2:I})}else if(e==="y"){var{scale:pe}=w,X=x+y,ce=X-r,ue=X+r,xe=pe(N-k),we=pe(N+T);P.push({x1:ce,y1:we,x2:ue,y2:we}),P.push({x1:X,y1:xe,x2:X,y2:we}),P.push({x1:ce,y1:xe,x2:ue,y2:xe})}var F="".concat(x+y,"px ").concat(E+y,"px");return R.createElement(Ns,ny({className:"recharts-errorBar",key:"bar-".concat(P.map(J=>"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)))},c),P.map(J=>{var se=i?{transformOrigin:"".concat(J.x1-5,"px")}:void 0;return R.createElement(Gh,{from:{transform:"scaleY(0)",transformOrigin:F},to:{transform:"scaleY(1)",transformOrigin:F},begin:s,easing:o,isActive:i,duration:a,key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2),style:{transformOrigin:F}},R.createElement("line",ny({},J,{style:se})))}))});return R.createElement(Ns,{className:"recharts-errorBars"},m)}var VW=R.createContext(void 0);function vbe(t){var e=R.useContext(VW);return t??e??"x"}function wbe(t){var{direction:e,children:r}=t;return R.createElement(VW.Provider,{value:e},r)}var zW={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function bbe(t){var e=vbe(t.direction),{width:r,isAnimationActive:n,animationBegin:i,animationDuration:s,animationEasing:a}=Po(t,zW);return R.createElement(R.Fragment,null,R.createElement(dbe,{dataKey:t.dataKey,direction:e}),R.createElement(ybe,ny({},t,{direction:e,width:r,isAnimationActive:n,animationBegin:i,animationDuration:s,animationEasing:a})))}class qW extends R.Component{render(){return R.createElement(bbe,this.props)}}$W(qW,"defaultProps",zW);$W(qW,"displayName","ErrorBar");function WW(t,e){var r,n,i=vt(c=>Lc(c,t)),s=vt(c=>Sd(c,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Fs.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Bs.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function xbe(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=OC(),{needClipX:s,needClipY:a,needClip:o}=WW(e,r);if(!o)return null;var{x:l,y:c,width:u,height:h}=i;return R.createElement("clipPath",{id:"clipPath-".concat(n)},R.createElement("rect",{x:s?l:l-u/2,y:a?c:c-h/2,width:s?u:u*2,height:a?h:h*2}))}var HW=t=>{var{chartData:e}=t,r=Xr(),n=Ps();return R.useEffect(()=>n?()=>{}:(r(WR(e)),()=>{r(WR(void 0))}),[e,r,n]),null},xL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_be=$a({name:"brush",initialState:xL,reducers:{setBrushSettings(t,e){return e.payload==null?xL:e.payload}}}),Ebe=_be.reducer;function Abe(t,e,r){return(e=Sbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sbe(t){var e=Nbe(t,"string");return typeof e=="symbol"?e:e+""}function Nbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class RC{static create(e){return new RC(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}Abe(RC,"EPS",1e-4);function Tbe(t){return(t%180+180)%180}var Pbe=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Tbe(i),a=s*Math.PI/180,o=Math.atan(n/r),l=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},Cbe={dots:[],areas:[],lines:[]},kbe=$a({name:"referenceElements",initialState:Cbe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=pc(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=pc(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=pc(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),Ibe=kbe.reducer,jbe=R.createContext(void 0),Obe=t=>{var{children:e}=t,[r]=R.useState("".concat(em("recharts"),"-clip")),n=OC();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return R.createElement(jbe.Provider,{value:r},R.createElement("defs",null,R.createElement("clipPath",{id:r},R.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function O_(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function GW(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Rbe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Pbe(n,r)}function Lbe(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function Ib(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function Dbe(t,e){return GW(t,e+1)}function Mbe(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,l=0,c=1,u=a,h=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:GW(n,c)};var g=l,w,m=()=>(w===void 0&&(w=r(y,g)),w),v=y.coordinate,x=l===0||Ib(t,v,m,u,o);x||(l=0,u=a,c+=1),x&&(u=v+t*(m()/2+i),l+=c)},p;c<=s.length;)if(p=h(),p)return p.v;return[]}function _L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(r),!0).forEach(function(n){Fbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fbe(t,e,r){return(e=Bbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bbe(t){var e=Ube(t,"string");return typeof e=="symbol"?e:e+""}function Ube(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $be(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,c=function(p){var f=s[p],y,g=()=>(y===void 0&&(y=r(f,p)),y);if(p===a-1){var w=t*(f.coordinate+t*g()/2-l);s[p]=f=Di(Di({},f),{},{tickCoord:w>0?f.coordinate-w*t:f.coordinate})}else s[p]=f=Di(Di({},f),{},{tickCoord:f.coordinate});var m=Ib(t,f.tickCoord,g,o,l);m&&(l=f.tickCoord-t*(g()/2+i),s[p]=Di(Di({},f),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return s}function Vbe(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:l,end:c}=e;if(s){var u=n[o-1],h=r(u,o-1),p=t*(u.coordinate+t*h/2-c);a[o-1]=u=Di(Di({},u),{},{tickCoord:p>0?u.coordinate-p*t:u.coordinate});var f=Ib(t,u.tickCoord,()=>h,l,c);f&&(c=u.tickCoord-t*(h/2+i),a[o-1]=Di(Di({},u),{},{isShow:!0}))}for(var y=s?o-1:o,g=function(v){var x=a[v],E,N=()=>(E===void 0&&(E=r(x,v)),E);if(v===0){var C=t*(x.coordinate-t*N()/2-l);a[v]=x=Di(Di({},x),{},{tickCoord:C<0?x.coordinate-C*t:x.coordinate})}else a[v]=x=Di(Di({},x),{},{tickCoord:x.coordinate});var P=Ib(t,x.tickCoord,N,l,c);P&&(l=x.tickCoord+t*(N()/2+i),a[v]=Di(Di({},x),{},{isShow:!0}))},w=0;w<y;w++)g(w);return a}function LC(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:c,unit:u,angle:h}=t;if(!i||!i.length||!n)return[];if(yt(l)||Lm.isSsr){var p;return(p=Dbe(i,yt(l)?l:0))!==null&&p!==void 0?p:[]}var f=[],y=o==="top"||o==="bottom"?"width":"height",g=u&&y==="width"?g0(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=(x,E)=>{var N=typeof c=="function"?c(x.value,E):x.value;return y==="width"?Rbe(g0(N,{fontSize:e,letterSpacing:r}),g,h):g0(N,{fontSize:e,letterSpacing:r})[y]},m=i.length>=2?$i(i[1].coordinate-i[0].coordinate):1,v=Lbe(s,m,y);return l==="equidistantPreserveStart"?Mbe(m,v,w,i,a):(l==="preserveStart"||l==="preserveStartEnd"?f=Vbe(m,v,w,i,a,l==="preserveStartEnd"):f=$be(m,v,w,i,a),f.filter(x=>x.isShow))}var zbe=["viewBox"],qbe=["viewBox"];function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gp.apply(null,arguments)}function EL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(r),!0).forEach(function(n){DC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AL(t,e){if(t==null)return{};var r,n,i=Wbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Wbe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function DC(t,e,r){return(e=Hbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hbe(t){var e=Gbe(t,"string");return typeof e=="symbol"?e:e+""}function Gbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nd extends R.Component{constructor(e){super(e),this.tickRefs=R.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=AL(e,zbe),s=this.props,{viewBox:a}=s,o=AL(s,qbe);return!O_(n,a)||!O_(i,o)||!O_(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:o,mirror:l,tickMargin:c}=this.props,u,h,p,f,y,g,w=l?-1:1,m=e.tickSize||o,v=yt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=h=e.coordinate,f=n+ +!l*s,p=f-w*m,g=p-w*c,y=v;break;case"left":p=f=e.coordinate,h=r+ +!l*i,u=h-w*m,y=u-w*c,g=v;break;case"right":p=f=e.coordinate,h=r+ +l*i,u=h+w*m,y=u+w*c,g=v;break;default:u=h=e.coordinate,f=n+ +l*s,p=f+w*m,g=p+w*c,y=v;break}return{line:{x1:u,y1:p,x2:h,y2:f},tick:{x:y,y:g}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o}=this.props,l=zn(zn(zn({},tr(this.props,!1)),tr(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var c=+(s==="top"&&!a||s==="bottom"&&a);l=zn(zn({},l),{},{x1:e,y1:r+c*i,x2:e+n,y2:r+c*i})}else{var u=+(s==="left"&&!a||s==="right"&&a);l=zn(zn({},l),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+i})}return R.createElement("line",gp({},l,{className:rr("recharts-cartesian-axis-line",cd(o,"className"))}))}static renderTickItem(e,r,n){var i,s=rr(r.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(e))i=R.cloneElement(e,zn(zn({},r),{},{className:s}));else if(typeof e=="function")i=e(zn(zn({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=rr(a,e.className)),i=R.createElement(R2,gp({},r,{className:a}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:o,unit:l}=this.props,c=LC(zn(zn({},this.props),{},{ticks:n}),e,r),u=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=tr(this.props,!1),f=tr(a,!1),y=zn(zn({},p),{},{fill:"none"},tr(i,!1)),g=c.map((w,m)=>{var{line:v,tick:x}=this.getTickLineCoord(w),E=zn(zn(zn(zn({textAnchor:u,verticalAnchor:h},p),{},{stroke:"none",fill:s},f),x),{},{index:m,payload:w,visibleTicksCount:c.length,tickFormatter:o});return R.createElement(Ns,gp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},WT(this.props,w,m)),i&&R.createElement("line",gp({},y,v,{className:rr("recharts-cartesian-axis-tick-line",cd(i,"className"))})),a&&Nd.renderTickItem(a,E,"".concat(typeof o=="function"?o(w.value,m):w.value).concat(l||"")))});return g.length>0?R.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:R.createElement(Ns,{className:rr("recharts-cartesian-axis",i),ref:o=>{if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var c=l[0];if(c){var u=window.getComputedStyle(c).fontSize,h=window.getComputedStyle(c).letterSpacing;(u!==this.state.fontSize||h!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),Vs.renderCallByParent(this.props))}}DC(Nd,"displayName","CartesianAxis");DC(Nd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Kbe=["x1","y1","x2","y2","key"],Ybe=["offset"],Xbe=["xAxisId","yAxisId"],Jbe=["xAxisId","yAxisId"];function SL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(r),!0).forEach(function(n){Qbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qbe(t,e,r){return(e=Zbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zbe(t){var e=exe(t,"string");return typeof e=="symbol"?e:e+""}function exe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wh.apply(null,arguments)}function jb(t,e){if(t==null)return{};var r,n,i=txe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function txe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var rxe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return R.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function KW(t,e){var r;if(R.isValidElement(t))r=R.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=e,l=jb(e,Kbe),c=tr(l,!1),u=jb(c,Ybe);r=R.createElement("line",wh({},u,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function nxe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var s=jb(t,Xbe),a=i.map((o,l)=>{var c=Bi(Bi({},s),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return KW(n,c)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function ixe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var s=jb(t,Jbe),a=i.map((o,l)=>{var c=Bi(Bi({},s),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return KW(n,c)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function sxe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var c=o.map(h=>Math.round(h+i-i)).sort((h,p)=>h-p);i!==c[0]&&c.unshift(0);var u=c.map((h,p)=>{var f=!c[p+1],y=f?i+a-h:c[p+1]-h;if(y<=0)return null;var g=p%e.length;return R.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:s,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function axe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:l}=t;if(!e||!r||!r.length)return null;var c=l.map(h=>Math.round(h+i-i)).sort((h,p)=>h-p);i!==c[0]&&c.unshift(0);var u=c.map((h,p)=>{var f=!c[p+1],y=f?i+a-h:c[p+1]-h;if(y<=0)return null;var g=p%r.length;return R.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:y,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var oxe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return GV(LC(Bi(Bi(Bi({},Nd.defaultProps),r),{},{ticks:KV(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},lxe=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return GV(LC(Bi(Bi(Bi({},Nd.defaultProps),r),{},{ticks:KV(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},cxe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function MC(t){var e=yP(),r=vP(),n=ZV(),i=Bi(Bi({},Po(t,cxe)),{},{x:yt(t.x)?t.x:n.left,y:yt(t.y)?t.y:n.top,width:yt(t.width)?t.width:n.width,height:yt(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:c,height:u,syncWithTicks:h,horizontalValues:p,verticalValues:f}=i,y=Ps(),g=vt(T=>MR(T,"xAxis",s,y)),w=vt(T=>MR(T,"yAxis",a,y));if(!yt(c)||c<=0||!yt(u)||u<=0||!yt(o)||o!==+o||!yt(l)||l!==+l)return null;var m=i.verticalCoordinatesGenerator||oxe,v=i.horizontalCoordinatesGenerator||lxe,{horizontalPoints:x,verticalPoints:E}=i;if((!x||!x.length)&&typeof v=="function"){var N=p&&p.length,C=v({yAxis:w?Bi(Bi({},w),{},{ticks:N?p:w.ticks}):void 0,width:e,height:r,offset:n},N?!0:h);m0(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(x=C)}if((!E||!E.length)&&typeof m=="function"){var P=f&&f.length,k=m({xAxis:g?Bi(Bi({},g),{},{ticks:P?f:g.ticks}):void 0,width:e,height:r,offset:n},P?!0:h);m0(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(E=k)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(rxe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),R.createElement(sxe,wh({},i,{horizontalPoints:x})),R.createElement(axe,wh({},i,{verticalPoints:E})),R.createElement(nxe,wh({},i,{offset:n,horizontalPoints:x,xAxis:g,yAxis:w})),R.createElement(ixe,wh({},i,{offset:n,verticalPoints:E,xAxis:g,yAxis:w})))}MC.displayName="CartesianGrid";var YW=(t,e,r,n)=>k2(t,"xAxis",e,n),XW=(t,e,r,n)=>$q(t,"xAxis",e,n),JW=(t,e,r,n)=>k2(t,"yAxis",r,n),QW=(t,e,r,n)=>$q(t,"yAxis",r,n),uxe=Ue([Ur,YW,JW,XW,QW],(t,e,r,n,i)=>_d(t,"xAxis")?NN(e,n,!1):NN(r,i,!1)),dxe=(t,e,r,n,i)=>i,hxe=Ue([bq,dxe],(t,e)=>{if(t.some(r=>r.type==="line"&&e.dataKey===r.dataKey&&e.data===r.data))return e}),fxe=Ue([Ur,YW,JW,XW,QW,hxe,uxe,Zz],(t,e,r,n,i,s,a,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(s==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null)){var{dataKey:h,data:p}=s,f;if(p!=null&&p.length>0?f=p:f=l==null?void 0:l.slice(c,u+1),f!=null)return jxe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:h,bandSize:a,displayedData:f})}}),pxe=["type","layout","connectNulls","needClip"],mxe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function ZW(t,e){if(t==null)return{};var r,n,i=gxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function NL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(r),!0).forEach(function(n){D2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D2(t,e,r){return(e=yxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yxe(t){var e=vxe(t,"string");return typeof e=="symbol"?e:e+""}function vxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(null,arguments)}var wxe=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:h2(r,e),payload:t}]};function bxe(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:h2(a,e),hide:o,type:t.tooltipType,color:t.stroke,unit:l}}}var eH=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function xxe(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var _xe=(t,e,r)=>{var n=r.reduce((h,p)=>h+p);if(!n)return eH(e,t);for(var i=Math.floor(t/n),s=t%n,a=e-t,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>s){o=[...r.slice(0,l),s-c];break}var u=o.length%2===0?[0,a]:[a];return[...xxe(r,i),...o,...u].map(h=>"".concat(h,"px")).join(", ")};function Exe(t,e){var r;if(R.isValidElement(t))r=R.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=rr("recharts-line-dot",typeof t!="boolean"?t.className:"");r=R.createElement(PW,dm({},e,{className:n}))}return r}function Axe(t,e){return t==null?!1:e?!0:t.length===1}function Sxe(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:s,needClip:a}=n;if(!Axe(r,i))return null;var o=C$(i),l=tr(n,!1),c=tr(i,!0),u=r.map((p,f)=>{var y=lo(lo(lo({key:"dot-".concat(f),r:3},l),c),{},{index:f,cx:p.x,cy:p.y,dataKey:s,value:p.value,payload:p.payload,points:r});return Exe(i,y)}),h={clipPath:a?"url(#clipPath-".concat(o?"":"dots-").concat(e,")"):null};return R.createElement(Ns,dm({className:"recharts-line-dots",key:"dots"},h),u)}function e4(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:s,showLabels:a}=t,{type:o,layout:l,connectNulls:c,needClip:u}=s,h=ZW(s,pxe),p=lo(lo({},tr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):null,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return R.createElement(R.Fragment,null,(n==null?void 0:n.length)>1&&R.createElement(xP,dm({},p,{pathRef:r})),R.createElement(Sxe,{points:n,clipPathId:e,props:s}),a&&Ih.renderCallByParent(s,n))}function Nxe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Txe(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:h,animateNewValues:p,width:f,height:y,onAnimationEnd:g,onAnimationStart:w}=r,m=i.current,v=DW(r,"recharts-line-"),[x,E]=R.useState(!1),N=R.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),C=R.useCallback(()=>{typeof w=="function"&&w(),E(!0)},[w]),P=Nxe(n.current),k=s.current;return R.createElement(Gh,{begin:c,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},onAnimationEnd:N,onAnimationStart:C,key:v},T=>{var{t:q}=T,M=oh(k,P+k),A=Math.min(M(q),P),I;if(o){var j="".concat(o).split(/[,\s]+/gim).map(X=>parseFloat(X));I=_xe(A,P,j)}else I=eH(P,A);if(m){var ne=m.length/a.length,pe=q===1?a:a.map((X,ce)=>{var ue=Math.floor(ce*ne);if(m[ue]){var xe=m[ue],we=oh(xe.x,X.x),F=oh(xe.y,X.y);return lo(lo({},X),{},{x:we(q),y:F(q)})}if(p){var J=oh(f*2,X.x),se=oh(y/2,X.y);return lo(lo({},X),{},{x:J(q),y:se(q)})}return lo(lo({},X),{},{x:X.x,y:X.y})});return i.current=pe,R.createElement(e4,{props:r,points:pe,clipPathId:e,pathRef:n,showLabels:!x,strokeDasharray:I})}return q>0&&P>0&&(i.current=a,s.current=A),R.createElement(e4,{props:r,points:a,clipPathId:e,pathRef:n,showLabels:!x,strokeDasharray:I})})}function Pxe(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,s=R.useRef(null),a=R.useRef(0),o=R.useRef(null),l=s.current;return i&&n&&n.length&&l!==n?R.createElement(Txe,{props:r,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:o}):R.createElement(e4,{props:r,points:n,clipPathId:e,pathRef:o,showLabels:!0})}var Cxe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:an(t.payload,e)});class kxe extends R.Component{constructor(){super(...arguments),D2(this,"id",em("recharts-line-"))}render(){var e,{hide:r,dot:n,points:i,className:s,xAxisId:a,yAxisId:o,top:l,left:c,width:u,height:h,id:p,needClip:f,layout:y}=this.props;if(r)return null;var g=rr("recharts-line",s),w=bn(p)?this.id:p,{r:m=3,strokeWidth:v=2}=(e=tr(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},x=C$(n),E=m*2+v;return R.createElement(R.Fragment,null,R.createElement(Ns,{className:g},f&&R.createElement("defs",null,R.createElement(xbe,{clipPathId:w,xAxisId:a,yAxisId:o}),!x&&R.createElement("clipPath",{id:"clipPath-dots-".concat(w)},R.createElement("rect",{x:c-E/2,y:l-E/2,width:u+E,height:h+E}))),R.createElement(Pxe,{props:this.props,clipPathId:w}),R.createElement(wbe,{direction:y==="horizontal"?"y":"x"},R.createElement(lbe,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:Cxe,errorBarOffset:0},this.props.children))),R.createElement(nbe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var tH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Lm.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Ixe(t){var e=Po(t,tH),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:h,legendType:p,xAxisId:f,yAxisId:y}=e,g=ZW(e,mxe),{needClip:w}=WW(f,y),{height:m,width:v,x,y:E}=OC(),N=wP(),C=Ps(),P=R.useMemo(()=>({dataKey:t.dataKey,data:t.data}),[t.dataKey,t.data]),k=vt(T=>fxe(T,f,y,C,P));return N!=="horizontal"&&N!=="vertical"?null:R.createElement(kxe,dm({},g,{connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:u,hide:c,label:h,legendType:p,xAxisId:f,yAxisId:y,points:k,layout:N,height:m,width:v,left:x,top:E,needClip:w}))}function jxe(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:l}=t;return l.map((c,u)=>{var h=an(c,a);return e==="horizontal"?{x:TO({axis:r,ticks:i,bandSize:o,entry:c,index:u}),y:bn(h)?null:n.scale(h),value:h,payload:c}:{x:bn(h)?null:r.scale(h),y:TO({axis:n,ticks:s,bandSize:o,entry:c,index:u}),value:h,payload:c}})}class jh extends R.PureComponent{render(){return R.createElement(ube,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},R.createElement(Twe,{legendPayload:wxe(this.props)}),R.createElement(RW,{fn:bxe,args:this.props}),R.createElement(Ixe,this.props))}}D2(jh,"displayName","Line");D2(jh,"defaultProps",tH);function TL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(r),!0).forEach(function(n){Oxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oxe(t,e,r){return(e=Rxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rxe(t){var e=Lxe(t,"string");return typeof e=="symbol"?e:e+""}function Lxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dxe={xAxis:{},yAxis:{},zAxis:{}},rH=$a({name:"cartesianAxis",initialState:Dxe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=PL(PL({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Mxe,removeXAxis:Fxe,addYAxis:Bxe,removeYAxis:Uxe,addZAxis:yTe,removeZAxis:vTe,updateYAxisWidth:$xe}=rH.actions,Vxe=rH.reducer,zxe=["children"],qxe=["dangerouslySetInnerHTML","ticks"];function nH(t,e,r){return(e=Wxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wxe(t){var e=Hxe(t,"string");return typeof e=="symbol"?e:e+""}function Hxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t4(){return t4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t4.apply(null,arguments)}function iH(t,e){if(t==null)return{};var r,n,i=Gxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Gxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Kxe(t){var e=Xr(),r=R.useMemo(()=>{var s=iH(t,zxe);return s},[t]),n=vt(s=>Lc(s,r.id)),i=r===n;return R.useEffect(()=>(e(Mxe(r)),()=>{e(Fxe(r))}),[r,e]),i?t.children:null}var Yxe=t=>{var{xAxisId:e,className:r}=t,n=vt(QV),i=Ps(),s="xAxis",a=vt(h=>$m(h,s,e,i)),o=vt(h=>Uq(h,s,e,i)),l=vt(h=>eye(h,e)),c=vt(h=>sye(h,e));if(l==null||c==null)return null;var u=iH(t,qxe);return R.createElement(Nd,t4({},u,{scale:a,x:c.x,y:c.y,width:l.width,height:l.height,className:rr("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},Xxe=t=>{var e,r,n,i,s;return R.createElement(Kxe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},R.createElement(Yxe,t))};class M2 extends R.Component{render(){return R.createElement(Xxe,this.props)}}nH(M2,"displayName","XAxis");nH(M2,"defaultProps",{allowDataOverflow:Fs.allowDataOverflow,allowDecimals:Fs.allowDecimals,allowDuplicatedCategory:Fs.allowDuplicatedCategory,height:Fs.height,hide:!1,mirror:Fs.mirror,orientation:Fs.orientation,padding:Fs.padding,reversed:Fs.reversed,scale:Fs.scale,tickCount:Fs.tickCount,type:Fs.type,xAxisId:0});var Jxe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(u=>{if(u){var h=u.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+s,c=a+l+o+(r?n:0);return Math.round(c)}return 0},Qxe=["dangerouslySetInnerHTML","ticks"];function sH(t,e,r){return(e=Zxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zxe(t){var e=e2e(t,"string");return typeof e=="symbol"?e:e+""}function e2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r4(){return r4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r4.apply(null,arguments)}function t2e(t,e){if(t==null)return{};var r,n,i=r2e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function r2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function n2e(t){var e=Xr();return R.useEffect(()=>(e(Bxe(t)),()=>{e(Uxe(t))}),[t,e]),null}var i2e=t=>{var e,{yAxisId:r,className:n,width:i,label:s}=t,a=R.useRef(null),o=R.useRef(null),l=vt(QV),c=Ps(),u=Xr(),h="yAxis",p=vt(m=>$m(m,h,r,c)),f=vt(m=>oye(m,r)),y=vt(m=>aye(m,r)),g=vt(m=>Uq(m,h,r,c));if(R.useLayoutEffect(()=>{var m;if(!(i!=="auto"||!f||TC(s)||R.isValidElement(s))){var v=a.current,x=v==null||(m=v.tickRefs)===null||m===void 0?void 0:m.current,{tickSize:E,tickMargin:N}=v.props,C=Jxe({ticks:x,label:o.current,labelGapWithTick:5,tickSize:E,tickMargin:N});Math.round(f.width)!==Math.round(C)&&u($xe({id:r,width:C}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,f==null?void 0:f.width,f,u,s,r,i]),f==null||y==null)return null;var w=t2e(t,Qxe);return R.createElement(Nd,r4({},w,{ref:a,labelRef:o,scale:p,x:y.x,y:y.y,width:f.width,height:f.height,className:rr("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:g}))},s2e=t=>{var e,r,n,i,s;return R.createElement(R.Fragment,null,R.createElement(n2e,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),R.createElement(i2e,t))},a2e={allowDataOverflow:Bs.allowDataOverflow,allowDecimals:Bs.allowDecimals,allowDuplicatedCategory:Bs.allowDuplicatedCategory,hide:!1,mirror:Bs.mirror,orientation:Bs.orientation,padding:Bs.padding,reversed:Bs.reversed,scale:Bs.scale,tickCount:Bs.tickCount,type:Bs.type,width:Bs.width,yAxisId:0};class F2 extends R.Component{render(){return R.createElement(s2e,this.props)}}sH(F2,"displayName","YAxis");sH(F2,"defaultProps",a2e);var o2e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=R;function l2e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var c2e=typeof Object.is=="function"?Object.is:l2e,u2e=Uy.useSyncExternalStore,d2e=Uy.useRef,h2e=Uy.useEffect,f2e=Uy.useMemo,p2e=Uy.useDebugValue;o2e.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=d2e(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=f2e(function(){function l(f){if(!c){if(c=!0,u=f,f=n(f),i!==void 0&&a.hasValue){var y=a.value;if(i(y,f))return h=y}return h=f}if(y=h,c2e(u,f))return y;var g=n(f);return i!==void 0&&i(y,g)?(u=f,y):(u=f,h=g)}var c=!1,u,h,p=r===void 0?null:r;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,r,n,i]);var o=u2e(t,s[0],s[1]);return h2e(function(){a.hasValue=!0,a.value=o},[o]),p2e(o),o};function m2e(t){t()}function g2e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){m2e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var CL={notify(){},get:()=>[]};function y2e(t,e){let r,n=CL,i=0,s=!1;function a(g){u();const w=n.subscribe(g);let m=!1;return()=>{m||(m=!0,w(),h())}}function o(){n.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return s}function u(){i++,r||(r=t.subscribe(l),n=g2e())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=CL)}function p(){s||(s=!0,u())}function f(){s&&(s=!1,h())}const y={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:f,getListeners:()=>n};return y}var v2e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w2e=v2e(),b2e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",x2e=b2e(),_2e=()=>w2e||x2e?R.useLayoutEffect:R.useEffect,E2e=_2e(),R_=Symbol.for("react-redux-context"),L_=typeof globalThis<"u"?globalThis:{};function A2e(){if(!R.createContext)return{};const t=L_[R_]??(L_[R_]=new Map);let e=t.get(R.createContext);return e||(e=R.createContext(null),t.set(R.createContext,e)),e}var S2e=A2e();function N2e(t){const{children:e,context:r,serverState:n,store:i}=t,s=R.useMemo(()=>{const l=y2e(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),a=R.useMemo(()=>i.getState(),[i]);E2e(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=r||S2e;return R.createElement(o.Provider,{value:s},e)}var T2e=N2e,P2e=(t,e)=>e,FC=Ue([P2e,Ur,y0e,oi,rW,Dc,dve,si],gve),BC=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},aH=Da("mouseClick"),oH=Cy();oH.startListening({actionCreator:aH,effect:(t,e)=>{var r=t.payload,n=FC(e.getState(),BC(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(bye({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var n4=Da("mouseMove"),lH=Cy();lH.startListening({actionCreator:n4,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=vC(n,n.tooltip.settings.shared),s=FC(n,BC(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(Yq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Kq()))}});function C2e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var kL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},cH=$a({name:"rootProps",initialState:kL,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:kL.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),k2e=cH.reducer,{updateOptions:I2e}=cH.actions,uH=$a({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:j2e}=uH.actions,O2e=uH.reducer,dH=Da("keyDown"),hH=Da("focus"),UC=Cy();UC.startListening({actionCreator:dH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(wC(i,cf(r))),o=Dc(r);if(s==="Enter"){var l=Tb(r,"axis","hover",String(i.index));e.dispatch(HN({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=dye(r),u=c==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,p=a+h*u;if(!(o==null||p>=o.length||p<0)){var f=Tb(r,"axis","hover",String(p));e.dispatch(HN({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:f}))}}}}});UC.startListening({actionCreator:hH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=Tb(r,"axis","hover",String(s));e.dispatch(HN({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var ya=Da("externalEvent"),fH=Cy();fH.startListening({actionCreator:ya,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:tve(r),activeDataKey:Zye(r),activeIndex:um(r),activeLabel:sW(r),activeTooltipIndex:um(r),isTooltipActive:rve(r)};t.payload.handler(n,t.payload.reactEvent)}}});var R2e=Ue([Vm],t=>t.tooltipItemPayloads),L2e=Ue([R2e,By,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),pH=Da("touchMove"),mH=Cy();mH.startListening({actionCreator:pH,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=vC(n,n.tooltip.settings.shared);if(i==="axis"){var s=FC(n,BC({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(Yq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(XV),u=(a=l.getAttribute(JV))!==null&&a!==void 0?a:void 0,h=L2e(e.getState(),c,u);e.dispatch(Gq({activeDataKey:u,activeIndex:c,activeCoordinate:h}))}}});var D2e=EV({brush:Ebe,cartesianAxis:Vxe,chartData:Ive,graphicalItems:iwe,layout:yhe,legend:rfe,options:Nve,polarAxis:q1e,polarOptions:O2e,referenceElements:Ibe,rootProps:k2e,tooltip:xye}),M2e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Vde({reducer:D2e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([oH.middleware,lH.middleware,UC.middleware,fH.middleware,mH.middleware]),devTools:{serialize:{replacer:C2e},name:"recharts-".concat(r)}})};function gH(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Ps(),s=R.useRef(null);if(i)return r;s.current==null&&(s.current=M2e(e,n));var a=aP;return R.createElement(T2e,{context:a,store:s.current},r)}function yH(t){var{layout:e,width:r,height:n,margin:i}=t,s=Xr(),a=Ps();return R.useEffect(()=>{a||(s(phe(e)),s(mhe({width:r,height:n})),s(fhe(i)))},[s,a,e,r,n,i]),null}function vH(t){var e=Xr();return R.useEffect(()=>{e(I2e(t))},[e,t]),null}var F2e=["children"];function B2e(t,e){if(t==null)return{};var r,n,i=U2e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function U2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ob.apply(null,arguments)}var $2e={width:"100%",height:"100%"},V2e=R.forwardRef((t,e)=>{var r=yP(),n=vP(),i=nz();if(!sm(r)||!sm(n))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,c,u;return typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0,R.createElement(HT,Ob({},a,{title:o,desc:l,role:u,tabIndex:c,width:r,height:n,style:$2e,ref:e}),s)}),z2e=t=>{var{children:e}=t,r=vt(m2);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return R.createElement(HT,{width:n,height:i,x:a,y:s},e)},IL=R.forwardRef((t,e)=>{var{children:r}=t,n=B2e(t,F2e),i=Ps();return i?R.createElement(z2e,null,r):R.createElement(V2e,Ob({ref:e},n),r)});function q2e(){var t=Xr(),[e,r]=R.useState(null),n=vt(qhe);return R.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Ao(s)&&s!==n&&t(ghe(s))}},[e,t,n]),r}function jL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(r),!0).forEach(function(n){H2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H2e(t,e,r){return(e=G2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G2e(t){var e=K2e(t,"string");return typeof e=="symbol"?e:e+""}function K2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y2e=R.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:h,onMouseUp:p,onTouchEnd:f,onTouchMove:y,onTouchStart:g,style:w,width:m}=t,v=Xr(),[x,E]=R.useState(null),[N,C]=R.useState(null);Rve();var P=q2e(),k=R.useCallback(F=>{P(F),typeof e=="function"&&e(F),E(F),C(F)},[P,e,E,C]),T=R.useCallback(F=>{v(aH(F)),v(ya({handler:s,reactEvent:F}))},[v,s]),q=R.useCallback(F=>{v(n4(F)),v(ya({handler:c,reactEvent:F}))},[v,c]),M=R.useCallback(F=>{v(Kq()),v(ya({handler:u,reactEvent:F}))},[v,u]),A=R.useCallback(F=>{v(n4(F)),v(ya({handler:h,reactEvent:F}))},[v,h]),I=R.useCallback(()=>{v(hH())},[v]),j=R.useCallback(F=>{v(dH(F.key))},[v]),ne=R.useCallback(F=>{v(ya({handler:a,reactEvent:F}))},[v,a]),pe=R.useCallback(F=>{v(ya({handler:o,reactEvent:F}))},[v,o]),X=R.useCallback(F=>{v(ya({handler:l,reactEvent:F}))},[v,l]),ce=R.useCallback(F=>{v(ya({handler:p,reactEvent:F}))},[v,p]),ue=R.useCallback(F=>{v(ya({handler:g,reactEvent:F}))},[v,g]),xe=R.useCallback(F=>{v(pH(F)),v(ya({handler:y,reactEvent:F}))},[v,y]),we=R.useCallback(F=>{v(ya({handler:f,reactEvent:F}))},[v,f]);return R.createElement(dW.Provider,{value:x},R.createElement(k$.Provider,{value:N},R.createElement("div",{className:rr("recharts-wrapper",n),style:W2e({position:"relative",cursor:"default",width:m,height:i},w),onClick:T,onContextMenu:ne,onDoubleClick:pe,onFocus:I,onKeyDown:j,onMouseDown:X,onMouseEnter:q,onMouseLeave:M,onMouseMove:A,onMouseUp:ce,onTouchEnd:we,onTouchMove:xe,onTouchStart:ue,ref:k},r)))}),X2e=["children","className","width","height","style","compact","title","desc"];function J2e(t,e){if(t==null)return{};var r,n,i=Q2e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Q2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var wH=R.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:s,style:a,compact:o,title:l,desc:c}=t,u=J2e(t,X2e),h=tr(u,!1);return o?R.createElement(IL,{otherAttributes:h,title:l,desc:c},r):R.createElement(Y2e,{className:n,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},R.createElement(IL,{otherAttributes:h,title:l,desc:c,ref:e},R.createElement(Obe,null,r)))}),Z2e=["width","height"];function i4(){return i4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i4.apply(null,arguments)}function e5e(t,e){if(t==null)return{};var r,n,i=t5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function t5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var r5e={top:5,right:5,bottom:5,left:5},n5e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:r5e,reverseStackOrder:!1,syncMethod:"index"},i5e=R.forwardRef(function(e,r){var n,i=Po(e.categoricalChartProps,n5e),{width:s,height:a}=i,o=e5e(i,Z2e);if(!sm(s)||!sm(a))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,categoricalChartProps:p}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return R.createElement(gH,{preloadedState:{options:f},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:l},R.createElement(HW,{chartData:p.data}),R.createElement(yH,{width:s,height:a,layout:i.layout,margin:i.margin}),R.createElement(vH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),R.createElement(wH,i4({},o,{width:s,height:a,ref:r})))}),s5e=["axis"],bH=R.forwardRef((t,e)=>R.createElement(i5e,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:s5e,tooltipPayloadSearcher:fW,categoricalChartProps:t,ref:e}));function a5e(t){var e=Xr();return R.useEffect(()=>{e(j2e(t))},[e,t]),null}var o5e=["width","height","layout"];function s4(){return s4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s4.apply(null,arguments)}function l5e(t,e){if(t==null)return{};var r,n,i=c5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function c5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var u5e={top:5,right:5,bottom:5,left:5},d5e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:u5e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},h5e=R.forwardRef(function(e,r){var n,i=Po(e.categoricalChartProps,d5e),{width:s,height:a,layout:o}=i,l=l5e(i,o5e);if(!sm(s)||!sm(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return R.createElement(gH,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:c},R.createElement(HW,{chartData:i.data}),R.createElement(yH,{width:s,height:a,layout:o,margin:i.margin}),R.createElement(vH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),R.createElement(a5e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),R.createElement(wH,s4({width:s,height:a},l,{ref:r})))}),f5e=["item"],p5e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},m5e=R.forwardRef((t,e)=>{var r=Po(t,p5e);return R.createElement(h5e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:f5e,tooltipPayloadSearcher:fW,categoricalChartProps:r,ref:e})});function g5e({data:t}){const e=r=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(r);return d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fluxo de Caixa"}),d.jsx("div",{className:"h-80",children:d.jsx(XN,{width:"100%",height:"100%",children:d.jsxs(bH,{data:t,children:[d.jsx(MC,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),d.jsx(M2,{dataKey:"month",stroke:"#6b7280",fontSize:12}),d.jsx(F2,{stroke:"#6b7280",fontSize:12,tickFormatter:e}),d.jsx(YN,{formatter:r=>[e(r),""],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #d1d5db",borderRadius:"8px"}}),d.jsx(g2,{}),d.jsx(jh,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:3,name:"Receitas",dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10b981",strokeWidth:2}}),d.jsx(jh,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:3,name:"Despesas",dot:{fill:"#ef4444",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#ef4444",strokeWidth:2}})]})})})]})}const xH=6048e5,y5e=864e5,OL=Symbol.for("constructDateFrom");function Fa(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&OL in t?t[OL](e):t instanceof Date?new t.constructor(e):new Date(e)}function qi(t,e){return Fa(e||t,t)}function a4(t,e,r){const n=qi(t,r==null?void 0:r.in);return isNaN(e)?Fa(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function _H(t,e,r){const n=qi(t,r==null?void 0:r.in);if(isNaN(e))return Fa(t,NaN);if(!e)return n;const i=n.getDate(),s=Fa(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const a=s.getDate();return i>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}let v5e={};function $y(){return v5e}function Zu(t,e){var o,l,c,u;const r=$y(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=qi(t,e==null?void 0:e.in),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Rb(t,e){return Zu(t,{...e,weekStartsOn:1})}function EH(t,e){const r=qi(t,e==null?void 0:e.in),n=r.getFullYear(),i=Fa(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=Rb(i),a=Fa(r,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Rb(a);return r.getTime()>=s.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function RL(t){const e=qi(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function B2(t,...e){const r=Fa.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Lb(t,e){const r=qi(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function w5e(t,e,r){const[n,i]=B2(r==null?void 0:r.in,t,e),s=Lb(n),a=Lb(i),o=+s-RL(s),l=+a-RL(a);return Math.round((o-l)/y5e)}function b5e(t,e){const r=EH(t,e),n=Fa(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Rb(n)}function AH(t,e,r){return a4(t,e*7,r)}function kg(t,e,r){const[n,i]=B2(r==null?void 0:r.in,t,e);return+Lb(n)==+Lb(i)}function x5e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _5e(t){return!(!x5e(t)&&typeof t!="number"||isNaN(+qi(t)))}function LL(t,e){const r=qi(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function E5e(t,e){const[r,n]=B2(t,e.start,e.end);return{start:r,end:n}}function DL(t,e){const{start:r,end:n}=E5e(e==null?void 0:e.in,t);let i=+r>+n;const s=i?+r:+n,a=i?n:r;a.setHours(0,0,0,0);let o=1;const l=[];for(;+a<=s;)l.push(Fa(r,a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return i?l.reverse():l}function ML(t,e){const r=qi(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function A5e(t,e){const r=qi(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function D_(t,e){var o,l,c,u;const r=$y(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=qi(t,e==null?void 0:e.in),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const S5e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},N5e=(t,e,r)=>{let n;const i=S5e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ip(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const T5e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P5e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},C5e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k5e={date:Ip({formats:T5e,defaultWidth:"full"}),time:Ip({formats:P5e,defaultWidth:"full"}),dateTime:Ip({formats:C5e,defaultWidth:"full"})},I5e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},j5e=(t,e,r,n)=>I5e[t];function tl(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const O5e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},R5e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},L5e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D5e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},M5e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},F5e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},B5e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},U5e={ordinalNumber:B5e,era:tl({values:O5e,defaultWidth:"wide"}),quarter:tl({values:R5e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:tl({values:L5e,defaultWidth:"wide"}),day:tl({values:D5e,defaultWidth:"wide"}),dayPeriod:tl({values:M5e,defaultWidth:"wide",formattingValues:F5e,defaultFormattingWidth:"wide"})};function rl(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?V5e(o,h=>h.test(a)):$5e(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function $5e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function V5e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function SH(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const z5e=/^(\d+)(th|st|nd|rd)?/i,q5e=/\d+/i,W5e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},H5e={any:[/^b/i,/^(a|c)/i]},G5e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},K5e={any:[/1/i,/2/i,/3/i,/4/i]},Y5e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},X5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},J5e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Q5e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Z5e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},e_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t_e={ordinalNumber:SH({matchPattern:z5e,parsePattern:q5e,valueCallback:t=>parseInt(t,10)}),era:rl({matchPatterns:W5e,defaultMatchWidth:"wide",parsePatterns:H5e,defaultParseWidth:"any"}),quarter:rl({matchPatterns:G5e,defaultMatchWidth:"wide",parsePatterns:K5e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rl({matchPatterns:Y5e,defaultMatchWidth:"wide",parsePatterns:X5e,defaultParseWidth:"any"}),day:rl({matchPatterns:J5e,defaultMatchWidth:"wide",parsePatterns:Q5e,defaultParseWidth:"any"}),dayPeriod:rl({matchPatterns:Z5e,defaultMatchWidth:"any",parsePatterns:e_e,defaultParseWidth:"any"})},r_e={code:"en-US",formatDistance:N5e,formatLong:k5e,formatRelative:j5e,localize:U5e,match:t_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n_e(t,e){const r=qi(t,e==null?void 0:e.in);return w5e(r,A5e(r))+1}function i_e(t,e){const r=qi(t,e==null?void 0:e.in),n=+Rb(r)-+b5e(r);return Math.round(n/xH)+1}function NH(t,e){var u,h,p,f;const r=qi(t,e==null?void 0:e.in),n=r.getFullYear(),i=$y(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(p=i.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=Fa((e==null?void 0:e.in)||t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Zu(a,e),l=Fa((e==null?void 0:e.in)||t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=Zu(l,e);return+r>=+o?n+1:+r>=+c?n:n-1}function s_e(t,e){var o,l,c,u;const r=$y(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=NH(t,e),s=Fa((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Zu(s,e)}function a_e(t,e){const r=qi(t,e==null?void 0:e.in),n=+Zu(r,e)-+s_e(r,e);return Math.round(n/xH)+1}function fr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const yu={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return fr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):fr(r+1,2)},d(t,e){return fr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return fr(t.getHours()%12||12,e.length)},H(t,e){return fr(t.getHours(),e.length)},m(t,e){return fr(t.getMinutes(),e.length)},s(t,e){return fr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return fr(i,e.length)}},Vf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},FL={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return yu.y(t,e)},Y:function(t,e,r,n){const i=NH(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return fr(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):fr(s,e.length)},R:function(t,e){const r=EH(t);return fr(r,e.length)},u:function(t,e){const r=t.getFullYear();return fr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return fr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return fr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return yu.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return fr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=a_e(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):fr(i,e.length)},I:function(t,e,r){const n=i_e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):fr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):yu.d(t,e)},D:function(t,e,r){const n=n_e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):fr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return fr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return fr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return fr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Vf.noon:n===0?i=Vf.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Vf.evening:n>=12?i=Vf.afternoon:n>=4?i=Vf.morning:i=Vf.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return yu.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):yu.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):fr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):fr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):yu.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):yu.s(t,e)},S:function(t,e){return yu.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return UL(n);case"XXXX":case"XX":return sh(n);case"XXXXX":case"XXX":default:return sh(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return UL(n);case"xxxx":case"xx":return sh(n);case"xxxxx":case"xxx":default:return sh(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+BL(n,":");case"OOOO":default:return"GMT"+sh(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+BL(n,":");case"zzzz":default:return"GMT"+sh(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return fr(n,e.length)},T:function(t,e,r){return fr(+t,e.length)}};function BL(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+fr(s,2)}function UL(t,e){return t%60===0?(t>0?"-":"+")+fr(Math.abs(t)/60,2):sh(t,e)}function sh(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=fr(Math.trunc(n/60),2),s=fr(n%60,2);return r+i+e+s}const $L=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},o_e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return $L(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",$L(n,e)).replace("{{time}}",TH(i,e))},l_e={p:TH,P:o_e},c_e=/^D+$/,u_e=/^Y+$/,d_e=["D","DD","YY","YYYY"];function h_e(t){return c_e.test(t)}function f_e(t){return u_e.test(t)}function p_e(t,e,r){const n=m_e(t,e,r);if(console.warn(n),d_e.includes(t))throw new RangeError(n)}function m_e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const g_e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v_e=/^'([^]*?)'?$/,w_e=/''/g,b_e=/[a-zA-Z]/;function $r(t,e,r){var u,h,p,f,y,g,w,m;const n=$y(),i=(r==null?void 0:r.locale)??n.locale??r_e,s=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((m=(w=n.locale)==null?void 0:w.options)==null?void 0:m.weekStartsOn)??0,o=qi(t,r==null?void 0:r.in);if(!_5e(o))throw new RangeError("Invalid time value");let l=e.match(y_e).map(v=>{const x=v[0];if(x==="p"||x==="P"){const E=l_e[x];return E(v,i.formatLong)}return v}).join("").match(g_e).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const x=v[0];if(x==="'")return{isToken:!1,value:x_e(v)};if(FL[x])return{isToken:!0,value:v};if(x.match(b_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const x=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&f_e(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&h_e(x))&&p_e(x,e,String(t));const E=FL[x[0]];return E(o,x,i.localize,c)}).join("")}function x_e(t){const e=t.match(v_e);return e?e[1].replace(w_e,"'"):t}function __e(t,e,r){const[n,i]=B2(r==null?void 0:r.in,t,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function E_e(t,e,r){return _H(t,-e,r)}function A_e(t,e,r){return AH(t,-e,r)}const S_e={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},N_e=(t,e,r)=>{let n;const i=S_e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},T_e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},P_e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},C_e={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k_e={date:Ip({formats:T_e,defaultWidth:"full"}),time:Ip({formats:P_e,defaultWidth:"full"}),dateTime:Ip({formats:C_e,defaultWidth:"full"})},I_e={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},j_e=(t,e,r,n)=>{const i=I_e[t];return typeof i=="function"?i(e):i},O_e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},R_e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},L_e={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},D_e={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},M_e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},F_e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},B_e=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"ª":r+"º"},U_e={ordinalNumber:B_e,era:tl({values:O_e,defaultWidth:"wide"}),quarter:tl({values:R_e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:tl({values:L_e,defaultWidth:"wide"}),day:tl({values:D_e,defaultWidth:"wide"}),dayPeriod:tl({values:M_e,defaultWidth:"wide",formattingValues:F_e,defaultFormattingWidth:"wide"})},$_e=/^(\d+)[ºªo]?/i,V_e=/\d+/i,z_e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},q_e={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},W_e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},H_e={any:[/1/i,/2/i,/3/i,/4/i]},G_e={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},K_e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Y_e={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},X_e={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},J_e={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},Q_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Z_e={ordinalNumber:SH({matchPattern:$_e,parsePattern:V_e,valueCallback:t=>parseInt(t,10)}),era:rl({matchPatterns:z_e,defaultMatchWidth:"wide",parsePatterns:q_e,defaultParseWidth:"any"}),quarter:rl({matchPatterns:W_e,defaultMatchWidth:"wide",parsePatterns:H_e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rl({matchPatterns:G_e,defaultMatchWidth:"wide",parsePatterns:K_e,defaultParseWidth:"any"}),day:rl({matchPatterns:Y_e,defaultMatchWidth:"wide",parsePatterns:X_e,defaultParseWidth:"any"}),dayPeriod:rl({matchPatterns:J_e,defaultMatchWidth:"any",parsePatterns:Q_e,defaultParseWidth:"any"})},Tr={code:"pt-BR",formatDistance:N_e,formatLong:k_e,formatRelative:j_e,localize:U_e,match:Z_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VL({title:t,items:e,type:r}){const n=s=>$r(new Date(s),"dd/MM/yyyy",{locale:Tr}),i=s=>s;return d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t}),d.jsx("div",{className:"space-y-3",children:e.length===0?d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum item encontrado"}):e.slice(0,5).map(s=>d.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[d.jsx("div",{className:"flex-1",children:r==="events"?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium text-gray-900",children:s.title}),d.jsxs("p",{className:"text-sm text-gray-500",children:[n(s.date)," às ",i(s.time)]}),s.client&&d.jsxs("p",{className:"text-xs text-gray-400",children:["Cliente: ",s.client]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium text-gray-900",children:s.type}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",s.client]}),d.jsxs("p",{className:"text-xs text-gray-400",children:["Criado em ",n(s.createdAt)]})]})}),r==="events"&&d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.status==="Concluído"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})]},s.id))})]})}class eEe{getCurrentUserId(){const e=pn.currentUser;if(!e)throw new Error("Usuário não autenticado");return e.uid}getUserCollection(e){const r=this.getCurrentUserId();return Ji(Rt,"userData",r,e)}async getProcesses(){try{return(await gi(mi(this.getUserCollection("processes"),Ql("createdAt","desc")))).docs.map(r=>{var n,i,s;return{id:r.id,...r.data(),createdAt:((s=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:s.toISOString())||r.data().createdAt}})}catch(e){return console.error("Erro ao buscar processos:",e),[]}}async getProcessById(e){var r,n,i;try{const s=this.getCurrentUserId(),a=ar(Rt,"userData",s,"processes",e),o=await ba(a);if(o.exists()){const l=o.data();return{id:o.id,...l,createdAt:((i=(n=(r=l.createdAt)==null?void 0:r.toDate)==null?void 0:n.call(r))==null?void 0:i.toISOString())||l.createdAt}}return null}catch(s){return console.error("Erro ao buscar processo:",s),null}}async saveProcess(e){try{const r={...e,createdAt:Dt.now()},n=await Yd(this.getUserCollection("processes"),r);return console.log("Processo salvo no Firestore:",n.id),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("Erro ao salvar processo:",r),null}}async updateProcess(e,r){try{const n=this.getCurrentUserId(),i=ar(Rt,"userData",n,"processes",e);return await Zo(i,{...r,updatedAt:Dt.now()}),console.log("Processo atualizado:",e),await this.getProcessById(e)}catch(n){return console.error("Erro ao atualizar processo:",n),null}}async deleteProcess(e){try{const r=this.getCurrentUserId(),n=ar(Rt,"userData",r,"processes",e);return await xu(n),console.log("Processo excluído:",e),!0}catch(r){return console.error("Erro ao excluir processo:",r),!1}}async getEvents(){try{return(await gi(mi(this.getUserCollection("events"),Ql("date","desc")))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Erro ao buscar eventos:",e),[]}}async saveEvent(e){try{const r=await Yd(this.getUserCollection("events"),e);return console.log("Evento salvo no Firestore:",r.id),{id:r.id,...e}}catch(r){return console.error("Erro ao salvar evento:",r),null}}async updateEvent(e,r){try{const n=this.getCurrentUserId(),i=ar(Rt,"userData",n,"events",e);await Zo(i,r),console.log("Evento atualizado:",e);const s=await ba(i);return s.exists()?{id:s.id,...s.data()}:null}catch(n){return console.error("Erro ao atualizar evento:",n),null}}async deleteEvent(e){try{const r=this.getCurrentUserId(),n=ar(Rt,"userData",r,"events",e);return await xu(n),console.log("Evento excluído:",e),!0}catch(r){return console.error("Erro ao excluir evento:",r),!1}}async getRevenues(){try{return(await gi(mi(this.getUserCollection("revenues"),Ql("date","desc")))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Erro ao buscar receitas:",e),[]}}async saveRevenue(e){try{const r=await Yd(this.getUserCollection("revenues"),e);return console.log("Receita salva no Firestore:",r.id),{id:r.id,...e}}catch(r){return console.error("Erro ao salvar receita:",r),null}}async updateRevenue(e,r){try{const n=this.getCurrentUserId(),i=ar(Rt,"userData",n,"revenues",e);await Zo(i,r),console.log("Receita atualizada:",e);const s=await ba(i);return s.exists()?{id:s.id,...s.data()}:null}catch(n){return console.error("Erro ao atualizar receita:",n),null}}async deleteRevenue(e){try{const r=this.getCurrentUserId(),n=ar(Rt,"userData",r,"revenues",e);return await xu(n),console.log("Receita excluída:",e),!0}catch(r){return console.error("Erro ao excluir receita:",r),!1}}async getExpenses(){try{return(await gi(mi(this.getUserCollection("expenses"),Ql("date","desc")))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Erro ao buscar despesas:",e),[]}}async saveExpense(e){try{const r=await Yd(this.getUserCollection("expenses"),e);return console.log("Despesa salva no Firestore:",r.id),{id:r.id,...e}}catch(r){return console.error("Erro ao salvar despesa:",r),null}}async updateExpense(e,r){try{const n=this.getCurrentUserId(),i=ar(Rt,"userData",n,"expenses",e);await Zo(i,r),console.log("Despesa atualizada:",e);const s=await ba(i);return s.exists()?{id:s.id,...s.data()}:null}catch(n){return console.error("Erro ao atualizar despesa:",n),null}}async deleteExpense(e){try{const r=this.getCurrentUserId(),n=ar(Rt,"userData",r,"expenses",e);return await xu(n),console.log("Despesa excluída:",e),!0}catch(r){return console.error("Erro ao excluir despesa:",r),!1}}async getDocuments(){try{return(await gi(mi(this.getUserCollection("documents"),Ql("createdAt","desc")))).docs.map(r=>{var n,i,s;return{id:r.id,...r.data(),createdAt:((s=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:s.toISOString())||r.data().createdAt}})}catch(e){return console.error("Erro ao buscar documentos:",e),[]}}async saveDocument(e){try{const r={...e,createdAt:Dt.now()},n=await Yd(this.getUserCollection("documents"),r);return console.log("Documento salvo no Firestore:",n.id),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("Erro ao salvar documento:",r),null}}async deleteDocument(e){try{const r=this.getCurrentUserId(),n=ar(Rt,"userData",r,"documents",e);return await xu(n),console.log("Documento excluído:",e),!0}catch(r){return console.error("Erro ao excluir documento:",r),!1}}async getLawyers(){try{return(await gi(mi(this.getUserCollection("lawyers"),Ql("fullName","asc")))).docs.map(r=>{var n,i,s;return{id:r.id,...r.data(),createdAt:((s=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:s.toISOString())||r.data().createdAt}})}catch(e){return console.error("Erro ao buscar advogados:",e),[]}}async saveLawyer(e){try{const r={...e,createdAt:Dt.now()},n=await Yd(this.getUserCollection("lawyers"),r);return console.log("Advogado salvo no Firestore:",n.id),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("Erro ao salvar advogado:",r),null}}async updateLawyer(e,r){var n,i,s;try{const a=this.getCurrentUserId(),o=ar(Rt,"userData",a,"lawyers",e);await Zo(o,r),console.log("Advogado atualizado:",e);const l=await ba(o);return l.exists()?{id:l.id,...l.data(),createdAt:((s=(i=(n=l.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:s.toISOString())||l.data().createdAt}:null}catch(a){return console.error("Erro ao atualizar advogado:",a),null}}async deleteLawyer(e){try{const r=this.getCurrentUserId(),n=ar(Rt,"userData",r,"lawyers",e);return await xu(n),console.log("Advogado excluído:",e),!0}catch(r){return console.error("Erro ao excluir advogado:",r),!1}}async getEmployees(){try{return(await gi(mi(this.getUserCollection("employees"),Ql("fullName","asc")))).docs.map(r=>{var n,i,s;return{id:r.id,...r.data(),createdAt:((s=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:s.toISOString())||r.data().createdAt}})}catch(e){return console.error("Erro ao buscar colaboradores:",e),[]}}async saveEmployee(e){try{const r={...e,createdAt:Dt.now()},n=await Yd(this.getUserCollection("employees"),r);return console.log("Colaborador salvo no Firestore:",n.id),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("Erro ao salvar colaborador:",r),null}}async updateEmployee(e,r){var n,i,s;try{const a=this.getCurrentUserId(),o=ar(Rt,"userData",a,"employees",e);await Zo(o,r),console.log("Colaborador atualizado:",e);const l=await ba(o);return l.exists()?{id:l.id,...l.data(),createdAt:((s=(i=(n=l.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:s.toISOString())||l.data().createdAt}:null}catch(a){return console.error("Erro ao atualizar colaborador:",a),null}}async deleteEmployee(e){try{const r=this.getCurrentUserId(),n=ar(Rt,"userData",r,"employees",e);return await xu(n),console.log("Colaborador excluído:",e),!0}catch(r){return console.error("Erro ao excluir colaborador:",r),!1}}async getFinancialSummary(){try{const[e,r]=await Promise.all([this.getRevenues(),this.getExpenses()]),n=e.reduce((o,l)=>o+l.amount,0),i=r.reduce((o,l)=>o+l.amount,0),s=n-i,a=this.generateMonthlyData(e,r);return{totalRevenue:n,totalExpenses:i,balance:s,monthlyData:a}}catch(e){return console.error("Erro ao calcular resumo financeiro:",e),{totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]}}}generateMonthlyData(e,r){const n=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],i=new Date,s=[];for(let a=5;a>=0;a--){const o=new Date(i.getFullYear(),i.getMonth()-a,1),l=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`,c=e.filter(f=>f.date.startsWith(l)),u=r.filter(f=>f.date.startsWith(l)),h=c.reduce((f,y)=>f+y.amount,0),p=u.reduce((f,y)=>f+y.amount,0);s.push({month:n[o.getMonth()],revenue:h,expenses:p})}return s}async getGeneralStats(){try{const[e,r,n,i,s]=await Promise.all([this.getProcesses(),this.getEvents(),this.getDocuments(),this.getLawyers(),this.getEmployees()]);return{totalProcesses:e.length,activeProcesses:e.filter(a=>a.status==="Em andamento").length,completedProcesses:e.filter(a=>a.status==="Concluído").length,totalEvents:r.length,pendingEvents:r.filter(a=>a.status==="Pendente").length,completedEvents:r.filter(a=>a.status==="Concluído").length,totalDocuments:n.length,totalLawyers:i.length,activeLawyers:i.filter(a=>a.status==="Ativo").length,totalEmployees:s.length,activeEmployees:s.filter(a=>a.status==="Ativo").length}}catch(e){return console.error("Erro ao calcular estatísticas:",e),{totalProcesses:0,activeProcesses:0,completedProcesses:0,totalEvents:0,pendingEvents:0,completedEvents:0,totalDocuments:0,totalLawyers:0,activeLawyers:0,totalEmployees:0,activeEmployees:0}}}}const rt=new eEe;function zL(){const[t,e]=R.useState([]),[r,n]=R.useState([]),[i,s]=R.useState([]),[a,o]=R.useState({totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]}),[l,c]=R.useState(!0),u=Im.getCurrentUser();R.useEffect(()=>{h()},[]);const h=async()=>{try{c(!0);const[w,m,v,x]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getDocuments(),rt.getFinancialSummary()]);e(w),n(m),s(v),o(x),console.log("Dados do dashboard carregados do Firestore:",{processes:w.length,events:m.length,documents:v.length,financialSummary:x})}catch(w){console.error("Erro ao carregar dados do dashboard:",w),e([]),n([]),s([]),o({totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]})}finally{c(!1)}};if(R.useEffect(()=>{const w=setInterval(h,12e4);return()=>clearInterval(w)},[]),l)return d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Carregando dashboard..."})]})})});const p=t.filter(w=>w.status==="Em andamento").length,f=t.filter(w=>w.status==="Concluído").length,y=r.filter(w=>w.status==="Pendente").length,g=i.length;return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Bem-vindo",u?`, ${u.officeName}`:"","!"]}),d.jsx("p",{className:"text-gray-600",children:"Visão geral do seu escritório de advocacia"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(d_,{title:"Receitas do Mês",amount:a.totalRevenue,type:"revenue",change:12.5}),d.jsx(d_,{title:"Despesas do Mês",amount:a.totalExpenses,type:"expense",change:-3.2}),d.jsx(d_,{title:"Saldo Atual",amount:a.balance,type:"balance",change:18.7})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsx(Vv,{title:"Processos Ativos",value:p,icon:Rx,color:"bg-blue-500",description:"Em andamento"}),d.jsx(Vv,{title:"Processos Concluídos",value:f,icon:wl,color:"bg-green-500",description:"Este mês"}),d.jsx(Vv,{title:"Próximos Compromissos",value:y,icon:Ox,color:"bg-amber-500",description:"Próximos 7 dias"}),d.jsx(Vv,{title:"Documentos Emitidos",value:g,icon:Rm,color:"bg-purple-500",description:"Este mês"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(g5e,{data:a.monthlyData}),d.jsxs("div",{className:"space-y-6",children:[d.jsx(VL,{title:"Próximos Compromissos",items:r.filter(w=>w.status==="Pendente").slice(0,5),type:"events"}),d.jsx(VL,{title:"Documentos Recentes",items:i.slice(0,5),type:"documents"})]})]})]})}function tEe({onNewProcess:t,onViewProcess:e,onEditProcess:r}){const[n,i]=R.useState([]),[s,a]=R.useState(""),[o,l]=R.useState("all"),[c,u]=R.useState(!0);R.useEffect(()=>{h()},[]);const h=async()=>{try{u(!0);const g=await rt.getProcesses();i(g),console.log(`${g.length} processos carregados`)}catch(g){console.error("Erro ao carregar processos:",g),alert("Erro ao carregar processos. Tente recarregar a página.")}finally{u(!1)}},p=async g=>{if(confirm("Tem certeza que deseja excluir este processo?"))try{await rt.deleteProcess(g)&&await h()}catch(w){console.error("Erro ao excluir processo:",w),alert("Erro ao excluir processo. Tente novamente.")}},f=n.filter(g=>{const w=g.name.toLowerCase().includes(s.toLowerCase())||g.client.toLowerCase().includes(s.toLowerCase())||g.processNumber.toLowerCase().includes(s.toLowerCase()),m=o==="all"||g.status===o;return w&&m}),y=g=>$r(new Date(g),"dd/MM/yyyy",{locale:Tr});return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Processos Jurídicos"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie todos os processos do escritório"})]}),d.jsxs("button",{onClick:t,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(go,{className:"w-5 h-5 mr-2"}),"Novo Processo"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(FT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar por nome, cliente ou número do processo...",value:s,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Lx,{className:"w-5 h-5 text-gray-400"}),d.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Todos os Status"}),d.jsx("option",{value:"Em andamento",children:"Em andamento"}),d.jsx("option",{value:"Concluído",children:"Concluído"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Processo"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advogado"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Início"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(g=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.name}),d.jsx("div",{className:"text-sm text-gray-500",children:g.processNumber})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.client}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.jsx("div",{children:g.responsibleLawyers&&g.responsibleLawyers.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"font-medium",children:g.responsibleLawyers[0]}),g.responsibleLawyers.length>1&&d.jsxs("div",{className:"text-xs text-gray-500",children:["+",g.responsibleLawyers.length-1," outros"]})]}):d.jsx("span",{className:"text-gray-400",children:"Não definido"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y(g.startDate)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g.status==="Em andamento"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:g.status})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsx("button",{onClick:()=>e(g),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Visualizar",children:d.jsx(Ta,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>r(g),className:"text-amber-600 hover:text-amber-900 p-1 rounded hover:bg-amber-50",title:"Editar",children:d.jsx(ss,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>p(g.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Excluir",children:d.jsx(Pa,{className:"w-4 h-4"})})]})})]},g.id))})]})}),c?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"Carregando processos..."})}):f.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:n.length===0?'Nenhum processo cadastrado. Clique em "Novo Processo" para começar.':"Nenhum processo encontrado com os filtros aplicados."})}):null]})]})}const rEe=Ba({name:lt().required("Nome do processo é obrigatório"),processNumber:lt().required("Número do processo é obrigatório"),client:lt().required("Cliente é obrigatório"),opposingParty:lt(),court:lt().required("Fórum/Comarca é obrigatório"),responsibleLawyers:Om().min(1,"Pelo menos um advogado responsável é obrigatório"),startDate:lt().required("Data de início é obrigatória"),status:lt().required("Status é obrigatório"),description:lt().required("Descrição é obrigatória"),notes:lt()});function nEe({process:t,onBack:e,onSave:r}){const[n,i]=R.useState((t==null?void 0:t.attachments)||[]),[s,a]=R.useState((t==null?void 0:t.responsibleLawyers)||[]),[o,l]=R.useState([]),[c,u]=R.useState(!1),[h,p]=R.useState(!0),{register:f,handleSubmit:y,formState:{errors:g},setValue:w}=Al({resolver:Sl(rEe),defaultValues:t||{status:"Em andamento"}});R.useEffect(()=>{m(),t&&(Object.keys(t).forEach(C=>{w(C,t[C])}),i(t.attachments||[]),a(t.responsibleLawyers||[]))},[t,w]);const m=async()=>{try{p(!0);const P=(await rt.getLawyers()).filter(k=>k.status==="Ativo");l(P)}catch(C){console.error("Erro ao carregar advogados:",C),alert("Erro ao carregar lista de advogados.")}finally{p(!1)}},v=C=>{a(P=>P.includes(C)?P.filter(k=>k!==C):[...P,C])},x=async C=>{if(!c)try{if(u(!0),t){const P=await rt.updateProcess(t.id,{...C,attachments:n,responsibleLawyers:s});P?(console.log("Processo atualizado com sucesso"),r(P)):alert("Erro ao atualizar processo")}else{const P=await rt.saveProcess({...C,attachments:n,responsibleLawyers:s});console.log("Novo processo criado com sucesso"),r(P)}}catch(P){console.error("Erro ao salvar processo:",P),alert("Erro ao salvar processo. Tente novamente.")}finally{u(!1)}},E=()=>{const C=prompt("Nome do arquivo anexado:");C&&C.trim()&&i([...n,C.trim()])},N=C=>{i(n.filter((P,k)=>k!==C))};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:c,children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Processo":"Novo Processo"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do processo":"Cadastre um novo processo jurídico"})]})]}),d.jsx("form",{onSubmit:y(x),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Processo *"}),d.jsx("input",{...f("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Execução Fiscal – José Santos",disabled:c}),g.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do Processo *"}),d.jsx("input",{...f("processNumber"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0001234-56.2023.8.02.0001",disabled:c}),g.processNumber&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.processNumber.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),d.jsx("input",{...f("client"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do cliente",disabled:c}),g.client&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.client.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parte Contrária"}),d.jsx("input",{...f("opposingParty"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome da parte contrária",disabled:c})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fórum/Comarca e Vara *"}),d.jsx("input",{...f("court"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Comarca de São Paulo - 1ª Vara Cível",disabled:c}),g.court&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.court.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advogados Responsáveis *"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto",children:h?d.jsx("p",{className:"text-gray-500 text-sm",children:"Carregando advogados..."}):o.length>0?d.jsx("div",{className:"space-y-2",children:o.map(C=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:s.includes(C.fullName),onChange:()=>v(C.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:c}),d.jsxs("span",{className:"text-sm text-gray-700",children:[C.fullName," - OAB: ",C.oab]})]},C.id))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum advogado disponível"})}),s.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Selecionados:"}),d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:s.map((C,P)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[C,d.jsx("button",{type:"button",onClick:()=>v(C),className:"ml-1 text-blue-600 hover:text-blue-800",disabled:c,children:d.jsx(Ra,{className:"w-3 h-3"})})]},P))})]}),s.length===0&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Pelo menos um advogado responsável é obrigatório"}),o.length===0&&!h&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:'Nenhum advogado ativo encontrado. Cadastre advogados na aba "Advogados".'})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Início *"}),d.jsx("input",{...f("startDate"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c}),g.startDate&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.startDate.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),d.jsxs("select",{...f("status"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c,children:[d.jsx("option",{value:"Em andamento",children:"Em andamento"}),d.jsx("option",{value:"Concluído",children:"Concluído"})]}),g.status&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.status.message})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalhes do Caso"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição Principal *"}),d.jsx("textarea",{...f("description"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descreva os detalhes principais do caso...",disabled:c}),g.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.description.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Anotações Complementares"}),d.jsx("textarea",{...f("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observações adicionais...",disabled:c})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentos Anexos"}),d.jsxs("button",{type:"button",onClick:E,className:"flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:c,children:[d.jsx(go,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),n.length>0?d.jsx("div",{className:"space-y-2",children:n.map((C,P)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsx("span",{className:"text-sm text-gray-700",children:C}),d.jsx("button",{type:"button",onClick:()=>N(P),className:"text-red-600 hover:text-red-800 disabled:opacity-50",disabled:c,children:d.jsx(Ra,{className:"w-4 h-4"})})]},P))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum documento anexado"})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",disabled:c,children:"Cancelar"}),d.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:c,children:[c?"Salvando...":t?"Atualizar":"Salvar"," Processo"]})]})]})})]})}function iEe({process:t,onBack:e,onEdit:r,onUpdate:n}){const[i,s]=R.useState(!1),a=l=>$r(new Date(l),"dd/MM/yyyy",{locale:Tr}),o=async()=>{if(confirm("Tem certeza que deseja marcar este processo como concluído?"))try{s(!0);const l=await rt.updateProcess(t.id,{status:"Concluído"});l&&n&&n(l)}catch(l){console.error("Erro ao atualizar status do processo:",l),alert("Erro ao atualizar processo. Tente novamente.")}finally{s(!1)}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:i,children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsx("p",{className:"text-gray-600",children:"Visualização detalhada do processo"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[t.status==="Em andamento"&&d.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",disabled:i,children:[d.jsx(wl,{className:"w-5 h-5 mr-2"}),i?"Atualizando...":"Marcar como Concluído"]}),d.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",disabled:i,children:[d.jsx(ss,{className:"w-5 h-5 mr-2"}),"Editar"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Processo"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Número do Processo"}),d.jsx("p",{className:"text-gray-900 font-mono",children:t.processNumber})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Status"}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${t.status==="Em andamento"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.status})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cliente"}),d.jsx("p",{className:"text-gray-900",children:t.client})]}),t.opposingParty&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Parte Contrária"}),d.jsx("p",{className:"text-gray-900",children:t.opposingParty})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Fórum/Comarca"}),d.jsx("p",{className:"text-gray-900",children:t.court})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Advogados Responsáveis"}),d.jsx("div",{children:t.responsibleLawyers&&t.responsibleLawyers.length>0?d.jsx("div",{className:"flex flex-wrap gap-1",children:t.responsibleLawyers.map((l,c)=>d.jsx("span",{className:"inline-flex px-2 py-1 text-sm bg-blue-100 text-blue-800 rounded-full",children:l},c))}):d.jsx("p",{className:"text-gray-400",children:"Não definido"})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Início"}),d.jsx("p",{className:"text-gray-900",children:a(t.startDate)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Criação"}),d.jsx("p",{className:"text-gray-900",children:a(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Descrição do Caso"}),d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.description})})]}),t.notes&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Anotações Complementares"}),d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.notes})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentos Anexos"}),t.attachments&&t.attachments.length>0?d.jsx("div",{className:"space-y-3",children:t.attachments.map((l,c)=>d.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Ule,{className:"w-5 h-5 text-gray-400 mr-3"}),d.jsx("span",{className:"text-gray-900",children:l})]},c))}):d.jsx("p",{className:"text-gray-500",children:"Nenhum documento anexado"})]})]})]})}const sEe=Ba({title:lt().required("Título é obrigatório"),date:lt().required("Data é obrigatória"),time:lt().required("Horário é obrigatório"),client:lt(),type:lt().required("Tipo é obrigatório"),location:lt(),notes:lt(),lawyers:Om().min(1,"Pelo menos um advogado é obrigatório"),processNumber:lt(),priority:lt()});function aEe({event:t,selectedDate:e,onBack:r,onSave:n}){const[i,s]=br.useState([]),[a,o]=br.useState((t==null?void 0:t.lawyers)||[]),[l,c]=br.useState([]),[u,h]=br.useState(!0),{register:p,handleSubmit:f,formState:{errors:y},setValue:g,watch:w}=Al({resolver:Sl(sEe),defaultValues:t||{type:"Reunião com Cliente",status:"Pendente",priority:"Média"}}),m=w("processNumber");R.useEffect(()=>{v()},[]),R.useEffect(()=>{t?(Object.keys(t).forEach(N=>{g(N,t[N])}),o(t.lawyers||[])):e&&g("date",$r(e,"yyyy-MM-dd"))},[t,e,g]);const v=async()=>{try{h(!0);const[N,C]=await Promise.all([rt.getLawyers(),rt.getProcesses()]),P=N.filter(k=>k.status==="Ativo");s(P),c(C),console.log(`${P.length} advogados ativos carregados do Firestore`),console.log(`${C.length} processos carregados do Firestore`)}catch(N){console.error("Erro ao carregar dados:",N)}finally{h(!1)}};R.useEffect(()=>{if(m){const N=l.find(C=>C.processNumber===m);N&&(g("client",N.client),N.responsibleLawyers&&o(N.responsibleLawyers))}},[m,l,g]);const x=N=>{o(C=>C.includes(N)?C.filter(P=>P!==N):[...C,N])},E=N=>{const C={id:(t==null?void 0:t.id)||Date.now().toString(),status:"Pendente",lawyers:a,...N};n(C)};return u?d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Carregando dados..."})]})})}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:r,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Evento":"Novo Evento"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do evento":"Cadastre um novo evento na agenda"})]})]}),d.jsx("form",{onSubmit:f(E),className:"max-w-2xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título do Evento *"}),d.jsx("input",{...p("title"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Audiência - João Silva"}),y.title&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.title.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...p("date"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.date.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horário *"}),d.jsx("input",{...p("time"),type:"time",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.time&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.time.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do Processo"}),d.jsxs("select",{...p("processNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Selecione um processo (opcional)"}),l.map(N=>d.jsxs("option",{value:N.processNumber,children:[N.processNumber," - ",N.name]},N.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente"}),d.jsx("input",{...p("client"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do cliente (opcional)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Compromisso *"}),d.jsxs("select",{...p("type"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"Audiência",children:"Audiência"}),d.jsx("option",{value:"Reunião com Cliente",children:"Reunião com Cliente"}),d.jsx("option",{value:"Prazo Processual",children:"Prazo Processual"}),d.jsx("option",{value:"Prazo Interno",children:"Prazo Interno"}),d.jsx("option",{value:"Ligação Importante",children:"Ligação Importante"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),y.type&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),d.jsxs("select",{...p("priority"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"Baixa",children:"Baixa"}),d.jsx("option",{value:"Média",children:"Média"}),d.jsx("option",{value:"Alta",children:"Alta"}),d.jsx("option",{value:"Urgente",children:"Urgente"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Local"}),d.jsx("input",{...p("location"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Fórum Central - Sala 205"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advogados Responsáveis *"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto",children:i.length>0?d.jsx("div",{className:"space-y-2",children:i.map(N=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:a.includes(N.fullName),onChange:()=>x(N.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[N.fullName," - OAB: ",N.oab]})]},N.id))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum advogado disponível"})}),a.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Selecionados:"}),d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.map((N,C)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[N,d.jsx("button",{type:"button",onClick:()=>x(N),className:"ml-1 text-blue-600 hover:text-blue-800",children:d.jsx(Ra,{className:"w-3 h-3"})})]},C))})]}),a.length===0&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Pelo menos um advogado é obrigatório"}),i.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:'Nenhum advogado ativo encontrado. Cadastre advogados na aba "Advogados".'})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),d.jsx("textarea",{...p("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observações adicionais sobre o evento..."})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t?"Atualizar":"Salvar"," Evento"]})]})]})})]})}const qL={Audiência:{color:"bg-red-100 text-red-800",icon:_$,iconColor:"text-red-600"},"Reunião com Cliente":{color:"bg-blue-100 text-blue-800",icon:Mx,iconColor:"text-blue-600"},"Prazo Processual":{color:"bg-amber-100 text-amber-800",icon:Sh,iconColor:"text-amber-600"},"Prazo Interno":{color:"bg-orange-100 text-orange-800",icon:Qp,iconColor:"text-orange-600"},"Ligação Importante":{color:"bg-green-100 text-green-800",icon:Dx,iconColor:"text-green-600"},Outro:{color:"bg-gray-100 text-gray-800",icon:Rm,iconColor:"text-gray-600"}},oEe={Baixa:"bg-green-100 text-green-800",Média:"bg-yellow-100 text-yellow-800",Alta:"bg-orange-100 text-orange-800",Urgente:"bg-red-100 text-red-800"};function lEe({event:t,onBack:e,onEdit:r,onDelete:n,onUpdate:i}){const s=h=>$r(new Date(h),"dd/MM/yyyy",{locale:Tr}),a=h=>h,o=async()=>{if(confirm("Tem certeza que deseja marcar este evento como concluído?"))try{const h=await rt.updateEvent(t.id,{status:"Concluído"});h&&i&&i(h)}catch(h){console.error("Erro ao atualizar status do evento:",h),alert("Erro ao atualizar evento. Tente novamente.")}},l=async()=>{if(confirm("Tem certeza que deseja marcar este evento como pendente?"))try{const h=await rt.updateEvent(t.id,{status:"Pendente"});h&&i&&i(h)}catch(h){console.error("Erro ao atualizar status do evento:",h),alert("Erro ao atualizar evento. Tente novamente.")}},c=qL[t.type]||qL.Outro,u=c.icon;return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(u,{className:`w-8 h-8 ${c.iconColor}`}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.title})]}),d.jsx("p",{className:"text-gray-600",children:"Detalhes do compromisso"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[t.status==="Pendente"?d.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(wl,{className:"w-5 h-5 mr-2"}),"Marcar como Concluído"]}):d.jsxs("button",{onClick:l,className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[d.jsx(Qp,{className:"w-5 h-5 mr-2"}),"Marcar como Pendente"]}),d.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(ss,{className:"w-5 h-5 mr-2"}),"Remarcar"]}),d.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(Pa,{className:"w-5 h-5 mr-2"}),"Excluir"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Evento"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data"}),d.jsx("p",{className:"text-gray-900 font-medium",children:s(t.date)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Horário"}),d.jsx("p",{className:"text-gray-900 font-medium",children:a(t.time)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Tipo"}),d.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-sm font-semibold rounded-full ${c.color}`,children:[d.jsx(u,{className:`w-4 h-4 mr-2 ${c.iconColor}`}),t.type]})]}),t.priority&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Prioridade"}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${oEe[t.priority]}`,children:t.priority})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Status"}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${t.status==="Concluído"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.status})]}),t.client&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cliente"}),d.jsx("p",{className:"text-gray-900",children:t.client})]}),t.processNumber&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Número do Processo"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Rx,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900 font-mono",children:t.processNumber})]})]}),t.location&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Local"}),d.jsx("p",{className:"text-gray-900",children:t.location})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Advogados Responsáveis"}),d.jsx("div",{children:t.lawyers&&t.lawyers.length>0?d.jsx("div",{className:"flex flex-wrap gap-1",children:t.lawyers.map((h,p)=>d.jsx("span",{className:"inline-flex px-2 py-1 text-sm bg-blue-100 text-blue-800 rounded-full",children:h},p))}):d.jsx("p",{className:"text-gray-400",children:"Não definido"})})]})]})]}),t.notes&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Observações"}),d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.notes})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ações Rápidas"}),d.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.status==="Pendente"?d.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(wl,{className:"w-4 h-4 mr-2"}),"Marcar como Concluído"]}):d.jsxs("button",{onClick:l,className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[d.jsx(Qp,{className:"w-4 h-4 mr-2"}),"Marcar como Pendente"]}),d.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(ss,{className:"w-4 h-4 mr-2"}),"Remarcar Evento"]}),d.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(Pa,{className:"w-4 h-4 mr-2"}),"Excluir Evento"]})]})]})]})]})}const vu={Audiência:{color:"bg-red-100 text-red-700 border-red-200",hoverColor:"hover:bg-red-200",icon:_$,iconColor:"text-red-600"},"Reunião com Cliente":{color:"bg-blue-100 text-blue-700 border-blue-200",hoverColor:"hover:bg-blue-200",icon:Mx,iconColor:"text-blue-600"},"Prazo Processual":{color:"bg-amber-100 text-amber-700 border-amber-200",hoverColor:"hover:bg-amber-200",icon:Sh,iconColor:"text-amber-600"},"Prazo Interno":{color:"bg-orange-100 text-orange-700 border-orange-200",hoverColor:"hover:bg-orange-200",icon:Qp,iconColor:"text-orange-600"},"Ligação Importante":{color:"bg-green-100 text-green-700 border-green-200",hoverColor:"hover:bg-green-200",icon:Dx,iconColor:"text-green-600"},Outro:{color:"bg-gray-100 text-gray-700 border-gray-200",hoverColor:"hover:bg-gray-200",icon:Rm,iconColor:"text-gray-600"}},r1={Baixa:"border-l-4 border-l-green-400",Média:"border-l-4 border-l-yellow-400",Alta:"border-l-4 border-l-orange-400",Urgente:"border-l-4 border-l-red-500"};function cEe({quickActionType:t,onClearQuickAction:e}){const[r,n]=R.useState([]),[i,s]=R.useState(new Date),[a,o]=R.useState("month"),[l,c]=R.useState(!1),[u,h]=R.useState(!1),[p,f]=R.useState(null),[y,g]=R.useState(null),[w,m]=R.useState(!0),[v,x]=R.useState(!1),[E,N]=R.useState({client:"",processNumber:"",lawyer:"",type:"",priority:"",status:""});R.useEffect(()=>{C()},[]),R.useEffect(()=>{t==="event"&&(c(!0),f(null),e())},[t,e]);const C=async()=>{try{m(!0);const Q=await rt.getEvents();n(Q),console.log(`${Q.length} eventos carregados`)}catch(Q){console.error("Erro ao carregar eventos:",Q),n([])}finally{m(!1)}};ML(i),LL(i);const k=(()=>{switch(a){case"week":const Q=Zu(i,{locale:Tr}),$=D_(i,{locale:Tr});return DL({start:Q,end:$});case"day":return[i];default:const V=ML(i),te=LL(i),ae=Zu(V,{locale:Tr}),Z=D_(te,{locale:Tr});return DL({start:ae,end:Z})}})(),T=Q=>{switch(a){case"week":const $=Zu(Q,{locale:Tr}),V=D_(Q,{locale:Tr});return $.getMonth()===V.getMonth()?$r($,"MMMM yyyy",{locale:Tr}):`${$r($,"MMM",{locale:Tr})} - ${$r(V,"MMM yyyy",{locale:Tr})}`;case"day":return $r(Q,"dd 'de' MMMM 'de' yyyy",{locale:Tr});default:return $r(Q,"MMMM yyyy",{locale:Tr})}},q=()=>r.filter(Q=>{var $,V;return!(E.client&&!(($=Q.client)!=null&&$.toLowerCase().includes(E.client.toLowerCase()))||E.processNumber&&!((V=Q.processNumber)!=null&&V.toLowerCase().includes(E.processNumber.toLowerCase()))||E.lawyer&&!Q.lawyers.some(te=>te.toLowerCase().includes(E.lawyer.toLowerCase()))||E.type&&Q.type!==E.type||E.priority&&Q.priority!==E.priority||E.status&&Q.status!==E.status)}),M=Q=>q().filter(V=>kg(new Date(V.date),Q)),A=()=>{N({client:"",processNumber:"",lawyer:"",type:"",priority:"",status:""})},I=Object.values(E).some(Q=>Q!==""),j=[...new Set(r.map(Q=>Q.client).filter(Boolean))],ne=[...new Set(r.map(Q=>Q.processNumber).filter(Boolean))],pe=[...new Set(r.flatMap(Q=>Q.lawyers))],X=Q=>{g(Q||null),f(null),c(!0),h(!1)},ce=Q=>{f(Q),h(!0),c(!1)},ue=Q=>{f(Q),c(!0),h(!1)},xe=async Q=>{try{p?await rt.updateEvent(p.id,Q)&&(console.log("Evento atualizado com sucesso"),await C()):await rt.saveEvent(Q)&&(console.log("Novo evento criado com sucesso"),await C()),c(!1),h(!1),f(null),g(null)}catch($){console.error("Erro ao salvar evento:",$),alert("Erro ao salvar evento. Tente novamente.")}},we=async Q=>{if(confirm("Tem certeza que deseja excluir este evento?"))try{await rt.deleteEvent(Q)&&(await C(),h(!1),f(null))}catch($){console.error("Erro ao excluir evento:",$),alert("Erro ao excluir evento. Tente novamente.")}},F=()=>{c(!1),h(!1),f(null),g(null)},J=()=>{switch(a){case"week":s(A_e(i,1));break;case"day":s(a4(i,-1));break;default:s(E_e(i,1));break}},se=()=>{switch(a){case"week":s(AH(i,1));break;case"day":s(a4(i,1));break;default:s(_H(i,1));break}},he=()=>{s(new Date)};return l?d.jsx(aEe,{event:p,selectedDate:y,onBack:F,onSave:xe}):u&&p?d.jsx(lEe,{event:p,onBack:F,onEdit:()=>ue(p),onDelete:()=>we(p.id),onUpdate:async Q=>{f(Q),await C()}}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agenda"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie compromissos e eventos"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:()=>x(!v),className:`flex items-center px-4 py-2 rounded-lg transition-colors ${v||I?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(Lx,{className:"w-5 h-5 mr-2"}),"Filtros",I&&d.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Object.values(E).filter(Q=>Q!=="").length})]}),d.jsxs("button",{onClick:()=>X(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(go,{className:"w-5 h-5 mr-2"}),"Novo Evento"]})]})]}),v&&d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros Inteligentes"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[I&&d.jsxs("button",{onClick:A,className:"text-sm text-gray-600 hover:text-gray-900 flex items-center",children:[d.jsx(Ra,{className:"w-4 h-4 mr-1"}),"Limpar Filtros"]}),d.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(Ra,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),d.jsxs("select",{value:E.client,onChange:Q=>N({...E,client:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todos os clientes"}),j.map(Q=>d.jsx("option",{value:Q,children:Q},Q))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número do Processo"}),d.jsxs("select",{value:E.processNumber,onChange:Q=>N({...E,processNumber:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todos os processos"}),ne.map(Q=>d.jsx("option",{value:Q,children:Q},Q))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Advogado Responsável"}),d.jsxs("select",{value:E.lawyer,onChange:Q=>N({...E,lawyer:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todos os advogados"}),pe.map(Q=>d.jsx("option",{value:Q,children:Q},Q))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Evento"}),d.jsxs("select",{value:E.type,onChange:Q=>N({...E,type:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todos os tipos"}),Object.keys(vu).map(Q=>d.jsx("option",{value:Q,children:Q},Q))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),d.jsxs("select",{value:E.priority,onChange:Q=>N({...E,priority:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todas as prioridades"}),d.jsx("option",{value:"Baixa",children:"Baixa"}),d.jsx("option",{value:"Média",children:"Média"}),d.jsx("option",{value:"Alta",children:"Alta"}),d.jsx("option",{value:"Urgente",children:"Urgente"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),d.jsxs("select",{value:E.status,onChange:Q=>N({...E,status:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todos os status"}),d.jsx("option",{value:"Pendente",children:"Pendente"}),d.jsx("option",{value:"Concluído",children:"Concluído"})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Legenda de Tipos de Evento"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:Object.entries(vu).map(([Q,$])=>{const V=$.icon;return d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(V,{className:`w-4 h-4 ${$.iconColor}`}),d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${$.color}`,children:Q})]},Q)})})]}),d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>o("month"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${a==="month"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:"Mês"}),d.jsx("button",{onClick:()=>o("week"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${a==="week"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:"Semana"}),d.jsx("button",{onClick:()=>o("day"),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${a==="day"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:"Dia"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:J,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:d.jsx(Tle,{className:"w-5 h-5"})}),d.jsx("button",{onClick:he,className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",children:"Hoje"}),d.jsx("h2",{className:"text-lg font-semibold text-gray-900 capitalize",children:T(i)}),d.jsx("button",{onClick:se,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:d.jsx(Cle,{className:"w-5 h-5"})})]})]}),w&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando eventos..."})]}),!w&&d.jsxs(d.Fragment,{children:[a==="month"&&d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsx("div",{className:"grid grid-cols-7 bg-gray-50",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(Q=>d.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500",children:Q},Q))}),d.jsx("div",{className:"grid grid-cols-7 divide-x divide-y divide-gray-200",children:k.map(Q=>{const $=M(Q),V=__e(Q,i),te=kg(Q,new Date);return d.jsxs("div",{className:`min-h-32 p-2 group ${V?"bg-white":"bg-gray-50"} hover:bg-gray-50 transition-colors`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:`text-sm font-medium ${te?"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center":V?"text-gray-900":"text-gray-400"}`,children:$r(Q,"d")}),d.jsx("button",{onClick:()=>X(Q),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-blue-600 transition-all",title:"Adicionar evento",children:d.jsx(go,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"space-y-1",children:[$.slice(0,3).map(ae=>{const Z=vu[ae.type]||vu.Outro,ee=Z.icon,_e=ae.priority?r1[ae.priority]:"";return d.jsxs("div",{className:`text-xs p-2 rounded border cursor-pointer group ${Z.color} ${Z.hoverColor} ${_e}`,title:`${ae.title} - ${ae.time}`,onClick:()=>ce(ae),children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center space-x-1 flex-1 min-w-0",children:[d.jsx(ee,{className:`w-3 h-3 ${Z.iconColor} flex-shrink-0`}),d.jsx("span",{className:"truncate font-medium",children:ae.title})]}),d.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-1",children:[d.jsx("button",{onClick:H=>{H.stopPropagation(),ce(ae)},className:`${Z.iconColor} hover:opacity-75`,children:d.jsx(Ta,{className:"w-3 h-3"})}),d.jsx("button",{onClick:H=>{H.stopPropagation(),ue(ae)},className:`${Z.iconColor} hover:opacity-75`,children:d.jsx(ss,{className:"w-3 h-3"})}),d.jsx("button",{onClick:H=>{H.stopPropagation(),we(ae.id)},className:"text-red-500 hover:text-red-700",children:d.jsx(Pa,{className:"w-3 h-3"})})]})]}),d.jsxs("div",{className:"text-xs opacity-75",children:[ae.time,ae.client&&d.jsxs("span",{className:"ml-1",children:["• ",ae.client]})]})]},ae.id)}),$.length>3&&d.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",$.length-3," mais"]})]})]},Q.toISOString())})})]}),a==="week"&&d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsx("div",{className:"grid grid-cols-7 bg-gray-50",children:k.map(Q=>d.jsxs("div",{className:"p-4 text-center",children:[d.jsx("div",{className:"text-sm font-medium text-gray-500",children:$r(Q,"EEE",{locale:Tr})}),d.jsx("div",{className:`text-lg font-semibold mt-1 ${kg(Q,new Date)?"bg-blue-600 text-white w-8 h-8 rounded-full flex items-center justify-center mx-auto":"text-gray-900"}`,children:$r(Q,"d")})]},Q.toISOString()))}),d.jsx("div",{className:"grid grid-cols-7 divide-x divide-gray-200 min-h-96",children:k.map(Q=>{const $=M(Q),V=kg(Q,new Date);return d.jsxs("div",{className:`p-3 group ${V?"bg-blue-50":"bg-white"} hover:bg-gray-50 transition-colors`,children:[d.jsx("div",{className:"flex justify-end mb-2",children:d.jsx("button",{onClick:()=>X(Q),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-blue-600 transition-all",title:"Adicionar evento",children:d.jsx(go,{className:"w-4 h-4"})})}),d.jsx("div",{className:"space-y-2",children:$.map(te=>{const ae=vu[te.type]||vu.Outro,Z=ae.icon,ee=te.priority?r1[te.priority]:"";return d.jsxs("div",{className:`text-sm p-2 rounded border cursor-pointer group ${ae.color} ${ae.hoverColor} ${ee}`,title:`${te.title} - ${te.time}`,onClick:()=>ce(te),children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center space-x-1 flex-1 min-w-0",children:[d.jsx(Z,{className:`w-3 h-3 ${ae.iconColor} flex-shrink-0`}),d.jsx("span",{className:"truncate font-medium",children:te.title})]}),d.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-1",children:[d.jsx("button",{onClick:_e=>{_e.stopPropagation(),ce(te)},className:`${ae.iconColor} hover:opacity-75`,children:d.jsx(Ta,{className:"w-3 h-3"})}),d.jsx("button",{onClick:_e=>{_e.stopPropagation(),ue(te)},className:`${ae.iconColor} hover:opacity-75`,children:d.jsx(ss,{className:"w-3 h-3"})}),d.jsx("button",{onClick:_e=>{_e.stopPropagation(),we(te.id)},className:"text-red-500 hover:text-red-700",children:d.jsx(Pa,{className:"w-3 h-3"})})]})]}),d.jsxs("div",{className:"text-xs opacity-75",children:[te.time,te.client&&d.jsxs("span",{className:"ml-1",children:["• ",te.client]})]})]},te.id)})})]},Q.toISOString())})})]}),a==="day"&&d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsxs("div",{className:"bg-gray-50 p-6 text-center border-b",children:[d.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:$r(i,"EEEE",{locale:Tr})}),d.jsx("div",{className:`text-2xl font-bold ${kg(i,new Date)?"text-blue-600":"text-gray-900"}`,children:$r(i,"d 'de' MMMM",{locale:Tr})}),d.jsxs("button",{onClick:()=>X(i),className:"mt-3 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(go,{className:"w-4 h-4 mr-2"}),"Novo Evento"]})]}),d.jsx("div",{className:"p-6",children:(()=>{const Q=M(i).sort(($,V)=>$.time.localeCompare(V.time));return Q.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Ox,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"Nenhum evento agendado para este dia"}),d.jsx("button",{onClick:()=>X(i),className:"mt-4 text-blue-600 hover:text-blue-800",children:"Adicionar primeiro evento"})]}):d.jsx("div",{className:"space-y-4",children:Q.map($=>{const V=vu[$.type]||vu.Outro,te=V.icon,ae=$.priority?r1[$.priority]:"";return d.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer group ${V.color} ${V.hoverColor} ${ae}`,onClick:()=>ce($),children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[d.jsx(te,{className:`w-6 h-6 ${V.iconColor} flex-shrink-0 mt-1`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:$.title}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[d.jsx("span",{className:"font-medium",children:$.time}),$.client&&d.jsxs("span",{children:["Cliente: ",$.client]}),$.location&&d.jsxs("span",{children:["Local: ",$.location]})]}),$.notes&&d.jsx("p",{className:"text-sm text-gray-700 mt-2",children:$.notes}),d.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${$.status==="Concluído"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:$.status}),$.priority&&d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${r1[$.priority]}`,children:$.priority})]})]})]}),d.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-2 ml-4",children:[d.jsx("button",{onClick:Z=>{Z.stopPropagation(),ce($)},className:`p-2 ${V.iconColor} hover:opacity-75 rounded-lg hover:bg-white`,title:"Visualizar",children:d.jsx(Ta,{className:"w-4 h-4"})}),d.jsx("button",{onClick:Z=>{Z.stopPropagation(),ue($)},className:`p-2 ${V.iconColor} hover:opacity-75 rounded-lg hover:bg-white`,title:"Editar",children:d.jsx(ss,{className:"w-4 h-4"})}),d.jsx("button",{onClick:Z=>{Z.stopPropagation(),we($.id)},className:"p-2 text-red-500 hover:text-red-700 rounded-lg hover:bg-white",title:"Excluir",children:d.jsx(Pa,{className:"w-4 h-4"})})]})]})},$.id)})})})()})]})]})]})}const uEe=Ba({date:lt().required("Data é obrigatória"),amount:jm().positive("Valor deve ser positivo").required("Valor é obrigatório"),source:lt().required("Fonte é obrigatória"),category:lt().required("Categoria é obrigatória"),responsibleLawyers:Om(),client:lt(),description:lt()}),dEe=Ba({date:lt().required("Data é obrigatória"),amount:jm().positive("Valor deve ser positivo").required("Valor é obrigatório"),type:lt().required("Tipo é obrigatório"),category:lt().required("Categoria é obrigatória"),responsibleMembers:Om(),description:lt(),receipt:lt()});function hEe({type:t,item:e,onBack:r,onSave:n}){const[i,s]=br.useState([]),[a,o]=br.useState([]),[l,c]=br.useState((e==null?void 0:e.responsibleLawyers)||(e==null?void 0:e.responsibleMembers)||[]),[u,h]=br.useState(!0),p=t==="revenue"?uEe:dEe,{register:f,handleSubmit:y,formState:{errors:g},setValue:w}=Al({resolver:Sl(p),defaultValues:e||(t==="revenue"?{category:"Honorário"}:{category:"Aluguel"})});R.useEffect(()=>{m()},[]),R.useEffect(()=>{if(e){Object.keys(e).forEach(N=>{w(N,e[N])});const E=(e==null?void 0:e.responsibleMembers)||(e==null?void 0:e.responsibleLawyers)||[];c(E)}},[e,w]);const m=async()=>{try{h(!0);const[E,N]=await Promise.all([rt.getLawyers(),rt.getEmployees()]);s(E.filter(C=>C.status==="Ativo")),o(N.filter(C=>C.status==="Ativo"))}catch(E){console.error("Erro ao carregar membros da equipe:",E),s([]),o([])}finally{h(!1)}},v=E=>{c(N=>N.includes(E)?N.filter(C=>C!==E):[...N,E])},x=E=>{const N={id:(e==null?void 0:e.id)||Date.now().toString(),responsibleMembers:l,...t==="revenue"&&{responsibleLawyers:l},...E};n(N,t)};return u?d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando formulário..."})]})}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:r,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[e?"Editar":"Nova"," ",t==="revenue"?"Receita":"Despesa"]}),d.jsxs("p",{className:"text-gray-600",children:[e?"Atualize as informações":"Cadastre uma nova entrada",t==="revenue"?" de receita":" de despesa"]})]})]}),d.jsx("form",{onSubmit:y(x),className:"max-w-2xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...f("date"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),g.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.date.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor *"}),d.jsx("input",{...f("amount",{valueAsNumber:!0}),type:"number",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}),g.amount&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.amount.message})]}),t==="revenue"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fonte *"}),d.jsx("input",{...f("source"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: João Silva"}),g.source&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.source.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),d.jsxs("select",{...f("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"Honorário",children:"Honorário"}),d.jsx("option",{value:"Consultoria",children:"Consultoria"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),g.category&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.category.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente"}),d.jsx("input",{...f("client"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do cliente (opcional)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsáveis"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-32 overflow-y-auto",children:i.length>0||a.length>0?d.jsxs("div",{className:"space-y-2",children:[i.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advogados"}),i.map(E=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes(E.fullName),onChange:()=>v(E.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[E.fullName," - OAB: ",E.oab]})]},`lawyer-${E.id}`))]}),a.length>0&&d.jsxs(d.Fragment,{children:[i.length>0&&d.jsx("div",{className:"border-t border-gray-200 my-2"}),d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Colaboradores"}),a.map(E=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes(E.fullName),onChange:()=>v(E.fullName),className:"mr-3 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[E.fullName," - ",E.position]})]},`employee-${E.id}`))]})]}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum responsável disponível"})}),l.length>0&&d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:l.map((E,N)=>{const C=i.some(P=>P.fullName===E);return d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:[E,d.jsx("button",{type:"button",onClick:()=>v(E),className:`ml-1 hover:${C?"text-blue-800":"text-green-800"}`,children:d.jsx(Ra,{className:"w-3 h-3"})})]},N)})})}),i.length===0&&a.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:"Nenhum responsável ativo encontrado. Cadastre advogados ou colaboradores."})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo *"}),d.jsx("input",{...f("type"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Aluguel do escritório"}),g.type&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),d.jsxs("select",{...f("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"Aluguel",children:"Aluguel"}),d.jsx("option",{value:"Internet",children:"Internet"}),d.jsx("option",{value:"Material",children:"Material"}),d.jsx("option",{value:"Energia",children:"Energia"}),d.jsx("option",{value:"Salário",children:"Salário"}),d.jsx("option",{value:"Alimentação/Bebidas",children:"Alimentação/Bebidas"}),d.jsx("option",{value:"Evento",children:"Evento"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),g.category&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.category.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comprovante"}),d.jsx("input",{...f("receipt"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do arquivo ou referência"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsável pela despesa"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-32 overflow-y-auto",children:i.length>0||a.length>0?d.jsxs("div",{className:"space-y-2",children:[i.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advogados"}),i.map(E=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes(E.fullName),onChange:()=>v(E.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[E.fullName," - OAB: ",E.oab]})]},`lawyer-${E.id}`))]}),a.length>0&&d.jsxs(d.Fragment,{children:[i.length>0&&d.jsx("div",{className:"border-t border-gray-200 my-2"}),d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Colaboradores"}),a.map(E=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes(E.fullName),onChange:()=>v(E.fullName),className:"mr-3 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[E.fullName," - ",E.position]})]},`employee-${E.id}`))]})]}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum responsável disponível"})}),l.length>0&&d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:l.map((E,N)=>{const C=i.some(P=>P.fullName===E);return d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:[E,d.jsx("button",{type:"button",onClick:()=>v(E),className:`ml-1 hover:${C?"text-blue-800":"text-green-800"}`,children:d.jsx(Ra,{className:"w-3 h-3"})})]},N)})})}),i.length===0&&a.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:"Nenhum responsável ativo encontrado. Cadastre advogados ou colaboradores."})]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição"}),d.jsx("textarea",{...f("description"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descrição adicional (opcional)"})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsxs("button",{type:"submit",className:`px-6 py-2 text-white rounded-lg transition-colors ${t==="revenue"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:[e?"Atualizar":"Salvar"," ",t==="revenue"?"Receita":"Despesa"]})]})]})})]})}function fEe({quickActionType:t,onClearQuickAction:e}){const[r,n]=R.useState([]),[i,s]=R.useState([]),[a,o]=R.useState("revenues"),[l,c]=R.useState(""),[u,h]=R.useState("all"),[p,f]=R.useState(!1),[y,g]=R.useState("revenue"),[w,m]=R.useState(null),[v,x]=R.useState(!0);R.useEffect(()=>{E()},[]),R.useEffect(()=>{t==="revenue"?(g("revenue"),m(null),f(!0),e()):t==="expense"&&(g("expense"),m(null),f(!0),e())},[t,e]);const E=async()=>{try{x(!0);const[X,ce]=await Promise.all([rt.getRevenues(),rt.getExpenses()]);n(X),s(ce),console.log(`${X.length} receitas e ${ce.length} despesas carregadas`)}catch(X){console.error("Erro ao carregar dados financeiros:",X),n([]),s([])}finally{x(!1)}},N=X=>{g(X),m(null),f(!0)},C=(X,ce)=>{g(ce),m(X),f(!0)},P=async(X,ce)=>{try{w?ce==="revenue"?await rt.updateRevenue(w.id,X)&&console.log("Receita atualizada com sucesso"):await rt.updateExpense(w.id,X)&&console.log("Despesa atualizada com sucesso"):ce==="revenue"?await rt.saveRevenue(X)&&console.log("Nova receita criada com sucesso"):await rt.saveExpense(X)&&console.log("Nova despesa criada com sucesso"),await E(),f(!1),m(null)}catch(ue){console.error("Erro ao salvar item financeiro:",ue),alert("Erro ao salvar. Tente novamente.")}},k=async(X,ce)=>{if(confirm(`Tem certeza que deseja excluir esta ${ce==="revenue"?"receita":"despesa"}?`))try{let ue=!1;ce==="revenue"?ue=await rt.deleteRevenue(X):ue=await rt.deleteExpense(X),ue&&await E()}catch(ue){console.error("Erro ao excluir item:",ue),alert("Erro ao excluir. Tente novamente.")}},T=()=>{f(!1),m(null)},q=r.filter(X=>{const ce=X.source.toLowerCase().includes(l.toLowerCase())||X.client&&X.client.toLowerCase().includes(l.toLowerCase())||X.description&&X.description.toLowerCase().includes(l.toLowerCase()),ue=u==="all"||X.category===u;return ce&&ue}),M=i.filter(X=>{const ce=X.type.toLowerCase().includes(l.toLowerCase())||X.description&&X.description.toLowerCase().includes(l.toLowerCase()),ue=u==="all"||X.category===u;return ce&&ue}),A=X=>$r(new Date(X),"dd/MM/yyyy",{locale:Tr}),I=X=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(X),j=r.reduce((X,ce)=>X+ce.amount,0),ne=i.reduce((X,ce)=>X+ce.amount,0),pe=j-ne;return p?d.jsx(hEe,{type:y,item:w,onBack:T,onSave:P}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestão Financeira"}),d.jsx("p",{className:"text-gray-600",children:"Controle de receitas e despesas do escritório"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:()=>N("revenue"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(u_,{className:"w-5 h-5 mr-2"}),"Nova Receita"]}),d.jsxs("button",{onClick:()=>N("expense"),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(c_,{className:"w-5 h-5 mr-2"}),"Nova Despesa"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(u_,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-green-100 text-sm",children:"Total de Receitas"}),d.jsx("p",{className:"text-2xl font-bold",children:I(j)})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(c_,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-100 text-sm",children:"Total de Despesas"}),d.jsx("p",{className:"text-2xl font-bold",children:I(ne)})]})]})}),d.jsx("div",{className:`rounded-lg p-6 text-white ${pe>=0?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-orange-500 to-orange-600"}`,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-8 h-8 mr-3 flex items-center justify-center",children:d.jsx("span",{className:"text-2xl font-bold",children:"₿"})}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${pe>=0?"text-blue-100":"text-orange-100"}`,children:"Saldo Atual"}),d.jsx("p",{className:"text-2xl font-bold",children:I(pe)})]})]})})]}),d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[d.jsxs("button",{onClick:()=>o("revenues"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${a==="revenues"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Receitas (",r.length,")"]}),d.jsxs("button",{onClick:()=>o("expenses"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${a==="expenses"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Despesas (",i.length,")"]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(FT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:l,onChange:X=>c(X.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Lx,{className:"w-5 h-5 text-gray-400"}),d.jsxs("select",{value:u,onChange:X=>h(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Todas as Categorias"}),a==="revenues"?d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"Honorário",children:"Honorário"}),d.jsx("option",{value:"Consultoria",children:"Consultoria"}),d.jsx("option",{value:"Outro",children:"Outro"})]}):d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"Aluguel",children:"Aluguel"}),d.jsx("option",{value:"Internet",children:"Internet"}),d.jsx("option",{value:"Material",children:"Material"}),d.jsx("option",{value:"Outro",children:"Outro"})]})]})]})]})]}),v?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando dados financeiros..."})]}):d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a==="revenues"?"Fonte":"Tipo"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Responsável"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a==="revenues"?q.map(X=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(X.date)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.source}),X.client&&d.jsxs("div",{className:"text-sm text-gray-500",children:["Cliente: ",X.client]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:X.category})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.jsx("div",{children:X.responsibleLawyers&&X.responsibleLawyers.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"font-medium",children:X.responsibleLawyers[0]}),X.responsibleLawyers.length>1&&d.jsxs("div",{className:"text-xs text-gray-500",children:["+",X.responsibleLawyers.length-1," outros"]})]}):d.jsx("span",{className:"text-gray-400",children:"-"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:I(X.amount)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsx("button",{onClick:()=>C(X,"revenue"),className:"text-amber-600 hover:text-amber-900 p-1 rounded hover:bg-amber-50",title:"Editar",children:d.jsx(ss,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>k(X.id,"revenue"),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Excluir",children:d.jsx(Pa,{className:"w-4 h-4"})})]})})]},X.id)):M.map(X=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(X.date)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.type})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:X.category})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.jsx("div",{children:X.responsibleMembers&&X.responsibleMembers.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"font-medium",children:X.responsibleMembers[0]}),X.responsibleMembers.length>1&&d.jsxs("div",{className:"text-xs text-gray-500",children:["+",X.responsibleMembers.length-1," outros"]})]}):X.responsibleLawyers&&X.responsibleLawyers.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"font-medium",children:X.responsibleLawyers[0]}),X.responsibleLawyers.length>1&&d.jsxs("div",{className:"text-xs text-gray-500",children:["+",X.responsibleLawyers.length-1," outros"]})]}):d.jsx("span",{className:"text-gray-400",children:"-"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600",children:I(X.amount)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsx("button",{onClick:()=>C(X,"expense"),className:"text-amber-600 hover:text-amber-900 p-1 rounded hover:bg-amber-50",title:"Editar",children:d.jsx(ss,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>k(X.id,"expense"),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Excluir",children:d.jsx(Pa,{className:"w-4 h-4"})})]})})]},X.id))})]})}),!v&&d.jsxs(d.Fragment,{children:[a==="revenues"&&q.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(u_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:r.length===0?'Nenhuma receita cadastrada. Clique em "Nova Receita" para começar.':"Nenhuma receita encontrada com os filtros aplicados."})]}),a==="expenses"&&M.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(c_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:i.length===0?'Nenhuma despesa cadastrada. Clique em "Nova Despesa" para começar.':"Nenhuma despesa encontrada com os filtros aplicados."})]})]})]})]})}const pEe="modulepreload",mEe=function(t){return"/LegalX/"+t},WL={},o4=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=mEe(l),l in WL)return;WL[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":pEe,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function mr(t){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(t)}var Ui=Uint8Array,Gs=Uint16Array,$C=Int32Array,U2=new Ui([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$2=new Ui([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),l4=new Ui([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PH=function(t,e){for(var r=new Gs(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new $C(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},CH=PH(U2,2),kH=CH.b,c4=CH.r;kH[28]=258,c4[258]=28;var IH=PH($2,0),gEe=IH.b,HL=IH.r,u4=new Gs(32768);for(var Fr=0;Fr<32768;++Fr){var wu=(Fr&43690)>>1|(Fr&21845)<<1;wu=(wu&52428)>>2|(wu&13107)<<2,wu=(wu&61680)>>4|(wu&3855)<<4,u4[Fr]=((wu&65280)>>8|(wu&255)<<8)>>1}var gl=function(t,e,r){for(var n=t.length,i=0,s=new Gs(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Gs(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Gs(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],h=a[t[i]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)o[u4[h]>>l]=c}else for(o=new Gs(n),i=0;i<n;++i)t[i]&&(o[i]=u4[a[t[i]-1]++]>>15-t[i]);return o},ud=new Ui(288);for(var Fr=0;Fr<144;++Fr)ud[Fr]=8;for(var Fr=144;Fr<256;++Fr)ud[Fr]=9;for(var Fr=256;Fr<280;++Fr)ud[Fr]=7;for(var Fr=280;Fr<288;++Fr)ud[Fr]=8;var iy=new Ui(32);for(var Fr=0;Fr<32;++Fr)iy[Fr]=5;var yEe=gl(ud,9,0),vEe=gl(ud,9,1),wEe=gl(iy,5,0),bEe=gl(iy,5,1),M_=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},to=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},F_=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},VC=function(t){return(t+7)/8|0},jH=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ui(t.subarray(e,r))},xEe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],so=function(t,e,r){var n=new Error(e||xEe[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,so),!r)throw n;return n},_Ee=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new Ui(0);var a=!r,o=a||e.i!=2,l=e.i;a&&(r=new Ui(i*3));var c=function(Z){var ee=r.length;if(Z>ee){var _e=new Ui(Math.max(ee*2,Z));_e.set(r),r=_e}},u=e.f||0,h=e.p||0,p=e.b||0,f=e.l,y=e.d,g=e.m,w=e.n,m=i*8;do{if(!f){u=to(t,h,1);var v=to(t,h+1,3);if(h+=3,v)if(v==1)f=vEe,y=bEe,g=9,w=5;else if(v==2){var C=to(t,h,31)+257,P=to(t,h+10,15)+4,k=C+to(t,h+5,31)+1;h+=14;for(var T=new Ui(k),q=new Ui(19),M=0;M<P;++M)q[l4[M]]=to(t,h+M*3,7);h+=P*3;for(var A=M_(q),I=(1<<A)-1,j=gl(q,A,1),M=0;M<k;){var ne=j[to(t,h,I)];h+=ne&15;var x=ne>>4;if(x<16)T[M++]=x;else{var pe=0,X=0;for(x==16?(X=3+to(t,h,3),h+=2,pe=T[M-1]):x==17?(X=3+to(t,h,7),h+=3):x==18&&(X=11+to(t,h,127),h+=7);X--;)T[M++]=pe}}var ce=T.subarray(0,C),ue=T.subarray(C);g=M_(ce),w=M_(ue),f=gl(ce,g,1),y=gl(ue,w,1)}else so(1);else{var x=VC(h)+4,E=t[x-4]|t[x-3]<<8,N=x+E;if(N>i){l&&so(0);break}o&&c(p+E),r.set(t.subarray(x,N),p),e.b=p+=E,e.p=h=N*8,e.f=u;continue}if(h>m){l&&so(0);break}}o&&c(p+131072);for(var xe=(1<<g)-1,we=(1<<w)-1,F=h;;F=h){var pe=f[F_(t,h)&xe],J=pe>>4;if(h+=pe&15,h>m){l&&so(0);break}if(pe||so(2),J<256)r[p++]=J;else if(J==256){F=h,f=null;break}else{var se=J-254;if(J>264){var M=J-257,he=U2[M];se=to(t,h,(1<<he)-1)+kH[M],h+=he}var Q=y[F_(t,h)&we],$=Q>>4;Q||so(3),h+=Q&15;var ue=gEe[$];if($>3){var he=$2[$];ue+=F_(t,h)&(1<<he)-1,h+=he}if(h>m){l&&so(0);break}o&&c(p+131072);var V=p+se;if(p<ue){var te=s-ue,ae=Math.min(ue,V);for(te+p<0&&so(3);p<ae;++p)r[p]=n[te+p]}for(;p<V;++p)r[p]=r[p-ue]}}e.l=f,e.p=F,e.b=p,e.f=u,f&&(u=1,e.m=g,e.d=y,e.n=w)}while(!u);return p!=r.length&&a?jH(r,0,p):r.subarray(0,p)},Kl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Ig=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},B_=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:RH,l:0};if(i==1){var a=new Ui(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(N,C){return N.f-C.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=s[0].s,n=1;n<i;++n)s[n].s>p&&(p=s[n].s);var f=new Gs(p+1),y=d4(r[u-1],f,0);if(y>e){var n=0,g=0,w=y-e,m=1<<w;for(s.sort(function(C,P){return f[P.s]-f[C.s]||C.f-P.f});n<i;++n){var v=s[n].s;if(f[v]>e)g+=m-(1<<y-f[v]),f[v]=e;else break}for(g>>=w;g>0;){var x=s[n].s;f[x]<e?g-=1<<e-f[x]++-1:++n}for(;n>=0&&g;--n){var E=s[n].s;f[E]==e&&(--f[E],++g)}y=e}return{t:new Ui(f),l:y}},d4=function(t,e,r){return t.s==-1?Math.max(d4(t.l,e,r+1),d4(t.r,e,r+1)):e[t.s]=r},GL=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Gs(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},jg=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},OH=function(t,e,r){var n=r.length,i=VC(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},KL=function(t,e,r,n,i,s,a,o,l,c,u){Kl(e,u++,r),++i[256];for(var h=B_(i,15),p=h.t,f=h.l,y=B_(s,15),g=y.t,w=y.l,m=GL(p),v=m.c,x=m.n,E=GL(g),N=E.c,C=E.n,P=new Gs(19),k=0;k<v.length;++k)++P[v[k]&31];for(var k=0;k<N.length;++k)++P[N[k]&31];for(var T=B_(P,7),q=T.t,M=T.l,A=19;A>4&&!q[l4[A-1]];--A);var I=c+5<<3,j=jg(i,ud)+jg(s,iy)+a,ne=jg(i,p)+jg(s,g)+a+14+3*A+jg(P,q)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&I<=j&&I<=ne)return OH(e,u,t.subarray(l,l+c));var pe,X,ce,ue;if(Kl(e,u,1+(ne<j)),u+=2,ne<j){pe=gl(p,f,0),X=p,ce=gl(g,w,0),ue=g;var xe=gl(q,M,0);Kl(e,u,x-257),Kl(e,u+5,C-1),Kl(e,u+10,A-4),u+=14;for(var k=0;k<A;++k)Kl(e,u+3*k,q[l4[k]]);u+=3*A;for(var we=[v,N],F=0;F<2;++F)for(var J=we[F],k=0;k<J.length;++k){var se=J[k]&31;Kl(e,u,xe[se]),u+=q[se],se>15&&(Kl(e,u,J[k]>>5&127),u+=J[k]>>12)}}else pe=yEe,X=ud,ce=wEe,ue=iy;for(var k=0;k<o;++k){var he=n[k];if(he>255){var se=he>>18&31;Ig(e,u,pe[se+257]),u+=X[se+257],se>7&&(Kl(e,u,he>>23&31),u+=U2[se]);var Q=he&31;Ig(e,u,ce[Q]),u+=ue[Q],Q>3&&(Ig(e,u,he>>5&8191),u+=$2[Q])}else Ig(e,u,pe[he]),u+=X[he]}return Ig(e,u,pe[256]),u+X[256]},EEe=new $C([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RH=new Ui(0),AEe=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Ui(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var h=EEe[e-1],p=h>>13,f=h&8191,y=(1<<r)-1,g=s.p||new Gs(32768),w=s.h||new Gs(y+1),m=Math.ceil(r/3),v=2*m,x=function(H){return(t[H]^t[H+1]<<m^t[H+2]<<v)&y},E=new $C(25e3),N=new Gs(288),C=new Gs(32),P=0,k=0,T=s.i||0,q=0,M=s.w||0,A=0;T+2<a;++T){var I=x(T),j=T&32767,ne=w[I];if(g[j]=ne,w[I]=j,M<=T){var pe=a-T;if((P>7e3||q>24576)&&(pe>423||!c)){u=KL(t,l,0,E,N,C,k,q,A,T-A,u),q=P=k=0,A=T;for(var X=0;X<286;++X)N[X]=0;for(var X=0;X<30;++X)C[X]=0}var ce=2,ue=0,xe=f,we=j-ne&32767;if(pe>2&&I==x(T-we))for(var F=Math.min(p,pe)-1,J=Math.min(32767,T),se=Math.min(258,pe);we<=J&&--xe&&j!=ne;){if(t[T+ce]==t[T+ce-we]){for(var he=0;he<se&&t[T+he]==t[T+he-we];++he);if(he>ce){if(ce=he,ue=we,he>F)break;for(var Q=Math.min(we,he-2),$=0,X=0;X<Q;++X){var V=T-we+X&32767,te=g[V],ae=V-te&32767;ae>$&&($=ae,ne=V)}}}j=ne,ne=g[j],we+=j-ne&32767}if(ue){E[q++]=268435456|c4[ce]<<18|HL[ue];var Z=c4[ce]&31,ee=HL[ue]&31;k+=U2[Z]+$2[ee],++N[257+Z],++C[ee],M=T+ce,++P}else E[q++]=t[T],++N[t[T]]}}for(T=Math.max(T,M);T<a;++T)E[q++]=t[T],++N[t[T]];u=KL(t,l,c,E,N,C,k,q,A,T-A,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=w,s.p=g,s.i=T,s.w=M)}else{for(var T=s.w||0;T<a+c;T+=65535){var _e=T+65535;_e>=a&&(l[u/8|0]=c,_e=a),u=OH(l,u+1,t.subarray(T,_e))}s.i=a}return jH(o,0,n+VC(u)+i)},LH=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},SEe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ui(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return AEe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},DH=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},NEe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=LH();i.p(e.dictionary),DH(t,2,i.d())}},TEe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&so(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&so(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function h4(t,e){e||(e={});var r=LH();r.p(t);var n=SEe(t,e,e.dictionary?6:2,4);return NEe(n,e),DH(n,n.length-4,r.d()),n}function PEe(t,e){return _Ee(t.subarray(TEe(t,e),-4),{i:2},e,e)}var CEe=typeof TextDecoder<"u"&&new TextDecoder,kEe=0;try{CEe.decode(RH,{stream:!0}),kEe=1}catch{}var St=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function U_(){St.console&&typeof St.console.log=="function"&&St.console.log.apply(St.console,arguments)}var Nr={log:U_,warn:function(t){St.console&&(typeof St.console.warn=="function"?St.console.warn.apply(St.console,arguments):U_.call(null,arguments))},error:function(t){St.console&&(typeof St.console.error=="function"?St.console.error.apply(St.console,arguments):U_(t))}};function $_(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ah(n.response,e,r)},n.onerror=function(){Nr.error("could not download file")},n.send()}function YL(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function n1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var y0,f4,ah=St.saveAs||((typeof window>"u"?"undefined":mr(window))!=="object"||window!==St?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=St.URL||St.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?YL(i.href)?$_(t,e,r):n1(i,i.target="_blank"):n1(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){n1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(YL(t))$_(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){n1(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:mr(s)!=="object"&&(Nr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return $_(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(St.HTMLElement)||St.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":mr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=St.URL||St.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function MH(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function V_(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=ji(r,n,i,s,e[0],7,-680876936),s=ji(s,r,n,i,e[1],12,-389564586),i=ji(i,s,r,n,e[2],17,606105819),n=ji(n,i,s,r,e[3],22,-1044525330),r=ji(r,n,i,s,e[4],7,-176418897),s=ji(s,r,n,i,e[5],12,1200080426),i=ji(i,s,r,n,e[6],17,-1473231341),n=ji(n,i,s,r,e[7],22,-45705983),r=ji(r,n,i,s,e[8],7,1770035416),s=ji(s,r,n,i,e[9],12,-1958414417),i=ji(i,s,r,n,e[10],17,-42063),n=ji(n,i,s,r,e[11],22,-1990404162),r=ji(r,n,i,s,e[12],7,1804603682),s=ji(s,r,n,i,e[13],12,-40341101),i=ji(i,s,r,n,e[14],17,-1502002290),r=Oi(r,n=ji(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Oi(s,r,n,i,e[6],9,-1069501632),i=Oi(i,s,r,n,e[11],14,643717713),n=Oi(n,i,s,r,e[0],20,-373897302),r=Oi(r,n,i,s,e[5],5,-701558691),s=Oi(s,r,n,i,e[10],9,38016083),i=Oi(i,s,r,n,e[15],14,-660478335),n=Oi(n,i,s,r,e[4],20,-405537848),r=Oi(r,n,i,s,e[9],5,568446438),s=Oi(s,r,n,i,e[14],9,-1019803690),i=Oi(i,s,r,n,e[3],14,-187363961),n=Oi(n,i,s,r,e[8],20,1163531501),r=Oi(r,n,i,s,e[13],5,-1444681467),s=Oi(s,r,n,i,e[2],9,-51403784),i=Oi(i,s,r,n,e[7],14,1735328473),r=Ri(r,n=Oi(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ri(s,r,n,i,e[8],11,-2022574463),i=Ri(i,s,r,n,e[11],16,1839030562),n=Ri(n,i,s,r,e[14],23,-35309556),r=Ri(r,n,i,s,e[1],4,-1530992060),s=Ri(s,r,n,i,e[4],11,1272893353),i=Ri(i,s,r,n,e[7],16,-155497632),n=Ri(n,i,s,r,e[10],23,-1094730640),r=Ri(r,n,i,s,e[13],4,681279174),s=Ri(s,r,n,i,e[0],11,-358537222),i=Ri(i,s,r,n,e[3],16,-722521979),n=Ri(n,i,s,r,e[6],23,76029189),r=Ri(r,n,i,s,e[9],4,-640364487),s=Ri(s,r,n,i,e[12],11,-421815835),i=Ri(i,s,r,n,e[15],16,530742520),r=Li(r,n=Ri(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Li(s,r,n,i,e[7],10,1126891415),i=Li(i,s,r,n,e[14],15,-1416354905),n=Li(n,i,s,r,e[5],21,-57434055),r=Li(r,n,i,s,e[12],6,1700485571),s=Li(s,r,n,i,e[3],10,-1894986606),i=Li(i,s,r,n,e[10],15,-1051523),n=Li(n,i,s,r,e[1],21,-2054922799),r=Li(r,n,i,s,e[8],6,1873313359),s=Li(s,r,n,i,e[15],10,-30611744),i=Li(i,s,r,n,e[6],15,-1560198380),n=Li(n,i,s,r,e[13],21,1309151649),r=Li(r,n,i,s,e[4],6,-145523070),s=Li(s,r,n,i,e[11],10,-1120210379),i=Li(i,s,r,n,e[2],15,718787259),n=Li(n,i,s,r,e[9],21,-343485551),t[0]=Mu(r,t[0]),t[1]=Mu(n,t[1]),t[2]=Mu(i,t[2]),t[3]=Mu(s,t[3])}function V2(t,e,r,n,i,s){return e=Mu(Mu(e,t),Mu(n,s)),Mu(e<<i|e>>>32-i,r)}function ji(t,e,r,n,i,s,a){return V2(e&r|~e&n,t,e,i,s,a)}function Oi(t,e,r,n,i,s,a){return V2(e&n|r&~n,t,e,i,s,a)}function Ri(t,e,r,n,i,s,a){return V2(e^r^n,t,e,i,s,a)}function Li(t,e,r,n,i,s,a){return V2(r^(e|~n),t,e,i,s,a)}function FH(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)V_(n,IEe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(V_(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,V_(n,i),n}function IEe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}y0=St.atob.bind(St),f4=St.btoa.bind(St);var XL="0123456789abcdef".split("");function jEe(t){for(var e="",r=0;r<4;r++)e+=XL[t>>8*r+4&15]+XL[t>>8*r&15];return e}function OEe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function p4(t){return FH(t).map(OEe).join("")}var REe=function(t){for(var e=0;e<t.length;e++)t[e]=jEe(t[e]);return t.join("")}(FH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Mu(t,e){if(REe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function m4(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var h=e.length,p=0,f=0,y="";for(l=0;l<h;l++)f=(f+(u=o[p=(p+1)%256]))%256,o[p]=o[f],o[f]=u,a=o[(o[p]+o[f])%256],y+=String.fromCharCode(e.charCodeAt(l)^a);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var JL={print:4,modify:8,copy:16,"annot-forms":32};function Jf(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(JL.perm!==void 0)throw new Error("Invalid permission: "+o);i+=JL[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=p4(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=m4(this.encryptionKey,this.padding)}function Qf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function QL(t){if(mr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){St.console&&Nr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Db(t){if(!(this instanceof Db))return new Db(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function BH(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function lh(t,e,r,n,i){if(!(this instanceof lh))return new lh(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,BH.call(this,n,i)}function yp(t,e,r,n,i){if(!(this instanceof yp))return new yp(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,BH.call(this,n,i)}function xt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;mr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=QL;var y="1.3",g=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(D){y=D};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return w};var m=f.__private__.getPageFormat=function(D){return w[D]};i=i||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},x=v.COMPAT;function E(){this.saveGraphicsState(),B(new dt(et,0,0,-et,0,Pi()*et).toString()+" cm"),this.setFontSize(this.getFontSize()/et),c="n",x=v.ADVANCED}function N(){this.restoreGraphicsState(),c="S",x=v.COMPAT}var C=f.__private__.combineFontStyleAndFontWeight=function(D,oe){if(D=="bold"&&oe=="normal"||D=="bold"&&oe==400||D=="normal"&&oe=="italic"||D=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(D=oe==400||oe==="normal"?D==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||D!=="normal"?(oe==700?"bold":oe)+""+D:"bold"),D};f.advancedAPI=function(D){var oe=x===v.COMPAT;return oe&&E.call(this),typeof D!="function"||(D(this),oe&&N.call(this)),this},f.compatAPI=function(D){var oe=x===v.ADVANCED;return oe&&N.call(this),typeof D!="function"||(D(this),oe&&E.call(this)),this},f.isAdvancedAPI=function(){return x===v.ADVANCED};var P,k=function(D){if(x!==v.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=f.roundToPrecision=f.__private__.roundToPrecision=function(D,oe){var Ee=e||oe;if(isNaN(D)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ee).replace(/0+$/,"")};P=f.hpf=f.__private__.hpf=typeof l=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,l)}:l==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,16)};var q=f.f2=f.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return T(D,2)},M=f.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return T(D,3)},A=f.scale=f.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return x===v.COMPAT?D*et:x===v.ADVANCED?D:void 0},I=function(D){return x===v.COMPAT?Pi()-D:x===v.ADVANCED?D:void 0},j=function(D){return A(I(D))};f.__private__.setPrecision=f.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(e=parseInt(D,10))};var ne,pe="00000000000000000000000000000000",X=f.__private__.getFileId=function(){return pe},ce=f.__private__.setFileId=function(D){return pe=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():pe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Lr=new Jf(u.userPermissions,u.userPassword,u.ownerPassword,pe)),pe};f.setFileId=function(D){return ce(D),this},f.getFileId=function(){return X()};var ue=f.__private__.convertDateToPDFDate=function(D){var oe=D.getTimezoneOffset(),Ee=oe<0?"+":"-",Te=Math.floor(Math.abs(oe/60)),Oe=Math.abs(oe%60),$e=[Ee,se(Te),"'",se(Oe),"'"].join("");return["D:",D.getFullYear(),se(D.getMonth()+1),se(D.getDate()),se(D.getHours()),se(D.getMinutes()),se(D.getSeconds()),$e].join("")},xe=f.__private__.convertPDFDateToDate=function(D){var oe=parseInt(D.substr(2,4),10),Ee=parseInt(D.substr(6,2),10)-1,Te=parseInt(D.substr(8,2),10),Oe=parseInt(D.substr(10,2),10),$e=parseInt(D.substr(12,2),10),Xe=parseInt(D.substr(14,2),10);return new Date(oe,Ee,Te,Oe,$e,Xe,0)},we=f.__private__.setCreationDate=function(D){var oe;if(D===void 0&&(D=new Date),D instanceof Date)oe=ue(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=D}return ne=oe},F=f.__private__.getCreationDate=function(D){var oe=ne;return D==="jsDate"&&(oe=xe(ne)),oe};f.setCreationDate=function(D){return we(D),this},f.getCreationDate=function(D){return F(D)};var J,se=f.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},he=f.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},Q=0,$=[],V=[],te=0,ae=[],Z=[],ee=!1,_e=V,H=function(){Q=0,te=0,V=[],$=[],ae=[],za=Jr(),Ti=Jr()};f.__private__.setCustomOutputDestination=function(D){ee=!0,_e=D};var ve=function(D){ee||(_e=D)};f.__private__.resetCustomOutputDestination=function(){ee=!1,_e=V};var B=f.__private__.out=function(D){return D=D.toString(),te+=D.length+1,_e.push(D),_e},O=f.__private__.write=function(D){return B(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},L=f.__private__.getArrayBuffer=function(D){for(var oe=D.length,Ee=new ArrayBuffer(oe),Te=new Uint8Array(Ee);oe--;)Te[oe]=D.charCodeAt(oe);return Ee},W=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return W};var G=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(D){return G=x===v.ADVANCED?D/et:D,this};var ie,re=f.__private__.getFontSize=f.getFontSize=function(){return x===v.COMPAT?G:G*et},Ae=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(D){return Ae=D,this},f.__private__.getR2L=f.getR2L=function(){return Ae};var Ne,Se=f.__private__.setZoomMode=function(D){var oe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))ie=D;else if(isNaN(D)){if(oe.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');ie=D}else ie=parseInt(D,10)};f.__private__.getZoomMode=function(){return ie};var Ie,Fe=f.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Ne=D};f.__private__.getPageMode=function(){return Ne};var Ke=f.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Ie=D};f.__private__.getLayoutMode=function(){return Ie},f.__private__.setDisplayMode=f.setDisplayMode=function(D,oe,Ee){return Se(D),Ke(oe),Fe(Ee),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(D){if(Object.keys(nt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[D]},f.__private__.getDocumentProperties=function(){return nt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(D){for(var oe in nt)nt.hasOwnProperty(oe)&&D[oe]&&(nt[oe]=D[oe]);return this},f.__private__.setDocumentProperty=function(D,oe){if(Object.keys(nt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[D]=oe};var bt,et,or,gt,qr,$t={},Ft={},li=[],Bt={},na={},_r={},Sn={},Un=null,ir=0,Et=[],Qt=new QL(f),ia=t.hotfixes||[],Nn={},Si={},ks=[],dt=function D(oe,Ee,Te,Oe,$e,Xe){if(!(this instanceof D))return new D(oe,Ee,Te,Oe,$e,Xe);isNaN(oe)&&(oe=1),isNaN(Ee)&&(Ee=0),isNaN(Te)&&(Te=0),isNaN(Oe)&&(Oe=1),isNaN($e)&&($e=0),isNaN(Xe)&&(Xe=0),this._matrix=[oe,Ee,Te,Oe,$e,Xe]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(D)},dt.prototype.multiply=function(D){var oe=D.sx*this.sx+D.shy*this.shx,Ee=D.sx*this.shy+D.shy*this.sy,Te=D.shx*this.sx+D.sy*this.shx,Oe=D.shx*this.shy+D.sy*this.sy,$e=D.tx*this.sx+D.ty*this.shx+this.tx,Xe=D.tx*this.shy+D.ty*this.sy+this.ty;return new dt(oe,Ee,Te,Oe,$e,Xe)},dt.prototype.decompose=function(){var D=this.sx,oe=this.shy,Ee=this.shx,Te=this.sy,Oe=this.tx,$e=this.ty,Xe=Math.sqrt(D*D+oe*oe),st=(D/=Xe)*Ee+(oe/=Xe)*Te;Ee-=D*st,Te-=oe*st;var _=Math.sqrt(Ee*Ee+Te*Te);return st/=_,D*(Te/=_)<oe*(Ee/=_)&&(D=-D,oe=-oe,st=-st,Xe=-Xe),{scale:new dt(Xe,0,0,_,0,0),translate:new dt(1,0,0,1,Oe,$e),rotate:new dt(D,oe,-oe,D,0,0),skew:new dt(1,0,st,1,0,0)}},dt.prototype.toString=function(D){return this.join(" ")},dt.prototype.inversed=function(){var D=this.sx,oe=this.shy,Ee=this.shx,Te=this.sy,Oe=this.tx,$e=this.ty,Xe=1/(D*Te-oe*Ee),st=Te*Xe,_=-oe*Xe,z=-Ee*Xe,Y=D*Xe;return new dt(st,_,z,Y,-st*Oe-z*$e,-_*Oe-Y*$e)},dt.prototype.applyToPoint=function(D){var oe=D.x*this.sx+D.y*this.shx+this.tx,Ee=D.x*this.shy+D.y*this.sy+this.ty;return new Ml(oe,Ee)},dt.prototype.applyToRectangle=function(D){var oe=this.applyToPoint(D),Ee=this.applyToPoint(new Ml(D.x+D.w,D.y+D.h));return new Qc(oe.x,oe.y,Ee.x-oe.x,Ee.y-oe.y)},dt.prototype.clone=function(){var D=this.sx,oe=this.shy,Ee=this.shx,Te=this.sy,Oe=this.tx,$e=this.ty;return new dt(D,oe,Ee,Te,Oe,$e)},f.Matrix=dt;var ls=f.matrixMult=function(D,oe){return oe.multiply(D)},Ni=new dt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ni;var Tn=function(D,oe){if(!na[D]){var Ee=(oe instanceof lh?"Sh":"P")+(Object.keys(Bt).length+1).toString(10);oe.id=Ee,na[D]=Ee,Bt[Ee]=oe,Qt.publish("addPattern",oe)}};f.ShadingPattern=lh,f.TilingPattern=yp,f.addShadingPattern=function(D,oe){return k("addShadingPattern()"),Tn(D,oe),this},f.beginTilingPattern=function(D){k("beginTilingPattern()"),Zc(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},f.endTilingPattern=function(D,oe){k("endTilingPattern()"),oe.stream=Z[J].join(`
`),Tn(D,oe),Qt.publish("endTilingPattern",oe),ks.pop().restore()};var cn=f.__private__.newObject=function(){var D=Jr();return Pn(D,!0),D},Jr=f.__private__.newObjectDeferred=function(){return Q++,$[Q]=function(){return te},Q},Pn=function(D,oe){return oe=typeof oe=="boolean"&&oe,$[D]=te,oe&&B(D+" 0 obj"),D},Fc=f.__private__.newAdditionalObject=function(){var D={objId:Jr(),content:""};return ae.push(D),D},za=Jr(),Ti=Jr(),cs=f.__private__.decodeColorString=function(D){var oe=D.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length===5&&(oe[4]==="k"||oe[4]==="K")&&(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var Ee=parseFloat(oe[0]);oe=[Ee,Ee,Ee,"r"]}for(var Te="#",Oe=0;Oe<3;Oe++)Te+=("0"+Math.floor(255*parseFloat(oe[Oe])).toString(16)).slice(-2);return Te},Wi=f.__private__.encodeColorString=function(D){var oe;typeof D=="string"&&(D={ch1:D});var Ee=D.ch1,Te=D.ch2,Oe=D.ch3,$e=D.ch4,Xe=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var st=new MH(Ee);if(st.ok)Ee=st.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var _=parseInt(Ee.substr(1),16);Ee=_>>16&255,Te=_>>8&255,Oe=255&_}if(Te===void 0||$e===void 0&&Ee===Te&&Te===Oe)if(typeof Ee=="string")oe=Ee+" "+Xe[0];else switch(D.precision){case 2:oe=q(Ee/255)+" "+Xe[0];break;case 3:default:oe=M(Ee/255)+" "+Xe[0]}else if($e===void 0||mr($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return oe=["1.","1.","1.",Xe[1]].join(" ");if(typeof Ee=="string")oe=[Ee,Te,Oe,Xe[1]].join(" ");else switch(D.precision){case 2:oe=[q(Ee/255),q(Te/255),q(Oe/255),Xe[1]].join(" ");break;default:case 3:oe=[M(Ee/255),M(Te/255),M(Oe/255),Xe[1]].join(" ")}}else if(typeof Ee=="string")oe=[Ee,Te,Oe,$e,Xe[2]].join(" ");else switch(D.precision){case 2:oe=[q(Ee),q(Te),q(Oe),q($e),Xe[2]].join(" ");break;case 3:default:oe=[M(Ee),M(Te),M(Oe),M($e),Xe[2]].join(" ")}return oe},Hi=f.__private__.getFilters=function(){return a},un=f.__private__.putStream=function(D){var oe=(D=D||{}).data||"",Ee=D.filters||Hi(),Te=D.alreadyAppliedFilters||[],Oe=D.addLength1||!1,$e=oe.length,Xe=D.objectId,st=function(It){return It};if(u!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(st=Lr.encryptor(Xe,0));var _={};Ee===!0&&(Ee=["FlateEncode"]);var z=D.additionalKeyValues||[],Y=(_=xt.API.processDataByFilters!==void 0?xt.API.processDataByFilters(oe,Ee):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(_.data.length!==0&&(z.push({key:"Length",value:_.data.length}),Oe===!0&&z.push({key:"Length1",value:$e})),Y.length!=0)if(Y.split("/").length-1==1)z.push({key:"Filter",value:Y});else{z.push({key:"Filter",value:"["+Y+"]"});for(var me=0;me<z.length;me+=1)if(z[me].key==="DecodeParms"){for(var je=[],Me=0;Me<_.reverseChain.split("/").length-1;Me+=1)je.push("null");je.push(z[me].value),z[me].value="["+je.join(" ")+"]"}}B("<<");for(var Je=0;Je<z.length;Je++)B("/"+z[Je].key+" "+z[Je].value);B(">>"),_.data.length!==0&&(B("stream"),B(st(_.data)),B("endstream"))},Is=f.__private__.putPage=function(D){var oe=D.number,Ee=D.data,Te=D.objId,Oe=D.contentsObjId;Pn(Te,!0),B("<</Type /Page"),B("/Parent "+D.rootDictionaryObjId+" 0 R"),B("/Resources "+D.resourceDictionaryObjId+" 0 R"),B("/MediaBox ["+parseFloat(P(D.mediaBox.bottomLeftX))+" "+parseFloat(P(D.mediaBox.bottomLeftY))+" "+P(D.mediaBox.topRightX)+" "+P(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&B("/CropBox ["+P(D.cropBox.bottomLeftX)+" "+P(D.cropBox.bottomLeftY)+" "+P(D.cropBox.topRightX)+" "+P(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&B("/BleedBox ["+P(D.bleedBox.bottomLeftX)+" "+P(D.bleedBox.bottomLeftY)+" "+P(D.bleedBox.topRightX)+" "+P(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&B("/TrimBox ["+P(D.trimBox.bottomLeftX)+" "+P(D.trimBox.bottomLeftY)+" "+P(D.trimBox.topRightX)+" "+P(D.trimBox.topRightY)+"]"),D.artBox!==null&&B("/ArtBox ["+P(D.artBox.bottomLeftX)+" "+P(D.artBox.bottomLeftY)+" "+P(D.artBox.topRightX)+" "+P(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&B("/UserUnit "+D.userUnit),Qt.publish("putPage",{objId:Te,pageContext:Et[oe],pageNumber:oe,page:Ee}),B("/Contents "+Oe+" 0 R"),B(">>"),B("endobj");var $e=Ee.join(`
`);return x===v.ADVANCED&&($e+=`
Q`),Pn(Oe,!0),un({data:$e,filters:Hi(),objectId:Oe}),B("endobj"),Te},Io=f.__private__.putPages=function(){var D,oe,Ee=[];for(D=1;D<=ir;D++)Et[D].objId=Jr(),Et[D].contentsObjId=Jr();for(D=1;D<=ir;D++)Ee.push(Is({number:D,data:Z[D],objId:Et[D].objId,contentsObjId:Et[D].contentsObjId,mediaBox:Et[D].mediaBox,cropBox:Et[D].cropBox,bleedBox:Et[D].bleedBox,trimBox:Et[D].trimBox,artBox:Et[D].artBox,userUnit:Et[D].userUnit,rootDictionaryObjId:za,resourceDictionaryObjId:Ti}));Pn(za,!0),B("<</Type /Pages");var Te="/Kids [";for(oe=0;oe<ir;oe++)Te+=Ee[oe]+" 0 R ";B(Te+"]"),B("/Count "+ir),B(">>"),B("endobj"),Qt.publish("postPutPages")},jo=function(D){Qt.publish("putFont",{font:D,out:B,newObject:cn,putStream:un}),D.isAlreadyPutted!==!0&&(D.objectNumber=cn(),B("<<"),B("/Type /Font"),B("/BaseFont /"+Qf(D.postScriptName)),B("/Subtype /Type1"),typeof D.encoding=="string"&&B("/Encoding /"+D.encoding),B("/FirstChar 32"),B("/LastChar 255"),B(">>"),B("endobj"))},Oo=function(){for(var D in $t)$t.hasOwnProperty(D)&&(h===!1||h===!0&&p.hasOwnProperty(D))&&jo($t[D])},Pl=function(D){D.objectNumber=cn();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[P(D.x),P(D.y),P(D.x+D.width),P(D.y+D.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var Ee=D.pages[1].join(`
`);un({data:Ee,additionalKeyValues:oe,objectId:D.objectNumber}),B("endobj")},Cl=function(){for(var D in Nn)Nn.hasOwnProperty(D)&&Pl(Nn[D])},ff=function(D,oe){var Ee,Te=[],Oe=1/(oe-1);for(Ee=0;Ee<1;Ee+=Oe)Te.push(Ee);if(Te.push(1),D[0].offset!=0){var $e={offset:0,color:D[0].color};D.unshift($e)}if(D[D.length-1].offset!=1){var Xe={offset:1,color:D[D.length-1].color};D.push(Xe)}for(var st="",_=0,z=0;z<Te.length;z++){for(Ee=Te[z];Ee>D[_+1].offset;)_++;var Y=D[_].offset,me=(Ee-Y)/(D[_+1].offset-Y),je=D[_].color,Me=D[_+1].color;st+=he(Math.round((1-me)*je[0]+me*Me[0]).toString(16))+he(Math.round((1-me)*je[1]+me*Me[1]).toString(16))+he(Math.round((1-me)*je[2]+me*Me[2]).toString(16))}return st.trim()},Bc=function(D,oe){oe||(oe=21);var Ee=cn(),Te=ff(D.colors,oe),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+oe+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),un({data:Te,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),B("endobj"),D.objectNumber=cn(),B("<< /ShadingType "+D.type),B("/ColorSpace /DeviceRGB");var $e="/Coords ["+P(parseFloat(D.coords[0]))+" "+P(parseFloat(D.coords[1]))+" ";D.type===2?$e+=P(parseFloat(D.coords[2]))+" "+P(parseFloat(D.coords[3])):$e+=P(parseFloat(D.coords[2]))+" "+P(parseFloat(D.coords[3]))+" "+P(parseFloat(D.coords[4]))+" "+P(parseFloat(D.coords[5])),B($e+="]"),D.matrix&&B("/Matrix ["+D.matrix.toString()+"]"),B("/Function "+Ee+" 0 R"),B("/Extend [true true]"),B(">>"),B("endobj")},pf=function(D,oe){var Ee=Jr(),Te=cn();oe.push({resourcesOid:Ee,objectOid:Te}),D.objectNumber=Te;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+D.boundingBox.map(P).join(" ")+"]"}),Oe.push({key:"XStep",value:P(D.xStep)}),Oe.push({key:"YStep",value:P(D.yStep)}),Oe.push({key:"Resources",value:Ee+" 0 R"}),D.matrix&&Oe.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),un({data:D.stream,additionalKeyValues:Oe,objectId:D.objectNumber}),B("endobj")},Ro=function(D){var oe;for(oe in Bt)Bt.hasOwnProperty(oe)&&(Bt[oe]instanceof lh?Bc(Bt[oe]):Bt[oe]instanceof yp&&pf(Bt[oe],D))},Lo=function(D){for(var oe in D.objectNumber=cn(),B("<<"),D)switch(oe){case"opacity":B("/ca "+q(D[oe]));break;case"stroke-opacity":B("/CA "+q(D[oe]))}B(">>"),B("endobj")},qa=function(){var D;for(D in _r)_r.hasOwnProperty(D)&&Lo(_r[D])},kl=function(){for(var D in B("/XObject <<"),Nn)Nn.hasOwnProperty(D)&&Nn[D].objectNumber>=0&&B("/"+D+" "+Nn[D].objectNumber+" 0 R");Qt.publish("putXobjectDict"),B(">>")},Wm=function(){Lr.oid=cn(),B("<<"),B("/Filter /Standard"),B("/V "+Lr.v),B("/R "+Lr.r),B("/U <"+Lr.toHexString(Lr.U)+">"),B("/O <"+Lr.toHexString(Lr.O)+">"),B("/P "+Lr.P),B(">>"),B("endobj")},Cd=function(){for(var D in B("/Font <<"),$t)$t.hasOwnProperty(D)&&(h===!1||h===!0&&p.hasOwnProperty(D))&&B("/"+D+" "+$t[D].objectNumber+" 0 R");B(">>")},mf=function(){if(Object.keys(Bt).length>0){for(var D in B("/Shading <<"),Bt)Bt.hasOwnProperty(D)&&Bt[D]instanceof lh&&Bt[D].objectNumber>=0&&B("/"+D+" "+Bt[D].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),B(">>")}},Il=function(D){if(Object.keys(Bt).length>0){for(var oe in B("/Pattern <<"),Bt)Bt.hasOwnProperty(oe)&&Bt[oe]instanceof f.TilingPattern&&Bt[oe].objectNumber>=0&&Bt[oe].objectNumber<D&&B("/"+oe+" "+Bt[oe].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),B(">>")}},kd=function(){if(Object.keys(_r).length>0){var D;for(D in B("/ExtGState <<"),_r)_r.hasOwnProperty(D)&&_r[D].objectNumber>=0&&B("/"+D+" "+_r[D].objectNumber+" 0 R");Qt.publish("putGStateDict"),B(">>")}},Rr=function(D){Pn(D.resourcesOid,!0),B("<<"),B("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Cd(),mf(),Il(D.objectOid),kd(),kl(),B(">>"),B("endobj")},Id=function(){var D=[];Oo(),qa(),Cl(),Ro(D),Qt.publish("putResources"),D.forEach(Rr),Rr({resourcesOid:Ti,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources")},jd=function(){Qt.publish("putAdditionalObjects");for(var D=0;D<ae.length;D++){var oe=ae[D];Pn(oe.objId,!0),B(oe.content),B("endobj")}Qt.publish("postPutAdditionalObjects")},gf=function(D){Ft[D.fontName]=Ft[D.fontName]||{},Ft[D.fontName][D.fontStyle]=D.id},Od=function(D,oe,Ee,Te,Oe){var $e={id:"F"+(Object.keys($t).length+1).toString(10),postScriptName:D,fontName:oe,fontStyle:Ee,encoding:Te,isStandardFont:Oe||!1,metadata:{}};return Qt.publish("addFont",{font:$e,instance:this}),$t[$e.id]=$e,gf($e),$e.id},yf=function(D){for(var oe=0,Ee=W.length;oe<Ee;oe++){var Te=Od.call(this,D[oe][0],D[oe][1],D[oe][2],W[oe][3],!0);h===!1&&(p[Te]=!0);var Oe=D[oe][0].split("-");gf({id:Te,fontName:Oe[0],fontStyle:Oe[1]||""})}Qt.publish("addFonts",{fonts:$t,dictionary:Ft})},us=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Te){var oe=Te.stack||"";~oe.indexOf(" at ")&&(oe=oe.split(" at ")[1]);var Ee="Error in function "+oe.split(`
`)[0].split("<")[0]+": "+Te.message;if(!St.console)throw new Error(Ee);St.console.error(Ee,Te),St.alert&&alert(Ee)}},D.foo.bar=D,D.foo},Uc=function(D,oe){var Ee,Te,Oe,$e,Xe,st,_,z,Y;if(Oe=(oe=oe||{}).sourceEncoding||"Unicode",Xe=oe.outputEncoding,(oe.autoencode||Xe)&&$t[bt].metadata&&$t[bt].metadata[Oe]&&$t[bt].metadata[Oe].encoding&&($e=$t[bt].metadata[Oe].encoding,!Xe&&$t[bt].encoding&&(Xe=$t[bt].encoding),!Xe&&$e.codePages&&(Xe=$e.codePages[0]),typeof Xe=="string"&&(Xe=$e[Xe]),Xe)){for(_=!1,st=[],Ee=0,Te=D.length;Ee<Te;Ee++)(z=Xe[D.charCodeAt(Ee)])?st.push(String.fromCharCode(z)):st.push(D[Ee]),st[Ee].charCodeAt(0)>>8&&(_=!0);D=st.join("")}for(Ee=D.length;_===void 0&&Ee!==0;)D.charCodeAt(Ee-1)>>8&&(_=!0),Ee--;if(!_)return D;for(st=oe.noBOM?[]:[254,255],Ee=0,Te=D.length;Ee<Te;Ee++){if((Y=(z=D.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");st.push(Y),st.push(z-(Y<<8))}return String.fromCharCode.apply(void 0,st)},Qr=f.__private__.pdfEscape=f.pdfEscape=function(D,oe){return Uc(D,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gi=f.__private__.beginPage=function(D){Z[++ir]=[],Et[ir]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Rd(ir),ve(Z[J])},jl=function(D,oe){var Ee,Te,Oe;switch(r=oe||r,typeof D=="string"&&(Ee=m(D.toLowerCase()),Array.isArray(Ee)&&(Te=Ee[0],Oe=Ee[1])),Array.isArray(D)&&(Te=D[0]*et,Oe=D[1]*et),isNaN(Te)&&(Te=i[0],Oe=i[1]),(Te>14400||Oe>14400)&&(Nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Oe=Math.min(14400,Oe)),i=[Te,Oe],r.substr(0,1)){case"l":Oe>Te&&(i=[Oe,Te]);break;case"p":Te>Oe&&(i=[Oe,Te])}Gi(i),Bd(Fd),B(ci),Vd!==0&&B(Vd+" J"),Jc!==0&&B(Jc+" j"),Qt.publish("addPage",{pageNumber:ir})},$c=function(D){D>0&&D<=ir&&(Z.splice(D,1),Et.splice(D,1),ir--,J>ir&&(J=ir),this.setPage(J))},Rd=function(D){D>0&&D<=ir&&(J=D)},ur=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Z.length-1},Ol=function(D,oe,Ee){var Te,Oe=void 0;return Ee=Ee||{},D=D!==void 0?D:$t[bt].fontName,oe=oe!==void 0?oe:$t[bt].fontStyle,Te=D.toLowerCase(),Ft[Te]!==void 0&&Ft[Te][oe]!==void 0?Oe=Ft[Te][oe]:Ft[D]!==void 0&&Ft[D][oe]!==void 0?Oe=Ft[D][oe]:Ee.disableWarning===!1&&Nr.warn("Unable to look up font label for font '"+D+"', '"+oe+"'. Refer to getFontList() for available fonts."),Oe||Ee.noFallback||(Oe=Ft.times[oe])==null&&(Oe=Ft.times.normal),Oe},Rl=f.__private__.putInfo=function(){var D=cn(),oe=function(Te){return Te};for(var Ee in u!==null&&(oe=Lr.encryptor(D,0)),B("<<"),B("/Producer ("+Qr(oe("jsPDF "+xt.version))+")"),nt)nt.hasOwnProperty(Ee)&&nt[Ee]&&B("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+Qr(oe(nt[Ee]))+")");B("/CreationDate ("+Qr(oe(ne))+")"),B(">>"),B("endobj")},Wa=f.__private__.putCatalog=function(D){var oe=(D=D||{}).rootDictionaryObjId||za;switch(cn(),B("<<"),B("/Type /Catalog"),B("/Pages "+oe+" 0 R"),ie||(ie="fullwidth"),ie){case"fullwidth":B("/OpenAction [3 0 R /FitH null]");break;case"fullheight":B("/OpenAction [3 0 R /FitV null]");break;case"fullpage":B("/OpenAction [3 0 R /Fit]");break;case"original":B("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+ie;Ee.substr(Ee.length-1)==="%"&&(ie=parseInt(ie)/100),typeof ie=="number"&&B("/OpenAction [3 0 R /XYZ null null "+q(ie)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":B("/PageLayout /OneColumn");break;case"single":B("/PageLayout /SinglePage");break;case"two":case"twoleft":B("/PageLayout /TwoColumnLeft");break;case"tworight":B("/PageLayout /TwoColumnRight")}Ne&&B("/PageMode /"+Ne),Qt.publish("putCatalog"),B(">>"),B("endobj")},Hm=f.__private__.putTrailer=function(){B("trailer"),B("<<"),B("/Size "+(Q+1)),B("/Root "+Q+" 0 R"),B("/Info "+(Q-1)+" 0 R"),u!==null&&B("/Encrypt "+Lr.oid+" 0 R"),B("/ID [ <"+pe+"> <"+pe+"> ]"),B(">>")},vf=f.__private__.putHeader=function(){B("%PDF-"+y),B("%ºß¬à")},Gm=f.__private__.putXRef=function(){var D="0000000000";B("xref"),B("0 "+(Q+1)),B("0000000000 65535 f ");for(var oe=1;oe<=Q;oe++)typeof $[oe]=="function"?B((D+$[oe]()).slice(-10)+" 00000 n "):$[oe]!==void 0?B((D+$[oe]).slice(-10)+" 00000 n "):B("0000000000 00000 n ")},Ha=f.__private__.buildDocument=function(){H(),ve(V),Qt.publish("buildDocument"),vf(),Io(),jd(),Id(),u!==null&&Wm(),Rl(),Wa();var D=te;return Gm(),Hm(),B("startxref"),B(""+D),B("%%EOF"),ve(Z[J]),V.join(`
`)},Vc=f.__private__.getBlob=function(D){return new Blob([L(D)],{type:"application/pdf"})},zc=f.output=f.__private__.output=us(function(D,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",D){case void 0:return Ha();case"save":f.save(oe.filename);break;case"arraybuffer":return L(Ha());case"blob":return Vc(Ha());case"bloburi":case"bloburl":if(St.URL!==void 0&&typeof St.URL.createObjectURL=="function")return St.URL&&St.URL.createObjectURL(Vc(Ha()))||void 0;Nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Te=Ha();try{Ee=f4(Te)}catch{Ee=f4(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+oe.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&(Oe=oe.pdfObjectUrl,$e="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",st=St.open();return st!==null&&st.document.write(Xe),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',z=St.open();if(z!==null){z.document.write(_);var Y=this;z.document.documentElement.querySelector("#pdfViewer").onload=function(){z.document.title=oe.filename,z.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Y.output("bloburl"))}}return z}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(St)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',je=St.open();if(je!==null&&(je.document.write(me),je.document.title=oe.filename),je||typeof safari>"u")return je;break;case"datauri":case"dataurl":return St.document.location.href=this.output("datauristring",oe);default:return null}}),Do=function(D){return Array.isArray(ia)===!0&&ia.indexOf(D)>-1};switch(n){case"pt":et=1;break;case"mm":et=72/25.4;break;case"cm":et=72/2.54;break;case"in":et=72;break;case"px":et=Do("px_scaling")==1?.75:96/72;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);et=n}var Lr=null;we(),ce();var wf=function(D){return u!==null?Lr.encryptor(D,0):function(oe){return oe}},Ld=f.__private__.getPageInfo=f.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[D].objId,pageNumber:D,pageContext:Et[D]}},Pt=f.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in Et)if(Et[oe].objId===D)break;return Ld(oe)},Mo=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Et[J].objId,pageNumber:J,pageContext:Et[J]}};f.addPage=function(){return jl.apply(this,arguments),this},f.setPage=function(){return Rd.apply(this,arguments),ve.call(this,Z[J]),this},f.insertPage=function(D){return this.addPage(),this.movePage(J,D),this},f.movePage=function(D,oe){var Ee,Te;if(D>oe){Ee=Z[D],Te=Et[D];for(var Oe=D;Oe>oe;Oe--)Z[Oe]=Z[Oe-1],Et[Oe]=Et[Oe-1];Z[oe]=Ee,Et[oe]=Te,this.setPage(oe)}else if(D<oe){Ee=Z[D],Te=Et[D];for(var $e=D;$e<oe;$e++)Z[$e]=Z[$e+1],Et[$e]=Et[$e+1];Z[oe]=Ee,Et[oe]=Te,this.setPage(oe)}return this},f.deletePage=function(){return $c.apply(this,arguments),this},f.__private__.text=f.text=function(D,oe,Ee,Te,Oe){var $e,Xe,st,_,z,Y,me,je,Me,Je=(Te=Te||{}).scope||this;if(typeof D=="number"&&typeof oe=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var It=Ee;Ee=oe,oe=D,D=It}if(arguments[3]instanceof dt?(k("The transform parameter of text() with a Matrix value"),Me=Oe):(st=arguments[4],_=arguments[5],mr(me=arguments[3])==="object"&&me!==null||(typeof st=="string"&&(_=st,st=null),typeof me=="string"&&(_=me,me=null),typeof me=="number"&&(st=me,me=null),Te={flags:me,angle:st,align:_})),isNaN(oe)||isNaN(Ee)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return Je;var zt="",jt=!1,cr=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:lr,Er=Je.internal.scaleFactor;function Ja(kr){return kr=kr.split("	").join(Array(Te.TabLen||9).join(" ")),Qr(kr,me)}function ui(kr){for(var Ir,hn=kr.concat(),Vn=[],Vl=hn.length;Vl--;)typeof(Ir=hn.shift())=="string"?Vn.push(Ir):Array.isArray(kr)&&(Ir.length===1||Ir[1]===void 0&&Ir[2]===void 0)?Vn.push(Ir[0]):Vn.push([Ir[0],Ir[1],Ir[2]]);return Vn}function $o(kr,Ir){var hn;if(typeof kr=="string")hn=Ir(kr)[0];else if(Array.isArray(kr)){for(var Vn,Vl,rg=kr.concat(),jf=[],Jy=rg.length;Jy--;)typeof(Vn=rg.shift())=="string"?jf.push(Ir(Vn)[0]):Array.isArray(Vn)&&typeof Vn[0]=="string"&&(Vl=Ir(Vn[0],Vn[1],Vn[2]),jf.push([Vl[0],Vl[1],Vl[2]]));hn=jf}return hn}var Vo=!1,Ym=!0;if(typeof D=="string")Vo=!0;else if(Array.isArray(D)){var Xm=D.concat();Xe=[];for(var Af,di=Xm.length;di--;)(typeof(Af=Xm.shift())!="string"||Array.isArray(Af)&&typeof Af[0]!="string")&&(Ym=!1);Vo=Ym}if(Vo===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Sf=G/Je.internal.scaleFactor,Nf=Sf*(cr-1);switch(Te.baseline){case"bottom":Ee-=Nf;break;case"top":Ee+=Sf-Nf;break;case"hanging":Ee+=Sf-2*Nf;break;case"middle":Ee+=Sf/2-Nf}if((Y=Te.maxWidth||0)>0&&(typeof D=="string"?D=Je.splitTextToSize(D,Y):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(kr,Ir){return kr.concat(Je.splitTextToSize(Ir,Y))},[]))),$e={text:D,x:oe,y:Ee,options:Te,mutex:{pdfEscape:Qr,activeFontKey:bt,fonts:$t,activeFontSize:G}},Qt.publish("preProcessText",$e),D=$e.text,st=(Te=$e.options).angle,!(Me instanceof dt)&&st&&typeof st=="number"){st*=Math.PI/180,Te.rotationDirection===0&&(st=-st),x===v.ADVANCED&&(st=-st);var Tf=Math.cos(st),Jm=Math.sin(st);Me=new dt(Tf,Jm,-Jm,Tf,0,0)}else st&&st instanceof dt&&(Me=st);x!==v.ADVANCED||Me||(Me=Ni),(z=Te.charSpace||Dl)!==void 0&&(zt+=P(A(z))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(je=Te.horizontalScale)!==void 0&&(zt+=P(100*je)+` Tz
`),Te.lang;var ds=-1,Q2=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,Qm=Je.internal.getCurrentPageInfo().pageContext;switch(Q2){case 0:case!1:case"fill":ds=0;break;case 1:case!0:case"stroke":ds=1;break;case 2:case"fillThenStroke":ds=2;break;case 3:case"invisible":ds=3;break;case 4:case"fillAndAddForClipping":ds=4;break;case 5:case"strokeAndAddPathForClipping":ds=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ds=6;break;case 7:case"addToPathForClipping":ds=7}var Gy=Qm.usedRenderingMode!==void 0?Qm.usedRenderingMode:-1;ds!==-1?zt+=ds+` Tr
`:Gy!==-1&&(zt+=`0 Tr
`),ds!==-1&&(Qm.usedRenderingMode=ds),_=Te.align||"left";var aa,Pf=G*cr,Ky=Je.internal.pageSize.getWidth(),Yy=$t[bt];z=Te.charSpace||Dl,Y=Te.maxWidth||0,me=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var ru=[],zd=function(kr){return Je.getStringUnitWidth(kr,{font:Yy,charSpace:z,fontSize:G,doKerning:!1})*G/Er};if(Object.prototype.toString.call(D)==="[object Array]"){var hs;Xe=ui(D),_!=="left"&&(aa=Xe.map(zd));var Ki,nu=0;if(_==="right"){oe-=aa[0],D=[],di=Xe.length;for(var Bl=0;Bl<di;Bl++)Bl===0?(Ki=Rs(oe),hs=$n(Ee)):(Ki=A(nu-aa[Bl]),hs=-Pf),D.push([Xe[Bl],Ki,hs]),nu=aa[Bl]}else if(_==="center"){oe-=aa[0]/2,D=[],di=Xe.length;for(var Ul=0;Ul<di;Ul++)Ul===0?(Ki=Rs(oe),hs=$n(Ee)):(Ki=A((nu-aa[Ul])/2),hs=-Pf),D.push([Xe[Ul],Ki,hs]),nu=aa[Ul]}else if(_==="left"){D=[],di=Xe.length;for(var Cf=0;Cf<di;Cf++)D.push(Xe[Cf])}else if(_==="justify"&&Yy.encoding==="Identity-H"){D=[],di=Xe.length,Y=Y!==0?Y:Ky;for(var $l=0,dn=0;dn<di;dn++)if(hs=dn===0?$n(Ee):-Pf,Ki=dn===0?Rs(oe):$l,dn<di-1){var Zm=A((Y-aa[dn])/(Xe[dn].split(" ").length-1)),Yi=Xe[dn].split(" ");D.push([Yi[0]+" ",Ki,hs]),$l=0;for(var oa=1;oa<Yi.length;oa++){var kf=(zd(Yi[oa-1]+" "+Yi[oa])-zd(Yi[oa]))*Er+Zm;oa==Yi.length-1?D.push([Yi[oa],kf,0]):D.push([Yi[oa]+" ",kf,0]),$l-=kf}}else D.push([Xe[dn],Ki,hs]);D.push(["",$l,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],di=Xe.length,Y=Y!==0?Y:Ky,dn=0;dn<di;dn++)hs=dn===0?$n(Ee):-Pf,Ki=dn===0?Rs(oe):0,dn<di-1?ru.push(P(A((Y-aa[dn])/(Xe[dn].split(" ").length-1)))):ru.push(0),D.push([Xe[dn],Ki,hs])}}var Xy=typeof Te.R2L=="boolean"?Te.R2L:Ae;Xy===!0&&(D=$o(D,function(kr,Ir,hn){return[kr.split("").reverse().join(""),Ir,hn]})),$e={text:D,x:oe,y:Ee,options:Te,mutex:{pdfEscape:Qr,activeFontKey:bt,fonts:$t,activeFontSize:G}},Qt.publish("postProcessText",$e),D=$e.text,jt=$e.mutex.isHex||!1;var eg=$t[bt].encoding;eg!=="WinAnsiEncoding"&&eg!=="StandardEncoding"||(D=$o(D,function(kr,Ir,hn){return[Ja(kr),Ir,hn]})),Xe=ui(D),D=[];for(var qd,Wd,iu,Hd=0,If=1,Gd=Array.isArray(Xe[0])?If:Hd,su="",tg=function(kr,Ir,hn){var Vn="";return hn instanceof dt?(hn=typeof Te.angle=="number"?ls(hn,new dt(1,0,0,1,kr,Ir)):ls(new dt(1,0,0,1,kr,Ir),hn),x===v.ADVANCED&&(hn=ls(new dt(1,0,0,-1,0,0),hn)),Vn=hn.join(" ")+` Tm
`):Vn=P(kr)+" "+P(Ir)+` Td
`,Vn},la=0;la<Xe.length;la++){switch(su="",Gd){case If:iu=(jt?"<":"(")+Xe[la][0]+(jt?">":")"),qd=parseFloat(Xe[la][1]),Wd=parseFloat(Xe[la][2]);break;case Hd:iu=(jt?"<":"(")+Xe[la]+(jt?">":")"),qd=Rs(oe),Wd=$n(Ee)}ru!==void 0&&ru[la]!==void 0&&(su=ru[la]+` Tw
`),la===0?D.push(su+tg(qd,Wd,Me)+iu):Gd===Hd?D.push(su+iu):Gd===If&&D.push(su+tg(qd,Wd,Me)+iu)}D=Gd===Hd?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var ca=`BT
/`;return ca+=bt+" "+G+` Tf
`,ca+=P(G*cr)+` TL
`,ca+=Ya+`
`,ca+=zt,ca+=D,B(ca+="ET"),p[bt]=!0,Je};var Km=f.__private__.clip=f.clip=function(D){return B(D==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Km("evenodd")},f.__private__.discardPath=f.discardPath=function(){return B("n"),this};var sa=f.__private__.isValidStyle=function(D){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(oe=!0),oe};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(D){return sa(D)&&(c=D),this};var bf=f.__private__.getStyle=f.getStyle=function(D){var oe=c;switch(D){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=D}return oe},js=f.close=function(){return B("h"),this};f.stroke=function(){return B("S"),this},f.fill=function(D){return qc("f",D),this},f.fillEvenOdd=function(D){return qc("f*",D),this},f.fillStroke=function(D){return qc("B",D),this},f.fillStrokeEvenOdd=function(D){return qc("B*",D),this};var qc=function(D,oe){mr(oe)==="object"?Hc(oe,D):B(D)},Dd=function(D){D===null||x===v.ADVANCED&&D===void 0||(D=bf(D),B(D))};function Wc(D,oe,Ee,Te,Oe){var $e=new yp(oe||this.boundingBox,Ee||this.xStep,Te||this.yStep,this.gState,Oe||this.matrix);$e.stream=this.stream;var Xe=D+"$$"+this.cloneIndex+++"$$";return Tn(Xe,$e),$e}var Hc=function(D,oe){var Ee=na[D.key],Te=Bt[Ee];if(Te instanceof lh)B("q"),B(xf(oe)),Te.gState&&f.setGState(Te.gState),B(D.matrix.toString()+" cm"),B("/"+Ee+" sh"),B("Q");else if(Te instanceof yp){var Oe=new dt(1,0,0,-1,0,Pi());D.matrix&&(Oe=Oe.multiply(D.matrix||Ni),Ee=Wc.call(Te,D.key,D.boundingBox,D.xStep,D.yStep,Oe).id),B("q"),B("/Pattern cs"),B("/"+Ee+" scn"),Te.gState&&f.setGState(Te.gState),B(oe),B("Q")}},xf=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ga=f.moveTo=function(D,oe){return B(P(A(D))+" "+P(j(oe))+" m"),this},Os=f.lineTo=function(D,oe){return B(P(A(D))+" "+P(j(oe))+" l"),this},Ka=f.curveTo=function(D,oe,Ee,Te,Oe,$e){return B([P(A(D)),P(j(oe)),P(A(Ee)),P(j(Te)),P(A(Oe)),P(j($e)),"c"].join(" ")),this};f.__private__.line=f.line=function(D,oe,Ee,Te,Oe){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||isNaN(Te)||!sa(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return x===v.COMPAT?this.lines([[Ee-D,Te-oe]],D,oe,[1,1],Oe||"S"):this.lines([[Ee-D,Te-oe]],D,oe,[1,1]).stroke()},f.__private__.lines=f.lines=function(D,oe,Ee,Te,Oe,$e){var Xe,st,_,z,Y,me,je,Me,Je,It,zt,jt;if(typeof D=="number"&&(jt=Ee,Ee=oe,oe=D,D=jt),Te=Te||[1,1],$e=$e||!1,isNaN(oe)||isNaN(Ee)||!Array.isArray(D)||!Array.isArray(Te)||!sa(Oe)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ga(oe,Ee),Xe=Te[0],st=Te[1],z=D.length,It=oe,zt=Ee,_=0;_<z;_++)(Y=D[_]).length===2?(It=Y[0]*Xe+It,zt=Y[1]*st+zt,Os(It,zt)):(me=Y[0]*Xe+It,je=Y[1]*st+zt,Me=Y[2]*Xe+It,Je=Y[3]*st+zt,It=Y[4]*Xe+It,zt=Y[5]*st+zt,Ka(me,je,Me,Je,It,zt));return $e&&js(),Dd(Oe),this},f.path=function(D){for(var oe=0;oe<D.length;oe++){var Ee=D[oe],Te=Ee.c;switch(Ee.op){case"m":Ga(Te[0],Te[1]);break;case"l":Os(Te[0],Te[1]);break;case"c":Ka.apply(this,Te);break;case"h":js()}}return this},f.__private__.rect=f.rect=function(D,oe,Ee,Te,Oe){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||isNaN(Te)||!sa(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return x===v.COMPAT&&(Te=-Te),B([P(A(D)),P(j(oe)),P(A(Ee)),P(A(Te)),"re"].join(" ")),Dd(Oe),this},f.__private__.triangle=f.triangle=function(D,oe,Ee,Te,Oe,$e,Xe){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||isNaN(Te)||isNaN(Oe)||isNaN($e)||!sa(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-D,Te-oe],[Oe-Ee,$e-Te],[D-Oe,oe-$e]],D,oe,[1,1],Xe,!0),this},f.__private__.roundedRect=f.roundedRect=function(D,oe,Ee,Te,Oe,$e,Xe){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||isNaN(Te)||isNaN(Oe)||isNaN($e)||!sa(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*Ee),$e=Math.min($e,.5*Te),this.lines([[Ee-2*Oe,0],[Oe*st,0,Oe,$e-$e*st,Oe,$e],[0,Te-2*$e],[0,$e*st,-Oe*st,$e,-Oe,$e],[2*Oe-Ee,0],[-Oe*st,0,-Oe,-$e*st,-Oe,-$e],[0,2*$e-Te],[0,-$e*st,Oe*st,-$e,Oe,-$e]],D+Oe,oe,[1,1],Xe,!0),this},f.__private__.ellipse=f.ellipse=function(D,oe,Ee,Te,Oe){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||isNaN(Te)||!sa(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*Ee,Xe=4/3*(Math.SQRT2-1)*Te;return Ga(D+Ee,oe),Ka(D+Ee,oe-Xe,D+$e,oe-Te,D,oe-Te),Ka(D-$e,oe-Te,D-Ee,oe-Xe,D-Ee,oe),Ka(D-Ee,oe+Xe,D-$e,oe+Te,D,oe+Te),Ka(D+$e,oe+Te,D+Ee,oe+Xe,D+Ee,oe),Dd(Oe),this},f.__private__.circle=f.circle=function(D,oe,Ee,Te){if(isNaN(D)||isNaN(oe)||isNaN(Ee)||!sa(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,oe,Ee,Ee,Te)},f.setFont=function(D,oe,Ee){return Ee&&(oe=C(oe,Ee)),bt=Ol(D,oe,{disableWarning:!1}),this};var Md=f.__private__.getFont=f.getFont=function(){return $t[Ol.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var D,oe,Ee={};for(D in Ft)if(Ft.hasOwnProperty(D))for(oe in Ee[D]=[],Ft[D])Ft[D].hasOwnProperty(oe)&&Ee[D].push(oe);return Ee},f.addFont=function(D,oe,Ee,Te,Oe){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(Ee=C(Ee,Te)),Oe=Oe||"Identity-H",Od.call(this,D,oe,Ee,Oe)};var lr,Fd=t.lineWidth||.200025,Gc=f.__private__.getLineWidth=f.getLineWidth=function(){return Fd},Bd=f.__private__.setLineWidth=f.setLineWidth=function(D){return Fd=D,B(P(A(D))+" w"),this};f.__private__.setLineDash=xt.API.setLineDash=xt.API.setLineDashPattern=function(D,oe){if(D=D||[],oe=oe||0,isNaN(oe)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ee){return P(A(Ee))}).join(" "),oe=P(A(oe)),B("["+D+"] "+oe+" d"),this};var Ud=f.__private__.getLineHeight=f.getLineHeight=function(){return G*lr};f.__private__.getLineHeight=f.getLineHeight=function(){return G*lr};var $d=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(lr=D),this},Ll=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return lr};$d(t.lineHeight);var Rs=f.__private__.getHorizontalCoordinate=function(D){return A(D)},$n=f.__private__.getVerticalCoordinate=function(D){return x===v.ADVANCED?D:Et[J].mediaBox.topRightY-Et[J].mediaBox.bottomLeftY-A(D)},_f=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(D){return P(Rs(D))},Fo=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(D){return P($n(D))},ci=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return cs(ci)},f.__private__.setStrokeColor=f.setDrawColor=function(D,oe,Ee,Te){return ci=Wi({ch1:D,ch2:oe,ch3:Ee,ch4:Te,pdfColorType:"draw",precision:2}),B(ci),this};var Kc=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return cs(Kc)},f.__private__.setFillColor=f.setFillColor=function(D,oe,Ee,Te){return Kc=Wi({ch1:D,ch2:oe,ch3:Ee,ch4:Te,pdfColorType:"fill",precision:2}),B(Kc),this};var Ya=t.textColor||"0 g",Yc=f.__private__.getTextColor=f.getTextColor=function(){return cs(Ya)};f.__private__.setTextColor=f.setTextColor=function(D,oe,Ee,Te){return Ya=Wi({ch1:D,ch2:oe,ch3:Ee,ch4:Te,pdfColorType:"text",precision:3}),this};var Dl=t.charSpace,Xc=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Dl||0)};f.__private__.setCharSpace=f.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Dl=D,this};var Vd=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(D){var oe=f.CapJoinStyles[D];if(oe===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vd=oe,B(oe+" J"),this};var Jc=0;f.__private__.setLineJoin=f.setLineJoin=function(D){var oe=f.CapJoinStyles[D];if(oe===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jc=oe,B(oe+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return B(P(A(D))+" M"),this},f.GState=Db,f.setGState=function(D){(D=typeof D=="string"?_r[Sn[D]]:Bo(null,D)).equals(Un)||(B("/"+D.id+" gs"),Un=D)};var Bo=function(D,oe){if(!D||!Sn[D]){var Ee=!1;for(var Te in _r)if(_r.hasOwnProperty(Te)&&_r[Te].equals(oe)){Ee=!0;break}if(Ee)oe=_r[Te];else{var Oe="GS"+(Object.keys(_r).length+1).toString(10);_r[Oe]=oe,oe.id=Oe}return D&&(Sn[D]=oe.id),Qt.publish("addGState",oe),oe}};f.addGState=function(D,oe){return Bo(D,oe),this},f.saveGraphicsState=function(){return B("q"),li.push({key:bt,size:G,color:Ya}),this},f.restoreGraphicsState=function(){B("Q");var D=li.pop();return bt=D.key,G=D.size,Ya=D.color,Un=null,this},f.setCurrentTransformationMatrix=function(D){return B(D.toString()+" cm"),this},f.comment=function(D){return B("#"+D),this};var Ml=function(D,oe){var Ee=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function($e){isNaN($e)||(Ee=parseFloat($e))}});var Te=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function($e){isNaN($e)||(Te=parseFloat($e))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function($e){Oe=$e.toString()}}),this},Qc=function(D,oe,Ee,Te){Ml.call(this,D,oe),this.type="rect";var Oe=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(Xe){isNaN(Xe)||(Oe=parseFloat(Xe))}});var $e=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(Xe){isNaN(Xe)||($e=parseFloat(Xe))}}),this},Fl=function(){this.page=ir,this.currentPage=J,this.pages=Z.slice(0),this.pagesContext=Et.slice(0),this.x=or,this.y=gt,this.matrix=qr,this.width=Uo(J),this.height=Pi(J),this.outputDestination=_e,this.id="",this.objectNumber=-1};Fl.prototype.restore=function(){ir=this.page,J=this.currentPage,Et=this.pagesContext,Z=this.pages,or=this.x,gt=this.y,qr=this.matrix,eu(J,this.width),tu(J,this.height),_e=this.outputDestination};var Zc=function(D,oe,Ee,Te,Oe){ks.push(new Fl),ir=J=0,Z=[],or=D,gt=oe,qr=Oe,Gi([Ee,Te])},Ef=function(D){if(Si[D])ks.pop().restore();else{var oe=new Fl,Ee="Xo"+(Object.keys(Nn).length+1).toString(10);oe.id=Ee,Si[D]=Ee,Nn[Ee]=oe,Qt.publish("addFormObject",oe),ks.pop().restore()}};for(var Xa in f.beginFormObject=function(D,oe,Ee,Te,Oe){return Zc(D,oe,Ee,Te,Oe),this},f.endFormObject=function(D){return Ef(D),this},f.doFormObject=function(D,oe){var Ee=Nn[Si[D]];return B("q"),B(oe.toString()+" cm"),B("/"+Ee.id+" Do"),B("Q"),this},f.getFormObject=function(D){var oe=Nn[Si[D]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},f.save=function(D,oe){return D=D||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(ah(Vc(Ha()),D),typeof ah.unload=="function"&&St.setTimeout&&setTimeout(ah.unload,911),this):new Promise(function(Ee,Te){try{var Oe=ah(Vc(Ha()),D);typeof ah.unload=="function"&&St.setTimeout&&setTimeout(ah.unload,911),Ee(Oe)}catch($e){Te($e.message)}})},xt.API)xt.API.hasOwnProperty(Xa)&&(Xa==="events"&&xt.API.events.length?function(D,oe){var Ee,Te,Oe;for(Oe=oe.length-1;Oe!==-1;Oe--)Ee=oe[Oe][0],Te=oe[Oe][1],D.subscribe.apply(D,[Ee].concat(typeof Te=="function"?[Te]:Te))}(Qt,xt.API.events):f[Xa]=xt.API[Xa]);var Uo=f.getPageWidth=function(D){return(Et[D=D||J].mediaBox.topRightX-Et[D].mediaBox.bottomLeftX)/et},eu=f.setPageWidth=function(D,oe){Et[D].mediaBox.topRightX=oe*et+Et[D].mediaBox.bottomLeftX},Pi=f.getPageHeight=function(D){return(Et[D=D||J].mediaBox.topRightY-Et[D].mediaBox.bottomLeftY)/et},tu=f.setPageHeight=function(D,oe){Et[D].mediaBox.topRightY=oe*et+Et[D].mediaBox.bottomLeftY};return f.internal={pdfEscape:Qr,getStyle:bf,getFont:Md,getFontSize:re,getCharSpace:Xc,getTextColor:Yc,getLineHeight:Ud,getLineHeightFactor:Ll,getLineWidth:Gc,write:O,getHorizontalCoordinate:Rs,getVerticalCoordinate:$n,getCoordinateString:_f,getVerticalCoordinateString:Fo,collections:{},newObject:cn,newAdditionalObject:Fc,newObjectDeferred:Jr,newObjectDeferredBegin:Pn,getFilters:Hi,putStream:un,events:Qt,scaleFactor:et,pageSize:{getWidth:function(){return Uo(J)},setWidth:function(D){eu(J,D)},getHeight:function(){return Pi(J)},setHeight:function(D){tu(J,D)}},encryptionOptions:u,encryption:Lr,getEncryptor:wf,output:zc,getNumberOfPages:ur,pages:Z,out:B,f2:q,f3:M,getPageInfo:Ld,getPageInfoByObjId:Pt,getCurrentPageInfo:Mo,getPDFVersion:g,Point:Ml,Rectangle:Qc,Matrix:dt,hasHotfix:Do},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Uo(J)},set:function(D){eu(J,D)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Pi(J)},set:function(D){tu(J,D)},enumerable:!0,configurable:!0}),yf.call(f,W),bt="F1",jl(i,r),Qt.publish("initialized"),f}Jf.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Jf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jf.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Jf.prototype.processOwnerPassword=function(t,e){return m4(p4(e).substr(0,5),t)},Jf.prototype.encryptor=function(t,e){var r=p4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return m4(r,n)}},Db.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||mr(t)!==mr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},xt.API={events:[]},xt.version="3.0.1";var tn=xt.API,zC=1,uf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(t){return t.toFixed(2)},bu=function(t){return t.toFixed(5)};tn.__acroform__={};var Cs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ZL=function(t){return t*zC},Ho=function(t){var e=new $H,r=mt.internal.getHeight(t)||0,n=mt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ot(n)),Number(Ot(r))],e},LEe=tn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},DEe=tn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},MEe=tn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},gn=tn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return MEe(t,e-1)},yn=tn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return LEe(t,e-1)},vn=tn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return DEe(t,e-1)},FEe=tn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(Ot(l.lowerLeft_X)),Number(Ot(l.lowerLeft_Y)),Number(Ot(l.upperRight_X)),Number(Ot(l.upperRight_Y))]},BEe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=g4(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ot(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ho(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},g4=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(M){return M.split(`
`)}):i.map(function(M){return[M]});var s=r,a=mt.internal.getHeight(t)||0;a=a<0?-a:a;var o=mt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(M,A,I){if(M+1<i.length){var j=A+" "+i[M+1][0];return i1(j,t,I).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,h=i1("3",t,s).height,p=t.multiline?a-s:(a-h)/2,f=p+=2,y=0,g=0,w=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+i1(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var m="",v=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var E=!1;if(i[x].length!==1&&w!==i[x].length-1){if((h+2)*(v+2)+2>a)continue e;m+=i[x][w],E=!0,g=x,x--}else{m=(m+=i[x][w]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var N=parseInt(x),C=l(N,m,s),P=x>=i.length-1;if(C&&!P){m+=" ",w=0;continue}if(C||P){if(P)g=N;else if(t.multiline&&(h+2)*(v+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(v+2)+2>a)continue e;g=N}}for(var k="",T=y;T<=g;T++){var q=i[T];if(t.multiline){if(T===g){k+=q[w]+" ",w=(w+1)%q.length;continue}if(T===y){k+=q[q.length-1]+" ";continue}}k+=q[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=i1(k,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}e+=Ot(c)+" "+Ot(f)+` Td
`,e+="("+uf(k)+`) Tj
`,e+=-Ot(c)+` 0 Td
`,f=-(s+2),u=0,y=E?g:g+1,v++,m=""}break}return n.text=e,n.fontSize=s,n},i1=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},UEe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$Ee=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},VEe=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),mr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},zEe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Co.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(UEe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");zC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new VH,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&$Ee(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=FEe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=mt.createDefaultAppearanceStream(o),mr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=BEe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var f=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var y=f[a];typeof y=="function"&&(y=y.call(i,o)),h+="/"+a+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(i,o)),h+="/"+a+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&VEe(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},UH=tn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),mr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+uf(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},z_=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+uf(n(t))+")"},sl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sl.prototype.toString=function(){return this.objId+" 0 R"},sl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},sl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:UH(i,this.objId,this.scope)}):i instanceof sl?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var $H=function(){sl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Cs($H,sl);var VH=function(){sl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+uf(r(t))+")"}},set:function(r){t=r}})};Cs(VH,sl);var Co=function t(){sl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!gn(e,3)},set:function(m){m?this.F=yn(e,3):this.F=vn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');r=m}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(m){n=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(m){n[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(m){n[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(m){n[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(m){n[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Mb)return;s="FieldObject"+t.FieldNum++}var m=function(v){return v};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+uf(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/zC:c},set:function(m){c=m}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(m){u=m}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Mb||this instanceof Oh))return z_(h,this.objId,this.scope)},set:function(m){m=m.toString(),h=m}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ti?p:z_(p,this.objId,this.scope)},set:function(m){m=m.toString(),p=this instanceof ti?m:m.substr(0,1)==="("?zf(m.substr(1,m.length-2)):zf(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ti?zf(p.substr(1,p.length-1)):p},set:function(m){m=m.toString(),p=this instanceof ti?"/"+m:m}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ti?f:z_(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=this instanceof ti?m:m.substr(0,1)==="("?zf(m.substr(1,m.length-2)):zf(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ti?zf(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof ti?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(m){m=!!m,g=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(m){y=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,1)},set:function(m){m?this.Ff=yn(this.Ff,1):this.Ff=vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,2)},set:function(m){m?this.Ff=yn(this.Ff,2):this.Ff=vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,3)},set:function(m){m?this.Ff=yn(this.Ff,3):this.Ff=vn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');w=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(w){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};Cs(Co,sl);var jp=function(){Co.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return UH(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,18)},set:function(r){r?this.Ff=yn(this.Ff,18):this.Ff=vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=yn(this.Ff,19):this.Ff=vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,20)},set:function(r){r?(this.Ff=yn(this.Ff,20),e.sort()):this.Ff=vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,22)},set:function(r){r?this.Ff=yn(this.Ff,22):this.Ff=vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,23)},set:function(r){r?this.Ff=yn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,27)},set:function(r){r?this.Ff=yn(this.Ff,27):this.Ff=vn(this.Ff,27)}}),this.hasAppearanceStream=!1};Cs(jp,Co);var Op=function(){jp.call(this),this.fontName="helvetica",this.combo=!1};Cs(Op,jp);var Rp=function(){Op.call(this),this.combo=!0};Cs(Rp,Op);var K1=function(){Rp.call(this),this.edit=!0};Cs(K1,Rp);var ti=function(){Co.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,15)},set:function(r){r?this.Ff=yn(this.Ff,15):this.Ff=vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,16)},set:function(r){r?this.Ff=yn(this.Ff,16):this.Ff=vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,17)},set:function(r){r?this.Ff=yn(this.Ff,17):this.Ff=vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,26)},set:function(r){r?this.Ff=yn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+uf(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){mr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Cs(ti,Co);var Y1=function(){ti.call(this),this.pushButton=!0};Cs(Y1,ti);var Lp=function(){ti.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Cs(Lp,ti);var Mb=function(){var t,e;Co.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+uf(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){mr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Cs(Mb,Co),Lp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Lp.prototype.createOption=function(t){var e=new Mb;return e.Parent=this,e.optionName=t,this.Kids.push(e),qEe.call(this.scope,e),e};var X1=function(){ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Cs(X1,ti);var Oh=function(){Co.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,13)},set:function(e){e?this.Ff=yn(this.Ff,13):this.Ff=vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,21)},set:function(e){e?this.Ff=yn(this.Ff,21):this.Ff=vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,23)},set:function(e){e?this.Ff=yn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,24)},set:function(e){e?this.Ff=yn(this.Ff,24):this.Ff=vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,25)},set:function(e){e?this.Ff=yn(this.Ff,25):this.Ff=vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,26)},set:function(e){e?this.Ff=yn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Cs(Oh,Co);var J1=function(){Oh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,14)},set:function(t){t?this.Ff=yn(this.Ff,14):this.Ff=vn(this.Ff,14)}}),this.password=!0};Cs(J1,Oh);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ho(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=g4(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ot(mt.internal.getWidth(t))+" "+Ot(mt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ot(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ho(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=mt.internal.getHeight(t),a=mt.internal.getWidth(t),o=g4(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ot(a)+" "+Ot(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ot(a-1)+" "+Ot(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Ot(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ho(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(mt.internal.getWidth(t))+" "+Ot(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Circle.YesNormal,e.D[t]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ho(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=mt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+bu(mt.internal.getWidth(t)/2)+" "+bu(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ho(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*mt.internal.Bezier_C).toFixed(5)),a=Number((n*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bu(mt.internal.getWidth(t)/2)+" "+bu(mt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+bu(mt.internal.getWidth(t)/2)+" "+bu(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ho(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bu(mt.internal.getWidth(t)/2)+" "+bu(mt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Cross.YesNormal,e.D[t]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ho(t);e.scope=t.scope;var r=[],n=mt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ot(mt.internal.getWidth(t)-2)+" "+Ot(mt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ot(n.x1.x)+" "+Ot(n.x1.y)+" m"),r.push(Ot(n.x2.x)+" "+Ot(n.x2.y)+" l"),r.push(Ot(n.x4.x)+" "+Ot(n.x4.y)+" m"),r.push(Ot(n.x3.x)+" "+Ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ho(t);e.scope=t.scope;var r=mt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(mt.internal.getWidth(t))+" "+Ot(mt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ot(mt.internal.getWidth(t)-2)+" "+Ot(mt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ot(r.x1.x)+" "+Ot(r.x1.y)+" m"),n.push(Ot(r.x2.x)+" "+Ot(r.x2.y)+" l"),n.push(Ot(r.x4.x)+" "+Ot(r.x4.y)+" m"),n.push(Ot(r.x3.x)+" "+Ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ho(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(mt.internal.getWidth(t))+" "+Ot(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};mt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=mt.internal.getWidth(t),r=mt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},mt.internal.getWidth=function(t){var e=0;return mr(t)==="object"&&(e=ZL(t.Rect[2])),e},mt.internal.getHeight=function(t){var e=0;return mr(t)==="object"&&(e=ZL(t.Rect[3])),e};var qEe=tn.addField=function(t){if(zEe(this,t),!(t instanceof Co))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};tn.AcroFormChoiceField=jp,tn.AcroFormListBox=Op,tn.AcroFormComboBox=Rp,tn.AcroFormEditBox=K1,tn.AcroFormButton=ti,tn.AcroFormPushButton=Y1,tn.AcroFormRadioButton=Lp,tn.AcroFormCheckBox=X1,tn.AcroFormTextField=Oh,tn.AcroFormPasswordField=J1,tn.AcroFormAppearance=mt,tn.AcroForm={ChoiceField:jp,ListBox:Op,ComboBox:Rp,EditBox:K1,Button:ti,PushButton:Y1,RadioButton:Lp,CheckBox:X1,TextField:Oh,PasswordField:J1,Appearance:mt},xt.AcroForm={ChoiceField:jp,ListBox:Op,ComboBox:Rp,EditBox:K1,Button:ti,PushButton:Y1,RadioButton:Lp,CheckBox:X1,TextField:Oh,PasswordField:J1,Appearance:mt};function zH(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(M,A){var I,j,ne,pe,X,ce=e;if((A=A||e)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(C(M))for(X in r)for(ne=r[X],I=0;I<ne.length;I+=1){for(pe=!0,j=0;j<ne[I].length;j+=1)if(ne[I][j]!==void 0&&ne[I][j]!==M[j]){pe=!1;break}if(pe===!0){ce=X;break}}else for(X in r)for(ne=r[X],I=0;I<ne.length;I+=1){for(pe=!0,j=0;j<ne[I].length;j+=1)if(ne[I][j]!==void 0&&ne[I][j]!==M.charCodeAt(j)){pe=!1;break}if(pe===!0){ce=X;break}}return ce===e&&A!==e&&(ce=A),ce},i=function M(A){for(var I=this.internal.write,j=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var pe=[];if(pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Image"}),pe.push({key:"Width",value:A.width}),pe.push({key:"Height",value:A.height}),A.colorSpace===w.INDEXED?pe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(pe.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===w.DEVICE_CMYK&&pe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pe.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&pe.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)){for(var X="",ce=0,ue=A.transparency.length;ce<ue;ce++)X+=A.transparency[ce]+" "+A.transparency[ce]+" ";pe.push({key:"Mask",value:"["+X+"]"})}A.sMask!==void 0&&pe.push({key:"SMask",value:A.objectId+1+" 0 R"});var xe=A.filter!==void 0?["/"+A.filter]:void 0;if(j({data:A.data,additionalKeyValues:pe,alreadyAppliedFilters:xe,objectId:A.objectId}),I("endobj"),"sMask"in A&&A.sMask!==void 0){var we="/Predictor "+A.predictor+" /Colors 1 /BitsPerComponent "+A.bitsPerComponent+" /Columns "+A.width,F={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:A.bitsPerComponent,decodeParameters:we,data:A.sMask};"filter"in A&&(F.filter=A.filter),M.call(this,F)}if(A.colorSpace===w.INDEXED){var J=this.internal.newObject();j({data:k(new Uint8Array(A.palette)),objectId:J}),I("endobj")}},s=function(){var M=this.internal.collections.addImage_images;for(var A in M)i.call(this,M[A])},a=function(){var M,A=this.internal.collections.addImage_images,I=this.internal.write;for(var j in A)I("/I"+(M=A[j]).index,M.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var M=this.internal.collections.addImage_images;return o.call(this),M},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(M){return typeof t["process"+M.toUpperCase()]=="function"},h=function(M){return mr(M)==="object"&&M.nodeType===1},p=function(M,A){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var I=""+M.getAttribute("src");if(I.indexOf("data:image/")===0)return y0(unescape(I).split("base64,").pop());var j=t.loadFile(I,!0);if(j!==void 0)return j}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var ne;switch(A){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;case"JPEG":case"JPG":default:ne="image/jpeg"}return y0(M.toDataURL(ne,1).split("base64,").pop())}},f=function(M){var A=this.internal.collections.addImage_images;if(A){for(var I in A)if(M===A[I].alias)return A[I]}},y=function(M,A,I){return M||A||(M=-96,A=-96),M<0&&(M=-1*I.width*72/M/this.internal.scaleFactor),A<0&&(A=-1*I.height*72/A/this.internal.scaleFactor),M===0&&(M=A*I.width/I.height),A===0&&(A=M*I.height/I.width),[M,A]},g=function(M,A,I,j,ne,pe){var X=y.call(this,I,j,ne),ce=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,xe=l.call(this);if(I=X[0],j=X[1],xe[ne.index]=ne,pe){pe*=Math.PI/180;var we=Math.cos(pe),F=Math.sin(pe),J=function(he){return he.toFixed(4)},se=[J(we),J(F),J(-1*F),J(we),0,0,"cm"]}this.internal.write("q"),pe?(this.internal.write([1,"0","0",1,ce(M),ue(A+j),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([ce(I),"0","0",ce(j),"0","0","cm"].join(" "))):this.internal.write([ce(I),"0","0",ce(j),ce(M),ue(A+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(M){var A,I,j=0;if(typeof M=="string")for(I=M.length,A=0;A<I;A++)j=(j<<5)-j+M.charCodeAt(A),j|=0;else if(C(M))for(I=M.byteLength/2,A=0;A<I;A++)j=(j<<5)-j+M[A],j|=0;return j},x=t.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var A=!0;return M.length===0&&(A=!1),M.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(A=!1),A},E=t.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var A=M.indexOf(",");return A<0?null:M.substring(0,A).trim().endsWith("base64")?M.substring(A+1):null},N=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(M){return N()&&M instanceof ArrayBuffer};var C=t.__addimage__.isArrayBufferView=function(M){return N()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},P=t.__addimage__.binaryStringToUint8Array=function(M){for(var A=M.length,I=new Uint8Array(A),j=0;j<A;j++)I[j]=M.charCodeAt(j);return I},k=t.__addimage__.arrayBufferToBinaryString=function(M){for(var A="",I=C(M)?M:new Uint8Array(M),j=0;j<I.length;j+=8192)A+=String.fromCharCode.apply(null,I.subarray(j,j+8192));return A};t.addImage=function(){var M,A,I,j,ne,pe,X,ce,ue;if(typeof arguments[1]=="number"?(A=e,I=arguments[1],j=arguments[2],ne=arguments[3],pe=arguments[4],X=arguments[5],ce=arguments[6],ue=arguments[7]):(A=arguments[1],I=arguments[2],j=arguments[3],ne=arguments[4],pe=arguments[5],X=arguments[6],ce=arguments[7],ue=arguments[8]),mr(M=arguments[0])==="object"&&!h(M)&&"imageData"in M){var xe=M;M=xe.imageData,A=xe.format||A||e,I=xe.x||I||0,j=xe.y||j||0,ne=xe.w||xe.width||ne,pe=xe.h||xe.height||pe,X=xe.alias||X,ce=xe.compression||ce,ue=xe.rotation||xe.angle||ue}var we=this.internal.getFilters();if(ce===void 0&&we.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(I)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var F=T.call(this,M,A,X,ce);return g.call(this,I,j,ne,pe,F,ue),this};var T=function(M,A,I,j){var ne,pe,X;if(typeof M=="string"&&n(M)===e){M=unescape(M);var ce=q(M,!1);(ce!==""||(ce=t.loadFile(M,!0))!==void 0)&&(M=ce)}if(h(M)&&(M=p(M,A)),A=n(M,A),!u(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((X=I)==null||X.length===0)&&(I=function(ue){return typeof ue=="string"||C(ue)?v(ue):C(ue.data)?v(ue.data):null}(M)),(ne=f.call(this,I))||(N()&&(M instanceof Uint8Array||A==="RGBA"||(pe=M,M=P(M))),ne=this["process"+A.toUpperCase()](M,c.call(this),I,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:m.NONE}(j),pe)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},q=t.__addimage__.convertBase64ToBinaryString=function(M,A){A=typeof A!="boolean"||A;var I,j="";if(typeof M=="string"){var ne;I=(ne=E(M))!==null&&ne!==void 0?ne:M;try{j=y0(I)}catch(pe){if(A)throw x(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return j};t.getImageProperties=function(M){var A,I,j="";if(h(M)&&(M=p(M)),typeof M=="string"&&n(M)===e&&((j=q(M,!1))===""&&(j=t.loadFile(M)||""),M=j),I=n(M),!u(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!N()||M instanceof Uint8Array||(M=P(M)),!(A=this["process"+I.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=I,A}})(xt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};xt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((n=c[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(g.objId),v=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(m(n.contents))+")",s+=" /Popup "+w.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(m(v))+") >>",g.content=s;var x=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(s+=" /Open true"),s+=" >>",w.content=s,this.internal.write(g.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var C=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(r,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(xt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=t.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(g){var w=0,m=r,v="",x=0;for(w=0;w<g.length;w+=1)m[g.charCodeAt(w)]!==void 0?(x++,typeof(m=m[g.charCodeAt(w)])=="number"&&(v+=String.fromCharCode(m),m=r,x=0),w===g.length-1&&(m=r,v+=g.charAt(w-(x-1)),w-=x-1,x=0)):(m=r,v+=g.charAt(w-x),w-=x,x=0);return v};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(g,w,m){return a(g)?s(g)===!1?-1:!c(g)||!a(w)&&!a(m)||!a(m)&&o(w)||o(g)&&!a(w)||o(g)&&l(w)||o(g)&&o(w)?0:u(g)&&a(w)&&!o(w)&&a(m)&&c(m)?3:o(g)||!a(m)?1:2:-1},f=function(g){var w=0,m=0,v=0,x="",E="",N="",C=(g=g||"").split("\\s+"),P=[];for(w=0;w<C.length;w+=1){for(P.push(""),m=0;m<C[w].length;m+=1)x=C[w][m],E=C[w][m-1],N=C[w][m+1],a(x)?(v=p(x,E,N),P[w]+=v!==-1?String.fromCharCode(e[x.charCodeAt(0)][v]):x):P[w]+=x;P[w]=h(P[w])}return P.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var g,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(w)){var v=0;for(m=[],v=0;v<w.length;v+=1)Array.isArray(w[v])?m.push([f(w[v][0]),w[v][1],w[v][2]]):m.push([f(w[v])]);g=m}else g=f(w);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",y])}(xt.API),xt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(xt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,y=0,g=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=c.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,E){return x.concat(w.splitTextToSize(E,m))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)f<(g=this.getStringUnitWidth(l[v],{font:h})*u)&&(f=g);return f!==0&&(y=l.length),{w:f/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,h,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,y,g,w,m=[],v=[],x=[],E={},N={},C=[],P=[],k=(p=p||{}).autoSize||!1,T=p.printHeaders!==!1,q=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,M=p.margins||Object.assign({width:this.getPageWidth()},e),A=typeof p.padding=="number"?p.padding:3,I=p.headerBackgroundColor||"#c8c8c8",j=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=j,this.setFontSize(q),h==null)v=m=Object.keys(u[0]),x=m.map(function(){return"left"});else if(Array.isArray(h)&&mr(h[0])==="object")for(m=h.map(function(xe){return xe.name}),v=h.map(function(xe){return xe.prompt||xe.name||""}),x=h.map(function(xe){return xe.align||"left"}),f=0;f<h.length;f+=1)N[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(v=m=h,x=m.map(function(){return"left"}));if(k||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<m.length;f+=1){for(E[w=m[f]]=u.map(function(xe){return xe[w]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(v[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=E[w],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)C.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[w]=Math.max.apply(null,C)+A+A,C=[]}if(T){var ne={};for(f=0;f<m.length;f+=1)ne[m[f]]={},ne[m[f]].text=v[f],ne[m[f]].align=x[f];var pe=o.call(this,ne,N);P=m.map(function(xe){return new s(l,c,N[xe],pe,ne[xe].text,void 0,ne[xe].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var X=h.reduce(function(xe,we){return xe[we.name]=we.align,xe},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var ce=o.call(this,u[f],N);for(g=0;g<m.length;g+=1){var ue=u[f][m[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:g,data:ue},this),a.call(this,new s(l,c,N[m[g]],ce,ue,f+2,X[m[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var y=l[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+u+u},this).reduce(function(f,y){return Math.max(f,y)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(xt.API);var qH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WH=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],y4=zH(WH),HH=[100,200,300,400,500,600,700,800,900],WEe=zH(HH);function v4(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return qH[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof y4[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function e8(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var HEe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},t8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function r8(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function GEe(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},HEe,r.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=v4(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+r8(s)+"' and default family '"+n+"'.");if(a=function(l,c){if(c[l])return c[l];var u=y4[l],h=u<=y4.normal?-1:1,p=e8(c,WH,u,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=qH[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=WEe[l],h=e8(c,HH,u,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+r8(s)+"'.");return a}function n8(t){return t.trimLeft()}function KEe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function YEe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var s1,i8,s8,q_=["times"];(function(t){var e,r,n,i,s,a,o,l,c,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=F;Object.defineProperty(this,"pdf",{get:function(){return J}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(ve){se=!!ve}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(ve){he=!!ve}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(ve){isNaN(ve)||(Q=ve)}});var $=0;Object.defineProperty(this,"posY",{get:function(){return $},set:function(ve){isNaN(ve)||($=ve)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ve){var B;typeof ve=="number"?B=[ve,ve,ve,ve]:((B=new Array(4))[0]=ve[0],B[1]=ve.length>=2?ve[1]:B[0],B[2]=ve.length>=3?ve[2]:B[0],B[3]=ve.length>=4?ve[3]:B[1]),c.margin=B}});var V=!1;Object.defineProperty(this,"autoPaging",{get:function(){return V},set:function(ve){V=ve}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(ve){te=ve}});var ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ae},set:function(ve){ae=ve}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ve){ve instanceof u&&(c=ve)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ve){c.path=ve}});var Z=[];Object.defineProperty(this,"ctxStack",{get:function(){return Z},set:function(ve){Z=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var B;B=p(ve),this.ctx.fillStyle=B.style,this.ctx.isFillTransparent=B.a===0,this.ctx.fillOpacity=B.a,this.pdf.setFillColor(B.r,B.g,B.b,{a:B.a}),this.pdf.setTextColor(B.r,B.g,B.b,{a:B.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var B=p(ve);this.ctx.strokeStyle=B.style,this.ctx.isStrokeTransparent=B.a===0,this.ctx.strokeOpacity=B.a,B.a===0?this.pdf.setDrawColor(255,255,255):(B.a,this.pdf.setDrawColor(B.r,B.g,B.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var ee=null;function _e(ve,B){if(ee===null){var O=function(L){var W=[];return Object.keys(L).forEach(function(G){L[G].forEach(function(ie){var re=null;switch(ie){case"bold":re={family:G,weight:"bold"};break;case"italic":re={family:G,style:"italic"};break;case"bolditalic":re={family:G,weight:"bold",style:"italic"};break;case"":case"normal":re={family:G}}re!==null&&(re.ref={name:G,style:ie},W.push(re))})}),W}(ve.getFontList());ee=function(L){for(var W={},G=0;G<L.length;++G){var ie=v4(L[G]),re=ie.family,Ae=ie.stretch,Ne=ie.style,Se=ie.weight;W[re]=W[re]||{},W[re][Ae]=W[re][Ae]||{},W[re][Ae][Ne]=W[re][Ae][Ne]||{},W[re][Ae][Ne][Se]=ie}return W}(O.concat(B))}return ee}var H=null;Object.defineProperty(this,"fontFaces",{get:function(){return H},set:function(ve){ee=null,H=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var B;if(this.ctx.font=ve,(B=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var O=B[1];B[2];var L=B[3],W=B[4];B[5];var G=B[6],ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(W)[2];W=Math.floor(ie==="px"?parseFloat(W)*this.pdf.internal.scaleFactor:ie==="em"?parseFloat(W)*this.pdf.getFontSize():parseFloat(W)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(W);var re=function(nt){var bt,et,or=[],gt=nt.trim();if(gt==="")return q_;if(gt in t8)return[t8[gt]];for(;gt!=="";){switch(et=null,bt=(gt=n8(gt)).charAt(0)){case'"':case"'":et=KEe(gt.substring(1),bt);break;default:et=YEe(gt)}if(et===null||(or.push(et[0]),(gt=n8(et[1]))!==""&&gt.charAt(0)!==","))return q_;gt=gt.replace(/^,/,"")}return or}(G);if(this.fontFaces){var Ae=GEe(_e(this.pdf,this.fontFaces),re.map(function(nt){return{family:nt,stretch:"normal",weight:L,style:O}}));this.pdf.setFont(Ae.ref.name,Ae.ref.style)}else{var Ne="";(L==="bold"||parseInt(L,10)>=700||O==="bold")&&(Ne="bold"),O==="italic"&&(Ne+="italic"),Ne.length===0&&(Ne="normal");for(var Se="",Ie={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Fe=0;Fe<re.length;Fe++){if(this.pdf.internal.getFont(re[Fe],Ne,{noFallback:!0,disableWarning:!0})!==void 0){Se=re[Fe];break}if(Ne==="bolditalic"&&this.pdf.internal.getFont(re[Fe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Se=re[Fe],Ne="bold";else if(this.pdf.internal.getFont(re[Fe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Se=re[Fe],Ne="normal";break}}if(Se===""){for(var Ke=0;Ke<re.length;Ke++)if(Ie[re[Ke]]){Se=Ie[re[Ke]];break}}Se=Se===""?"Times":Se,this.pdf.setFont(Se,Ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,we.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,we.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,J){if(isNaN(F)||isNaN(J))throw Nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new a(F,J));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new a(F,J)},h.prototype.closePath=function(){var F=new a(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&mr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){F=new a(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},h.prototype.lineTo=function(F,J){if(isNaN(F)||isNaN(J))throw Nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new a(F,J));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,J,se,he){if(isNaN(se)||isNaN(he)||isNaN(F)||isNaN(J))throw Nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new a(se,he)),$=this.ctx.transform.applyToPoint(new a(F,J));this.path.push({type:"qct",x1:$.x,y1:$.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(Q.x,Q.y)},h.prototype.bezierCurveTo=function(F,J,se,he,Q,$){if(isNaN(Q)||isNaN($)||isNaN(F)||isNaN(J)||isNaN(se)||isNaN(he))throw Nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var V=this.ctx.transform.applyToPoint(new a(Q,$)),te=this.ctx.transform.applyToPoint(new a(F,J)),ae=this.ctx.transform.applyToPoint(new a(se,he));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:ae.x,y2:ae.y,x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},h.prototype.arc=function(F,J,se,he,Q,$){if(isNaN(F)||isNaN(J)||isNaN(se)||isNaN(he)||isNaN(Q))throw Nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if($=!!$,!this.ctx.transform.isIdentity){var V=this.ctx.transform.applyToPoint(new a(F,J));F=V.x,J=V.y;var te=this.ctx.transform.applyToPoint(new a(0,se)),ae=this.ctx.transform.applyToPoint(new a(0,0));se=Math.sqrt(Math.pow(te.x-ae.x,2)+Math.pow(te.y-ae.y,2))}Math.abs(Q-he)>=2*Math.PI&&(he=0,Q=2*Math.PI),this.path.push({type:"arc",x:F,y:J,radius:se,startAngle:he,endAngle:Q,counterclockwise:$})},h.prototype.arcTo=function(F,J,se,he,Q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,J,se,he){if(isNaN(F)||isNaN(J)||isNaN(se)||isNaN(he))throw Nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,J),this.lineTo(F+se,J),this.lineTo(F+se,J+he),this.lineTo(F,J+he),this.lineTo(F,J),this.lineTo(F+se,J),this.lineTo(F,J)},h.prototype.fillRect=function(F,J,se,he){if(isNaN(F)||isNaN(J)||isNaN(se)||isNaN(he))throw Nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,J,se,he),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},h.prototype.strokeRect=function(F,J,se,he){if(isNaN(F)||isNaN(J)||isNaN(se)||isNaN(he))throw Nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(F,J,se,he),this.stroke())},h.prototype.clearRect=function(F,J,se,he){if(isNaN(F)||isNaN(J)||isNaN(se)||isNaN(he))throw Nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,J,se,he))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(J),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(F){var J,se,he,Q;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))J=0,se=0,he=0,Q=0;else{var $=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if($!==null)J=parseInt($[1]),se=parseInt($[2]),he=parseInt($[3]),Q=1;else if(($=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)J=parseInt($[1]),se=parseInt($[2]),he=parseInt($[3]),Q=parseFloat($[4]);else{if(Q=1,typeof F=="string"&&F.charAt(0)!=="#"){var V=new MH(F);F=V.ok?V.toHex():"#000000"}F.length===4?(J=F.substring(1,2),J+=J,se=F.substring(2,3),se+=se,he=F.substring(3,4),he+=he):(J=F.substring(1,3),se=F.substring(3,5),he=F.substring(5,7)),J=parseInt(J,16),se=parseInt(se,16),he=parseInt(he,16)}}return{r:J,g:se,b:he,a:Q,style:F}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,J,se,he){if(isNaN(J)||isNaN(se)||typeof F!="string")throw Nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!f.call(this)){var Q=ce(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;A.call(this,{text:F,x:J,y:se,scale:$,angle:Q,align:this.textAlign,maxWidth:he})}},h.prototype.strokeText=function(F,J,se,he){if(isNaN(J)||isNaN(se)||typeof F!="string")throw Nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){he=isNaN(he)?void 0:he;var Q=ce(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;A.call(this,{text:F,x:J,y:se,scale:$,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:he})}},h.prototype.measureText=function(F){if(typeof F!="string")throw Nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,se=this.pdf.internal.scaleFactor,he=J.internal.getFontSize(),Q=J.getStringUnitWidth(F)*he/J.internal.scaleFactor,$=function(V){var te=(V=V||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this};return new $({width:Q*=Math.round(96*se/72*1e4)/1e4})},h.prototype.scale=function(F,J){if(isNaN(F)||isNaN(J))throw Nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new l(F,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},h.prototype.rotate=function(F){if(isNaN(F))throw Nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.translate=function(F,J){if(isNaN(F)||isNaN(J))throw Nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new l(1,0,0,1,F,J);this.ctx.transform=this.ctx.transform.multiply(se)},h.prototype.transform=function(F,J,se,he,Q,$){if(isNaN(F)||isNaN(J)||isNaN(se)||isNaN(he)||isNaN(Q)||isNaN($))throw Nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var V=new l(F,J,se,he,Q,$);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.setTransform=function(F,J,se,he,Q,$){F=isNaN(F)?1:F,J=isNaN(J)?0:J,se=isNaN(se)?0:se,he=isNaN(he)?1:he,Q=isNaN(Q)?0:Q,$=isNaN($)?0:$,this.ctx.transform=new l(F,J,se,he,Q,$)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,J,se,he,Q,$,V,te,ae){var Z=this.pdf.getImageProperties(F),ee=1,_e=1,H=1,ve=1;he!==void 0&&te!==void 0&&(H=te/he,ve=ae/Q,ee=Z.width/he*te/he,_e=Z.height/Q*ae/Q),$===void 0&&($=J,V=se,J=0,se=0),he!==void 0&&te===void 0&&(te=he,ae=Q),he===void 0&&te===void 0&&(te=Z.width,ae=Z.height);for(var B,O=this.ctx.transform.decompose(),L=ce(O.rotate.shx),W=new l,G=(W=(W=(W=W.multiply(O.translate)).multiply(O.skew)).multiply(O.scale)).applyToRectangle(new o($-J*H,V-se*ve,he*ee,Q*_e)),ie=w.call(this,G),re=[],Ae=0;Ae<ie.length;Ae+=1)re.indexOf(ie[Ae])===-1&&re.push(ie[Ae]);if(x(re),this.autoPaging)for(var Ne=re[0],Se=re[re.length-1],Ie=Ne;Ie<Se+1;Ie++){this.pdf.setPage(Ie);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Ie===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=Ie===1?0:nt+(Ie-2)*bt;if(this.ctx.clip_path.length!==0){var or=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(B,this.posX+this.margin[3],-et+Ke+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=or}var gt=JSON.parse(JSON.stringify(G));gt=v([gt],this.posX+this.margin[3],-et+Ke+this.ctx.prevPageLastElemOffset)[0];var qr=(Ie>Ne||Ie<Se)&&g.call(this);qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,bt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,L),qr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",G.x,G.y,G.w,G.h,null,null,L)};var w=function(F,J,se){var he=[];J=J||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":he.push(Math.floor((F.y+Q)/se)+1);break;case"arc":he.push(Math.floor((F.y+Q-F.radius)/se)+1),he.push(Math.floor((F.y+Q+F.radius)/se)+1);break;case"qct":var $=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);he.push(Math.floor(($.y+Q)/se)+1),he.push(Math.floor(($.y+$.h+Q)/se)+1);break;case"bct":var V=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);he.push(Math.floor((V.y+Q)/se)+1),he.push(Math.floor((V.y+V.h+Q)/se)+1);break;case"rect":he.push(Math.floor((F.y+Q)/se)+1),he.push(Math.floor((F.y+F.h+Q)/se)+1)}for(var te=0;te<he.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<he[te];)m.call(this);return he},m=function(){var F=this.fillStyle,J=this.strokeStyle,se=this.font,he=this.lineCap,Q=this.lineWidth,$=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=J,this.font=se,this.lineCap=he,this.lineWidth=Q,this.lineJoin=$},v=function(F,J,se){for(var he=0;he<F.length;he++)switch(F[he].type){case"bct":F[he].x2+=J,F[he].y2+=se;case"qct":F[he].x1+=J,F[he].y1+=se;case"mt":case"lt":case"arc":default:F[he].x+=J,F[he].y+=se}return F},x=function(F){return F.sort(function(J,se){return J-se})},E=function(F,J){for(var se,he,Q=this.fillStyle,$=this.strokeStyle,V=this.lineCap,te=this.lineWidth,ae=Math.abs(te*this.ctx.transform.scaleX),Z=this.lineJoin,ee=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),H=[],ve=0;ve<_e.length;ve++)if(_e[ve].x!==void 0)for(var B=w.call(this,_e[ve]),O=0;O<B.length;O+=1)H.indexOf(B[O])===-1&&H.push(B[O]);for(var L=0;L<H.length;L++)for(;this.pdf.internal.getNumberOfPages()<H[L];)m.call(this);if(x(H),this.autoPaging)for(var W=H[0],G=H[H.length-1],ie=W;ie<G+1;ie++){this.pdf.setPage(ie),this.fillStyle=Q,this.strokeStyle=$,this.lineCap=V,this.lineWidth=ae,this.lineJoin=Z;var re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ae=ie===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=ie===1?0:Ne+(ie-2)*Se;if(this.ctx.clip_path.length!==0){var Fe=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(se,this.posX+this.margin[3],-Ie+Ae+this.ctx.prevPageLastElemOffset),N.call(this,F,!0),this.path=Fe}if(he=JSON.parse(JSON.stringify(ee)),this.path=v(he,this.posX+this.margin[3],-Ie+Ae+this.ctx.prevPageLastElemOffset),J===!1||ie===0){var Ke=(ie>W||ie<G)&&g.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],re,Se,null).clip().discardPath()),N.call(this,F,J),Ke&&this.pdf.restoreGraphicsState()}this.lineWidth=te}else this.lineWidth=ae,N.call(this,F,J),this.lineWidth=te;this.path=ee},N=function(F,J){if((F!=="stroke"||J||!y.call(this))&&(F==="stroke"||J||!f.call(this))){for(var se,he,Q=[],$=this.path,V=0;V<$.length;V++){var te=$[V];switch(te.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:te,deltas:[],abs:[]});break;case"lt":var ae=Q.length;if($[V-1]&&!isNaN($[V-1].x)&&(se=[te.x-$[V-1].x,te.y-$[V-1].y],ae>0)){for(;ae>=0;ae--)if(Q[ae-1].close!==!0&&Q[ae-1].begin!==!0){Q[ae-1].deltas.push(se),Q[ae-1].abs.push(te);break}}break;case"bct":se=[te.x1-$[V-1].x,te.y1-$[V-1].y,te.x2-$[V-1].x,te.y2-$[V-1].y,te.x-$[V-1].x,te.y-$[V-1].y],Q[Q.length-1].deltas.push(se);break;case"qct":var Z=$[V-1].x+2/3*(te.x1-$[V-1].x),ee=$[V-1].y+2/3*(te.y1-$[V-1].y),_e=te.x+2/3*(te.x1-te.x),H=te.y+2/3*(te.y1-te.y),ve=te.x,B=te.y;se=[Z-$[V-1].x,ee-$[V-1].y,_e-$[V-1].x,H-$[V-1].y,ve-$[V-1].x,B-$[V-1].y],Q[Q.length-1].deltas.push(se);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(te)}}he=J?null:F==="stroke"?"stroke":"fill";for(var O=!1,L=0;L<Q.length;L++)if(Q[L].arc)for(var W=Q[L].abs,G=0;G<W.length;G++){var ie=W[G];ie.type==="arc"?k.call(this,ie.x,ie.y,ie.radius,ie.startAngle,ie.endAngle,ie.counterclockwise,void 0,J,!O):I.call(this,ie.x,ie.y),O=!0}else if(Q[L].close===!0)this.pdf.internal.out("h"),O=!1;else if(Q[L].begin!==!0){var re=Q[L].start.x,Ae=Q[L].start.y;j.call(this,Q[L].deltas,re,Ae),O=!0}he&&T.call(this,he),J&&q.call(this)}},C=function(F){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-se;case"top":return F+J-se;case"hanging":return F+J-2*se;case"middle":return F+J/2-se;case"ideographic":return F;case"alphabetic":default:return F}},P=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(J,se){this.colorStops.push([J,se])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(F,J,se,he,Q,$,V,te,ae){for(var Z=pe.call(this,se,he,Q,$),ee=0;ee<Z.length;ee++){var _e=Z[ee];ee===0&&(ae?M.call(this,_e.x1+F,_e.y1+J):I.call(this,_e.x1+F,_e.y1+J)),ne.call(this,F,J,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}te?q.call(this):T.call(this,V)},T=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(F,J){this.pdf.internal.out(r(F)+" "+n(J)+" m")},A=function(F){var J;switch(F.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var se=this.pdf.getTextDimensions(F.text),he=C.call(this,F.y),Q=P.call(this,he)-se.h,$=this.ctx.transform.applyToPoint(new a(F.x,he)),V=this.ctx.transform.decompose(),te=new l;te=(te=(te=te.multiply(V.translate)).multiply(V.skew)).multiply(V.scale);for(var ae,Z,ee,_e=this.ctx.transform.applyToRectangle(new o(F.x,he,se.w,se.h)),H=te.applyToRectangle(new o(F.x,Q,se.w,se.h)),ve=w.call(this,H),B=[],O=0;O<ve.length;O+=1)B.indexOf(ve[O])===-1&&B.push(ve[O]);if(x(B),this.autoPaging)for(var L=B[0],W=B[B.length-1],G=L;G<W+1;G++){this.pdf.setPage(G);var ie=G===1?this.posY+this.margin[0]:this.margin[0],re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[2],Ne=Ae-this.margin[0],Se=this.pdf.internal.pageSize.width-this.margin[1],Ie=Se-this.margin[3],Fe=G===1?0:re+(G-2)*Ne;if(this.ctx.clip_path.length!==0){var Ke=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ae,this.posX+this.margin[3],-1*Fe+ie),N.call(this,"fill",!0),this.path=Ke}var nt=v([JSON.parse(JSON.stringify(H))],this.posX+this.margin[3],-Fe+ie+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*F.scale),ee=this.lineWidth,this.lineWidth=ee*F.scale);var bt=this.autoPaging!=="text";if(bt||nt.y+nt.h<=Ae){if(bt||nt.y>=ie&&nt.x<=Se){var et=bt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Se-nt.x)[0],or=v([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-Fe+ie+this.ctx.prevPageLastElemOffset)[0],gt=bt&&(G>L||G<W)&&g.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Ne,null).clip().discardPath()),this.pdf.text(et,or.x,or.y,{angle:F.angle,align:J,renderingMode:F.renderingMode}),gt&&this.pdf.restoreGraphicsState()}}else nt.y<Ae&&(this.ctx.prevPageLastElemOffset+=Ae-nt.y);F.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ee)}else F.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*F.scale),ee=this.lineWidth,this.lineWidth=ee*F.scale),this.pdf.text(F.text,$.x+this.posX,$.y+this.posY,{angle:F.angle,align:J,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ee)},I=function(F,J,se,he){se=se||0,he=he||0,this.pdf.internal.out(r(F+se)+" "+n(J+he)+" l")},j=function(F,J,se){return this.pdf.lines(F,J,se,null,null)},ne=function(F,J,se,he,Q,$,V,te){this.pdf.internal.out([e(i(se+F)),e(s(he+J)),e(i(Q+F)),e(s($+J)),e(i(V+F)),e(s(te+J)),"c"].join(" "))},pe=function(F,J,se,he){for(var Q=2*Math.PI,$=Math.PI/2;J>se;)J-=Q;var V=Math.abs(se-J);V<Q&&he&&(V=Q-V);for(var te=[],ae=he?-1:1,Z=J;V>1e-5;){var ee=Z+ae*Math.min(V,$);te.push(X.call(this,F,Z,ee)),V-=Math.abs(ee-Z),Z=ee}return te},X=function(F,J,se){var he=(se-J)/2,Q=F*Math.cos(he),$=F*Math.sin(he),V=Q,te=-$,ae=V*V+te*te,Z=ae+V*Q+te*$,ee=4/3*(Math.sqrt(2*ae*Z)-Z)/(V*$-te*Q),_e=V-ee*te,H=te+ee*V,ve=_e,B=-H,O=he+J,L=Math.cos(O),W=Math.sin(O);return{x1:F*Math.cos(J),y1:F*Math.sin(J),x2:_e*L-H*W,y2:_e*W+H*L,x3:ve*L-B*W,y3:ve*W+B*L,x4:F*Math.cos(se),y4:F*Math.sin(se)}},ce=function(F){return 180*F/Math.PI},ue=function(F,J,se,he,Q,$){var V=F+.5*(se-F),te=J+.5*(he-J),ae=Q+.5*(se-Q),Z=$+.5*(he-$),ee=Math.min(F,Q,V,ae),_e=Math.max(F,Q,V,ae),H=Math.min(J,$,te,Z),ve=Math.max(J,$,te,Z);return new o(ee,H,_e-ee,ve-H)},xe=function(F,J,se,he,Q,$,V,te){var ae,Z,ee,_e,H,ve,B,O,L,W,G,ie,re,Ae,Ne=se-F,Se=he-J,Ie=Q-se,Fe=$-he,Ke=V-Q,nt=te-$;for(Z=0;Z<41;Z++)L=(B=(ee=F+(ae=Z/40)*Ne)+ae*((H=se+ae*Ie)-ee))+ae*(H+ae*(Q+ae*Ke-H)-B),W=(O=(_e=J+ae*Se)+ae*((ve=he+ae*Fe)-_e))+ae*(ve+ae*($+ae*nt-ve)-O),Z==0?(G=L,ie=W,re=L,Ae=W):(G=Math.min(G,L),ie=Math.min(ie,W),re=Math.max(re,L),Ae=Math.max(Ae,W));return new o(Math.round(G),Math.round(ie),Math.round(re-G),Math.round(Ae-ie))},we=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,J,se=(F=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:J}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(xt.API),function(t){var e=function(s){var a,o,l,c,u,h,p,f,y,g;for(o=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(g=u%85))/85)-(y=u%85))/85)-(f=u%85))/85)-(p=u%85))/85)%85,o.push(h+33,p+33,f+33,y+33,g+33)):o.push(122);return function(w,m){for(var v=m;v>0;v--)w.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var a,o,l,c,u,h=String,p="length",f=255,y="charCodeAt",g="slice",w="replace";for(s[g](-2),s=s[g](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],c=0,u=(s+=a="uuuuu"[g](s[p]%5||5))[p];u>c;c+=5)o=52200625*(s[y](c)-33)+614125*(s[y](c+1)-33)+7225*(s[y](c+2)-33)+85*(s[y](c+3)-33)+(s[y](c+4)-33),l.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(m,v){for(var x=v;x>0;x--)m.pop()}(l,a[p]),h.fromCharCode.apply(h,l)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=h4(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(xt.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var h=new XMLHttpRequest,p=0,f=function(y){var g=y.length,w=[],m=String.fromCharCode;for(p=0;p<g;p+=1)w.push(m(255&y.charCodeAt(p)));return w.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(xt.API),function(t){function e(){return(St.html2canvas?Promise.resolve(St.html2canvas):o4(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(St.DOMPurify?Promise.resolve(St.DOMPurify):o4(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=mr(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var f=c[p],y=f.src.find(function(g){return g.format==="truetype"});y&&l.addFont(y.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,o);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,xt.getPageSize=function(a,o,l){if(mr(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var f,y=0,g=0;if(p.hasOwnProperty(h))y=p[h][1]/u,g=p[h][0]/u;else try{y=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",g>y&&(f=g,g=y,y=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>g&&(f=g,g=y,y=f)}return{width:g,height:y,unit:o,k:u,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(v4):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(xt.API),xt.API.addJS=function(t){return s8=t,this.internal.events.subscribe("postPutResources",function(){s1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(s1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),i8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+s8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){s1!==void 0&&i8!==void 0&&this.internal.out("/Names <</JavaScript "+s1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=r.internal.newObject();u.push(h);var p=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<u.length;s++)r.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(xt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,g={width:0,height:0,numcomponents:1},w=4;w<y;w+=2){if(w+=f,e.indexOf(h.charCodeAt(w+1))!==-1){p=256*h.charCodeAt(w+5)+h.charCodeAt(w+6),g={width:256*h.charCodeAt(w+7)+h.charCodeAt(w+8),height:p,numcomponents:h.charCodeAt(w+9)};break}f=256*h.charCodeAt(w+2)+h.charCodeAt(w+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(xt.API);var qf,a1,a8,o8,l8,XEe=function(){var t,e,r;function n(s){var a,o,l,c,u,h,p,f,y,g,w,m,v,x;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),y=(function(){var E,N;for(N=[],E=0;E<4;++E)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,a-=4),s=(h!=null?h.data:void 0)||this.imgData,m=0;0<=a?m<a:m>a;0<=a?++m:--m)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(v=0;0<=g?v<g:v>g;0<=g?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":p=(w=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,w.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,w.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(h,p,f,y){var g,w,m,v,x,E,N,C,P,k,T,q,M,A,I,j,ne,pe,X,ce,ue,xe=Math.ceil((c.width-h)/f),we=Math.ceil((c.height-p)/y),F=c.width==xe&&c.height==we;for(A=a*xe,q=F?o:new Uint8Array(A*we),E=s.length,M=0,w=0;M<we&&l<E;){switch(s[l++]){case 0:for(v=ne=0;ne<A;v=ne+=1)q[w++]=s[l++];break;case 1:for(v=pe=0;pe<A;v=pe+=1)g=s[l++],x=v<a?0:q[w-a],q[w++]=(g+x)%256;break;case 2:for(v=X=0;X<A;v=X+=1)g=s[l++],m=(v-v%a)/a,I=M&&q[(M-1)*A+m*a+v%a],q[w++]=(I+g)%256;break;case 3:for(v=ce=0;ce<A;v=ce+=1)g=s[l++],m=(v-v%a)/a,x=v<a?0:q[w-a],I=M&&q[(M-1)*A+m*a+v%a],q[w++]=(g+Math.floor((x+I)/2))%256;break;case 4:for(v=ue=0;ue<A;v=ue+=1)g=s[l++],m=(v-v%a)/a,x=v<a?0:q[w-a],M===0?I=j=0:(I=q[(M-1)*A+m*a+v%a],j=m&&q[(M-1)*A+(m-1)*a+v%a]),N=x+I-j,C=Math.abs(N-x),k=Math.abs(N-I),T=Math.abs(N-j),P=C<=k&&C<=T?x:k<=T?I:j,q[w++]=(g+P)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!F){var J=((p+M*y)*c.width+h)*a,se=M*A;for(v=0;v<xe;v+=1){for(var he=0;he<a;he+=1)o[J++]=q[se++];J+=(f-1)*a}}M++}}return s=PEe(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,l,c,u,h,p,f;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,s=0,a=h=0,p=o.length;h<p;a=h+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(f=u[s++])!=null?f:255;return c},n.prototype.copyToImageData=function(s,a){var o,l,c,u,h,p,f,y,g,w,m;if(l=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),l=4,o=!0),y=(c=s.data||s).length,h=g||a,u=p=0,l===1)for(;u<y;)f=g?4*a[u/4]:p,w=h[f++],c[u++]=w,c[u++]=w,c[u++]=w,c[u++]=o?h[f++]:255,p=f;else for(;u<y;)f=g?4*a[u/4]:p,c[u++]=h[f++],c[u++]=h[f++],c[u++]=h[f++],c[u++]=o?h[f++]:255,p=f},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(St)==="[object Window]"){try{e=St.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,l,c,u,h,p,f;if(this.animation){for(f=[],o=u=0,h=(p=this.animation.frames).length;u<h;o=++u)a=p[o],l=s.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,f.push(a.image=t(l));return f}},n.prototype.renderFrame=function(s,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,l,c,u,h,p=this;return o=0,h=this.animation,c=h.numFrames,l=h.frames,u=h.numPlays,(a=function(){var f,y;if(f=o++%c,y=l[f],p.renderFrame(s,f),c>1&&o/c<u)return p.animation._timeout=setTimeout(a,y.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function JEe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],h=0,p=null,f=0,y=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],!(1&g)&&(p=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,E=t[e++],N=E>>6&1,C=1<<(7&E)+1,P=o,k=l,T=!1;E>>7&&(T=!0,P=e,k=C,e+=3*C);var q=e;for(e++;;){var M;if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}u.push({x:w,y:m,width:v,height:x,has_local_palette:T,palette_offset:P,palette_size:k,data_offset:q,data_length:e-q,transparent_index:p,interlaced:!!N,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(A){if(A<0||A>=u.length)throw new Error("Frame index out of range.");return u[A]},this.decodeAndBlitFrameBGRA=function(A,I){var j=this.frameInfo(A),ne=j.width*j.height,pe=new Uint8Array(ne);c8(t,j.data_offset,pe,ne);var X=j.palette_offset,ce=j.transparent_index;ce===null&&(ce=256);var ue=j.width,xe=r-ue,we=ue,F=4*(j.y*r+j.x),J=4*((j.y+j.height)*r+j.x),se=F,he=4*xe;j.interlaced===!0&&(he+=4*r*7);for(var Q=8,$=0,V=pe.length;$<V;++$){var te=pe[$];if(we===0&&(we=ue,(se+=he)>=J&&(he=4*xe+4*r*(Q-1),se=F+(ue+xe)*(Q<<1),Q>>=1)),te===ce)se+=4;else{var ae=t[X+3*te],Z=t[X+3*te+1],ee=t[X+3*te+2];I[se++]=ee,I[se++]=Z,I[se++]=ae,I[se++]=255}--we}},this.decodeAndBlitFrameRGBA=function(A,I){var j=this.frameInfo(A),ne=j.width*j.height,pe=new Uint8Array(ne);c8(t,j.data_offset,pe,ne);var X=j.palette_offset,ce=j.transparent_index;ce===null&&(ce=256);var ue=j.width,xe=r-ue,we=ue,F=4*(j.y*r+j.x),J=4*((j.y+j.height)*r+j.x),se=F,he=4*xe;j.interlaced===!0&&(he+=4*r*7);for(var Q=8,$=0,V=pe.length;$<V;++$){var te=pe[$];if(we===0&&(we=ue,(se+=he)>=J&&(he=4*xe+4*r*(Q-1),se=F+(ue+xe)*(Q<<1),Q>>=1)),te===ce)se+=4;else{var ae=t[X+3*te],Z=t[X+3*te+1],ee=t[X+3*te+2];I[se++]=ae,I[se++]=Z,I[se++]=ee,I[se++]=255}--we}}}function c8(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,h=0,p=0,f=t[e++],y=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var w=h&c;if(h>>=l,u-=l,w!==s){if(w===a)break;for(var m=w<o?w:g,v=0,x=m;x>s;)x=y[x]>>8,++v;var E=x;if(p+v+(m!==w?1:0)>n)return void Nr.log("Warning, gif stream longer than expected.");r[p++]=E;var N=p+=v;for(m!==w&&(r[p++]=E),x=m;v--;)x=y[x],r[--N]=255&x,x>>=8;g!==null&&o<4096&&(y[o++]=g<<8|E,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=w}else o=a+1,c=(1<<(l=i+1))-1,g=null}return p!==n&&Nr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function W_(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),y=new Array(64),g=[],w=0,m=7,v=new Array(64),x=new Array(64),E=new Array(64),N=new Array(256),C=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pe(F,J){for(var se=0,he=0,Q=new Array,$=1;$<=16;$++){for(var V=1;V<=F[$];V++)Q[J[he]]=[],Q[J[he]][0]=se,Q[J[he]][1]=$,he++,se++;se*=2}return Q}function X(F){for(var J=F[0],se=F[1]-1;se>=0;)J&1<<se&&(w|=1<<m),se--,--m<0&&(w==255?(ce(255),ce(0)):ce(w),m=7,w=0)}function ce(F){g.push(F)}function ue(F){ce(F>>8&255),ce(255&F)}function xe(F,J,se,he,Q){for(var $,V=Q[0],te=Q[240],ae=function(W,G){var ie,re,Ae,Ne,Se,Ie,Fe,Ke,nt,bt,et=0;for(nt=0;nt<8;++nt){ie=W[et],re=W[et+1],Ae=W[et+2],Ne=W[et+3],Se=W[et+4],Ie=W[et+5],Fe=W[et+6];var or=ie+(Ke=W[et+7]),gt=ie-Ke,qr=re+Fe,$t=re-Fe,Ft=Ae+Ie,li=Ae-Ie,Bt=Ne+Se,na=Ne-Se,_r=or+Bt,Sn=or-Bt,Un=qr+Ft,ir=qr-Ft;W[et]=_r+Un,W[et+4]=_r-Un;var Et=.707106781*(ir+Sn);W[et+2]=Sn+Et,W[et+6]=Sn-Et;var Qt=.382683433*((_r=na+li)-(ir=$t+gt)),ia=.5411961*_r+Qt,Nn=1.306562965*ir+Qt,Si=.707106781*(Un=li+$t),ks=gt+Si,dt=gt-Si;W[et+5]=dt+ia,W[et+3]=dt-ia,W[et+1]=ks+Nn,W[et+7]=ks-Nn,et+=8}for(et=0,nt=0;nt<8;++nt){ie=W[et],re=W[et+8],Ae=W[et+16],Ne=W[et+24],Se=W[et+32],Ie=W[et+40],Fe=W[et+48];var ls=ie+(Ke=W[et+56]),Ni=ie-Ke,Tn=re+Fe,cn=re-Fe,Jr=Ae+Ie,Pn=Ae-Ie,Fc=Ne+Se,za=Ne-Se,Ti=ls+Fc,cs=ls-Fc,Wi=Tn+Jr,Hi=Tn-Jr;W[et]=Ti+Wi,W[et+32]=Ti-Wi;var un=.707106781*(Hi+cs);W[et+16]=cs+un,W[et+48]=cs-un;var Is=.382683433*((Ti=za+Pn)-(Hi=cn+Ni)),Io=.5411961*Ti+Is,jo=1.306562965*Hi+Is,Oo=.707106781*(Wi=Pn+cn),Pl=Ni+Oo,Cl=Ni-Oo;W[et+40]=Cl+Io,W[et+24]=Cl-Io,W[et+8]=Pl+jo,W[et+56]=Pl-jo,et++}for(nt=0;nt<64;++nt)bt=W[nt]*G[nt],f[nt]=bt>0?bt+.5|0:bt-.5|0;return f}(F,J),Z=0;Z<64;++Z)y[P[Z]]=ae[Z];var ee=y[0]-se;se=y[0],ee==0?X(he[0]):(X(he[p[$=32767+ee]]),X(h[$]));for(var _e=63;_e>0&&y[_e]==0;)_e--;if(_e==0)return X(V),se;for(var H,ve=1;ve<=_e;){for(var B=ve;y[ve]==0&&ve<=_e;)++ve;var O=ve-B;if(O>=16){H=O>>4;for(var L=1;L<=H;++L)X(te);O&=15}$=32767+y[ve],X(Q[(O<<4)+p[$]]),X(h[$]),ve++}return _e!=63&&X(V),se}function we(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(J){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var Q=a((se[he]*J+50)/100);Q=Math.min(Math.max(Q,1),255),o[P[he]]=Q}for(var $=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],V=0;V<64;V++){var te=a(($[V]*J+50)/100);te=Math.min(Math.max(te,1),255),l[P[V]]=te}for(var ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Z=0,ee=0;ee<8;ee++)for(var _e=0;_e<8;_e++)c[Z]=1/(o[P[Z]]*ae[ee]*ae[_e]*8),u[Z]=1/(l[P[Z]]*ae[ee]*ae[_e]*8),Z++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,J){J&&we(J),g=new Array,w=0,m=7,ue(65496),ue(65504),ue(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),ue(1),ue(1),ce(0),ce(0),function(){ue(65499),ue(132),ce(0);for(var re=0;re<64;re++)ce(o[re]);ce(1);for(var Ae=0;Ae<64;Ae++)ce(l[Ae])}(),function(re,Ae){ue(65472),ue(17),ce(8),ue(Ae),ue(re),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(F.width,F.height),function(){ue(65476),ue(418),ce(0);for(var re=0;re<16;re++)ce(k[re+1]);for(var Ae=0;Ae<=11;Ae++)ce(T[Ae]);ce(16);for(var Ne=0;Ne<16;Ne++)ce(q[Ne+1]);for(var Se=0;Se<=161;Se++)ce(M[Se]);ce(1);for(var Ie=0;Ie<16;Ie++)ce(A[Ie+1]);for(var Fe=0;Fe<=11;Fe++)ce(I[Fe]);ce(17);for(var Ke=0;Ke<16;Ke++)ce(j[Ke+1]);for(var nt=0;nt<=161;nt++)ce(ne[nt])}(),ue(65498),ue(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var se=0,he=0,Q=0;w=0,m=7,this.encode.displayName="_encode_";for(var $,V,te,ae,Z,ee,_e,H,ve,B=F.data,O=F.width,L=F.height,W=4*O,G=0;G<L;){for($=0;$<W;){for(Z=W*G+$,_e=-1,H=0,ve=0;ve<64;ve++)ee=Z+(H=ve>>3)*W+(_e=4*(7&ve)),G+H>=L&&(ee-=W*(G+1+H-L)),$+_e>=W&&(ee-=$+_e-W+4),V=B[ee++],te=B[ee++],ae=B[ee++],v[ve]=(C[V]+C[te+256>>0]+C[ae+512>>0]>>16)-128,x[ve]=(C[V+768>>0]+C[te+1024>>0]+C[ae+1280>>0]>>16)-128,E[ve]=(C[V+1280>>0]+C[te+1536>>0]+C[ae+1792>>0]>>16)-128;se=xe(v,c,se,e,n),he=xe(x,u,he,r,i),Q=xe(E,u,Q,r,i),$+=32}G+=8}if(m>=0){var ie=[];ie[1]=m+1,ie[0]=(1<<m+1)-1,X(ie)}return ue(65497),new Uint8Array(g)},t=t||50,function(){for(var F=String.fromCharCode,J=0;J<256;J++)N[J]=F(J)}(),e=pe(k,T),r=pe(A,I),n=pe(q,M),i=pe(j,ne),function(){for(var F=1,J=2,se=1;se<=15;se++){for(var he=F;he<J;he++)p[32767+he]=se,h[32767+he]=[],h[32767+he][1]=se,h[32767+he][0]=he;for(var Q=-(J-1);Q<=-F;Q++)p[32767+Q]=se,h[32767+Q]=[],h[32767+Q][1]=se,h[32767+Q][0]=J-1+Q;F<<=1,J<<=1}}(),function(){for(var F=0;F<256;F++)C[F]=19595*F,C[F+256>>0]=38470*F,C[F+512>>0]=7471*F+32768,C[F+768>>0]=-11059*F,C[F+1024>>0]=-21709*F,C[F+1280>>0]=32768*F+8421375,C[F+1536>>0]=-27439*F,C[F+1792>>0]=-5329*F}(),we(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ro(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function u8(t){function e(k){if(!k)throw Error("assert :P")}function r(k,T,q){for(var M=0;4>M;M++)if(k[T+M]!=q.charCodeAt(M))return!0;return!1}function n(k,T,q,M,A){for(var I=0;I<A;I++)k[T+I]=q[M+I]}function i(k,T,q,M){for(var A=0;A<M;A++)k[T+A]=q}function s(k){return new Int32Array(k)}function a(k,T){for(var q=[],M=0;M<k;M++)q.push(new T);return q}function o(k,T){var q=[];return function M(A,I,j){for(var ne=j[I],pe=0;pe<ne&&(A.push(j.length>I+1?[]:new T),!(j.length<I+1));pe++)M(A[pe],I+1,j)}(q,0,k),q}var l=function(){var k=this;function T(b,S){for(var U=1<<S-1>>>0;b&U;)U>>>=1;return U?(b&U-1)+U:b}function q(b,S,U,K,le){e(!(K%U));do b[S+(K-=U)]=le;while(0<K)}function M(b,S,U,K,le){if(e(2328>=le),512>=le)var de=s(512);else if((de=s(le))==null)return 0;return function(fe,ge,ye,be,Pe,Le){var De,Re,He=ge,Be=1<<ye,Ce=s(16),ke=s(16);for(e(Pe!=0),e(be!=null),e(fe!=null),e(0<ye),Re=0;Re<Pe;++Re){if(15<be[Re])return 0;++Ce[be[Re]]}if(Ce[0]==Pe)return 0;for(ke[1]=0,De=1;15>De;++De){if(Ce[De]>1<<De)return 0;ke[De+1]=ke[De]+Ce[De]}for(Re=0;Re<Pe;++Re)De=be[Re],0<be[Re]&&(Le[ke[De]++]=Re);if(ke[15]==1)return(be=new A).g=0,be.value=Le[0],q(fe,He,1,Be,be),Be;var ze,Ye=-1,qe=Be-1,ct=0,it=1,At=1,ot=1<<ye;for(Re=0,De=1,Pe=2;De<=ye;++De,Pe<<=1){if(it+=At<<=1,0>(At-=Ce[De]))return 0;for(;0<Ce[De];--Ce[De])(be=new A).g=De,be.value=Le[Re++],q(fe,He+ct,Pe,ot,be),ct=T(ct,De)}for(De=ye+1,Pe=2;15>=De;++De,Pe<<=1){if(it+=At<<=1,0>(At-=Ce[De]))return 0;for(;0<Ce[De];--Ce[De]){if(be=new A,(ct&qe)!=Ye){for(He+=ot,ze=1<<(Ye=De)-ye;15>Ye&&!(0>=(ze-=Ce[Ye]));)++Ye,ze<<=1;Be+=ot=1<<(ze=Ye-ye),fe[ge+(Ye=ct&qe)].g=ze+ye,fe[ge+Ye].value=He-ge-Ye}be.g=De-ye,be.value=Le[Re++],q(fe,He+(ct>>ye),Pe,ot,be),ct=T(ct,De)}}return it!=2*ke[15]-1?0:Be}(b,S,U,K,le,de)}function A(){this.value=this.g=0}function I(){this.value=this.g=0}function j(){this.G=a(5,A),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(di,I)}function ne(b,S,U,K){e(b!=null),e(S!=null),e(2147483648>K),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=S,b.pa=U,b.Jd=S,b.Yc=U+K,b.Zc=4<=K?U+K-4+1:U,$(b)}function pe(b,S){for(var U=0;0<S--;)U|=te(b,128)<<S;return U}function X(b,S){var U=pe(b,S);return V(b)?-U:U}function ce(b,S,U,K){var le,de=0;for(e(b!=null),e(S!=null),e(4294967288>K),b.Sb=K,b.Ra=0,b.u=0,b.h=0,4<K&&(K=4),le=0;le<K;++le)de+=S[U+le]<<8*le;b.Ra=de,b.bb=K,b.oa=S,b.pa=U}function ue(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Tf-8>>>0,++b.bb,b.u-=8;se(b)&&(b.h=1,b.u=0)}function xe(b,S){if(e(0<=S),!b.h&&S<=Nf){var U=J(b)&Sf[S];return b.u+=S,ue(b),U}return b.h=1,b.u=0}function we(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(b){return b.Ra>>>(b.u&Tf-1)>>>0}function se(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Tf}function he(b,S){b.u=S,b.h=se(b)}function Q(b){b.u>=Jm&&(e(b.u>=Jm),ue(b))}function $(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function V(b){return pe(b,1)}function te(b,S){var U=b.Ca;0>b.b&&$(b);var K=b.b,le=U*S>>>8,de=(b.I>>>K>le)+0;for(de?(U-=le,b.I-=le+1<<K>>>0):U=le+1,K=U,le=0;256<=K;)le+=8,K>>=8;return K=7^le+ds[K],b.b-=K,b.Ca=(U<<K)-1,de}function ae(b,S,U){b[S+0]=U>>24&255,b[S+1]=U>>16&255,b[S+2]=U>>8&255,b[S+3]=U>>0&255}function Z(b,S){return b[S+0]<<0|b[S+1]<<8}function ee(b,S){return Z(b,S)|b[S+2]<<16}function _e(b,S){return Z(b,S)|Z(b,S+2)<<16}function H(b,S){var U=1<<S;return e(b!=null),e(0<S),b.X=s(U),b.X==null?0:(b.Mb=32-S,b.Xa=S,1)}function ve(b,S){e(b!=null),e(S!=null),e(b.Xa==S.Xa),n(S.X,0,b.X,0,1<<S.Xa)}function B(){this.X=[],this.Xa=this.Mb=0}function O(b,S,U,K){e(U!=null),e(K!=null);var le=U[0],de=K[0];return le==0&&(le=(b*de+S/2)/S),de==0&&(de=(S*le+b/2)/b),0>=le||0>=de?0:(U[0]=le,K[0]=de,1)}function L(b,S){return b+(1<<S)-1>>>S}function W(b,S){return((4278255360&b)+(4278255360&S)>>>0&4278255360)+((16711935&b)+(16711935&S)>>>0&16711935)>>>0}function G(b,S){k[S]=function(U,K,le,de,fe,ge,ye){var be;for(be=0;be<fe;++be){var Pe=k[b](ge[ye+be-1],le,de+be);ge[ye+be]=W(U[K+be],Pe)}}}function ie(){this.ud=this.hd=this.jd=0}function re(b,S){return((4278124286&(b^S))>>>1)+(b&S)>>>0}function Ae(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Ne(b,S){return Ae(b+(b-S+.5>>1))}function Se(b,S,U){return Math.abs(S-U)-Math.abs(b-U)}function Ie(b,S,U,K,le,de,fe){for(K=de[fe-1],U=0;U<le;++U)de[fe+U]=K=W(b[S+U],K)}function Fe(b,S,U,K,le){var de;for(de=0;de<U;++de){var fe=b[S+de],ge=fe>>8&255,ye=16711935&(ye=(ye=16711935&fe)+((ge<<16)+ge));K[le+de]=(4278255360&fe)+ye>>>0}}function Ke(b,S){S.jd=b>>0&255,S.hd=b>>8&255,S.ud=b>>16&255}function nt(b,S,U,K,le,de){var fe;for(fe=0;fe<K;++fe){var ge=S[U+fe],ye=ge>>>8,be=ge,Pe=255&(Pe=(Pe=ge>>>16)+((b.jd<<24>>24)*(ye<<24>>24)>>>5));be=255&(be=(be=be+((b.hd<<24>>24)*(ye<<24>>24)>>>5))+((b.ud<<24>>24)*(Pe<<24>>24)>>>5)),le[de+fe]=(4278255360&ge)+(Pe<<16)+be}}function bt(b,S,U,K,le){k[S]=function(de,fe,ge,ye,be,Pe,Le,De,Re){for(ye=Le;ye<De;++ye)for(Le=0;Le<Re;++Le)be[Pe++]=le(ge[K(de[fe++])])},k[b]=function(de,fe,ge,ye,be,Pe,Le){var De=8>>de.b,Re=de.Ea,He=de.K[0],Be=de.w;if(8>De)for(de=(1<<de.b)-1,Be=(1<<De)-1;fe<ge;++fe){var Ce,ke=0;for(Ce=0;Ce<Re;++Ce)Ce&de||(ke=K(ye[be++])),Pe[Le++]=le(He[ke&Be]),ke>>=De}else k["VP8LMapColor"+U](ye,be,He,Be,Pe,Le,fe,ge,Re)}}function et(b,S,U,K,le){for(U=S+U;S<U;){var de=b[S++];K[le++]=de>>16&255,K[le++]=de>>8&255,K[le++]=de>>0&255}}function or(b,S,U,K,le){for(U=S+U;S<U;){var de=b[S++];K[le++]=de>>16&255,K[le++]=de>>8&255,K[le++]=de>>0&255,K[le++]=de>>24&255}}function gt(b,S,U,K,le){for(U=S+U;S<U;){var de=(fe=b[S++])>>16&240|fe>>12&15,fe=fe>>0&240|fe>>28&15;K[le++]=de,K[le++]=fe}}function qr(b,S,U,K,le){for(U=S+U;S<U;){var de=(fe=b[S++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;K[le++]=de,K[le++]=fe}}function $t(b,S,U,K,le){for(U=S+U;S<U;){var de=b[S++];K[le++]=de>>0&255,K[le++]=de>>8&255,K[le++]=de>>16&255}}function Ft(b,S,U,K,le,de){if(de==0)for(U=S+U;S<U;)ae(K,((de=b[S++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),le+=32;else n(K,le,b,S,U)}function li(b,S){k[S][0]=k[b+"0"],k[S][1]=k[b+"1"],k[S][2]=k[b+"2"],k[S][3]=k[b+"3"],k[S][4]=k[b+"4"],k[S][5]=k[b+"5"],k[S][6]=k[b+"6"],k[S][7]=k[b+"7"],k[S][8]=k[b+"8"],k[S][9]=k[b+"9"],k[S][10]=k[b+"10"],k[S][11]=k[b+"11"],k[S][12]=k[b+"12"],k[S][13]=k[b+"13"],k[S][14]=k[b+"0"],k[S][15]=k[b+"0"]}function Bt(b){return b==t5||b==r5||b==nv||b==n5}function na(){this.eb=[],this.size=this.A=this.fb=0}function _r(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new na,this.f.kb=new _r,this.sd=null}function Un(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ir(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Et(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Qt(b,S){var U=b.T,K=S.ba.f.RGBA,le=K.eb,de=K.fb+b.ka*K.A,fe=da[S.ba.S],ge=b.y,ye=b.O,be=b.f,Pe=b.N,Le=b.ea,De=b.W,Re=S.cc,He=S.dc,Be=S.Mc,Ce=S.Nc,ke=b.ka,ze=b.ka+b.T,Ye=b.U,qe=Ye+1>>1;for(ke==0?fe(ge,ye,null,null,be,Pe,Le,De,be,Pe,Le,De,le,de,null,null,Ye):(fe(S.ec,S.fc,ge,ye,Re,He,Be,Ce,be,Pe,Le,De,le,de-K.A,le,de,Ye),++U);ke+2<ze;ke+=2)Re=be,He=Pe,Be=Le,Ce=De,Pe+=b.Rc,De+=b.Rc,de+=2*K.A,fe(ge,(ye+=2*b.fa)-b.fa,ge,ye,Re,He,Be,Ce,be,Pe,Le,De,le,de-K.A,le,de,Ye);return ye+=b.fa,b.j+ze<b.o?(n(S.ec,S.fc,ge,ye,Ye),n(S.cc,S.dc,be,Pe,qe),n(S.Mc,S.Nc,Le,De,qe),U--):1&ze||fe(ge,ye,null,null,be,Pe,Le,De,be,Pe,Le,De,le,de+K.A,null,null,Ye),U}function ia(b,S,U){var K=b.F,le=[b.J];if(K!=null){var de=b.U,fe=S.ba.S,ge=fe==rv||fe==nv;S=S.ba.f.RGBA;var ye=[0],be=b.ka;ye[0]=b.T,b.Kb&&(be==0?--ye[0]:(--be,le[0]-=b.width),b.j+b.ka+b.T==b.o&&(ye[0]=b.o-b.j-be));var Pe=S.eb;be=S.fb+be*S.A,b=Ir(K,le[0],b.width,de,ye,Pe,be+(ge?0:3),S.A),e(U==ye),b&&Bt(fe)&&ca(Pe,be,ge,de,ye,S.A)}return 0}function Nn(b){var S=b.ma,U=S.ba.S,K=11>U,le=U==ev||U==tv||U==rv||U==e5||U==12||Bt(U);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Ym(S.Oa,b,le?11:12))return 0;if(le&&Bt(U)&&Xe(),b.da)alert("todo:use_scaling");else{if(K){if(S.Ib=Et,b.Kb){if(U=b.U+1>>1,S.memory=s(b.U+2*U),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+b.U,S.Mc=S.cc,S.Nc=S.dc+U,S.Ib=Qt,Xe()}}else alert("todo:EmitYUV");le&&(S.Jb=ia,K&&Oe())}if(K&&!f6){for(b=0;256>b;++b)QG[b]=89858*(b-128)+sv>>iv,tK[b]=-22014*(b-128)+sv,eK[b]=-45773*(b-128),ZG[b]=113618*(b-128)+sv>>iv;for(b=ig;b<a5;++b)S=76283*(b-16)+sv>>iv,rK[b-ig]=cr(S,255),nK[b-ig]=cr(S+8>>4,15);f6=1}return 1}function Si(b){var S=b.ma,U=b.U,K=b.T;return e(!(1&b.ka)),0>=U||0>=K?0:(U=S.Ib(b,S),S.Jb!=null&&S.Jb(b,S,U),S.Dc+=U,1)}function ks(b){b.ma.memory=null}function dt(b,S,U,K){return xe(b,8)!=47?0:(S[0]=xe(b,14)+1,U[0]=xe(b,14)+1,K[0]=xe(b,1),xe(b,3)!=0?0:!b.h)}function ls(b,S){if(4>b)return b+1;var U=b-2>>1;return(2+(1&b)<<U)+xe(S,U)+1}function Ni(b,S){return 120<S?S-120:1<=(U=((U=FG[S-1])>>4)*b+(8-(15&U)))?U:1;var U}function Tn(b,S,U){var K=J(U),le=b[S+=255&K].g-8;return 0<le&&(he(U,U.u+8),K=J(U),S+=b[S].value,S+=K&(1<<le)-1),he(U,U.u+b[S].g),b[S].value}function cn(b,S,U){return U.g+=b.g,U.value+=b.value<<S>>>0,e(8>=U.g),b.g}function Jr(b,S,U){var K=b.xc;return e((S=K==0?0:b.vc[b.md*(U>>K)+(S>>K)])<b.Wb),b.Ya[S]}function Pn(b,S,U,K){var le=b.ab,de=b.c*S,fe=b.C;S=fe+S;var ge=U,ye=K;for(K=b.Ta,U=b.Ua;0<le--;){var be=b.gc[le],Pe=fe,Le=S,De=ge,Re=ye,He=(ye=K,ge=U,be.Ea);switch(e(Pe<Le),e(Le<=be.nc),be.hc){case 2:Gy(De,Re,(Le-Pe)*He,ye,ge);break;case 0:var Be=Pe,Ce=Le,ke=ye,ze=ge,Ye=(ot=be).Ea;Be==0&&(Q2(De,Re,null,null,1,ke,ze),Ie(De,Re+1,0,0,Ye-1,ke,ze+1),Re+=Ye,ze+=Ye,++Be);for(var qe=1<<ot.b,ct=qe-1,it=L(Ye,ot.b),At=ot.K,ot=ot.w+(Be>>ot.b)*it;Be<Ce;){var sr=At,dr=ot,Zt=1;for(Qm(De,Re,ke,ze-Ye,1,ke,ze);Zt<Ye;){var qt=(Zt&~ct)+qe;qt>Ye&&(qt=Ye),(0,ru[sr[dr++]>>8&15])(De,Re+ +Zt,ke,ze+Zt-Ye,qt-Zt,ke,ze+Zt),Zt=qt}Re+=Ye,ze+=Ye,++Be&ct||(ot+=it)}Le!=be.nc&&n(ye,ge-He,ye,ge+(Le-Pe-1)*He,He);break;case 1:for(He=De,Ce=Re,Ye=(De=be.Ea)-(ze=De&~(ke=(Re=1<<be.b)-1)),Be=L(De,be.b),qe=be.K,be=be.w+(Pe>>be.b)*Be;Pe<Le;){for(ct=qe,it=be,At=new ie,ot=Ce+ze,sr=Ce+De;Ce<ot;)Ke(ct[it++],At),zd(At,He,Ce,Re,ye,ge),Ce+=Re,ge+=Re;Ce<sr&&(Ke(ct[it++],At),zd(At,He,Ce,Ye,ye,ge),Ce+=Ye,ge+=Ye),++Pe&ke||(be+=Be)}break;case 3:if(De==ye&&Re==ge&&0<be.b){for(Ce=ye,De=He=ge+(Le-Pe)*He-(ze=(Le-Pe)*L(be.Ea,be.b)),Re=ye,ke=ge,Be=[],ze=(Ye=ze)-1;0<=ze;--ze)Be[ze]=Re[ke+ze];for(ze=Ye-1;0<=ze;--ze)Ce[De+ze]=Be[ze];aa(be,Pe,Le,ye,He,ye,ge)}else aa(be,Pe,Le,De,Re,ye,ge)}ge=K,ye=U}ye!=U&&n(K,U,ge,ye,de)}function Fc(b,S){var U=b.V,K=b.Ba+b.c*b.C,le=S-b.C;if(e(S<=b.l.o),e(16>=le),0<le){var de=b.l,fe=b.Ta,ge=b.Ua,ye=de.width;if(Pn(b,le,U,K),le=ge=[ge],e((U=b.C)<(K=S)),e(de.v<de.va),K>de.o&&(K=de.o),U<de.j){var be=de.j-U;U=de.j,le[0]+=be*ye}if(U>=K?U=0:(le[0]+=4*de.v,de.ka=U-de.j,de.U=de.va-de.v,de.T=K-U,U=1),U){if(ge=ge[0],11>(U=b.ca).S){var Pe=U.f.RGBA,Le=(K=U.S,le=de.U,de=de.T,be=Pe.eb,Pe.A),De=de;for(Pe=Pe.fb+b.Ma*Pe.A;0<De--;){var Re=fe,He=ge,Be=le,Ce=be,ke=Pe;switch(K){case Zy:hs(Re,He,Be,Ce,ke);break;case ev:Ki(Re,He,Be,Ce,ke);break;case t5:Ki(Re,He,Be,Ce,ke),ca(Ce,ke,0,Be,1,0);break;case n6:Ul(Re,He,Be,Ce,ke);break;case tv:Ft(Re,He,Be,Ce,ke,1);break;case r5:Ft(Re,He,Be,Ce,ke,1),ca(Ce,ke,0,Be,1,0);break;case rv:Ft(Re,He,Be,Ce,ke,0);break;case nv:Ft(Re,He,Be,Ce,ke,0),ca(Ce,ke,1,Be,1,0);break;case e5:nu(Re,He,Be,Ce,ke);break;case n5:nu(Re,He,Be,Ce,ke),kr(Ce,ke,Be,1,0);break;case i6:Bl(Re,He,Be,Ce,ke);break;default:e(0)}ge+=ye,Pe+=Le}b.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=U.height)}}b.C=S,e(b.C<=b.i)}function za(b){var S;if(0<b.ua)return 0;for(S=0;S<b.Wb;++S){var U=b.Ya[S].G,K=b.Ya[S].H;if(0<U[1][K[1]+0].g||0<U[2][K[2]+0].g||0<U[3][K[3]+0].g)return 0}return 1}function Ti(b,S,U,K,le,de){if(b.Z!=0){var fe=b.qd,ge=b.rd;for(e(ou[b.Z]!=null);S<U;++S)ou[b.Z](fe,ge,K,le,K,le,de),fe=K,ge=le,le+=de;b.qd=fe,b.rd=ge}}function cs(b,S){var U=b.l.ma,K=U.Z==0||U.Z==1?b.l.j:b.C;if(K=b.C<K?K:b.C,e(S<=b.l.o),S>K){var le=b.l.width,de=U.ca,fe=U.tb+le*K,ge=b.V,ye=b.Ba+b.c*K,be=b.gc;e(b.ab==1),e(be[0].hc==3),Ky(be[0],K,S,ge,ye,de,fe),Ti(U,K,S,de,fe,le)}b.C=b.Ma=S}function Wi(b,S,U,K,le,de,fe){var ge=b.$/K,ye=b.$%K,be=b.m,Pe=b.s,Le=U+b.$,De=Le;le=U+K*le;var Re=U+K*de,He=280+Pe.ua,Be=b.Pb?ge:16777216,Ce=0<Pe.ua?Pe.Wa:null,ke=Pe.wc,ze=Le<Re?Jr(Pe,ye,ge):null;e(b.C<de),e(Re<=le);var Ye=!1;e:for(;;){for(;Ye||Le<Re;){var qe=0;if(ge>=Be){var ct=Le-U;e((Be=b).Pb),Be.wd=Be.m,Be.xd=ct,0<Be.s.ua&&ve(Be.s.Wa,Be.s.vb),Be=ge+UG}if(ye&ke||(ze=Jr(Pe,ye,ge)),e(ze!=null),ze.Qb&&(S[Le]=ze.qb,Ye=!0),!Ye)if(Q(be),ze.jc){qe=be,ct=S;var it=Le,At=ze.pd[J(qe)&di-1];e(ze.jc),256>At.g?(he(qe,qe.u+At.g),ct[it]=At.value,qe=0):(he(qe,qe.u+At.g-256),e(256<=At.value),qe=At.value),qe==0&&(Ye=!0)}else qe=Tn(ze.G[0],ze.H[0],be);if(be.h)break;if(Ye||256>qe){if(!Ye)if(ze.nd)S[Le]=(ze.qb|qe<<8)>>>0;else{if(Q(be),Ye=Tn(ze.G[1],ze.H[1],be),Q(be),ct=Tn(ze.G[2],ze.H[2],be),it=Tn(ze.G[3],ze.H[3],be),be.h)break;S[Le]=(it<<24|Ye<<16|qe<<8|ct)>>>0}if(Ye=!1,++Le,++ye>=K&&(ye=0,++ge,fe!=null&&ge<=de&&!(ge%16)&&fe(b,ge),Ce!=null))for(;De<Le;)qe=S[De++],Ce.X[(506832829*qe&4294967295)>>>Ce.Mb]=qe}else if(280>qe){if(qe=ls(qe-256,be),ct=Tn(ze.G[4],ze.H[4],be),Q(be),ct=Ni(K,ct=ls(ct,be)),be.h)break;if(Le-U<ct||le-Le<qe)break e;for(it=0;it<qe;++it)S[Le+it]=S[Le+it-ct];for(Le+=qe,ye+=qe;ye>=K;)ye-=K,++ge,fe!=null&&ge<=de&&!(ge%16)&&fe(b,ge);if(e(Le<=le),ye&ke&&(ze=Jr(Pe,ye,ge)),Ce!=null)for(;De<Le;)qe=S[De++],Ce.X[(506832829*qe&4294967295)>>>Ce.Mb]=qe}else{if(!(qe<He))break e;for(Ye=qe-280,e(Ce!=null);De<Le;)qe=S[De++],Ce.X[(506832829*qe&4294967295)>>>Ce.Mb]=qe;qe=Le,e(!(Ye>>>(ct=Ce).Xa)),S[qe]=ct.X[Ye],Ye=!0}Ye||e(be.h==se(be))}if(b.Pb&&be.h&&Le<le)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ve(b.s.vb,b.s.Wa);else{if(be.h)break e;fe!=null&&fe(b,ge>de?de:ge),b.a=0,b.$=Le-U}return 1}return b.a=3,0}function Hi(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var S=b.Wa;S!=null&&(S.X=null),b.vb=null,e(b!=null)}function un(){var b=new Ef;return b==null?null:(b.a=0,b.xb=o6,li("Predictor","VP8LPredictors"),li("Predictor","VP8LPredictors_C"),li("PredictorAdd","VP8LPredictorsAdd"),li("PredictorAdd","VP8LPredictorsAdd_C"),Gy=Fe,zd=nt,hs=et,Ki=or,nu=gt,Bl=qr,Ul=$t,k.VP8LMapColor32b=Pf,k.VP8LMapColor8b=Yy,b)}function Is(b,S,U,K,le){var de=1,fe=[b],ge=[S],ye=K.m,be=K.s,Pe=null,Le=0;e:for(;;){if(U)for(;de&&xe(ye,1);){var De=fe,Re=ge,He=K,Be=1,Ce=He.m,ke=He.gc[He.ab],ze=xe(Ce,2);if(He.Oc&1<<ze)de=0;else{switch(He.Oc|=1<<ze,ke.hc=ze,ke.Ea=De[0],ke.nc=Re[0],ke.K=[null],++He.ab,e(4>=He.ab),ze){case 0:case 1:ke.b=xe(Ce,3)+2,Be=Is(L(ke.Ea,ke.b),L(ke.nc,ke.b),0,He,ke.K),ke.K=ke.K[0];break;case 3:var Ye,qe=xe(Ce,8)+1,ct=16<qe?0:4<qe?1:2<qe?2:3;if(De[0]=L(ke.Ea,ct),ke.b=ct,Ye=Be=Is(qe,1,0,He,ke.K)){var it,At=qe,ot=ke,sr=1<<(8>>ot.b),dr=s(sr);if(dr==null)Ye=0;else{var Zt=ot.K[0],qt=ot.w;for(dr[0]=ot.K[0][0],it=1;it<1*At;++it)dr[it]=W(Zt[qt+it],dr[it-1]);for(;it<4*sr;++it)dr[it]=0;ot.K[0]=null,ot.K[0]=dr,Ye=1}}Be=Ye;break;case 2:break;default:e(0)}de=Be}}if(fe=fe[0],ge=ge[0],de&&xe(ye,1)&&!(de=1<=(Le=xe(ye,4))&&11>=Le)){K.a=3;break e}var Ar;if(Ar=de)t:{var yr,Lt,Cn,fs=K,kn=fe,ps=ge,hr=Le,Ds=U,Ms=fs.m,Kn=fs.s,hi=[null],Xi=1,ha=0,zo=BG[hr];r:for(;;){if(Ds&&xe(Ms,1)){var Yn=xe(Ms,3)+2,ql=L(kn,Yn),Kd=L(ps,Yn),Of=ql*Kd;if(!Is(ql,Kd,0,fs,hi))break r;for(hi=hi[0],Kn.xc=Yn,yr=0;yr<Of;++yr){var lu=hi[yr]>>8&65535;hi[yr]=lu,lu>=Xi&&(Xi=lu+1)}}if(Ms.h)break r;for(Lt=0;5>Lt;++Lt){var Zr=s6[Lt];!Lt&&0<hr&&(Zr+=1<<hr),ha<Zr&&(ha=Zr)}var o5=a(Xi*zo,A),g6=Xi,y6=a(g6,j);if(y6==null)var ov=null;else e(65536>=g6),ov=y6;var sg=s(ha);if(ov==null||sg==null||o5==null){fs.a=1;break r}var lv=o5;for(yr=Cn=0;yr<Xi;++yr){var Za=ov[yr],Rf=Za.G,Lf=Za.H,v6=0,cv=1,w6=0;for(Lt=0;5>Lt;++Lt){Zr=s6[Lt],Rf[Lt]=lv,Lf[Lt]=Cn,!Lt&&0<hr&&(Zr+=1<<hr);i:{var uv,l5=Zr,dv=fs,ag=sg,aK=lv,oK=Cn,c5=0,cu=dv.m,lK=xe(cu,1);if(i(ag,0,0,l5),lK){var cK=xe(cu,1)+1,uK=xe(cu,1),b6=xe(cu,uK==0?1:8);ag[b6]=1,cK==2&&(ag[b6=xe(cu,8)]=1);var hv=1}else{var x6=s(19),_6=xe(cu,4)+4;if(19<_6){dv.a=3;var fv=0;break i}for(uv=0;uv<_6;++uv)x6[MG[uv]]=xe(cu,3);var u5=void 0,og=void 0,E6=dv,dK=x6,pv=l5,A6=ag,d5=0,uu=E6.m,S6=8,N6=a(128,A);n:for(;M(N6,0,7,dK,19);){if(xe(uu,1)){var hK=2+2*xe(uu,3);if((u5=2+xe(uu,hK))>pv)break n}else u5=pv;for(og=0;og<pv&&u5--;){Q(uu);var T6=N6[0+(127&J(uu))];he(uu,uu.u+T6.g);var Df=T6.value;if(16>Df)A6[og++]=Df,Df!=0&&(S6=Df);else{var fK=Df==16,P6=Df-16,pK=LG[P6],C6=xe(uu,RG[P6])+pK;if(og+C6>pv)break n;for(var mK=fK?S6:0;0<C6--;)A6[og++]=mK}}d5=1;break n}d5||(E6.a=3),hv=d5}(hv=hv&&!cu.h)&&(c5=M(aK,oK,8,ag,l5)),hv&&c5!=0?fv=c5:(dv.a=3,fv=0)}if(fv==0)break r;if(cv&&DG[Lt]==1&&(cv=lv[Cn].g==0),v6+=lv[Cn].g,Cn+=fv,3>=Lt){var lg,h5=sg[0];for(lg=1;lg<Zr;++lg)sg[lg]>h5&&(h5=sg[lg]);w6+=h5}}if(Za.nd=cv,Za.Qb=0,cv&&(Za.qb=(Rf[3][Lf[3]+0].value<<24|Rf[1][Lf[1]+0].value<<16|Rf[2][Lf[2]+0].value)>>>0,v6==0&&256>Rf[0][Lf[0]+0].value&&(Za.Qb=1,Za.qb+=Rf[0][Lf[0]+0].value<<8)),Za.jc=!Za.Qb&&6>w6,Za.jc){var mv,Wl=Za;for(mv=0;mv<di;++mv){var du=mv,hu=Wl.pd[du],gv=Wl.G[0][Wl.H[0]+du];256<=gv.value?(hu.g=gv.g+256,hu.value=gv.value):(hu.g=0,hu.value=0,du>>=cn(gv,8,hu),du>>=cn(Wl.G[1][Wl.H[1]+du],16,hu),du>>=cn(Wl.G[2][Wl.H[2]+du],0,hu),cn(Wl.G[3][Wl.H[3]+du],24,hu))}}}Kn.vc=hi,Kn.Wb=Xi,Kn.Ya=ov,Kn.yc=o5,Ar=1;break t}Ar=0}if(!(de=Ar)){K.a=3;break e}if(0<Le){if(be.ua=1<<Le,!H(be.Wa,Le)){K.a=1,de=0;break e}}else be.ua=0;var f5=K,k6=fe,gK=ge,p5=f5.s,m5=p5.xc;if(f5.c=k6,f5.i=gK,p5.md=L(k6,m5),p5.wc=m5==0?-1:(1<<m5)-1,U){K.xb=GG;break e}if((Pe=s(fe*ge))==null){K.a=1,de=0;break e}de=(de=Wi(K,Pe,0,fe,ge,ge,null))&&!ye.h;break e}return de?(le!=null?le[0]=Pe:(e(Pe==null),e(U)),K.$=0,U||Hi(be)):Hi(be),de}function Io(b,S){var U=b.c*b.i,K=U+S+16*S;return e(b.c<=S),b.V=s(K),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+U+S,1)}function jo(b,S){var U=b.C,K=S-U,le=b.V,de=b.Ba+b.c*U;for(e(S<=b.l.o);0<K;){var fe=16<K?16:K,ge=b.l.ma,ye=b.l.width,be=ye*fe,Pe=ge.ca,Le=ge.tb+ye*U,De=b.Ta,Re=b.Ua;Pn(b,fe,le,de),hn(De,Re,Pe,Le,be),Ti(ge,U,U+fe,Pe,Le,ye),K-=fe,le+=fe*b.c,U+=fe}e(U==S),b.C=b.Ma=S}function Oo(){this.ub=this.yd=this.td=this.Rb=0}function Pl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Cl(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ff(){this.Yb=function(){var b=[];return function S(U,K,le){for(var de=le[K],fe=0;fe<de&&(U.push(le.length>K+1?[]:0),!(le.length<K+1));fe++)S(U[fe],K+1,le)}(b,0,[3,11]),b}()}function Bc(){this.jb=s(3),this.Wc=o([4,8],ff),this.Xc=o([4,17],ff)}function pf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ro(){this.ld=this.La=this.dd=this.tc=0}function Lo(){this.Na=this.la=0}function qa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wm(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ro),this.Y=0,this.ya=Array(new kl),this.aa=0,this.l=new Il}function Cd(){this.y=s(16),this.f=s(8),this.ea=s(8)}function mf(){this.cb=this.a=0,this.sc="",this.m=new we,this.Od=new Oo,this.Kc=new Pl,this.ed=new pf,this.Qa=new Cl,this.Ic=this.$c=this.Aa=0,this.D=new Wm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,we),this.ia=0,this.pb=a(4,qa),this.Pa=new Bc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cd),this.Hd=0,this.rb=Array(new Lo),this.sb=0,this.wa=Array(new Ro),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kl),this.L=this.aa=0,this.gd=o([4,2],Ro),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Il(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function kd(){var b=new mf;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,ng||(ng=gf)),b}function Rr(b,S,U){return b.a==0&&(b.a=S,b.sc=U,b.cb=0),0}function Id(b,S,U){return 3<=U&&b[S+0]==157&&b[S+1]==1&&b[S+2]==42}function jd(b,S){if(b==null)return 0;if(b.a=0,b.sc="OK",S==null)return Rr(b,2,"null VP8Io passed to VP8GetHeaders()");var U=S.data,K=S.w,le=S.ha;if(4>le)return Rr(b,7,"Truncated header.");var de=U[K+0]|U[K+1]<<8|U[K+2]<<16,fe=b.Od;if(fe.Rb=!(1&de),fe.td=de>>1&7,fe.yd=de>>4&1,fe.ub=de>>5,3<fe.td)return Rr(b,3,"Incorrect keyframe parameters.");if(!fe.yd)return Rr(b,4,"Frame not displayable.");K+=3,le-=3;var ge=b.Kc;if(fe.Rb){if(7>le)return Rr(b,7,"cannot parse picture header");if(!Id(U,K,le))return Rr(b,3,"Bad code word");ge.c=16383&(U[K+4]<<8|U[K+3]),ge.Td=U[K+4]>>6,ge.i=16383&(U[K+6]<<8|U[K+5]),ge.Ud=U[K+6]>>6,K+=7,le-=7,b.za=ge.c+15>>4,b.Ub=ge.i+15>>4,S.width=ge.c,S.height=ge.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((de=b.Pa).jb,0,255,de.jb.length),e((de=b.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,i(de.Zb,0,0,de.Zb.length),i(de.Lb,0,0,de.Lb)}if(fe.ub>le)return Rr(b,7,"bad partition length");ne(de=b.m,U,K,fe.ub),K+=fe.ub,le-=fe.ub,fe.Rb&&(ge.Ld=V(de),ge.Kd=V(de)),ge=b.Qa;var ye,be=b.Pa;if(e(de!=null),e(ge!=null),ge.Cb=V(de),ge.Cb){if(ge.Bb=V(de),V(de)){for(ge.Fb=V(de),ye=0;4>ye;++ye)ge.Zb[ye]=V(de)?X(de,7):0;for(ye=0;4>ye;++ye)ge.Lb[ye]=V(de)?X(de,6):0}if(ge.Bb)for(ye=0;3>ye;++ye)be.jb[ye]=V(de)?pe(de,8):255}else ge.Bb=0;if(de.Ka)return Rr(b,3,"cannot parse segment header");if((ge=b.ed).zd=V(de),ge.Tb=pe(de,6),ge.wb=pe(de,3),ge.Pc=V(de),ge.Pc&&V(de)){for(be=0;4>be;++be)V(de)&&(ge.vd[be]=X(de,6));for(be=0;4>be;++be)V(de)&&(ge.od[be]=X(de,6))}if(b.L=ge.Tb==0?0:ge.zd?1:2,de.Ka)return Rr(b,3,"cannot parse filter header");var Pe=le;if(le=ye=K,K=ye+Pe,ge=Pe,b.Xb=(1<<pe(b.m,2))-1,Pe<3*(be=b.Xb))U=7;else{for(ye+=3*be,ge-=3*be,Pe=0;Pe<be;++Pe){var Le=U[le+0]|U[le+1]<<8|U[le+2]<<16;Le>ge&&(Le=ge),ne(b.Jc[+Pe],U,ye,Le),ye+=Le,ge-=Le,le+=3}ne(b.Jc[+be],U,ye,ge),U=ye<K?0:5}if(U!=0)return Rr(b,U,"cannot parse partitions");for(U=pe(ye=b.m,7),le=V(ye)?X(ye,4):0,K=V(ye)?X(ye,4):0,ge=V(ye)?X(ye,4):0,be=V(ye)?X(ye,4):0,ye=V(ye)?X(ye,4):0,Pe=b.Qa,Le=0;4>Le;++Le){if(Pe.Cb){var De=Pe.Zb[Le];Pe.Fb||(De+=U)}else{if(0<Le){b.pb[Le]=b.pb[0];continue}De=U}var Re=b.pb[Le];Re.Sc[0]=i5[cr(De+le,127)],Re.Sc[1]=s5[cr(De+0,127)],Re.Eb[0]=2*i5[cr(De+K,127)],Re.Eb[1]=101581*s5[cr(De+ge,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=i5[cr(De+be,117)],Re.Qc[1]=s5[cr(De+ye,127)],Re.lc=De+ye}if(!fe.Rb)return Rr(b,4,"Not a key frame.");for(V(de),fe=b.Pa,U=0;4>U;++U){for(le=0;8>le;++le)for(K=0;3>K;++K)for(ge=0;11>ge;++ge)be=te(de,WG[U][le][K][ge])?pe(de,8):zG[U][le][K][ge],fe.Wc[U][le].Yb[K][ge]=be;for(le=0;17>le;++le)fe.Xc[U][le]=fe.Wc[U][HG[le]]}return b.kc=V(de),b.kc&&(b.Bd=pe(de,8)),b.cb=1}function gf(b,S,U,K,le,de,fe){var ge=S[le].Yb[U];for(U=0;16>le;++le){if(!te(b,ge[U+0]))return le;for(;!te(b,ge[U+1]);)if(ge=S[++le].Yb[0],U=0,le==16)return 16;var ye=S[le+1].Yb;if(te(b,ge[U+2])){var be=b,Pe=0;if(te(be,(De=ge)[(Le=U)+3]))if(te(be,De[Le+6])){for(ge=0,Le=2*(Pe=te(be,De[Le+8]))+(De=te(be,De[Le+9+Pe])),Pe=0,De=$G[Le];De[ge];++ge)Pe+=Pe+te(be,De[ge]);Pe+=3+(8<<Le)}else te(be,De[Le+7])?(Pe=7+2*te(be,165),Pe+=te(be,145)):Pe=5+te(be,159);else Pe=te(be,De[Le+4])?3+te(be,De[Le+5]):2;ge=ye[2]}else Pe=1,ge=ye[1];ye=fe+VG[le],0>(be=b).b&&$(be);var Le,De=be.b,Re=(Le=be.Ca>>1)-(be.I>>De)>>31;--be.b,be.Ca+=Re,be.Ca|=1,be.I-=(Le+1&Re)<<De,de[ye]=((Pe^Re)-Re)*K[(0<le)+0]}return 16}function Od(b){var S=b.rb[b.sb-1];S.la=0,S.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function yf(b,S){if(b==null)return 0;if(S==null)return Rr(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!jd(b,S))return 0;if(e(b.cb),S.ac==null||S.ac(S)){S.ob&&(b.L=0);var U=av[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=S.v-U>>4,b.zb=S.j-U>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=S.o+15+U>>4,b.Hb=S.va+15+U>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var K=b.ed;for(U=0;4>U;++U){var le;if(b.Qa.Cb){var de=b.Qa.Lb[U];b.Qa.Fb||(de+=K.Tb)}else de=K.Tb;for(le=0;1>=le;++le){var fe=b.gd[U][le],ge=de;if(K.Pc&&(ge+=K.vd[0],le&&(ge+=K.od[0])),0<(ge=0>ge?0:63<ge?63:ge)){var ye=ge;0<K.wb&&(ye=4<K.wb?ye>>2:ye>>1)>9-K.wb&&(ye=9-K.wb),1>ye&&(ye=1),fe.dd=ye,fe.tc=2*ge+ye,fe.ld=40<=ge?2:15<=ge?1:0}else fe.tc=0;fe.La=le}}}U=0}else Rr(b,6,"Frame setup failed"),U=b.a;if(U=U==0){if(U){b.$c=0,0<b.Aa||(b.Ic=sK);e:{U=b.Ic,K=4*(ye=b.za);var be=32*ye,Pe=ye+1,Le=0<b.L?ye*(0<b.Aa?2:1):0,De=(b.Aa==2?2:1)*ye;if((fe=K+832+(le=3*(16*U+av[b.L])/2*be)+(de=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=fe)U=0;else{if(fe>b.Vb){if(b.Vb=0,b.Ec=s(fe),b.Fc=0,b.Ec==null){U=Rr(b,1,"no memory during frame initialization.");break e}b.Vb=fe}fe=b.Ec,ge=b.Fc,b.Ac=fe,b.Bc=ge,ge+=K,b.Gd=a(be,Cd),b.Hd=0,b.rb=a(Pe+1,Lo),b.sb=1,b.wa=Le?a(Le,Ro):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=ye),e(!0),b.oc=fe,b.pc=ge,ge+=832,b.ya=a(De,kl),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=ye),b.R=16*ye,b.B=8*ye,ye=(be=av[b.L])*b.R,be=be/2*b.B,b.sa=fe,b.ta=ge+ye,b.qa=b.sa,b.ra=b.ta+16*U*b.R+be,b.Ha=b.qa,b.Ia=b.ra+8*U*b.B+be,b.$c=0,ge+=le,b.mb=de?fe:null,b.nb=de?ge:null,e(ge+de<=b.Fc+b.Vb),Od(b),i(b.Ac,b.Bc,0,K),U=1}}if(U){if(S.ka=0,S.y=b.sa,S.O=b.ta,S.f=b.qa,S.N=b.ra,S.ea=b.Ha,S.Vd=b.Ia,S.fa=b.R,S.Rc=b.B,S.F=null,S.J=0,!Jy){for(U=-255;255>=U;++U)Vn[255+U]=0>U?-U:U;for(U=-1020;1020>=U;++U)Vl[1020+U]=-128>U?-128:127<U?127:U;for(U=-112;112>=U;++U)rg[112+U]=-16>U?-16:15<U?15:U;for(U=-255;510>=U;++U)jf[255+U]=0>U?0:255<U?255:U;Jy=1}Cf=Rl,$l=$c,Zm=Rd,Yi=ur,oa=Ol,dn=jl,kf=Kc,Xy=Ya,eg=Xc,qd=Vd,Wd=Yc,iu=Dl,Hd=Jc,If=Bo,Gd=Ll,su=Rs,tg=$n,la=_f,Qa[0]=sa,Qa[1]=Hm,Qa[2]=Mo,Qa[3]=Km,Qa[4]=bf,Qa[5]=qc,Qa[6]=js,Qa[7]=Dd,Qa[8]=Hc,Qa[9]=Wc,au[0]=Do,au[1]=Gm,au[2]=Ha,au[3]=Vc,au[4]=Lr,au[5]=wf,au[6]=Ld,zl[0]=Ka,zl[1]=vf,zl[2]=xf,zl[3]=Ga,zl[4]=lr,zl[5]=Md,zl[6]=Fd,U=1}else U=0}U&&(U=function(Re,He){for(Re.M=0;Re.M<Re.Va;++Re.M){var Be,Ce=Re.Jc[Re.M&Re.Xb],ke=Re.m,ze=Re;for(Be=0;Be<ze.za;++Be){var Ye=ke,qe=ze,ct=qe.Ac,it=qe.Bc+4*Be,At=qe.zc,ot=qe.ya[qe.aa+Be];if(qe.Qa.Bb?ot.$b=te(Ye,qe.Pa.jb[0])?2+te(Ye,qe.Pa.jb[2]):te(Ye,qe.Pa.jb[1]):ot.$b=0,qe.kc&&(ot.Ad=te(Ye,qe.Bd)),ot.Za=!te(Ye,145)+0,ot.Za){var sr=ot.Ob,dr=0;for(qe=0;4>qe;++qe){var Zt,qt=At[0+qe];for(Zt=0;4>Zt;++Zt){qt=qG[ct[it+Zt]][qt];for(var Ar=a6[te(Ye,qt[0])];0<Ar;)Ar=a6[2*Ar+te(Ye,qt[Ar])];qt=-Ar,ct[it+Zt]=qt}n(sr,dr,ct,it,4),dr+=4,At[0+qe]=qt}}else qt=te(Ye,156)?te(Ye,128)?1:3:te(Ye,163)?2:0,ot.Ob[0]=qt,i(ct,it,qt,4),i(At,0,qt,4);ot.Dd=te(Ye,142)?te(Ye,114)?te(Ye,183)?1:3:2:0}if(ze.m.Ka)return Rr(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(ze=Ce,Ye=(ke=Re).rb[ke.sb-1],ct=ke.rb[ke.sb+ke.ja],Be=ke.ya[ke.aa+ke.ja],it=ke.kc?Be.Ad:0)Ye.la=ct.la=0,Be.Za||(Ye.Na=ct.Na=0),Be.Hc=0,Be.Gc=0,Be.ia=0;else{var yr,Lt;if(Ye=ct,ct=ze,it=ke.Pa.Xc,At=ke.ya[ke.aa+ke.ja],ot=ke.pb[At.$b],qe=At.ad,sr=0,dr=ke.rb[ke.sb-1],qt=Zt=0,i(qe,sr,0,384),At.Za)var Cn=0,fs=it[3];else{Ar=s(16);var kn=Ye.Na+dr.Na;if(kn=ng(ct,it[1],kn,ot.Eb,0,Ar,0),Ye.Na=dr.Na=(0<kn)+0,1<kn)Cf(Ar,0,qe,sr);else{var ps=Ar[0]+3>>3;for(Ar=0;256>Ar;Ar+=16)qe[sr+Ar]=ps}Cn=1,fs=it[0]}var hr=15&Ye.la,Ds=15&dr.la;for(Ar=0;4>Ar;++Ar){var Ms=1&Ds;for(ps=Lt=0;4>ps;++ps)hr=hr>>1|(Ms=(kn=ng(ct,fs,kn=Ms+(1&hr),ot.Sc,Cn,qe,sr))>Cn)<<7,Lt=Lt<<2|(3<kn?3:1<kn?2:qe[sr+0]!=0),sr+=16;hr>>=4,Ds=Ds>>1|Ms<<7,Zt=(Zt<<8|Lt)>>>0}for(fs=hr,Cn=Ds>>4,yr=0;4>yr;yr+=2){for(Lt=0,hr=Ye.la>>4+yr,Ds=dr.la>>4+yr,Ar=0;2>Ar;++Ar){for(Ms=1&Ds,ps=0;2>ps;++ps)kn=Ms+(1&hr),hr=hr>>1|(Ms=0<(kn=ng(ct,it[2],kn,ot.Qc,0,qe,sr)))<<3,Lt=Lt<<2|(3<kn?3:1<kn?2:qe[sr+0]!=0),sr+=16;hr>>=2,Ds=Ds>>1|Ms<<5}qt|=Lt<<4*yr,fs|=hr<<4<<yr,Cn|=(240&Ds)<<yr}Ye.la=fs,dr.la=Cn,At.Hc=Zt,At.Gc=qt,At.ia=43690&qt?0:ot.ia,it=!(Zt|qt)}if(0<ke.L&&(ke.wa[ke.Y+ke.ja]=ke.gd[Be.$b][Be.Za],ke.wa[ke.Y+ke.ja].La|=!it),ze.Ka)return Rr(Re,7,"Premature end-of-file encountered.")}if(Od(Re),ke=He,ze=1,Be=(Ce=Re).D,Ye=0<Ce.L&&Ce.M>=Ce.zb&&Ce.M<=Ce.Va,Ce.Aa==0)e:{if(Be.M=Ce.M,Be.uc=Ye,$o(Ce,Be),ze=1,Be=(Lt=Ce.D).Nb,Ye=(qt=av[Ce.L])*Ce.R,ct=qt/2*Ce.B,Ar=16*Be*Ce.R,ps=8*Be*Ce.B,it=Ce.sa,At=Ce.ta-Ye+Ar,ot=Ce.qa,qe=Ce.ra-ct+ps,sr=Ce.Ha,dr=Ce.Ia-ct+ps,Ds=(hr=Lt.M)==0,Zt=hr>=Ce.Va-1,Ce.Aa==2&&$o(Ce,Lt),Lt.uc)for(Ms=(kn=Ce).D.M,e(kn.D.uc),Lt=kn.yb;Lt<kn.Hb;++Lt){Cn=Lt,fs=Ms;var Kn=(hi=(Zr=kn).D).Nb;yr=Zr.R;var hi=hi.wa[hi.Y+Cn],Xi=Zr.sa,ha=Zr.ta+16*Kn*yr+16*Cn,zo=hi.dd,Yn=hi.tc;if(Yn!=0)if(e(3<=Yn),Zr.L==1)0<Cn&&su(Xi,ha,yr,Yn+4),hi.La&&la(Xi,ha,yr,Yn),0<fs&&Gd(Xi,ha,yr,Yn+4),hi.La&&tg(Xi,ha,yr,Yn);else{var ql=Zr.B,Kd=Zr.qa,Of=Zr.ra+8*Kn*ql+8*Cn,lu=Zr.Ha,Zr=Zr.Ia+8*Kn*ql+8*Cn;Kn=hi.ld,0<Cn&&(Xy(Xi,ha,yr,Yn+4,zo,Kn),qd(Kd,Of,lu,Zr,ql,Yn+4,zo,Kn)),hi.La&&(iu(Xi,ha,yr,Yn,zo,Kn),If(Kd,Of,lu,Zr,ql,Yn,zo,Kn)),0<fs&&(kf(Xi,ha,yr,Yn+4,zo,Kn),eg(Kd,Of,lu,Zr,ql,Yn+4,zo,Kn)),hi.La&&(Wd(Xi,ha,yr,Yn,zo,Kn),Hd(Kd,Of,lu,Zr,ql,Yn,zo,Kn))}}if(Ce.ia&&alert("todo:DitherRow"),ke.put!=null){if(Lt=16*hr,hr=16*(hr+1),Ds?(ke.y=Ce.sa,ke.O=Ce.ta+Ar,ke.f=Ce.qa,ke.N=Ce.ra+ps,ke.ea=Ce.Ha,ke.W=Ce.Ia+ps):(Lt-=qt,ke.y=it,ke.O=At,ke.f=ot,ke.N=qe,ke.ea=sr,ke.W=dr),Zt||(hr-=qt),hr>ke.o&&(hr=ke.o),ke.F=null,ke.J=null,Ce.Fa!=null&&0<Ce.Fa.length&&Lt<hr&&(ke.J=tu(Ce,ke,Lt,hr-Lt),ke.F=Ce.mb,ke.F==null&&ke.F.length==0)){ze=Rr(Ce,3,"Could not decode alpha data.");break e}Lt<ke.j&&(qt=ke.j-Lt,Lt=ke.j,e(!(1&qt)),ke.O+=Ce.R*qt,ke.N+=Ce.B*(qt>>1),ke.W+=Ce.B*(qt>>1),ke.F!=null&&(ke.J+=ke.width*qt)),Lt<hr&&(ke.O+=ke.v,ke.N+=ke.v>>1,ke.W+=ke.v>>1,ke.F!=null&&(ke.J+=ke.v),ke.ka=Lt-ke.j,ke.U=ke.va-ke.v,ke.T=hr-Lt,ze=ke.put(ke))}Be+1!=Ce.Ic||Zt||(n(Ce.sa,Ce.ta-Ye,it,At+16*Ce.R,Ye),n(Ce.qa,Ce.ra-ct,ot,qe+8*Ce.B,ct),n(Ce.Ha,Ce.Ia-ct,sr,dr+8*Ce.B,ct))}if(!ze)return Rr(Re,6,"Output aborted.")}return 1}(b,S)),S.bc!=null&&S.bc(S),U&=1}return U?(b.cb=0,U):0}function us(b,S,U,K,le){le=b[S+U+32*K]+(le>>3),b[S+U+32*K]=-256&le?0>le?0:255:le}function Uc(b,S,U,K,le,de){us(b,S,0,U,K+le),us(b,S,1,U,K+de),us(b,S,2,U,K-de),us(b,S,3,U,K-le)}function Qr(b){return(20091*b>>16)+b}function Gi(b,S,U,K){var le,de=0,fe=s(16);for(le=0;4>le;++le){var ge=b[S+0]+b[S+8],ye=b[S+0]-b[S+8],be=(35468*b[S+4]>>16)-Qr(b[S+12]),Pe=Qr(b[S+4])+(35468*b[S+12]>>16);fe[de+0]=ge+Pe,fe[de+1]=ye+be,fe[de+2]=ye-be,fe[de+3]=ge-Pe,de+=4,S++}for(le=de=0;4>le;++le)ge=(b=fe[de+0]+4)+fe[de+8],ye=b-fe[de+8],be=(35468*fe[de+4]>>16)-Qr(fe[de+12]),us(U,K,0,0,ge+(Pe=Qr(fe[de+4])+(35468*fe[de+12]>>16))),us(U,K,1,0,ye+be),us(U,K,2,0,ye-be),us(U,K,3,0,ge-Pe),de++,K+=32}function jl(b,S,U,K){var le=b[S+0]+4,de=35468*b[S+4]>>16,fe=Qr(b[S+4]),ge=35468*b[S+1]>>16;Uc(U,K,0,le+fe,b=Qr(b[S+1]),ge),Uc(U,K,1,le+de,b,ge),Uc(U,K,2,le-de,b,ge),Uc(U,K,3,le-fe,b,ge)}function $c(b,S,U,K,le){Gi(b,S,U,K),le&&Gi(b,S+16,U,K+4)}function Rd(b,S,U,K){$l(b,S+0,U,K,1),$l(b,S+32,U,K+128,1)}function ur(b,S,U,K){var le;for(b=b[S+0]+4,le=0;4>le;++le)for(S=0;4>S;++S)us(U,K,S,le,b)}function Ol(b,S,U,K){b[S+0]&&Yi(b,S+0,U,K),b[S+16]&&Yi(b,S+16,U,K+4),b[S+32]&&Yi(b,S+32,U,K+128),b[S+48]&&Yi(b,S+48,U,K+128+4)}function Rl(b,S,U,K){var le,de=s(16);for(le=0;4>le;++le){var fe=b[S+0+le]+b[S+12+le],ge=b[S+4+le]+b[S+8+le],ye=b[S+4+le]-b[S+8+le],be=b[S+0+le]-b[S+12+le];de[0+le]=fe+ge,de[8+le]=fe-ge,de[4+le]=be+ye,de[12+le]=be-ye}for(le=0;4>le;++le)fe=(b=de[0+4*le]+3)+de[3+4*le],ge=de[1+4*le]+de[2+4*le],ye=de[1+4*le]-de[2+4*le],be=b-de[3+4*le],U[K+0]=fe+ge>>3,U[K+16]=be+ye>>3,U[K+32]=fe-ge>>3,U[K+48]=be-ye>>3,K+=64}function Wa(b,S,U){var K,le=S-32,de=Ls,fe=255-b[le-1];for(K=0;K<U;++K){var ge,ye=de,be=fe+b[S-1];for(ge=0;ge<U;++ge)b[S+ge]=ye[be+b[le+ge]];S+=32}}function Hm(b,S){Wa(b,S,4)}function vf(b,S){Wa(b,S,8)}function Gm(b,S){Wa(b,S,16)}function Ha(b,S){var U;for(U=0;16>U;++U)n(b,S+32*U,b,S-32,16)}function Vc(b,S){var U;for(U=16;0<U;--U)i(b,S,b[S-1],16),S+=32}function zc(b,S,U){var K;for(K=0;16>K;++K)i(S,U+32*K,b,16)}function Do(b,S){var U,K=16;for(U=0;16>U;++U)K+=b[S-1+32*U]+b[S+U-32];zc(K>>5,b,S)}function Lr(b,S){var U,K=8;for(U=0;16>U;++U)K+=b[S-1+32*U];zc(K>>4,b,S)}function wf(b,S){var U,K=8;for(U=0;16>U;++U)K+=b[S+U-32];zc(K>>4,b,S)}function Ld(b,S){zc(128,b,S)}function Pt(b,S,U){return b+2*S+U+2>>2}function Mo(b,S){var U,K=S-32;for(K=new Uint8Array([Pt(b[K-1],b[K+0],b[K+1]),Pt(b[K+0],b[K+1],b[K+2]),Pt(b[K+1],b[K+2],b[K+3]),Pt(b[K+2],b[K+3],b[K+4])]),U=0;4>U;++U)n(b,S+32*U,K,0,K.length)}function Km(b,S){var U=b[S-1],K=b[S-1+32],le=b[S-1+64],de=b[S-1+96];ae(b,S+0,16843009*Pt(b[S-1-32],U,K)),ae(b,S+32,16843009*Pt(U,K,le)),ae(b,S+64,16843009*Pt(K,le,de)),ae(b,S+96,16843009*Pt(le,de,de))}function sa(b,S){var U,K=4;for(U=0;4>U;++U)K+=b[S+U-32]+b[S-1+32*U];for(K>>=3,U=0;4>U;++U)i(b,S+32*U,K,4)}function bf(b,S){var U=b[S-1+0],K=b[S-1+32],le=b[S-1+64],de=b[S-1-32],fe=b[S+0-32],ge=b[S+1-32],ye=b[S+2-32],be=b[S+3-32];b[S+0+96]=Pt(K,le,b[S-1+96]),b[S+1+96]=b[S+0+64]=Pt(U,K,le),b[S+2+96]=b[S+1+64]=b[S+0+32]=Pt(de,U,K),b[S+3+96]=b[S+2+64]=b[S+1+32]=b[S+0+0]=Pt(fe,de,U),b[S+3+64]=b[S+2+32]=b[S+1+0]=Pt(ge,fe,de),b[S+3+32]=b[S+2+0]=Pt(ye,ge,fe),b[S+3+0]=Pt(be,ye,ge)}function js(b,S){var U=b[S+1-32],K=b[S+2-32],le=b[S+3-32],de=b[S+4-32],fe=b[S+5-32],ge=b[S+6-32],ye=b[S+7-32];b[S+0+0]=Pt(b[S+0-32],U,K),b[S+1+0]=b[S+0+32]=Pt(U,K,le),b[S+2+0]=b[S+1+32]=b[S+0+64]=Pt(K,le,de),b[S+3+0]=b[S+2+32]=b[S+1+64]=b[S+0+96]=Pt(le,de,fe),b[S+3+32]=b[S+2+64]=b[S+1+96]=Pt(de,fe,ge),b[S+3+64]=b[S+2+96]=Pt(fe,ge,ye),b[S+3+96]=Pt(ge,ye,ye)}function qc(b,S){var U=b[S-1+0],K=b[S-1+32],le=b[S-1+64],de=b[S-1-32],fe=b[S+0-32],ge=b[S+1-32],ye=b[S+2-32],be=b[S+3-32];b[S+0+0]=b[S+1+64]=de+fe+1>>1,b[S+1+0]=b[S+2+64]=fe+ge+1>>1,b[S+2+0]=b[S+3+64]=ge+ye+1>>1,b[S+3+0]=ye+be+1>>1,b[S+0+96]=Pt(le,K,U),b[S+0+64]=Pt(K,U,de),b[S+0+32]=b[S+1+96]=Pt(U,de,fe),b[S+1+32]=b[S+2+96]=Pt(de,fe,ge),b[S+2+32]=b[S+3+96]=Pt(fe,ge,ye),b[S+3+32]=Pt(ge,ye,be)}function Dd(b,S){var U=b[S+0-32],K=b[S+1-32],le=b[S+2-32],de=b[S+3-32],fe=b[S+4-32],ge=b[S+5-32],ye=b[S+6-32],be=b[S+7-32];b[S+0+0]=U+K+1>>1,b[S+1+0]=b[S+0+64]=K+le+1>>1,b[S+2+0]=b[S+1+64]=le+de+1>>1,b[S+3+0]=b[S+2+64]=de+fe+1>>1,b[S+0+32]=Pt(U,K,le),b[S+1+32]=b[S+0+96]=Pt(K,le,de),b[S+2+32]=b[S+1+96]=Pt(le,de,fe),b[S+3+32]=b[S+2+96]=Pt(de,fe,ge),b[S+3+64]=Pt(fe,ge,ye),b[S+3+96]=Pt(ge,ye,be)}function Wc(b,S){var U=b[S-1+0],K=b[S-1+32],le=b[S-1+64],de=b[S-1+96];b[S+0+0]=U+K+1>>1,b[S+2+0]=b[S+0+32]=K+le+1>>1,b[S+2+32]=b[S+0+64]=le+de+1>>1,b[S+1+0]=Pt(U,K,le),b[S+3+0]=b[S+1+32]=Pt(K,le,de),b[S+3+32]=b[S+1+64]=Pt(le,de,de),b[S+3+64]=b[S+2+64]=b[S+0+96]=b[S+1+96]=b[S+2+96]=b[S+3+96]=de}function Hc(b,S){var U=b[S-1+0],K=b[S-1+32],le=b[S-1+64],de=b[S-1+96],fe=b[S-1-32],ge=b[S+0-32],ye=b[S+1-32],be=b[S+2-32];b[S+0+0]=b[S+2+32]=U+fe+1>>1,b[S+0+32]=b[S+2+64]=K+U+1>>1,b[S+0+64]=b[S+2+96]=le+K+1>>1,b[S+0+96]=de+le+1>>1,b[S+3+0]=Pt(ge,ye,be),b[S+2+0]=Pt(fe,ge,ye),b[S+1+0]=b[S+3+32]=Pt(U,fe,ge),b[S+1+32]=b[S+3+64]=Pt(K,U,fe),b[S+1+64]=b[S+3+96]=Pt(le,K,U),b[S+1+96]=Pt(de,le,K)}function xf(b,S){var U;for(U=0;8>U;++U)n(b,S+32*U,b,S-32,8)}function Ga(b,S){var U;for(U=0;8>U;++U)i(b,S,b[S-1],8),S+=32}function Os(b,S,U){var K;for(K=0;8>K;++K)i(S,U+32*K,b,8)}function Ka(b,S){var U,K=8;for(U=0;8>U;++U)K+=b[S+U-32]+b[S-1+32*U];Os(K>>4,b,S)}function Md(b,S){var U,K=4;for(U=0;8>U;++U)K+=b[S+U-32];Os(K>>3,b,S)}function lr(b,S){var U,K=4;for(U=0;8>U;++U)K+=b[S-1+32*U];Os(K>>3,b,S)}function Fd(b,S){Os(128,b,S)}function Gc(b,S,U){var K=b[S-U],le=b[S+0],de=3*(le-K)+Z2[1020+b[S-2*U]-b[S+U]],fe=Qy[112+(de+4>>3)];b[S-U]=Ls[255+K+Qy[112+(de+3>>3)]],b[S+0]=Ls[255+le-fe]}function Bd(b,S,U,K){var le=b[S+0],de=b[S+U];return ua[255+b[S-2*U]-b[S-U]]>K||ua[255+de-le]>K}function Ud(b,S,U,K){return 4*ua[255+b[S-U]-b[S+0]]+ua[255+b[S-2*U]-b[S+U]]<=K}function $d(b,S,U,K,le){var de=b[S-3*U],fe=b[S-2*U],ge=b[S-U],ye=b[S+0],be=b[S+U],Pe=b[S+2*U],Le=b[S+3*U];return 4*ua[255+ge-ye]+ua[255+fe-be]>K?0:ua[255+b[S-4*U]-de]<=le&&ua[255+de-fe]<=le&&ua[255+fe-ge]<=le&&ua[255+Le-Pe]<=le&&ua[255+Pe-be]<=le&&ua[255+be-ye]<=le}function Ll(b,S,U,K){var le=2*K+1;for(K=0;16>K;++K)Ud(b,S+K,U,le)&&Gc(b,S+K,U)}function Rs(b,S,U,K){var le=2*K+1;for(K=0;16>K;++K)Ud(b,S+K*U,1,le)&&Gc(b,S+K*U,1)}function $n(b,S,U,K){var le;for(le=3;0<le;--le)Ll(b,S+=4*U,U,K)}function _f(b,S,U,K){var le;for(le=3;0<le;--le)Rs(b,S+=4,U,K)}function Fo(b,S,U,K,le,de,fe,ge){for(de=2*de+1;0<le--;){if($d(b,S,U,de,fe))if(Bd(b,S,U,ge))Gc(b,S,U);else{var ye=b,be=S,Pe=U,Le=ye[be-2*Pe],De=ye[be-Pe],Re=ye[be+0],He=ye[be+Pe],Be=ye[be+2*Pe],Ce=27*(ze=Z2[1020+3*(Re-De)+Z2[1020+Le-He]])+63>>7,ke=18*ze+63>>7,ze=9*ze+63>>7;ye[be-3*Pe]=Ls[255+ye[be-3*Pe]+ze],ye[be-2*Pe]=Ls[255+Le+ke],ye[be-Pe]=Ls[255+De+Ce],ye[be+0]=Ls[255+Re-Ce],ye[be+Pe]=Ls[255+He-ke],ye[be+2*Pe]=Ls[255+Be-ze]}S+=K}}function ci(b,S,U,K,le,de,fe,ge){for(de=2*de+1;0<le--;){if($d(b,S,U,de,fe))if(Bd(b,S,U,ge))Gc(b,S,U);else{var ye=b,be=S,Pe=U,Le=ye[be-Pe],De=ye[be+0],Re=ye[be+Pe],He=Qy[112+((Be=3*(De-Le))+4>>3)],Be=Qy[112+(Be+3>>3)],Ce=He+1>>1;ye[be-2*Pe]=Ls[255+ye[be-2*Pe]+Ce],ye[be-Pe]=Ls[255+Le+Be],ye[be+0]=Ls[255+De-He],ye[be+Pe]=Ls[255+Re-Ce]}S+=K}}function Kc(b,S,U,K,le,de){Fo(b,S,U,1,16,K,le,de)}function Ya(b,S,U,K,le,de){Fo(b,S,1,U,16,K,le,de)}function Yc(b,S,U,K,le,de){var fe;for(fe=3;0<fe;--fe)ci(b,S+=4*U,U,1,16,K,le,de)}function Dl(b,S,U,K,le,de){var fe;for(fe=3;0<fe;--fe)ci(b,S+=4,1,U,16,K,le,de)}function Xc(b,S,U,K,le,de,fe,ge){Fo(b,S,le,1,8,de,fe,ge),Fo(U,K,le,1,8,de,fe,ge)}function Vd(b,S,U,K,le,de,fe,ge){Fo(b,S,1,le,8,de,fe,ge),Fo(U,K,1,le,8,de,fe,ge)}function Jc(b,S,U,K,le,de,fe,ge){ci(b,S+4*le,le,1,8,de,fe,ge),ci(U,K+4*le,le,1,8,de,fe,ge)}function Bo(b,S,U,K,le,de,fe,ge){ci(b,S+4,1,le,8,de,fe,ge),ci(U,K+4,1,le,8,de,fe,ge)}function Ml(){this.ba=new Sn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ir,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zc(){this.ua=0,this.Wa=new B,this.vb=new B,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new A}function Ef(){this.xb=this.a=0,this.l=new Il,this.ca=new Sn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zc,this.ab=0,this.gc=a(4,Fl),this.Oc=0}function Xa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Il,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Uo(b,S,U,K,le,de,fe){for(b=b==null?0:b[S+0],S=0;S<fe;++S)le[de+S]=b+U[K+S]&255,b=le[de+S]}function eu(b,S,U,K,le,de,fe){var ge;if(b==null)Uo(null,null,U,K,le,de,fe);else for(ge=0;ge<fe;++ge)le[de+ge]=b[S+ge]+U[K+ge]&255}function Pi(b,S,U,K,le,de,fe){if(b==null)Uo(null,null,U,K,le,de,fe);else{var ge,ye=b[S+0],be=ye,Pe=ye;for(ge=0;ge<fe;++ge)be=Pe+(ye=b[S+ge])-be,Pe=U[K+ge]+(-256&be?0>be?0:255:be)&255,be=ye,le[de+ge]=Pe}}function tu(b,S,U,K){var le=S.width,de=S.o;if(e(b!=null&&S!=null),0>U||0>=K||U+K>de)return null;if(!b.Cc){if(b.ga==null){var fe;if(b.ga=new Xa,(fe=b.ga==null)||(fe=S.width*S.o,e(b.Gb.length==0),b.Gb=s(fe),b.Uc=0,b.Gb==null?fe=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,fe=1),fe=!fe),!fe){fe=b.ga;var ge=b.Fa,ye=b.P,be=b.qc,Pe=b.mb,Le=b.nb,De=ye+1,Re=be-1,He=fe.l;if(e(ge!=null&&Pe!=null&&S!=null),ou[0]=null,ou[1]=Uo,ou[2]=eu,ou[3]=Pi,fe.ca=Pe,fe.tb=Le,fe.c=S.width,fe.i=S.height,e(0<fe.c&&0<fe.i),1>=be)S=0;else if(fe.$a=ge[ye+0]>>0&3,fe.Z=ge[ye+0]>>2&3,fe.Lc=ge[ye+0]>>4&3,ye=ge[ye+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||ye)S=0;else if(He.put=Si,He.ac=Nn,He.bc=ks,He.ma=fe,He.width=S.width,He.height=S.height,He.Da=S.Da,He.v=S.v,He.va=S.va,He.j=S.j,He.o=S.o,fe.$a)e:{e(fe.$a==1),S=un();t:for(;;){if(S==null){S=0;break e}if(e(fe!=null),fe.mc=S,S.c=fe.c,S.i=fe.i,S.l=fe.l,S.l.ma=fe,S.l.width=fe.c,S.l.height=fe.i,S.a=0,ce(S.m,ge,De,Re),!Is(fe.c,fe.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&za(S.s)?(fe.ic=1,ge=S.c*S.i,S.Ta=null,S.Ua=0,S.V=s(ge),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(fe.ic=0,S=Io(S,fe.c)),!S))break t;S=1;break e}fe.mc=null,S=0}else S=Re>=fe.c*fe.i;fe=!S}if(fe)return null;b.ga.Lc!=1?b.Ga=0:K=de-U}e(b.ga!=null),e(U+K<=de);e:{if(S=(ge=b.ga).c,de=ge.l.o,ge.$a==0){if(De=b.rc,Re=b.Vc,He=b.Fa,ye=b.P+1+U*S,be=b.mb,Pe=b.nb+U*S,e(ye<=b.P+b.qc),ge.Z!=0)for(e(ou[ge.Z]!=null),fe=0;fe<K;++fe)ou[ge.Z](De,Re,He,ye,be,Pe,S),De=be,Re=Pe,Pe+=S,ye+=S;else for(fe=0;fe<K;++fe)n(be,Pe,He,ye,S),De=be,Re=Pe,Pe+=S,ye+=S;b.rc=De,b.Vc=Re}else{if(e(ge.mc!=null),S=U+K,e((fe=ge.mc)!=null),e(S<=fe.i),fe.C>=S)S=1;else if(ge.ic||Oe(),ge.ic){ge=fe.V,De=fe.Ba,Re=fe.c;var Be=fe.i,Ce=(He=1,ye=fe.$/Re,be=fe.$%Re,Pe=fe.m,Le=fe.s,fe.$),ke=Re*Be,ze=Re*S,Ye=Le.wc,qe=Ce<ze?Jr(Le,be,ye):null;e(Ce<=ke),e(S<=Be),e(za(Le));t:for(;;){for(;!Pe.h&&Ce<ze;){if(be&Ye||(qe=Jr(Le,be,ye)),e(qe!=null),Q(Pe),256>(Be=Tn(qe.G[0],qe.H[0],Pe)))ge[De+Ce]=Be,++Ce,++be>=Re&&(be=0,++ye<=S&&!(ye%16)&&cs(fe,ye));else{if(!(280>Be)){He=0;break t}Be=ls(Be-256,Pe);var ct,it=Tn(qe.G[4],qe.H[4],Pe);if(Q(Pe),!(Ce>=(it=Ni(Re,it=ls(it,Pe)))&&ke-Ce>=Be)){He=0;break t}for(ct=0;ct<Be;++ct)ge[De+Ce+ct]=ge[De+Ce+ct-it];for(Ce+=Be,be+=Be;be>=Re;)be-=Re,++ye<=S&&!(ye%16)&&cs(fe,ye);Ce<ze&&be&Ye&&(qe=Jr(Le,be,ye))}e(Pe.h==se(Pe))}cs(fe,ye>S?S:ye);break t}!He||Pe.h&&Ce<ke?(He=0,fe.a=Pe.h?5:3):fe.$=Ce,S=He}else S=Wi(fe,fe.V,fe.Ba,fe.c,fe.i,S,jo);if(!S){K=0;break e}}U+K>=de&&(b.Cc=1),K=1}if(!K)return null;if(b.Cc&&((K=b.ga)!=null&&(K.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+U*le}function D(b,S,U,K,le,de){for(;0<le--;){var fe,ge=b,ye=S+(U?1:0),be=b,Pe=S+(U?0:3);for(fe=0;fe<K;++fe){var Le=be[Pe+4*fe];Le!=255&&(Le*=32897,ge[ye+4*fe+0]=ge[ye+4*fe+0]*Le>>23,ge[ye+4*fe+1]=ge[ye+4*fe+1]*Le>>23,ge[ye+4*fe+2]=ge[ye+4*fe+2]*Le>>23)}S+=de}}function oe(b,S,U,K,le){for(;0<K--;){var de;for(de=0;de<U;++de){var fe=b[S+2*de+0],ge=15&(be=b[S+2*de+1]),ye=4369*ge,be=(240&be|be>>4)*ye>>16;b[S+2*de+0]=(240&fe|fe>>4)*ye>>16&240|(15&fe|fe<<4)*ye>>16>>4&15,b[S+2*de+1]=240&be|ge}S+=le}}function Ee(b,S,U,K,le,de,fe,ge){var ye,be,Pe=255;for(be=0;be<le;++be){for(ye=0;ye<K;++ye){var Le=b[S+ye];de[fe+4*ye]=Le,Pe&=Le}S+=U,fe+=ge}return Pe!=255}function Te(b,S,U,K,le){var de;for(de=0;de<le;++de)U[K+de]=b[S+de]>>8}function Oe(){ca=D,kr=oe,Ir=Ee,hn=Te}function $e(b,S,U){k[b]=function(K,le,de,fe,ge,ye,be,Pe,Le,De,Re,He,Be,Ce,ke,ze,Ye){var qe,ct=Ye-1>>1,it=ge[ye+0]|be[Pe+0]<<16,At=Le[De+0]|Re[He+0]<<16;e(K!=null);var ot=3*it+At+131074>>2;for(S(K[le+0],255&ot,ot>>16,Be,Ce),de!=null&&(ot=3*At+it+131074>>2,S(de[fe+0],255&ot,ot>>16,ke,ze)),qe=1;qe<=ct;++qe){var sr=ge[ye+qe]|be[Pe+qe]<<16,dr=Le[De+qe]|Re[He+qe]<<16,Zt=it+sr+At+dr+524296,qt=Zt+2*(sr+At)>>3;ot=qt+it>>1,it=(Zt=Zt+2*(it+dr)>>3)+sr>>1,S(K[le+2*qe-1],255&ot,ot>>16,Be,Ce+(2*qe-1)*U),S(K[le+2*qe-0],255&it,it>>16,Be,Ce+(2*qe-0)*U),de!=null&&(ot=Zt+At>>1,it=qt+dr>>1,S(de[fe+2*qe-1],255&ot,ot>>16,ke,ze+(2*qe-1)*U),S(de[fe+2*qe+0],255&it,it>>16,ke,ze+(2*qe+0)*U)),it=sr,At=dr}1&Ye||(ot=3*it+At+131074>>2,S(K[le+Ye-1],255&ot,ot>>16,Be,Ce+(Ye-1)*U),de!=null&&(ot=3*At+it+131074>>2,S(de[fe+Ye-1],255&ot,ot>>16,ke,ze+(Ye-1)*U)))}}function Xe(){da[Zy]=KG,da[ev]=l6,da[n6]=YG,da[tv]=c6,da[rv]=u6,da[e5]=d6,da[i6]=XG,da[t5]=l6,da[r5]=c6,da[nv]=u6,da[n5]=d6}function st(b){return b&~JG?0>b?0:255:b>>h6}function _(b,S){return st((19077*b>>8)+(26149*S>>8)-14234)}function z(b,S,U){return st((19077*b>>8)-(6419*S>>8)-(13320*U>>8)+8708)}function Y(b,S){return st((19077*b>>8)+(33050*S>>8)-17685)}function me(b,S,U,K,le){K[le+0]=_(b,U),K[le+1]=z(b,S,U),K[le+2]=Y(b,S)}function je(b,S,U,K,le){K[le+0]=Y(b,S),K[le+1]=z(b,S,U),K[le+2]=_(b,U)}function Me(b,S,U,K,le){var de=z(b,S,U);S=de<<3&224|Y(b,S)>>3,K[le+0]=248&_(b,U)|de>>5,K[le+1]=S}function Je(b,S,U,K,le){var de=240&Y(b,S)|15;K[le+0]=240&_(b,U)|z(b,S,U)>>4,K[le+1]=de}function It(b,S,U,K,le){K[le+0]=255,me(b,S,U,K,le+1)}function zt(b,S,U,K,le){je(b,S,U,K,le),K[le+3]=255}function jt(b,S,U,K,le){me(b,S,U,K,le),K[le+3]=255}function cr(b,S){return 0>b?0:b>S?S:b}function Er(b,S,U){k[b]=function(K,le,de,fe,ge,ye,be,Pe,Le){for(var De=Pe+(-2&Le)*U;Pe!=De;)S(K[le+0],de[fe+0],ge[ye+0],be,Pe),S(K[le+1],de[fe+0],ge[ye+0],be,Pe+U),le+=2,++fe,++ye,Pe+=2*U;1&Le&&S(K[le+0],de[fe+0],ge[ye+0],be,Pe)}}function Ja(b,S,U){return U==0?b==0?S==0?6:5:S==0?4:0:U}function ui(b,S,U,K,le){switch(b>>>30){case 3:$l(S,U,K,le,0);break;case 2:dn(S,U,K,le);break;case 1:Yi(S,U,K,le)}}function $o(b,S){var U,K,le=S.M,de=S.Nb,fe=b.oc,ge=b.pc+40,ye=b.oc,be=b.pc+584,Pe=b.oc,Le=b.pc+600;for(U=0;16>U;++U)fe[ge+32*U-1]=129;for(U=0;8>U;++U)ye[be+32*U-1]=129,Pe[Le+32*U-1]=129;for(0<le?fe[ge-1-32]=ye[be-1-32]=Pe[Le-1-32]=129:(i(fe,ge-32-1,127,21),i(ye,be-32-1,127,9),i(Pe,Le-32-1,127,9)),K=0;K<b.za;++K){var De=S.ya[S.aa+K];if(0<K){for(U=-1;16>U;++U)n(fe,ge+32*U-4,fe,ge+32*U+12,4);for(U=-1;8>U;++U)n(ye,be+32*U-4,ye,be+32*U+4,4),n(Pe,Le+32*U-4,Pe,Le+32*U+4,4)}var Re=b.Gd,He=b.Hd+K,Be=De.ad,Ce=De.Hc;if(0<le&&(n(fe,ge-32,Re[He].y,0,16),n(ye,be-32,Re[He].f,0,8),n(Pe,Le-32,Re[He].ea,0,8)),De.Za){var ke=fe,ze=ge-32+16;for(0<le&&(K>=b.za-1?i(ke,ze,Re[He].y[15],4):n(ke,ze,Re[He+1].y,0,4)),U=0;4>U;U++)ke[ze+128+U]=ke[ze+256+U]=ke[ze+384+U]=ke[ze+0+U];for(U=0;16>U;++U,Ce<<=2)ke=fe,ze=ge+p6[U],Qa[De.Ob[U]](ke,ze),ui(Ce,Be,16*+U,ke,ze)}else if(ke=Ja(K,le,De.Ob[0]),au[ke](fe,ge),Ce!=0)for(U=0;16>U;++U,Ce<<=2)ui(Ce,Be,16*+U,fe,ge+p6[U]);for(U=De.Gc,ke=Ja(K,le,De.Dd),zl[ke](ye,be),zl[ke](Pe,Le),Ce=Be,ke=ye,ze=be,255&(De=U>>0)&&(170&De?Zm(Ce,256,ke,ze):oa(Ce,256,ke,ze)),De=Pe,Ce=Le,255&(U>>=8)&&(170&U?Zm(Be,320,De,Ce):oa(Be,320,De,Ce)),le<b.Ub-1&&(n(Re[He].y,0,fe,ge+480,16),n(Re[He].f,0,ye,be+224,8),n(Re[He].ea,0,Pe,Le+224,8)),U=8*de*b.B,Re=b.sa,He=b.ta+16*K+16*de*b.R,Be=b.qa,De=b.ra+8*K+U,Ce=b.Ha,ke=b.Ia+8*K+U,U=0;16>U;++U)n(Re,He+U*b.R,fe,ge+32*U,16);for(U=0;8>U;++U)n(Be,De+U*b.B,ye,be+32*U,8),n(Ce,ke+U*b.B,Pe,Le+32*U,8)}}function Vo(b,S,U,K,le,de,fe,ge,ye){var be=[0],Pe=[0],Le=0,De=ye!=null?ye.kd:0,Re=ye??new Qc;if(b==null||12>U)return 7;Re.data=b,Re.w=S,Re.ha=U,S=[S],U=[U],Re.gb=[Re.gb];e:{var He=S,Be=U,Ce=Re.gb;if(e(b!=null),e(Be!=null),e(Ce!=null),Ce[0]=0,12<=Be[0]&&!r(b,He[0],"RIFF")){if(r(b,He[0]+8,"WEBP")){Ce=3;break e}var ke=_e(b,He[0]+4);if(12>ke||4294967286<ke){Ce=3;break e}if(De&&ke>Be[0]-8){Ce=7;break e}Ce[0]=ke,He[0]+=12,Be[0]-=12}Ce=0}if(Ce!=0)return Ce;for(ke=0<Re.gb[0],U=U[0];;){e:{var ze=b;Be=S,Ce=U;var Ye=be,qe=Pe,ct=He=[0];if((ot=Le=[Le])[0]=0,8>Ce[0])Ce=7;else{if(!r(ze,Be[0],"VP8X")){if(_e(ze,Be[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var it=_e(ze,Be[0]+8),At=1+ee(ze,Be[0]+12);if(2147483648<=At*(ze=1+ee(ze,Be[0]+15))){Ce=3;break e}ct!=null&&(ct[0]=it),Ye!=null&&(Ye[0]=At),qe!=null&&(qe[0]=ze),Be[0]+=18,Ce[0]-=18,ot[0]=1}Ce=0}}if(Le=Le[0],He=He[0],Ce!=0)return Ce;if(Be=!!(2&He),!ke&&Le)return 3;if(de!=null&&(de[0]=!!(16&He)),fe!=null&&(fe[0]=Be),ge!=null&&(ge[0]=0),fe=be[0],He=Pe[0],Le&&Be&&ye==null){Ce=0;break}if(4>U){Ce=7;break}if(ke&&Le||!ke&&!Le&&!r(b,S[0],"ALPH")){U=[U],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{it=b,Ce=S,ke=U;var ot=Re.gb;Ye=Re.na,qe=Re.P,ct=Re.Sa,At=22,e(it!=null),e(ke!=null),ze=Ce[0];var sr=ke[0];for(e(Ye!=null),e(ct!=null),Ye[0]=null,qe[0]=null,ct[0]=0;;){if(Ce[0]=ze,ke[0]=sr,8>sr){Ce=7;break e}var dr=_e(it,ze+4);if(4294967286<dr){Ce=3;break e}var Zt=8+dr+1&-2;if(At+=Zt,0<ot&&At>ot){Ce=3;break e}if(!r(it,ze,"VP8 ")||!r(it,ze,"VP8L")){Ce=0;break e}if(sr[0]<Zt){Ce=7;break e}r(it,ze,"ALPH")||(Ye[0]=it,qe[0]=ze+8,ct[0]=dr),ze+=Zt,sr-=Zt}}if(U=U[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Ce!=0)break}U=[U],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(ot=b,Ce=S,ke=U,Ye=Re.gb[0],qe=Re.Ja,ct=Re.xa,it=Ce[0],ze=!r(ot,it,"VP8 "),At=!r(ot,it,"VP8L"),e(ot!=null),e(ke!=null),e(qe!=null),e(ct!=null),8>ke[0])Ce=7;else{if(ze||At){if(ot=_e(ot,it+4),12<=Ye&&ot>Ye-12){Ce=3;break e}if(De&&ot>ke[0]-8){Ce=7;break e}qe[0]=ot,Ce[0]+=8,ke[0]-=8,ct[0]=At}else ct[0]=5<=ke[0]&&ot[it+0]==47&&!(ot[it+4]>>5),qe[0]=ke[0];Ce=0}if(U=U[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],S=S[0],Ce!=0)break;if(4294967286<Re.Ja)return 3;if(ge==null||Be||(ge[0]=Re.xa?2:1),fe=[fe],He=[He],Re.xa){if(5>U){Ce=7;break}ge=fe,De=He,Be=de,b==null||5>U?b=0:5<=U&&b[S+0]==47&&!(b[S+4]>>5)?(ke=[0],ot=[0],Ye=[0],ce(qe=new F,b,S,U),dt(qe,ke,ot,Ye)?(ge!=null&&(ge[0]=ke[0]),De!=null&&(De[0]=ot[0]),Be!=null&&(Be[0]=Ye[0]),b=1):b=0):b=0}else{if(10>U){Ce=7;break}ge=He,b==null||10>U||!Id(b,S+3,U-3)?b=0:(De=b[S+0]|b[S+1]<<8|b[S+2]<<16,Be=16383&(b[S+7]<<8|b[S+6]),b=16383&(b[S+9]<<8|b[S+8]),1&De||3<(De>>1&7)||!(De>>4&1)||De>>5>=Re.Ja||!Be||!b?b=0:(fe&&(fe[0]=Be),ge&&(ge[0]=b),b=1))}if(!b||(fe=fe[0],He=He[0],Le&&(be[0]!=fe||Pe[0]!=He)))return 3;ye!=null&&(ye[0]=Re,ye.offset=S-ye.w,e(4294967286>S-ye.w),e(ye.offset==ye.ha-U));break}return Ce==0||Ce==7&&Le&&ye==null?(de!=null&&(de[0]|=Re.na!=null&&0<Re.na.length),K!=null&&(K[0]=fe),le!=null&&(le[0]=He),0):Ce}function Ym(b,S,U){var K=S.width,le=S.height,de=0,fe=0,ge=K,ye=le;if(S.Da=b!=null&&0<b.Da,S.Da&&(ge=b.cd,ye=b.bd,de=b.v,fe=b.j,11>U||(de&=-2,fe&=-2),0>de||0>fe||0>=ge||0>=ye||de+ge>K||fe+ye>le))return 0;if(S.v=de,S.j=fe,S.va=de+ge,S.o=fe+ye,S.U=ge,S.T=ye,S.da=b!=null&&0<b.da,S.da){if(!O(ge,ye,U=[b.ib],de=[b.hb]))return 0;S.ib=U[0],S.hb=de[0]}return S.ob=b!=null&&b.ob,S.Kb=b==null||!b.Sd,S.da&&(S.ob=S.ib<3*K/4&&S.hb<3*le/4,S.Kb=0),1}function Xm(b){if(b==null)return 2;if(11>b.S){var S=b.f.RGBA;S.fb+=(b.height-1)*S.A,S.A=-S.A}else S=b.f.kb,b=b.height,S.O+=(b-1)*S.fa,S.fa=-S.fa,S.N+=(b-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(b-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(b-1)*S.lb,S.lb=-S.lb);return 0}function Af(b,S,U,K){if(K==null||0>=b||0>=S)return 2;if(U!=null){if(U.Da){var le=U.cd,de=U.bd,fe=-2&U.v,ge=-2&U.j;if(0>fe||0>ge||0>=le||0>=de||fe+le>b||ge+de>S)return 2;b=le,S=de}if(U.da){if(!O(b,S,le=[U.ib],de=[U.hb]))return 2;b=le[0],S=de[0]}}K.width=b,K.height=S;e:{var ye=K.width,be=K.height;if(b=K.S,0>=ye||0>=be||!(b>=Zy&&13>b))b=2;else{if(0>=K.Rd&&K.sd==null){fe=de=le=S=0;var Pe=(ge=ye*m6[b])*be;if(11>b||(de=(be+1)/2*(S=(ye+1)/2),b==12&&(fe=(le=ye)*be)),(be=s(Pe+2*de+fe))==null){b=1;break e}K.sd=be,11>b?((ye=K.f.RGBA).eb=be,ye.fb=0,ye.A=ge,ye.size=Pe):((ye=K.f.kb).y=be,ye.O=0,ye.fa=ge,ye.Fd=Pe,ye.f=be,ye.N=0+Pe,ye.Ab=S,ye.Cd=de,ye.ea=be,ye.W=0+Pe+de,ye.Db=S,ye.Ed=de,b==12&&(ye.F=be,ye.J=0+Pe+2*de),ye.Tc=fe,ye.lb=le)}if(S=1,le=K.S,de=K.width,fe=K.height,le>=Zy&&13>le)if(11>le)b=K.f.RGBA,S&=(ge=Math.abs(b.A))*(fe-1)+de<=b.size,S&=ge>=de*m6[le],S&=b.eb!=null;else{b=K.f.kb,ge=(de+1)/2,Pe=(fe+1)/2,ye=Math.abs(b.fa),be=Math.abs(b.Ab);var Le=Math.abs(b.Db),De=Math.abs(b.lb),Re=De*(fe-1)+de;S&=ye*(fe-1)+de<=b.Fd,S&=be*(Pe-1)+ge<=b.Cd,S=(S&=Le*(Pe-1)+ge<=b.Ed)&ye>=de&be>=ge&Le>=ge,S&=b.y!=null,S&=b.f!=null,S&=b.ea!=null,le==12&&(S&=De>=de,S&=Re<=b.Tc,S&=b.F!=null)}else S=0;b=S?0:2}}return b!=0||U!=null&&U.fd&&(b=Xm(K)),b}var di=64,Sf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Nf=24,Tf=32,Jm=8,ds=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];G("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(b){return b},k.Predictor2=function(b,S,U){return S[U+0]},k.Predictor3=function(b,S,U){return S[U+1]},k.Predictor4=function(b,S,U){return S[U-1]},k.Predictor5=function(b,S,U){return re(re(b,S[U+1]),S[U+0])},k.Predictor6=function(b,S,U){return re(b,S[U-1])},k.Predictor7=function(b,S,U){return re(b,S[U+0])},k.Predictor8=function(b,S,U){return re(S[U-1],S[U+0])},k.Predictor9=function(b,S,U){return re(S[U+0],S[U+1])},k.Predictor10=function(b,S,U){return re(re(b,S[U-1]),re(S[U+0],S[U+1]))},k.Predictor11=function(b,S,U){var K=S[U+0];return 0>=Se(K>>24&255,b>>24&255,(S=S[U-1])>>24&255)+Se(K>>16&255,b>>16&255,S>>16&255)+Se(K>>8&255,b>>8&255,S>>8&255)+Se(255&K,255&b,255&S)?K:b},k.Predictor12=function(b,S,U){var K=S[U+0];return(Ae((b>>24&255)+(K>>24&255)-((S=S[U-1])>>24&255))<<24|Ae((b>>16&255)+(K>>16&255)-(S>>16&255))<<16|Ae((b>>8&255)+(K>>8&255)-(S>>8&255))<<8|Ae((255&b)+(255&K)-(255&S)))>>>0},k.Predictor13=function(b,S,U){var K=S[U-1];return(Ne((b=re(b,S[U+0]))>>24&255,K>>24&255)<<24|Ne(b>>16&255,K>>16&255)<<16|Ne(b>>8&255,K>>8&255)<<8|Ne(b>>0&255,K>>0&255))>>>0};var Q2=k.PredictorAdd0;k.PredictorAdd1=Ie,G("Predictor2","PredictorAdd2"),G("Predictor3","PredictorAdd3"),G("Predictor4","PredictorAdd4"),G("Predictor5","PredictorAdd5"),G("Predictor6","PredictorAdd6"),G("Predictor7","PredictorAdd7"),G("Predictor8","PredictorAdd8"),G("Predictor9","PredictorAdd9"),G("Predictor10","PredictorAdd10"),G("Predictor11","PredictorAdd11"),G("Predictor12","PredictorAdd12"),G("Predictor13","PredictorAdd13");var Qm=k.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Gy,aa=k.ColorIndexInverseTransform,Pf=k.MapARGB,Ky=k.VP8LColorIndexInverseTransformAlpha,Yy=k.MapAlpha,ru=k.VP8LPredictorsAdd=[];ru.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var zd,hs,Ki,nu,Bl,Ul,Cf,$l,dn,Zm,Yi,oa,kf,Xy,eg,qd,Wd,iu,Hd,If,Gd,su,tg,la,ca,kr,Ir,hn,Vn=s(511),Vl=s(2041),rg=s(225),jf=s(767),Jy=0,Z2=Vl,Qy=rg,Ls=jf,ua=Vn,Zy=0,ev=1,n6=2,tv=3,rv=4,e5=5,i6=6,t5=7,r5=8,nv=9,n5=10,RG=[2,3,7],LG=[3,3,11],s6=[280,256,256,256,40],DG=[0,1,1,1,0],MG=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],FG=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],BG=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],UG=8,i5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],s5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ng=null,$G=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VG=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],a6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zG=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qG=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],WG=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],HG=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],au=[],Qa=[],zl=[],GG=1,o6=2,ou=[],da=[];$e("UpsampleRgbLinePair",me,3),$e("UpsampleBgrLinePair",je,3),$e("UpsampleRgbaLinePair",jt,4),$e("UpsampleBgraLinePair",zt,4),$e("UpsampleArgbLinePair",It,4),$e("UpsampleRgba4444LinePair",Je,2),$e("UpsampleRgb565LinePair",Me,2);var KG=k.UpsampleRgbLinePair,YG=k.UpsampleBgrLinePair,l6=k.UpsampleRgbaLinePair,c6=k.UpsampleBgraLinePair,u6=k.UpsampleArgbLinePair,d6=k.UpsampleRgba4444LinePair,XG=k.UpsampleRgb565LinePair,iv=16,sv=1<<iv-1,ig=-227,a5=482,h6=6,JG=(256<<h6)-1,f6=0,QG=s(256),ZG=s(256),eK=s(256),tK=s(256),rK=s(a5-ig),nK=s(a5-ig);Er("YuvToRgbRow",me,3),Er("YuvToBgrRow",je,3),Er("YuvToRgbaRow",jt,4),Er("YuvToBgraRow",zt,4),Er("YuvToArgbRow",It,4),Er("YuvToRgba4444Row",Je,2),Er("YuvToRgb565Row",Me,2);var p6=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],av=[0,2,8],iK=[8,7,6,4,4,2,2,2,1,1,1,1],sK=1;this.WebPDecodeRGBA=function(b,S,U,K,le){var de=ev,fe=new Ml,ge=new Sn;fe.ba=ge,ge.S=de,ge.width=[ge.width],ge.height=[ge.height];var ye=ge.width,be=ge.height,Pe=new Un;if(Pe==null||b==null)var Le=2;else e(Pe!=null),Le=Vo(b,S,U,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(Le!=0?ye=0:(ye!=null&&(ye[0]=Pe.width[0]),be!=null&&(be[0]=Pe.height[0]),ye=1),ye){ge.width=ge.width[0],ge.height=ge.height[0],K!=null&&(K[0]=ge.width),le!=null&&(le[0]=ge.height);e:{if(K=new Il,(le=new Qc).data=b,le.w=S,le.ha=U,le.kd=1,S=[0],e(le!=null),((b=Vo(le.data,le.w,le.ha,null,null,null,S,null,le))==0||b==7)&&S[0]&&(b=4),(S=b)==0){if(e(fe!=null),K.data=le.data,K.w=le.w+le.offset,K.ha=le.ha-le.offset,K.put=Si,K.ac=Nn,K.bc=ks,K.ma=fe,le.xa){if((b=un())==null){fe=1;break e}if(function(De,Re){var He=[0],Be=[0],Ce=[0];t:for(;;){if(De==null)return 0;if(Re==null)return De.a=2,0;if(De.l=Re,De.a=0,ce(De.m,Re.data,Re.w,Re.ha),!dt(De.m,He,Be,Ce)){De.a=3;break t}if(De.xb=o6,Re.width=He[0],Re.height=Be[0],!Is(He[0],Be[0],1,De,null))break t;return 1}return e(De.a!=0),0}(b,K)){if(K=(S=Af(K.width,K.height,fe.Oa,fe.ba))==0){t:{K=b;r:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e((U=K.l)!=null),e((le=U.ma)!=null),K.xb!=0){if(K.ca=le.ba,K.tb=le.tb,e(K.ca!=null),!Ym(le.Oa,U,tv)){K.a=2;break r}if(!Io(K,U.width)||U.da)break r;if((U.da||Bt(K.ca.S))&&Oe(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Oe()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!H(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Wi(K,K.V,K.Ba,K.c,K.i,U.o,Fc))break r;le.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(S=b.a)}else S=b.a}else{if((b=new kd)==null){fe=1;break e}if(b.Fa=le.na,b.P=le.P,b.qc=le.Sa,jd(b,K)){if((S=Af(K.width,K.height,fe.Oa,fe.ba))==0){if(b.Aa=0,U=fe.Oa,e((le=b)!=null),U!=null){if(0<(ye=0>(ye=U.Md)?0:100<ye?255:255*ye/100)){for(be=Pe=0;4>be;++be)12>(Le=le.pb[be]).lc&&(Le.ia=ye*iK[0>Le.lc?0:Le.lc]>>3),Pe|=Le.ia;Pe&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=U.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}yf(b,K)||(S=b.a)}}else S=b.a}S==0&&fe.Oa!=null&&fe.Oa.fd&&(S=Xm(fe.ba))}fe=S}de=fe!=0?null:11>de?ge.f.RGBA.eb:ge.f.kb.y}else de=null;return de};var m6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,T){for(var q="",M=0;M<4;M++)q+=String.fromCharCode(k[T++]);return q}function u(k,T){return(k[T+0]<<0|k[T+1]<<8|k[T+2]<<16)>>>0}function h(k,T){return(k[T+0]<<0|k[T+1]<<8|k[T+2]<<16|k[T+3]<<24)>>>0}new l;var p=[0],f=[0],y=[],g=new l,w=t,m=function(k,T){var q={},M=0,A=!1,I=0,j=0;if(q.frames=[],!function(J,se,he,Q){for(var $=0;$<Q;$++)if(J[se+$]!=he.charCodeAt($))return!0;return!1}(k,T,"RIFF",4)){for(h(k,T+=4),T+=8;T<k.length;){var ne=c(k,T),pe=h(k,T+=4);T+=4;var X=pe+(1&pe);switch(ne){case"VP8 ":case"VP8L":q.frames[M]===void 0&&(q.frames[M]={}),(xe=q.frames[M]).src_off=A?j:T-8,xe.src_size=I+pe+8,M++,A&&(A=!1,I=0,j=0);break;case"VP8X":(xe=q.header={}).feature_flags=k[T];var ce=T+4;xe.canvas_width=1+u(k,ce),ce+=3,xe.canvas_height=1+u(k,ce),ce+=3;break;case"ALPH":A=!0,I=X+8,j=T-8;break;case"ANIM":(xe=q.header).bgcolor=h(k,T),ce=T+4,xe.loop_count=(we=k)[(F=ce)+0]<<0|we[F+1]<<8,ce+=2;break;case"ANMF":var ue,xe;(xe=q.frames[M]={}).offset_x=2*u(k,T),T+=3,xe.offset_y=2*u(k,T),T+=3,xe.width=1+u(k,T),T+=3,xe.height=1+u(k,T),T+=3,xe.duration=u(k,T),T+=3,ue=k[T++],xe.dispose=1&ue,xe.blend=ue>>1&1}ne!="ANMF"&&(T+=X)}var we,F;return q}}(w,0);m.response=w,m.rgbaoutput=!0,m.dataurl=!1;var v=m.header?m.header:null,x=m.frames?m.frames:null;if(v){v.loop_counter=v.loop_count,p=[v.canvas_height],f=[v.canvas_width];for(var E=0;E<x.length&&x[E].blend!=0;E++);}var N=x[0],C=g.WebPDecodeRGBA(w,N.src_off,N.src_size,f,p);N.rgba=C,N.imgwidth=f[0],N.imgheight=p[0];for(var P=0;P<f[0]*p[0]*4;P++)y[P]=C[P];return this.width=f,this.height=p,this.data=y,this}(function(t){var e=function(){return typeof h4=="function"},r=function(p,f,y,g){var w=4,m=a;switch(g){case t.image_compression.FAST:w=1,m=s;break;case t.image_compression.MEDIUM:w=6,m=o;break;case t.image_compression.SLOW:w=9,m=l}p=n(p,f,y,m);var v=h4(p,{level:w});return t.__addimage__.arrayBufferToBinaryString(v)},n=function(p,f,y,g){for(var w,m,v,x=p.length/f,E=new Uint8Array(p.length+x),N=u(),C=0;C<x;C+=1){if(v=C*f,w=p.subarray(v,v+f),g)E.set(g(w,y,m),v+C);else{for(var P,k=N.length,T=[];P<k;P+=1)T[P]=N[P](w,y,m);var q=h(T.concat());E.set(T[q],v+C)}m=w}return E},i=function(p){var f=Array.apply([],p);return f.unshift(0),f},s=function(p,f){var y,g=[],w=p.length;g[0]=1;for(var m=0;m<w;m+=1)y=p[m-f]||0,g[m+1]=p[m]-y+256&255;return g},a=function(p,f,y){var g,w=[],m=p.length;w[0]=2;for(var v=0;v<m;v+=1)g=y&&y[v]||0,w[v+1]=p[v]-g+256&255;return w},o=function(p,f,y){var g,w,m=[],v=p.length;m[0]=3;for(var x=0;x<v;x+=1)g=p[x-f]||0,w=y&&y[x]||0,m[x+1]=p[x]+256-(g+w>>>1)&255;return m},l=function(p,f,y){var g,w,m,v,x=[],E=p.length;x[0]=4;for(var N=0;N<E;N+=1)g=p[N-f]||0,w=y&&y[N]||0,m=y&&y[N-f]||0,v=c(g,w,m),x[N+1]=p[N]-v+256&255;return x},c=function(p,f,y){if(p===f&&f===y)return p;var g=Math.abs(f-y),w=Math.abs(p-y),m=Math.abs(p+f-y-y);return g<=w&&g<=m?p:w<=m?f:y},u=function(){return[i,s,a,o,l]},h=function(p){var f=p.map(function(y){return y.reduce(function(g,w){return g+Math.abs(w)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(p,f,y,g){var w,m,v,x,E,N,C,P,k,T,q,M,A,I,j,ne=this.decode.FLATE_DECODE,pe="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(v=new XEe(p)).imgData,m=v.bits,w=v.colorSpace,E=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){k=(P=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,q=new Uint8Array(k*v.colors),T=new Uint8Array(k);var X,ce=v.pixelBitlength-v.bits;for(I=0,j=0;I<k;I++){for(A=P[I],X=0;X<ce;)q[j++]=A>>>X&255,X+=v.bits;T[I]=A>>>X&255}}if(v.bits===16){k=(P=new Uint32Array(v.decodePixels().buffer)).length,q=new Uint8Array(k*(32/v.pixelBitlength)*v.colors),T=new Uint8Array(k*(32/v.pixelBitlength)),M=v.colors>1,I=0,j=0;for(var ue=0;I<k;)A=P[I++],q[j++]=A>>>0&255,M&&(q[j++]=A>>>16&255,A=P[I++],q[j++]=A>>>0&255),T[ue++]=A>>>16&255;m=8}g!==t.image_compression.NONE&&e()?(p=r(q,v.width*v.colors,v.colors,g),C=r(T,v.width,1,g)):(p=q,C=T,ne=void 0)}if(v.colorType===3&&(w=this.color_spaces.INDEXED,N=v.palette,v.transparency.indexed)){var xe=v.transparency.indexed,we=0;for(I=0,k=xe.length;I<k;++I)we+=xe[I];if((we/=255)===k-1&&xe.indexOf(0)!==-1)x=[xe.indexOf(0)];else if(we!==k){for(P=v.decodePixels(),T=new Uint8Array(P.length),I=0,k=P.length;I<k;I++)T[I]=xe[P[I]];C=r(T,v.width,1)}}var F=function(J){var se;switch(J){case t.image_compression.FAST:se=11;break;case t.image_compression.MEDIUM:se=13;break;case t.image_compression.SLOW:se=14;break;default:se=12}return se}(g);return ne===this.decode.FLATE_DECODE&&(pe="/Predictor "+F+" "),pe+="/Colors "+E+" /BitsPerComponent "+m+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(C&&this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),{alias:y,data:p,index:f,filter:ne,decodeParameters:pe,transparency:x,palette:N,sMask:C,predictor:F,width:v.width,height:v.height,bitsPerComponent:m,colorSpace:w}}}})(xt.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new JEe(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new W_(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(xt.API),ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ro.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Nr.log("bit decode error:"+r)}},ro.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},ro.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ro.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ro.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},ro.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},ro.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},ro.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},ro.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new ro(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new W_(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(xt.API),u8.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new u8(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new W_(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(xt.API),xt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],h=n[c+1],p=n[c+2],f=n[c+3];s[o++]=u,s[o++]=h,s[o++]=p,a[l++]=f}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},xt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qf=xt.API,a1=qf.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,f=t.length,y=0,g=o[0]||l,w=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(p=h&&mr(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/u:0,w.push((o[n]||g)/l+p)),y=n;return w},a8=qf.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return qf.processArabic&&(t=qf.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:a1.apply(this,arguments).reduce(function(s,a){return s+a},0)},o8=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},l8=function(t,e,r){r||(r={});var n,i,s,a,o,l,c,u=[],h=[u],p=r.textIndent||0,f=0,y=0,g=t.split(" "),w=a1.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var m=Array(l).join(" "),v=[];g.map(function(E){(E=E.split(/\s*\n/)).length>1?v=v.concat(E.map(function(N,C){return(C&&N.length?`
`:"")+N})):v.push(E[0])}),g=v,l=a8.apply(this,[m,r])}for(s=0,a=g.length;s<a;s++){var x=0;if(n=g[s],l&&n[0]==`
`&&(n=n.substr(1),x=1),p+f+(y=(i=a1.apply(this,[n,r])).reduce(function(E,N){return E+N},0))>e||x){if(y>e){for(o=o8.apply(this,[n,i,e-(p+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);y=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(E,N){return E+N},0)}else u=[n];h.push(u),p=y+l,f=w}else u.push(n),p+=f+y,f=w}return c=l?function(E,N){return(N?m:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(c)},qf.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(l8.apply(this,[n[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},a=t.__fontmetrics__.compress=function(h){var p,f,y,g,w=["{"];for(var m in h){if(p=h[m],isNaN(parseInt(m,10))?f="'"+m+"'":(m=parseInt(m,10),f=(f=s(m).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof p=="number")p<0?(y=s(p).slice(3),g="-"):(y=s(p).slice(2),g=""),y=g+y.slice(0,-1)+n[y.slice(-1)];else{if(mr(p)!=="object")throw new Error("Don't know what to do with value type "+mr(p)+".");y=a(p)}w.push(f+y)}return w.push("}"),w.join("")},o=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,y,g,w={},m=1,v=w,x=[],E="",N="",C=h.length-1,P=1;P<C;P+=1)(g=h[P])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(x.push([v,y]),v={},y=void 0):g=="}"?((f=x.pop())[0][f[1]]=v,y=void 0,v=f[0]):g=="-"?m=-1:y===void 0?r.hasOwnProperty(g)?(E+=r[g],y=parseInt(E,16)*m,m=1,E=""):E+=g:r.hasOwnProperty(g)?(N+=r[g],v[y]=parseInt(N,16)*m,m=1,y=void 0,N=""):N+=g;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,f=u.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var y=c.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])}(xt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(y0(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(xt),function(t){function e(){return(St.canvg?Promise.resolve(St.canvg):o4(()=>import("./index.es-DsARjya3.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}xt.API.addSvgAsImage=function(r,n,i,s,a,o,l,c){if(isNaN(n)||isNaN(i))throw Nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=a;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(y){return y.fromString(h,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),n,i,s,a,l,c)})}}(),xt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},xt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,h=0;function p(y,g){var w,m=!1;for(w=0;w<y.length;w+=1)y[w]===g&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(h=0;h<f;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(mr(t)==="object"){for(i in t)if(s=t[i],p(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&p(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?g.push("/"+y+" /"+r[y].value):g.push("/"+y+" "+r[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(xt.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=s.length;h<p;++h){if(o=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(s){var a,o,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(o=Object.keys(s).sort(function(f,y){return f-y})).length;h<p;h++)a=o[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",y=0;y<p.length;y++)f+=String.fromCharCode(p[y]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var w=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var m=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Qf(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var v=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Qf(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Qf(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var g=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var w=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Qf(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Qf(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},p=h.pdfEscape,f=h.activeFontKey,y=h.fonts,g=f,w="",m=0,v="",x=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:h};for(v=o,g=f,Array.isArray(o)&&(v=o[0]),m=0;m<v.length;m+=1)y[g].metadata.hasOwnProperty("cmap")&&(a=y[g].metadata.cmap.unicode.codeMap[v[m].charCodeAt(0)]),a||v[m].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?w+=v[m]:w+="";var E="";return parseInt(g.slice(1))<14||x==="WinAnsiEncoding"?E=p(w,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(E=r(w,y[g])),h.isHex=!0,{text:E,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(xt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(xt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,c,u,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,x=0;this.__bidiEngine__={};var E=function(M){var A=M.charCodeAt(),I=A>>8,j=g[I];return j!==void 0?h[256*j+(255&A)]:I===252||I===253?"AL":m.test(I)?"L":I===8?"R":"N"},N=function(M){for(var A,I=0;I<M.length;I++){if((A=E(M.charAt(I)))==="L")return!1;if(A==="R")return!0}return!1},C=function(M,A,I,j){var ne,pe,X,ce,ue=A[j];switch(ue){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(ue="AN");break;case"AL":v=!0,ue="R";break;case"WS":ue="N";break;case"CS":j<1||j+1>=A.length||(ne=I[j-1])!=="EN"&&ne!=="AN"||(pe=A[j+1])!=="EN"&&pe!=="AN"?ue="N":v&&(pe="AN"),ue=pe===ne?pe:"N";break;case"ES":ue=(ne=j>0?I[j-1]:"B")==="EN"&&j+1<A.length&&A[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&I[j-1]==="EN"){ue="EN";break}if(v){ue="N";break}for(X=j+1,ce=A.length;X<ce&&A[X]==="ET";)X++;ue=X<ce&&A[X]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(ce=A.length,X=j+1;X<ce&&A[X]==="NSM";)X++;if(X<ce){var xe=M[j],we=xe>=1425&&xe<=2303||xe===64286;if(ne=A[X],we&&(ne==="R"||ne==="AL")){ue="R";break}}}ue=j<1||(ne=A[j-1])==="B"?"N":I[j-1];break;case"B":v=!1,i=!0,ue=x;break;case"S":s=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":ue="N"}return ue},P=function(M,A,I){var j=M.split("");return I&&k(j,I,{hiLevel:x}),j.reverse(),A&&A.reverse(),j.join("")},k=function(M,A,I){var j,ne,pe,X,ce,ue=-1,xe=M.length,we=0,F=[],J=x?f:p,se=[];for(v=!1,i=!1,s=!1,ne=0;ne<xe;ne++)se[ne]=E(M[ne]);for(pe=0;pe<xe;pe++){if(ce=we,F[pe]=C(M,se,F,pe),j=240&(we=J[ce][y[F[pe]]]),we&=15,A[pe]=X=J[we][5],j>0)if(j===16){for(ne=ue;ne<pe;ne++)A[ne]=1;ue=-1}else ue=-1;if(J[we][6])ue===-1&&(ue=pe);else if(ue>-1){for(ne=ue;ne<pe;ne++)A[ne]=X;ue=-1}se[pe]==="B"&&(A[pe]=0),I.hiLevel|=X}s&&function(he,Q,$){for(var V=0;V<$;V++)if(he[V]==="S"){Q[V]=x;for(var te=V-1;te>=0&&he[te]==="WS";te--)Q[te]=x}}(se,A,xe)},T=function(M,A,I,j,ne){if(!(ne.hiLevel<M)){if(M===1&&x===1&&!i)return A.reverse(),void(I&&I.reverse());for(var pe,X,ce,ue,xe=A.length,we=0;we<xe;){if(j[we]>=M){for(ce=we+1;ce<xe&&j[ce]>=M;)ce++;for(ue=we,X=ce-1;ue<X;ue++,X--)pe=A[ue],A[ue]=A[X],A[X]=pe,I&&(pe=I[ue],I[ue]=I[X],I[X]=pe);we=ce}we++}}},q=function(M,A,I){var j=M.split(""),ne={hiLevel:x};return I||(I=[]),k(j,I,ne),function(pe,X,ce){if(ce.hiLevel!==0&&u)for(var ue,xe=0;xe<pe.length;xe++)X[xe]===1&&(ue=w.indexOf(pe[xe]))>=0&&(pe[xe]=w[ue+1])}(j,I,ne),T(2,j,A,I,ne),T(1,j,A,I,ne),j.join("")};return this.__bidiEngine__.doBidiReorder=function(M,A,I){if(function(ne,pe){if(pe)for(var X=0;X<ne.length;X++)pe[X]=X;o===void 0&&(o=N(ne)),c===void 0&&(c=N(ne))}(M,A),a||!l||c)if(a&&l&&o^c)x=o?1:0,M=P(M,A,I);else if(!a&&l&&c)x=o?1:0,M=q(M,A,I),M=P(M,A);else if(!a||o||l||c){if(a&&!l&&o^c)M=P(M,A),o?(x=0,M=q(M,A,I)):(x=1,M=q(M,A,I),M=P(M,A));else if(a&&o&&!l&&c)x=1,M=q(M,A,I),M=P(M,A);else if(!a&&!l&&o^c){var j=u;o?(x=1,M=q(M,A,I),x=0,u=!1,M=q(M,A,I),u=j):(x=0,M=q(M,A,I),M=P(M,A),x=1,u=!1,M=q(M,A,I),u=j,M=P(M,A))}}else x=0,M=q(M,A,I);else x=o?1:0,M=q(M,A,I);return M},this.__bidiEngine__.setOptions=function(M){M&&(a=M.isInputVisual,l=M.isOutputVisual,o=M.isInputRtl,c=M.isOutputRtl,u=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(xt),xt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new dd(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new hAe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new QEe(this.contents),this.head=new eAe(this),this.name=new sAe(this),this.cmap=new GH(this),this.toUnicode={},this.hhea=new tAe(this),this.maxp=new aAe(this),this.hmtx=new oAe(this),this.post=new nAe(this),this.os2=new rAe(this),this.loca=new dAe(this),this.glyf=new lAe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ko,dd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),QEe=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,c,u,h,p,f,y,g;for(g in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),a=Math.floor(h/l),u=16*f-h,(i=new dd).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(a),i.writeShort(u),s=16*f,c=i.pos+s,o=null,y=[],r)for(p=r[g],i.writeString(g),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),y=y.concat(p),g==="head"&&(o=c),c+=p.length;c%4;)y.push(0),c++;return i.write(y),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=KH.call(r);r.length%4;)r.push(0);for(s=new dd(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),ZEe={}.hasOwnProperty,Nl=function(t,e){for(var r in e)ZEe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ko=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var eAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nl(e,ko),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new dd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),d8=function(){function t(e,r){var n,i,s,a,o,l,c,u,h,p,f,y,g,w,m,v,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,s=function(){var E,N;for(N=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)N.push(e.readUInt16());return N}(),e.pos+=2,g=function(){var E,N;for(N=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)N.push(e.readUInt16());return N}(),c=function(){var E,N;for(N=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)N.push(e.readUInt16());return N}(),u=function(){var E,N;for(N=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)N.push(e.readUInt16());return N}(),i=(this.length-e.pos+this.offset)/2,o=function(){var E,N;for(N=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)N.push(e.readUInt16());return N}(),l=m=0,x=s.length;m<x;l=++m)for(w=s[l],n=v=y=g[l];y<=w?v<=w:v>=w;n=y<=w?++v:--v)u[l]===0?a=n+c[l]:(a=o[u[l]/2+(n-y)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=h}return t.encode=function(e,r){var n,i,s,a,o,l,c,u,h,p,f,y,g,w,m,v,x,E,N,C,P,k,T,q,M,A,I,j,ne,pe,X,ce,ue,xe,we,F,J,se,he,Q,$,V,te,ae,Z,ee;switch(j=new dd,a=Object.keys(e).sort(function(_e,H){return _e-H}),r){case"macroman":for(g=0,w=function(){var _e=[];for(y=0;y<256;++y)_e.push(0);return _e}(),v={0:0},s={},ne=0,ue=a.length;ne<ue;ne++)v[te=e[i=a[ne]]]==null&&(v[te]=++g),s[i]={old:e[i],new:v[e[i]]},w[i]=v[e[i]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(w),{charMap:s,subtable:j.data,maxGlyphID:g+1};case"unicode":for(A=[],h=[],x=0,v={},n={},m=c=null,pe=0,xe=a.length;pe<xe;pe++)v[N=e[i=a[pe]]]==null&&(v[N]=++x),n[i]={old:N,new:v[N]},o=v[N]-i,m!=null&&o===c||(m&&h.push(m),A.push(i),c=o),m=i;for(m&&h.push(m),h.push(65535),A.push(65535),q=2*(T=A.length),k=2*Math.pow(Math.log(T)/Math.LN2,2),p=Math.log(k/2)/Math.LN2,P=2*T-k,l=[],C=[],f=[],y=X=0,we=A.length;X<we;y=++X){if(M=A[y],u=h[y],M===65535){l.push(0),C.push(0);break}if(M-(I=n[M].new)>=32768)for(l.push(0),C.push(2*(f.length+T-y)),i=ce=M;M<=u?ce<=u:ce>=u;i=M<=u?++ce:--ce)f.push(n[i].new);else l.push(I-M),C.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*T+2*f.length),j.writeUInt16(0),j.writeUInt16(q),j.writeUInt16(k),j.writeUInt16(p),j.writeUInt16(P),$=0,F=h.length;$<F;$++)i=h[$],j.writeUInt16(i);for(j.writeUInt16(0),V=0,J=A.length;V<J;V++)i=A[V],j.writeUInt16(i);for(ae=0,se=l.length;ae<se;ae++)o=l[ae],j.writeUInt16(o);for(Z=0,he=C.length;Z<he;Z++)E=C[Z],j.writeUInt16(E);for(ee=0,Q=f.length;ee<Q;ee++)g=f[ee],j.writeUInt16(g);return{charMap:n,subtable:j.data,maxGlyphID:x+1}}},t}(),GH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nl(e,ko),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new d8(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=d8.encode(r,n),(s=new dd).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),tAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nl(e,ko),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),rAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nl(e,ko),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),nAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nl(e,ko),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},e}(),iAe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},sAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nl(e,ko),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,a,o,l,c,u,h,p,f;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},a=h=0,p=i.length;h<p;a=++h)s=i[a],r.pos=s.offset,u=r.readString(s.length),o=new iAe(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),aAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nl(e,ko),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),oAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nl(e,ko),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,a,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)h.push(r.readInt16());return h}(),this.widths=(function(){var u,h,p,f;for(f=[],u=0,h=(p=this.metrics).length;u<h;u++)a=p[u],f.push(a.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),KH=[].slice,lAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nl(e,ko),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,a,o,l,c,u,h,p;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new dd(n.read(s))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[r]=o===-1?new uAe(l,u,p,c,h):new cAe(l,o,u,p,c,h),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,a,o,l,c;for(o=[],a=[],l=0,c=n.length;l<c;l++)s=r[n[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),cAe=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),uAe=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new dd(KH.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),dAe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Nl(e,ko),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),h=0;h<i.length;++h)u[4*h+3]=255&i[h],u[4*h+2]=(65280&i[h])>>8,u[4*h+1]=(16711680&i[h])>>16,u[4*h]=(4278190080&i[h])>>24;return u},e}(),hAe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,c,u,h,p,f,y,g,w,m;for(i in n=GH.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},m=n.charMap)f[(l=m[i]).old]=l.new;for(y in p=n.maxGlyphID,a)y in f||(f[y]=p++);return u=function(v){var x,E;for(x in E={},v)E[v[x]]=x;return E}(f),h=Object.keys(u).sort(function(v,x){return v-x}),g=function(){var v,x,E;for(E=[],v=0,x=h.length;v<x;v++)o=h[v],E.push(u[o]);return E}(),s=this.font.glyf.encode(a,g,f),c=this.font.loca.encode(s.offsets,g),w={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();xt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();const fAe=Ba({clientName:lt().required("Nome do cliente é obrigatório"),clientCpf:lt().required("CPF do cliente é obrigatório"),clientRg:lt().required("RG do cliente é obrigatório"),clientAddress:lt().required("Endereço do cliente é obrigatório"),lawyers:Om().min(1,"Pelo menos um advogado é obrigatório"),type:lt().required("Tipo de procuração é obrigatório"),object:lt().required("Objeto da procuração é obrigatório"),location:lt().required("Local é obrigatório"),date:lt().required("Data é obrigatória")});function pAe({onBack:t,onSave:e}){const[r,n]=br.useState([]),[i,s]=br.useState([]),[a,o]=br.useState(!1),{register:l,handleSubmit:c,formState:{errors:u}}=Al({resolver:Sl(fAe),defaultValues:{type:"Ad Judicia",date:new Date().toISOString().split("T")[0]}});br.useEffect(()=>{(async()=>{try{const w=(await rt.getLawyers()).filter(m=>m.status==="Ativo");n(w)}catch(g){console.error("Erro ao carregar advogados:",g)}})()},[]);const h=y=>{s(g=>g.includes(y)?g.filter(w=>w!==y):[...g,y])},p=y=>{const g=new xt,w=[37,99,235],m=[245,158,11],v=[55,65,81],x=[156,163,175];g.setFillColor(...w),g.rect(0,0,210,25,"F"),g.setTextColor(255,255,255),g.setFontSize(24),g.setFont(void 0,"bold"),g.text("Legal",20,17),g.setTextColor(...m),g.text("X",50,17),g.setTextColor(255,255,255),g.setFontSize(10),g.setFont(void 0,"normal"),g.text("Sistema de Gestão Jurídica",20,22),g.setTextColor(...v),g.setFontSize(20),g.setFont(void 0,"bold"),g.text("PROCURAÇÃO",105,45,{align:"center"}),g.setDrawColor(...m),g.setLineWidth(2),g.line(20,50,190,50),g.setTextColor(...v),g.setFontSize(11),g.setFont(void 0,"normal");let E=65;const N=6,C=i.length>1?`os(as) Srs(as). ${i.join(", ")}`:`o(a) Sr(a). ${i[0]}`,P=i.map(M=>{const A=r.find(I=>I.fullName===M);return A?`${M} (OAB ${A.oab})`:M}).join(", "),k=`
Pelo presente instrumento particular de procuração, eu, ${y.clientName}, 
${y.clientCpf.includes("."),"CPF"} nº ${y.clientCpf}, RG nº ${y.clientRg}, 
residente e domiciliado em ${y.clientAddress}, 

NOMEIO e CONSTITUO como ${i.length>1?"meus bastantes procuradores":"meu bastante procurador"} ${C}, 
${i.length>1?"inscritos na OAB":"inscrito(a) na OAB"} (${P}), para o fim específico de:

${y.object}

Outorgo-lhe poderes para representar-me ${y.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos"}, 
podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento 
do presente mandato.

Por ser verdade, firmo a presente.

${y.location}, ${new Date(y.date).toLocaleDateString("pt-BR")}.


_________________________________
${y.clientName}
Outorgante
    `.trim();g.splitTextToSize(k,170).forEach(M=>{E>270&&(g.addPage(),E=30),g.text(M,20,E),E+=N}),g.setDrawColor(...x),g.setLineWidth(.5),g.line(20,280,190,280),g.setTextColor(...x),g.setFontSize(8),g.setFont(void 0,"normal"),g.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),g.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290);const q=g.internal.getNumberOfPages();if(q>1)for(let M=1;M<=q;M++)g.setPage(M),g.text(`Página ${M} de ${q}`,190,290,{align:"right"});g.save(`procuracao_${y.clientName.replace(/\s+/g,"_").toLowerCase()}.pdf`)},f=async y=>{if(i.length===0){alert("Selecione pelo menos um advogado.");return}try{o(!0);const g=await rt.saveDocument({type:"Procuração",client:y.clientName,data:{type:y.type,object:y.object,location:y.location,date:y.date,lawyers:i}});console.log("Procuração salva no sistema:",g),e&&await e(),p({...y,lawyers:i})}catch(g){console.error("Erro ao salvar procuração:",g),alert("Erro ao salvar procuração no sistema. Tente novamente.")}finally{o(!1)}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:a,children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nova Procuração"}),d.jsx("p",{className:"text-gray-600",children:"Preencha os dados para gerar a procuração"})]})]}),d.jsx("form",{onSubmit:c(f),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Cliente (Outorgante)"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),d.jsx("input",{...l("clientName"),type:"text",disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Nome completo do cliente"}),u.clientName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...l("clientCpf"),type:"text",disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"000.000.000-00"}),u.clientCpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientCpf.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RG *"}),d.jsx("input",{...l("clientRg"),type:"text",disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"00.000.000-0"}),u.clientRg&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientRg.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço Completo *"}),d.jsx("input",{...l("clientAddress"),type:"text",disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Rua, número, bairro, cidade, estado"}),u.clientAddress&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientAddress.message})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Advogado (Outorgado)"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advogados Outorgados *"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto",children:r.length>0?d.jsx("div",{className:"space-y-2",children:r.map(y=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",disabled:a,checked:i.includes(y.fullName),onChange:()=>h(y.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[y.fullName," - OAB: ",y.oab]})]},y.id))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum advogado disponível"})}),i.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Selecionados:"}),d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:i.map((y,g)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[y,d.jsx("button",{type:"button",disabled:a,onClick:()=>h(y),className:"ml-1 text-blue-600 hover:text-blue-800 disabled:opacity-50",children:d.jsx(Ra,{className:"w-3 h-3"})})]},g))})]}),i.length===0&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Pelo menos um advogado é obrigatório"}),r.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:'Nenhum advogado ativo encontrado. Cadastre advogados na aba "Advogados".'})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalhes da Procuração"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo *"}),d.jsxs("select",{...l("type"),disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"Ad Judicia",children:"Ad Judicia"}),d.jsx("option",{value:"Para fins específicos",children:"Para fins específicos"})]}),u.type&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Local *"}),d.jsx("input",{...l("location"),type:"text",disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"São Paulo - SP"}),u.location&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.location.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...l("date"),type:"date",disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),u.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.date.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objeto da Procuração *"}),d.jsx("textarea",{...l("object"),rows:4,disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Descreva o objeto/finalidade da procuração..."}),u.object&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.object.message})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:t,disabled:a,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsxs("button",{type:"submit",disabled:a,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[d.jsx(MT,{className:"w-5 h-5 mr-2"}),a?"Processando...":"Gerar Procuração PDF"]})]})]})})]})}const mAe=Ba({clientName:lt().required("Nome do cliente é obrigatório"),amount:jm().positive("Valor deve ser positivo").required("Valor é obrigatório"),description:lt().required("Descrição é obrigatória"),paymentMethod:lt().required("Forma de pagamento é obrigatória"),lawyerName:lt().required("Nome do advogado é obrigatório"),lawyerOab:lt().required("OAB do advogado é obrigatória"),lawyerCpf:lt().required("CPF do advogado é obrigatório"),date:lt().required("Data é obrigatória")});function gAe({onBack:t,onSave:e}){const[r,n]=br.useState([]),[i,s]=br.useState(!1),{register:a,handleSubmit:o,setValue:l,formState:{errors:c}}=Al({resolver:Sl(mAe),defaultValues:{paymentMethod:"PIX",date:new Date().toISOString().split("T")[0]}});br.useEffect(()=>{(async()=>{try{const w=(await rt.getLawyers()).filter(m=>m.status==="Ativo");n(w)}catch(g){console.error("Erro ao carregar advogados:",g)}})()},[]);const u=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),h=y=>{const g=["","um","dois","três","quatro","cinco","seis","sete","oito","nove"],w=["dez","onze","doze","treze","quatorze","quinze","dezesseis","dezessete","dezoito","dezenove"],m=["","","vinte","trinta","quarenta","cinquenta","sessenta","setenta","oitenta","noventa"],v=["","cento","duzentos","trezentos","quatrocentos","quinhentos","seiscentos","setecentos","oitocentos","novecentos"];if(y===0)return"zero";if(y===100)return"cem";let x="";if(y>=1e3){const E=Math.floor(y/1e3);x+=h(E)+" mil",y%=1e3,y>0&&(x+=" e ")}if(y>=100&&(x+=v[Math.floor(y/100)],y%=100,y>0&&(x+=" e ")),y>=20)x+=m[Math.floor(y/10)],y%=10,y>0&&(x+=" e ");else if(y>=10)return x+=w[y-10],x;return y>0&&(x+=g[y]),x.trim()},p=y=>{const g=new xt,w=[37,99,235],m=[245,158,11],v=[55,65,81],x=[156,163,175],E=[34,197,94];g.setFillColor(...w),g.rect(0,0,210,25,"F"),g.setTextColor(255,255,255),g.setFontSize(24),g.setFont(void 0,"bold"),g.text("Legal",20,17),g.setTextColor(...m),g.text("X",50,17),g.setTextColor(255,255,255),g.setFontSize(10),g.setFont(void 0,"normal"),g.text("Sistema de Gestão Jurídica",20,22),g.setTextColor(...v),g.setFontSize(20),g.setFont(void 0,"bold"),g.text("RECIBO",105,45,{align:"center"}),g.setDrawColor(...m),g.setLineWidth(2),g.line(20,50,190,50),g.setFillColor(248,250,252),g.setDrawColor(...E),g.setLineWidth(1),g.roundedRect(20,55,170,20,3,3,"FD"),g.setTextColor(...E),g.setFontSize(16),g.setFont(void 0,"bold"),g.text(`Valor: ${u(y.amount)}`,105,67,{align:"center"}),g.setTextColor(...v),g.setFontSize(11),g.setFont(void 0,"normal");let N=85;const C=6,P=h(Math.floor(y.amount)),k=Math.round(y.amount%1*100),T=k>0?` e ${h(k)} centavos`:"",q=`
Recebi de ${y.clientName} a importância de ${u(y.amount)} 
(${P} reais${T}), referente a ${y.description}.

Forma de pagamento: ${y.paymentMethod}

Para clareza firmo o presente recibo.

${new Date(y.date).toLocaleDateString("pt-BR")}


_________________________________
${y.lawyerName}
OAB/SP nº ${y.lawyerOab}
CPF: ${y.lawyerCpf}
    `.trim();g.splitTextToSize(q,170).forEach(I=>{N>270&&(g.addPage(),N=30),g.text(I,20,N),N+=C}),g.setDrawColor(...x),g.setLineWidth(.5),g.line(20,280,190,280),g.setTextColor(...x),g.setFontSize(8),g.setFont(void 0,"normal"),g.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),g.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290);const A=g.internal.getNumberOfPages();if(A>1)for(let I=1;I<=A;I++)g.setPage(I),g.text(`Página ${I} de ${A}`,190,290,{align:"right"});g.save(`recibo_${y.clientName.replace(/\s+/g,"_").toLowerCase()}.pdf`)},f=async y=>{try{s(!0);const g=await rt.saveDocument({type:"Recibo",client:y.clientName,data:{amount:y.amount,description:y.description,paymentMethod:y.paymentMethod,date:y.date,lawyerName:y.lawyerName,lawyerOab:y.lawyerOab}});console.log("Recibo salvo no sistema:",g),e&&await e(),p(y)}catch(g){console.error("Erro ao salvar recibo:",g),alert("Erro ao salvar recibo no sistema. Tente novamente.")}finally{s(!1)}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:i,children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Recibo"}),d.jsx("p",{className:"text-gray-600",children:"Preencha os dados para gerar o recibo"})]})]}),d.jsx("form",{onSubmit:o(f),className:"max-w-2xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Cliente"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Cliente *"}),d.jsx("input",{...a("clientName"),type:"text",disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Nome completo do cliente"}),c.clientName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.clientName.message})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Serviço"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor *"}),d.jsx("input",{...a("amount",{valueAsNumber:!0}),type:"number",step:"0.01",min:"0",disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"0.00"}),c.amount&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.amount.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Forma de Pagamento *"}),d.jsxs("select",{...a("paymentMethod"),disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"PIX",children:"PIX"}),d.jsx("option",{value:"Dinheiro",children:"Dinheiro"}),d.jsx("option",{value:"Cartão de Crédito",children:"Cartão de Crédito"}),d.jsx("option",{value:"Cartão de Débito",children:"Cartão de Débito"}),d.jsx("option",{value:"Transferência Bancária",children:"Transferência Bancária"}),d.jsx("option",{value:"Cheque",children:"Cheque"})]}),c.paymentMethod&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.paymentMethod.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição do Serviço *"}),d.jsx("textarea",{...a("description"),rows:3,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Ex: Honorários advocatícios referentes à consultoria jurídica"}),c.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.description.message})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Advogado"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Advogado *"}),d.jsxs("select",{...a("lawyerName"),disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",onChange:y=>{const g=r.find(w=>w.fullName===y.target.value);g&&(l("lawyerOab",g.oab),l("lawyerCpf",g.cpf))},children:[d.jsx("option",{value:"",children:"Selecione um advogado"}),r.map(y=>d.jsxs("option",{value:y.fullName,children:[y.fullName," - OAB: ",y.oab]},y.id))]}),c.lawyerName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.lawyerName.message}),r.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:'Nenhum advogado ativo encontrado. Cadastre advogados na aba "Advogados".'})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB *"}),d.jsx("input",{...a("lawyerOab"),type:"text",readOnly:!0,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"00000/UF"}),c.lawyerOab&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.lawyerOab.message}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preenchido automaticamente ao selecionar o advogado"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...a("lawyerCpf"),type:"text",readOnly:!0,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"000.000.000-00"}),c.lawyerCpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.lawyerCpf.message}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preenchido automaticamente ao selecionar o advogado"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...a("date"),type:"date",disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),c.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.date.message})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:t,disabled:i,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsxs("button",{type:"submit",disabled:i,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[d.jsx(MT,{className:"w-5 h-5 mr-2"}),i?"Processando...":"Gerar Recibo PDF"]})]})]})})]})}var yAe=Object.defineProperty,vAe=Object.defineProperties,wAe=Object.getOwnPropertyDescriptors,h8=Object.getOwnPropertySymbols,bAe=Object.prototype.hasOwnProperty,xAe=Object.prototype.propertyIsEnumerable,w4=(t,e,r)=>e in t?yAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xt=(t,e)=>{for(var r in e||(e={}))bAe.call(e,r)&&w4(t,r,e[r]);if(h8)for(var r of h8(e))xAe.call(e,r)&&w4(t,r,e[r]);return t},hm=(t,e)=>vAe(t,wAe(e)),We=(t,e,r)=>w4(t,typeof e!="symbol"?e+"":e,r),_Ae=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{o(r.next(l))}catch(c){i(c)}},a=l=>{try{o(r.throw(l))}catch(c){i(c)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((r=r.apply(t,e)).next())});class Fb{constructor(e){We(this,"rootKey"),this.rootKey=e}}const EAe=Object.seal({});class Qe extends Fb{constructor(e){super(e),We(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(i=>i instanceof Fb?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:EAe}}addChildElement(e){return this.root.push(e),this}}class z2 extends Qe{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Ct extends Fb{constructor(e){super("_attr"),We(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}}class q2 extends Fb{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>hm(Xt({},n),{[i]:s}),{})}}}class En extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function YH(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H_={},o1={exports:{}},f8;function qC(){if(f8)return o1.exports;f8=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(N,C,P){return Function.prototype.apply.call(N,C,P)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:r=function(N){return Object.getOwnPropertyNames(N)};function n(E){console&&console.warn&&console.warn(E)}var i=Number.isNaN||function(N){return N!==N};function s(){s.init.call(this)}o1.exports=s,o1.exports.once=m,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");a=E}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||i(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function l(E){return E._maxListeners===void 0?s.defaultMaxListeners:E._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(N){for(var C=[],P=1;P<arguments.length;P++)C.push(arguments[P]);var k=N==="error",T=this._events;if(T!==void 0)k=k&&T.error===void 0;else if(!k)return!1;if(k){var q;if(C.length>0&&(q=C[0]),q instanceof Error)throw q;var M=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw M.context=q,M}var A=T[N];if(A===void 0)return!1;if(typeof A=="function")e(A,this,C);else for(var I=A.length,j=y(A,I),P=0;P<I;++P)e(j[P],this,C);return!0};function c(E,N,C,P){var k,T,q;if(o(C),T=E._events,T===void 0?(T=E._events=Object.create(null),E._eventsCount=0):(T.newListener!==void 0&&(E.emit("newListener",N,C.listener?C.listener:C),T=E._events),q=T[N]),q===void 0)q=T[N]=C,++E._eventsCount;else if(typeof q=="function"?q=T[N]=P?[C,q]:[q,C]:P?q.unshift(C):q.push(C),k=l(E),k>0&&q.length>k&&!q.warned){q.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=E,M.type=N,M.count=q.length,n(M)}return E}s.prototype.addListener=function(N,C){return c(this,N,C,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(N,C){return c(this,N,C,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(E,N,C){var P={fired:!1,wrapFn:void 0,target:E,type:N,listener:C},k=u.bind(P);return k.listener=C,P.wrapFn=k,k}s.prototype.once=function(N,C){return o(C),this.on(N,h(this,N,C)),this},s.prototype.prependOnceListener=function(N,C){return o(C),this.prependListener(N,h(this,N,C)),this},s.prototype.removeListener=function(N,C){var P,k,T,q,M;if(o(C),k=this._events,k===void 0)return this;if(P=k[N],P===void 0)return this;if(P===C||P.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete k[N],k.removeListener&&this.emit("removeListener",N,P.listener||C));else if(typeof P!="function"){for(T=-1,q=P.length-1;q>=0;q--)if(P[q]===C||P[q].listener===C){M=P[q].listener,T=q;break}if(T<0)return this;T===0?P.shift():g(P,T),P.length===1&&(k[N]=P[0]),k.removeListener!==void 0&&this.emit("removeListener",N,M||C)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(N){var C,P,k;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[N]),this;if(arguments.length===0){var T=Object.keys(P),q;for(k=0;k<T.length;++k)q=T[k],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=P[N],typeof C=="function")this.removeListener(N,C);else if(C!==void 0)for(k=C.length-1;k>=0;k--)this.removeListener(N,C[k]);return this};function p(E,N,C){var P=E._events;if(P===void 0)return[];var k=P[N];return k===void 0?[]:typeof k=="function"?C?[k.listener||k]:[k]:C?w(k):y(k,k.length)}s.prototype.listeners=function(N){return p(this,N,!0)},s.prototype.rawListeners=function(N){return p(this,N,!1)},s.listenerCount=function(E,N){return typeof E.listenerCount=="function"?E.listenerCount(N):f.call(E,N)},s.prototype.listenerCount=f;function f(E){var N=this._events;if(N!==void 0){var C=N[E];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function y(E,N){for(var C=new Array(N),P=0;P<N;++P)C[P]=E[P];return C}function g(E,N){for(;N+1<E.length;N++)E[N]=E[N+1];E.pop()}function w(E){for(var N=new Array(E.length),C=0;C<N.length;++C)N[C]=E[C].listener||E[C];return N}function m(E,N){return new Promise(function(C,P){function k(q){E.removeListener(N,T),P(q)}function T(){typeof E.removeListener=="function"&&E.removeListener("error",k),C([].slice.call(arguments))}x(E,N,T,{once:!0}),N!=="error"&&v(E,k,{once:!0})})}function v(E,N,C){typeof E.on=="function"&&x(E,"error",N,C)}function x(E,N,C,P){if(typeof E.on=="function")P.once?E.once(N,C):E.on(N,C);else if(typeof E.addEventListener=="function")E.addEventListener(N,function k(T){P.once&&E.removeEventListener(N,k),C(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return o1.exports}var l1={exports:{}},p8;function Td(){return p8||(p8=1,typeof Object.create=="function"?l1.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:l1.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),l1.exports}function AAe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XH={exports:{}},An=XH.exports={},Jo,Qo;function b4(){throw new Error("setTimeout has not been defined")}function x4(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Jo=setTimeout:Jo=b4}catch{Jo=b4}try{typeof clearTimeout=="function"?Qo=clearTimeout:Qo=x4}catch{Qo=x4}})();function JH(t){if(Jo===setTimeout)return setTimeout(t,0);if((Jo===b4||!Jo)&&setTimeout)return Jo=setTimeout,setTimeout(t,0);try{return Jo(t,0)}catch{try{return Jo.call(null,t,0)}catch{return Jo.call(this,t,0)}}}function SAe(t){if(Qo===clearTimeout)return clearTimeout(t);if((Qo===x4||!Qo)&&clearTimeout)return Qo=clearTimeout,clearTimeout(t);try{return Qo(t)}catch{try{return Qo.call(null,t)}catch{return Qo.call(this,t)}}}var cc=[],Dp=!1,bh,Q1=-1;function NAe(){!Dp||!bh||(Dp=!1,bh.length?cc=bh.concat(cc):Q1=-1,cc.length&&QH())}function QH(){if(!Dp){var t=JH(NAe);Dp=!0;for(var e=cc.length;e;){for(bh=cc,cc=[];++Q1<e;)bh&&bh[Q1].run();Q1=-1,e=cc.length}bh=null,Dp=!1,SAe(t)}}An.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];cc.push(new ZH(t,e)),cc.length===1&&!Dp&&JH(QH)};function ZH(t,e){this.fun=t,this.array=e}ZH.prototype.run=function(){this.fun.apply(null,this.array)};An.title="browser";An.browser=!0;An.env={};An.argv=[];An.version="";An.versions={};function Mc(){}An.on=Mc;An.addListener=Mc;An.once=Mc;An.off=Mc;An.removeListener=Mc;An.removeAllListeners=Mc;An.emit=Mc;An.prependListener=Mc;An.prependOnceListener=Mc;An.listeners=function(t){return[]};An.binding=function(t){throw new Error("process.binding is not supported")};An.cwd=function(){return"/"};An.chdir=function(t){throw new Error("process.chdir is not supported")};An.umask=function(){return 0};var TAe=XH.exports;const Ut=AAe(TAe);var G_,m8;function eG(){return m8||(m8=1,G_=qC().EventEmitter),G_}var K_={},Og={},g8;function PAe(){if(g8)return Og;g8=1,Og.byteLength=o,Og.toByteArray=c,Og.fromByteArray=p;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(f){var y=f.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=f.indexOf("=");g===-1&&(g=y);var w=g===y?0:4-g%4;return[g,w]}function o(f){var y=a(f),g=y[0],w=y[1];return(g+w)*3/4-w}function l(f,y,g){return(y+g)*3/4-g}function c(f){var y,g=a(f),w=g[0],m=g[1],v=new r(l(f,w,m)),x=0,E=m>0?w-4:w,N;for(N=0;N<E;N+=4)y=e[f.charCodeAt(N)]<<18|e[f.charCodeAt(N+1)]<<12|e[f.charCodeAt(N+2)]<<6|e[f.charCodeAt(N+3)],v[x++]=y>>16&255,v[x++]=y>>8&255,v[x++]=y&255;return m===2&&(y=e[f.charCodeAt(N)]<<2|e[f.charCodeAt(N+1)]>>4,v[x++]=y&255),m===1&&(y=e[f.charCodeAt(N)]<<10|e[f.charCodeAt(N+1)]<<4|e[f.charCodeAt(N+2)]>>2,v[x++]=y>>8&255,v[x++]=y&255),v}function u(f){return t[f>>18&63]+t[f>>12&63]+t[f>>6&63]+t[f&63]}function h(f,y,g){for(var w,m=[],v=y;v<g;v+=3)w=(f[v]<<16&16711680)+(f[v+1]<<8&65280)+(f[v+2]&255),m.push(u(w));return m.join("")}function p(f){for(var y,g=f.length,w=g%3,m=[],v=16383,x=0,E=g-w;x<E;x+=v)m.push(h(f,x,x+v>E?E:x+v));return w===1?(y=f[g-1],m.push(t[y>>2]+t[y<<4&63]+"==")):w===2&&(y=(f[g-2]<<8)+f[g-1],m.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),m.join("")}return Og}var c1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var y8;function CAe(){return y8||(y8=1,c1.read=function(t,e,r,n,i){var s,a,o=i*8-n-1,l=(1<<o)-1,c=l>>1,u=-7,h=r?i-1:0,p=r?-1:1,f=t[e+h];for(h+=p,s=f&(1<<-u)-1,f>>=-u,u+=o;u>0;s=s*256+t[e+h],h+=p,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=n;u>0;a=a*256+t[e+h],h+=p,u-=8);if(s===0)s=1-c;else{if(s===l)return a?NaN:(f?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-c}return(f?-1:1)*a*Math.pow(2,s-n)},c1.write=function(t,e,r,n,i,s){var a,o,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,y=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?e+=p/l:e+=p*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=u?(o=0,a=u):a+h>=1?(o=(e*l-1)*Math.pow(2,i),a=a+h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+f]=o&255,f+=y,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;t[r+f]=a&255,f+=y,a/=256,c-=8);t[r+f-y]|=g*128}),c1}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var v8;function W2(){return v8||(v8=1,function(t){var e=PAe(),r=CAe(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var B=new Uint8Array(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,Uint8Array.prototype),Object.setPrototypeOf(B,O),B.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(B){if(B>i)throw new RangeError('The value "'+B+'" is invalid for option "size"');var O=new Uint8Array(B);return Object.setPrototypeOf(O,o.prototype),O}function o(B,O,L){if(typeof B=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(B)}return l(B,O,L)}o.poolSize=8192;function l(B,O,L){if(typeof B=="string")return p(B,O);if(ArrayBuffer.isView(B))return y(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(_e(B,ArrayBuffer)||B&&_e(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(B,SharedArrayBuffer)||B&&_e(B.buffer,SharedArrayBuffer)))return g(B,O,L);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var W=B.valueOf&&B.valueOf();if(W!=null&&W!==B)return o.from(W,O,L);var G=w(B);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return o.from(B[Symbol.toPrimitive]("string"),O,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}o.from=function(B,O,L){return l(B,O,L)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function u(B,O,L){return c(B),B<=0?a(B):O!==void 0?typeof L=="string"?a(B).fill(O,L):a(B).fill(O):a(B)}o.alloc=function(B,O,L){return u(B,O,L)};function h(B){return c(B),a(B<0?0:m(B)|0)}o.allocUnsafe=function(B){return h(B)},o.allocUnsafeSlow=function(B){return h(B)};function p(B,O){if((typeof O!="string"||O==="")&&(O="utf8"),!o.isEncoding(O))throw new TypeError("Unknown encoding: "+O);var L=x(B,O)|0,W=a(L),G=W.write(B,O);return G!==L&&(W=W.slice(0,G)),W}function f(B){for(var O=B.length<0?0:m(B.length)|0,L=a(O),W=0;W<O;W+=1)L[W]=B[W]&255;return L}function y(B){if(_e(B,Uint8Array)){var O=new Uint8Array(B);return g(O.buffer,O.byteOffset,O.byteLength)}return f(B)}function g(B,O,L){if(O<0||B.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<O+(L||0))throw new RangeError('"length" is outside of buffer bounds');var W;return O===void 0&&L===void 0?W=new Uint8Array(B):L===void 0?W=new Uint8Array(B,O):W=new Uint8Array(B,O,L),Object.setPrototypeOf(W,o.prototype),W}function w(B){if(o.isBuffer(B)){var O=m(B.length)|0,L=a(O);return L.length===0||B.copy(L,0,0,O),L}if(B.length!==void 0)return typeof B.length!="number"||H(B.length)?a(0):f(B);if(B.type==="Buffer"&&Array.isArray(B.data))return f(B.data)}function m(B){if(B>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return B|0}function v(B){return+B!=B&&(B=0),o.alloc(+B)}o.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==o.prototype},o.compare=function(O,L){if(_e(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),_e(L,Uint8Array)&&(L=o.from(L,L.offset,L.byteLength)),!o.isBuffer(O)||!o.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===L)return 0;for(var W=O.length,G=L.length,ie=0,re=Math.min(W,G);ie<re;++ie)if(O[ie]!==L[ie]){W=O[ie],G=L[ie];break}return W<G?-1:G<W?1:0},o.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(O,L){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return o.alloc(0);var W;if(L===void 0)for(L=0,W=0;W<O.length;++W)L+=O[W].length;var G=o.allocUnsafe(L),ie=0;for(W=0;W<O.length;++W){var re=O[W];if(_e(re,Uint8Array))ie+re.length>G.length?o.from(re).copy(G,ie):Uint8Array.prototype.set.call(G,re,ie);else if(o.isBuffer(re))re.copy(G,ie);else throw new TypeError('"list" argument must be an Array of Buffers');ie+=re.length}return G};function x(B,O){if(o.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||_e(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);var L=B.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&L===0)return 0;for(var G=!1;;)switch(O){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return V(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return Z(B).length;default:if(G)return W?-1:V(B).length;O=(""+O).toLowerCase(),G=!0}}o.byteLength=x;function E(B,O,L){var W=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,O>>>=0,L<=O))return"";for(B||(B="utf8");;)switch(B){case"hex":return ue(this,O,L);case"utf8":case"utf-8":return j(this,O,L);case"ascii":return X(this,O,L);case"latin1":case"binary":return ce(this,O,L);case"base64":return I(this,O,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,O,L);default:if(W)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),W=!0}}o.prototype._isBuffer=!0;function N(B,O,L){var W=B[O];B[O]=B[L],B[L]=W}o.prototype.swap16=function(){var O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<O;L+=2)N(this,L,L+1);return this},o.prototype.swap32=function(){var O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<O;L+=4)N(this,L,L+3),N(this,L+1,L+2);return this},o.prototype.swap64=function(){var O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<O;L+=8)N(this,L,L+7),N(this,L+1,L+6),N(this,L+2,L+5),N(this,L+3,L+4);return this},o.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?j(this,0,O):E.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(O){if(!o.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:o.compare(this,O)===0},o.prototype.inspect=function(){var O="",L=t.INSPECT_MAX_BYTES;return O=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(O+=" ... "),"<Buffer "+O+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(O,L,W,G,ie){if(_e(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),!o.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(L===void 0&&(L=0),W===void 0&&(W=O?O.length:0),G===void 0&&(G=0),ie===void 0&&(ie=this.length),L<0||W>O.length||G<0||ie>this.length)throw new RangeError("out of range index");if(G>=ie&&L>=W)return 0;if(G>=ie)return-1;if(L>=W)return 1;if(L>>>=0,W>>>=0,G>>>=0,ie>>>=0,this===O)return 0;for(var re=ie-G,Ae=W-L,Ne=Math.min(re,Ae),Se=this.slice(G,ie),Ie=O.slice(L,W),Fe=0;Fe<Ne;++Fe)if(Se[Fe]!==Ie[Fe]){re=Se[Fe],Ae=Ie[Fe];break}return re<Ae?-1:Ae<re?1:0};function C(B,O,L,W,G){if(B.length===0)return-1;if(typeof L=="string"?(W=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,H(L)&&(L=G?0:B.length-1),L<0&&(L=B.length+L),L>=B.length){if(G)return-1;L=B.length-1}else if(L<0)if(G)L=0;else return-1;if(typeof O=="string"&&(O=o.from(O,W)),o.isBuffer(O))return O.length===0?-1:P(B,O,L,W,G);if(typeof O=="number")return O=O&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(B,O,L):Uint8Array.prototype.lastIndexOf.call(B,O,L):P(B,[O],L,W,G);throw new TypeError("val must be string, number or Buffer")}function P(B,O,L,W,G){var ie=1,re=B.length,Ae=O.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(B.length<2||O.length<2)return-1;ie=2,re/=2,Ae/=2,L/=2}function Ne(nt,bt){return ie===1?nt[bt]:nt.readUInt16BE(bt*ie)}var Se;if(G){var Ie=-1;for(Se=L;Se<re;Se++)if(Ne(B,Se)===Ne(O,Ie===-1?0:Se-Ie)){if(Ie===-1&&(Ie=Se),Se-Ie+1===Ae)return Ie*ie}else Ie!==-1&&(Se-=Se-Ie),Ie=-1}else for(L+Ae>re&&(L=re-Ae),Se=L;Se>=0;Se--){for(var Fe=!0,Ke=0;Ke<Ae;Ke++)if(Ne(B,Se+Ke)!==Ne(O,Ke)){Fe=!1;break}if(Fe)return Se}return-1}o.prototype.includes=function(O,L,W){return this.indexOf(O,L,W)!==-1},o.prototype.indexOf=function(O,L,W){return C(this,O,L,W,!0)},o.prototype.lastIndexOf=function(O,L,W){return C(this,O,L,W,!1)};function k(B,O,L,W){L=Number(L)||0;var G=B.length-L;W?(W=Number(W),W>G&&(W=G)):W=G;var ie=O.length;W>ie/2&&(W=ie/2);for(var re=0;re<W;++re){var Ae=parseInt(O.substr(re*2,2),16);if(H(Ae))return re;B[L+re]=Ae}return re}function T(B,O,L,W){return ee(V(O,B.length-L),B,L,W)}function q(B,O,L,W){return ee(te(O),B,L,W)}function M(B,O,L,W){return ee(Z(O),B,L,W)}function A(B,O,L,W){return ee(ae(O,B.length-L),B,L,W)}o.prototype.write=function(O,L,W,G){if(L===void 0)G="utf8",W=this.length,L=0;else if(W===void 0&&typeof L=="string")G=L,W=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(W)?(W=W>>>0,G===void 0&&(G="utf8")):(G=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ie=this.length-L;if((W===void 0||W>ie)&&(W=ie),O.length>0&&(W<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");for(var re=!1;;)switch(G){case"hex":return k(this,O,L,W);case"utf8":case"utf-8":return T(this,O,L,W);case"ascii":case"latin1":case"binary":return q(this,O,L,W);case"base64":return M(this,O,L,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,O,L,W);default:if(re)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),re=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(B,O,L){return O===0&&L===B.length?e.fromByteArray(B):e.fromByteArray(B.slice(O,L))}function j(B,O,L){L=Math.min(B.length,L);for(var W=[],G=O;G<L;){var ie=B[G],re=null,Ae=ie>239?4:ie>223?3:ie>191?2:1;if(G+Ae<=L){var Ne,Se,Ie,Fe;switch(Ae){case 1:ie<128&&(re=ie);break;case 2:Ne=B[G+1],(Ne&192)===128&&(Fe=(ie&31)<<6|Ne&63,Fe>127&&(re=Fe));break;case 3:Ne=B[G+1],Se=B[G+2],(Ne&192)===128&&(Se&192)===128&&(Fe=(ie&15)<<12|(Ne&63)<<6|Se&63,Fe>2047&&(Fe<55296||Fe>57343)&&(re=Fe));break;case 4:Ne=B[G+1],Se=B[G+2],Ie=B[G+3],(Ne&192)===128&&(Se&192)===128&&(Ie&192)===128&&(Fe=(ie&15)<<18|(Ne&63)<<12|(Se&63)<<6|Ie&63,Fe>65535&&Fe<1114112&&(re=Fe))}}re===null?(re=65533,Ae=1):re>65535&&(re-=65536,W.push(re>>>10&1023|55296),re=56320|re&1023),W.push(re),G+=Ae}return pe(W)}var ne=4096;function pe(B){var O=B.length;if(O<=ne)return String.fromCharCode.apply(String,B);for(var L="",W=0;W<O;)L+=String.fromCharCode.apply(String,B.slice(W,W+=ne));return L}function X(B,O,L){var W="";L=Math.min(B.length,L);for(var G=O;G<L;++G)W+=String.fromCharCode(B[G]&127);return W}function ce(B,O,L){var W="";L=Math.min(B.length,L);for(var G=O;G<L;++G)W+=String.fromCharCode(B[G]);return W}function ue(B,O,L){var W=B.length;(!O||O<0)&&(O=0),(!L||L<0||L>W)&&(L=W);for(var G="",ie=O;ie<L;++ie)G+=ve[B[ie]];return G}function xe(B,O,L){for(var W=B.slice(O,L),G="",ie=0;ie<W.length-1;ie+=2)G+=String.fromCharCode(W[ie]+W[ie+1]*256);return G}o.prototype.slice=function(O,L){var W=this.length;O=~~O,L=L===void 0?W:~~L,O<0?(O+=W,O<0&&(O=0)):O>W&&(O=W),L<0?(L+=W,L<0&&(L=0)):L>W&&(L=W),L<O&&(L=O);var G=this.subarray(O,L);return Object.setPrototypeOf(G,o.prototype),G};function we(B,O,L){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+O>L)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(O,L,W){O=O>>>0,L=L>>>0,W||we(O,L,this.length);for(var G=this[O],ie=1,re=0;++re<L&&(ie*=256);)G+=this[O+re]*ie;return G},o.prototype.readUintBE=o.prototype.readUIntBE=function(O,L,W){O=O>>>0,L=L>>>0,W||we(O,L,this.length);for(var G=this[O+--L],ie=1;L>0&&(ie*=256);)G+=this[O+--L]*ie;return G},o.prototype.readUint8=o.prototype.readUInt8=function(O,L){return O=O>>>0,L||we(O,1,this.length),this[O]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(O,L){return O=O>>>0,L||we(O,2,this.length),this[O]|this[O+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(O,L){return O=O>>>0,L||we(O,2,this.length),this[O]<<8|this[O+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(O,L){return O=O>>>0,L||we(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(O,L){return O=O>>>0,L||we(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},o.prototype.readIntLE=function(O,L,W){O=O>>>0,L=L>>>0,W||we(O,L,this.length);for(var G=this[O],ie=1,re=0;++re<L&&(ie*=256);)G+=this[O+re]*ie;return ie*=128,G>=ie&&(G-=Math.pow(2,8*L)),G},o.prototype.readIntBE=function(O,L,W){O=O>>>0,L=L>>>0,W||we(O,L,this.length);for(var G=L,ie=1,re=this[O+--G];G>0&&(ie*=256);)re+=this[O+--G]*ie;return ie*=128,re>=ie&&(re-=Math.pow(2,8*L)),re},o.prototype.readInt8=function(O,L){return O=O>>>0,L||we(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},o.prototype.readInt16LE=function(O,L){O=O>>>0,L||we(O,2,this.length);var W=this[O]|this[O+1]<<8;return W&32768?W|4294901760:W},o.prototype.readInt16BE=function(O,L){O=O>>>0,L||we(O,2,this.length);var W=this[O+1]|this[O]<<8;return W&32768?W|4294901760:W},o.prototype.readInt32LE=function(O,L){return O=O>>>0,L||we(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},o.prototype.readInt32BE=function(O,L){return O=O>>>0,L||we(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},o.prototype.readFloatLE=function(O,L){return O=O>>>0,L||we(O,4,this.length),r.read(this,O,!0,23,4)},o.prototype.readFloatBE=function(O,L){return O=O>>>0,L||we(O,4,this.length),r.read(this,O,!1,23,4)},o.prototype.readDoubleLE=function(O,L){return O=O>>>0,L||we(O,8,this.length),r.read(this,O,!0,52,8)},o.prototype.readDoubleBE=function(O,L){return O=O>>>0,L||we(O,8,this.length),r.read(this,O,!1,52,8)};function F(B,O,L,W,G,ie){if(!o.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>G||O<ie)throw new RangeError('"value" argument is out of bounds');if(L+W>B.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(O,L,W,G){if(O=+O,L=L>>>0,W=W>>>0,!G){var ie=Math.pow(2,8*W)-1;F(this,O,L,W,ie,0)}var re=1,Ae=0;for(this[L]=O&255;++Ae<W&&(re*=256);)this[L+Ae]=O/re&255;return L+W},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(O,L,W,G){if(O=+O,L=L>>>0,W=W>>>0,!G){var ie=Math.pow(2,8*W)-1;F(this,O,L,W,ie,0)}var re=W-1,Ae=1;for(this[L+re]=O&255;--re>=0&&(Ae*=256);)this[L+re]=O/Ae&255;return L+W},o.prototype.writeUint8=o.prototype.writeUInt8=function(O,L,W){return O=+O,L=L>>>0,W||F(this,O,L,1,255,0),this[L]=O&255,L+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(O,L,W){return O=+O,L=L>>>0,W||F(this,O,L,2,65535,0),this[L]=O&255,this[L+1]=O>>>8,L+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(O,L,W){return O=+O,L=L>>>0,W||F(this,O,L,2,65535,0),this[L]=O>>>8,this[L+1]=O&255,L+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(O,L,W){return O=+O,L=L>>>0,W||F(this,O,L,4,4294967295,0),this[L+3]=O>>>24,this[L+2]=O>>>16,this[L+1]=O>>>8,this[L]=O&255,L+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(O,L,W){return O=+O,L=L>>>0,W||F(this,O,L,4,4294967295,0),this[L]=O>>>24,this[L+1]=O>>>16,this[L+2]=O>>>8,this[L+3]=O&255,L+4},o.prototype.writeIntLE=function(O,L,W,G){if(O=+O,L=L>>>0,!G){var ie=Math.pow(2,8*W-1);F(this,O,L,W,ie-1,-ie)}var re=0,Ae=1,Ne=0;for(this[L]=O&255;++re<W&&(Ae*=256);)O<0&&Ne===0&&this[L+re-1]!==0&&(Ne=1),this[L+re]=(O/Ae>>0)-Ne&255;return L+W},o.prototype.writeIntBE=function(O,L,W,G){if(O=+O,L=L>>>0,!G){var ie=Math.pow(2,8*W-1);F(this,O,L,W,ie-1,-ie)}var re=W-1,Ae=1,Ne=0;for(this[L+re]=O&255;--re>=0&&(Ae*=256);)O<0&&Ne===0&&this[L+re+1]!==0&&(Ne=1),this[L+re]=(O/Ae>>0)-Ne&255;return L+W},o.prototype.writeInt8=function(O,L,W){return O=+O,L=L>>>0,W||F(this,O,L,1,127,-128),O<0&&(O=255+O+1),this[L]=O&255,L+1},o.prototype.writeInt16LE=function(O,L,W){return O=+O,L=L>>>0,W||F(this,O,L,2,32767,-32768),this[L]=O&255,this[L+1]=O>>>8,L+2},o.prototype.writeInt16BE=function(O,L,W){return O=+O,L=L>>>0,W||F(this,O,L,2,32767,-32768),this[L]=O>>>8,this[L+1]=O&255,L+2},o.prototype.writeInt32LE=function(O,L,W){return O=+O,L=L>>>0,W||F(this,O,L,4,2147483647,-2147483648),this[L]=O&255,this[L+1]=O>>>8,this[L+2]=O>>>16,this[L+3]=O>>>24,L+4},o.prototype.writeInt32BE=function(O,L,W){return O=+O,L=L>>>0,W||F(this,O,L,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[L]=O>>>24,this[L+1]=O>>>16,this[L+2]=O>>>8,this[L+3]=O&255,L+4};function J(B,O,L,W,G,ie){if(L+W>B.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function se(B,O,L,W,G){return O=+O,L=L>>>0,G||J(B,O,L,4),r.write(B,O,L,W,23,4),L+4}o.prototype.writeFloatLE=function(O,L,W){return se(this,O,L,!0,W)},o.prototype.writeFloatBE=function(O,L,W){return se(this,O,L,!1,W)};function he(B,O,L,W,G){return O=+O,L=L>>>0,G||J(B,O,L,8),r.write(B,O,L,W,52,8),L+8}o.prototype.writeDoubleLE=function(O,L,W){return he(this,O,L,!0,W)},o.prototype.writeDoubleBE=function(O,L,W){return he(this,O,L,!1,W)},o.prototype.copy=function(O,L,W,G){if(!o.isBuffer(O))throw new TypeError("argument should be a Buffer");if(W||(W=0),!G&&G!==0&&(G=this.length),L>=O.length&&(L=O.length),L||(L=0),G>0&&G<W&&(G=W),G===W||O.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),O.length-L<G-W&&(G=O.length-L+W);var ie=G-W;return this===O&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,W,G):Uint8Array.prototype.set.call(O,this.subarray(W,G),L),ie},o.prototype.fill=function(O,L,W,G){if(typeof O=="string"){if(typeof L=="string"?(G=L,L=0,W=this.length):typeof W=="string"&&(G=W,W=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!o.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(O.length===1){var ie=O.charCodeAt(0);(G==="utf8"&&ie<128||G==="latin1")&&(O=ie)}}else typeof O=="number"?O=O&255:typeof O=="boolean"&&(O=Number(O));if(L<0||this.length<L||this.length<W)throw new RangeError("Out of range index");if(W<=L)return this;L=L>>>0,W=W===void 0?this.length:W>>>0,O||(O=0);var re;if(typeof O=="number")for(re=L;re<W;++re)this[re]=O;else{var Ae=o.isBuffer(O)?O:o.from(O,G),Ne=Ae.length;if(Ne===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(re=0;re<W-L;++re)this[re+L]=Ae[re%Ne]}return this};var Q=/[^+/0-9A-Za-z-_]/g;function $(B){if(B=B.split("=")[0],B=B.trim().replace(Q,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function V(B,O){O=O||1/0;for(var L,W=B.length,G=null,ie=[],re=0;re<W;++re){if(L=B.charCodeAt(re),L>55295&&L<57344){if(!G){if(L>56319){(O-=3)>-1&&ie.push(239,191,189);continue}else if(re+1===W){(O-=3)>-1&&ie.push(239,191,189);continue}G=L;continue}if(L<56320){(O-=3)>-1&&ie.push(239,191,189),G=L;continue}L=(G-55296<<10|L-56320)+65536}else G&&(O-=3)>-1&&ie.push(239,191,189);if(G=null,L<128){if((O-=1)<0)break;ie.push(L)}else if(L<2048){if((O-=2)<0)break;ie.push(L>>6|192,L&63|128)}else if(L<65536){if((O-=3)<0)break;ie.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((O-=4)<0)break;ie.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return ie}function te(B){for(var O=[],L=0;L<B.length;++L)O.push(B.charCodeAt(L)&255);return O}function ae(B,O){for(var L,W,G,ie=[],re=0;re<B.length&&!((O-=2)<0);++re)L=B.charCodeAt(re),W=L>>8,G=L%256,ie.push(G),ie.push(W);return ie}function Z(B){return e.toByteArray($(B))}function ee(B,O,L,W){for(var G=0;G<W&&!(G+L>=O.length||G>=B.length);++G)O[G+L]=B[G];return G}function _e(B,O){return B instanceof O||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===O.name}function H(B){return B!==B}var ve=function(){for(var B="0123456789abcdef",O=new Array(256),L=0;L<16;++L)for(var W=L*16,G=0;G<16;++G)O[W+G]=B[L]+B[G];return O}()}(K_)),K_}var Y_={},X_={},J_,w8;function tG(){return w8||(w8=1,J_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),J_}var Q_,b8;function WC(){if(b8)return Q_;b8=1;var t=tG();return Q_=function(){return t()&&!!Symbol.toStringTag},Q_}var Z_,x8;function rG(){return x8||(x8=1,Z_=Object),Z_}var eE,_8;function kAe(){return _8||(_8=1,eE=Error),eE}var tE,E8;function IAe(){return E8||(E8=1,tE=EvalError),tE}var rE,A8;function jAe(){return A8||(A8=1,rE=RangeError),rE}var nE,S8;function OAe(){return S8||(S8=1,nE=ReferenceError),nE}var iE,N8;function nG(){return N8||(N8=1,iE=SyntaxError),iE}var sE,T8;function Vy(){return T8||(T8=1,sE=TypeError),sE}var aE,P8;function RAe(){return P8||(P8=1,aE=URIError),aE}var oE,C8;function LAe(){return C8||(C8=1,oE=Math.abs),oE}var lE,k8;function DAe(){return k8||(k8=1,lE=Math.floor),lE}var cE,I8;function MAe(){return I8||(I8=1,cE=Math.max),cE}var uE,j8;function FAe(){return j8||(j8=1,uE=Math.min),uE}var dE,O8;function BAe(){return O8||(O8=1,dE=Math.pow),dE}var hE,R8;function UAe(){return R8||(R8=1,hE=Math.round),hE}var fE,L8;function $Ae(){return L8||(L8=1,fE=Number.isNaN||function(e){return e!==e}),fE}var pE,D8;function VAe(){if(D8)return pE;D8=1;var t=$Ae();return pE=function(r){return t(r)||r===0?r:r<0?-1:1},pE}var mE,M8;function zAe(){return M8||(M8=1,mE=Object.getOwnPropertyDescriptor),mE}var gE,F8;function zy(){if(F8)return gE;F8=1;var t=zAe();if(t)try{t([],"length")}catch{t=null}return gE=t,gE}var yE,B8;function H2(){if(B8)return yE;B8=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return yE=t,yE}var vE,U8;function qAe(){if(U8)return vE;U8=1;var t=typeof Symbol<"u"&&Symbol,e=tG();return vE=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},vE}var wE,$8;function iG(){return $8||($8=1,wE=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),wE}var bE,V8;function sG(){if(V8)return bE;V8=1;var t=rG();return bE=t.getPrototypeOf||null,bE}var xE,z8;function WAe(){if(z8)return xE;z8=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,c){for(var u=[],h=0;h<l.length;h+=1)u[h]=l[h];for(var p=0;p<c.length;p+=1)u[p+l.length]=c[p];return u},s=function(l,c){for(var u=[],h=c,p=0;h<l.length;h+=1,p+=1)u[p]=l[h];return u},a=function(o,l){for(var c="",u=0;u<o.length;u+=1)c+=o[u],u+1<o.length&&(c+=l);return c};return xE=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var u=s(arguments,1),h,p=function(){if(this instanceof h){var m=c.apply(this,i(u,arguments));return Object(m)===m?m:this}return c.apply(l,i(u,arguments))},f=r(0,c.length-u.length),y=[],g=0;g<f;g++)y[g]="$"+g;if(h=Function("binder","return function ("+a(y,",")+"){ return binder.apply(this,arguments); }")(p),c.prototype){var w=function(){};w.prototype=c.prototype,h.prototype=new w,w.prototype=null}return h},xE}var _E,q8;function qy(){if(q8)return _E;q8=1;var t=WAe();return _E=Function.prototype.bind||t,_E}var EE,W8;function HC(){return W8||(W8=1,EE=Function.prototype.call),EE}var AE,H8;function aG(){return H8||(H8=1,AE=Function.prototype.apply),AE}var SE,G8;function HAe(){return G8||(G8=1,SE=typeof Reflect<"u"&&Reflect&&Reflect.apply),SE}var NE,K8;function GAe(){if(K8)return NE;K8=1;var t=qy(),e=aG(),r=HC(),n=HAe();return NE=n||t.call(r,e),NE}var TE,Y8;function KAe(){if(Y8)return TE;Y8=1;var t=qy(),e=Vy(),r=HC(),n=GAe();return TE=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(t,r,s)},TE}var PE,X8;function YAe(){if(X8)return PE;X8=1;var t=KAe(),e=zy(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return PE=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(o){return s(o==null?o:i(o))}:!1,PE}var CE,J8;function XAe(){if(J8)return CE;J8=1;var t=iG(),e=sG(),r=YAe();return CE=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,CE}var kE,Q8;function JAe(){if(Q8)return kE;Q8=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=qy();return kE=r.call(t,e),kE}var IE,Z8;function GC(){if(Z8)return IE;Z8=1;var t,e=rG(),r=kAe(),n=IAe(),i=jAe(),s=OAe(),a=nG(),o=Vy(),l=RAe(),c=LAe(),u=DAe(),h=MAe(),p=FAe(),f=BAe(),y=UAe(),g=VAe(),w=Function,m=function(te){try{return w('"use strict"; return ('+te+").constructor;")()}catch{}},v=zy(),x=H2(),E=function(){throw new o},N=v?function(){try{return arguments.callee,E}catch{try{return v(arguments,"callee").get}catch{return E}}}():E,C=qAe()(),P=XAe(),k=sG(),T=iG(),q=aG(),M=HC(),A={},I=typeof Uint8Array>"u"||!P?t:P(Uint8Array),j={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":C&&P?P([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":A,"%AsyncGenerator%":A,"%AsyncGeneratorFunction%":A,"%AsyncIteratorPrototype%":A,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":A,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":C&&P?P(P([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!C||!P?t:P(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":v,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!C||!P?t:P(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":C&&P?P(""[Symbol.iterator]()):t,"%Symbol%":C?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":N,"%TypedArray%":I,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":M,"%Function.prototype.apply%":q,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":k,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":h,"%Math.min%":p,"%Math.pow%":f,"%Math.round%":y,"%Math.sign%":g,"%Reflect.getPrototypeOf%":T};if(P)try{null.error}catch(te){var ne=P(P(te));j["%Error.prototype%"]=ne}var pe=function te(ae){var Z;if(ae==="%AsyncFunction%")Z=m("async function () {}");else if(ae==="%GeneratorFunction%")Z=m("function* () {}");else if(ae==="%AsyncGeneratorFunction%")Z=m("async function* () {}");else if(ae==="%AsyncGenerator%"){var ee=te("%AsyncGeneratorFunction%");ee&&(Z=ee.prototype)}else if(ae==="%AsyncIteratorPrototype%"){var _e=te("%AsyncGenerator%");_e&&P&&(Z=P(_e.prototype))}return j[ae]=Z,Z},X={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ce=qy(),ue=JAe(),xe=ce.call(M,Array.prototype.concat),we=ce.call(q,Array.prototype.splice),F=ce.call(M,String.prototype.replace),J=ce.call(M,String.prototype.slice),se=ce.call(M,RegExp.prototype.exec),he=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Q=/\\(\\)?/g,$=function(ae){var Z=J(ae,0,1),ee=J(ae,-1);if(Z==="%"&&ee!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(ee==="%"&&Z!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var _e=[];return F(ae,he,function(H,ve,B,O){_e[_e.length]=B?F(O,Q,"$1"):ve||H}),_e},V=function(ae,Z){var ee=ae,_e;if(ue(X,ee)&&(_e=X[ee],ee="%"+_e[0]+"%"),ue(j,ee)){var H=j[ee];if(H===A&&(H=pe(ee)),typeof H>"u"&&!Z)throw new o("intrinsic "+ae+" exists, but is not available. Please file an issue!");return{alias:_e,name:ee,value:H}}throw new a("intrinsic "+ae+" does not exist!")};return IE=function(ae,Z){if(typeof ae!="string"||ae.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Z!="boolean")throw new o('"allowMissing" argument must be a boolean');if(se(/^%?[^%]*%?$/,ae)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ee=$(ae),_e=ee.length>0?ee[0]:"",H=V("%"+_e+"%",Z),ve=H.name,B=H.value,O=!1,L=H.alias;L&&(_e=L[0],we(ee,xe([0,1],L)));for(var W=1,G=!0;W<ee.length;W+=1){var ie=ee[W],re=J(ie,0,1),Ae=J(ie,-1);if((re==='"'||re==="'"||re==="`"||Ae==='"'||Ae==="'"||Ae==="`")&&re!==Ae)throw new a("property names with quotes must have matching quotes");if((ie==="constructor"||!G)&&(O=!0),_e+="."+ie,ve="%"+_e+"%",ue(j,ve))B=j[ve];else if(B!=null){if(!(ie in B)){if(!Z)throw new o("base intrinsic for "+ae+" exists, but the property is not available.");return}if(v&&W+1>=ee.length){var Ne=v(B,ie);G=!!Ne,G&&"get"in Ne&&!("originalValue"in Ne.get)?B=Ne.get:B=B[ie]}else G=ue(B,ie),B=B[ie];G&&!O&&(j[ve]=B)}}return B},IE}var jE={exports:{}},OE,eD;function QAe(){if(eD)return OE;eD=1;var t=H2(),e=nG(),r=Vy(),n=zy();return OE=function(s,a,o){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,h=arguments.length>6?arguments[6]:!1,p=!!n&&n(s,a);if(t)t(s,a,{configurable:u===null&&p?p.configurable:!u,enumerable:l===null&&p?p.enumerable:!l,value:o,writable:c===null&&p?p.writable:!c});else if(h||!l&&!c&&!u)s[a]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},OE}var RE,tD;function ZAe(){if(tD)return RE;tD=1;var t=H2(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},RE=e,RE}var LE,rD;function eSe(){if(rD)return LE;rD=1;var t=GC(),e=QAe(),r=ZAe()(),n=zy(),i=Vy(),s=t("%Math.floor%");return LE=function(o,l){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,h=!0;if("length"in o&&n){var p=n(o,"length");p&&!p.configurable&&(u=!1),p&&!p.writable&&(h=!1)}return(u||h||!c)&&(r?e(o,"length",l,!0,!0):e(o,"length",l)),o},LE}var nD;function oG(){return nD||(nD=1,function(t){var e=qy(),r=GC(),n=eSe(),i=Vy(),s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(a,s),l=H2(),c=r("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var f=o(e,a,arguments);return n(f,1+c(0,p.length-(arguments.length-1)),!0)};var u=function(){return o(e,s,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u}(jE)),jE.exports}var DE,iD;function lG(){if(iD)return DE;iD=1;var t=GC(),e=oG(),r=e(t("String.prototype.indexOf"));return DE=function(i,s){var a=t(i,!!s);return typeof a=="function"&&r(i,".prototype.")>-1?e(a):a},DE}var ME,sD;function tSe(){if(sD)return ME;sD=1;var t=WC()(),e=lG(),r=e("Object.prototype.toString"),n=function(o){return t&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,ME=s?n:i,ME}var FE,aD;function rSe(){if(aD)return FE;aD=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=WC()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return FE=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!n){var c=t.call(l);return c==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var u=s();a=u?i(u):!1}return i(l)===a},FE}var BE,oD;function nSe(){if(oD)return BE;oD=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(v){v!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(x){try{var E=t.call(x);return i.test(E)}catch{return!1}},a=function(x){try{return s(x)?!1:(t.call(x),!0)}catch{return!1}},o=Object.prototype.toString,l="[object Object]",c="[object Function]",u="[object GeneratorFunction]",h="[object HTMLAllCollection]",p="[object HTML document.all class]",f="[object HTMLCollection]",y=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var m=document.all;o.call(m)===o.call(document.all)&&(w=function(x){if((g||!x)&&(typeof x>"u"||typeof x=="object"))try{var E=o.call(x);return(E===h||E===p||E===f||E===l)&&x("")==null}catch{}return!1})}return BE=e?function(x){if(w(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;try{e(x,null,r)}catch(E){if(E!==n)return!1}return!s(x)&&a(x)}:function(x){if(w(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;if(y)return a(x);if(s(x))return!1;var E=o.call(x);return E!==c&&E!==u&&!/^\[object HTML/.test(E)?!1:a(x)},BE}var UE,lD;function iSe(){if(lD)return UE;lD=1;var t=nSe(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,c,u){for(var h=0,p=l.length;h<p;h++)r.call(l,h)&&(u==null?c(l[h],h,l):c.call(u,l[h],h,l))},i=function(l,c,u){for(var h=0,p=l.length;h<p;h++)u==null?c(l.charAt(h),h,l):c.call(u,l.charAt(h),h,l)},s=function(l,c,u){for(var h in l)r.call(l,h)&&(u==null?c(l[h],h,l):c.call(u,l[h],h,l))},a=function(l,c,u){if(!t(c))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=u),e.call(l)==="[object Array]"?n(l,c,h):typeof l=="string"?i(l,c,h):s(l,c,h)};return UE=a,UE}var $E,cD;function sSe(){return cD||(cD=1,$E=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),$E}var VE,uD;function aSe(){if(uD)return VE;uD=1;var t=sSe(),e=typeof globalThis>"u"?al:globalThis;return VE=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},VE}var zE,dD;function cG(){if(dD)return zE;dD=1;var t=iSe(),e=aSe(),r=oG(),n=lG(),i=zy(),s=n("Object.prototype.toString"),a=WC()(),o=typeof globalThis>"u"?al:globalThis,l=e(),c=n("String.prototype.slice"),u=Object.getPrototypeOf,h=n("Array.prototype.indexOf",!0)||function(w,m){for(var v=0;v<w.length;v+=1)if(w[v]===m)return v;return-1},p={__proto__:null};a&&i&&u?t(l,function(g){var w=new o[g];if(Symbol.toStringTag in w){var m=u(w),v=i(m,Symbol.toStringTag);if(!v){var x=u(m);v=i(x,Symbol.toStringTag)}p["$"+g]=r(v.get)}}):t(l,function(g){var w=new o[g],m=w.slice||w.set;m&&(p["$"+g]=r(m))});var f=function(w){var m=!1;return t(p,function(v,x){if(!m)try{"$"+v(w)===x&&(m=c(x,1))}catch{}}),m},y=function(w){var m=!1;return t(p,function(v,x){if(!m)try{v(w),m=c(x,1)}catch{}}),m};return zE=function(w){if(!w||typeof w!="object")return!1;if(!a){var m=c(s(w),8,-1);return h(l,m)>-1?m:m!=="Object"?!1:y(w)}return i?f(w):null},zE}var qE,hD;function oSe(){if(hD)return qE;hD=1;var t=cG();return qE=function(r){return!!t(r)},qE}var fD;function lSe(){return fD||(fD=1,function(t){var e=tSe(),r=rSe(),n=cG(),i=oSe();function s(W){return W.call.bind(W)}var a=typeof BigInt<"u",o=typeof Symbol<"u",l=s(Object.prototype.toString),c=s(Number.prototype.valueOf),u=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(a)var p=s(BigInt.prototype.valueOf);if(o)var f=s(Symbol.prototype.valueOf);function y(W,G){if(typeof W!="object")return!1;try{return G(W),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function g(W){return typeof Promise<"u"&&W instanceof Promise||W!==null&&typeof W=="object"&&typeof W.then=="function"&&typeof W.catch=="function"}t.isPromise=g;function w(W){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(W):i(W)||J(W)}t.isArrayBufferView=w;function m(W){return n(W)==="Uint8Array"}t.isUint8Array=m;function v(W){return n(W)==="Uint8ClampedArray"}t.isUint8ClampedArray=v;function x(W){return n(W)==="Uint16Array"}t.isUint16Array=x;function E(W){return n(W)==="Uint32Array"}t.isUint32Array=E;function N(W){return n(W)==="Int8Array"}t.isInt8Array=N;function C(W){return n(W)==="Int16Array"}t.isInt16Array=C;function P(W){return n(W)==="Int32Array"}t.isInt32Array=P;function k(W){return n(W)==="Float32Array"}t.isFloat32Array=k;function T(W){return n(W)==="Float64Array"}t.isFloat64Array=T;function q(W){return n(W)==="BigInt64Array"}t.isBigInt64Array=q;function M(W){return n(W)==="BigUint64Array"}t.isBigUint64Array=M;function A(W){return l(W)==="[object Map]"}A.working=typeof Map<"u"&&A(new Map);function I(W){return typeof Map>"u"?!1:A.working?A(W):W instanceof Map}t.isMap=I;function j(W){return l(W)==="[object Set]"}j.working=typeof Set<"u"&&j(new Set);function ne(W){return typeof Set>"u"?!1:j.working?j(W):W instanceof Set}t.isSet=ne;function pe(W){return l(W)==="[object WeakMap]"}pe.working=typeof WeakMap<"u"&&pe(new WeakMap);function X(W){return typeof WeakMap>"u"?!1:pe.working?pe(W):W instanceof WeakMap}t.isWeakMap=X;function ce(W){return l(W)==="[object WeakSet]"}ce.working=typeof WeakSet<"u"&&ce(new WeakSet);function ue(W){return ce(W)}t.isWeakSet=ue;function xe(W){return l(W)==="[object ArrayBuffer]"}xe.working=typeof ArrayBuffer<"u"&&xe(new ArrayBuffer);function we(W){return typeof ArrayBuffer>"u"?!1:xe.working?xe(W):W instanceof ArrayBuffer}t.isArrayBuffer=we;function F(W){return l(W)==="[object DataView]"}F.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&F(new DataView(new ArrayBuffer(1),0,1));function J(W){return typeof DataView>"u"?!1:F.working?F(W):W instanceof DataView}t.isDataView=J;var se=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function he(W){return l(W)==="[object SharedArrayBuffer]"}function Q(W){return typeof se>"u"?!1:(typeof he.working>"u"&&(he.working=he(new se)),he.working?he(W):W instanceof se)}t.isSharedArrayBuffer=Q;function $(W){return l(W)==="[object AsyncFunction]"}t.isAsyncFunction=$;function V(W){return l(W)==="[object Map Iterator]"}t.isMapIterator=V;function te(W){return l(W)==="[object Set Iterator]"}t.isSetIterator=te;function ae(W){return l(W)==="[object Generator]"}t.isGeneratorObject=ae;function Z(W){return l(W)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Z;function ee(W){return y(W,c)}t.isNumberObject=ee;function _e(W){return y(W,u)}t.isStringObject=_e;function H(W){return y(W,h)}t.isBooleanObject=H;function ve(W){return a&&y(W,p)}t.isBigIntObject=ve;function B(W){return o&&y(W,f)}t.isSymbolObject=B;function O(W){return ee(W)||_e(W)||H(W)||ve(W)||B(W)}t.isBoxedPrimitive=O;function L(W){return typeof Uint8Array<"u"&&(we(W)||Q(W))}t.isAnyArrayBuffer=L,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(W){Object.defineProperty(t,W,{enumerable:!1,value:function(){throw new Error(W+" is not supported in userland")}})})}(X_)),X_}var WE,pD;function cSe(){return pD||(pD=1,WE=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),WE}var mD;function uG(){return mD||(mD=1,function(t){var e=Object.getOwnPropertyDescriptors||function(J){for(var se=Object.keys(J),he={},Q=0;Q<se.length;Q++)he[se[Q]]=Object.getOwnPropertyDescriptor(J,se[Q]);return he},r=/%[sdj%]/g;t.format=function(F){if(!N(F)){for(var J=[],se=0;se<arguments.length;se++)J.push(a(arguments[se]));return J.join(" ")}for(var se=1,he=arguments,Q=he.length,$=String(F).replace(r,function(te){if(te==="%%")return"%";if(se>=Q)return te;switch(te){case"%s":return String(he[se++]);case"%d":return Number(he[se++]);case"%j":try{return JSON.stringify(he[se++])}catch{return"[Circular]"}default:return te}}),V=he[se];se<Q;V=he[++se])v(V)||!T(V)?$+=" "+V:$+=" "+a(V);return $},t.deprecate=function(F,J){if(typeof Ut<"u"&&Ut.noDeprecation===!0)return F;if(typeof Ut>"u")return function(){return t.deprecate(F,J).apply(this,arguments)};var se=!1;function he(){if(!se){if(Ut.throwDeprecation)throw new Error(J);Ut.traceDeprecation?console.trace(J):console.error(J),se=!0}return F.apply(this,arguments)}return he};var n={},i=/^$/;if(Ut.env.NODE_DEBUG){var s=Ut.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(F){if(F=F.toUpperCase(),!n[F])if(i.test(F)){var J=Ut.pid;n[F]=function(){var se=t.format.apply(t,arguments);console.error("%s %d: %s",F,J,se)}}else n[F]=function(){};return n[F]};function a(F,J){var se={seen:[],stylize:l};return arguments.length>=3&&(se.depth=arguments[2]),arguments.length>=4&&(se.colors=arguments[3]),m(J)?se.showHidden=J:J&&t._extend(se,J),P(se.showHidden)&&(se.showHidden=!1),P(se.depth)&&(se.depth=2),P(se.colors)&&(se.colors=!1),P(se.customInspect)&&(se.customInspect=!0),se.colors&&(se.stylize=o),u(se,F,se.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(F,J){var se=a.styles[J];return se?"\x1B["+a.colors[se][0]+"m"+F+"\x1B["+a.colors[se][1]+"m":F}function l(F,J){return F}function c(F){var J={};return F.forEach(function(se,he){J[se]=!0}),J}function u(F,J,se){if(F.customInspect&&J&&A(J.inspect)&&J.inspect!==t.inspect&&!(J.constructor&&J.constructor.prototype===J)){var he=J.inspect(se,F);return N(he)||(he=u(F,he,se)),he}var Q=h(F,J);if(Q)return Q;var $=Object.keys(J),V=c($);if(F.showHidden&&($=Object.getOwnPropertyNames(J)),M(J)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return p(J);if($.length===0){if(A(J)){var te=J.name?": "+J.name:"";return F.stylize("[Function"+te+"]","special")}if(k(J))return F.stylize(RegExp.prototype.toString.call(J),"regexp");if(q(J))return F.stylize(Date.prototype.toString.call(J),"date");if(M(J))return p(J)}var ae="",Z=!1,ee=["{","}"];if(w(J)&&(Z=!0,ee=["[","]"]),A(J)){var _e=J.name?": "+J.name:"";ae=" [Function"+_e+"]"}if(k(J)&&(ae=" "+RegExp.prototype.toString.call(J)),q(J)&&(ae=" "+Date.prototype.toUTCString.call(J)),M(J)&&(ae=" "+p(J)),$.length===0&&(!Z||J.length==0))return ee[0]+ae+ee[1];if(se<0)return k(J)?F.stylize(RegExp.prototype.toString.call(J),"regexp"):F.stylize("[Object]","special");F.seen.push(J);var H;return Z?H=f(F,J,se,V,$):H=$.map(function(ve){return y(F,J,se,V,ve,Z)}),F.seen.pop(),g(H,ae,ee)}function h(F,J){if(P(J))return F.stylize("undefined","undefined");if(N(J)){var se="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(se,"string")}if(E(J))return F.stylize(""+J,"number");if(m(J))return F.stylize(""+J,"boolean");if(v(J))return F.stylize("null","null")}function p(F){return"["+Error.prototype.toString.call(F)+"]"}function f(F,J,se,he,Q){for(var $=[],V=0,te=J.length;V<te;++V)ce(J,String(V))?$.push(y(F,J,se,he,String(V),!0)):$.push("");return Q.forEach(function(ae){ae.match(/^\d+$/)||$.push(y(F,J,se,he,ae,!0))}),$}function y(F,J,se,he,Q,$){var V,te,ae;if(ae=Object.getOwnPropertyDescriptor(J,Q)||{value:J[Q]},ae.get?ae.set?te=F.stylize("[Getter/Setter]","special"):te=F.stylize("[Getter]","special"):ae.set&&(te=F.stylize("[Setter]","special")),ce(he,Q)||(V="["+Q+"]"),te||(F.seen.indexOf(ae.value)<0?(v(se)?te=u(F,ae.value,null):te=u(F,ae.value,se-1),te.indexOf(`
`)>-1&&($?te=te.split(`
`).map(function(Z){return"  "+Z}).join(`
`).slice(2):te=`
`+te.split(`
`).map(function(Z){return"   "+Z}).join(`
`))):te=F.stylize("[Circular]","special")),P(V)){if($&&Q.match(/^\d+$/))return te;V=JSON.stringify(""+Q),V.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.slice(1,-1),V=F.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=F.stylize(V,"string"))}return V+": "+te}function g(F,J,se){var he=F.reduce(function(Q,$){return $.indexOf(`
`)>=0,Q+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return he>60?se[0]+(J===""?"":J+`
 `)+" "+F.join(`,
  `)+" "+se[1]:se[0]+J+" "+F.join(", ")+" "+se[1]}t.types=lSe();function w(F){return Array.isArray(F)}t.isArray=w;function m(F){return typeof F=="boolean"}t.isBoolean=m;function v(F){return F===null}t.isNull=v;function x(F){return F==null}t.isNullOrUndefined=x;function E(F){return typeof F=="number"}t.isNumber=E;function N(F){return typeof F=="string"}t.isString=N;function C(F){return typeof F=="symbol"}t.isSymbol=C;function P(F){return F===void 0}t.isUndefined=P;function k(F){return T(F)&&j(F)==="[object RegExp]"}t.isRegExp=k,t.types.isRegExp=k;function T(F){return typeof F=="object"&&F!==null}t.isObject=T;function q(F){return T(F)&&j(F)==="[object Date]"}t.isDate=q,t.types.isDate=q;function M(F){return T(F)&&(j(F)==="[object Error]"||F instanceof Error)}t.isError=M,t.types.isNativeError=M;function A(F){return typeof F=="function"}t.isFunction=A;function I(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}t.isPrimitive=I,t.isBuffer=cSe();function j(F){return Object.prototype.toString.call(F)}function ne(F){return F<10?"0"+F.toString(10):F.toString(10)}var pe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function X(){var F=new Date,J=[ne(F.getHours()),ne(F.getMinutes()),ne(F.getSeconds())].join(":");return[F.getDate(),pe[F.getMonth()],J].join(" ")}t.log=function(){console.log("%s - %s",X(),t.format.apply(t,arguments))},t.inherits=Td(),t._extend=function(F,J){if(!J||!T(J))return F;for(var se=Object.keys(J),he=se.length;he--;)F[se[he]]=J[se[he]];return F};function ce(F,J){return Object.prototype.hasOwnProperty.call(F,J)}var ue=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');if(ue&&J[ue]){var se=J[ue];if(typeof se!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(se,ue,{value:se,enumerable:!1,writable:!1,configurable:!0}),se}function se(){for(var he,Q,$=new Promise(function(ae,Z){he=ae,Q=Z}),V=[],te=0;te<arguments.length;te++)V.push(arguments[te]);V.push(function(ae,Z){ae?Q(ae):he(Z)});try{J.apply(this,V)}catch(ae){Q(ae)}return $}return Object.setPrototypeOf(se,Object.getPrototypeOf(J)),ue&&Object.defineProperty(se,ue,{value:se,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(se,e(J))},t.promisify.custom=ue;function xe(F,J){if(!F){var se=new Error("Promise was rejected with a falsy value");se.reason=F,F=se}return J(F)}function we(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');function J(){for(var se=[],he=0;he<arguments.length;he++)se.push(arguments[he]);var Q=se.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var $=this,V=function(){return Q.apply($,arguments)};F.apply(this,se).then(function(te){Ut.nextTick(V.bind(null,null,te))},function(te){Ut.nextTick(xe.bind(null,te,V))})}return Object.setPrototypeOf(J,Object.getPrototypeOf(F)),Object.defineProperties(J,e(F)),J}t.callbackify=we}(Y_)),Y_}var HE,gD;function uSe(){if(gD)return HE;gD=1;function t(p,f){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(p);f&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable})),y.push.apply(y,g)}return y}function e(p){for(var f=1;f<arguments.length;f++){var y=arguments[f]!=null?arguments[f]:{};f%2?t(Object(y),!0).forEach(function(g){r(p,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):t(Object(y)).forEach(function(g){Object.defineProperty(p,g,Object.getOwnPropertyDescriptor(y,g))})}return p}function r(p,f,y){return f in p?Object.defineProperty(p,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[f]=y,p}function n(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}function i(p,f){for(var y=0;y<f.length;y++){var g=f[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function s(p,f,y){return f&&i(p.prototype,f),p}var a=W2(),o=a.Buffer,l=uG(),c=l.inspect,u=c&&c.custom||"inspect";function h(p,f,y){o.prototype.copy.call(p,f,y)}return HE=function(){function p(){n(this,p),this.head=null,this.tail=null,this.length=0}return s(p,[{key:"push",value:function(y){var g={data:y,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(y){var g={data:y,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var g=this.head,w=""+g.data;g=g.next;)w+=y+g.data;return w}},{key:"concat",value:function(y){if(this.length===0)return o.alloc(0);for(var g=o.allocUnsafe(y>>>0),w=this.head,m=0;w;)h(w.data,g,m),m+=w.data.length,w=w.next;return g}},{key:"consume",value:function(y,g){var w;return y<this.head.data.length?(w=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?w=this.shift():w=g?this._getString(y):this._getBuffer(y),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var g=this.head,w=1,m=g.data;for(y-=m.length;g=g.next;){var v=g.data,x=y>v.length?v.length:y;if(x===v.length?m+=v:m+=v.slice(0,y),y-=x,y===0){x===v.length?(++w,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=v.slice(x));break}++w}return this.length-=w,m}},{key:"_getBuffer",value:function(y){var g=o.allocUnsafe(y),w=this.head,m=1;for(w.data.copy(g),y-=w.data.length;w=w.next;){var v=w.data,x=y>v.length?v.length:y;if(v.copy(g,g.length-y,0,x),y-=x,y===0){x===v.length?(++m,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=v.slice(x));break}++m}return this.length-=m,g}},{key:u,value:function(y,g){return c(this,e({},g,{depth:0,customInspect:!1}))}}]),p}(),HE}var GE,yD;function dG(){if(yD)return GE;yD=1;function t(a,o){var l=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ut.nextTick(i,this,a)):Ut.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!o&&h?l._writableState?l._writableState.errorEmitted?Ut.nextTick(r,l):(l._writableState.errorEmitted=!0,Ut.nextTick(e,l,h)):Ut.nextTick(e,l,h):o?(Ut.nextTick(r,l),o(h)):Ut.nextTick(r,l)}),this)}function e(a,o){i(a,o),r(a)}function r(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,o){a.emit("error",o)}function s(a,o){var l=a._readableState,c=a._writableState;l&&l.autoDestroy||c&&c.autoDestroy?a.destroy(o):a.emit("error",o)}return GE={destroy:t,undestroy:n,errorOrDestroy:s},GE}var KE={},vD;function qm(){if(vD)return KE;vD=1;function t(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var e={};function r(o,l,c){c||(c=Error);function u(p,f,y){return typeof l=="string"?l:l(p,f,y)}var h=function(p){t(f,p);function f(y,g,w){return p.call(this,u(y,g,w))||this}return f}(c);h.prototype.name=c.name,h.prototype.code=o,e[o]=h}function n(o,l){if(Array.isArray(o)){var c=o.length;return o=o.map(function(u){return String(u)}),c>2?"one of ".concat(l," ").concat(o.slice(0,c-1).join(", "),", or ")+o[c-1]:c===2?"one of ".concat(l," ").concat(o[0]," or ").concat(o[1]):"of ".concat(l," ").concat(o[0])}else return"of ".concat(l," ").concat(String(o))}function i(o,l,c){return o.substr(0,l.length)===l}function s(o,l,c){return(c===void 0||c>o.length)&&(c=o.length),o.substring(c-l.length,c)===l}function a(o,l,c){return typeof c!="number"&&(c=0),c+l.length>o.length?!1:o.indexOf(l,c)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,l){return'The value "'+l+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,l,c){var u;typeof l=="string"&&i(l,"not ")?(u="must not be",l=l.replace(/^not /,"")):u="must be";var h;if(s(o," argument"))h="The ".concat(o," ").concat(u," ").concat(n(l,"type"));else{var p=a(o,".")?"property":"argument";h='The "'.concat(o,'" ').concat(p," ").concat(u," ").concat(n(l,"type"))}return h+=". Received type ".concat(typeof c),h},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),KE.codes=e,KE}var YE,wD;function hG(){if(wD)return YE;wD=1;var t=qm().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,a){var o=e(i,a,s);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var l=a?s:"highWaterMark";throw new t(l,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return YE={getHighWaterMark:r},YE}var XE,bD;function dSe(){if(bD)return XE;bD=1,XE=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!al.localStorage)return!1}catch{return!1}var n=al.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return XE}var JE,xD;function fG(){if(xD)return JE;xD=1,JE=k;function t(Q){var $=this;this.next=null,this.entry=null,this.finish=function(){he($,Q)}}var e;k.WritableState=C;var r={deprecate:dSe()},n=eG(),i=W2().Buffer,s=al.Uint8Array||function(){};function a(Q){return i.from(Q)}function o(Q){return i.isBuffer(Q)||Q instanceof s}var l=dG(),c=hG(),u=c.getHighWaterMark,h=qm().codes,p=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,w=h.ERR_STREAM_DESTROYED,m=h.ERR_STREAM_NULL_VALUES,v=h.ERR_STREAM_WRITE_AFTER_END,x=h.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;Td()(k,n);function N(){}function C(Q,$,V){e=e||fm(),Q=Q||{},typeof V!="boolean"&&(V=$ instanceof e),this.objectMode=!!Q.objectMode,V&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=u(this,Q,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=Q.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ae){pe($,ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}C.prototype.getBuffer=function(){for(var $=this.bufferedRequest,V=[];$;)V.push($),$=$.next;return V},function(){try{Object.defineProperty(C.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var P;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function($){return P.call(this,$)?!0:this!==k?!1:$&&$._writableState instanceof C}})):P=function($){return $ instanceof this};function k(Q){e=e||fm();var $=this instanceof e;if(!$&&!P.call(k,this))return new k(Q);this._writableState=new C(Q,this,$),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),n.call(this)}k.prototype.pipe=function(){E(this,new g)};function T(Q,$){var V=new v;E(Q,V),Ut.nextTick($,V)}function q(Q,$,V,te){var ae;return V===null?ae=new m:typeof V!="string"&&!$.objectMode&&(ae=new p("chunk",["string","Buffer"],V)),ae?(E(Q,ae),Ut.nextTick(te,ae),!1):!0}k.prototype.write=function(Q,$,V){var te=this._writableState,ae=!1,Z=!te.objectMode&&o(Q);return Z&&!i.isBuffer(Q)&&(Q=a(Q)),typeof $=="function"&&(V=$,$=null),Z?$="buffer":$||($=te.defaultEncoding),typeof V!="function"&&(V=N),te.ending?T(this,V):(Z||q(this,te,Q,V))&&(te.pendingcb++,ae=A(this,te,Z,Q,$,V)),ae},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,!Q.writing&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&ue(this,Q))},k.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new x($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function M(Q,$,V){return!Q.objectMode&&Q.decodeStrings!==!1&&typeof $=="string"&&($=i.from($,V)),$}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function A(Q,$,V,te,ae,Z){if(!V){var ee=M($,te,ae);te!==ee&&(V=!0,ae="buffer",te=ee)}var _e=$.objectMode?1:te.length;$.length+=_e;var H=$.length<$.highWaterMark;if(H||($.needDrain=!0),$.writing||$.corked){var ve=$.lastBufferedRequest;$.lastBufferedRequest={chunk:te,encoding:ae,isBuf:V,callback:Z,next:null},ve?ve.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else I(Q,$,!1,_e,te,ae,Z);return H}function I(Q,$,V,te,ae,Z,ee){$.writelen=te,$.writecb=ee,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new w("write")):V?Q._writev(ae,$.onwrite):Q._write(ae,Z,$.onwrite),$.sync=!1}function j(Q,$,V,te,ae){--$.pendingcb,V?(Ut.nextTick(ae,te),Ut.nextTick(J,Q,$),Q._writableState.errorEmitted=!0,E(Q,te)):(ae(te),Q._writableState.errorEmitted=!0,E(Q,te),J(Q,$))}function ne(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function pe(Q,$){var V=Q._writableState,te=V.sync,ae=V.writecb;if(typeof ae!="function")throw new y;if(ne(V),$)j(Q,V,te,$,ae);else{var Z=xe(V)||Q.destroyed;!Z&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&ue(Q,V),te?Ut.nextTick(X,Q,V,Z,ae):X(Q,V,Z,ae)}}function X(Q,$,V,te){V||ce(Q,$),$.pendingcb--,te(),J(Q,$)}function ce(Q,$){$.length===0&&$.needDrain&&($.needDrain=!1,Q.emit("drain"))}function ue(Q,$){$.bufferProcessing=!0;var V=$.bufferedRequest;if(Q._writev&&V&&V.next){var te=$.bufferedRequestCount,ae=new Array(te),Z=$.corkedRequestsFree;Z.entry=V;for(var ee=0,_e=!0;V;)ae[ee]=V,V.isBuf||(_e=!1),V=V.next,ee+=1;ae.allBuffers=_e,I(Q,$,!0,$.length,ae,"",Z.finish),$.pendingcb++,$.lastBufferedRequest=null,Z.next?($.corkedRequestsFree=Z.next,Z.next=null):$.corkedRequestsFree=new t($),$.bufferedRequestCount=0}else{for(;V;){var H=V.chunk,ve=V.encoding,B=V.callback,O=$.objectMode?1:H.length;if(I(Q,$,!1,O,H,ve,B),V=V.next,$.bufferedRequestCount--,$.writing)break}V===null&&($.lastBufferedRequest=null)}$.bufferedRequest=V,$.bufferProcessing=!1}k.prototype._write=function(Q,$,V){V(new f("_write()"))},k.prototype._writev=null,k.prototype.end=function(Q,$,V){var te=this._writableState;return typeof Q=="function"?(V=Q,Q=null,$=null):typeof $=="function"&&(V=$,$=null),Q!=null&&this.write(Q,$),te.corked&&(te.corked=1,this.uncork()),te.ending||se(this,te,V),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function xe(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function we(Q,$){Q._final(function(V){$.pendingcb--,V&&E(Q,V),$.prefinished=!0,Q.emit("prefinish"),J(Q,$)})}function F(Q,$){!$.prefinished&&!$.finalCalled&&(typeof Q._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,Ut.nextTick(we,Q,$)):($.prefinished=!0,Q.emit("prefinish")))}function J(Q,$){var V=xe($);if(V&&(F(Q,$),$.pendingcb===0&&($.finished=!0,Q.emit("finish"),$.autoDestroy))){var te=Q._readableState;(!te||te.autoDestroy&&te.endEmitted)&&Q.destroy()}return V}function se(Q,$,V){$.ending=!0,J(Q,$),V&&($.finished?Ut.nextTick(V):Q.once("finish",V)),$.ended=!0,Q.writable=!1}function he(Q,$,V){var te=Q.entry;for(Q.entry=null;te;){var ae=te.callback;$.pendingcb--,ae(V),te=te.next}$.corkedRequestsFree.next=Q}return Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),k.prototype.destroy=l.destroy,k.prototype._undestroy=l.undestroy,k.prototype._destroy=function(Q,$){$(Q)},JE}var QE,_D;function fm(){if(_D)return QE;_D=1;var t=Object.keys||function(c){var u=[];for(var h in c)u.push(h);return u};QE=a;var e=pG(),r=fG();Td()(a,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(c){if(!(this instanceof a))return new a(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||Ut.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),QE}var ZE={},u1={exports:{}},ED;function hSe(){return ED||(ED=1,function(t,e){var r=W2(),n=r.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(a,o,l){return n(a,o,l)}i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=n(a);return o!==void 0?typeof l=="string"?c.fill(o,l):c.fill(o):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}(u1,u1.exports)),u1.exports}var AD;function _4(){if(AD)return ZE;AD=1;var t=hSe().Buffer,e=t.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var v;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(v)return;m=(""+m).toLowerCase(),v=!0}}function n(m){var v=r(m);if(typeof v!="string"&&(t.isEncoding===e||!e(m)))throw new Error("Unknown encoding: "+m);return v||m}ZE.StringDecoder=i;function i(m){this.encoding=n(m);var v;switch(this.encoding){case"utf16le":this.text=h,this.end=p,v=4;break;case"utf8":this.fillLast=l,v=4;break;case"base64":this.text=f,this.end=y,v=3;break;default:this.write=g,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(v)}i.prototype.write=function(m){if(m.length===0)return"";var v,x;if(this.lastNeed){if(v=this.fillLast(m),v===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<m.length?v?v+this.text(m,x):this.text(m,x):v||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function s(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function a(m,v,x){var E=v.length-1;if(E<x)return 0;var N=s(v[E]);return N>=0?(N>0&&(m.lastNeed=N-1),N):--E<x||N===-2?0:(N=s(v[E]),N>=0?(N>0&&(m.lastNeed=N-2),N):--E<x||N===-2?0:(N=s(v[E]),N>=0?(N>0&&(N===2?N=0:m.lastNeed=N-3),N):0))}function o(m,v,x){if((v[0]&192)!==128)return m.lastNeed=0,"�";if(m.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return m.lastNeed=1,"�";if(m.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return m.lastNeed=2,"�"}}function l(m){var v=this.lastTotal-this.lastNeed,x=o(this,m);if(x!==void 0)return x;if(this.lastNeed<=m.length)return m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,v,0,m.length),this.lastNeed-=m.length}function c(m,v){var x=a(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=x;var E=m.length-(x-this.lastNeed);return m.copy(this.lastChar,0,E),m.toString("utf8",v,E)}function u(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"�":v}function h(m,v){if((m.length-v)%2===0){var x=m.toString("utf16le",v);if(x){var E=x.charCodeAt(x.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function p(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,x)}return v}function f(m,v){var x=(m.length-v)%3;return x===0?m.toString("base64",v):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-x))}function y(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(m){return m.toString(this.encoding)}function w(m){return m&&m.length?this.write(m):""}return ZE}var eA,SD;function KC(){if(SD)return eA;SD=1;var t=qm().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var a=!1;return function(){if(!a){a=!0;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,a,o){if(typeof a=="function")return i(s,null,a);a||(a={}),o=e(o||r);var l=a.readable||a.readable!==!1&&s.readable,c=a.writable||a.writable!==!1&&s.writable,u=function(){s.writable||p()},h=s._writableState&&s._writableState.finished,p=function(){c=!1,h=!0,l||o.call(s)},f=s._readableState&&s._readableState.endEmitted,y=function(){l=!1,f=!0,c||o.call(s)},g=function(x){o.call(s,x)},w=function(){var x;if(l&&!f)return(!s._readableState||!s._readableState.ended)&&(x=new t),o.call(s,x);if(c&&!h)return(!s._writableState||!s._writableState.ended)&&(x=new t),o.call(s,x)},m=function(){s.req.on("finish",p)};return n(s)?(s.on("complete",p),s.on("abort",w),s.req?m():s.on("request",m)):c&&!s._writableState&&(s.on("end",u),s.on("close",u)),s.on("end",y),s.on("finish",p),a.error!==!1&&s.on("error",g),s.on("close",w),function(){s.removeListener("complete",p),s.removeListener("abort",w),s.removeListener("request",m),s.req&&s.req.removeListener("finish",p),s.removeListener("end",u),s.removeListener("close",u),s.removeListener("finish",p),s.removeListener("end",y),s.removeListener("error",g),s.removeListener("close",w)}}return eA=i,eA}var tA,ND;function fSe(){if(ND)return tA;ND=1;var t;function e(m,v,x){return v in m?Object.defineProperty(m,v,{value:x,enumerable:!0,configurable:!0,writable:!0}):m[v]=x,m}var r=KC(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),o=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(m,v){return{value:m,done:v}}function h(m){var v=m[n];if(v!==null){var x=m[c].read();x!==null&&(m[o]=null,m[n]=null,m[i]=null,v(u(x,!1)))}}function p(m){Ut.nextTick(h,m)}function f(m,v){return function(x,E){m.then(function(){if(v[a]){x(u(void 0,!0));return}v[l](x,E)},E)}}var y=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var v=this,x=this[s];if(x!==null)return Promise.reject(x);if(this[a])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise(function(P,k){Ut.nextTick(function(){v[s]?k(v[s]):P(u(void 0,!0))})});var E=this[o],N;if(E)N=new Promise(f(E,this));else{var C=this[c].read();if(C!==null)return Promise.resolve(u(C,!1));N=new Promise(this[l])}return this[o]=N,N}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var v=this;return new Promise(function(x,E){v[c].destroy(null,function(N){if(N){E(N);return}x(u(void 0,!0))})})}),t),y),w=function(v){var x,E=Object.create(g,(x={},e(x,c,{value:v,writable:!0}),e(x,n,{value:null,writable:!0}),e(x,i,{value:null,writable:!0}),e(x,s,{value:null,writable:!0}),e(x,a,{value:v._readableState.endEmitted,writable:!0}),e(x,l,{value:function(C,P){var k=E[c].read();k?(E[o]=null,E[n]=null,E[i]=null,C(u(k,!1))):(E[n]=C,E[i]=P)},writable:!0}),x));return E[o]=null,r(v,function(N){if(N&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"){var C=E[i];C!==null&&(E[o]=null,E[n]=null,E[i]=null,C(N)),E[s]=N;return}var P=E[n];P!==null&&(E[o]=null,E[n]=null,E[i]=null,P(u(void 0,!0))),E[a]=!0}),v.on("readable",p.bind(null,E)),E};return tA=w,tA}var rA,TD;function pSe(){return TD||(TD=1,rA=function(){throw new Error("Readable.from is not available in the browser")}),rA}var nA,PD;function pG(){if(PD)return nA;PD=1,nA=T;var t;T.ReadableState=k,qC().EventEmitter;var e=function(ee,_e){return ee.listeners(_e).length},r=eG(),n=W2().Buffer,i=al.Uint8Array||function(){};function s(Z){return n.from(Z)}function a(Z){return n.isBuffer(Z)||Z instanceof i}var o=uG(),l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var c=uSe(),u=dG(),h=hG(),p=h.getHighWaterMark,f=qm().codes,y=f.ERR_INVALID_ARG_TYPE,g=f.ERR_STREAM_PUSH_AFTER_EOF,w=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,x,E;Td()(T,r);var N=u.errorOrDestroy,C=["error","close","destroy","pause","resume"];function P(Z,ee,_e){if(typeof Z.prependListener=="function")return Z.prependListener(ee,_e);!Z._events||!Z._events[ee]?Z.on(ee,_e):Array.isArray(Z._events[ee])?Z._events[ee].unshift(_e):Z._events[ee]=[_e,Z._events[ee]]}function k(Z,ee,_e){t=t||fm(),Z=Z||{},typeof _e!="boolean"&&(_e=ee instanceof t),this.objectMode=!!Z.objectMode,_e&&(this.objectMode=this.objectMode||!!Z.readableObjectMode),this.highWaterMark=p(this,Z,"readableHighWaterMark",_e),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(v||(v=_4().StringDecoder),this.decoder=new v(Z.encoding),this.encoding=Z.encoding)}function T(Z){if(t=t||fm(),!(this instanceof T))return new T(Z);var ee=this instanceof t;this._readableState=new k(Z,this,ee),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),r.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ee){this._readableState&&(this._readableState.destroyed=ee)}}),T.prototype.destroy=u.destroy,T.prototype._undestroy=u.undestroy,T.prototype._destroy=function(Z,ee){ee(Z)},T.prototype.push=function(Z,ee){var _e=this._readableState,H;return _e.objectMode?H=!0:typeof Z=="string"&&(ee=ee||_e.defaultEncoding,ee!==_e.encoding&&(Z=n.from(Z,ee),ee=""),H=!0),q(this,Z,ee,!1,H)},T.prototype.unshift=function(Z){return q(this,Z,null,!0,!1)};function q(Z,ee,_e,H,ve){l("readableAddChunk",ee);var B=Z._readableState;if(ee===null)B.reading=!1,pe(Z,B);else{var O;if(ve||(O=A(B,ee)),O)N(Z,O);else if(B.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!B.objectMode&&Object.getPrototypeOf(ee)!==n.prototype&&(ee=s(ee)),H)B.endEmitted?N(Z,new m):M(Z,B,ee,!0);else if(B.ended)N(Z,new g);else{if(B.destroyed)return!1;B.reading=!1,B.decoder&&!_e?(ee=B.decoder.write(ee),B.objectMode||ee.length!==0?M(Z,B,ee,!1):ue(Z,B)):M(Z,B,ee,!1)}else H||(B.reading=!1,ue(Z,B))}return!B.ended&&(B.length<B.highWaterMark||B.length===0)}function M(Z,ee,_e,H){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,Z.emit("data",_e)):(ee.length+=ee.objectMode?1:_e.length,H?ee.buffer.unshift(_e):ee.buffer.push(_e),ee.needReadable&&X(Z)),ue(Z,ee)}function A(Z,ee){var _e;return!a(ee)&&typeof ee!="string"&&ee!==void 0&&!Z.objectMode&&(_e=new y("chunk",["string","Buffer","Uint8Array"],ee)),_e}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(Z){v||(v=_4().StringDecoder);var ee=new v(Z);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var _e=this._readableState.buffer.head,H="";_e!==null;)H+=ee.write(_e.data),_e=_e.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this};var I=1073741824;function j(Z){return Z>=I?Z=I:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function ne(Z,ee){return Z<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:Z!==Z?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(Z>ee.highWaterMark&&(ee.highWaterMark=j(Z)),Z<=ee.length?Z:ee.ended?ee.length:(ee.needReadable=!0,0))}T.prototype.read=function(Z){l("read",Z),Z=parseInt(Z,10);var ee=this._readableState,_e=Z;if(Z!==0&&(ee.emittedReadable=!1),Z===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return l("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?V(this):X(this),null;if(Z=ne(Z,ee),Z===0&&ee.ended)return ee.length===0&&V(this),null;var H=ee.needReadable;l("need readable",H),(ee.length===0||ee.length-Z<ee.highWaterMark)&&(H=!0,l("length less than watermark",H)),ee.ended||ee.reading?(H=!1,l("reading or ended",H)):H&&(l("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(Z=ne(_e,ee)));var ve;return Z>0?ve=$(Z,ee):ve=null,ve===null?(ee.needReadable=ee.length<=ee.highWaterMark,Z=0):(ee.length-=Z,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),_e!==Z&&ee.ended&&V(this)),ve!==null&&this.emit("data",ve),ve};function pe(Z,ee){if(l("onEofChunk"),!ee.ended){if(ee.decoder){var _e=ee.decoder.end();_e&&_e.length&&(ee.buffer.push(_e),ee.length+=ee.objectMode?1:_e.length)}ee.ended=!0,ee.sync?X(Z):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,ce(Z)))}}function X(Z){var ee=Z._readableState;l("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(l("emitReadable",ee.flowing),ee.emittedReadable=!0,Ut.nextTick(ce,Z))}function ce(Z){var ee=Z._readableState;l("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(Z.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,Q(Z)}function ue(Z,ee){ee.readingMore||(ee.readingMore=!0,Ut.nextTick(xe,Z,ee))}function xe(Z,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var _e=ee.length;if(l("maybeReadMore read 0"),Z.read(0),_e===ee.length)break}ee.readingMore=!1}T.prototype._read=function(Z){N(this,new w("_read()"))},T.prototype.pipe=function(Z,ee){var _e=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=Z;break;case 1:H.pipes=[H.pipes,Z];break;default:H.pipes.push(Z);break}H.pipesCount+=1,l("pipe count=%d opts=%j",H.pipesCount,ee);var ve=(!ee||ee.end!==!1)&&Z!==Ut.stdout&&Z!==Ut.stderr,B=ve?L:Ie;H.endEmitted?Ut.nextTick(B):_e.once("end",B),Z.on("unpipe",O);function O(Fe,Ke){l("onunpipe"),Fe===_e&&Ke&&Ke.hasUnpiped===!1&&(Ke.hasUnpiped=!0,ie())}function L(){l("onend"),Z.end()}var W=we(_e);Z.on("drain",W);var G=!1;function ie(){l("cleanup"),Z.removeListener("close",Ne),Z.removeListener("finish",Se),Z.removeListener("drain",W),Z.removeListener("error",Ae),Z.removeListener("unpipe",O),_e.removeListener("end",L),_e.removeListener("end",Ie),_e.removeListener("data",re),G=!0,H.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&W()}_e.on("data",re);function re(Fe){l("ondata");var Ke=Z.write(Fe);l("dest.write",Ke),Ke===!1&&((H.pipesCount===1&&H.pipes===Z||H.pipesCount>1&&ae(H.pipes,Z)!==-1)&&!G&&(l("false write response, pause",H.awaitDrain),H.awaitDrain++),_e.pause())}function Ae(Fe){l("onerror",Fe),Ie(),Z.removeListener("error",Ae),e(Z,"error")===0&&N(Z,Fe)}P(Z,"error",Ae);function Ne(){Z.removeListener("finish",Se),Ie()}Z.once("close",Ne);function Se(){l("onfinish"),Z.removeListener("close",Ne),Ie()}Z.once("finish",Se);function Ie(){l("unpipe"),_e.unpipe(Z)}return Z.emit("pipe",_e),H.flowing||(l("pipe resume"),_e.resume()),Z};function we(Z){return function(){var _e=Z._readableState;l("pipeOnDrain",_e.awaitDrain),_e.awaitDrain&&_e.awaitDrain--,_e.awaitDrain===0&&e(Z,"data")&&(_e.flowing=!0,Q(Z))}}T.prototype.unpipe=function(Z){var ee=this._readableState,_e={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return Z&&Z!==ee.pipes?this:(Z||(Z=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,Z&&Z.emit("unpipe",this,_e),this);if(!Z){var H=ee.pipes,ve=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var B=0;B<ve;B++)H[B].emit("unpipe",this,{hasUnpiped:!1});return this}var O=ae(ee.pipes,Z);return O===-1?this:(ee.pipes.splice(O,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),Z.emit("unpipe",this,_e),this)},T.prototype.on=function(Z,ee){var _e=r.prototype.on.call(this,Z,ee),H=this._readableState;return Z==="data"?(H.readableListening=this.listenerCount("readable")>0,H.flowing!==!1&&this.resume()):Z==="readable"&&!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,l("on readable",H.length,H.reading),H.length?X(this):H.reading||Ut.nextTick(J,this)),_e},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(Z,ee){var _e=r.prototype.removeListener.call(this,Z,ee);return Z==="readable"&&Ut.nextTick(F,this),_e},T.prototype.removeAllListeners=function(Z){var ee=r.prototype.removeAllListeners.apply(this,arguments);return(Z==="readable"||Z===void 0)&&Ut.nextTick(F,this),ee};function F(Z){var ee=Z._readableState;ee.readableListening=Z.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:Z.listenerCount("data")>0&&Z.resume()}function J(Z){l("readable nexttick read 0"),Z.read(0)}T.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(l("resume"),Z.flowing=!Z.readableListening,se(this,Z)),Z.paused=!1,this};function se(Z,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,Ut.nextTick(he,Z,ee))}function he(Z,ee){l("resume",ee.reading),ee.reading||Z.read(0),ee.resumeScheduled=!1,Z.emit("resume"),Q(Z),ee.flowing&&!ee.reading&&Z.read(0)}T.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Q(Z){var ee=Z._readableState;for(l("flow",ee.flowing);ee.flowing&&Z.read()!==null;);}T.prototype.wrap=function(Z){var ee=this,_e=this._readableState,H=!1;Z.on("end",function(){if(l("wrapped end"),_e.decoder&&!_e.ended){var O=_e.decoder.end();O&&O.length&&ee.push(O)}ee.push(null)}),Z.on("data",function(O){if(l("wrapped data"),_e.decoder&&(O=_e.decoder.write(O)),!(_e.objectMode&&O==null)&&!(!_e.objectMode&&(!O||!O.length))){var L=ee.push(O);L||(H=!0,Z.pause())}});for(var ve in Z)this[ve]===void 0&&typeof Z[ve]=="function"&&(this[ve]=function(L){return function(){return Z[L].apply(Z,arguments)}}(ve));for(var B=0;B<C.length;B++)Z.on(C[B],this.emit.bind(this,C[B]));return this._read=function(O){l("wrapped _read",O),H&&(H=!1,Z.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=fSe()),x(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}}),T._fromList=$,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(Z,ee){if(ee.length===0)return null;var _e;return ee.objectMode?_e=ee.buffer.shift():!Z||Z>=ee.length?(ee.decoder?_e=ee.buffer.join(""):ee.buffer.length===1?_e=ee.buffer.first():_e=ee.buffer.concat(ee.length),ee.buffer.clear()):_e=ee.buffer.consume(Z,ee.decoder),_e}function V(Z){var ee=Z._readableState;l("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,Ut.nextTick(te,ee,Z))}function te(Z,ee){if(l("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,ee.readable=!1,ee.emit("end"),Z.autoDestroy)){var _e=ee._writableState;(!_e||_e.autoDestroy&&_e.finished)&&ee.destroy()}}typeof Symbol=="function"&&(T.from=function(Z,ee){return E===void 0&&(E=pSe()),E(T,Z,ee)});function ae(Z,ee){for(var _e=0,H=Z.length;_e<H;_e++)if(Z[_e]===ee)return _e;return-1}return nA}var iA,CD;function mG(){if(CD)return iA;CD=1,iA=o;var t=qm().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=fm();Td()(o,s);function a(u,h){var p=this._transformState;p.transforming=!1;var f=p.writecb;if(f===null)return this.emit("error",new r);p.writechunk=null,p.writecb=null,h!=null&&this.push(h),f(u);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function o(u){if(!(this instanceof o))return new o(u);s.call(this,u),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function l(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,p){c(u,h,p)}):c(this,null,null)}o.prototype.push=function(u,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,u,h)},o.prototype._transform=function(u,h,p){p(new e("_transform()"))},o.prototype._write=function(u,h,p){var f=this._transformState;if(f.writecb=p,f.writechunk=u,f.writeencoding=h,!f.transforming){var y=this._readableState;(f.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},o.prototype._read=function(u){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},o.prototype._destroy=function(u,h){s.prototype._destroy.call(this,u,function(p){h(p)})};function c(u,h,p){if(h)return u.emit("error",h);if(p!=null&&u.push(p),u._writableState.length)throw new i;if(u._transformState.transforming)throw new n;return u.push(null)}return iA}var sA,kD;function mSe(){if(kD)return sA;kD=1,sA=e;var t=mG();Td()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},sA}var aA,ID;function gSe(){if(ID)return aA;ID=1;var t;function e(p){var f=!1;return function(){f||(f=!0,p.apply(void 0,arguments))}}var r=qm().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(p){if(p)throw p}function a(p){return p.setHeader&&typeof p.abort=="function"}function o(p,f,y,g){g=e(g);var w=!1;p.on("close",function(){w=!0}),t===void 0&&(t=KC()),t(p,{readable:f,writable:y},function(v){if(v)return g(v);w=!0,g()});var m=!1;return function(v){if(!w&&!m){if(m=!0,a(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();g(v||new i("pipe"))}}}function l(p){p()}function c(p,f){return p.pipe(f)}function u(p){return!p.length||typeof p[p.length-1]!="function"?s:p.pop()}function h(){for(var p=arguments.length,f=new Array(p),y=0;y<p;y++)f[y]=arguments[y];var g=u(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new n("streams");var w,m=f.map(function(v,x){var E=x<f.length-1,N=x>0;return o(v,E,N,function(C){w||(w=C),C&&m.forEach(l),!E&&(m.forEach(l),g(w))})});return f.reduce(c)}return aA=h,aA}var oA,jD;function YC(){if(jD)return oA;jD=1,oA=r;var t=qC().EventEmitter,e=Td();e(r,t),r.Readable=pG(),r.Writable=fG(),r.Duplex=fm(),r.Transform=mG(),r.PassThrough=mSe(),r.finished=KC(),r.pipeline=gSe(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,i){var s=this;function a(f){n.writable&&n.write(f)===!1&&s.pause&&s.pause()}s.on("data",a);function o(){s.readable&&s.resume&&s.resume()}n.on("drain",o),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",c),s.on("close",u));var l=!1;function c(){l||(l=!0,n.end())}function u(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function h(f){if(p(),t.listenerCount(this,"error")===0)throw f}s.on("error",h),n.on("error",h);function p(){s.removeListener("data",a),n.removeListener("drain",o),s.removeListener("end",c),s.removeListener("close",u),s.removeListener("error",h),n.removeListener("error",h),s.removeListener("end",p),s.removeListener("close",p),n.removeListener("close",p)}return s.on("end",p),s.on("close",p),n.on("close",p),n.emit("pipe",s),n},oA}var OD;function ySe(){return OD||(OD=1,function(t){(function(e){e.parser=function($,V){return new n($,V)},e.SAXParser=n,e.SAXStream=u,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n($,V){if(!(this instanceof n))return new n($,V);var te=this;s(te),te.q=te.c="",te.bufferCheckPosition=e.MAX_BUFFER_LENGTH,te.opt=V||{},te.opt.lowercase=te.opt.lowercase||te.opt.lowercasetags,te.looseCase=te.opt.lowercase?"toLowerCase":"toUpperCase",te.tags=[],te.closed=te.closedRoot=te.sawRoot=!1,te.tag=te.error=null,te.strict=!!$,te.noscript=!!($||te.opt.noscript),te.state=T.BEGIN,te.strictEntities=te.opt.strictEntities,te.ENTITIES=te.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),te.attribList=[],te.opt.xmlns&&(te.ns=Object.create(g)),te.trackPosition=te.opt.position!==!1,te.trackPosition&&(te.position=te.line=te.column=0),M(te,"onready")}Object.create||(Object.create=function($){function V(){}V.prototype=$;var te=new V;return te}),Object.keys||(Object.keys=function($){var V=[];for(var te in $)$.hasOwnProperty(te)&&V.push(te);return V});function i($){for(var V=Math.max(e.MAX_BUFFER_LENGTH,10),te=0,ae=0,Z=r.length;ae<Z;ae++){var ee=$[r[ae]].length;if(ee>V)switch(r[ae]){case"textNode":I($);break;case"cdata":A($,"oncdata",$.cdata),$.cdata="";break;case"script":A($,"onscript",$.script),$.script="";break;default:ne($,"Max buffer length exceeded: "+r[ae])}te=Math.max(te,ee)}var _e=e.MAX_BUFFER_LENGTH-te;$.bufferCheckPosition=_e+$.position}function s($){for(var V=0,te=r.length;V<te;V++)$[r[V]]=""}function a($){I($),$.cdata!==""&&(A($,"oncdata",$.cdata),$.cdata=""),$.script!==""&&(A($,"onscript",$.script),$.script="")}n.prototype={end:function(){pe(this)},write:Q,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=YC().Stream}catch{o=function(){}}var l=e.EVENTS.filter(function($){return $!=="error"&&$!=="end"});function c($,V){return new u($,V)}function u($,V){if(!(this instanceof u))return new u($,V);o.apply(this),this._parser=new n($,V),this.writable=!0,this.readable=!0;var te=this;this._parser.onend=function(){te.emit("end")},this._parser.onerror=function(ae){te.emit("error",ae),te._parser.error=null},this._decoder=null,l.forEach(function(ae){Object.defineProperty(te,"on"+ae,{get:function(){return te._parser["on"+ae]},set:function(Z){if(!Z)return te.removeAllListeners(ae),te._parser["on"+ae]=Z,Z;te.on(ae,Z)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(o.prototype,{constructor:{value:u}}),u.prototype.write=function($){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer($)){if(!this._decoder){var V=_4().StringDecoder;this._decoder=new V("utf8")}$=this._decoder.write($)}return this._parser.write($.toString()),this.emit("data",$),!0},u.prototype.end=function($){return $&&$.length&&this.write($),this._parser.end(),!0},u.prototype.on=function($,V){var te=this;return!te._parser["on"+$]&&l.indexOf($)!==-1&&(te._parser["on"+$]=function(){var ae=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ae.splice(0,0,$),te.emit.apply(te,ae)}),o.prototype.on.call(te,$,V)};var h="[CDATA[",p="DOCTYPE",f="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",g={xml:f,xmlns:y},w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function E($){return $===" "||$===`
`||$==="\r"||$==="	"}function N($){return $==='"'||$==="'"}function C($){return $===">"||E($)}function P($,V){return $.test(V)}function k($,V){return!P($,V)}var T=0;e.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function($){var V=e.ENTITIES[$],te=typeof V=="number"?String.fromCharCode(V):V;e.ENTITIES[$]=te});for(var q in e.STATE)e.STATE[e.STATE[q]]=q;T=e.STATE;function M($,V,te){$[V]&&$[V](te)}function A($,V,te){$.textNode&&I($),M($,V,te)}function I($){$.textNode=j($.opt,$.textNode),$.textNode&&M($,"ontext",$.textNode),$.textNode=""}function j($,V){return $.trim&&(V=V.trim()),$.normalize&&(V=V.replace(/\s+/g," ")),V}function ne($,V){return I($),$.trackPosition&&(V+=`
Line: `+$.line+`
Column: `+$.column+`
Char: `+$.c),V=new Error(V),$.error=V,M($,"onerror",V),$}function pe($){return $.sawRoot&&!$.closedRoot&&X($,"Unclosed root tag"),$.state!==T.BEGIN&&$.state!==T.BEGIN_WHITESPACE&&$.state!==T.TEXT&&ne($,"Unexpected end"),I($),$.c="",$.closed=!0,M($,"onend"),n.call($,$.strict,$.opt),$}function X($,V){if(typeof $!="object"||!($ instanceof n))throw new Error("bad call to strictFail");$.strict&&ne($,V)}function ce($){$.strict||($.tagName=$.tagName[$.looseCase]());var V=$.tags[$.tags.length-1]||$,te=$.tag={name:$.tagName,attributes:{}};$.opt.xmlns&&(te.ns=V.ns),$.attribList.length=0,A($,"onopentagstart",te)}function ue($,V){var te=$.indexOf(":"),ae=te<0?["",$]:$.split(":"),Z=ae[0],ee=ae[1];return V&&$==="xmlns"&&(Z="xmlns",ee=""),{prefix:Z,local:ee}}function xe($){if($.strict||($.attribName=$.attribName[$.looseCase]()),$.attribList.indexOf($.attribName)!==-1||$.tag.attributes.hasOwnProperty($.attribName)){$.attribName=$.attribValue="";return}if($.opt.xmlns){var V=ue($.attribName,!0),te=V.prefix,ae=V.local;if(te==="xmlns")if(ae==="xml"&&$.attribValue!==f)X($,"xml: prefix must be bound to "+f+`
Actual: `+$.attribValue);else if(ae==="xmlns"&&$.attribValue!==y)X($,"xmlns: prefix must be bound to "+y+`
Actual: `+$.attribValue);else{var Z=$.tag,ee=$.tags[$.tags.length-1]||$;Z.ns===ee.ns&&(Z.ns=Object.create(ee.ns)),Z.ns[ae]=$.attribValue}$.attribList.push([$.attribName,$.attribValue])}else $.tag.attributes[$.attribName]=$.attribValue,A($,"onattribute",{name:$.attribName,value:$.attribValue});$.attribName=$.attribValue=""}function we($,V){if($.opt.xmlns){var te=$.tag,ae=ue($.tagName);te.prefix=ae.prefix,te.local=ae.local,te.uri=te.ns[ae.prefix]||"",te.prefix&&!te.uri&&(X($,"Unbound namespace prefix: "+JSON.stringify($.tagName)),te.uri=ae.prefix);var Z=$.tags[$.tags.length-1]||$;te.ns&&Z.ns!==te.ns&&Object.keys(te.ns).forEach(function(re){A($,"onopennamespace",{prefix:re,uri:te.ns[re]})});for(var ee=0,_e=$.attribList.length;ee<_e;ee++){var H=$.attribList[ee],ve=H[0],B=H[1],O=ue(ve,!0),L=O.prefix,W=O.local,G=L===""?"":te.ns[L]||"",ie={name:ve,value:B,prefix:L,local:W,uri:G};L&&L!=="xmlns"&&!G&&(X($,"Unbound namespace prefix: "+JSON.stringify(L)),ie.uri=L),$.tag.attributes[ve]=ie,A($,"onattribute",ie)}$.attribList.length=0}$.tag.isSelfClosing=!!V,$.sawRoot=!0,$.tags.push($.tag),A($,"onopentag",$.tag),V||(!$.noscript&&$.tagName.toLowerCase()==="script"?$.state=T.SCRIPT:$.state=T.TEXT,$.tag=null,$.tagName=""),$.attribName=$.attribValue="",$.attribList.length=0}function F($){if(!$.tagName){X($,"Weird empty close tag."),$.textNode+="</>",$.state=T.TEXT;return}if($.script){if($.tagName!=="script"){$.script+="</"+$.tagName+">",$.tagName="",$.state=T.SCRIPT;return}A($,"onscript",$.script),$.script=""}var V=$.tags.length,te=$.tagName;$.strict||(te=te[$.looseCase]());for(var ae=te;V--;){var Z=$.tags[V];if(Z.name!==ae)X($,"Unexpected close tag");else break}if(V<0){X($,"Unmatched closing tag: "+$.tagName),$.textNode+="</"+$.tagName+">",$.state=T.TEXT;return}$.tagName=te;for(var ee=$.tags.length;ee-- >V;){var _e=$.tag=$.tags.pop();$.tagName=$.tag.name,A($,"onclosetag",$.tagName);var H={};for(var ve in _e.ns)H[ve]=_e.ns[ve];var B=$.tags[$.tags.length-1]||$;$.opt.xmlns&&_e.ns!==B.ns&&Object.keys(_e.ns).forEach(function(O){var L=_e.ns[O];A($,"onclosenamespace",{prefix:O,uri:L})})}V===0&&($.closedRoot=!0),$.tagName=$.attribValue=$.attribName="",$.attribList.length=0,$.state=T.TEXT}function J($){var V=$.entity,te=V.toLowerCase(),ae,Z="";return $.ENTITIES[V]?$.ENTITIES[V]:$.ENTITIES[te]?$.ENTITIES[te]:(V=te,V.charAt(0)==="#"&&(V.charAt(1)==="x"?(V=V.slice(2),ae=parseInt(V,16),Z=ae.toString(16)):(V=V.slice(1),ae=parseInt(V,10),Z=ae.toString(10))),V=V.replace(/^0+/,""),isNaN(ae)||Z.toLowerCase()!==V?(X($,"Invalid character entity"),"&"+$.entity+";"):String.fromCodePoint(ae))}function se($,V){V==="<"?($.state=T.OPEN_WAKA,$.startTagPosition=$.position):E(V)||(X($,"Non-whitespace before first tag."),$.textNode=V,$.state=T.TEXT)}function he($,V){var te="";return V<$.length&&(te=$.charAt(V)),te}function Q($){var V=this;if(this.error)throw this.error;if(V.closed)return ne(V,"Cannot write after close. Assign an onready handler.");if($===null)return pe(V);typeof $=="object"&&($=$.toString());for(var te=0,ae="";ae=he($,te++),V.c=ae,!!ae;)switch(V.trackPosition&&(V.position++,ae===`
`?(V.line++,V.column=0):V.column++),V.state){case T.BEGIN:if(V.state=T.BEGIN_WHITESPACE,ae==="\uFEFF")continue;se(V,ae);continue;case T.BEGIN_WHITESPACE:se(V,ae);continue;case T.TEXT:if(V.sawRoot&&!V.closedRoot){for(var Z=te-1;ae&&ae!=="<"&&ae!=="&";)ae=he($,te++),ae&&V.trackPosition&&(V.position++,ae===`
`?(V.line++,V.column=0):V.column++);V.textNode+=$.substring(Z,te-1)}ae==="<"&&!(V.sawRoot&&V.closedRoot&&!V.strict)?(V.state=T.OPEN_WAKA,V.startTagPosition=V.position):(!E(ae)&&(!V.sawRoot||V.closedRoot)&&X(V,"Text data outside of root node."),ae==="&"?V.state=T.TEXT_ENTITY:V.textNode+=ae);continue;case T.SCRIPT:ae==="<"?V.state=T.SCRIPT_ENDING:V.script+=ae;continue;case T.SCRIPT_ENDING:ae==="/"?V.state=T.CLOSE_TAG:(V.script+="<"+ae,V.state=T.SCRIPT);continue;case T.OPEN_WAKA:if(ae==="!")V.state=T.SGML_DECL,V.sgmlDecl="";else if(!E(ae))if(P(w,ae))V.state=T.OPEN_TAG,V.tagName=ae;else if(ae==="/")V.state=T.CLOSE_TAG,V.tagName="";else if(ae==="?")V.state=T.PROC_INST,V.procInstName=V.procInstBody="";else{if(X(V,"Unencoded <"),V.startTagPosition+1<V.position){var ee=V.position-V.startTagPosition;ae=new Array(ee).join(" ")+ae}V.textNode+="<"+ae,V.state=T.TEXT}continue;case T.SGML_DECL:(V.sgmlDecl+ae).toUpperCase()===h?(A(V,"onopencdata"),V.state=T.CDATA,V.sgmlDecl="",V.cdata=""):V.sgmlDecl+ae==="--"?(V.state=T.COMMENT,V.comment="",V.sgmlDecl=""):(V.sgmlDecl+ae).toUpperCase()===p?(V.state=T.DOCTYPE,(V.doctype||V.sawRoot)&&X(V,"Inappropriately located doctype declaration"),V.doctype="",V.sgmlDecl=""):ae===">"?(A(V,"onsgmldeclaration",V.sgmlDecl),V.sgmlDecl="",V.state=T.TEXT):(N(ae)&&(V.state=T.SGML_DECL_QUOTED),V.sgmlDecl+=ae);continue;case T.SGML_DECL_QUOTED:ae===V.q&&(V.state=T.SGML_DECL,V.q=""),V.sgmlDecl+=ae;continue;case T.DOCTYPE:ae===">"?(V.state=T.TEXT,A(V,"ondoctype",V.doctype),V.doctype=!0):(V.doctype+=ae,ae==="["?V.state=T.DOCTYPE_DTD:N(ae)&&(V.state=T.DOCTYPE_QUOTED,V.q=ae));continue;case T.DOCTYPE_QUOTED:V.doctype+=ae,ae===V.q&&(V.q="",V.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:V.doctype+=ae,ae==="]"?V.state=T.DOCTYPE:N(ae)&&(V.state=T.DOCTYPE_DTD_QUOTED,V.q=ae);continue;case T.DOCTYPE_DTD_QUOTED:V.doctype+=ae,ae===V.q&&(V.state=T.DOCTYPE_DTD,V.q="");continue;case T.COMMENT:ae==="-"?V.state=T.COMMENT_ENDING:V.comment+=ae;continue;case T.COMMENT_ENDING:ae==="-"?(V.state=T.COMMENT_ENDED,V.comment=j(V.opt,V.comment),V.comment&&A(V,"oncomment",V.comment),V.comment=""):(V.comment+="-"+ae,V.state=T.COMMENT);continue;case T.COMMENT_ENDED:ae!==">"?(X(V,"Malformed comment"),V.comment+="--"+ae,V.state=T.COMMENT):V.state=T.TEXT;continue;case T.CDATA:ae==="]"?V.state=T.CDATA_ENDING:V.cdata+=ae;continue;case T.CDATA_ENDING:ae==="]"?V.state=T.CDATA_ENDING_2:(V.cdata+="]"+ae,V.state=T.CDATA);continue;case T.CDATA_ENDING_2:ae===">"?(V.cdata&&A(V,"oncdata",V.cdata),A(V,"onclosecdata"),V.cdata="",V.state=T.TEXT):ae==="]"?V.cdata+="]":(V.cdata+="]]"+ae,V.state=T.CDATA);continue;case T.PROC_INST:ae==="?"?V.state=T.PROC_INST_ENDING:E(ae)?V.state=T.PROC_INST_BODY:V.procInstName+=ae;continue;case T.PROC_INST_BODY:if(!V.procInstBody&&E(ae))continue;ae==="?"?V.state=T.PROC_INST_ENDING:V.procInstBody+=ae;continue;case T.PROC_INST_ENDING:ae===">"?(A(V,"onprocessinginstruction",{name:V.procInstName,body:V.procInstBody}),V.procInstName=V.procInstBody="",V.state=T.TEXT):(V.procInstBody+="?"+ae,V.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:P(m,ae)?V.tagName+=ae:(ce(V),ae===">"?we(V):ae==="/"?V.state=T.OPEN_TAG_SLASH:(E(ae)||X(V,"Invalid character in tag name"),V.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:ae===">"?(we(V,!0),F(V)):(X(V,"Forward-slash in opening tag not followed by >"),V.state=T.ATTRIB);continue;case T.ATTRIB:if(E(ae))continue;ae===">"?we(V):ae==="/"?V.state=T.OPEN_TAG_SLASH:P(w,ae)?(V.attribName=ae,V.attribValue="",V.state=T.ATTRIB_NAME):X(V,"Invalid attribute name");continue;case T.ATTRIB_NAME:ae==="="?V.state=T.ATTRIB_VALUE:ae===">"?(X(V,"Attribute without value"),V.attribValue=V.attribName,xe(V),we(V)):E(ae)?V.state=T.ATTRIB_NAME_SAW_WHITE:P(m,ae)?V.attribName+=ae:X(V,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if(ae==="=")V.state=T.ATTRIB_VALUE;else{if(E(ae))continue;X(V,"Attribute without value"),V.tag.attributes[V.attribName]="",V.attribValue="",A(V,"onattribute",{name:V.attribName,value:""}),V.attribName="",ae===">"?we(V):P(w,ae)?(V.attribName=ae,V.state=T.ATTRIB_NAME):(X(V,"Invalid attribute name"),V.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(E(ae))continue;N(ae)?(V.q=ae,V.state=T.ATTRIB_VALUE_QUOTED):(X(V,"Unquoted attribute value"),V.state=T.ATTRIB_VALUE_UNQUOTED,V.attribValue=ae);continue;case T.ATTRIB_VALUE_QUOTED:if(ae!==V.q){ae==="&"?V.state=T.ATTRIB_VALUE_ENTITY_Q:V.attribValue+=ae;continue}xe(V),V.q="",V.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:E(ae)?V.state=T.ATTRIB:ae===">"?we(V):ae==="/"?V.state=T.OPEN_TAG_SLASH:P(w,ae)?(X(V,"No whitespace between attributes"),V.attribName=ae,V.attribValue="",V.state=T.ATTRIB_NAME):X(V,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!C(ae)){ae==="&"?V.state=T.ATTRIB_VALUE_ENTITY_U:V.attribValue+=ae;continue}xe(V),ae===">"?we(V):V.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(V.tagName)ae===">"?F(V):P(m,ae)?V.tagName+=ae:V.script?(V.script+="</"+V.tagName,V.tagName="",V.state=T.SCRIPT):(E(ae)||X(V,"Invalid tagname in closing tag"),V.state=T.CLOSE_TAG_SAW_WHITE);else{if(E(ae))continue;k(w,ae)?V.script?(V.script+="</"+ae,V.state=T.SCRIPT):X(V,"Invalid tagname in closing tag."):V.tagName=ae}continue;case T.CLOSE_TAG_SAW_WHITE:if(E(ae))continue;ae===">"?F(V):X(V,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var _e,H;switch(V.state){case T.TEXT_ENTITY:_e=T.TEXT,H="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:_e=T.ATTRIB_VALUE_QUOTED,H="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:_e=T.ATTRIB_VALUE_UNQUOTED,H="attribValue";break}ae===";"?(V[H]+=J(V),V.entity="",V.state=_e):P(V.entity.length?x:v,ae)?V.entity+=ae:(X(V,"Invalid character in entity name"),V[H]+="&"+V.entity+ae,V.entity="",V.state=_e);continue;default:throw new Error(V,"Unknown state: "+V.state)}return V.position>=V.bufferCheckPosition&&i(V),V}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var $=String.fromCharCode,V=Math.floor,te=function(){var ae=16384,Z=[],ee,_e,H=-1,ve=arguments.length;if(!ve)return"";for(var B="";++H<ve;){var O=Number(arguments[H]);if(!isFinite(O)||O<0||O>1114111||V(O)!==O)throw RangeError("Invalid code point: "+O);O<=65535?Z.push(O):(O-=65536,ee=(O>>10)+55296,_e=O%1024+56320,Z.push(ee,_e)),(H+1===ve||Z.length>ae)&&(B+=$.apply(null,Z),Z.length=0)}return B};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:te,configurable:!0,writable:!0}):String.fromCodePoint=te}()})(t)}(H_)),H_}var lA,RD;function XC(){return RD||(RD=1,lA={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),lA}var cA,LD;function JC(){if(LD)return cA;LD=1;var t=XC().isArray;return cA={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},cA}var uA,DD;function gG(){if(DD)return uA;DD=1;var t=ySe(),e=JC(),r=XC().isArray,n,i;function s(m){return n=e.copyOptions(m),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function a(m){var v=Number(m);if(!isNaN(v))return v;var x=m.toLowerCase();return x==="true"?!0:x==="false"?!1:m}function o(m,v){var x;if(n.compact){if(!i[n[m+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[m+"Key"])!==-1:n.alwaysArray)&&(i[n[m+"Key"]]=[]),i[n[m+"Key"]]&&!r(i[n[m+"Key"]])&&(i[n[m+"Key"]]=[i[n[m+"Key"]]]),m+"Fn"in n&&typeof v=="string"&&(v=n[m+"Fn"](v,i)),m==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(x in v)if(v.hasOwnProperty(x))if("instructionFn"in n)v[x]=n.instructionFn(v[x],x,i);else{var E=v[x];delete v[x],v[n.instructionNameFn(x,E,i)]=E}}r(i[n[m+"Key"]])?i[n[m+"Key"]].push(v):i[n[m+"Key"]]=v}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var N={};if(N[n.typeKey]=m,m==="instruction"){for(x in v)if(v.hasOwnProperty(x))break;N[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(x,v,i):x,n.instructionHasAttributes?(N[n.attributesKey]=v[x][n.attributesKey],"instructionFn"in n&&(N[n.attributesKey]=n.instructionFn(N[n.attributesKey],x,i))):("instructionFn"in n&&(v[x]=n.instructionFn(v[x],x,i)),N[n.instructionKey]=v[x])}else m+"Fn"in n&&(v=n[m+"Fn"](v,i)),N[n[m+"Key"]]=v;n.addParent&&(N[n.parentKey]=i),i[n.elementsKey].push(N)}}function l(m){if("attributesFn"in n&&m&&(m=n.attributesFn(m,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&m){var v;for(v in m)if(m.hasOwnProperty(v)&&(n.trim&&(m[v]=m[v].trim()),n.nativeTypeAttributes&&(m[v]=a(m[v])),"attributeValueFn"in n&&(m[v]=n.attributeValueFn(m[v],v,i)),"attributeNameFn"in n)){var x=m[v];delete m[v],m[n.attributeNameFn(v,m[v],i)]=x}}return m}function c(m){var v={};if(m.body&&(m.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var x=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,E;(E=x.exec(m.body))!==null;)v[E[1]]=E[2]||E[3]||E[4];v=l(v)}if(m.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(v).length&&(i[n.declarationKey][n.attributesKey]=v),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(m.body=m.body.trim());var N={};n.instructionHasAttributes&&Object.keys(v).length?(N[m.name]={},N[m.name][n.attributesKey]=v):N[m.name]=m.body,o("instruction",N)}}function u(m,v){var x;if(typeof m=="object"&&(v=m.attributes,m=m.name),v=l(v),"elementNameFn"in n&&(m=n.elementNameFn(m,i)),n.compact){if(x={},!n.ignoreAttributes&&v&&Object.keys(v).length){x[n.attributesKey]={};var E;for(E in v)v.hasOwnProperty(E)&&(x[n.attributesKey][E]=v[E])}!(m in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(m)!==-1:n.alwaysArray)&&(i[m]=[]),i[m]&&!r(i[m])&&(i[m]=[i[m]]),r(i[m])?i[m].push(x):i[m]=x}else i[n.elementsKey]||(i[n.elementsKey]=[]),x={},x[n.typeKey]="element",x[n.nameKey]=m,!n.ignoreAttributes&&v&&Object.keys(v).length&&(x[n.attributesKey]=v),n.alwaysChildren&&(x[n.elementsKey]=[]),i[n.elementsKey].push(x);x[n.parentKey]=i,i=x}function h(m){n.ignoreText||!m.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(m=m.trim()),n.nativeType&&(m=a(m)),n.sanitize&&(m=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",m))}function p(m){n.ignoreComment||(n.trim&&(m=m.trim()),o("comment",m))}function f(m){var v=i[n.parentKey];n.addParent||delete i[n.parentKey],i=v}function y(m){n.ignoreCdata||(n.trim&&(m=m.trim()),o("cdata",m))}function g(m){n.ignoreDoctype||(m=m.replace(/^ /,""),n.trim&&(m=m.trim()),o("doctype",m))}function w(m){m.note=m}return uA=function(m,v){var x=t.parser(!0,{}),E={};if(i=E,n=s(v),x.opt={strictEntities:!0},x.onopentag=u,x.ontext=h,x.oncomment=p,x.onclosetag=f,x.onerror=w,x.oncdata=y,x.ondoctype=g,x.onprocessinginstruction=c,x.write(m).close(),E[n.elementsKey]){var N=E[n.elementsKey];delete E[n.elementsKey],E[n.elementsKey]=N,delete E.text}return E},uA}var dA,MD;function vSe(){if(MD)return dA;MD=1;var t=JC(),e=gG();function r(n){var i=t.copyOptions(n);return t.ensureSpacesExists(i),i}return dA=function(n,i){var s,a,o,l;return s=r(i),a=e(n,s),l="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?o=JSON.stringify(a,function(c,u){return c===l?"_":u},s.spaces):o=JSON.stringify(a,null,s.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},dA}var hA,FD;function yG(){if(FD)return hA;FD=1;var t=JC(),e=XC().isArray,r,n;function i(x){var E=t.copyOptions(x);return t.ensureFlagExists("ignoreDeclaration",E),t.ensureFlagExists("ignoreInstruction",E),t.ensureFlagExists("ignoreAttributes",E),t.ensureFlagExists("ignoreText",E),t.ensureFlagExists("ignoreComment",E),t.ensureFlagExists("ignoreCdata",E),t.ensureFlagExists("ignoreDoctype",E),t.ensureFlagExists("compact",E),t.ensureFlagExists("indentText",E),t.ensureFlagExists("indentCdata",E),t.ensureFlagExists("indentAttributes",E),t.ensureFlagExists("indentInstruction",E),t.ensureFlagExists("fullTagEmptyElement",E),t.ensureFlagExists("noQuotesForNativeAttributes",E),t.ensureSpacesExists(E),typeof E.spaces=="number"&&(E.spaces=Array(E.spaces+1).join(" ")),t.ensureKeyExists("declaration",E),t.ensureKeyExists("instruction",E),t.ensureKeyExists("attributes",E),t.ensureKeyExists("text",E),t.ensureKeyExists("comment",E),t.ensureKeyExists("cdata",E),t.ensureKeyExists("doctype",E),t.ensureKeyExists("type",E),t.ensureKeyExists("name",E),t.ensureKeyExists("elements",E),t.checkFnExists("doctype",E),t.checkFnExists("instruction",E),t.checkFnExists("cdata",E),t.checkFnExists("comment",E),t.checkFnExists("text",E),t.checkFnExists("instructionName",E),t.checkFnExists("elementName",E),t.checkFnExists("attributeName",E),t.checkFnExists("attributeValue",E),t.checkFnExists("attributes",E),t.checkFnExists("fullTagEmptyElement",E),E}function s(x,E,N){return(!N&&x.spaces?`
`:"")+Array(E+1).join(x.spaces)}function a(x,E,N){if(E.ignoreAttributes)return"";"attributesFn"in E&&(x=E.attributesFn(x,n,r));var C,P,k,T,q=[];for(C in x)x.hasOwnProperty(C)&&x[C]!==null&&x[C]!==void 0&&(T=E.noQuotesForNativeAttributes&&typeof x[C]!="string"?"":'"',P=""+x[C],P=P.replace(/"/g,"&quot;"),k="attributeNameFn"in E?E.attributeNameFn(C,P,n,r):C,q.push(E.spaces&&E.indentAttributes?s(E,N+1,!1):" "),q.push(k+"="+T+("attributeValueFn"in E?E.attributeValueFn(P,C,n,r):P)+T));return x&&Object.keys(x).length&&E.spaces&&E.indentAttributes&&q.push(s(E,N,!1)),q.join("")}function o(x,E,N){return r=x,n="xml",E.ignoreDeclaration?"":"<?xml"+a(x[E.attributesKey],E,N)+"?>"}function l(x,E,N){if(E.ignoreInstruction)return"";var C;for(C in x)if(x.hasOwnProperty(C))break;var P="instructionNameFn"in E?E.instructionNameFn(C,x[C],n,r):C;if(typeof x[C]=="object")return r=x,n=P,"<?"+P+a(x[C][E.attributesKey],E,N)+"?>";var k=x[C]?x[C]:"";return"instructionFn"in E&&(k=E.instructionFn(k,C,n,r)),"<?"+P+(k?" "+k:"")+"?>"}function c(x,E){return E.ignoreComment?"":"<!--"+("commentFn"in E?E.commentFn(x,n,r):x)+"-->"}function u(x,E){return E.ignoreCdata?"":"<![CDATA["+("cdataFn"in E?E.cdataFn(x,n,r):x.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(x,E){return E.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in E?E.doctypeFn(x,n,r):x)+">"}function p(x,E){return E.ignoreText?"":(x=""+x,x=x.replace(/&amp;/g,"&"),x=x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in E?E.textFn(x,n,r):x)}function f(x,E){var N;if(x.elements&&x.elements.length)for(N=0;N<x.elements.length;++N)switch(x.elements[N][E.typeKey]){case"text":if(E.indentText)return!0;break;case"cdata":if(E.indentCdata)return!0;break;case"instruction":if(E.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function y(x,E,N){r=x,n=x.name;var C=[],P="elementNameFn"in E?E.elementNameFn(x.name,x):x.name;C.push("<"+P),x[E.attributesKey]&&C.push(a(x[E.attributesKey],E,N));var k=x[E.elementsKey]&&x[E.elementsKey].length||x[E.attributesKey]&&x[E.attributesKey]["xml:space"]==="preserve";return k||("fullTagEmptyElementFn"in E?k=E.fullTagEmptyElementFn(x.name,x):k=E.fullTagEmptyElement),k?(C.push(">"),x[E.elementsKey]&&x[E.elementsKey].length&&(C.push(g(x[E.elementsKey],E,N+1)),r=x,n=x.name),C.push(E.spaces&&f(x,E)?`
`+Array(N+1).join(E.spaces):""),C.push("</"+P+">")):C.push("/>"),C.join("")}function g(x,E,N,C){return x.reduce(function(P,k){var T=s(E,N,C&&!P);switch(k.type){case"element":return P+T+y(k,E,N);case"comment":return P+T+c(k[E.commentKey],E);case"doctype":return P+T+h(k[E.doctypeKey],E);case"cdata":return P+(E.indentCdata?T:"")+u(k[E.cdataKey],E);case"text":return P+(E.indentText?T:"")+p(k[E.textKey],E);case"instruction":var q={};return q[k[E.nameKey]]=k[E.attributesKey]?k:k[E.instructionKey],P+(E.indentInstruction?T:"")+l(q,E,N)}},"")}function w(x,E,N){var C;for(C in x)if(x.hasOwnProperty(C))switch(C){case E.parentKey:case E.attributesKey:break;case E.textKey:if(E.indentText||N)return!0;break;case E.cdataKey:if(E.indentCdata||N)return!0;break;case E.instructionKey:if(E.indentInstruction||N)return!0;break;case E.doctypeKey:case E.commentKey:return!0;default:return!0}return!1}function m(x,E,N,C,P){r=x,n=E;var k="elementNameFn"in N?N.elementNameFn(E,x):E;if(typeof x>"u"||x===null||x==="")return"fullTagEmptyElementFn"in N&&N.fullTagEmptyElementFn(E,x)||N.fullTagEmptyElement?"<"+k+"></"+k+">":"<"+k+"/>";var T=[];if(E){if(T.push("<"+k),typeof x!="object")return T.push(">"+p(x,N)+"</"+k+">"),T.join("");x[N.attributesKey]&&T.push(a(x[N.attributesKey],N,C));var q=w(x,N,!0)||x[N.attributesKey]&&x[N.attributesKey]["xml:space"]==="preserve";if(q||("fullTagEmptyElementFn"in N?q=N.fullTagEmptyElementFn(E,x):q=N.fullTagEmptyElement),q)T.push(">");else return T.push("/>"),T.join("")}return T.push(v(x,N,C+1,!1)),r=x,n=E,E&&T.push((P?s(N,C,!1):"")+"</"+k+">"),T.join("")}function v(x,E,N,C){var P,k,T,q=[];for(k in x)if(x.hasOwnProperty(k))for(T=e(x[k])?x[k]:[x[k]],P=0;P<T.length;++P){switch(k){case E.declarationKey:q.push(o(T[P],E,N));break;case E.instructionKey:q.push((E.indentInstruction?s(E,N,C):"")+l(T[P],E,N));break;case E.attributesKey:case E.parentKey:break;case E.textKey:q.push((E.indentText?s(E,N,C):"")+p(T[P],E));break;case E.cdataKey:q.push((E.indentCdata?s(E,N,C):"")+u(T[P],E));break;case E.doctypeKey:q.push(s(E,N,C)+h(T[P],E));break;case E.commentKey:q.push(s(E,N,C)+c(T[P],E));break;default:q.push(s(E,N,C)+m(T[P],k,E,N,w(T[P],E)))}C=C&&!q.length}return q.join("")}return hA=function(x,E){E=i(E);var N=[];return r=x,n="_root_",E.compact?N.push(v(x,E,0,!0)):(x[E.declarationKey]&&N.push(o(x[E.declarationKey],E,0)),x[E.elementsKey]&&x[E.elementsKey].length&&N.push(g(x[E.elementsKey],E,0,!N.length))),N.join("")},hA}var fA,BD;function wSe(){if(BD)return fA;BD=1;var t=yG();return fA=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},fA}var pA,UD;function bSe(){if(UD)return pA;UD=1;var t=gG(),e=vSe(),r=yG(),n=wSe();return pA={xml2js:t,xml2json:e,js2xml:r,json2xml:n},pA}var vG=bSe();const QC=t=>{switch(t.type){case void 0:case"element":const e=new _Se(t.name,t.attributes),r=t.elements||[];for(const n of r){const i=QC(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class xSe extends Ct{}class _Se extends Qe{static fromXmlString(e){const r=vG.xml2js(e,{compact:!1});return QC(r)}constructor(e,r){super(e),r&&this.root.push(new xSe(r))}push(e){this.root.push(e)}}class ESe extends Qe{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class wG extends Qe{constructor(e,r){super(e),r&&(this.root=r.root)}}const Ts=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},G2=t=>{const e=Ts(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},bG=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},$D=t=>bG(t,1),xG=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},_G=t=>{const e=xG(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},pm=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return bG(e,3)},xh=t=>typeof t=="string"?xG(t):Ts(t),ASe=t=>typeof t=="string"?_G(t):G2(t),po=t=>typeof t=="string"?_G(t):G2(t),SSe=G2,NSe=G2,TSe=t=>t.toISOString();class Ze extends Qe{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new En({val:r}))}}class mA extends Qe{constructor(e,r){super(e),this.root.push(new En({val:ASe(r)}))}}class Mp extends Qe{constructor(e,r){super(e),this.root.push(new En({val:r}))}}const Rg=(t,e)=>new _l({name:t,attributes:{value:{key:"w:val",value:e}}});class v0 extends Qe{constructor(e,r){super(e),this.root.push(new En({val:r}))}}class Xd extends Qe{constructor(e,r){super(e),this.root.push(r)}}class _l extends Qe{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new q2(r)),n&&this.root.push(...n)}}const Kt={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class PSe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class CSe extends Qe{constructor(e){super("w:jc"),this.root.push(new PSe({val:e}))}}class rn extends Qe{constructor(e,{color:r,size:n,space:i,style:s}){super(e),this.root.push(new kSe({style:s,color:r===void 0?void 0:pm(r),size:n===void 0?void 0:SSe(n),space:i===void 0?void 0:NSe(i)}))}}class kSe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const ZC={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class ISe extends z2{constructor(e){super("w:pBdr"),e.top&&this.root.push(new rn("w:top",e.top)),e.bottom&&this.root.push(new rn("w:bottom",e.bottom)),e.left&&this.root.push(new rn("w:left",e.left)),e.right&&this.root.push(new rn("w:right",e.right))}}class jSe extends Qe{constructor(){super("w:pBdr");const e=new rn("w:bottom",{color:"auto",space:1,style:ZC.SINGLE,size:6});this.root.push(e)}}class OSe extends Qe{constructor({start:e,end:r,left:n,right:i,hanging:s,firstLine:a}){super("w:ind"),this.root.push(new q2({start:{key:"w:start",value:e===void 0?void 0:xh(e)},end:{key:"w:end",value:r===void 0?void 0:xh(r)},left:{key:"w:left",value:n===void 0?void 0:xh(n)},right:{key:"w:right",value:i===void 0?void 0:xh(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:po(s)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:po(a)}}))}}let RSe=class extends Qe{constructor(){super("w:br")}};const e6={BEGIN:"begin",END:"end",SEPARATE:"separate"};class t6 extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class d1 extends Qe{constructor(e){super("w:fldChar"),this.root.push(new t6({type:e6.BEGIN,dirty:e}))}}class h1 extends Qe{constructor(e){super("w:fldChar"),this.root.push(new t6({type:e6.SEPARATE,dirty:e}))}}class f1 extends Qe{constructor(e){super("w:fldChar"),this.root.push(new t6({type:e6.END,dirty:e}))}}const mm={DEFAULT:"default",PRESERVE:"preserve"};class gm extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{space:"xml:space"})}}class LSe extends Qe{constructor(){super("w:instrText"),this.root.push(new gm({space:mm.PRESERVE})),this.root.push("PAGE")}}class DSe extends Qe{constructor(){super("w:instrText"),this.root.push(new gm({space:mm.PRESERVE})),this.root.push("NUMPAGES")}}class MSe extends Qe{constructor(){super("w:instrText"),this.root.push(new gm({space:mm.PRESERVE})),this.root.push("SECTIONPAGES")}}class FSe extends Qe{constructor(){super("w:instrText"),this.root.push(new gm({space:mm.PRESERVE})),this.root.push("SECTION")}}class BSe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class EG extends Qe{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new BSe({fill:e===void 0?void 0:pm(e),color:r===void 0?void 0:pm(r),type:n}))}}class USe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const $Se={DOT:"dot"};class VSe extends Qe{constructor(e){super("w:em"),this.root.push(new En({val:e}))}}class zSe extends VSe{constructor(e=$Se.DOT){super(e)}}class qSe extends Qe{constructor(e){super("w:spacing"),this.root.push(new En({val:xh(e)}))}}class WSe extends Qe{constructor(e){super("w:color"),this.root.push(new En({val:pm(e)}))}}class HSe extends Qe{constructor(e){super("w:highlight"),this.root.push(new En({val:e}))}}class GSe extends Qe{constructor(e){super("w:highlightCs"),this.root.push(new En({val:e}))}}const KSe=t=>new _l({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class VD extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class gA extends Qe{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new VD({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new VD(n))}}}let AG=class extends Qe{constructor(e){super("w:vertAlign"),this.root.push(new En({val:e}))}};class YSe extends AG{constructor(){super("superscript")}}class XSe extends AG{constructor(){super("subscript")}}const SG={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class JSe extends Qe{constructor(e=SG.SINGLE,r){super("w:u"),this.root.push(new En({val:e,color:r===void 0?void 0:pm(r)}))}}class df extends z2{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new Mp("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new gA(e.font)):"name"in e.font?this.push(new gA(e.font.name,e.font.hint)):this.push(new gA(e.font))),e.bold!==void 0&&this.push(new Ze("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Ze("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new Ze("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Ze("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new Ze("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Ze("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Ze("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Ze("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new Ze("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Ze("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new Ze("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new Ze("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Ze("w:vanish",e.vanish)),e.color&&this.push(new WSe(e.color)),e.characterSpacing&&this.push(new qSe(e.characterSpacing)),e.scale!==void 0&&this.push(new v0("w:w",e.scale)),e.kern&&this.push(new mA("w:kern",e.kern)),e.position&&this.push(new Mp("w:position",e.position)),e.size!==void 0&&this.push(new mA("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new mA("w:szCs",i)),e.highlight&&this.push(new HSe(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new GSe(s)),e.underline&&this.push(new JSe(e.underline.type,e.underline.color)),e.effect&&this.push(new Mp("w:effect",e.effect)),e.border&&this.push(new rn("w:bdr",e.border)),e.shading&&this.push(new EG(e.shading)),e.subScript&&this.push(new XSe),e.superScript&&this.push(new YSe),e.rightToLeft!==void 0&&this.push(new Ze("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new zSe(e.emphasisMark.type)),e.language&&this.push(KSe(e.language)),e.specVanish&&this.push(new Ze("w:specVanish",e.vanish)),e.math&&this.push(new Ze("w:oMath",e.math)),e.revision&&this.push(new QSe(e.revision))}push(e){this.root.push(e)}}class QSe extends Qe{constructor(e){super("w:rPrChange"),this.root.push(new USe({id:e.id,author:e.author,date:e.date})),this.addChildElement(new df(e))}}class zD extends Qe{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new gm({space:mm.PRESERVE})),this.root.push(e)):(this.root.push(new gm({space:(r=e.space)!=null?r:mm.DEFAULT})),this.root.push(e.text))}}const p1={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class K2 extends Qe{constructor(e){if(super("w:r"),We(this,"properties"),this.properties=new df(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new RSe);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case p1.CURRENT:this.root.push(new d1),this.root.push(new LSe),this.root.push(new h1),this.root.push(new f1);break;case p1.TOTAL_PAGES:this.root.push(new d1),this.root.push(new DSe),this.root.push(new h1),this.root.push(new f1);break;case p1.TOTAL_PAGES_IN_SECTION:this.root.push(new d1),this.root.push(new MSe),this.root.push(new h1),this.root.push(new f1);break;case p1.CURRENT_SECTION:this.root.push(new d1),this.root.push(new FSe),this.root.push(new h1),this.root.push(new f1);break;default:this.root.push(new zD(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new zD(e.text))}}class Mt extends K2{constructor(e){super(typeof e=="string"?{text:e}:e)}}var yA={},vr={},vA,qD;function Wy(){if(qD)return vA;qD=1,vA=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},vA}var WD;function Tl(){if(WD)return vr;WD=1;var t=Wy(),e=Td();vr.inherits=e;function r(A,I){return(A.charCodeAt(I)&64512)!==55296||I<0||I+1>=A.length?!1:(A.charCodeAt(I+1)&64512)===56320}function n(A,I){if(Array.isArray(A))return A.slice();if(!A)return[];var j=[];if(typeof A=="string")if(I){if(I==="hex")for(A=A.replace(/[^a-z0-9]+/ig,""),A.length%2!==0&&(A="0"+A),pe=0;pe<A.length;pe+=2)j.push(parseInt(A[pe]+A[pe+1],16))}else for(var ne=0,pe=0;pe<A.length;pe++){var X=A.charCodeAt(pe);X<128?j[ne++]=X:X<2048?(j[ne++]=X>>6|192,j[ne++]=X&63|128):r(A,pe)?(X=65536+((X&1023)<<10)+(A.charCodeAt(++pe)&1023),j[ne++]=X>>18|240,j[ne++]=X>>12&63|128,j[ne++]=X>>6&63|128,j[ne++]=X&63|128):(j[ne++]=X>>12|224,j[ne++]=X>>6&63|128,j[ne++]=X&63|128)}else for(pe=0;pe<A.length;pe++)j[pe]=A[pe]|0;return j}vr.toArray=n;function i(A){for(var I="",j=0;j<A.length;j++)I+=o(A[j].toString(16));return I}vr.toHex=i;function s(A){var I=A>>>24|A>>>8&65280|A<<8&16711680|(A&255)<<24;return I>>>0}vr.htonl=s;function a(A,I){for(var j="",ne=0;ne<A.length;ne++){var pe=A[ne];I==="little"&&(pe=s(pe)),j+=l(pe.toString(16))}return j}vr.toHex32=a;function o(A){return A.length===1?"0"+A:A}vr.zero2=o;function l(A){return A.length===7?"0"+A:A.length===6?"00"+A:A.length===5?"000"+A:A.length===4?"0000"+A:A.length===3?"00000"+A:A.length===2?"000000"+A:A.length===1?"0000000"+A:A}vr.zero8=l;function c(A,I,j,ne){var pe=j-I;t(pe%4===0);for(var X=new Array(pe/4),ce=0,ue=I;ce<X.length;ce++,ue+=4){var xe;ne==="big"?xe=A[ue]<<24|A[ue+1]<<16|A[ue+2]<<8|A[ue+3]:xe=A[ue+3]<<24|A[ue+2]<<16|A[ue+1]<<8|A[ue],X[ce]=xe>>>0}return X}vr.join32=c;function u(A,I){for(var j=new Array(A.length*4),ne=0,pe=0;ne<A.length;ne++,pe+=4){var X=A[ne];I==="big"?(j[pe]=X>>>24,j[pe+1]=X>>>16&255,j[pe+2]=X>>>8&255,j[pe+3]=X&255):(j[pe+3]=X>>>24,j[pe+2]=X>>>16&255,j[pe+1]=X>>>8&255,j[pe]=X&255)}return j}vr.split32=u;function h(A,I){return A>>>I|A<<32-I}vr.rotr32=h;function p(A,I){return A<<I|A>>>32-I}vr.rotl32=p;function f(A,I){return A+I>>>0}vr.sum32=f;function y(A,I,j){return A+I+j>>>0}vr.sum32_3=y;function g(A,I,j,ne){return A+I+j+ne>>>0}vr.sum32_4=g;function w(A,I,j,ne,pe){return A+I+j+ne+pe>>>0}vr.sum32_5=w;function m(A,I,j,ne){var pe=A[I],X=A[I+1],ce=ne+X>>>0,ue=(ce<ne?1:0)+j+pe;A[I]=ue>>>0,A[I+1]=ce}vr.sum64=m;function v(A,I,j,ne){var pe=I+ne>>>0,X=(pe<I?1:0)+A+j;return X>>>0}vr.sum64_hi=v;function x(A,I,j,ne){var pe=I+ne;return pe>>>0}vr.sum64_lo=x;function E(A,I,j,ne,pe,X,ce,ue){var xe=0,we=I;we=we+ne>>>0,xe+=we<I?1:0,we=we+X>>>0,xe+=we<X?1:0,we=we+ue>>>0,xe+=we<ue?1:0;var F=A+j+pe+ce+xe;return F>>>0}vr.sum64_4_hi=E;function N(A,I,j,ne,pe,X,ce,ue){var xe=I+ne+X+ue;return xe>>>0}vr.sum64_4_lo=N;function C(A,I,j,ne,pe,X,ce,ue,xe,we){var F=0,J=I;J=J+ne>>>0,F+=J<I?1:0,J=J+X>>>0,F+=J<X?1:0,J=J+ue>>>0,F+=J<ue?1:0,J=J+we>>>0,F+=J<we?1:0;var se=A+j+pe+ce+xe+F;return se>>>0}vr.sum64_5_hi=C;function P(A,I,j,ne,pe,X,ce,ue,xe,we){var F=I+ne+X+ue+we;return F>>>0}vr.sum64_5_lo=P;function k(A,I,j){var ne=I<<32-j|A>>>j;return ne>>>0}vr.rotr64_hi=k;function T(A,I,j){var ne=A<<32-j|I>>>j;return ne>>>0}vr.rotr64_lo=T;function q(A,I,j){return A>>>j}vr.shr64_hi=q;function M(A,I,j){var ne=A<<32-j|I>>>j;return ne>>>0}return vr.shr64_lo=M,vr}var wA={},HD;function Hy(){if(HD)return wA;HD=1;var t=Tl(),e=Wy();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return wA.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-a,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,a=s-(i+this.padLength)%s,o=new Array(a+this.padLength);o[0]=128;for(var l=1;l<a;l++)o[l]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)o[l++]=0;o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=i>>>24&255,o[l++]=i>>>16&255,o[l++]=i>>>8&255,o[l++]=i&255}else for(o[l++]=i&255,o[l++]=i>>>8&255,o[l++]=i>>>16&255,o[l++]=i>>>24&255,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,c=8;c<this.padLength;c++)o[l++]=0;return o},wA}var Jd={},Wo={},GD;function NG(){if(GD)return Wo;GD=1;var t=Tl(),e=t.rotr32;function r(u,h,p,f){if(u===0)return n(h,p,f);if(u===1||u===3)return s(h,p,f);if(u===2)return i(h,p,f)}Wo.ft_1=r;function n(u,h,p){return u&h^~u&p}Wo.ch32=n;function i(u,h,p){return u&h^u&p^h&p}Wo.maj32=i;function s(u,h,p){return u^h^p}Wo.p32=s;function a(u){return e(u,2)^e(u,13)^e(u,22)}Wo.s0_256=a;function o(u){return e(u,6)^e(u,11)^e(u,25)}Wo.s1_256=o;function l(u){return e(u,7)^e(u,18)^u>>>3}Wo.g0_256=l;function c(u){return e(u,17)^e(u,19)^u>>>10}return Wo.g1_256=c,Wo}var bA,KD;function ZSe(){if(KD)return bA;KD=1;var t=Tl(),e=Hy(),r=NG(),n=t.rotl32,i=t.sum32,s=t.sum32_5,a=r.ft_1,o=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(c,o),bA=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(h,p){for(var f=this.W,y=0;y<16;y++)f[y]=h[p+y];for(;y<f.length;y++)f[y]=n(f[y-3]^f[y-8]^f[y-14]^f[y-16],1);var g=this.h[0],w=this.h[1],m=this.h[2],v=this.h[3],x=this.h[4];for(y=0;y<f.length;y++){var E=~~(y/20),N=s(n(g,5),a(E,w,m,v),x,f[y],l[E]);x=v,v=m,m=n(w,30),w=g,g=N}this.h[0]=i(this.h[0],g),this.h[1]=i(this.h[1],w),this.h[2]=i(this.h[2],m),this.h[3]=i(this.h[3],v),this.h[4]=i(this.h[4],x)},c.prototype._digest=function(h){return h==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},bA}var xA,YD;function TG(){if(YD)return xA;YD=1;var t=Tl(),e=Hy(),r=NG(),n=Wy(),i=t.sum32,s=t.sum32_4,a=t.sum32_5,o=r.ch32,l=r.maj32,c=r.s0_256,u=r.s1_256,h=r.g0_256,p=r.g1_256,f=e.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}return t.inherits(g,f),xA=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(m,v){for(var x=this.W,E=0;E<16;E++)x[E]=m[v+E];for(;E<x.length;E++)x[E]=s(p(x[E-2]),x[E-7],h(x[E-15]),x[E-16]);var N=this.h[0],C=this.h[1],P=this.h[2],k=this.h[3],T=this.h[4],q=this.h[5],M=this.h[6],A=this.h[7];for(n(this.k.length===x.length),E=0;E<x.length;E++){var I=a(A,u(T),o(T,q,M),this.k[E],x[E]),j=i(c(N),l(N,C,P));A=M,M=q,q=T,T=i(k,I),k=P,P=C,C=N,N=i(I,j)}this.h[0]=i(this.h[0],N),this.h[1]=i(this.h[1],C),this.h[2]=i(this.h[2],P),this.h[3]=i(this.h[3],k),this.h[4]=i(this.h[4],T),this.h[5]=i(this.h[5],q),this.h[6]=i(this.h[6],M),this.h[7]=i(this.h[7],A)},g.prototype._digest=function(m){return m==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},xA}var _A,XD;function eNe(){if(XD)return _A;XD=1;var t=Tl(),e=TG();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),_A=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},_A}var EA,JD;function PG(){if(JD)return EA;JD=1;var t=Tl(),e=Hy(),r=Wy(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,a=t.shr64_lo,o=t.sum64,l=t.sum64_hi,c=t.sum64_lo,u=t.sum64_4_hi,h=t.sum64_4_lo,p=t.sum64_5_hi,f=t.sum64_5_lo,y=e.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}t.inherits(w,y),EA=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(j,ne){for(var pe=this.W,X=0;X<32;X++)pe[X]=j[ne+X];for(;X<pe.length;X+=2){var ce=M(pe[X-4],pe[X-3]),ue=A(pe[X-4],pe[X-3]),xe=pe[X-14],we=pe[X-13],F=T(pe[X-30],pe[X-29]),J=q(pe[X-30],pe[X-29]),se=pe[X-32],he=pe[X-31];pe[X]=u(ce,ue,xe,we,F,J,se,he),pe[X+1]=h(ce,ue,xe,we,F,J,se,he)}},w.prototype._update=function(j,ne){this._prepareBlock(j,ne);var pe=this.W,X=this.h[0],ce=this.h[1],ue=this.h[2],xe=this.h[3],we=this.h[4],F=this.h[5],J=this.h[6],se=this.h[7],he=this.h[8],Q=this.h[9],$=this.h[10],V=this.h[11],te=this.h[12],ae=this.h[13],Z=this.h[14],ee=this.h[15];r(this.k.length===pe.length);for(var _e=0;_e<pe.length;_e+=2){var H=Z,ve=ee,B=P(he,Q),O=k(he,Q),L=m(he,Q,$,V,te),W=v(he,Q,$,V,te,ae),G=this.k[_e],ie=this.k[_e+1],re=pe[_e],Ae=pe[_e+1],Ne=p(H,ve,B,O,L,W,G,ie,re,Ae),Se=f(H,ve,B,O,L,W,G,ie,re,Ae);H=N(X,ce),ve=C(X,ce),B=x(X,ce,ue,xe,we),O=E(X,ce,ue,xe,we,F);var Ie=l(H,ve,B,O),Fe=c(H,ve,B,O);Z=te,ee=ae,te=$,ae=V,$=he,V=Q,he=l(J,se,Ne,Se),Q=c(se,se,Ne,Se),J=we,se=F,we=ue,F=xe,ue=X,xe=ce,X=l(Ne,Se,Ie,Fe),ce=c(Ne,Se,Ie,Fe)}o(this.h,0,X,ce),o(this.h,2,ue,xe),o(this.h,4,we,F),o(this.h,6,J,se),o(this.h,8,he,Q),o(this.h,10,$,V),o(this.h,12,te,ae),o(this.h,14,Z,ee)},w.prototype._digest=function(j){return j==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function m(I,j,ne,pe,X){var ce=I&ne^~I&X;return ce<0&&(ce+=4294967296),ce}function v(I,j,ne,pe,X,ce){var ue=j&pe^~j&ce;return ue<0&&(ue+=4294967296),ue}function x(I,j,ne,pe,X){var ce=I&ne^I&X^ne&X;return ce<0&&(ce+=4294967296),ce}function E(I,j,ne,pe,X,ce){var ue=j&pe^j&ce^pe&ce;return ue<0&&(ue+=4294967296),ue}function N(I,j){var ne=n(I,j,28),pe=n(j,I,2),X=n(j,I,7),ce=ne^pe^X;return ce<0&&(ce+=4294967296),ce}function C(I,j){var ne=i(I,j,28),pe=i(j,I,2),X=i(j,I,7),ce=ne^pe^X;return ce<0&&(ce+=4294967296),ce}function P(I,j){var ne=n(I,j,14),pe=n(I,j,18),X=n(j,I,9),ce=ne^pe^X;return ce<0&&(ce+=4294967296),ce}function k(I,j){var ne=i(I,j,14),pe=i(I,j,18),X=i(j,I,9),ce=ne^pe^X;return ce<0&&(ce+=4294967296),ce}function T(I,j){var ne=n(I,j,1),pe=n(I,j,8),X=s(I,j,7),ce=ne^pe^X;return ce<0&&(ce+=4294967296),ce}function q(I,j){var ne=i(I,j,1),pe=i(I,j,8),X=a(I,j,7),ce=ne^pe^X;return ce<0&&(ce+=4294967296),ce}function M(I,j){var ne=n(I,j,19),pe=n(j,I,29),X=s(I,j,6),ce=ne^pe^X;return ce<0&&(ce+=4294967296),ce}function A(I,j){var ne=i(I,j,19),pe=i(j,I,29),X=a(I,j,6),ce=ne^pe^X;return ce<0&&(ce+=4294967296),ce}return EA}var AA,QD;function tNe(){if(QD)return AA;QD=1;var t=Tl(),e=PG();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),AA=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},AA}var ZD;function rNe(){return ZD||(ZD=1,Jd.sha1=ZSe(),Jd.sha224=eNe(),Jd.sha256=TG(),Jd.sha384=tNe(),Jd.sha512=PG()),Jd}var SA={},e7;function nNe(){if(e7)return SA;e7=1;var t=Tl(),e=Hy(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,a=e.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(o,a),SA.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(w,m){for(var v=this.h[0],x=this.h[1],E=this.h[2],N=this.h[3],C=this.h[4],P=v,k=x,T=E,q=N,M=C,A=0;A<80;A++){var I=n(r(s(v,l(A,x,E,N),w[h[A]+m],c(A)),f[A]),C);v=C,C=N,N=r(E,10),E=x,x=I,I=n(r(s(P,l(79-A,k,T,q),w[p[A]+m],u(A)),y[A]),M),P=M,M=q,q=r(T,10),T=k,k=I}I=i(this.h[1],E,q),this.h[1]=i(this.h[2],N,M),this.h[2]=i(this.h[3],C,P),this.h[3]=i(this.h[4],v,k),this.h[4]=i(this.h[0],x,T),this.h[0]=I},o.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(g,w,m,v){return g<=15?w^m^v:g<=31?w&m|~w&v:g<=47?(w|~m)^v:g<=63?w&v|m&~v:w^(m|~v)}function c(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function u(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return SA}var NA,t7;function iNe(){if(t7)return NA;t7=1;var t=Tl(),e=Wy();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return NA=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},NA}var r7;function sNe(){return r7||(r7=1,function(t){var e=t;e.utils=Tl(),e.common=Hy(),e.sha=rNe(),e.ripemd=nNe(),e.hmac=iNe(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(yA)),yA}sNe();let aNe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",oNe=(t,e=21)=>(r=e)=>{let n="",i=r|0;for(;i--;)n+=t[Math.random()*t.length|0];return n},lNe=(t=21)=>{let e="",r=t|0;for(;r--;)e+=aNe[Math.random()*64|0];return e};const no=t=>Math.floor(t*72*20),r6=(t=0)=>{let e=t;return()=>++e},cNe=()=>r6(),uNe=()=>r6(1),dNe=()=>r6(),hNe=()=>lNe().toLowerCase(),Lg=t=>oNe("1234567890abcdef",t)(),fNe=()=>`${Lg(8)}-${Lg(4)}-${Lg(4)}-${Lg(4)}-${Lg(12)}`;class pNe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns"})}}class mNe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const gNe={EXTERNAL:"External"};class yNe extends Qe{constructor(e,r,n,i){super("Relationship"),this.root.push(new mNe({id:e,type:r,target:n,targetMode:i}))}}class hf extends Qe{constructor(){super("Relationships"),this.root.push(new pNe({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){const s=new yNe(`rId${e}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class vNe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class wNe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class bNe extends Qe{constructor({id:e,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new vNe({id:e,initials:r,author:n,date:i.toISOString()}));for(const a of s)this.root.push(a)}}class xNe extends Qe{constructor({children:e}){super("w:comments"),We(this,"relationships"),this.root.push(new wNe({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new bNe(r));this.relationships=new hf}get Relationships(){return this.relationships}}class _Ne extends Qe{constructor(){super("w:pageBreakBefore")}}const E4={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class ENe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class ANe extends Qe{constructor(e){super("w:spacing"),this.root.push(new ENe(e))}}let m1=class extends Qe{constructor(e){super("w:pStyle"),this.root.push(new En({val:e}))}};class SNe extends Qe{constructor(e){super("w:tabs");for(const r of e)this.root.push(new TNe(r))}}const n7={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class NNe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class TNe extends Qe{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new NNe({val:e,pos:r,leader:n}))}}class TA extends Qe{constructor(e,r){super("w:numPr"),this.root.push(new PNe(r)),this.root.push(new CNe(e))}}class PNe extends Qe{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new En({val:e}))}}class CNe extends Qe{constructor(e){super("w:numId"),this.root.push(new En({val:typeof e=="string"?`{${e}}`:e}))}}class kNe extends Qe{constructor(){super(...arguments),We(this,"fileChild",Symbol())}}class INe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class jNe extends Qe{constructor(e,r,n){super("w:hyperlink"),We(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new INe(i);this.root.push(s),e.forEach(a=>{this.root.push(a)})}}class ONe extends Qe{constructor(e){super("w:externalHyperlink"),this.options=e}}class RNe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class LNe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id"})}}class DNe{constructor(e){We(this,"bookmarkUniqueNumericId",dNe()),We(this,"start"),We(this,"children"),We(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new MNe(e.id,r),this.children=e.children,this.end=new FNe(r)}}class MNe extends Qe{constructor(e,r){super("w:bookmarkStart");const n=new RNe({name:e,id:r});this.root.push(n)}}class FNe extends Qe{constructor(e){super("w:bookmarkEnd");const r=new LNe({id:e});this.root.push(r)}}class BNe extends Qe{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new En({val:e}))}}const UNe={TOP:"top",CENTER:"center",BOTTOM:"bottom"};hm(Xt({},UNe),{BOTH:"both"});class $Ne extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{verticalAlign:"w:val"})}}class VNe extends Qe{constructor(e){super("w:vAlign"),this.root.push(new $Ne({verticalAlign:e}))}}class zNe extends Qe{constructor({space:e,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new q2({space:{key:"w:space",value:e===void 0?void 0:po(e)},count:{key:"w:num",value:r===void 0?void 0:Ts(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(a=>this.addChildElement(a))}}const qNe=({type:t,linePitch:e,charSpace:r})=>new _l({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Ts(e)},charSpace:{key:"w:charSpace",value:r?Ts(r):void 0}}}),Fp={DEFAULT:"default",FIRST:"first",EVEN:"even"};class WNe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const i7={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class PA extends Qe{constructor(e,r){super(e),this.root.push(new WNe({type:r.type||Fp.DEFAULT,id:`rId${r.id}`}))}}const HNe=({countBy:t,start:e,restart:r,distance:n})=>new _l({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Ts(t)},start:{key:"w:start",value:e===void 0?void 0:Ts(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:po(n)}}});class s7 extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class GNe extends z2{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new s7({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new s7({})),e.pageBorderTop&&this.root.push(new rn("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new rn("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new rn("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new rn("w:right",e.pageBorderRight))}}class KNe extends Qe{constructor(e,r,n,i,s,a,o){super("w:pgMar"),this.root.push(new q2({top:{key:"w:top",value:xh(e)},right:{key:"w:right",value:po(r)},bottom:{key:"w:bottom",value:xh(n)},left:{key:"w:left",value:po(i)},header:{key:"w:header",value:po(s)},footer:{key:"w:footer",value:po(a)},gutter:{key:"w:gutter",value:po(o)}}))}}class YNe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class XNe extends Qe{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new YNe({start:e===void 0?void 0:Ts(e),formatType:r,separator:n}))}}const A4={PORTRAIT:"portrait",LANDSCAPE:"landscape"},JNe=({width:t,height:e,orientation:r,code:n})=>{const i=po(t),s=po(e);return new _l({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===A4.LANDSCAPE?s:i},height:{key:"w:h",value:r===A4.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class QNe extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class ZNe extends Qe{constructor(e){super("w:textDirection"),this.root.push(new QNe({val:e}))}}class e4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class t4e extends Qe{constructor(e){super("w:type"),this.root.push(new e4e({val:e}))}}const Qd={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},CA={WIDTH:11906,HEIGHT:16838,ORIENTATION:A4.PORTRAIT};class r4e extends Qe{constructor({page:{size:{width:e=CA.WIDTH,height:r=CA.HEIGHT,orientation:n=CA.ORIENTATION}={},margin:{top:i=Qd.TOP,right:s=Qd.RIGHT,bottom:a=Qd.BOTTOM,left:o=Qd.LEFT,header:l=Qd.HEADER,footer:c=Qd.FOOTER,gutter:u=Qd.GUTTER}={},pageNumbers:h={},borders:p,textDirection:f}={},grid:{linePitch:y=360,charSpace:g,type:w}={},headerWrapperGroup:m={},footerWrapperGroup:v={},lineNumbers:x,titlePage:E,verticalAlign:N,column:C,type:P}={}){super("w:sectPr"),this.addHeaderFooterGroup(i7.HEADER,m),this.addHeaderFooterGroup(i7.FOOTER,v),P&&this.root.push(new t4e(P)),this.root.push(JNe({width:e,height:r,orientation:n})),this.root.push(new KNe(i,s,a,o,l,c,u)),p&&this.root.push(new GNe(p)),x&&this.root.push(HNe(x)),this.root.push(new XNe(h)),C&&this.root.push(new zNe(C)),N&&this.root.push(new VNe(N)),E!==void 0&&this.root.push(new Ze("w:titlePg",E)),f&&this.root.push(new ZNe(f)),this.root.push(qNe({linePitch:y,charSpace:g,type:w}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new PA(e,{type:Fp.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new PA(e,{type:Fp.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new PA(e,{type:Fp.EVEN,id:r.even.View.ReferenceId}))}}class n4e extends Qe{constructor(){super("w:body"),We(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new r4e(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new wr({}),n=new ym({});return n.push(e),r.addChildElement(n),r}}const a7={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class Y2 extends Ct{constructor(e,r){super(Xt({Ignorable:r},Object.fromEntries(e.map(n=>[n,a7[n]])))),We(this,"xmlKeys",Xt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(a7).map(n=>[n,`xmlns:${n}`]))))}}class i4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class s4e extends Qe{constructor(e){super("w:background"),this.root.push(new i4e({color:e.color===void 0?void 0:pm(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:$D(e.themeShade),themeTint:e.themeTint===void 0?void 0:$D(e.themeTint)}))}}class a4e extends Qe{constructor(e){super("w:document"),We(this,"body"),this.root.push(new Y2(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new n4e,e.background&&this.root.push(new s4e(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class CG{constructor(e){We(this,"document"),We(this,"relationships"),this.document=new a4e(e),this.relationships=new hf}get View(){return this.document}get Relationships(){return this.relationships}}class o4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class l4e extends Qe{constructor(){super("w:wordWrap"),this.root.push(new o4e({val:0}))}}const c4e=t=>{var e,r;return new _l({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class ym extends z2{constructor(e){var r,n;if(super("w:pPr"),We(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new m1(e.heading)),e.bullet&&this.push(new m1("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new m1("ListParagraph"))),e.style&&this.push(new m1(e.style)),e.keepNext!==void 0&&this.push(new Ze("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Ze("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new _Ne),e.frame&&this.push(c4e(e.frame)),e.widowControl!==void 0&&this.push(new Ze("w:widowControl",e.widowControl)),e.bullet&&this.push(new TA(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new TA(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new TA(0,0)),e.border&&this.push(new ISe(e.border)),e.thematicBreak&&this.push(new jSe),e.shading&&this.push(new EG(e.shading)),e.wordWrap&&this.push(new l4e),e.overflowPunctuation&&this.push(new Ze("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:n7.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:n7.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new SNe(i)),e.bidirectional!==void 0&&this.push(new Ze("w:bidi",e.bidirectional)),e.spacing&&this.push(new ANe(e.spacing)),e.indent&&this.push(new OSe(e.indent)),e.contextualSpacing!==void 0&&this.push(new Ze("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new CSe(e.alignment)),e.outlineLevel!==void 0&&this.push(new BNe(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Ze("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Ze("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new df(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof CG)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class wr extends kNe{constructor(e){if(super("w:p"),We(this,"properties"),typeof e=="string")return this.properties=new ym({}),this.root.push(this.properties),this.root.push(new Mt(e)),this;if(this.properties=new ym(e),this.root.push(this.properties),e.text&&this.root.push(new Mt(e.text)),e.children)for(const r of e.children){if(r instanceof DNe){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof ONe){const n=this.root.indexOf(r),i=new jNe(r.options.children,hNe());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,gNe.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const Wf={style:ZC.NONE,size:0,color:"auto"},Hf={style:ZC.SINGLE,size:4,color:"auto"};class u4e extends Qe{constructor(e){super("w:tblBorders"),e.top?this.root.push(new rn("w:top",e.top)):this.root.push(new rn("w:top",Hf)),e.left?this.root.push(new rn("w:left",e.left)):this.root.push(new rn("w:left",Hf)),e.bottom?this.root.push(new rn("w:bottom",e.bottom)):this.root.push(new rn("w:bottom",Hf)),e.right?this.root.push(new rn("w:right",e.right)):this.root.push(new rn("w:right",Hf)),e.insideHorizontal?this.root.push(new rn("w:insideH",e.insideHorizontal)):this.root.push(new rn("w:insideH",Hf)),e.insideVertical?this.root.push(new rn("w:insideV",e.insideVertical)):this.root.push(new rn("w:insideV",Hf))}}We(u4e,"NONE",{top:Wf,bottom:Wf,left:Wf,right:Wf,insideHorizontal:Wf,insideVertical:Wf});class d4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class h4e extends Qe{constructor(){super("Properties"),this.root.push(new d4e({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class f4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns"})}}class p4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Yl extends Qe{constructor(e,r){super("Default"),this.root.push(new p4e({contentType:e,extension:r}))}}class m4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class ga extends Qe{constructor(e,r){super("Override"),this.root.push(new m4e({contentType:e,partName:r}))}}class g4e extends Qe{constructor(){super("Types"),this.root.push(new f4e({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Yl("image/png","png")),this.root.push(new Yl("image/jpeg","jpeg")),this.root.push(new Yl("image/jpeg","jpg")),this.root.push(new Yl("image/bmp","bmp")),this.root.push(new Yl("image/gif","gif")),this.root.push(new Yl("image/svg+xml","svg")),this.root.push(new Yl("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Yl("application/xml","xml")),this.root.push(new Yl("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new ga("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new ga("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new ga("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new ga("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new ga("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new ga("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new ga("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new ga("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new ga("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new ga("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new ga("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new ga("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class y4e extends Qe{constructor(e){super("cp:coreProperties"),this.root.push(new Y2(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Xd("dc:title",e.title)),e.subject&&this.root.push(new Xd("dc:subject",e.subject)),e.creator&&this.root.push(new Xd("dc:creator",e.creator)),e.keywords&&this.root.push(new Xd("cp:keywords",e.keywords)),e.description&&this.root.push(new Xd("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Xd("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Xd("cp:revision",String(e.revision))),this.root.push(new o7("dcterms:created")),this.root.push(new o7("dcterms:modified"))}}class v4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{type:"xsi:type"})}}class o7 extends Qe{constructor(e){super(e),this.root.push(new v4e({type:"dcterms:W3CDTF"})),this.root.push(TSe(new Date))}}class w4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class b4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class x4e extends Qe{constructor(e,r){super("property"),this.root.push(new b4e({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new _4e(r.value))}}class _4e extends Qe{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class E4e extends Qe{constructor(e){super("Properties"),We(this,"nextId"),We(this,"properties",[]),this.root.push(new w4e({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new x4e(this.nextId++,e))}}const g1=({id:t,fontKey:e,subsetted:r},n)=>new _l({name:n,attributes:Xt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new Ze("w:subsetted",r)]:[]]}),A4e=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:s,pitch:a,sig:o,embedRegular:l,embedBold:c,embedItalic:u,embedBoldItalic:h})=>new _l({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Rg("w:altName",e)]:[],...r?[Rg("w:panose1",r)]:[],...n?[Rg("w:charset",n)]:[],Rg("w:family",i),...s?[new Ze("w:notTrueType",s)]:[],Rg("w:pitch",a),...o?[new _l({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...l?[g1(l,"w:embedRegular")]:[],...c?[g1(c,"w:embedBold")]:[],...u?[g1(u,"w:embedItalic")]:[],...h?[g1(h,"w:embedBoldItalic")]:[]]}),S4e=({name:t,index:e,fontKey:r,characterSet:n})=>A4e({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),N4e=t=>new _l({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>S4e({name:e.name,index:r+1,fontKey:e.fontKey}))});class T4e{constructor(e){We(this,"fontTable"),We(this,"relationships"),We(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>hm(Xt({},r),{fontKey:fNe()})),this.fontTable=N4e(this.fontOptionsWithKey),this.relationships=new hf;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class P4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let C4e=class extends wG{constructor(e,r){super("w:ftr",r),We(this,"refId"),this.refId=e,r||this.root.push(new P4e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class k4e{constructor(e,r,n){We(this,"footer"),We(this,"relationships"),this.media=e,this.footer=new C4e(r,n),this.relationships=new hf}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class I4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class j4e extends Qe{constructor(){super("w:footnoteRef")}}class O4e extends K2{constructor(){super({style:"FootnoteReference"}),this.root.push(new j4e)}}const l7={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class kA extends Qe{constructor(e){super("w:footnote"),this.root.push(new I4e({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new O4e),this.root.push(n)}}}class R4e extends Qe{constructor(){super("w:continuationSeparator")}}class L4e extends K2{constructor(){super({}),this.root.push(new R4e)}}class D4e extends Qe{constructor(){super("w:separator")}}class M4e extends K2{constructor(){super({}),this.root.push(new D4e)}}class F4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class B4e extends Qe{constructor(){super("w:footnotes"),this.root.push(new F4e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new kA({id:-1,type:l7.SEPERATOR,children:[new wr({spacing:{after:0,line:240,lineRule:E4.AUTO},children:[new M4e]})]});this.root.push(e);const r=new kA({id:0,type:l7.CONTINUATION_SEPERATOR,children:[new wr({spacing:{after:0,line:240,lineRule:E4.AUTO},children:[new L4e]})]});this.root.push(r)}createFootNote(e,r){const n=new kA({id:e,children:r});this.root.push(n)}}class U4e{constructor(){We(this,"footnotess"),We(this,"relationships"),this.footnotess=new B4e,this.relationships=new hf}get View(){return this.footnotess}get Relationships(){return this.relationships}}class $4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let V4e=class extends wG{constructor(e,r){super("w:hdr",r),We(this,"refId"),this.refId=e,r||this.root.push(new $4e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class z4e{constructor(e,r,n){We(this,"header"),We(this,"relationships"),this.media=e,this.header=new V4e(r,n),this.relationships=new hf}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class q4e{constructor(){We(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const Xl={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class W4e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class H4e extends Qe{constructor(e){super("w:numFmt"),this.root.push(new En({val:e}))}}class G4e extends Qe{constructor(e){super("w:lvlText"),this.root.push(new En({val:e}))}}class K4e extends Qe{constructor(e){super("w:lvlJc"),this.root.push(new En({val:e}))}}class Y4e extends Qe{constructor(e){super("w:suff"),this.root.push(new En({val:e}))}}class X4e extends Qe{constructor(){super("w:isLgl")}}class J4e extends Qe{constructor({level:e,format:r,text:n,alignment:i=Kt.START,start:s=1,style:a,suffix:o,isLegalNumberingStyle:l}){if(super("w:lvl"),We(this,"paragraphProperties"),We(this,"runProperties"),this.root.push(new v0("w:start",Ts(s))),r&&this.root.push(new H4e(r)),o&&this.root.push(new Y4e(o)),l&&this.root.push(new X4e),n&&this.root.push(new G4e(n)),this.root.push(new K4e(i)),this.paragraphProperties=new ym(a&&a.paragraph),this.runProperties=new df(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new W4e({ilvl:Ts(e),tentative:1}))}}class Q4e extends J4e{}class Z4e extends Qe{constructor(e){super("w:multiLevelType"),this.root.push(new En({val:e}))}}class e3e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class c7 extends Qe{constructor(e,r){super("w:abstractNum"),We(this,"id"),this.root.push(new e3e({abstractNumId:Ts(e),restartNumberingAfterBreak:0})),this.root.push(new Z4e("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new Q4e(n))}}class t3e extends Qe{constructor(e){super("w:abstractNumId"),this.root.push(new En({val:e}))}}class r3e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{numId:"w:numId"})}}class u7 extends Qe{constructor(e){if(super("w:num"),We(this,"numId"),We(this,"reference"),We(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new r3e({numId:Ts(e.numId)})),this.root.push(new t3e(Ts(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new i3e(r.num,r.start))}}class n3e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{ilvl:"w:ilvl"})}}class i3e extends Qe{constructor(e,r){super("w:lvlOverride"),this.root.push(new n3e({ilvl:e})),r!==void 0&&this.root.push(new a3e(r))}}class s3e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class a3e extends Qe{constructor(e){super("w:startOverride"),this.root.push(new s3e({val:e}))}}class o3e extends Qe{constructor(e){super("w:numbering"),We(this,"abstractNumberingMap",new Map),We(this,"concreteNumberingMap",new Map),We(this,"referenceConfigMap",new Map),We(this,"abstractNumUniqueNumericId",cNe()),We(this,"concreteNumUniqueNumericId",uNe()),this.root.push(new Y2(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new c7(this.abstractNumUniqueNumericId(),[{level:0,format:Xl.BULLET,text:"●",alignment:Kt.LEFT,style:{paragraph:{indent:{left:no(.5),hanging:no(.25)}}}},{level:1,format:Xl.BULLET,text:"○",alignment:Kt.LEFT,style:{paragraph:{indent:{left:no(1),hanging:no(.25)}}}},{level:2,format:Xl.BULLET,text:"■",alignment:Kt.LEFT,style:{paragraph:{indent:{left:2160,hanging:no(.25)}}}},{level:3,format:Xl.BULLET,text:"●",alignment:Kt.LEFT,style:{paragraph:{indent:{left:2880,hanging:no(.25)}}}},{level:4,format:Xl.BULLET,text:"○",alignment:Kt.LEFT,style:{paragraph:{indent:{left:3600,hanging:no(.25)}}}},{level:5,format:Xl.BULLET,text:"■",alignment:Kt.LEFT,style:{paragraph:{indent:{left:4320,hanging:no(.25)}}}},{level:6,format:Xl.BULLET,text:"●",alignment:Kt.LEFT,style:{paragraph:{indent:{left:5040,hanging:no(.25)}}}},{level:7,format:Xl.BULLET,text:"●",alignment:Kt.LEFT,style:{paragraph:{indent:{left:5760,hanging:no(.25)}}}},{level:8,format:Xl.BULLET,text:"●",alignment:Kt.LEFT,style:{paragraph:{indent:{left:6480,hanging:no(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new u7({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new c7(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),a=s&&s[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new u7(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class l3e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class c3e extends Qe{constructor(e){super("w:compatSetting"),this.root.push(new l3e({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class u3e extends Qe{constructor(e){super("w:compat"),e.version&&this.root.push(new c3e(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Ze("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Ze("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Ze("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Ze("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Ze("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Ze("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Ze("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Ze("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Ze("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Ze("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Ze("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Ze("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Ze("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Ze("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Ze("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Ze("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Ze("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Ze("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Ze("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Ze("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Ze("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Ze("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Ze("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Ze("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Ze("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Ze("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Ze("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Ze("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Ze("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Ze("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Ze("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Ze("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Ze("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Ze("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Ze("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Ze("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Ze("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Ze("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Ze("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Ze("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Ze("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Ze("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Ze("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Ze("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Ze("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Ze("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Ze("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Ze("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Ze("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Ze("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Ze("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Ze("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Ze("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Ze("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Ze("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Ze("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Ze("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Ze("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Ze("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Ze("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Ze("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Ze("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Ze("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Ze("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Ze("w:cachedColBalance",e.cachedColumnBalance))}}class d3e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}let h3e=class extends Qe{constructor(e){var r,n,i,s,a,o,l,c;super("w:settings"),this.root.push(new d3e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Ze("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Ze("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Ze("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Ze("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new v0("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new Ze("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new v0("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new v0("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new Ze("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new u3e(hm(Xt({},(a=e.compatibility)!=null?a:{}),{version:(c=(l=(o=e.compatibility)==null?void 0:o.version)!=null?l:e.compatibilityModeVersion)!=null?c:15})))}};class kG extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class f3e extends Qe{constructor(e){super("w:name"),this.root.push(new kG({val:e}))}}class p3e extends Qe{constructor(e){super("w:uiPriority"),this.root.push(new kG({val:Ts(e)}))}}class m3e extends Ct{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class IG extends Qe{constructor(e,r){super("w:style"),this.root.push(new m3e(e)),r.name&&this.root.push(new f3e(r.name)),r.basedOn&&this.root.push(new Mp("w:basedOn",r.basedOn)),r.next&&this.root.push(new Mp("w:next",r.next)),r.link&&this.root.push(new Mp("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new p3e(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Ze("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Ze("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Ze("w:qFormat",r.quickFormat))}}class X2 extends IG{constructor(e){super({type:"paragraph",styleId:e.id},e),We(this,"paragraphProperties"),We(this,"runProperties"),this.paragraphProperties=new ym(e.paragraph),this.runProperties=new df(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class J2 extends IG{constructor(e){super({type:"character",styleId:e.id},Xt({uiPriority:99,unhideWhenUsed:!0},e)),We(this,"runProperties"),this.runProperties=new df(e.run),this.root.push(this.runProperties)}}class Pd extends X2{constructor(e){super(Xt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class g3e extends Pd{constructor(e){super(Xt({id:"Title",name:"Title"},e))}}class y3e extends Pd{constructor(e){super(Xt({id:"Heading1",name:"Heading 1"},e))}}class v3e extends Pd{constructor(e){super(Xt({id:"Heading2",name:"Heading 2"},e))}}class w3e extends Pd{constructor(e){super(Xt({id:"Heading3",name:"Heading 3"},e))}}class b3e extends Pd{constructor(e){super(Xt({id:"Heading4",name:"Heading 4"},e))}}class x3e extends Pd{constructor(e){super(Xt({id:"Heading5",name:"Heading 5"},e))}}class _3e extends Pd{constructor(e){super(Xt({id:"Heading6",name:"Heading 6"},e))}}class E3e extends Pd{constructor(e){super(Xt({id:"Strong",name:"Strong"},e))}}class A3e extends X2{constructor(e){super(Xt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class S3e extends X2{constructor(e){super(Xt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:E4.AUTO}},run:{size:20}},e))}}class N3e extends J2{constructor(e){super(Xt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class T3e extends J2{constructor(e){super(Xt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class P3e extends J2{constructor(e){super(Xt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:SG.SINGLE}}},e))}}class S4 extends Qe{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new X2(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new J2(r))}}class C3e extends Qe{constructor(e){super("w:pPrDefault"),this.root.push(new ym(e))}}class k3e extends Qe{constructor(e){super("w:rPrDefault"),this.root.push(new df(e))}}class I3e extends Qe{constructor(e){super("w:docDefaults"),We(this,"runPropertiesDefaults"),We(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new k3e(e.run),this.paragraphPropertiesDefaults=new C3e(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class j3e{newInstance(e){const r=vG.xml2js(e,{compact:!1});let n;for(const a of r.elements||[])a.name==="w:styles"&&(n=a);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new S4({initialStyles:new ESe(n.attributes),importedStyles:i.map(a=>QC(a))})}}class d7{newInstance(e={}){var r;return{initialStyles:new Y2(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new I3e((r=e.document)!=null?r:{}),new g3e(Xt({run:{size:56}},e.title)),new y3e(Xt({run:{color:"2E74B5",size:32}},e.heading1)),new v3e(Xt({run:{color:"2E74B5",size:26}},e.heading2)),new w3e(Xt({run:{color:"1F4D78",size:24}},e.heading3)),new b3e(Xt({run:{color:"2E74B5",italics:!0}},e.heading4)),new x3e(Xt({run:{color:"2E74B5"}},e.heading5)),new _3e(Xt({run:{color:"1F4D78"}},e.heading6)),new E3e(Xt({run:{bold:!0}},e.strong)),new A3e(e.listParagraph||{}),new P3e(e.hyperlink||{}),new N3e(e.footnoteReference||{}),new S3e(e.footnoteText||{}),new T3e(e.footnoteTextChar||{})]}}}let h7=class{constructor(e){We(this,"currentRelationshipId",1),We(this,"documentWrapper"),We(this,"headers",[]),We(this,"footers",[]),We(this,"coreProperties"),We(this,"numbering"),We(this,"media"),We(this,"fileRelationships"),We(this,"footnotesWrapper"),We(this,"settings"),We(this,"contentTypes"),We(this,"customProperties"),We(this,"appProperties"),We(this,"styles"),We(this,"comments"),We(this,"fontWrapper");var r,n,i,s,a,o,l,c,u,h,p,f;if(this.coreProperties=new y4e(hm(Xt({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new o3e(e.numbering?e.numbering:{config:[]}),this.comments=new xNe((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new hf,this.customProperties=new E4e((a=e.customProperties)!=null?a:[]),this.appProperties=new h4e,this.footnotesWrapper=new U4e,this.contentTypes=new g4e,this.documentWrapper=new CG({background:e.background}),this.settings=new h3e({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(o=e.features)==null?void 0:o.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(c=e.hyphenation)==null?void 0:c.autoHyphenation,hyphenationZone:(u=e.hyphenation)==null?void 0:u.hyphenationZone,consecutiveHyphenLimit:(h=e.hyphenation)==null?void 0:h.consecutiveHyphenLimit,doNotHyphenateCaps:(p=e.hyphenation)==null?void 0:p.doNotHyphenateCaps}}),this.media=new q4e,e.externalStyles!==void 0){const y=new j3e;this.styles=y.newInstance(e.externalStyles)}else if(e.styles){const g=new d7().newInstance(e.styles.default);this.styles=new S4(Xt(Xt({},g),e.styles))}else{const y=new d7;this.styles=new S4(y.newInstance())}this.addDefaultRelationships();for(const y of e.sections)this.addSection(y);if(e.footnotes)for(const y in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),e.footnotes[y].children);this.fontWrapper=new T4e((f=e.fonts)!=null?f:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(hm(Xt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const r=new z4e(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new k4e(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Fp.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Fp.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var O3e=YC();function y1(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var IA={exports:{}},f7;function R3e(){return f7||(f7=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,s){function a(c,u){if(!i[c]){if(!n[c]){var h=typeof y1=="function"&&y1;if(!u&&h)return h(c,!0);if(o)return o(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var f=i[c]={exports:{}};n[c][0].call(f.exports,function(y){var g=n[c][1][y];return a(g||y)},f,f.exports,r,n,i,s)}return i[c].exports}for(var o=typeof y1=="function"&&y1,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,h,p,f,y,g,w=[],m=0,v=l.length,x=v,E=s.getTypeOf(l)!=="string";m<l.length;)x=v-m,h=E?(c=l[m++],u=m<v?l[m++]:0,m<v?l[m++]:0):(c=l.charCodeAt(m++),u=m<v?l.charCodeAt(m++):0,m<v?l.charCodeAt(m++):0),p=c>>2,f=(3&c)<<4|u>>4,y=1<x?(15&u)<<2|h>>6:64,g=2<x?63&h:64,w.push(o.charAt(p)+o.charAt(f)+o.charAt(y)+o.charAt(g));return w.join("")},i.decode=function(l){var c,u,h,p,f,y,g=0,w=0,m="data:";if(l.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var v,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=a.uint8array?new Uint8Array(0|x):new Array(0|x);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(p=o.indexOf(l.charAt(g++)))>>4,u=(15&p)<<4|(f=o.indexOf(l.charAt(g++)))>>2,h=(3&f)<<6|(y=o.indexOf(l.charAt(g++))),v[w++]=c,f!==64&&(v[w++]=u),y!==64&&(v[w++]=h);return v}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,h,p,f,y){this.compressedSize=u,this.uncompressedSize=h,this.crc32=p,this.compression=f,this.compressedContent=y}c.prototype={getContentWorker:function(){var u=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,h,p){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();n.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(c,u,h,p){var f=a,y=p+h;c^=-1;for(var g=p;g<y;g++)c=c>>>8^f[255&(c^u[g])];return-1^c}(0|l,o,o.length,0):function(c,u,h,p){var f=a,y=p+h;c^=-1;for(var g=p;g<y;g++)c=c>>>8^f[255&(c^u.charCodeAt(g))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),c=s?"uint8array":"array";function u(h,p){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},i.compressWorker=function(h){return new u("Deflate",h)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(f,y){var g,w="";for(g=0;g<y;g++)w+=String.fromCharCode(255&f),f>>>=8;return w}function a(f,y,g,w,m,v){var x,E,N=f.file,C=f.compression,P=v!==c.utf8encode,k=o.transformTo("string",v(N.name)),T=o.transformTo("string",c.utf8encode(N.name)),q=N.comment,M=o.transformTo("string",v(q)),A=o.transformTo("string",c.utf8encode(q)),I=T.length!==N.name.length,j=A.length!==q.length,ne="",pe="",X="",ce=N.dir,ue=N.date,xe={crc32:0,compressedSize:0,uncompressedSize:0};y&&!g||(xe.crc32=f.crc32,xe.compressedSize=f.compressedSize,xe.uncompressedSize=f.uncompressedSize);var we=0;y&&(we|=8),P||!I&&!j||(we|=2048);var F=0,J=0;ce&&(F|=16),m==="UNIX"?(J=798,F|=function(he,Q){var $=he;return he||($=Q?16893:33204),(65535&$)<<16}(N.unixPermissions,ce)):(J=20,F|=function(he){return 63&(he||0)}(N.dosPermissions)),x=ue.getUTCHours(),x<<=6,x|=ue.getUTCMinutes(),x<<=5,x|=ue.getUTCSeconds()/2,E=ue.getUTCFullYear()-1980,E<<=4,E|=ue.getUTCMonth()+1,E<<=5,E|=ue.getUTCDate(),I&&(pe=s(1,1)+s(u(k),4)+T,ne+="up"+s(pe.length,2)+pe),j&&(X=s(1,1)+s(u(M),4)+A,ne+="uc"+s(X.length,2)+X);var se="";return se+=`
\0`,se+=s(we,2),se+=C.magic,se+=s(x,2),se+=s(E,2),se+=s(xe.crc32,4),se+=s(xe.compressedSize,4),se+=s(xe.uncompressedSize,4),se+=s(k.length,2),se+=s(ne.length,2),{fileRecord:h.LOCAL_FILE_HEADER+se+k+ne,dirRecord:h.CENTRAL_FILE_HEADER+s(J,2)+se+s(M.length,2)+"\0\0\0\0"+s(F,4)+s(w,4)+k+ne+M}}var o=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),h=r("../signature");function p(f,y,g,w){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=g,this.encodeFileName=w,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,l),p.prototype.push=function(f){var y=f.meta.percent||0,g=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:g?(y+100*(g-w-1))/g:100}}))},p.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var y=this.streamFiles&&!f.file.dir;if(y){var g=a(f,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(f){this.accumulate=!1;var y=this.streamFiles&&!f.file.dir,g=a(f,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),y)this.push({data:function(w){return h.DATA_DESCRIPTOR+s(w.crc32,4)+s(w.compressedSize,4)+s(w.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var f=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var g=this.bytesWritten-f,w=function(m,v,x,E,N){var C=o.transformTo("string",N(E));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(m,2)+s(m,2)+s(v,4)+s(x,4)+s(C.length,2)+C}(this.dirRecords.length,g,f,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(f){this._sources.push(f);var y=this;return f.on("data",function(g){y.processChunk(g)}),f.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),f.on("error",function(g){y.error(g)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(f){var y=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var g=0;g<y.length;g++)try{y[g].error(f)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,y=0;y<f.length;y++)f[y].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{o.forEach(function(p,f){h++;var y=function(v,x){var E=v||x,N=s[E];if(!N)throw new Error(E+" is not a valid compression method !");return N}(f.options.compression,l.compression),g=f.options.compressionOptions||l.compressionOptions||{},w=f.dir,m=f.date;f._compressWorker(y,g).withStreamInfo("file",{name:p,dir:w,date:m,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function h(p){return new a.Promise(function(f,y){var g=p.decompressed.getContentWorker().pipe(new c);g.on("error",function(w){y(w)}).on("end",function(){g.streamInfo.crc32!==p.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}n.exports=function(p,f){var y=this;return f=s.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(p)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,f.optimizedBinaryString,f.base64).then(function(g){var w=new l(f);return w.load(g),w}).then(function(g){var w=[a.Promise.resolve(g)],m=g.files;if(f.checkCRC32)for(var v=0;v<m.length;v++)w.push(h(m[v]));return a.Promise.all(w)}).then(function(g){for(var w=g.shift(),m=w.files,v=0;v<m.length;v++){var x=m[v],E=x.fileNameStr,N=s.resolve(x.fileNameStr);y.file(N,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:f.createFolders}),x.dir||(y.file(N).unsafeOriginalName=E)}return w.zipComment.length&&(y.comment=w.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var u=this;o.on("data",function(h,p){u.push(h)||u._helper.pause(),c&&c(p)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(N,C,P){var k,T=o.getTypeOf(C),q=o.extend(P||{},u);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(N=m(N)),q.createFolders&&(k=w(N))&&v.call(this,k,!0);var M=T==="string"&&q.binary===!1&&q.base64===!1;P&&P.binary!==void 0||(q.binary=!M),(C instanceof h&&C.uncompressedSize===0||q.dir||!C||C.length===0)&&(q.base64=!1,q.binary=!0,C="",q.compression="STORE",T="string");var A=null;A=C instanceof h||C instanceof l?C:y.isNode&&y.isStream(C)?new g(N,C):o.prepareContent(N,C,q.binary,q.optimizedBinaryString,q.base64);var I=new p(N,A,q);this.files[N]=I}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),h=r("./compressedObject"),p=r("./zipObject"),f=r("./generate"),y=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),w=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var C=N.lastIndexOf("/");return 0<C?N.substring(0,C):""},m=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},v=function(N,C){return C=C!==void 0?C:u.createFolders,N=m(N),this.files[N]||s.call(this,N,null,{dir:!0,createFolders:C}),this.files[N]};function x(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var C,P,k;for(C in this.files)k=this.files[C],(P=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&N(P,k)},filter:function(N){var C=[];return this.forEach(function(P,k){N(P,k)&&C.push(k)}),C},file:function(N,C,P){if(arguments.length!==1)return N=this.root+N,s.call(this,N,C,P),this;if(x(N)){var k=N;return this.filter(function(q,M){return!M.dir&&k.test(q)})}var T=this.files[this.root+N];return T&&!T.dir?T:null},folder:function(N){if(!N)return this;if(x(N))return this.filter(function(T,q){return q.dir&&N.test(T)});var C=this.root+N,P=v.call(this,C),k=this.clone();return k.root=P.name,k},remove:function(N){N=this.root+N;var C=this.files[N];if(C||(N.slice(-1)!=="/"&&(N+="/"),C=this.files[N]),C&&!C.dir)delete this.files[N];else for(var P=this.filter(function(T,q){return q.name.slice(0,N.length)===N}),k=0;k<P.length;k++)delete this.files[P[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var C,P={};try{if((P=o.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");o.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var k=P.comment||this.comment||"";C=f.generateWorker(this,P,k)}catch(T){(C=new l("error")).error(T)}return new c(C,P.type||"string",P.mimeType)},generateAsync:function(N,C){return this.generateInternalStream(N).accumulate(C)},generateNodeStream:function(N,C){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(C)}};n.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),h=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===h)return p-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),h=o.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&h===p[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(h){var p=s.getTypeOf(h);return s.checkSupport(p),p!=="string"||a.uint8array?p==="nodebuffer"?new c(h):a.uint8array?new u(s.transformTo("uint8array",h)):new o(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(y,g){return new u.Promise(function(w,m){var v=[],x=y._internalType,E=y._outputType,N=y._mimeType;y.on("data",function(C,P){v.push(C),g&&g(P)}).on("error",function(C){v=[],m(C)}).on("end",function(){try{var C=function(P,k,T){switch(P){case"blob":return s.newBlob(s.transformTo("arraybuffer",k),T);case"base64":return l.encode(k);default:return s.transformTo(P,k)}}(E,function(P,k){var T,q=0,M=null,A=0;for(T=0;T<k.length;T++)A+=k[T].length;switch(P){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(M=new Uint8Array(A),T=0;T<k.length;T++)M.set(k[T],q),q+=k[T].length;return M;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+P+"'")}}(x,v),N);w(C)}catch(P){m(P)}v=[]}).resume()})}function f(y,g,w){var m=g;switch(g){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=g,this._mimeType=w,s.checkSupport(m),this._worker=y.pipe(new a(m)),y.lock()}catch(v){this._worker=new o("error"),this._worker.error(v)}}f.prototype={accumulate:function(y){return p(this,y)},on:function(y,g){var w=this;return y==="data"?this._worker.on(y,function(m){g.call(w,m.data,m.meta)}):this._worker.on(y,function(){s.delay(g,arguments,w)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return a.nodebuffer?o.newBufferFrom(f,"utf-8"):function(y){var g,w,m,v,x,E=y.length,N=0;for(v=0;v<E;v++)(64512&(w=y.charCodeAt(v)))==55296&&v+1<E&&(64512&(m=y.charCodeAt(v+1)))==56320&&(w=65536+(w-55296<<10)+(m-56320),v++),N+=w<128?1:w<2048?2:w<65536?3:4;for(g=a.uint8array?new Uint8Array(N):new Array(N),v=x=0;x<N;v++)(64512&(w=y.charCodeAt(v)))==55296&&v+1<E&&(64512&(m=y.charCodeAt(v+1)))==56320&&(w=65536+(w-55296<<10)+(m-56320),v++),w<128?g[x++]=w:(w<2048?g[x++]=192|w>>>6:(w<65536?g[x++]=224|w>>>12:(g[x++]=240|w>>>18,g[x++]=128|w>>>12&63),g[x++]=128|w>>>6&63),g[x++]=128|63&w);return g}(f)},i.utf8decode=function(f){return a.nodebuffer?s.transformTo("nodebuffer",f).toString("utf-8"):function(y){var g,w,m,v,x=y.length,E=new Array(2*x);for(g=w=0;g<x;)if((m=y[g++])<128)E[w++]=m;else if(4<(v=c[m]))E[w++]=65533,g+=v-1;else{for(m&=v===2?31:v===3?15:7;1<v&&g<x;)m=m<<6|63&y[g++],v--;1<v?E[w++]=65533:m<65536?E[w++]=m:(m-=65536,E[w++]=55296|m>>10&1023,E[w++]=56320|1023&m)}return E.length!==w&&(E.subarray?E=E.subarray(0,w):E.length=w),s.applyFromCharCode(E)}(f=s.transformTo(a.uint8array?"uint8array":"array",f))},s.inherits(h,l),h.prototype.processChunk=function(f){var y=s.transformTo(a.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=y;(y=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),y.set(g,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var w=function(v,x){var E;for((x=x||v.length)>v.length&&(x=v.length),E=x-1;0<=E&&(192&v[E])==128;)E--;return E<0||E===0?x:E+c[v[E]]>x?E:x}(y),m=y;w!==y.length&&(a.uint8array?(m=y.subarray(0,w),this.leftOver=y.subarray(w,y.length)):(m=y.slice(0,w),this.leftOver=y.slice(w,y.length))),this.push({data:i.utf8decode(m),meta:f.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(p,l),p.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function c(g){return g}function u(g,w){for(var m=0;m<g.length;++m)w[m]=255&g.charCodeAt(m);return w}r("setimmediate"),i.newBlob=function(g,w){i.checkSupport("blob");try{return new Blob([g],{type:w})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(g),m.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,w,m){var v=[],x=0,E=g.length;if(E<=m)return String.fromCharCode.apply(null,g);for(;x<E;)w==="array"||w==="nodebuffer"?v.push(String.fromCharCode.apply(null,g.slice(x,Math.min(x+m,E)))):v.push(String.fromCharCode.apply(null,g.subarray(x,Math.min(x+m,E)))),x+=m;return v.join("")},stringifyByChar:function(g){for(var w="",m=0;m<g.length;m++)w+=String.fromCharCode(g[m]);return w},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(g){var w=65536,m=i.getTypeOf(g),v=!0;if(m==="uint8array"?v=h.applyCanBeUsed.uint8array:m==="nodebuffer"&&(v=h.applyCanBeUsed.nodebuffer),v)for(;1<w;)try{return h.stringifyByChunk(g,m,w)}catch{w=Math.floor(w/2)}return h.stringifyByChar(g)}function f(g,w){for(var m=0;m<g.length;m++)w[m]=g[m];return w}i.applyFromCharCode=p;var y={};y.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return y.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,o.allocBuffer(g.length))}},y.array={string:p,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},y.arraybuffer={string:function(g){return p(new Uint8Array(g))},array:function(g){return f(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},y.uint8array={string:p,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},y.nodebuffer={string:p,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return y.nodebuffer.uint8array(g).buffer},uint8array:function(g){return f(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,w){if(w=w||"",!g)return w;i.checkSupport(g);var m=i.getTypeOf(w);return y[m][g](w)},i.resolve=function(g){for(var w=g.split("/"),m=[],v=0;v<w.length;v++){var x=w[v];x==="."||x===""&&v!==0&&v!==w.length-1||(x===".."?m.pop():m.push(x))}return m.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var w,m,v="";for(m=0;m<(g||"").length;m++)v+="\\x"+((w=g.charCodeAt(m))<16?"0":"")+w.toString(16).toUpperCase();return v},i.delay=function(g,w,m){setImmediate(function(){g.apply(m||null,w||[])})},i.inherits=function(g,w){function m(){}m.prototype=w.prototype,g.prototype=new m},i.extend=function(){var g,w,m={};for(g=0;g<arguments.length;g++)for(w in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],w)&&m[w]===void 0&&(m[w]=arguments[g][w]);return m},i.prepareContent=function(g,w,m,v,x){return l.Promise.resolve(w).then(function(E){return s.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(N,C){var P=new FileReader;P.onload=function(k){N(k.target.result)},P.onerror=function(k){C(k.target.error)},P.readAsArrayBuffer(E)}):E}).then(function(E){var N=i.getTypeOf(E);return N?(N==="arraybuffer"?E=i.transformTo("uint8array",E):N==="string"&&(x?E=a.decode(E):m&&v!==!0&&(E=function(C){return u(C,s.uint8array?new Uint8Array(C.length):new Array(C.length))}(E))),E):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(p)+", expected "+a.pretty(h)+")")}},isSignature:function(h,p){var f=this.reader.index;this.reader.setIndex(h);var y=this.reader.readString(4)===p;return this.reader.setIndex(f),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",f=a.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,f,y=this.zip64EndOfCentralSize-44;0<y;)h=this.reader.readInt(2),p=this.reader.readInt(4),f=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var y=p-f;if(0<y)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),h=r("./support");function p(f,y){this.options=f,this.loadOptions=y}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var y,g;if(f.skip(22),this.fileNameLength=f.readInt(2),g=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(w){for(var m in u)if(Object.prototype.hasOwnProperty.call(u,m)&&u[m].magic===w)return u[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var y=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(y),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var y,g,w,m=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<m;)y=f.readInt(2),g=f.readInt(2),w=f.readData(g),this.extraFields[y]={id:y,length:g,value:w};f.setIndex(m)},handleUTF8:function(){var f=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var g=a.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var m=a.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var y=s(f.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:c.utf8decode(y.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var y=s(f.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:c.utf8decode(y.readData(f.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(y,g,w){this.name=y,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=g,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");s.prototype={internalStream:function(y){var g=null,w="string";try{if(!y)throw new Error("No output type specified.");var m=(w=y.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),g=this._decompressWorker();var v=!this._dataBinary;v&&!m&&(g=g.pipe(new l.Utf8EncodeWorker)),!v&&m&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(x){(g=new u("error")).error(x)}return new a(g,w,"")},async:function(y,g){return this.internalStream(y).accumulate(g)},nodeStream:function(y,g){return this.internalStream(y||"nodebuffer").toNodejsStream(g)},_compressWorker:function(y,g){if(this._data instanceof c&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(w,y,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<h.length;f++)s.prototype[h[f]]=p;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(y),h=s.document.createTextNode("");u.observe(h,{characterData:!0}),a=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){y(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(y,0)};else{var p=new s.MessageChannel;p.port1.onmessage=y,a=function(){p.port2.postMessage(0)}}var f=[];function y(){var g,w;o=!0;for(var m=f.length;m;){for(w=f,f=[],g=-1;++g<m;)w[g]();m=f.length}o=!1}n.exports=function(g){f.push(g)!==1||o||a()}}).call(this,typeof al<"u"?al:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function h(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,m!==a&&g(this,m)}function p(m,v,x){this.promise=m,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function f(m,v,x){s(function(){var E;try{E=v(x)}catch(N){return o.reject(m,N)}E===m?o.reject(m,new TypeError("Cannot resolve promise with itself")):o.resolve(m,E)})}function y(m){var v=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof v=="function")return function(){v.apply(m,arguments)}}function g(m,v){var x=!1;function E(P){x||(x=!0,o.reject(m,P))}function N(P){x||(x=!0,o.resolve(m,P))}var C=w(function(){v(N,E)});C.status==="error"&&E(C.value)}function w(m,v){var x={};try{x.value=m(v),x.status="success"}catch(E){x.status="error",x.value=E}return x}(n.exports=h).prototype.finally=function(m){if(typeof m!="function")return this;var v=this.constructor;return this.then(function(x){return v.resolve(m()).then(function(){return x})},function(x){return v.resolve(m()).then(function(){throw x})})},h.prototype.catch=function(m){return this.then(null,m)},h.prototype.then=function(m,v){if(typeof m!="function"&&this.state===c||typeof v!="function"&&this.state===l)return this;var x=new this.constructor(a);return this.state!==u?f(x,this.state===c?m:v,this.outcome):this.queue.push(new p(x,m,v)),x},p.prototype.callFulfilled=function(m){o.resolve(this.promise,m)},p.prototype.otherCallFulfilled=function(m){f(this.promise,this.onFulfilled,m)},p.prototype.callRejected=function(m){o.reject(this.promise,m)},p.prototype.otherCallRejected=function(m){f(this.promise,this.onRejected,m)},o.resolve=function(m,v){var x=w(y,v);if(x.status==="error")return o.reject(m,x.value);var E=x.value;if(E)g(m,E);else{m.state=c,m.outcome=v;for(var N=-1,C=m.queue.length;++N<C;)m.queue[N].callFulfilled(v)}return m},o.reject=function(m,v){m.state=l,m.outcome=v;for(var x=-1,E=m.queue.length;++x<E;)m.queue[x].callRejected(v);return m},h.resolve=function(m){return m instanceof this?m:o.resolve(new this(a),m)},h.reject=function(m){var v=new this(a);return o.reject(v,m)},h.all=function(m){var v=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=m.length,E=!1;if(!x)return this.resolve([]);for(var N=new Array(x),C=0,P=-1,k=new this(a);++P<x;)T(m[P],P);return k;function T(q,M){v.resolve(q).then(function(A){N[M]=A,++C!==x||E||(E=!0,o.resolve(k,N))},function(A){E||(E=!0,o.reject(k,A))})}},h.race=function(m){var v=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=m.length,E=!1;if(!x)return this.resolve([]);for(var N=-1,C=new this(a);++N<x;)P=m[N],v.resolve(P).then(function(k){E||(E=!0,o.resolve(C,k))},function(k){E||(E=!0,o.reject(C,k))});var P;return C}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,h=0,p=-1,f=0,y=8;function g(m){if(!(this instanceof g))return new g(m);this.options=a.assign({level:p,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},m||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(x!==h)throw new Error(l[x]);if(v.header&&s.deflateSetHeader(this.strm,v.header),v.dictionary){var E;if(E=typeof v.dictionary=="string"?o.string2buf(v.dictionary):u.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(x=s.deflateSetDictionary(this.strm,E))!==h)throw new Error(l[x]);this._dict_set=!0}}function w(m,v){var x=new g(v);if(x.push(m,!0),x.err)throw x.msg||l[x.err];return x.result}g.prototype.push=function(m,v){var x,E,N=this.strm,C=this.options.chunkSize;if(this.ended)return!1;E=v===~~v?v:v===!0?4:0,typeof m=="string"?N.input=o.string2buf(m):u.call(m)==="[object ArrayBuffer]"?N.input=new Uint8Array(m):N.input=m,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(C),N.next_out=0,N.avail_out=C),(x=s.deflate(N,E))!==1&&x!==h)return this.onEnd(x),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(N.output,N.next_out))):this.onData(a.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&x!==1);return E===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h):E!==2||(this.onEnd(h),!(N.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=g,i.deflate=w,i.deflateRaw=function(m,v){return(v=v||{}).raw=!0,w(m,v)},i.gzip=function(m,v){return(v=v||{}).gzip=!0,w(m,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),h=r("./zlib/gzheader"),p=Object.prototype.toString;function f(g){if(!(this instanceof f))return new f(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||g&&g.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,w.windowBits);if(m!==l.Z_OK)throw new Error(c[m]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function y(g,w){var m=new f(w);if(m.push(g,!0),m.err)throw m.msg||c[m.err];return m.result}f.prototype.push=function(g,w){var m,v,x,E,N,C,P=this.strm,k=this.options.chunkSize,T=this.options.dictionary,q=!1;if(this.ended)return!1;v=w===~~w?w:w===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?P.input=o.binstring2buf(g):p.call(g)==="[object ArrayBuffer]"?P.input=new Uint8Array(g):P.input=g,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new a.Buf8(k),P.next_out=0,P.avail_out=k),(m=s.inflate(P,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&T&&(C=typeof T=="string"?o.string2buf(T):p.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,m=s.inflateSetDictionary(this.strm,C)),m===l.Z_BUF_ERROR&&q===!0&&(m=l.Z_OK,q=!1),m!==l.Z_STREAM_END&&m!==l.Z_OK)return this.onEnd(m),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&m!==l.Z_STREAM_END&&(P.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(P.output,P.next_out),E=P.next_out-x,N=o.buf2string(P.output,x),P.next_out=E,P.avail_out=k-E,E&&a.arraySet(P.output,P.output,x,E,0),this.onData(N)):this.onData(a.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(q=!0)}while((0<P.avail_in||P.avail_out===0)&&m!==l.Z_STREAM_END);return m===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(m=s.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(P.avail_out=0))},f.prototype.onData=function(g){this.chunks.push(g)},f.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=f,i.inflate=y,i.inflateRaw=function(g,w){return(w=w||{}).raw=!0,y(g,w)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,h,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+h),p);else for(var f=0;f<h;f++)l[p+f]=c[u+f]},flattenChunks:function(l){var c,u,h,p,f,y;for(c=h=0,u=l.length;c<u;c++)h+=l[c].length;for(y=new Uint8Array(h),c=p=0,u=l.length;c<u;c++)f=l[c],y.set(f,p),p+=f.length;return y}},o={arraySet:function(l,c,u,h,p){for(var f=0;f<h;f++)l[p+f]=c[u+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(h,p){if(p<65537&&(h.subarray&&o||!h.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(h,p));for(var f="",y=0;y<p;y++)f+=String.fromCharCode(h[y]);return f}l[254]=l[254]=1,i.string2buf=function(h){var p,f,y,g,w,m=h.length,v=0;for(g=0;g<m;g++)(64512&(f=h.charCodeAt(g)))==55296&&g+1<m&&(64512&(y=h.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(y-56320),g++),v+=f<128?1:f<2048?2:f<65536?3:4;for(p=new s.Buf8(v),g=w=0;w<v;g++)(64512&(f=h.charCodeAt(g)))==55296&&g+1<m&&(64512&(y=h.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(y-56320),g++),f<128?p[w++]=f:(f<2048?p[w++]=192|f>>>6:(f<65536?p[w++]=224|f>>>12:(p[w++]=240|f>>>18,p[w++]=128|f>>>12&63),p[w++]=128|f>>>6&63),p[w++]=128|63&f);return p},i.buf2binstring=function(h){return u(h,h.length)},i.binstring2buf=function(h){for(var p=new s.Buf8(h.length),f=0,y=p.length;f<y;f++)p[f]=h.charCodeAt(f);return p},i.buf2string=function(h,p){var f,y,g,w,m=p||h.length,v=new Array(2*m);for(f=y=0;f<m;)if((g=h[f++])<128)v[y++]=g;else if(4<(w=l[g]))v[y++]=65533,f+=w-1;else{for(g&=w===2?31:w===3?15:7;1<w&&f<m;)g=g<<6|63&h[f++],w--;1<w?v[y++]=65533:g<65536?v[y++]=g:(g-=65536,v[y++]=55296|g>>10&1023,v[y++]=56320|1023&g)}return u(v,y)},i.utf8border=function(h,p){var f;for((p=p||h.length)>h.length&&(p=h.length),f=p-1;0<=f&&(192&h[f])==128;)f--;return f<0||f===0?p:f+l[h[f]]>p?f:p}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,a,o,l){for(var c=65535&s|0,u=s>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;u=u+(c=c+a[l++]|0)|0,--h;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();n.exports=function(a,o,l,c){var u=s,h=c+l;a^=-1;for(var p=c;p<h;p++)a=a>>>8^u[255&(a^o[p])];return-1^a}},{}],46:[function(r,n,i){var s,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),h=0,p=4,f=0,y=-2,g=-1,w=4,m=2,v=8,x=9,E=286,N=30,C=19,P=2*E+1,k=15,T=3,q=258,M=q+T+1,A=42,I=113,j=1,ne=2,pe=3,X=4;function ce(H,ve){return H.msg=u[ve],ve}function ue(H){return(H<<1)-(4<H?9:0)}function xe(H){for(var ve=H.length;0<=--ve;)H[ve]=0}function we(H){var ve=H.state,B=ve.pending;B>H.avail_out&&(B=H.avail_out),B!==0&&(a.arraySet(H.output,ve.pending_buf,ve.pending_out,B,H.next_out),H.next_out+=B,ve.pending_out+=B,H.total_out+=B,H.avail_out-=B,ve.pending-=B,ve.pending===0&&(ve.pending_out=0))}function F(H,ve){o._tr_flush_block(H,0<=H.block_start?H.block_start:-1,H.strstart-H.block_start,ve),H.block_start=H.strstart,we(H.strm)}function J(H,ve){H.pending_buf[H.pending++]=ve}function se(H,ve){H.pending_buf[H.pending++]=ve>>>8&255,H.pending_buf[H.pending++]=255&ve}function he(H,ve){var B,O,L=H.max_chain_length,W=H.strstart,G=H.prev_length,ie=H.nice_match,re=H.strstart>H.w_size-M?H.strstart-(H.w_size-M):0,Ae=H.window,Ne=H.w_mask,Se=H.prev,Ie=H.strstart+q,Fe=Ae[W+G-1],Ke=Ae[W+G];H.prev_length>=H.good_match&&(L>>=2),ie>H.lookahead&&(ie=H.lookahead);do if(Ae[(B=ve)+G]===Ke&&Ae[B+G-1]===Fe&&Ae[B]===Ae[W]&&Ae[++B]===Ae[W+1]){W+=2,B++;do;while(Ae[++W]===Ae[++B]&&Ae[++W]===Ae[++B]&&Ae[++W]===Ae[++B]&&Ae[++W]===Ae[++B]&&Ae[++W]===Ae[++B]&&Ae[++W]===Ae[++B]&&Ae[++W]===Ae[++B]&&Ae[++W]===Ae[++B]&&W<Ie);if(O=q-(Ie-W),W=Ie-q,G<O){if(H.match_start=ve,ie<=(G=O))break;Fe=Ae[W+G-1],Ke=Ae[W+G]}}while((ve=Se[ve&Ne])>re&&--L!=0);return G<=H.lookahead?G:H.lookahead}function Q(H){var ve,B,O,L,W,G,ie,re,Ae,Ne,Se=H.w_size;do{if(L=H.window_size-H.lookahead-H.strstart,H.strstart>=Se+(Se-M)){for(a.arraySet(H.window,H.window,Se,Se,0),H.match_start-=Se,H.strstart-=Se,H.block_start-=Se,ve=B=H.hash_size;O=H.head[--ve],H.head[ve]=Se<=O?O-Se:0,--B;);for(ve=B=Se;O=H.prev[--ve],H.prev[ve]=Se<=O?O-Se:0,--B;);L+=Se}if(H.strm.avail_in===0)break;if(G=H.strm,ie=H.window,re=H.strstart+H.lookahead,Ae=L,Ne=void 0,Ne=G.avail_in,Ae<Ne&&(Ne=Ae),B=Ne===0?0:(G.avail_in-=Ne,a.arraySet(ie,G.input,G.next_in,Ne,re),G.state.wrap===1?G.adler=l(G.adler,ie,Ne,re):G.state.wrap===2&&(G.adler=c(G.adler,ie,Ne,re)),G.next_in+=Ne,G.total_in+=Ne,Ne),H.lookahead+=B,H.lookahead+H.insert>=T)for(W=H.strstart-H.insert,H.ins_h=H.window[W],H.ins_h=(H.ins_h<<H.hash_shift^H.window[W+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[W+T-1])&H.hash_mask,H.prev[W&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=W,W++,H.insert--,!(H.lookahead+H.insert<T)););}while(H.lookahead<M&&H.strm.avail_in!==0)}function $(H,ve){for(var B,O;;){if(H.lookahead<M){if(Q(H),H.lookahead<M&&ve===h)return j;if(H.lookahead===0)break}if(B=0,H.lookahead>=T&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+T-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),B!==0&&H.strstart-B<=H.w_size-M&&(H.match_length=he(H,B)),H.match_length>=T)if(O=o._tr_tally(H,H.strstart-H.match_start,H.match_length-T),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=T){for(H.match_length--;H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+T-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart,--H.match_length!=0;);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else O=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(O&&(F(H,!1),H.strm.avail_out===0))return j}return H.insert=H.strstart<T-1?H.strstart:T-1,ve===p?(F(H,!0),H.strm.avail_out===0?pe:X):H.last_lit&&(F(H,!1),H.strm.avail_out===0)?j:ne}function V(H,ve){for(var B,O,L;;){if(H.lookahead<M){if(Q(H),H.lookahead<M&&ve===h)return j;if(H.lookahead===0)break}if(B=0,H.lookahead>=T&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+T-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=T-1,B!==0&&H.prev_length<H.max_lazy_match&&H.strstart-B<=H.w_size-M&&(H.match_length=he(H,B),H.match_length<=5&&(H.strategy===1||H.match_length===T&&4096<H.strstart-H.match_start)&&(H.match_length=T-1)),H.prev_length>=T&&H.match_length<=H.prev_length){for(L=H.strstart+H.lookahead-T,O=o._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-T),H.lookahead-=H.prev_length-1,H.prev_length-=2;++H.strstart<=L&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+T-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),--H.prev_length!=0;);if(H.match_available=0,H.match_length=T-1,H.strstart++,O&&(F(H,!1),H.strm.avail_out===0))return j}else if(H.match_available){if((O=o._tr_tally(H,0,H.window[H.strstart-1]))&&F(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return j}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(O=o._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<T-1?H.strstart:T-1,ve===p?(F(H,!0),H.strm.avail_out===0?pe:X):H.last_lit&&(F(H,!1),H.strm.avail_out===0)?j:ne}function te(H,ve,B,O,L){this.good_length=H,this.max_lazy=ve,this.nice_length=B,this.max_chain=O,this.func=L}function ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*P),this.dyn_dtree=new a.Buf16(2*(2*N+1)),this.bl_tree=new a.Buf16(2*(2*C+1)),xe(this.dyn_ltree),xe(this.dyn_dtree),xe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(k+1),this.heap=new a.Buf16(2*E+1),xe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*E+1),xe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(H){var ve;return H&&H.state?(H.total_in=H.total_out=0,H.data_type=m,(ve=H.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?A:I,H.adler=ve.wrap===2?0:1,ve.last_flush=h,o._tr_init(ve),f):ce(H,y)}function ee(H){var ve=Z(H);return ve===f&&function(B){B.window_size=2*B.w_size,xe(B.head),B.max_lazy_match=s[B.level].max_lazy,B.good_match=s[B.level].good_length,B.nice_match=s[B.level].nice_length,B.max_chain_length=s[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=T-1,B.match_available=0,B.ins_h=0}(H.state),ve}function _e(H,ve,B,O,L,W){if(!H)return y;var G=1;if(ve===g&&(ve=6),O<0?(G=0,O=-O):15<O&&(G=2,O-=16),L<1||x<L||B!==v||O<8||15<O||ve<0||9<ve||W<0||w<W)return ce(H,y);O===8&&(O=9);var ie=new ae;return(H.state=ie).strm=H,ie.wrap=G,ie.gzhead=null,ie.w_bits=O,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=L+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+T-1)/T),ie.window=new a.Buf8(2*ie.w_size),ie.head=new a.Buf16(ie.hash_size),ie.prev=new a.Buf16(ie.w_size),ie.lit_bufsize=1<<L+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new a.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=ve,ie.strategy=W,ie.method=B,ee(H)}s=[new te(0,0,0,0,function(H,ve){var B=65535;for(B>H.pending_buf_size-5&&(B=H.pending_buf_size-5);;){if(H.lookahead<=1){if(Q(H),H.lookahead===0&&ve===h)return j;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var O=H.block_start+B;if((H.strstart===0||H.strstart>=O)&&(H.lookahead=H.strstart-O,H.strstart=O,F(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-M&&(F(H,!1),H.strm.avail_out===0))return j}return H.insert=0,ve===p?(F(H,!0),H.strm.avail_out===0?pe:X):(H.strstart>H.block_start&&(F(H,!1),H.strm.avail_out),j)}),new te(4,4,8,4,$),new te(4,5,16,8,$),new te(4,6,32,32,$),new te(4,4,16,16,V),new te(8,16,32,32,V),new te(8,16,128,128,V),new te(8,32,128,256,V),new te(32,128,258,1024,V),new te(32,258,258,4096,V)],i.deflateInit=function(H,ve){return _e(H,ve,v,15,8,0)},i.deflateInit2=_e,i.deflateReset=ee,i.deflateResetKeep=Z,i.deflateSetHeader=function(H,ve){return H&&H.state?H.state.wrap!==2?y:(H.state.gzhead=ve,f):y},i.deflate=function(H,ve){var B,O,L,W;if(!H||!H.state||5<ve||ve<0)return H?ce(H,y):y;if(O=H.state,!H.output||!H.input&&H.avail_in!==0||O.status===666&&ve!==p)return ce(H,H.avail_out===0?-5:y);if(O.strm=H,B=O.last_flush,O.last_flush=ve,O.status===A)if(O.wrap===2)H.adler=0,J(O,31),J(O,139),J(O,8),O.gzhead?(J(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(O.gzhead.extra?4:0)+(O.gzhead.name?8:0)+(O.gzhead.comment?16:0)),J(O,255&O.gzhead.time),J(O,O.gzhead.time>>8&255),J(O,O.gzhead.time>>16&255),J(O,O.gzhead.time>>24&255),J(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),J(O,255&O.gzhead.os),O.gzhead.extra&&O.gzhead.extra.length&&(J(O,255&O.gzhead.extra.length),J(O,O.gzhead.extra.length>>8&255)),O.gzhead.hcrc&&(H.adler=c(H.adler,O.pending_buf,O.pending,0)),O.gzindex=0,O.status=69):(J(O,0),J(O,0),J(O,0),J(O,0),J(O,0),J(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),J(O,3),O.status=I);else{var G=v+(O.w_bits-8<<4)<<8;G|=(2<=O.strategy||O.level<2?0:O.level<6?1:O.level===6?2:3)<<6,O.strstart!==0&&(G|=32),G+=31-G%31,O.status=I,se(O,G),O.strstart!==0&&(se(O,H.adler>>>16),se(O,65535&H.adler)),H.adler=1}if(O.status===69)if(O.gzhead.extra){for(L=O.pending;O.gzindex<(65535&O.gzhead.extra.length)&&(O.pending!==O.pending_buf_size||(O.gzhead.hcrc&&O.pending>L&&(H.adler=c(H.adler,O.pending_buf,O.pending-L,L)),we(H),L=O.pending,O.pending!==O.pending_buf_size));)J(O,255&O.gzhead.extra[O.gzindex]),O.gzindex++;O.gzhead.hcrc&&O.pending>L&&(H.adler=c(H.adler,O.pending_buf,O.pending-L,L)),O.gzindex===O.gzhead.extra.length&&(O.gzindex=0,O.status=73)}else O.status=73;if(O.status===73)if(O.gzhead.name){L=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>L&&(H.adler=c(H.adler,O.pending_buf,O.pending-L,L)),we(H),L=O.pending,O.pending===O.pending_buf_size)){W=1;break}W=O.gzindex<O.gzhead.name.length?255&O.gzhead.name.charCodeAt(O.gzindex++):0,J(O,W)}while(W!==0);O.gzhead.hcrc&&O.pending>L&&(H.adler=c(H.adler,O.pending_buf,O.pending-L,L)),W===0&&(O.gzindex=0,O.status=91)}else O.status=91;if(O.status===91)if(O.gzhead.comment){L=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>L&&(H.adler=c(H.adler,O.pending_buf,O.pending-L,L)),we(H),L=O.pending,O.pending===O.pending_buf_size)){W=1;break}W=O.gzindex<O.gzhead.comment.length?255&O.gzhead.comment.charCodeAt(O.gzindex++):0,J(O,W)}while(W!==0);O.gzhead.hcrc&&O.pending>L&&(H.adler=c(H.adler,O.pending_buf,O.pending-L,L)),W===0&&(O.status=103)}else O.status=103;if(O.status===103&&(O.gzhead.hcrc?(O.pending+2>O.pending_buf_size&&we(H),O.pending+2<=O.pending_buf_size&&(J(O,255&H.adler),J(O,H.adler>>8&255),H.adler=0,O.status=I)):O.status=I),O.pending!==0){if(we(H),H.avail_out===0)return O.last_flush=-1,f}else if(H.avail_in===0&&ue(ve)<=ue(B)&&ve!==p)return ce(H,-5);if(O.status===666&&H.avail_in!==0)return ce(H,-5);if(H.avail_in!==0||O.lookahead!==0||ve!==h&&O.status!==666){var ie=O.strategy===2?function(re,Ae){for(var Ne;;){if(re.lookahead===0&&(Q(re),re.lookahead===0)){if(Ae===h)return j;break}if(re.match_length=0,Ne=o._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,Ne&&(F(re,!1),re.strm.avail_out===0))return j}return re.insert=0,Ae===p?(F(re,!0),re.strm.avail_out===0?pe:X):re.last_lit&&(F(re,!1),re.strm.avail_out===0)?j:ne}(O,ve):O.strategy===3?function(re,Ae){for(var Ne,Se,Ie,Fe,Ke=re.window;;){if(re.lookahead<=q){if(Q(re),re.lookahead<=q&&Ae===h)return j;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=T&&0<re.strstart&&(Se=Ke[Ie=re.strstart-1])===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]){Fe=re.strstart+q;do;while(Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Se===Ke[++Ie]&&Ie<Fe);re.match_length=q-(Fe-Ie),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=T?(Ne=o._tr_tally(re,1,re.match_length-T),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(Ne=o._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),Ne&&(F(re,!1),re.strm.avail_out===0))return j}return re.insert=0,Ae===p?(F(re,!0),re.strm.avail_out===0?pe:X):re.last_lit&&(F(re,!1),re.strm.avail_out===0)?j:ne}(O,ve):s[O.level].func(O,ve);if(ie!==pe&&ie!==X||(O.status=666),ie===j||ie===pe)return H.avail_out===0&&(O.last_flush=-1),f;if(ie===ne&&(ve===1?o._tr_align(O):ve!==5&&(o._tr_stored_block(O,0,0,!1),ve===3&&(xe(O.head),O.lookahead===0&&(O.strstart=0,O.block_start=0,O.insert=0))),we(H),H.avail_out===0))return O.last_flush=-1,f}return ve!==p?f:O.wrap<=0?1:(O.wrap===2?(J(O,255&H.adler),J(O,H.adler>>8&255),J(O,H.adler>>16&255),J(O,H.adler>>24&255),J(O,255&H.total_in),J(O,H.total_in>>8&255),J(O,H.total_in>>16&255),J(O,H.total_in>>24&255)):(se(O,H.adler>>>16),se(O,65535&H.adler)),we(H),0<O.wrap&&(O.wrap=-O.wrap),O.pending!==0?f:1)},i.deflateEnd=function(H){var ve;return H&&H.state?(ve=H.state.status)!==A&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==I&&ve!==666?ce(H,y):(H.state=null,ve===I?ce(H,-3):f):y},i.deflateSetDictionary=function(H,ve){var B,O,L,W,G,ie,re,Ae,Ne=ve.length;if(!H||!H.state||(W=(B=H.state).wrap)===2||W===1&&B.status!==A||B.lookahead)return y;for(W===1&&(H.adler=l(H.adler,ve,Ne,0)),B.wrap=0,Ne>=B.w_size&&(W===0&&(xe(B.head),B.strstart=0,B.block_start=0,B.insert=0),Ae=new a.Buf8(B.w_size),a.arraySet(Ae,ve,Ne-B.w_size,B.w_size,0),ve=Ae,Ne=B.w_size),G=H.avail_in,ie=H.next_in,re=H.input,H.avail_in=Ne,H.next_in=0,H.input=ve,Q(B);B.lookahead>=T;){for(O=B.strstart,L=B.lookahead-(T-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[O+T-1])&B.hash_mask,B.prev[O&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=O,O++,--L;);B.strstart=O,B.lookahead=T-1,Q(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=T-1,B.match_available=0,H.next_in=ie,H.input=re,H.avail_in=G,B.wrap=W,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,a){var o,l,c,u,h,p,f,y,g,w,m,v,x,E,N,C,P,k,T,q,M,A,I,j,ne;o=s.state,l=s.next_in,j=s.input,c=l+(s.avail_in-5),u=s.next_out,ne=s.output,h=u-(a-s.avail_out),p=u+(s.avail_out-257),f=o.dmax,y=o.wsize,g=o.whave,w=o.wnext,m=o.window,v=o.hold,x=o.bits,E=o.lencode,N=o.distcode,C=(1<<o.lenbits)-1,P=(1<<o.distbits)-1;e:do{x<15&&(v+=j[l++]<<x,x+=8,v+=j[l++]<<x,x+=8),k=E[v&C];t:for(;;){if(v>>>=T=k>>>24,x-=T,(T=k>>>16&255)===0)ne[u++]=65535&k;else{if(!(16&T)){if(!(64&T)){k=E[(65535&k)+(v&(1<<T)-1)];continue t}if(32&T){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}q=65535&k,(T&=15)&&(x<T&&(v+=j[l++]<<x,x+=8),q+=v&(1<<T)-1,v>>>=T,x-=T),x<15&&(v+=j[l++]<<x,x+=8,v+=j[l++]<<x,x+=8),k=N[v&P];r:for(;;){if(v>>>=T=k>>>24,x-=T,!(16&(T=k>>>16&255))){if(!(64&T)){k=N[(65535&k)+(v&(1<<T)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(M=65535&k,x<(T&=15)&&(v+=j[l++]<<x,(x+=8)<T&&(v+=j[l++]<<x,x+=8)),f<(M+=v&(1<<T)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(v>>>=T,x-=T,(T=u-h)<M){if(g<(T=M-T)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(I=m,(A=0)===w){if(A+=y-T,T<q){for(q-=T;ne[u++]=m[A++],--T;);A=u-M,I=ne}}else if(w<T){if(A+=y+w-T,(T-=w)<q){for(q-=T;ne[u++]=m[A++],--T;);if(A=0,w<q){for(q-=T=w;ne[u++]=m[A++],--T;);A=u-M,I=ne}}}else if(A+=w-T,T<q){for(q-=T;ne[u++]=m[A++],--T;);A=u-M,I=ne}for(;2<q;)ne[u++]=I[A++],ne[u++]=I[A++],ne[u++]=I[A++],q-=3;q&&(ne[u++]=I[A++],1<q&&(ne[u++]=I[A++]))}else{for(A=u-M;ne[u++]=ne[A++],ne[u++]=ne[A++],ne[u++]=ne[A++],2<(q-=3););q&&(ne[u++]=ne[A++],1<q&&(ne[u++]=ne[A++]))}break}}break}}while(l<c&&u<p);l-=q=x>>3,v&=(1<<(x-=q<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<p?p-u+257:257-(u-p),o.hold=v,o.bits=x}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,h=2,p=0,f=-2,y=1,g=852,w=592;function m(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(A){var I;return A&&A.state?(I=A.state,A.total_in=A.total_out=I.total=0,A.msg="",I.wrap&&(A.adler=1&I.wrap),I.mode=y,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new s.Buf32(g),I.distcode=I.distdyn=new s.Buf32(w),I.sane=1,I.back=-1,p):f}function E(A){var I;return A&&A.state?((I=A.state).wsize=0,I.whave=0,I.wnext=0,x(A)):f}function N(A,I){var j,ne;return A&&A.state?(ne=A.state,I<0?(j=0,I=-I):(j=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?f:(ne.window!==null&&ne.wbits!==I&&(ne.window=null),ne.wrap=j,ne.wbits=I,E(A))):f}function C(A,I){var j,ne;return A?(ne=new v,(A.state=ne).window=null,(j=N(A,I))!==p&&(A.state=null),j):f}var P,k,T=!0;function q(A){if(T){var I;for(P=new s.Buf32(512),k=new s.Buf32(32),I=0;I<144;)A.lens[I++]=8;for(;I<256;)A.lens[I++]=9;for(;I<280;)A.lens[I++]=7;for(;I<288;)A.lens[I++]=8;for(c(u,A.lens,0,288,P,0,A.work,{bits:9}),I=0;I<32;)A.lens[I++]=5;c(h,A.lens,0,32,k,0,A.work,{bits:5}),T=!1}A.lencode=P,A.lenbits=9,A.distcode=k,A.distbits=5}function M(A,I,j,ne){var pe,X=A.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new s.Buf8(X.wsize)),ne>=X.wsize?(s.arraySet(X.window,I,j-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(ne<(pe=X.wsize-X.wnext)&&(pe=ne),s.arraySet(X.window,I,j-ne,pe,X.wnext),(ne-=pe)?(s.arraySet(X.window,I,j-ne,ne,0),X.wnext=ne,X.whave=X.wsize):(X.wnext+=pe,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=pe))),0}i.inflateReset=E,i.inflateReset2=N,i.inflateResetKeep=x,i.inflateInit=function(A){return C(A,15)},i.inflateInit2=C,i.inflate=function(A,I){var j,ne,pe,X,ce,ue,xe,we,F,J,se,he,Q,$,V,te,ae,Z,ee,_e,H,ve,B,O,L=0,W=new s.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return f;(j=A.state).mode===12&&(j.mode=13),ce=A.next_out,pe=A.output,xe=A.avail_out,X=A.next_in,ne=A.input,ue=A.avail_in,we=j.hold,F=j.bits,J=ue,se=xe,ve=p;e:for(;;)switch(j.mode){case y:if(j.wrap===0){j.mode=13;break}for(;F<16;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}if(2&j.wrap&&we===35615){W[j.check=0]=255&we,W[1]=we>>>8&255,j.check=o(j.check,W,2,0),F=we=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&we)<<8)+(we>>8))%31){A.msg="incorrect header check",j.mode=30;break}if((15&we)!=8){A.msg="unknown compression method",j.mode=30;break}if(F-=4,H=8+(15&(we>>>=4)),j.wbits===0)j.wbits=H;else if(H>j.wbits){A.msg="invalid window size",j.mode=30;break}j.dmax=1<<H,A.adler=j.check=1,j.mode=512&we?10:12,F=we=0;break;case 2:for(;F<16;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}if(j.flags=we,(255&j.flags)!=8){A.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){A.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=we>>8&1),512&j.flags&&(W[0]=255&we,W[1]=we>>>8&255,j.check=o(j.check,W,2,0)),F=we=0,j.mode=3;case 3:for(;F<32;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}j.head&&(j.head.time=we),512&j.flags&&(W[0]=255&we,W[1]=we>>>8&255,W[2]=we>>>16&255,W[3]=we>>>24&255,j.check=o(j.check,W,4,0)),F=we=0,j.mode=4;case 4:for(;F<16;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}j.head&&(j.head.xflags=255&we,j.head.os=we>>8),512&j.flags&&(W[0]=255&we,W[1]=we>>>8&255,j.check=o(j.check,W,2,0)),F=we=0,j.mode=5;case 5:if(1024&j.flags){for(;F<16;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}j.length=we,j.head&&(j.head.extra_len=we),512&j.flags&&(W[0]=255&we,W[1]=we>>>8&255,j.check=o(j.check,W,2,0)),F=we=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(ue<(he=j.length)&&(he=ue),he&&(j.head&&(H=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),s.arraySet(j.head.extra,ne,X,he,H)),512&j.flags&&(j.check=o(j.check,ne,he,X)),ue-=he,X+=he,j.length-=he),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(ue===0)break e;for(he=0;H=ne[X+he++],j.head&&H&&j.length<65536&&(j.head.name+=String.fromCharCode(H)),H&&he<ue;);if(512&j.flags&&(j.check=o(j.check,ne,he,X)),ue-=he,X+=he,H)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(ue===0)break e;for(he=0;H=ne[X+he++],j.head&&H&&j.length<65536&&(j.head.comment+=String.fromCharCode(H)),H&&he<ue;);if(512&j.flags&&(j.check=o(j.check,ne,he,X)),ue-=he,X+=he,H)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;F<16;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}if(we!==(65535&j.check)){A.msg="header crc mismatch",j.mode=30;break}F=we=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),A.adler=j.check=0,j.mode=12;break;case 10:for(;F<32;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}A.adler=j.check=m(we),F=we=0,j.mode=11;case 11:if(j.havedict===0)return A.next_out=ce,A.avail_out=xe,A.next_in=X,A.avail_in=ue,j.hold=we,j.bits=F,2;A.adler=j.check=1,j.mode=12;case 12:if(I===5||I===6)break e;case 13:if(j.last){we>>>=7&F,F-=7&F,j.mode=27;break}for(;F<3;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}switch(j.last=1&we,F-=1,3&(we>>>=1)){case 0:j.mode=14;break;case 1:if(q(j),j.mode=20,I!==6)break;we>>>=2,F-=2;break e;case 2:j.mode=17;break;case 3:A.msg="invalid block type",j.mode=30}we>>>=2,F-=2;break;case 14:for(we>>>=7&F,F-=7&F;F<32;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}if((65535&we)!=(we>>>16^65535)){A.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&we,F=we=0,j.mode=15,I===6)break e;case 15:j.mode=16;case 16:if(he=j.length){if(ue<he&&(he=ue),xe<he&&(he=xe),he===0)break e;s.arraySet(pe,ne,X,he,ce),ue-=he,X+=he,xe-=he,ce+=he,j.length-=he;break}j.mode=12;break;case 17:for(;F<14;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}if(j.nlen=257+(31&we),we>>>=5,F-=5,j.ndist=1+(31&we),we>>>=5,F-=5,j.ncode=4+(15&we),we>>>=4,F-=4,286<j.nlen||30<j.ndist){A.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;F<3;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}j.lens[G[j.have++]]=7&we,we>>>=3,F-=3}for(;j.have<19;)j.lens[G[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,B={bits:j.lenbits},ve=c(0,j.lens,0,19,j.lencode,0,j.work,B),j.lenbits=B.bits,ve){A.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;te=(L=j.lencode[we&(1<<j.lenbits)-1])>>>16&255,ae=65535&L,!((V=L>>>24)<=F);){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}if(ae<16)we>>>=V,F-=V,j.lens[j.have++]=ae;else{if(ae===16){for(O=V+2;F<O;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}if(we>>>=V,F-=V,j.have===0){A.msg="invalid bit length repeat",j.mode=30;break}H=j.lens[j.have-1],he=3+(3&we),we>>>=2,F-=2}else if(ae===17){for(O=V+3;F<O;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}F-=V,H=0,he=3+(7&(we>>>=V)),we>>>=3,F-=3}else{for(O=V+7;F<O;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}F-=V,H=0,he=11+(127&(we>>>=V)),we>>>=7,F-=7}if(j.have+he>j.nlen+j.ndist){A.msg="invalid bit length repeat",j.mode=30;break}for(;he--;)j.lens[j.have++]=H}}if(j.mode===30)break;if(j.lens[256]===0){A.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,B={bits:j.lenbits},ve=c(u,j.lens,0,j.nlen,j.lencode,0,j.work,B),j.lenbits=B.bits,ve){A.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,B={bits:j.distbits},ve=c(h,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,B),j.distbits=B.bits,ve){A.msg="invalid distances set",j.mode=30;break}if(j.mode=20,I===6)break e;case 20:j.mode=21;case 21:if(6<=ue&&258<=xe){A.next_out=ce,A.avail_out=xe,A.next_in=X,A.avail_in=ue,j.hold=we,j.bits=F,l(A,se),ce=A.next_out,pe=A.output,xe=A.avail_out,X=A.next_in,ne=A.input,ue=A.avail_in,we=j.hold,F=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;te=(L=j.lencode[we&(1<<j.lenbits)-1])>>>16&255,ae=65535&L,!((V=L>>>24)<=F);){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}if(te&&!(240&te)){for(Z=V,ee=te,_e=ae;te=(L=j.lencode[_e+((we&(1<<Z+ee)-1)>>Z)])>>>16&255,ae=65535&L,!(Z+(V=L>>>24)<=F);){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}we>>>=Z,F-=Z,j.back+=Z}if(we>>>=V,F-=V,j.back+=V,j.length=ae,te===0){j.mode=26;break}if(32&te){j.back=-1,j.mode=12;break}if(64&te){A.msg="invalid literal/length code",j.mode=30;break}j.extra=15&te,j.mode=22;case 22:if(j.extra){for(O=j.extra;F<O;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}j.length+=we&(1<<j.extra)-1,we>>>=j.extra,F-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;te=(L=j.distcode[we&(1<<j.distbits)-1])>>>16&255,ae=65535&L,!((V=L>>>24)<=F);){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}if(!(240&te)){for(Z=V,ee=te,_e=ae;te=(L=j.distcode[_e+((we&(1<<Z+ee)-1)>>Z)])>>>16&255,ae=65535&L,!(Z+(V=L>>>24)<=F);){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}we>>>=Z,F-=Z,j.back+=Z}if(we>>>=V,F-=V,j.back+=V,64&te){A.msg="invalid distance code",j.mode=30;break}j.offset=ae,j.extra=15&te,j.mode=24;case 24:if(j.extra){for(O=j.extra;F<O;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}j.offset+=we&(1<<j.extra)-1,we>>>=j.extra,F-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){A.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(xe===0)break e;if(he=se-xe,j.offset>he){if((he=j.offset-he)>j.whave&&j.sane){A.msg="invalid distance too far back",j.mode=30;break}Q=he>j.wnext?(he-=j.wnext,j.wsize-he):j.wnext-he,he>j.length&&(he=j.length),$=j.window}else $=pe,Q=ce-j.offset,he=j.length;for(xe<he&&(he=xe),xe-=he,j.length-=he;pe[ce++]=$[Q++],--he;);j.length===0&&(j.mode=21);break;case 26:if(xe===0)break e;pe[ce++]=j.length,xe--,j.mode=21;break;case 27:if(j.wrap){for(;F<32;){if(ue===0)break e;ue--,we|=ne[X++]<<F,F+=8}if(se-=xe,A.total_out+=se,j.total+=se,se&&(A.adler=j.check=j.flags?o(j.check,pe,se,ce-se):a(j.check,pe,se,ce-se)),se=xe,(j.flags?we:m(we))!==j.check){A.msg="incorrect data check",j.mode=30;break}F=we=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;F<32;){if(ue===0)break e;ue--,we+=ne[X++]<<F,F+=8}if(we!==(4294967295&j.total)){A.msg="incorrect length check",j.mode=30;break}F=we=0}j.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return f}return A.next_out=ce,A.avail_out=xe,A.next_in=X,A.avail_in=ue,j.hold=we,j.bits=F,(j.wsize||se!==A.avail_out&&j.mode<30&&(j.mode<27||I!==4))&&M(A,A.output,A.next_out,se-A.avail_out)?(j.mode=31,-4):(J-=A.avail_in,se-=A.avail_out,A.total_in+=J,A.total_out+=se,j.total+=se,j.wrap&&se&&(A.adler=j.check=j.flags?o(j.check,pe,se,A.next_out-se):a(j.check,pe,se,A.next_out-se)),A.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(J==0&&se===0||I===4)&&ve===p&&(ve=-5),ve)},i.inflateEnd=function(A){if(!A||!A.state)return f;var I=A.state;return I.window&&(I.window=null),A.state=null,p},i.inflateGetHeader=function(A,I){var j;return A&&A.state&&2&(j=A.state).wrap?((j.head=I).done=!1,p):f},i.inflateSetDictionary=function(A,I){var j,ne=I.length;return A&&A.state?(j=A.state).wrap!==0&&j.mode!==11?f:j.mode===11&&a(1,I,ne,0)!==j.check?-3:M(A,I,ne,ne)?(j.mode=31,-4):(j.havedict=1,p):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,h,p,f,y,g,w,m){var v,x,E,N,C,P,k,T,q,M=m.bits,A=0,I=0,j=0,ne=0,pe=0,X=0,ce=0,ue=0,xe=0,we=0,F=null,J=0,se=new s.Buf16(16),he=new s.Buf16(16),Q=null,$=0;for(A=0;A<=15;A++)se[A]=0;for(I=0;I<f;I++)se[h[p+I]]++;for(pe=M,ne=15;1<=ne&&se[ne]===0;ne--);if(ne<pe&&(pe=ne),ne===0)return y[g++]=20971520,y[g++]=20971520,m.bits=1,0;for(j=1;j<ne&&se[j]===0;j++);for(pe<j&&(pe=j),A=ue=1;A<=15;A++)if(ue<<=1,(ue-=se[A])<0)return-1;if(0<ue&&(u===0||ne!==1))return-1;for(he[1]=0,A=1;A<15;A++)he[A+1]=he[A]+se[A];for(I=0;I<f;I++)h[p+I]!==0&&(w[he[h[p+I]]++]=I);if(P=u===0?(F=Q=w,19):u===1?(F=a,J-=257,Q=o,$-=257,256):(F=l,Q=c,-1),A=j,C=g,ce=I=we=0,E=-1,N=(xe=1<<(X=pe))-1,u===1&&852<xe||u===2&&592<xe)return 1;for(;;){for(k=A-ce,q=w[I]<P?(T=0,w[I]):w[I]>P?(T=Q[$+w[I]],F[J+w[I]]):(T=96,0),v=1<<A-ce,j=x=1<<X;y[C+(we>>ce)+(x-=v)]=k<<24|T<<16|q|0,x!==0;);for(v=1<<A-1;we&v;)v>>=1;if(v!==0?(we&=v-1,we+=v):we=0,I++,--se[A]==0){if(A===ne)break;A=h[p+w[I]]}if(pe<A&&(we&N)!==E){for(ce===0&&(ce=pe),C+=j,ue=1<<(X=A-ce);X+ce<ne&&!((ue-=se[X+ce])<=0);)X++,ue<<=1;if(xe+=1<<X,u===1&&852<xe||u===2&&592<xe)return 1;y[E=we&N]=pe<<24|X<<16|C-g|0}}return we!==0&&(y[C+we]=A-ce<<24|64<<16|0),m.bits=pe,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=0,o=1;function l(L){for(var W=L.length;0<=--W;)L[W]=0}var c=0,u=29,h=256,p=h+1+u,f=30,y=19,g=2*p+1,w=15,m=16,v=7,x=256,E=16,N=17,C=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(p+2));l(M);var A=new Array(2*f);l(A);var I=new Array(512);l(I);var j=new Array(256);l(j);var ne=new Array(u);l(ne);var pe,X,ce,ue=new Array(f);function xe(L,W,G,ie,re){this.static_tree=L,this.extra_bits=W,this.extra_base=G,this.elems=ie,this.max_length=re,this.has_stree=L&&L.length}function we(L,W){this.dyn_tree=L,this.max_code=0,this.stat_desc=W}function F(L){return L<256?I[L]:I[256+(L>>>7)]}function J(L,W){L.pending_buf[L.pending++]=255&W,L.pending_buf[L.pending++]=W>>>8&255}function se(L,W,G){L.bi_valid>m-G?(L.bi_buf|=W<<L.bi_valid&65535,J(L,L.bi_buf),L.bi_buf=W>>m-L.bi_valid,L.bi_valid+=G-m):(L.bi_buf|=W<<L.bi_valid&65535,L.bi_valid+=G)}function he(L,W,G){se(L,G[2*W],G[2*W+1])}function Q(L,W){for(var G=0;G|=1&L,L>>>=1,G<<=1,0<--W;);return G>>>1}function $(L,W,G){var ie,re,Ae=new Array(w+1),Ne=0;for(ie=1;ie<=w;ie++)Ae[ie]=Ne=Ne+G[ie-1]<<1;for(re=0;re<=W;re++){var Se=L[2*re+1];Se!==0&&(L[2*re]=Q(Ae[Se]++,Se))}}function V(L){var W;for(W=0;W<p;W++)L.dyn_ltree[2*W]=0;for(W=0;W<f;W++)L.dyn_dtree[2*W]=0;for(W=0;W<y;W++)L.bl_tree[2*W]=0;L.dyn_ltree[2*x]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function te(L){8<L.bi_valid?J(L,L.bi_buf):0<L.bi_valid&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function ae(L,W,G,ie){var re=2*W,Ae=2*G;return L[re]<L[Ae]||L[re]===L[Ae]&&ie[W]<=ie[G]}function Z(L,W,G){for(var ie=L.heap[G],re=G<<1;re<=L.heap_len&&(re<L.heap_len&&ae(W,L.heap[re+1],L.heap[re],L.depth)&&re++,!ae(W,ie,L.heap[re],L.depth));)L.heap[G]=L.heap[re],G=re,re<<=1;L.heap[G]=ie}function ee(L,W,G){var ie,re,Ae,Ne,Se=0;if(L.last_lit!==0)for(;ie=L.pending_buf[L.d_buf+2*Se]<<8|L.pending_buf[L.d_buf+2*Se+1],re=L.pending_buf[L.l_buf+Se],Se++,ie===0?he(L,re,W):(he(L,(Ae=j[re])+h+1,W),(Ne=P[Ae])!==0&&se(L,re-=ne[Ae],Ne),he(L,Ae=F(--ie),G),(Ne=k[Ae])!==0&&se(L,ie-=ue[Ae],Ne)),Se<L.last_lit;);he(L,x,W)}function _e(L,W){var G,ie,re,Ae=W.dyn_tree,Ne=W.stat_desc.static_tree,Se=W.stat_desc.has_stree,Ie=W.stat_desc.elems,Fe=-1;for(L.heap_len=0,L.heap_max=g,G=0;G<Ie;G++)Ae[2*G]!==0?(L.heap[++L.heap_len]=Fe=G,L.depth[G]=0):Ae[2*G+1]=0;for(;L.heap_len<2;)Ae[2*(re=L.heap[++L.heap_len]=Fe<2?++Fe:0)]=1,L.depth[re]=0,L.opt_len--,Se&&(L.static_len-=Ne[2*re+1]);for(W.max_code=Fe,G=L.heap_len>>1;1<=G;G--)Z(L,Ae,G);for(re=Ie;G=L.heap[1],L.heap[1]=L.heap[L.heap_len--],Z(L,Ae,1),ie=L.heap[1],L.heap[--L.heap_max]=G,L.heap[--L.heap_max]=ie,Ae[2*re]=Ae[2*G]+Ae[2*ie],L.depth[re]=(L.depth[G]>=L.depth[ie]?L.depth[G]:L.depth[ie])+1,Ae[2*G+1]=Ae[2*ie+1]=re,L.heap[1]=re++,Z(L,Ae,1),2<=L.heap_len;);L.heap[--L.heap_max]=L.heap[1],function(Ke,nt){var bt,et,or,gt,qr,$t,Ft=nt.dyn_tree,li=nt.max_code,Bt=nt.stat_desc.static_tree,na=nt.stat_desc.has_stree,_r=nt.stat_desc.extra_bits,Sn=nt.stat_desc.extra_base,Un=nt.stat_desc.max_length,ir=0;for(gt=0;gt<=w;gt++)Ke.bl_count[gt]=0;for(Ft[2*Ke.heap[Ke.heap_max]+1]=0,bt=Ke.heap_max+1;bt<g;bt++)Un<(gt=Ft[2*Ft[2*(et=Ke.heap[bt])+1]+1]+1)&&(gt=Un,ir++),Ft[2*et+1]=gt,li<et||(Ke.bl_count[gt]++,qr=0,Sn<=et&&(qr=_r[et-Sn]),$t=Ft[2*et],Ke.opt_len+=$t*(gt+qr),na&&(Ke.static_len+=$t*(Bt[2*et+1]+qr)));if(ir!==0){do{for(gt=Un-1;Ke.bl_count[gt]===0;)gt--;Ke.bl_count[gt]--,Ke.bl_count[gt+1]+=2,Ke.bl_count[Un]--,ir-=2}while(0<ir);for(gt=Un;gt!==0;gt--)for(et=Ke.bl_count[gt];et!==0;)li<(or=Ke.heap[--bt])||(Ft[2*or+1]!==gt&&(Ke.opt_len+=(gt-Ft[2*or+1])*Ft[2*or],Ft[2*or+1]=gt),et--)}}(L,W),$(Ae,Fe,L.bl_count)}function H(L,W,G){var ie,re,Ae=-1,Ne=W[1],Se=0,Ie=7,Fe=4;for(Ne===0&&(Ie=138,Fe=3),W[2*(G+1)+1]=65535,ie=0;ie<=G;ie++)re=Ne,Ne=W[2*(ie+1)+1],++Se<Ie&&re===Ne||(Se<Fe?L.bl_tree[2*re]+=Se:re!==0?(re!==Ae&&L.bl_tree[2*re]++,L.bl_tree[2*E]++):Se<=10?L.bl_tree[2*N]++:L.bl_tree[2*C]++,Ae=re,Fe=(Se=0)===Ne?(Ie=138,3):re===Ne?(Ie=6,3):(Ie=7,4))}function ve(L,W,G){var ie,re,Ae=-1,Ne=W[1],Se=0,Ie=7,Fe=4;for(Ne===0&&(Ie=138,Fe=3),ie=0;ie<=G;ie++)if(re=Ne,Ne=W[2*(ie+1)+1],!(++Se<Ie&&re===Ne)){if(Se<Fe)for(;he(L,re,L.bl_tree),--Se!=0;);else re!==0?(re!==Ae&&(he(L,re,L.bl_tree),Se--),he(L,E,L.bl_tree),se(L,Se-3,2)):Se<=10?(he(L,N,L.bl_tree),se(L,Se-3,3)):(he(L,C,L.bl_tree),se(L,Se-11,7));Ae=re,Fe=(Se=0)===Ne?(Ie=138,3):re===Ne?(Ie=6,3):(Ie=7,4)}}l(ue);var B=!1;function O(L,W,G,ie){se(L,(c<<1)+(ie?1:0),3),function(re,Ae,Ne,Se){te(re),J(re,Ne),J(re,~Ne),s.arraySet(re.pending_buf,re.window,Ae,Ne,re.pending),re.pending+=Ne}(L,W,G)}i._tr_init=function(L){B||(function(){var W,G,ie,re,Ae,Ne=new Array(w+1);for(re=ie=0;re<u-1;re++)for(ne[re]=ie,W=0;W<1<<P[re];W++)j[ie++]=re;for(j[ie-1]=re,re=Ae=0;re<16;re++)for(ue[re]=Ae,W=0;W<1<<k[re];W++)I[Ae++]=re;for(Ae>>=7;re<f;re++)for(ue[re]=Ae<<7,W=0;W<1<<k[re]-7;W++)I[256+Ae++]=re;for(G=0;G<=w;G++)Ne[G]=0;for(W=0;W<=143;)M[2*W+1]=8,W++,Ne[8]++;for(;W<=255;)M[2*W+1]=9,W++,Ne[9]++;for(;W<=279;)M[2*W+1]=7,W++,Ne[7]++;for(;W<=287;)M[2*W+1]=8,W++,Ne[8]++;for($(M,p+1,Ne),W=0;W<f;W++)A[2*W+1]=5,A[2*W]=Q(W,5);pe=new xe(M,P,h+1,p,w),X=new xe(A,k,0,f,w),ce=new xe(new Array(0),T,0,y,v)}(),B=!0),L.l_desc=new we(L.dyn_ltree,pe),L.d_desc=new we(L.dyn_dtree,X),L.bl_desc=new we(L.bl_tree,ce),L.bi_buf=0,L.bi_valid=0,V(L)},i._tr_stored_block=O,i._tr_flush_block=function(L,W,G,ie){var re,Ae,Ne=0;0<L.level?(L.strm.data_type===2&&(L.strm.data_type=function(Se){var Ie,Fe=4093624447;for(Ie=0;Ie<=31;Ie++,Fe>>>=1)if(1&Fe&&Se.dyn_ltree[2*Ie]!==0)return a;if(Se.dyn_ltree[18]!==0||Se.dyn_ltree[20]!==0||Se.dyn_ltree[26]!==0)return o;for(Ie=32;Ie<h;Ie++)if(Se.dyn_ltree[2*Ie]!==0)return o;return a}(L)),_e(L,L.l_desc),_e(L,L.d_desc),Ne=function(Se){var Ie;for(H(Se,Se.dyn_ltree,Se.l_desc.max_code),H(Se,Se.dyn_dtree,Se.d_desc.max_code),_e(Se,Se.bl_desc),Ie=y-1;3<=Ie&&Se.bl_tree[2*q[Ie]+1]===0;Ie--);return Se.opt_len+=3*(Ie+1)+5+5+4,Ie}(L),re=L.opt_len+3+7>>>3,(Ae=L.static_len+3+7>>>3)<=re&&(re=Ae)):re=Ae=G+5,G+4<=re&&W!==-1?O(L,W,G,ie):L.strategy===4||Ae===re?(se(L,2+(ie?1:0),3),ee(L,M,A)):(se(L,4+(ie?1:0),3),function(Se,Ie,Fe,Ke){var nt;for(se(Se,Ie-257,5),se(Se,Fe-1,5),se(Se,Ke-4,4),nt=0;nt<Ke;nt++)se(Se,Se.bl_tree[2*q[nt]+1],3);ve(Se,Se.dyn_ltree,Ie-1),ve(Se,Se.dyn_dtree,Fe-1)}(L,L.l_desc.max_code+1,L.d_desc.max_code+1,Ne+1),ee(L,L.dyn_ltree,L.dyn_dtree)),V(L),ie&&te(L)},i._tr_tally=function(L,W,G){return L.pending_buf[L.d_buf+2*L.last_lit]=W>>>8&255,L.pending_buf[L.d_buf+2*L.last_lit+1]=255&W,L.pending_buf[L.l_buf+L.last_lit]=255&G,L.last_lit++,W===0?L.dyn_ltree[2*G]++:(L.matches++,W--,L.dyn_ltree[2*(j[G]+h+1)]++,L.dyn_dtree[2*F(W)]++),L.last_lit===L.lit_bufsize-1},i._tr_align=function(L){se(L,2,3),he(L,x,M),function(W){W.bi_valid===16?(J(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(L)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,u,h,p=1,f={},y=!1,g=a.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(a);w=w&&w.setTimeout?w:a,l={}.toString.call(a.process)==="[object process]"?function(E){Ut.nextTick(function(){v(E)})}:function(){if(a.postMessage&&!a.importScripts){var E=!0,N=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=N,E}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(E){a.postMessage(h+E,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(E){v(E.data)},function(E){u.port2.postMessage(E)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(E){var N=g.createElement("script");N.onreadystatechange=function(){v(E),N.onreadystatechange=null,c.removeChild(N),N=null},c.appendChild(N)}):function(E){setTimeout(v,0,E)},w.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var N=new Array(arguments.length-1),C=0;C<N.length;C++)N[C]=arguments[C+1];var P={callback:E,args:N};return f[p]=P,l(p),p++},w.clearImmediate=m}function m(E){delete f[E]}function v(E){if(y)setTimeout(v,0,E);else{var N=f[E];if(N){y=!0;try{(function(C){var P=C.callback,k=C.args;switch(k.length){case 0:P();break;case 1:P(k[0]);break;case 2:P(k[0],k[1]);break;case 3:P(k[0],k[1],k[2]);break;default:P.apply(o,k)}})(N)}finally{m(E),y=!1}}}}function x(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(h)===0&&v(+E.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof al<"u"?al:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(IA)),IA.exports}var L3e=R3e();const D3e=YH(L3e);var Dg={exports:{}},jA,p7;function M3e(){if(p7)return jA;p7=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return t[i]}):r}return jA=e,jA}var m7;function F3e(){if(m7)return Dg.exports;m7=1;var t=M3e(),e=YC().Stream,r="    ";function n(c,u){typeof u!="object"&&(u={indent:u});var h=u.stream?new e:null,p="",f=!1,y=u.indent?u.indent===!0?r:u.indent:"",g=!0;function w(N){g?Ut.nextTick(N):N()}function m(N,C){if(C!==void 0&&(p+=C),N&&!f&&(h=h||new e,f=!0),N&&f){var P=p;w(function(){h.emit("data",P)}),p=""}}function v(N,C){o(m,a(N,y,y?1:0),C)}function x(){if(h){var N=p;w(function(){h.emit("data",N),h.emit("end"),h.readable=!1,h.emit("close")})}}function E(N){var C=N.encoding||"UTF-8",P={version:"1.0",encoding:C};N.standalone&&(P.standalone=N.standalone),v({"?xml":{_attr:P}}),p=p.replace("/>","?>")}return w(function(){g=!1}),u.declaration&&E(u.declaration),c&&c.forEach?c.forEach(function(N,C){var P;C+1===c.length&&(P=x),v(N,P)}):v(c,x),h?(h.readable=!0,h):p}function i(){var c=Array.prototype.slice.call(arguments),u={_elem:a(c)};return u.push=function(h){if(!this.append)throw new Error("not assigned to a parent!");var p=this,f=this._elem.indent;o(this.append,a(h,f,this._elem.icount+(f?1:0)),function(){p.append(!0)})},u.close=function(h){h!==void 0&&this.push(h),this.end&&this.end()},u}function s(c,u){return new Array(u||0).join(c||"")}function a(c,u,h){h=h||0;var p=s(u,h),f,y=c,g=!1;if(typeof c=="object"){var w=Object.keys(c);if(f=w[0],y=c[f],y&&y._elem)return y._elem.name=f,y._elem.icount=h,y._elem.indent=u,y._elem.indents=p,y._elem.interrupt=y,y._elem}var m=[],v=[],x;function E(N){var C=Object.keys(N);C.forEach(function(P){m.push(l(P,N[P]))})}switch(typeof y){case"object":if(y===null)break;y._attr&&E(y._attr),y._cdata&&v.push(("<![CDATA["+y._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),y.forEach&&(x=!1,v.push(""),y.forEach(function(N){if(typeof N=="object"){var C=Object.keys(N)[0];C=="_attr"?E(N._attr):v.push(a(N,u,h+1))}else v.pop(),x=!0,v.push(t(N))}),x||v.push(""));break;default:v.push(t(y))}return{name:f,interrupt:g,attributes:m,content:v,icount:h,indents:p,indent:u}}function o(c,u,h){if(typeof u!="object")return c(!1,u);var p=u.interrupt?1:u.content.length;function f(){for(;u.content.length;){var g=u.content.shift();if(g!==void 0){if(y(g))return;o(c,g)}}c(!1,(p>1?u.indents:"")+(u.name?"</"+u.name+">":"")+(u.indent&&!h?`
`:"")),h&&h()}function y(g){return g.interrupt?(g.interrupt.append=c,g.interrupt.end=f,g.interrupt=!1,c(!0),!0):!1}if(c(!1,u.indents+(u.name?"<"+u.name:"")+(u.attributes.length?" "+u.attributes.join(" "):"")+(p?u.name?">":"":u.name?"/>":"")+(u.indent&&p>1?`
`:"")),!p)return c(!1,u.indent?`
`:"");y(u)||f()}function l(c,u){return c+'="'+t(u)+'"'}return Dg.exports=n,Dg.exports.element=Dg.exports.Element=i,Dg.exports}var B3e=F3e();const en=YH(B3e),Mg=0,OA=32,U3e=32,$3e=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==U3e)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const a=t.slice(Mg,OA).map((l,c)=>l^i[c%i.length]),o=new Uint8Array(Mg+a.length+Math.max(0,t.length-OA));return o.set(t.slice(0,Mg)),o.set(a,Mg),o.set(t.slice(OA),Mg+a.length),o};class V3e{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class z3e{replace(e,r,n){let i=e;return r.forEach((s,a)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+a).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class q3e{replace(e,r){let n=e;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class W3e{constructor(){We(this,"formatter"),We(this,"imageReplacer"),We(this,"numberingReplacer"),this.formatter=new V3e,this.imageReplacer=new z3e,this.numberingReplacer=new q3e}compile(e,r,n=[]){const i=new D3e,s=this.xmlifyFile(e,r),a=new Map(Object.entries(s));for(const[,o]of a)if(Array.isArray(o))for(const l of o)i.file(l.path,l.data);else i.file(o.path,o.data);for(const o of n)i.file(o.path,o.data);for(const o of e.Media.Array)o.type!=="svg"?i.file(`word/media/${o.fileName}`,o.data):(i.file(`word/media/${o.fileName}`,o.data),i.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(const{data:o,name:l,fontKey:c}of e.FontTable.fontOptionsWithKey){const[u]=l.split(".");i.file(`word/fonts/${u}.odttf`,$3e(o,c))}return i}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,i=en(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,a=en(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,e.Media),l=this.imageReplacer.getMediaData(a,e.Media);return{Relationships:{data:(o.forEach((c,u)=>{e.Document.Relationships.createRelationship(n+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),en(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const c=this.imageReplacer.replace(i,o,n);return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const c=en(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:en(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:en(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:en(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((c,u)=>{const h=en(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,e.Media).forEach((f,y)=>{c.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),{data:en(this.formatter.format(c.Relationships,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${u+1}.xml.rels`}}),FooterRelationships:e.Footers.map((c,u)=>{const h=en(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,e.Media).forEach((f,y)=>{c.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),{data:en(this.formatter.format(c.Relationships,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${u+1}.xml.rels`}}),Headers:e.Headers.map((c,u)=>{const h=en(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(h,e.Media),f=this.imageReplacer.replace(h,p,0);return{data:this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering),path:`word/header${u+1}.xml`}}),Footers:e.Footers.map((c,u)=>{const h=en(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(h,e.Media),f=this.imageReplacer.replace(h,p,0);return{data:this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering),path:`word/footer${u+1}.xml`}}),ContentTypes:{data:en(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:en(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:en(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:en(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:en(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:en(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const c=this.imageReplacer.replace(a,l,s);return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((c,u)=>{e.Comments.Relationships.createRelationship(s+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),en(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:en(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:en(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const H3e={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},g7=t=>t===!0?H3e.WITH_2_BLANKS:t===!1?void 0:t,jG=class Zf{static pack(e,r,n){return _Ae(this,arguments,function*(i,s,a,o=[]){return this.compiler.compile(i,g7(a),o).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return Zf.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return Zf.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return Zf.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return Zf.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return Zf.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){const i=new O3e.Stream;return this.compiler.compile(e,g7(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(a=>{i.emit("data",a),i.emit("end")}),i}};We(jG,"compiler",new W3e);let G3e=jG;var OG={exports:{}};(function(t,e){(function(r,n){n()})(cg,function(){function r(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,u,h){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,u,h)},p.onerror=function(){console.error("could not download file")},p.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof cg=="object"&&cg.global===cg?cg:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,h){var p=a.URL||a.webkitURL,f=document.createElement("a");u=u||c.name||"download",f.download=u,f.rel="noopener",typeof c=="string"?(f.href=c,f.origin===location.origin?s(f):i(f.href)?n(c,u,h):s(f,f.target="_blank")):(f.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(f.href)},4e4),setTimeout(function(){s(f)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,h){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,h),u);else if(i(c))n(c,u,h);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){s(p)})}}:function(c,u,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return n(c,u,h);var f=c.type==="application/octet-stream",y=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||f&&y||o)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var x=w.result;x=g?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=x:location=x,p=null},w.readAsDataURL(c)}else{var m=a.URL||a.webkitURL,v=m.createObjectURL(c);p?p.location=v:location.href=v,p=null,setTimeout(function(){m.revokeObjectURL(v)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(OG);var K3e=OG.exports;function Y3e({document:t,onBack:e}){const r=c=>$r(new Date(c),"dd/MM/yyyy HH:mm",{locale:Tr}),n=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),i=c=>{const u=new xt,h=[37,99,235],p=[245,158,11],f=[55,65,81],y=[156,163,175];u.setFillColor(...h),u.rect(0,0,210,25,"F"),u.setTextColor(255,255,255),u.setFontSize(24),u.setFont(void 0,"bold"),u.text("Legal",20,17),u.setTextColor(...p),u.text("X",50,17),u.setTextColor(255,255,255),u.setFontSize(10),u.setFont(void 0,"normal"),u.text("Sistema de Gestão Jurídica",20,22),u.setTextColor(...f),u.setFontSize(20),u.setFont(void 0,"bold"),u.text("PROCURAÇÃO",105,45,{align:"center"}),u.setDrawColor(...p),u.setLineWidth(2),u.line(20,50,190,50),u.setTextColor(...f),u.setFontSize(11),u.setFont(void 0,"normal");let g=65;const w=6,m=c.lawyers&&c.lawyers.length>1?`os(as) Srs(as). ${c.lawyers.join(", ")}`:`o(a) Sr(a). ${c.lawyers?c.lawyers[0]:"Advogado"}`,v=`
Pelo presente instrumento particular de procuração, eu, ${t.client}, 
nomeio e constituo como ${c.lawyers&&c.lawyers.length>1?"meus bastantes procuradores":"meu bastante procurador"} ${m}, 
para o fim específico de:

${c.object||"Representação jurídica"}

Outorgo-lhe poderes para representar-me ${c.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos"}, 
podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento 
do presente mandato.

Por ser verdade, firmo a presente.

${c.location||"São Paulo"}, ${c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}.


_________________________________
${t.client}
Outorgante
    `.trim();u.splitTextToSize(v,170).forEach(E=>{g>270&&(u.addPage(),g=30),u.text(E,20,g),g+=w}),u.setDrawColor(...y),u.setLineWidth(.5),u.line(20,280,190,280),u.setTextColor(...y),u.setFontSize(8),u.setFont(void 0,"normal"),u.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),u.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290),u.save(`procuracao_${t.client.replace(/\s+/g,"_").toLowerCase()}.pdf`)},s=c=>{const u=new xt,h=[37,99,235],p=[245,158,11],f=[55,65,81],y=[156,163,175],g=[34,197,94];u.setFillColor(...h),u.rect(0,0,210,25,"F"),u.setTextColor(255,255,255),u.setFontSize(24),u.setFont(void 0,"bold"),u.text("Legal",20,17),u.setTextColor(...p),u.text("X",50,17),u.setTextColor(255,255,255),u.setFontSize(10),u.setFont(void 0,"normal"),u.text("Sistema de Gestão Jurídica",20,22),u.setTextColor(...f),u.setFontSize(20),u.setFont(void 0,"bold"),u.text("RECIBO",105,45,{align:"center"}),u.setDrawColor(...p),u.setLineWidth(2),u.line(20,50,190,50),u.setFillColor(248,250,252),u.setDrawColor(...g),u.setLineWidth(1),u.roundedRect(20,55,170,20,3,3,"FD"),u.setTextColor(...g),u.setFontSize(16),u.setFont(void 0,"bold"),u.text(`Valor: ${n(c.amount||0)}`,105,67,{align:"center"}),u.setTextColor(...f),u.setFontSize(11),u.setFont(void 0,"normal");let w=85;const m=`
Recebi de ${t.client} a importância de ${n(c.amount||0)}, 
referente a ${c.description||"serviços jurídicos"}.

Forma de pagamento: ${c.paymentMethod||"Não especificado"}

Para clareza firmo o presente recibo.

${c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}


_________________________________
${c.lawyerName||"Advogado"}
OAB: ${c.lawyerOab||""}
CPF: ${c.lawyerCpf||""}
    `.trim();u.splitTextToSize(m,170).forEach(x=>{w>270&&(u.addPage(),w=30),u.text(x,20,w),w+=6}),u.setDrawColor(...y),u.setLineWidth(.5),u.line(20,280,190,280),u.setTextColor(...y),u.setFontSize(8),u.setFont(void 0,"normal"),u.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),u.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290),u.save(`recibo_${t.client.replace(/\s+/g,"_").toLowerCase()}.pdf`)},a=()=>{let c;if(t.type==="Procuração"){const u=t.data,h=u.lawyers&&u.lawyers.length>1?`os(as) Srs(as). ${u.lawyers.join(", ")}`:`o(a) Sr(a). ${u.lawyers?u.lawyers[0]:"Advogado"}`;c=new h7({sections:[{properties:{},children:[new wr({children:[new Mt({text:"LegalX",bold:!0,size:32,color:"2563eb"}),new Mt({text:" - Sistema de Gestão Jurídica",size:20,color:"6b7280"})],alignment:Kt.CENTER,spacing:{after:400}}),new wr({children:[new Mt({text:"PROCURAÇÃO",bold:!0,size:32})],alignment:Kt.CENTER,spacing:{after:600}}),new wr({children:[new Mt({text:"Pelo presente instrumento particular de procuração, eu, "}),new Mt({text:t.client,bold:!0}),new Mt({text:`, nomeio e constituo como ${u.lawyers&&u.lawyers.length>1?"meus bastantes procuradores":"meu bastante procurador"} `}),new Mt({text:h,bold:!0}),new Mt({text:", para o fim específico de:"})],alignment:Kt.JUSTIFIED,spacing:{after:300}}),new wr({children:[new Mt({text:u.object||"Representação jurídica",bold:!0,italics:!0})],alignment:Kt.JUSTIFIED,spacing:{after:300}}),new wr({children:[new Mt({text:`Outorgo-lhe poderes para representar-me ${u.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos"}, podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento do presente mandato.`})],alignment:Kt.JUSTIFIED,spacing:{after:400}}),new wr({children:[new Mt({text:"Por ser verdade, firmo a presente."})],alignment:Kt.JUSTIFIED,spacing:{after:600}}),new wr({children:[new Mt({text:`${u.location||"São Paulo"}, ${u.date?new Date(u.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}.`})],alignment:Kt.RIGHT,spacing:{after:800}}),new wr({children:[new Mt({text:"_________________________________"})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Mt({text:t.client,bold:!0})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Mt({text:"Outorgante",size:20,color:"6b7280"})],alignment:Kt.CENTER,spacing:{after:800}}),new wr({children:[new Mt({text:"Documento gerado pelo LegalX - Sistema de Gestão Jurídica",size:16,color:"9ca3af"})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Mt({text:`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,size:16,color:"9ca3af"})],alignment:Kt.CENTER})]}]})}else if(t.type==="Recibo"){const u=t.data;c=new h7({sections:[{properties:{},children:[new wr({children:[new Mt({text:"LegalX",bold:!0,size:32,color:"2563eb"}),new Mt({text:" - Sistema de Gestão Jurídica",size:20,color:"6b7280"})],alignment:Kt.CENTER,spacing:{after:400}}),new wr({children:[new Mt({text:"RECIBO",bold:!0,size:32})],alignment:Kt.CENTER,spacing:{after:400}}),new wr({children:[new Mt({text:`Valor: ${n(u.amount||0)}`,bold:!0,size:28,color:"22c55e"})],alignment:Kt.CENTER,spacing:{after:600}}),new wr({children:[new Mt({text:"Recebi de "}),new Mt({text:t.client,bold:!0}),new Mt({text:" a importância de "}),new Mt({text:n(u.amount||0),bold:!0}),new Mt({text:", referente a "}),new Mt({text:u.description||"serviços jurídicos",bold:!0}),new Mt({text:"."})],alignment:Kt.JUSTIFIED,spacing:{after:300}}),new wr({children:[new Mt({text:"Forma de pagamento: "}),new Mt({text:u.paymentMethod||"Não especificado",bold:!0})],alignment:Kt.JUSTIFIED,spacing:{after:400}}),new wr({children:[new Mt({text:"Para clareza firmo o presente recibo."})],alignment:Kt.JUSTIFIED,spacing:{after:600}}),new wr({children:[new Mt({text:u.date?new Date(u.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")})],alignment:Kt.RIGHT,spacing:{after:800}}),new wr({children:[new Mt({text:"_________________________________"})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Mt({text:u.lawyerName||"Advogado",bold:!0})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Mt({text:`OAB: ${u.lawyerOab||""}`,size:20,color:"6b7280"})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Mt({text:`CPF: ${u.lawyerCpf||""}`,size:20,color:"6b7280"})],alignment:Kt.CENTER,spacing:{after:800}}),new wr({children:[new Mt({text:"Documento gerado pelo LegalX - Sistema de Gestão Jurídica",size:16,color:"9ca3af"})],alignment:Kt.CENTER,spacing:{after:100}}),new wr({children:[new Mt({text:`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,size:16,color:"9ca3af"})],alignment:Kt.CENTER})]}]})}c&&G3e.toBlob(c).then(u=>{K3e.saveAs(u,`${t.type.toLowerCase()}_${t.client.replace(/\s+/g,"_").toLowerCase()}.docx`)}).catch(u=>{console.error("Erro ao gerar documento Word:",u),alert("Erro ao gerar documento Word. Tente novamente.")})},o=()=>{t.type==="Procuração"?i(t.data):t.type==="Recibo"&&s(t.data)},l=()=>{if(t.type==="Procuração"){const c=t.data;return d.jsxs("div",{className:"prose max-w-none",children:[d.jsx("h2",{className:"text-center text-xl font-bold mb-6",children:"PROCURAÇÃO"}),d.jsxs("p",{className:"text-justify leading-relaxed",children:["Pelo presente instrumento particular de procuração, eu, ",d.jsx("strong",{children:t.client}),", nomeio e constituo como ",c.lawyers&&c.lawyers.length>1?"meus bastantes procuradores":"meu bastante procurador"," "," ",d.jsx("strong",{children:c.lawyers?c.lawyers.join(", "):"Advogado"}),", para o fim específico de:"]}),d.jsx("p",{className:"text-justify leading-relaxed my-4",children:d.jsx("strong",{children:c.object||"Representação jurídica"})}),d.jsxs("p",{className:"text-justify leading-relaxed",children:["Outorgo-lhe poderes para representar-me ",c.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos",", podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento do presente mandato."]}),d.jsx("p",{className:"text-justify leading-relaxed mt-6",children:"Por ser verdade, firmo a presente."}),d.jsxs("p",{className:"text-right mt-8",children:[c.location||"São Paulo",", ",c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR"),"."]}),d.jsxs("div",{className:"text-center mt-12",children:[d.jsx("div",{className:"border-t border-gray-400 w-64 mx-auto mb-2"}),d.jsx("p",{children:d.jsx("strong",{children:t.client})}),d.jsx("p",{className:"text-sm text-gray-600",children:"Outorgante"})]})]})}else if(t.type==="Recibo"){const c=t.data;return d.jsxs("div",{className:"prose max-w-none",children:[d.jsx("h2",{className:"text-center text-xl font-bold mb-6",children:"RECIBO"}),d.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 text-center mb-6",children:d.jsxs("p",{className:"text-lg font-bold text-green-700",children:["Valor: ",n(c.amount||0)]})}),d.jsxs("p",{className:"text-justify leading-relaxed",children:["Recebi de ",d.jsx("strong",{children:t.client})," a importância de ",d.jsx("strong",{children:n(c.amount||0)}),", referente a ",d.jsx("strong",{children:c.description||"serviços jurídicos"}),"."]}),d.jsxs("p",{className:"text-justify leading-relaxed mt-4",children:["Forma de pagamento: ",d.jsx("strong",{children:c.paymentMethod||"Não especificado"})]}),d.jsx("p",{className:"text-justify leading-relaxed mt-6",children:"Para clareza firmo o presente recibo."}),d.jsx("p",{className:"text-right mt-8",children:c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}),d.jsxs("div",{className:"text-center mt-12",children:[d.jsx("div",{className:"border-t border-gray-400 w-64 mx-auto mb-2"}),d.jsx("p",{children:d.jsx("strong",{children:c.lawyerName||"Advogado"})}),d.jsxs("p",{className:"text-sm text-gray-600",children:["OAB: ",c.lawyerOab||""]}),d.jsxs("p",{className:"text-sm text-gray-600",children:["CPF: ",c.lawyerCpf||""]})]})]})}return null};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.type}),d.jsxs("p",{className:"text-gray-600",children:["Cliente: ",t.client]})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(MT,{className:"w-5 h-5 mr-2"}),"Baixar PDF"]}),d.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Rm,{className:"w-5 h-5 mr-2"}),"Baixar Word"]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Documento"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Tipo"}),d.jsx("p",{className:"text-gray-900",children:t.type})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cliente"}),d.jsx("p",{className:"text-gray-900",children:t.client})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Criação"}),d.jsx("p",{className:"text-gray-900",children:r(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-8",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Visualização do Documento"}),d.jsx("div",{className:"border border-gray-200 rounded-lg p-8 bg-gray-50 min-h-96",children:l()})]}),d.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[d.jsx("p",{children:"Documento gerado pelo LegalX - Sistema de Gestão Jurídica"}),d.jsxs("p",{children:["Criado em ",r(t.createdAt)]})]})]})}function X3e({quickActionType:t,onClearQuickAction:e}){const[r,n]=R.useState(null),[i,s]=R.useState(null),[a,o]=R.useState([]),[l,c]=R.useState(!1);R.useEffect(()=>{t==="power-of-attorney"?(n("power-of-attorney"),e()):t==="receipt"&&(n("receipt"),e())},[t,e]),R.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const f=await rt.getDocuments();o(f)}catch(f){console.error("Erro ao carregar documentos:",f)}finally{c(!1)}},h=f=>{s(f)},p=()=>{s(null)};return r==="power-of-attorney"?d.jsx(pAe,{onBack:()=>n(null),onSave:u}):r==="receipt"?d.jsx(gAe,{onBack:()=>n(null),onSave:u}):i?d.jsx(Y3e,{document:i,onBack:p}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerador de Documentos"}),d.jsx("p",{className:"text-gray-600",children:"Crie documentos jurídicos profissionais"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl",children:[d.jsx("div",{onClick:()=>n("power-of-attorney"),className:"bg-white rounded-lg shadow-md border-2 border-transparent hover:border-blue-300 transition-all cursor-pointer group",children:d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors",children:d.jsx(Rm,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Procuração"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Gere procurações jurídicas com todos os dados necessários"}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[d.jsx("p",{children:"• Procuração Ad Judicia"}),d.jsx("p",{children:"• Procuração para fins específicos"}),d.jsx("p",{children:"• Geração em PDF e DOCX"})]}),d.jsx("button",{className:"mt-6 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Criar Procuração"})]})}),d.jsx("div",{onClick:()=>n("receipt"),className:"bg-white rounded-lg shadow-md border-2 border-transparent hover:border-green-300 transition-all cursor-pointer group",children:d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-green-200 transition-colors",children:d.jsx(sce,{className:"w-8 h-8 text-green-600"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Recibo"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Emita recibos profissionais para honorários e serviços"}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[d.jsx("p",{children:"• Recibo de honorários advocatícios"}),d.jsx("p",{children:"• Recibo de consultoria jurídica"}),d.jsx("p",{children:"• Geração em PDF"})]}),d.jsx("button",{className:"mt-6 w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Criar Recibo"})]})})]}),d.jsxs("div",{className:"mt-12",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentos Recentes"}),d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l?d.jsx("div",{className:"p-6",children:d.jsx("p",{className:"text-gray-500 text-center",children:"Carregando documentos..."})}):a.length===0?d.jsx("div",{className:"p-6",children:d.jsx("p",{className:"text-gray-500 text-center",children:"Nenhum documento gerado ainda"})}):d.jsx("div",{className:"divide-y divide-gray-200",children:a.slice(0,10).map(f=>d.jsx("div",{className:"p-4 hover:bg-gray-50",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900",children:f.type}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",f.client]}),d.jsxs("p",{className:"text-xs text-gray-400",children:["Criado em ",$r(new Date(f.createdAt),"dd/MM/yyyy HH:mm",{locale:Tr})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f.type==="Procuração"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:f.type}),d.jsxs("button",{onClick:()=>h(f),className:"flex items-center px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors ml-2",title:"Visualizar documento",children:[d.jsx(Ta,{className:"w-3 h-3 mr-1"}),"Ver"]})]})]})},f.id))})})]})]})}function J3e(){const[t,e]=R.useState("month"),[r,n]=R.useState([]),[i,s]=R.useState([]),[a,o]=R.useState({totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]}),[l,c]=R.useState(!0);R.useEffect(()=>{u()},[]);const u=async()=>{try{const[C,P,k]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getFinancialSummary()]);n(C),s(P),o(k),console.log("Dados do relatório carregados")}catch(C){console.error("Erro ao carregar dados do relatório:",C)}finally{c(!1)}},h=a.totalRevenue,p=a.totalExpenses,f=h-p,y=r.filter(C=>C.status==="Em andamento").length,g=r.filter(C=>C.status==="Concluído").length,w=i.length,m=i.filter(C=>C.status==="Concluído").length,v=[{name:"Em andamento",value:y,color:"#f59e0b"},{name:"Concluídos",value:g,color:"#10b981"}],x=a.monthlyData.map(C=>({...C,profit:C.revenue-C.expenses})),E=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),N=()=>{const C=new xt,P=[37,99,235],k=[245,158,11],T=[55,65,81],q=[156,163,175],M=[34,197,94],A=[239,68,68];C.setFillColor(...P),C.rect(0,0,210,25,"F"),C.setTextColor(255,255,255),C.setFontSize(24),C.setFont(void 0,"bold"),C.text("Legal",20,17),C.setTextColor(...k),C.text("X",50,17),C.setTextColor(255,255,255),C.setFontSize(10),C.setFont(void 0,"normal"),C.text("Sistema de Gestão Jurídica",20,22),C.setTextColor(...T),C.setFontSize(18),C.setFont(void 0,"bold"),C.text("RELATÓRIO FINANCEIRO E OPERACIONAL",105,45,{align:"center"}),C.setDrawColor(...k),C.setLineWidth(2),C.line(20,50,190,50),C.setTextColor(...q),C.setFontSize(10),C.setFont(void 0,"normal"),C.text(`Período: ${t==="month"?"Mês Atual":t==="quarter"?"Trimestre":"Ano"}`,105,55,{align:"center"});let I=70;C.setTextColor(...T),C.setFontSize(14),C.setFont(void 0,"bold"),C.text("RESUMO FINANCEIRO",20,I),I+=15,C.setFillColor(240,253,244),C.setDrawColor(...M),C.setLineWidth(.5),C.roundedRect(20,I-5,170,12,2,2,"FD"),C.setTextColor(...M),C.setFontSize(11),C.setFont(void 0,"normal"),C.text(`✓ Total de Receitas: ${E(h)}`,25,I+3),I+=10,C.setFillColor(254,242,242),C.setDrawColor(...A),C.roundedRect(20,I-5,170,12,2,2,"FD"),C.setTextColor(...A),C.text(`✗ Total de Despesas: ${E(p)}`,25,I+3),I+=10;const j=f>=0?M:A,ne=f>=0?[240,253,244]:[254,242,242];C.setFillColor(...ne),C.setDrawColor(...j),C.setLineWidth(1),C.roundedRect(20,I-5,170,12,2,2,"FD"),C.setTextColor(...j),C.setFont(void 0,"bold"),C.text(`${f>=0?"↗":"↘"} Lucro Líquido: ${E(f)}`,25,I+3),I+=20,C.setTextColor(...T),C.setFontSize(14),C.setFont(void 0,"bold"),C.text("RESUMO DE PROCESSOS",20,I),I+=15,C.setTextColor(...T),C.setFontSize(11),C.setFont(void 0,"normal"),C.text(`• Processos em Andamento: ${y}`,25,I),I+=10,C.text(`• Processos Concluídos: ${g}`,25,I),I+=10,C.text(`• Total de Processos: ${y+g}`,25,I),I+=20,C.setTextColor(...T),C.setFontSize(14),C.setFont(void 0,"bold"),C.text("RESUMO DE EVENTOS",20,I),I+=15,C.setTextColor(...T),C.setFontSize(11),C.setFont(void 0,"normal"),C.text(`• Total de Eventos: ${w}`,25,I),I+=10,C.text(`• Eventos Concluídos: ${m}`,25,I),I+=10,C.text(`• Taxa de Conclusão: ${w>0?(m/w*100).toFixed(1):0}%`,25,I),C.setDrawColor(...q),C.setLineWidth(.5),C.line(20,280,190,280),C.setTextColor(...q),C.setFontSize(8),C.setFont(void 0,"normal"),C.text("Relatório gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),C.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290),C.text("Página 1 de 1",190,290,{align:"right"}),C.save(`relatorio_${t}_${new Date().toISOString().split("T")[0]}.pdf`)};return d.jsxs("div",{className:"p-6",children:[l&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"Carregando dados do relatório..."})}),d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatórios"}),d.jsx("p",{className:"text-gray-600",children:"Análise completa dos dados do escritório"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("select",{value:t,onChange:C=>e(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"month",children:"Mês Atual"}),d.jsx("option",{value:"quarter",children:"Trimestre"}),d.jsx("option",{value:"year",children:"Ano"})]}),d.jsxs("button",{onClick:N,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(w$,{className:"w-5 h-5 mr-2"}),"Exportar PDF"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(oN,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-green-100 text-sm",children:"Receitas"}),d.jsx("p",{className:"text-2xl font-bold",children:E(h)})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(oN,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-100 text-sm",children:"Despesas"}),d.jsx("p",{className:"text-2xl font-bold",children:E(p)})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Rx,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-100 text-sm",children:"Processos Ativos"}),d.jsx("p",{className:"text-2xl font-bold",children:y})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ox,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-purple-100 text-sm",children:"Eventos do Mês"}),d.jsx("p",{className:"text-2xl font-bold",children:w})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fluxo Financeiro Mensal"}),d.jsx("div",{className:"h-64",children:d.jsx(XN,{width:"100%",height:"100%",children:d.jsxs(bH,{data:x,children:[d.jsx(MC,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),d.jsx(M2,{dataKey:"month",stroke:"#6b7280",fontSize:12}),d.jsx(F2,{stroke:"#6b7280",fontSize:12}),d.jsx(YN,{formatter:C=>[E(C),""]}),d.jsx(jh,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Receitas"}),d.jsx(jh,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:2,name:"Despesas"}),d.jsx(jh,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Lucro"})]})})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status dos Processos"}),d.jsx("div",{className:"h-64",children:d.jsx(XN,{width:"100%",height:"100%",children:d.jsxs(m5e,{children:[d.jsx(jC,{data:v,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:C,value:P})=>`${C}: ${P}`,children:v.map((C,P)=>d.jsx(O2,{fill:C.color},`cell-${P}`))}),d.jsx(YN,{})]})})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Financeira"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Receita Bruta"}),d.jsx("span",{className:"font-semibold text-green-600",children:E(h)})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Despesas Totais"}),d.jsx("span",{className:"font-semibold text-red-600",children:E(p)})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded border-2 border-blue-200",children:[d.jsx("span",{className:"text-gray-900 font-medium",children:"Lucro Líquido"}),d.jsx("span",{className:"font-bold text-blue-600",children:E(f)})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Margem de Lucro"}),d.jsxs("span",{className:"font-semibold",children:[(f/h*100).toFixed(1),"%"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Operacional"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Total de Processos"}),d.jsx("span",{className:"font-semibold",children:y+g})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Processos Concluídos"}),d.jsx("span",{className:"font-semibold text-green-600",children:g})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Taxa de Conclusão"}),d.jsxs("span",{className:"font-semibold",children:[(g/(y+g)*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Eventos Realizados"}),d.jsxs("span",{className:"font-semibold",children:[m,"/",w]})]})]})]})]})]})}function Q3e(){const[t,e]=R.useState(null),[r,n]=R.useState(null),[i,s]=R.useState(null),[a,o]=R.useState(!1),[l,c]=R.useState(!0);R.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const[m,v]=await Promise.all([rt.getGeneralStats(),rt.getFinancialSummary()]);e(m),n(v)}catch(m){console.error("Erro ao carregar estatísticas:",m),e(null),n(null)}finally{c(!1)}},h=async()=>{o(!0);try{const[m,v,x,E,N,C]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getRevenues(),rt.getExpenses(),rt.getLawyers(),rt.getEmployees()]),P=[];let k=!0;m.forEach((T,q)=>{T.processNumber||(P.push(`Processo ${q+1}: Número do processo ausente`),k=!1),T.client||(P.push(`Processo ${q+1}: Cliente ausente`),k=!1)}),v.forEach((T,q)=>{T.title||(P.push(`Evento ${q+1}: Título ausente`),k=!1),T.date||(P.push(`Evento ${q+1}: Data ausente`),k=!1)}),x.forEach((T,q)=>{T.source||(P.push(`Receita ${q+1}: Fonte ausente`),k=!1),T.amount<=0&&(P.push(`Receita ${q+1}: Valor inválido`),k=!1)}),E.forEach((T,q)=>{T.type||(P.push(`Despesa ${q+1}: Tipo ausente`),k=!1),T.amount<=0&&(P.push(`Despesa ${q+1}: Valor inválido`),k=!1)}),N.forEach((T,q)=>{T.oab||(P.push(`Advogado ${q+1}: OAB ausente`),k=!1),T.fullName||(P.push(`Advogado ${q+1}: Nome completo ausente`),k=!1)}),C.forEach((T,q)=>{T.fullName||(P.push(`Colaborador ${q+1}: Nome completo ausente`),k=!1),T.position||(P.push(`Colaborador ${q+1}: Cargo ausente`),k=!1)}),s({isValid:k,errors:P,summary:{totalProcesses:m.length,totalEvents:v.length,totalRevenues:x.length,totalExpenses:E.length,totalLawyers:N.length,totalEmployees:C.length}})}catch(m){console.error("Erro ao validar dados:",m),s({isValid:!1,errors:["Erro ao acessar os dados para validação"],summary:null})}finally{o(!1)}},p=async()=>{var m;try{o(!0);const[v,x,E,N,C,P,k]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getRevenues(),rt.getExpenses(),rt.getDocuments(),rt.getLawyers(),rt.getEmployees()]),T={version:"1.0",timestamp:new Date().toISOString(),user:(m=pn.currentUser)==null?void 0:m.uid,data:{processes:v,events:x,revenues:E,expenses:N,documents:C,lawyers:P,employees:k}},q=JSON.stringify(T,null,2),M=new Blob([q],{type:"application/json"}),A=URL.createObjectURL(M),I=document.createElement("a");I.href=A,I.download=`legalx_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(A),alert("Backup criado com sucesso!")}catch(v){console.error("Erro ao criar backup:",v),alert("Erro ao criar backup. Tente novamente.")}finally{o(!1)}},f=async m=>{var x;const v=(x=m.target.files)==null?void 0:x[0];if(v)try{o(!0);const E=await v.text(),N=JSON.parse(E);if(!N.data||!N.version)throw new Error("Arquivo de backup inválido");const C=`
Esta ação irá substituir todos os dados atuais pelos dados do backup.
Backup criado em: ${new Date(N.timestamp).toLocaleString("pt-BR")}

Deseja continuar?
      `.trim();if(!confirm(C))return;alert("Funcionalidade de restauração em desenvolvimento. Por segurança, esta operação requer implementação adicional para evitar perda de dados.")}catch(E){console.error("Erro ao importar backup:",E),alert("Erro ao importar backup. Verifique se o arquivo está correto.")}finally{o(!1),m.target.value=""}},y=async()=>{const m=`
⚠️ ATENÇÃO: Esta ação irá excluir TODOS os seus dados permanentemente!

Isso inclui:
- Todos os processos
- Todos os eventos da agenda
- Todas as receitas e despesas
- Todos os documentos
- Todos os advogados e colaboradores

Esta ação NÃO PODE ser desfeita!

Digite "CONFIRMAR EXCLUSÃO" para prosseguir:
    `.trim();if(prompt(m)!=="CONFIRMAR EXCLUSÃO"){alert("Operação cancelada.");return}try{o(!0);const[x,E,N,C,P,k,T]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getRevenues(),rt.getExpenses(),rt.getDocuments(),rt.getLawyers(),rt.getEmployees()]),q=[...x.map(M=>rt.deleteProcess(M.id)),...E.map(M=>rt.deleteEvent(M.id)),...N.map(M=>rt.deleteRevenue(M.id)),...C.map(M=>rt.deleteExpense(M.id)),...P.map(M=>rt.deleteDocument(M.id)),...k.map(M=>rt.deleteLawyer(M.id)),...T.map(M=>rt.deleteEmployee(M.id))];await Promise.all(q),await u(),alert("Todos os dados foram excluídos com sucesso!")}catch(x){console.error("Erro ao limpar dados:",x),alert("Erro ao limpar dados. Alguns dados podem não ter sido excluídos.")}finally{o(!1)}},g=async()=>{if(confirm("Deseja criar dados de exemplo? Isso adicionará dados fictícios ao sistema."))try{o(!0);const m=await rt.saveLawyer({fullName:"Dr. João Silva Santos",oab:"SP123456",email:"joao.silva@exemplo.com",phone:"(11) 99999-9999",specialties:["Direito Civil","Direito Empresarial"],status:"Ativo"}),v=await rt.saveEmployee({fullName:"Maria Oliveira",position:"Secretária",email:"maria.oliveira@exemplo.com",phone:"(11) 88888-8888",status:"Ativo"}),x=await rt.saveProcess({processNumber:"1234567-89.2024.8.26.0001",client:"Empresa ABC Ltda",description:"Ação de cobrança contra fornecedor",status:"Em andamento",court:"Vara Cível Central",responsibleLawyers:m?[m.fullName]:[],value:5e4,area:"Direito Empresarial"});await rt.saveEvent({title:"Audiência de Conciliação",date:new Date().toISOString().split("T")[0],time:"14:00",type:"Audiência",client:"Empresa ABC Ltda",processNumber:"1234567-89.2024.8.26.0001",lawyers:m?[m.fullName]:[],location:"Fórum Central",priority:"Alta",status:"Pendente"}),await rt.saveRevenue({date:new Date().toISOString().split("T")[0],amount:15e3,source:"Empresa ABC Ltda",category:"Honorário",client:"Empresa ABC Ltda",responsibleLawyers:m?[m.fullName]:[],description:"Honorários advocatícios - entrada do processo"}),await rt.saveExpense({date:new Date().toISOString().split("T")[0],amount:1200,type:"Aluguel do escritório",category:"Aluguel",description:"Aluguel mensal do escritório",responsibleMembers:v?[v.fullName]:[]}),await u(),alert("Dados de exemplo criados com sucesso!")}catch(m){console.error("Erro ao criar dados de exemplo:",m),alert("Erro ao criar dados de exemplo. Tente novamente.")}finally{o(!1)}},w=m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m);return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configurações do Sistema"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie dados, backup e configurações gerais"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(b$,{className:"w-5 h-5 mr-2"}),"Estatísticas do Sistema"]}),l?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando estatísticas..."})]}):t&&r?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-blue-600",children:"Processos"}),d.jsx("p",{className:"text-xl font-bold text-blue-700",children:t.totalProcesses}),d.jsxs("p",{className:"text-xs text-blue-500",children:[t.activeProcesses," ativos, ",t.completedProcesses," concluídos"]})]}),d.jsxs("div",{className:"bg-green-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-green-600",children:"Eventos"}),d.jsx("p",{className:"text-xl font-bold text-green-700",children:t.totalEvents}),d.jsxs("p",{className:"text-xs text-green-500",children:[t.pendingEvents," pendentes, ",t.completedEvents," concluídos"]})]}),d.jsxs("div",{className:"bg-purple-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-purple-600",children:"Receitas"}),d.jsx("p",{className:"text-lg font-bold text-purple-700",children:w(r.totalRevenue)})]}),d.jsxs("div",{className:"bg-red-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-red-600",children:"Despesas"}),d.jsx("p",{className:"text-lg font-bold text-red-700",children:w(r.totalExpenses)})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Documentos"}),d.jsx("p",{className:"text-lg font-bold text-gray-700",children:t.totalDocuments})]}),d.jsxs("div",{className:"bg-indigo-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-indigo-600",children:"Equipe"}),d.jsx("p",{className:"text-lg font-bold text-indigo-700",children:t.totalLawyers+t.totalEmployees}),d.jsxs("p",{className:"text-xs text-indigo-500",children:[t.activeLawyers," advogados, ",t.activeEmployees," colaboradores"]})]})]}),d.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Armazenamento (Firestore)"}),d.jsxs("div",{className:"flex items-center mt-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"5%"}})}),d.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Ilimitado (Cloud Firestore)"})]})]})]}):d.jsx("p",{className:"text-red-500",children:"Erro ao carregar estatísticas"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(wl,{className:"w-5 h-5 mr-2"}),"Validação de Dados"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:h,disabled:a,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:a?"Validando...":"Validar Integridade dos Dados"}),i&&d.jsxs("div",{className:`p-4 rounded-lg ${i.isValid?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[d.jsxs("div",{className:"flex items-center mb-2",children:[i.isValid?d.jsx(wl,{className:"w-5 h-5 text-green-600 mr-2"}):d.jsx(Sh,{className:"w-5 h-5 text-red-600 mr-2"}),d.jsx("span",{className:`font-medium ${i.isValid?"text-green-800":"text-red-800"}`,children:i.isValid?"Dados íntegros":"Problemas encontrados"})]}),i.summary&&d.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Analisados: ",i.summary.totalProcesses," processos, "," ",i.summary.totalEvents," eventos, "," ",i.summary.totalRevenues," receitas, "," ",i.summary.totalExpenses," despesas"]}),i.errors.length>0&&d.jsx("ul",{className:"text-sm text-red-700 space-y-1 max-h-32 overflow-y-auto",children:i.errors.map((m,v)=>d.jsxs("li",{children:["• ",m]},v))})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Backup e Restauração"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:p,disabled:a,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[d.jsx(w$,{className:"w-5 h-5 mr-2"}),a?"Criando Backup...":"Fazer Backup dos Dados"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Restaurar Backup"}),d.jsx("input",{type:"file",accept:".json",onChange:f,disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecione um arquivo de backup (.json) para restaurar"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gerenciamento de Dados"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:g,disabled:a,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[d.jsx(Mle,{className:"w-5 h-5 mr-2"}),a?"Criando...":"Criar Dados de Exemplo"]}),d.jsxs("div",{className:"border-t pt-4",children:[d.jsxs("button",{onClick:y,disabled:a,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:[d.jsx(Pa,{className:"w-5 h-5 mr-2"}),a?"Limpando...":"Limpar Todos os Dados"]}),d.jsx("p",{className:"text-xs text-red-500 mt-1",children:"⚠️ Esta ação não pode ser desfeita"})]})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Instruções de Uso"}),d.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Backup:"})," Recomendamos fazer backup regularmente dos seus dados. Os dados são exportados em formato JSON."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Validação:"})," Execute a validação periodicamente para garantir a integridade dos dados no Firestore."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Armazenamento:"})," Os dados são salvos no Cloud Firestore com isolamento por usuário."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Dados de Exemplo:"})," Use para testar o sistema com dados fictícios (advogado, colaborador, processo, evento, receita e despesa)."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Segurança:"})," Todos os dados são associados ao seu usuário autenticado e não são visíveis a outros usuários."]})]})]})]})}function y7({onNewLawyer:t,onNewEmployee:e,onViewLawyer:r,onViewEmployee:n,onEditLawyer:i,onEditEmployee:s}){const[a,o]=R.useState([]),[l,c]=R.useState([]),[u,h]=R.useState("lawyers"),[p,f]=R.useState(""),[y,g]=R.useState("all"),[w,m]=R.useState(!0),[v,x]=R.useState(null);R.useEffect(()=>{E()},[]);const E=async()=>{try{m(!0),x(null),console.log("Iniciando carregamento dos dados da equipe...");const[A,I]=await Promise.all([rt.getLawyers().catch(j=>(console.warn("Erro ao carregar advogados:",j),[])),rt.getEmployees().catch(j=>(console.warn("Erro ao carregar colaboradores:",j),[]))]);o(A||[]),c(I||[]),console.log(`${A.length} advogados e ${I.length} colaboradores carregados`)}catch(A){console.error("Erro ao carregar dados da equipe:",A),x("Erro ao carregar dados da equipe. Verifique sua conexão e tente novamente.")}finally{m(!1)}},N=async(A,I)=>{if(confirm(`Tem certeza que deseja excluir o advogado "${I}"?`))try{m(!0),await rt.deleteLawyer(A),o(j=>j.filter(ne=>ne.id!==A)),console.log("Advogado excluído com sucesso")}catch(j){console.error("Erro ao excluir advogado:",j),alert("Erro ao excluir advogado. Tente novamente.")}finally{m(!1)}},C=async(A,I)=>{if(confirm(`Tem certeza que deseja excluir o colaborador "${I}"?`))try{m(!0),await rt.deleteEmployee(A),c(j=>j.filter(ne=>ne.id!==A)),console.log("Colaborador excluído com sucesso")}catch(j){console.error("Erro ao excluir colaborador:",j),alert("Erro ao excluir colaborador. Tente novamente.")}finally{m(!1)}},P=a.filter(A=>{var pe,X,ce,ue;const I=p.toLowerCase(),j=((pe=A.fullName)==null?void 0:pe.toLowerCase().includes(I))||((X=A.oab)==null?void 0:X.toLowerCase().includes(I))||((ce=A.cpf)==null?void 0:ce.toLowerCase().includes(I))||((ue=A.email)==null?void 0:ue.toLowerCase().includes(I)),ne=y==="all"||A.status===y;return j&&ne}),k=l.filter(A=>{var pe,X,ce,ue;const I=p.toLowerCase(),j=((pe=A.fullName)==null?void 0:pe.toLowerCase().includes(I))||((X=A.position)==null?void 0:X.toLowerCase().includes(I))||((ce=A.cpf)==null?void 0:ce.toLowerCase().includes(I))||((ue=A.email)==null?void 0:ue.toLowerCase().includes(I)),ne=y==="all"||A.status===y;return j&&ne}),T=A=>{try{return $r(new Date(A),"dd/MM/yyyy",{locale:Tr})}catch{return"Data inválida"}},q=A=>{if(!A)return"N/A";const I=A.replace(/\D/g,"");return I.length!==11?A:I.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")},M=A=>typeof A!="number"||isNaN(A)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A);return v?d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),d.jsx("div",{className:"mt-2 text-sm text-red-700",children:d.jsx("p",{children:v})}),d.jsx("div",{className:"mt-4",children:d.jsx("button",{type:"button",className:"bg-red-100 px-2 py-1.5 rounded-md text-sm font-medium text-red-800 hover:bg-red-200 transition-colors",onClick:()=>{x(null),E()},children:"Tentar novamente"})})]})]})})}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Equipe"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie advogados e colaboradores do escritório"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:t,disabled:w,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(Ju,{className:"w-5 h-5 mr-2"}),"Novo Advogado"]}),d.jsxs("button",{onClick:e,disabled:w,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(H1,{className:"w-5 h-5 mr-2"}),"Novo Colaborador"]})]})]}),d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[d.jsxs("button",{onClick:()=>h("lawyers"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${u==="lawyers"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Advogados (",a.length,")"]}),d.jsxs("button",{onClick:()=>h("employees"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${u==="employees"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Colaboradores (",l.length,")"]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(FT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:p,onChange:A=>f(A.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Lx,{className:"w-5 h-5 text-gray-400"}),d.jsxs("select",{value:y,onChange:A=>g(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Todos os Status"}),d.jsx("option",{value:"Ativo",children:"Ativo"}),d.jsx("option",{value:"Inativo",children:"Inativo"})]})]})]})]}),w&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando equipe..."})]}),!w&&d.jsxs(d.Fragment,{children:[u==="lawyers"?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(A=>d.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[A.photo?d.jsx("img",{src:A.photo,alt:A.fullName||"Advogado",className:"w-12 h-12 rounded-full object-cover mr-3",onError:I=>{console.warn("Erro ao carregar foto do advogado"),I.currentTarget.style.display="none"}}):d.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:d.jsx(Ju,{className:"w-6 h-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.fullName||"Nome não informado"}),d.jsxs("p",{className:"text-sm text-gray-500",children:["OAB: ",A.oab||"Não informado"]})]})]}),d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${A.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.status||"Indefinido"})]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"CPF:"}),d.jsx("span",{className:"text-gray-900",children:q(A.cpf)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Comissão:"}),d.jsxs("span",{className:"text-gray-900",children:[A.commission||0,"%"]})]}),A.email&&d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Email:"}),d.jsx("span",{className:"text-gray-900 truncate",title:A.email,children:A.email})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Cadastrado:"}),d.jsx("span",{className:"text-gray-900",children:T(A.createdAt)})]})]}),A.specialties&&A.specialties.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Especialidades:"}),d.jsxs("div",{className:"flex flex-wrap gap-1",children:[A.specialties.slice(0,3).map((I,j)=>d.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",title:I,children:I},j)),A.specialties.length>3&&d.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",title:`Mais especialidades: ${A.specialties.slice(3).join(", ")}`,children:["+",A.specialties.length-3]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[d.jsx("button",{onClick:()=>r(A),className:"text-blue-600 hover:text-blue-900 p-2 rounded hover:bg-blue-50 transition-colors",title:"Visualizar",children:d.jsx(Ta,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>i(A),className:"text-amber-600 hover:text-amber-900 p-2 rounded hover:bg-amber-50 transition-colors",title:"Editar",children:d.jsx(ss,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>N(A.id,A.fullName||"Advogado"),className:"text-red-600 hover:text-red-900 p-2 rounded hover:bg-red-50 transition-colors",title:"Excluir",disabled:w,children:d.jsx(Pa,{className:"w-4 h-4"})})]})]})},A.id))}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(A=>d.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[A.photo?d.jsx("img",{src:A.photo,alt:A.fullName||"Colaborador",className:"w-12 h-12 rounded-full object-cover mr-3",onError:I=>{console.warn("Erro ao carregar foto do colaborador"),I.currentTarget.style.display="none"}}):d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-3",children:d.jsx(H1,{className:"w-6 h-6 text-green-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.fullName||"Nome não informado"}),d.jsx("p",{className:"text-sm text-gray-500",children:A.position||"Função não informada"})]})]}),d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${A.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.status||"Indefinido"})]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"CPF:"}),d.jsx("span",{className:"text-gray-900",children:q(A.cpf)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Salário:"}),d.jsx("span",{className:"text-gray-900",children:M(A.salary)})]}),A.email&&d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Email:"}),d.jsx("span",{className:"text-gray-900 truncate",title:A.email,children:A.email})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Cadastrado:"}),d.jsx("span",{className:"text-gray-900",children:T(A.createdAt)})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[d.jsx("button",{onClick:()=>n(A),className:"text-blue-600 hover:text-blue-900 p-2 rounded hover:bg-blue-50 transition-colors",title:"Visualizar",children:d.jsx(Ta,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>s(A),className:"text-amber-600 hover:text-amber-900 p-2 rounded hover:bg-amber-50 transition-colors",title:"Editar",children:d.jsx(ss,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>C(A.id,A.fullName||"Colaborador"),className:"text-red-600 hover:text-red-900 p-2 rounded hover:bg-red-50 transition-colors",title:"Excluir",disabled:w,children:d.jsx(Pa,{className:"w-4 h-4"})})]})]})},A.id))}),u==="lawyers"&&P.length===0&&!w&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Ju,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:a.length===0?'Nenhum advogado cadastrado. Clique em "Novo Advogado" para começar.':"Nenhum advogado encontrado com os filtros aplicados."})]}),u==="employees"&&k.length===0&&!w&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(H1,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:l.length===0?'Nenhum colaborador cadastrado. Clique em "Novo Colaborador" para começar.':"Nenhum colaborador encontrado com os filtros aplicados."})]})]})]})}const Z3e=Ba({fullName:lt().required("Nome completo é obrigatório"),cpf:lt().required("CPF é obrigatório"),oab:lt().required("OAB é obrigatória"),commission:jm().min(0,"Comissão deve ser positiva").max(100,"Comissão não pode ser maior que 100%").required("Comissão é obrigatória"),email:lt().email("Email inválido").nullable(),phone:lt().nullable(),address:lt().nullable(),status:lt().required("Status é obrigatório")});function eTe({lawyer:t,onBack:e,onSave:r}){const[n,i]=R.useState((t==null?void 0:t.specialties)||[]),[s,a]=R.useState(""),[o,l]=R.useState((t==null?void 0:t.photo)||""),[c,u]=R.useState(!1),{register:h,handleSubmit:p,formState:{errors:f},setValue:y,reset:g}=Al({resolver:Sl(Z3e),defaultValues:{status:"Ativo",commission:10,fullName:"",cpf:"",oab:"",email:"",phone:"",address:"",...t}});R.useEffect(()=>{t&&(g({...t}),i(t.specialties||[]),l(t.photo||""))},[t,g]);const w=async C=>{var P,k,T,q,M,A;if(!c)try{if(u(!0),!((P=C.fullName)!=null&&P.trim())||!((k=C.cpf)!=null&&k.trim())||!((T=C.oab)!=null&&T.trim())){alert("Por favor, preencha todos os campos obrigatórios.");return}const I={fullName:C.fullName.trim(),cpf:C.cpf.replace(/\D/g,""),oab:C.oab.trim(),commission:Number(C.commission)||10,email:((q=C.email)==null?void 0:q.trim())||"",phone:((M=C.phone)==null?void 0:M.trim())||"",address:((A=C.address)==null?void 0:A.trim())||"",status:C.status||"Ativo",specialties:n.filter(j=>j.trim().length>0),photo:o};if(t!=null&&t.id){const j=await rt.updateLawyer(t.id,I);if(j)console.log("Advogado atualizado com sucesso"),r(j);else throw new Error("Erro ao atualizar advogado")}else{const j=await rt.saveLawyer(I);console.log("Novo advogado criado com sucesso"),r(j)}}catch(I){console.error("Erro ao salvar advogado:",I);const j=I instanceof Error?I.message:"Erro desconhecido";alert(`Erro ao salvar advogado: ${j}`)}finally{u(!1)}},m=()=>{const C=s.trim();C&&!n.includes(C)&&(i([...n,C]),a(""))},v=C=>{i(n.filter((P,k)=>k!==C))},x=C=>{var k;const P=(k=C.target.files)==null?void 0:k[0];if(P){if(P.size>2*1024*1024){alert("Arquivo muito grande. Escolha uma imagem menor que 2MB.");return}const T=new FileReader;T.onload=q=>{var A;const M=(A=q.target)==null?void 0:A.result;l(M)},T.onerror=()=>{alert("Erro ao processar imagem. Tente novamente.")},T.readAsDataURL(P)}},E=C=>C.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),N=C=>{const P=C.replace(/\D/g,"");return P.length<=10?P.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2"):P.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2")};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:c,children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Advogado":"Novo Advogado"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do advogado":"Cadastre um novo advogado na equipe"})]})]}),d.jsx("form",{onSubmit:p(w),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Foto do Advogado"}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("div",{className:"flex-shrink-0",children:o?d.jsx("img",{src:o,alt:"Preview",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200",onError:C=>{console.error("Erro ao carregar imagem preview"),l("")}}):d.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center",children:d.jsx(G0,{className:"w-8 h-8 text-gray-400"})})}),d.jsxs("div",{children:[d.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/gif",onChange:x,className:"hidden",id:"photo-upload",disabled:c}),d.jsxs("label",{htmlFor:"photo-upload",className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors ${c?"opacity-50 cursor-not-allowed":""}`,children:[d.jsx(G0,{className:"w-4 h-4 mr-2"}),"Escolher Foto"]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG ou GIF até 2MB"}),o&&d.jsx("button",{type:"button",onClick:()=>l(""),className:"text-red-600 hover:text-red-800 text-xs mt-1 block",disabled:c,children:"Remover foto"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),d.jsx("input",{...h("fullName"),type:"text",disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"Nome completo do advogado"}),f.fullName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.fullName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...h("cpf"),type:"text",maxLength:14,disabled:c,onChange:C=>{const P=E(C.target.value);C.target.value=P,y("cpf",P)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"000.000.000-00"}),f.cpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.cpf.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB *"}),d.jsx("input",{...h("oab"),type:"text",disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"123456/SP"}),f.oab&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.oab.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comissão (%) *"}),d.jsx("input",{...h("commission",{valueAsNumber:!0,setValueAs:C=>{const P=parseFloat(C);return isNaN(P)?10:P}}),type:"number",min:"0",max:"100",step:"0.1",disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"10.0"}),f.commission&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.commission.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{...h("email"),type:"email",disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"email@exemplo.com"}),f.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),d.jsx("input",{...h("phone"),type:"text",maxLength:15,disabled:c,onChange:C=>{const P=N(C.target.value);C.target.value=P,y("phone",P)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"(11) 99999-9999"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),d.jsx("input",{...h("address"),type:"text",disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"Endereço completo"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),d.jsxs("select",{...h("status"),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[d.jsx("option",{value:"Ativo",children:"Ativo"}),d.jsx("option",{value:"Inativo",children:"Inativo"})]}),f.status&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.status.message})]})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Especialidades"})}),d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx("input",{type:"text",value:s,onChange:C=>a(C.target.value),onKeyPress:C=>{C.key==="Enter"&&(C.preventDefault(),m())},disabled:c,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"Ex: Direito Trabalhista"}),d.jsxs("button",{type:"button",onClick:m,disabled:c||!s.trim(),className:"flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(go,{className:"w-4 h-4 mr-2"}),"Adicionar"]})]}),n.length>0?d.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((C,P)=>d.jsxs("div",{className:"flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[d.jsx("span",{children:C}),d.jsx("button",{type:"button",onClick:()=>v(P),disabled:c,className:"ml-2 text-blue-600 hover:text-blue-800 disabled:opacity-50",children:d.jsx(Ra,{className:"w-4 h-4"})})]},P))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma especialidade adicionada"})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:e,disabled:c,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:c?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):`${t?"Atualizar":"Salvar"} Advogado`})]})]})})]})}function tTe({lawyer:t,onBack:e,onEdit:r,onUpdate:n}){const i=o=>$r(new Date(o),"dd/MM/yyyy",{locale:Tr}),s=o=>o.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),a=async()=>{const o=t.status==="Ativo"?"Inativo":"Ativo";if(confirm(`Tem certeza que deseja ${o==="Ativo"?"ativar":"inativar"} este advogado?`))try{const c=await rt.updateLawyer(t.id,{status:o});c&&n&&n(c)}catch(c){console.error("Erro ao atualizar status do advogado:",c),alert("Erro ao atualizar advogado. Tente novamente.")}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsx("p",{className:"text-gray-600",children:"Informações detalhadas do advogado"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("button",{onClick:a,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${t.status==="Ativo"?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:t.status==="Ativo"?"Inativar":"Ativar"}),d.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(ss,{className:"w-5 h-5 mr-2"}),"Editar"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[t.photo?d.jsx("img",{src:t.photo,alt:t.fullName,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):d.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(Ju,{className:"w-12 h-12 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsxs("p",{className:"text-lg text-gray-600",children:["OAB: ",t.oab]}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full mt-2 ${t.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]})]})}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"CPF"}),d.jsx("p",{className:"text-gray-900",children:s(t.cpf)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Comissão"}),d.jsxs("p",{className:"text-gray-900 font-semibold",children:[t.commission,"%"]})]}),t.email&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Email"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Zp,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.email})]})]}),t.phone&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Telefone"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Dx,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.phone})]})]}),t.address&&d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Endereço"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(x$,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.address})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Cadastro"}),d.jsx("p",{className:"text-gray-900",children:i(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Especialidades"}),t.specialties&&t.specialties.length>0?d.jsx("div",{className:"flex flex-wrap gap-2",children:t.specialties.map((o,l)=>d.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:o},l))}):d.jsx("p",{className:"text-gray-500",children:"Nenhuma especialidade cadastrada"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatísticas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"0"}),d.jsx("p",{className:"text-sm text-blue-600",children:"Processos Ativos"})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-green-600",children:"0"}),d.jsx("p",{className:"text-sm text-green-600",children:"Processos Concluídos"})]}),d.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"R$ 0,00"}),d.jsx("p",{className:"text-sm text-purple-600",children:"Comissões do Mês"})]})]})]})]})]})}const rTe=Ba({fullName:lt().required("Nome completo é obrigatório"),cpf:lt().required("CPF é obrigatório"),salary:jm().min(0,"Salário deve ser positivo").required("Salário é obrigatório"),position:lt().required("Função é obrigatória"),email:lt().email("Email inválido").nullable(),phone:lt().nullable(),address:lt().nullable(),status:lt().required("Status é obrigatório")});function nTe({employee:t,onBack:e,onSave:r}){const[n,i]=R.useState((t==null?void 0:t.photo)||""),[s,a]=R.useState(!1),{register:o,handleSubmit:l,formState:{errors:c},setValue:u,reset:h}=Al({resolver:Sl(rTe),defaultValues:{status:"Ativo",salary:0,fullName:"",cpf:"",position:"",email:"",phone:"",address:"",...t}});R.useEffect(()=>{t&&(h({...t}),i(t.photo||""))},[t,h]);const p=async w=>{var m,v,x,E,N,C;if(!s)try{if(a(!0),!((m=w.fullName)!=null&&m.trim())||!((v=w.cpf)!=null&&v.trim())||!((x=w.position)!=null&&x.trim())){alert("Por favor, preencha todos os campos obrigatórios.");return}const P={fullName:w.fullName.trim(),cpf:w.cpf.replace(/\D/g,""),salary:Number(w.salary)||0,position:w.position.trim(),email:((E=w.email)==null?void 0:E.trim())||"",phone:((N=w.phone)==null?void 0:N.trim())||"",address:((C=w.address)==null?void 0:C.trim())||"",status:w.status||"Ativo",photo:n};if(t!=null&&t.id){const k=await rt.updateEmployee(t.id,P);if(k)console.log("Colaborador atualizado com sucesso"),r(k);else throw new Error("Erro ao atualizar colaborador")}else{const k=await rt.saveEmployee(P);console.log("Novo colaborador criado com sucesso"),r(k)}}catch(P){console.error("Erro ao salvar colaborador:",P);const k=P instanceof Error?P.message:"Erro desconhecido";alert(`Erro ao salvar colaborador: ${k}`)}finally{a(!1)}},f=w=>{var v;const m=(v=w.target.files)==null?void 0:v[0];if(m){if(m.size>2*1024*1024){alert("Arquivo muito grande. Escolha uma imagem menor que 2MB.");return}const x=new FileReader;x.onload=E=>{var C;const N=(C=E.target)==null?void 0:C.result;i(N)},x.onerror=()=>{alert("Erro ao processar imagem. Tente novamente.")},x.readAsDataURL(m)}},y=w=>w.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),g=w=>{const m=w.replace(/\D/g,"");return m.length<=10?m.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2"):m.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2")};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:s,children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Colaborador":"Novo Colaborador"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do colaborador":"Cadastre um novo colaborador na equipe"})]})]}),d.jsx("form",{onSubmit:l(p),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Foto do Colaborador"}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("div",{className:"flex-shrink-0",children:n?d.jsx("img",{src:n,alt:"Preview",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200",onError:w=>{console.error("Erro ao carregar imagem preview"),i("")}}):d.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center",children:d.jsx(G0,{className:"w-8 h-8 text-gray-400"})})}),d.jsxs("div",{children:[d.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/gif",onChange:f,className:"hidden",id:"photo-upload",disabled:s}),d.jsxs("label",{htmlFor:"photo-upload",className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors ${s?"opacity-50 cursor-not-allowed":""}`,children:[d.jsx(G0,{className:"w-4 h-4 mr-2"}),"Escolher Foto"]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG ou GIF até 2MB"}),n&&d.jsx("button",{type:"button",onClick:()=>i(""),className:"text-red-600 hover:text-red-800 text-xs mt-1 block",disabled:s,children:"Remover foto"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),d.jsx("input",{...o("fullName"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"Nome completo do colaborador",disabled:s}),c.fullName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.fullName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...o("cpf"),type:"text",maxLength:14,onChange:w=>{const m=y(w.target.value);w.target.value=m,u("cpf",m)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"000.000.000-00",disabled:s}),c.cpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.cpf.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função/Cargo *"}),d.jsx("input",{...o("position"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"Ex: Secretária, Assistente Jurídico",disabled:s}),c.position&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.position.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salário (R$) *"}),d.jsx("input",{...o("salary",{valueAsNumber:!0,setValueAs:w=>{const m=parseFloat(w);return isNaN(m)?0:m}}),type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"0.00",disabled:s}),c.salary&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.salary.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{...o("email"),type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"email@exemplo.com",disabled:s}),c.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),d.jsx("input",{...o("phone"),type:"text",maxLength:15,onChange:w=>{const m=g(w.target.value);w.target.value=m,u("phone",m)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"(11) 99999-9999",disabled:s})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),d.jsx("input",{...o("address"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",placeholder:"Endereço completo",disabled:s})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),d.jsxs("select",{...o("status"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",disabled:s,children:[d.jsx("option",{value:"Ativo",children:"Ativo"}),d.jsx("option",{value:"Inativo",children:"Inativo"})]}),c.status&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.status.message})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",disabled:s,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center",disabled:s,children:s?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):`${t?"Atualizar":"Salvar"} Colaborador`})]})]})})]})}function iTe({employee:t,onBack:e,onEdit:r,onUpdate:n}){const i=l=>$r(new Date(l),"dd/MM/yyyy",{locale:Tr}),s=l=>l.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),a=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),o=async()=>{const l=t.status==="Ativo"?"Inativo":"Ativo";if(confirm(`Tem certeza que deseja ${l==="Ativo"?"ativar":"inativar"} este colaborador?`))try{const u=await rt.updateEmployee(t.id,{status:l});u&&n&&n(u)}catch(u){console.error("Erro ao atualizar status do colaborador:",u),alert("Erro ao atualizar colaborador. Tente novamente.")}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsx("p",{className:"text-gray-600",children:"Informações detalhadas do colaborador"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("button",{onClick:o,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${t.status==="Ativo"?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:t.status==="Ativo"?"Inativar":"Ativar"}),d.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(ss,{className:"w-5 h-5 mr-2"}),"Editar"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[t.photo?d.jsx("img",{src:t.photo,alt:t.fullName,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):d.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center",children:d.jsx(H1,{className:"w-12 h-12 text-green-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsx("p",{className:"text-lg text-gray-600",children:t.position}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full mt-2 ${t.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]})]})}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"CPF"}),d.jsx("p",{className:"text-gray-900",children:s(t.cpf)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Salário"}),d.jsx("p",{className:"text-gray-900 font-semibold",children:a(t.salary)})]}),t.email&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Email"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Zp,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.email})]})]}),t.phone&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Telefone"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Dx,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.phone})]})]}),t.address&&d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Endereço"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(x$,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.address})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Cadastro"}),d.jsx("p",{className:"text-gray-900",children:i(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatísticas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"0"}),d.jsx("p",{className:"text-sm text-blue-600",children:"Tarefas Concluídas"})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-green-600",children:"0"}),d.jsx("p",{className:"text-sm text-green-600",children:"Projetos Ativos"})]}),d.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a(t.salary*12)}),d.jsx("p",{className:"text-sm text-purple-600",children:"Salário Anual"})]})]})]})]})]})}const sTe=Ba({name:lt().required("Nome do escritório é obrigatório"),cpfCnpj:lt().required("CPF/CNPJ é obrigatório"),oab:lt().required("OAB é obrigatória"),ccm:lt(),email:lt().email("Email inválido"),website:lt().url("URL inválida"),areaOfPractice:lt()});function aTe({team:t,onUpdate:e}){const[r,n]=R.useState([]),[i,s]=R.useState(void 0),[a,o]=R.useState(""),[l,c]=R.useState(null),[u,h]=R.useState(!1),[p,f]=R.useState(null),{register:y,handleSubmit:g,formState:{errors:w},setValue:m,watch:v,reset:x}=Al({resolver:Sl(sTe),defaultValues:{name:"",cpfCnpj:"",oab:"",ccm:"",email:"",website:"",areaOfPractice:""}}),E=v("cpfCnpj");R.useEffect(()=>{t&&(console.log("Inicializando formulário com dados da equipe:",t),x({name:t.name||"",cpfCnpj:t.cpfCnpj||"",oab:t.oab||"",ccm:t.ccm||"",email:t.email||"",website:t.website||"",areaOfPractice:t.areaOfPractice||""}),n(t.phones||[]),s(t.address),o(t.logoUrl||""))},[t,x]),R.useEffect(()=>{if(E){const M=ni.formatCpfCnpj(E);M!==E&&m("cpfCnpj",M)}},[E,m]);const N=()=>{const M={id:Date.now().toString(),type:"Telefone comercial",number:"",operator:""};n([...r,M])},C=(M,A,I)=>{n(r.map(j=>j.id===M?{...j,[A]:I,...A==="type"&&I==="WhatsApp"?{operator:""}:{}}:j))},P=M=>{n(r.filter(A=>A.id!==M))},k=M=>{var I;const A=(I=M.target.files)==null?void 0:I[0];if(A){if(A.size>500*1024){alert("O arquivo deve ter no máximo 500KB");return}if(!["image/jpeg","image/png","image/svg+xml"].includes(A.type)){alert("Apenas arquivos JPG, PNG ou SVG são permitidos");return}c(A);const ne=new FileReader;ne.onload=pe=>{var X;o((X=pe.target)==null?void 0:X.result)},ne.readAsDataURL(A)}},T=async M=>{if(!t){f("Equipe não encontrada");return}try{h(!0),f(null),console.log("Salvando dados do escritório:",M);let A=t.logoUrl;if(l){console.log("Fazendo upload do logo...");const ne=await ni.uploadLogo(l,t.id);ne&&(A=ne,console.log("Logo salvo em base64"))}const I={...M,phones:r.filter(ne=>ne.number),address:i,logoUrl:A};console.log("Dados a serem salvos:",I);const j=await ni.updateTeam(t.id,I);if(j)console.log("Equipe atualizada com sucesso"),e(j),alert("Dados do escritório salvos com sucesso!"),c(null);else throw new Error("Falha ao atualizar equipe")}catch(A){console.error("Erro ao salvar dados do escritório:",A);const I=A.message||"Erro ao salvar dados. Tente novamente.";f(I),alert(I)}finally{h(!1)}},q=(M,A)=>{s(I=>({...I,[M]:A,type:(I==null?void 0:I.type)||"Comercial",cep:(I==null?void 0:I.cep)||"",street:(I==null?void 0:I.street)||"",city:(I==null?void 0:I.city)||"",state:(I==null?void 0:I.state)||"",country:(I==null?void 0:I.country)||"Brasil"}))};return d.jsxs("div",{className:"space-y-8",children:[p&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[d.jsx("p",{className:"text-red-600",children:p}),d.jsx("button",{onClick:()=>f(null),className:"text-red-800 underline text-sm mt-2",children:"Fechar"})]}),d.jsxs("form",{onSubmit:g(T),className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Logo do Escritório"}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("div",{className:"flex-shrink-0",children:a?d.jsx("img",{src:a,alt:"Logo",className:"w-24 h-24 rounded-lg object-cover border-2 border-gray-200"}):d.jsx("div",{className:"w-24 h-24 rounded-lg bg-gray-100 flex items-center justify-center border-2 border-gray-200",children:d.jsx(_le,{className:"w-8 h-8 text-gray-400"})})}),d.jsxs("div",{children:[d.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/svg+xml",onChange:k,className:"hidden",id:"logo-upload",disabled:u}),d.jsxs("label",{htmlFor:"logo-upload",className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors ${u?"opacity-50 cursor-not-allowed":""}`,children:[d.jsx(G0,{className:"w-4 h-4 mr-2"}),"Escolher Logo"]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG ou SVG até 500KB"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Escritório *"}),d.jsx("input",{...y("name"),type:"text",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Ex: Silva & Associados Advocacia"}),w.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF/CNPJ *"}),d.jsx("input",{...y("cpfCnpj"),type:"text",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"000.000.000-00 ou 00.000.000/0000-00"}),w.cpfCnpj&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.cpfCnpj.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB *"}),d.jsx("input",{...y("oab"),type:"text",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"123456/SP"}),w.oab&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.oab.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CCM"}),d.jsx("input",{...y("ccm"),type:"text",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Cadastro de Contribuintes Mobiliários"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Principal"}),d.jsx("input",{...y("email"),type:"email",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"contato@escritorio.com"}),w.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site"}),d.jsx("input",{...y("website"),type:"url",disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"https://www.escritorio.com"}),w.website&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.website.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Área de Atuação"}),d.jsx("textarea",{...y("areaOfPractice"),rows:3,disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Ex: Direito Civil, Direito Trabalhista, Direito Empresarial..."})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Telefones"}),d.jsxs("button",{type:"button",onClick:N,disabled:u,className:"flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[d.jsx(go,{className:"w-4 h-4 mr-2"}),"Adicionar Telefone"]})]}),d.jsxs("div",{className:"space-y-3",children:[r.map(M=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[d.jsxs("select",{value:M.type,onChange:A=>C(M.id,"type",A.target.value),disabled:u,className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"Telefone comercial",children:"Telefone comercial"}),d.jsx("option",{value:"Celular comercial",children:"Celular comercial"}),d.jsx("option",{value:"Fax",children:"Fax"}),d.jsx("option",{value:"Telefone pessoal",children:"Telefone pessoal"}),d.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),d.jsx("input",{type:"text",value:M.number,onChange:A=>C(M.id,"number",ni.formatPhone(A.target.value)),disabled:u,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"(11) 99999-9999"}),M.type!=="WhatsApp"&&d.jsx("input",{type:"text",value:M.operator||"",onChange:A=>C(M.id,"operator",A.target.value),disabled:u,className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Operadora"}),d.jsx("button",{type:"button",onClick:()=>P(M.id),disabled:u,className:"text-red-600 hover:text-red-800 p-2 rounded hover:bg-red-50 disabled:opacity-50",children:d.jsx(Ra,{className:"w-4 h-4"})})]},M.id)),r.length===0&&d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum telefone cadastrado"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Endereço"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Endereço"}),d.jsxs("select",{value:(i==null?void 0:i.type)||"Comercial",onChange:M=>q("type",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"Comercial",children:"Comercial"}),d.jsx("option",{value:"Pessoal",children:"Pessoal"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP"}),d.jsx("input",{type:"text",value:(i==null?void 0:i.cep)||"",onChange:M=>q("cep",ni.formatCep(M.target.value)),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"00000-000"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rua"}),d.jsx("input",{type:"text",value:(i==null?void 0:i.street)||"",onChange:M=>q("street",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Rua, número"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complemento"}),d.jsx("input",{type:"text",value:(i==null?void 0:i.complement)||"",onChange:M=>q("complement",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Sala, andar, etc."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade"}),d.jsx("input",{type:"text",value:(i==null?void 0:i.city)||"",onChange:M=>q("city",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"São Paulo"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),d.jsxs("select",{value:(i==null?void 0:i.state)||"",onChange:M=>q("state",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"",children:"Selecione o estado"}),d.jsx("option",{value:"AC",children:"Acre"}),d.jsx("option",{value:"AL",children:"Alagoas"}),d.jsx("option",{value:"AP",children:"Amapá"}),d.jsx("option",{value:"AM",children:"Amazonas"}),d.jsx("option",{value:"BA",children:"Bahia"}),d.jsx("option",{value:"CE",children:"Ceará"}),d.jsx("option",{value:"DF",children:"Distrito Federal"}),d.jsx("option",{value:"ES",children:"Espírito Santo"}),d.jsx("option",{value:"GO",children:"Goiás"}),d.jsx("option",{value:"MA",children:"Maranhão"}),d.jsx("option",{value:"MT",children:"Mato Grosso"}),d.jsx("option",{value:"MS",children:"Mato Grosso do Sul"}),d.jsx("option",{value:"MG",children:"Minas Gerais"}),d.jsx("option",{value:"PA",children:"Pará"}),d.jsx("option",{value:"PB",children:"Paraíba"}),d.jsx("option",{value:"PR",children:"Paraná"}),d.jsx("option",{value:"PE",children:"Pernambuco"}),d.jsx("option",{value:"PI",children:"Piauí"}),d.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),d.jsx("option",{value:"RN",children:"Rio Grande do Norte"}),d.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),d.jsx("option",{value:"RO",children:"Rondônia"}),d.jsx("option",{value:"RR",children:"Roraima"}),d.jsx("option",{value:"SC",children:"Santa Catarina"}),d.jsx("option",{value:"SP",children:"São Paulo"}),d.jsx("option",{value:"SE",children:"Sergipe"}),d.jsx("option",{value:"TO",children:"Tocantins"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"País"}),d.jsx("input",{type:"text",value:(i==null?void 0:i.country)||"Brasil",onChange:M=>q("country",M.target.value),disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Brasil"})]})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:()=>window.location.reload(),disabled:u,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:u?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):"Salvar Dados"})]})]})]})}function oTe({team:t}){const[e,r]=R.useState([]),[n,i]=R.useState(!1),[s,a]=R.useState(""),[o,l]=R.useState("viewer"),[c,u]=R.useState(!1),[h,p]=R.useState(!0),[f,y]=R.useState(null),[g,w]=R.useState(!1);R.useEffect(()=>{t&&m()},[t]);const m=async()=>{if(t)try{p(!0);const A=await ni.getTeamInvitations(t.id);r(A)}catch(A){console.error("Erro ao carregar convites:",A)}finally{p(!1)}},v=async()=>{var A,I;if(!(!t||!s.trim()))try{u(!0);const j=await ni.createInvitation(t.id,s.trim(),o);j?(y(j.link),await m(),i(!1),a(""),l("viewer"),alert("Convite criado com sucesso! Copie o link seguro para enviar.")):alert("Erro ao criar convite. Verifique se o e-mail já não foi convidado.")}catch(j){console.error("Erro ao criar convite:",j),(A=j.message)!=null&&A.includes("já existe")?alert("Já existe um convite pendente para este e-mail."):(I=j.message)!=null&&I.includes("já é membro")?alert("Este usuário já é membro da equipe."):alert("Erro ao criar convite. Tente novamente.")}finally{u(!1)}},x=async A=>{if(confirm("Tem certeza que deseja cancelar este convite?"))try{await ni.cancelInvitation(A)&&await m()}catch(I){console.error("Erro ao cancelar convite:",I),alert("Erro ao cancelar convite.")}},E=async A=>{try{await navigator.clipboard.writeText(A),w(!0),setTimeout(()=>w(!1),2e3)}catch(I){console.error("Erro ao copiar:",I);const j=document.createElement("textarea");j.value=A,document.body.appendChild(j),j.select();try{document.execCommand("copy"),w(!0),setTimeout(()=>w(!1),2e3)}catch{alert("Não foi possível copiar automaticamente. Link: "+A)}document.body.removeChild(j)}},N=(A,I)=>{const j=encodeURIComponent(`Convite para ${t==null?void 0:t.name} - LegalX`),ne=encodeURIComponent(`
Olá!

Você foi convidado(a) para fazer parte da equipe "${t==null?void 0:t.name}" no LegalX - Sistema de Gestão Jurídica.

Para aceitar o convite, clique no link abaixo:
${I}

Este convite expira em 72 horas.

Se você ainda não possui uma conta, será direcionado para criar uma.

Atenciosamente,
Equipe LegalX
    `.trim()),pe=`mailto:${A}?subject=${j}&body=${ne}`;window.open(pe,"_blank")},C=A=>{switch(A){case"pending":return d.jsx(Qp,{className:"w-4 h-4 text-amber-500"});case"accepted":return d.jsx(wl,{className:"w-4 h-4 text-green-500"});case"expired":case"cancelled":case"revoked":return d.jsx(Sh,{className:"w-4 h-4 text-red-500"});default:return d.jsx(Qp,{className:"w-4 h-4 text-gray-500"})}},P=A=>{switch(A){case"pending":return"bg-amber-100 text-amber-800 border-amber-200";case"accepted":return"bg-green-100 text-green-800 border-green-200";case"expired":return"bg-red-100 text-red-800 border-red-200";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-200";case"revoked":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=A=>{switch(A){case"pending":return"Pendente";case"accepted":return"Aceito";case"expired":return"Expirado";case"cancelled":return"Cancelado";case"revoked":return"Revogado";default:return A}},T=A=>{switch(A){case"admin":return d.jsx(Nh,{className:"w-4 h-4 text-blue-500"});case"editor":return d.jsx(go,{className:"w-4 h-4 text-green-500"});case"viewer":return d.jsx(Ta,{className:"w-4 h-4 text-gray-500"});default:return d.jsx(Ta,{className:"w-4 h-4 text-gray-500"})}},q=A=>{try{return $r(new Date(A),"dd/MM/yyyy HH:mm",{locale:Tr})}catch{return"Data inválida"}},M=A=>{const I=new Date,ne=(new Date(A).getTime()-I.getTime())/(1e3*60*60);return ne<=6&&ne>0};return t?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Convites"}),d.jsx("p",{className:"text-gray-600",children:"Convide pessoas com links seguros que expiram automaticamente"})]}),d.jsxs("button",{onClick:()=>i(!n),disabled:c,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[d.jsx(go,{className:"w-5 h-5 mr-2"}),"Novo Convite"]})]}),n&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[d.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Criar Novo Convite Seguro"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail do Convidado *"}),d.jsx("input",{type:"email",value:s,onChange:A=>a(A.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"usuario@exemplo.com",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função *"}),d.jsxs("select",{value:o,onChange:A=>l(A.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"viewer",children:"Visualizador"}),d.jsx("option",{value:"editor",children:"Editor"}),d.jsx("option",{value:"admin",children:"Administrador"})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>i(!1),disabled:c,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"button",onClick:v,disabled:c||!s.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:c?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Criando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Criar Link Seguro"]})})]})]}),f&&d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(wl,{className:"w-6 h-6 text-green-600 mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"text-md font-semibold text-green-900 mb-2",children:"Convite Criado com Sucesso!"}),d.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Copie o link seguro abaixo e envie para o convidado:"}),d.jsx("div",{className:"bg-white border border-green-200 rounded-lg p-3 mb-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("code",{className:"text-xs text-gray-800 break-all flex-1 mr-2",children:f}),d.jsxs("button",{onClick:()=>E(f),className:"flex items-center px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors",children:[d.jsx(Ile,{className:"w-3 h-3 mr-1"}),g?"Copiado!":"Copiar"]})]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("button",{onClick:()=>N(s,f),className:"flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Zp,{className:"w-4 h-4 mr-2"}),"Abrir E-mail"]}),d.jsxs("button",{onClick:()=>y(null),className:"flex items-center px-3 py-2 bg-gray-600 text-white text-sm rounded-lg hover:bg-gray-700 transition-colors",children:[d.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Fechar"]})]}),d.jsxs("div",{className:"mt-3 text-xs text-green-600",children:[d.jsx("p",{children:d.jsx("strong",{children:"⚠️ Importante:"})}),d.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[d.jsxs("li",{children:["Este link expira em ",d.jsx("strong",{children:"72 horas"})]}),d.jsx("li",{children:"Só pode ser usado pelo e-mail especificado"}),d.jsx("li",{children:"Contém token de segurança único"})]})]})]})]})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Convites Enviados"}),h?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando convites..."})]}):e.length===0?d.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx(Zp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"Nenhum convite enviado ainda"}),d.jsx("p",{className:"text-gray-400 text-sm",children:'Clique em "Novo Convite" para começar'})]}):d.jsx("div",{className:"space-y-3",children:e.map(A=>d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[C(A.status),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("p",{className:"font-medium text-gray-900",children:A.email}),T(A.role),M(A.expiresAt)&&A.status==="pending"&&d.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:"Expira em breve"})]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[d.jsxs("span",{children:["Função: ",d.jsx("span",{className:"capitalize font-medium",children:A.role})]}),d.jsxs("span",{children:["Criado: ",q(A.createdAt)]}),d.jsxs("span",{children:["Expira: ",q(A.expiresAt)]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${P(A.status)}`,children:k(A.status)}),A.status==="pending"&&d.jsx("button",{onClick:()=>x(A.id),className:"flex items-center px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",title:"Cancelar convite",children:d.jsx(Ra,{className:"w-3 h-3"})})]})]}),A.status==="accepted"&&A.usedAt&&d.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:d.jsxs("p",{className:"text-xs text-green-600",children:["✓ Aceito em ",q(A.usedAt),A.acceptedBy&&d.jsxs("span",{className:"text-gray-500",children:[" por ",A.acceptedBy]})]})}),A.status==="expired"&&d.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:d.jsx("p",{className:"text-xs text-red-600",children:"⚠️ Convite expirado. Crie um novo convite se necessário."})})]},A.id))})]}),d.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[d.jsxs("h4",{className:"text-sm font-semibold text-amber-800 mb-2 flex items-center",children:[d.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Sistema de Convites Seguros"]}),d.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[d.jsxs("li",{children:["• Cada convite possui um ",d.jsx("strong",{children:"token único criptografado"})]}),d.jsxs("li",{children:["• Links expiram automaticamente em ",d.jsx("strong",{children:"72 horas"})]}),d.jsx("li",{children:"• Validação de e-mail: só funciona com o e-mail correto"}),d.jsx("li",{children:"• Tokens não são salvos no banco - apenas hash SHA-256"}),d.jsx("li",{children:"• Usuários não autenticados podem ver o convite mas devem fazer login para aceitar"})]}),d.jsxs("div",{className:"mt-3 p-2 bg-amber-100 rounded text-xs text-amber-800",children:[d.jsx("p",{children:d.jsx("strong",{children:"Como funciona:"})}),d.jsx("p",{children:"1. Crie o convite → 2. Copie o link seguro → 3. Envie via e-mail/WhatsApp → 4. Convidado clica e faz login → 5. Convite é validado e aceito automaticamente"})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"💡 Como Enviar Convites"}),d.jsxs("div",{className:"text-sm text-blue-700 space-y-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Opção 1:"}),' Use o botão "Abrir E-mail" para enviar via seu cliente de e-mail padrão']}),d.jsxs("p",{children:[d.jsx("strong",{children:"Opção 2:"})," Copie o link e envie via WhatsApp, Telegram, ou qualquer mensageiro"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Opção 3:"})," Copie o link e cole em seu cliente de e-mail personalizado"]})]}),d.jsx("div",{className:"mt-2 text-xs text-blue-600",children:d.jsxs("p",{children:["⚠️ ",d.jsx("strong",{children:"Importante:"})," Cada link funciona apenas para o e-mail especificado e expira em 72h. Não compartilhe links entre pessoas diferentes."]})})]})]}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"Carregando dados da equipe..."})})}function lTe({team:t}){const[e,r]=R.useState([]),[n,i]=R.useState(null),[s,a]=R.useState(null),[o,l]=R.useState("viewer"),[c,u]=R.useState(!0),[h,p]=R.useState(!1);R.useEffect(()=>{t&&f()},[t]);const f=async()=>{if(t)try{u(!0);const C=await ni.getTeamMembers(t.id);r(C)}catch(C){console.error("Erro ao carregar membros:",C)}finally{u(!1)}},y=C=>{i(C),a(C.permissions),l(C.role)},g=async()=>{if(!(!n||!s||!t))try{p(!0),await ni.updateMemberPermissions(t.id,n.uid,s,o)?(await f(),i(null),a(null),alert("Permissões atualizadas com sucesso!")):alert("Erro ao atualizar permissões.")}catch(C){console.error("Erro ao salvar permissões:",C),alert("Erro ao salvar permissões.")}finally{p(!1)}},w=async C=>{if(C.role==="owner"){alert("Não é possível remover o proprietário da equipe.");return}if(confirm(`Tem certeza que deseja remover ${C.email} da equipe?`))try{await ni.removeMember(t.id,C.uid)&&await f()}catch(P){console.error("Erro ao remover membro:",P),alert("Erro ao remover membro.")}},m=(C,P)=>{s&&a({...s,[C]:P})},v=C=>{l(C),a(rN[C])},x=C=>{switch(C){case"owner":return d.jsx(Ju,{className:"w-4 h-4 text-amber-500"});case"admin":return d.jsx(Nh,{className:"w-4 h-4 text-blue-500"});case"editor":return d.jsx(ss,{className:"w-4 h-4 text-green-500"});default:return d.jsx(Ju,{className:"w-4 h-4 text-gray-500"})}},E=C=>{switch(C){case"owner":return"bg-amber-100 text-amber-800";case"admin":return"bg-blue-100 text-blue-800";case"editor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},N=C=>$r(new Date(C),"dd/MM/yyyy",{locale:Tr});return c?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando membros..."})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Controle de Acesso"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie permissões e funções dos membros da equipe"})]}),d.jsx("div",{className:"space-y-4",children:e.map(C=>d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(Ju,{className:"w-6 h-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("p",{className:"font-medium text-gray-900",children:C.email}),x(C.role)]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${E(C.role)}`,children:C.role==="owner"?"Proprietário":C.role==="admin"?"Administrador":C.role==="editor"?"Editor":"Visualizador"}),d.jsxs("span",{children:["Adicionado: ",N(C.addedAt)]}),d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${C.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.status==="active"?"Ativo":"Inativo"})]})]})]}),d.jsx("div",{className:"flex items-center space-x-2",children:C.role!=="owner"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>y(C),className:"flex items-center px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[d.jsx(ss,{className:"w-3 h-3 mr-1"}),"Editar"]}),d.jsxs("button",{onClick:()=>w(C),className:"flex items-center px-3 py-1 text-xs bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:[d.jsx(Pa,{className:"w-3 h-3 mr-1"}),"Remover"]})]})})]}),d.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[d.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Permissões:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(C.permissions).map(([P,k])=>d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${k?"bg-green-100 text-green-800":"bg-gray-100 text-gray-500"}`,children:P.charAt(0).toUpperCase()+P.slice(1)},P))})]})]},C.uid))}),n&&s&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Editar Permissões - ",n.email]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função"}),d.jsxs("select",{value:o,onChange:C=>v(C.target.value),disabled:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"viewer",children:"Visualizador"}),d.jsx("option",{value:"editor",children:"Editor"}),d.jsx("option",{value:"admin",children:"Administrador"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permissões por Módulo"}),d.jsx("div",{className:"space-y-3",children:Object.entries(s).map(([C,P])=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:P,onChange:k=>m(C,k.target.checked),disabled:h,className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),d.jsx("span",{className:"text-sm text-gray-700 capitalize",children:C.charAt(0).toUpperCase()+C.slice(1)})]},C))})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>{i(null),a(null)},disabled:h,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"button",onClick:g,disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:h?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):"Salvar Alterações"})]})]})})}),e.length===0&&d.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[d.jsx(Mx,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"Nenhum membro na equipe ainda"}),d.jsx("p",{className:"text-gray-400 text-sm",children:'Use a aba "Grupo de Envolvidos" para convidar pessoas'})]})]})}function cTe({onBack:t}){var p,f;const[e,r]=R.useState("office"),[n,i]=R.useState(null),[s,a]=R.useState(!0),[o,l]=R.useState(null);R.useEffect(()=>{c()},[]);const c=async()=>{try{if(a(!0),l(null),pn.currentUser||(console.log("Aguardando autenticação..."),await new Promise(g=>{const w=pn.onAuthStateChanged(m=>{w(),g(m)})})),!pn.currentUser)throw new Error("Usuário não autenticado. Faça login novamente.");console.log("Usuário autenticado:",pn.currentUser.uid),console.log("Carregando dados da equipe...");const y=await ni.getTeam();console.log("Dados da equipe carregados:",y),i(y)}catch(y){console.error("Erro ao carregar dados da administração:",y);let g="Erro ao carregar dados da administração";y.code==="permission-denied"?g="Sem permissão para acessar os dados. Verifique as regras do Firestore.":y.code==="unavailable"?g="Serviço temporariamente indisponível. Tente novamente em alguns momentos.":y.message.includes("não autenticado")?g="Sessão expirada. Faça login novamente.":y.message&&(g=y.message),l(g)}finally{a(!1)}},u=y=>{i(y)},h=async()=>{try{if(a(!0),l(null),!pn.currentUser)throw new Error("Usuário não autenticado");console.log("Criando nova equipe...");const y=await ni.createTeam({name:"Meu Escritório",phones:[],settings:{allowInvitations:!0,defaultRole:"viewer",modules:["processos","agenda","documentos","relatorios"]}});if(y)i(y),console.log("Equipe criada com sucesso:",y);else throw new Error("Falha ao criar equipe")}catch(y){console.error("Erro ao criar equipe:",y),l(y.message||"Erro ao criar equipe")}finally{a(!1)}};return s?d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Carregando administração..."})]})})}):o?d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"flex items-center mb-6",children:d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]})}),d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro"}),d.jsx("p",{className:"text-red-600 mb-4",children:o}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{onClick:c,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 mr-2",children:"Tentar Novamente"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Recarregar Página"})]}),d.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded text-left text-xs",children:[d.jsx("p",{children:d.jsx("strong",{children:"Debug:"})}),d.jsxs("p",{children:["Usuário: ",((p=pn.currentUser)==null?void 0:p.uid)||"Não autenticado"]}),d.jsxs("p",{children:["Email: ",((f=pn.currentUser)==null?void 0:f.email)||"Não encontrado"]}),d.jsxs("p",{children:["Erro: ",o]})]})]})]}):n?d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Zw,{className:"w-8 h-8 text-blue-600 mr-3"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Administração"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie seu escritório e equipe"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("nav",{className:"flex space-x-8 px-6",children:[d.jsx("button",{onClick:()=>r("office"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="office"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Escritório"}),d.jsx("button",{onClick:()=>r("team"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="team"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Grupo de Envolvidos"}),d.jsx("button",{onClick:()=>r("access"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="access"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Acesso"})]})}),d.jsxs("div",{className:"p-6",children:[e==="office"&&d.jsx(aTe,{team:n,onUpdate:u}),e==="team"&&d.jsx(oTe,{team:n}),e==="access"&&d.jsx(lTe,{team:n})]})]})]}):d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"flex items-center mb-6",children:d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(is,{className:"w-5 h-5 mr-2"}),"Voltar"]})}),d.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[d.jsx(Zw,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configure seu Escritório"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Para começar a usar o sistema de administração, você precisa configurar seu escritório."}),d.jsx("button",{onClick:h,disabled:s,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Criando...":"Criar Meu Escritório"})]})]})}function v7(){const[t]=lQ(),e=_3(),[r,n]=R.useState(null),[i,s]=R.useState(null),[a,o]=R.useState(!0),[l,c]=R.useState(!1),[u,h]=R.useState(null),p=t.get("inviteId"),f=t.get("token");R.useEffect(()=>{p&&f?y():(h({success:!1,message:"Link de convite inválido - parâmetros obrigatórios não encontrados",isError:!0}),o(!1))},[p,f]),R.useEffect(()=>{setTimeout(async()=>{try{const N=await ni.processPendingInvites();N.processed>0&&console.log(`${N.processed} convites pendentes processados automaticamente`)}catch(N){console.error("Erro ao processar convites pendentes:",N)}},1e3)},[]);const y=async()=>{if(!(!p||!f))try{o(!0),console.log("Validando convite:",{inviteId:p,tokenLength:f.length});const E=await ni.validateInvitation(p,f);if(s(E),!E.valid){h({success:!1,message:E.error||"Convite inválido",isError:!0});return}E.invitation&&(n(E.invitation),console.log("Convite válido:",E))}catch(E){console.error("Erro ao validar convite:",E),h({success:!1,message:"Erro interno ao processar convite. Verifique sua conexão e tente novamente.",isError:!0})}finally{o(!1)}},g=async()=>{if(!(!p||!f))try{c(!0),console.log("Tentando aceitar convite:",p);const E=await ni.acceptInvitation(p,f);console.log("Resposta do acceptInvitation:",E),h({success:E.success,message:E.message,requiresAuth:E.requiresAuth,isError:!E.success&&!E.requiresAuth}),E.success?setTimeout(()=>{e("/",{replace:!0})},3e3):E.requiresAuth&&setTimeout(()=>{e("/login",{replace:!0,state:{message:"Faça login para aceitar o convite",inviteInfo:{email:r==null?void 0:r.email,teamName:"equipe"}}})},2e3)}catch(E){console.error("Erro ao aceitar convite:",E),h({success:!1,message:"Erro interno. Verifique sua conexão e tente novamente.",isError:!0})}finally{c(!1)}},w=()=>{e("/login",{state:{message:"Faça login com o e-mail correto para aceitar o convite",inviteInfo:{email:r==null?void 0:r.email,teamName:"equipe"},returnTo:window.location.pathname+window.location.search}})},m=()=>{e("/register",{state:{message:"Crie sua conta para aceitar o convite",inviteInfo:{email:r==null?void 0:r.email,teamName:"equipe"},returnTo:window.location.pathname+window.location.search}})},v=E=>({owner:"Proprietário",admin:"Administrador",editor:"Editor",viewer:"Visualizador"})[E]||E,x=E=>{const N=new Date,P=new Date(E).getTime()-N.getTime();if(P<=0)return"Expirado";const k=Math.floor(P/(1e3*60*60)),T=Math.floor(P%(1e3*60*60)/(1e3*60));return k>0?`${k}h ${T}m restantes`:`${T}m restantes`};return a?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Validando convite..."}),d.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Verificando token de segurança"}),d.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:d.jsx("p",{className:"text-xs text-blue-700",children:"🔐 Validando token criptográfico e verificando expiração"})})]})}):u?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsx("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:u.success?d.jsxs(d.Fragment,{children:[d.jsx(wl,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Convite Aceito!"}),d.jsx("p",{className:"text-gray-600 mb-6",children:u.message}),d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:d.jsxs("p",{className:"text-sm text-green-700",children:["✓ Você foi adicionado à equipe com sucesso",d.jsx("br",{}),"✓ Suas permissões foram configuradas automaticamente"]})}),d.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Redirecionando para o sistema..."]})]}):u.requiresAuth?d.jsxs(d.Fragment,{children:[d.jsx(_g,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Login Necessário"}),d.jsx("p",{className:"text-gray-600 mb-4",children:u.message}),r&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[d.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:[d.jsx("strong",{children:"Convite para:"})," ",r.email]}),d.jsx("p",{className:"text-xs text-blue-600",children:"O convite foi salvo e será processado automaticamente após o login"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[d.jsx(_g,{className:"w-5 h-5 mr-2"}),"Fazer Login"]}),d.jsxs("button",{onClick:m,className:"w-full flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[d.jsx(_g,{className:"w-5 h-5 mr-2"}),"Criar Conta"]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:["Você deve usar o e-mail ",d.jsx("strong",{children:r==null?void 0:r.email})," para aceitar este convite"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx(Sh,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.isError?"Erro no Convite":"Convite Inválido"}),d.jsx("p",{className:"text-gray-600 mb-6",children:u.message}),d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[d.jsx("p",{className:"text-sm text-red-700",children:"⚠️ Possíveis causas:"}),d.jsxs("ul",{className:"text-xs text-red-600 mt-2 list-disc list-inside space-y-1",children:[d.jsx("li",{children:"Link expirado (convites expiram em 72 horas)"}),d.jsx("li",{children:"Convite já foi aceito anteriormente"}),d.jsx("li",{children:"Convite foi cancelado pelo administrador"}),d.jsx("li",{children:"Token de segurança inválido"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:()=>e("/"),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Ir para o Sistema"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Tentar Novamente"})]})]})})}):!r||!(i!=null&&i.valid)?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[d.jsx(Sh,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Convite Inválido"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Este link de convite não é válido ou não pode ser processado."}),d.jsx("button",{onClick:()=>e("/"),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Ir para o Sistema"})]})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]}),d.jsx("p",{className:"text-blue-600",children:"Sistema de Gestão Jurídica"})]}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Nh,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Convite para Equipe"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["Você foi convidado para fazer parte da equipe como"," ",d.jsx("strong",{className:"text-blue-600",children:v(r.role)})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"E-mail:"}),d.jsx("span",{className:"font-medium text-blue-800",children:r.email})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Função:"}),d.jsx("span",{className:"font-medium text-blue-800",children:v(r.role)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Expira em:"}),d.jsx("span",{className:"font-medium text-amber-700",children:x(r.expiresAt)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Criado em:"}),d.jsx("span",{className:"font-medium text-gray-700",children:$r(new Date(r.createdAt),"dd/MM/yyyy HH:mm",{locale:Tr})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Status:"}),d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:r.status==="pending"?"Pendente":r.status})]})]}),d.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:d.jsxs("div",{className:"flex items-center text-xs text-blue-700",children:[d.jsx(Nh,{className:"w-3 h-3 mr-1"}),d.jsx("span",{children:"Convite seguro com token criptografado"})]})})]})]}),(i==null?void 0:i.requiresAuth)&&d.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(Sh,{className:"w-5 h-5 text-amber-400 mr-2 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-amber-800 font-medium mb-1",children:"Login necessário"}),d.jsxs("p",{className:"text-xs text-amber-700",children:["Você precisa fazer login com o e-mail ",d.jsx("strong",{children:r.email})," para aceitar este convite. Se não possui conta, você pode criar uma."]})]})]})}),d.jsxs("div",{className:"space-y-3",children:[i!=null&&i.requiresAuth?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:w,disabled:l,className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 font-medium",children:[d.jsx(_g,{className:"w-5 h-5 mr-2"}),"Fazer Login"]}),d.jsxs("button",{onClick:m,disabled:l,className:"w-full flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 font-medium",children:[d.jsx(_g,{className:"w-5 h-5 mr-2"}),"Criar Nova Conta"]}),d.jsx("p",{className:"text-xs text-center text-gray-500",children:"O convite será salvo e processado automaticamente após o login"})]}):d.jsx("button",{onClick:g,disabled:l,className:"w-full flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 font-medium",children:l?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Aceitando Convite..."]}):d.jsxs(d.Fragment,{children:[d.jsx(wl,{className:"w-5 h-5 mr-2"}),"Aceitar Convite"]})}),d.jsx("button",{onClick:()=>e("/"),disabled:l,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"})]}),d.jsxs("div",{className:"mt-6 space-y-3",children:[d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[d.jsxs("h4",{className:"text-xs font-semibold text-green-800 mb-1 flex items-center",children:[d.jsx(Nh,{className:"w-3 h-3 mr-1"}),"Processo Seguro"]}),d.jsxs("ul",{className:"text-xs text-green-700 space-y-0.5",children:[d.jsx("li",{children:"• Token único validado via SHA-256"}),d.jsx("li",{children:"• Verificação automática de expiração"}),d.jsx("li",{children:"• Validação de e-mail obrigatória"}),d.jsx("li",{children:"• Convite salvo localmente se necessário"})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-xs text-gray-500",children:"Este convite possui token de segurança e expira automaticamente."}),d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Ao aceitar, você terá acesso aos módulos permitidos pela sua função."})]})]}),!1]})})}function uTe(){const t=Ic(),[e,r]=R.useState("dashboard"),[n,i]=R.useState(!1),[s,a]=R.useState(null),[o,l]=R.useState(null),[c,u]=R.useState(null),[h,p]=R.useState(null),[f,y]=R.useState("lawyer"),[g,w]=R.useState("list"),[m,v]=R.useState(null);if(t.pathname==="/aceitar")return d.jsx(v7,{});const E=async()=>{try{await Im.logout()}catch(ne){console.error("Erro ao fazer logout:",ne),window.location.reload()}},N=ne=>{r(ne),i(!1),w("list"),a(null),l(null),u(null),p(null),v(null)},C=()=>{i(!0),r("")},P=()=>{i(!1),r("dashboard")},k=ne=>{switch(i(!1),ne){case"new-power-of-attorney":r("documents"),v("power-of-attorney");break;case"new-receipt":r("documents"),v("receipt");break;case"new-revenue":r("financial"),v("revenue");break;case"new-expense":r("financial"),v("expense");break;case"new-process":r("processes"),w("form"),a(null);break;case"new-event":r("calendar"),v("event");break;case"new-lawyer":r("team"),w("form"),u(null),y("lawyer");break;case"new-employee":r("team"),w("form"),p(null),y("employee");break}},T=()=>{w("form"),a(null)},q=ne=>{a(ne),w("view")},M=ne=>{a(ne),w("form")},A=()=>{w("list"),a(null),l(null),u(null),p(null),v(null)},I=()=>{if(n)return d.jsx(cTe,{onBack:P});switch(e){case"dashboard":return d.jsx(zL,{});case"processes":switch(g){case"form":return d.jsx(nEe,{process:s,onBack:A,onSave:A});case"view":return d.jsx(iEe,{process:s,onBack:A,onEdit:()=>w("form"),onUpdate:ne=>{a(ne)}});default:return d.jsx(tEe,{onNewProcess:T,onViewProcess:q,onEditProcess:M})}case"calendar":return d.jsx(cEe,{quickActionType:m,onClearQuickAction:()=>v(null)});case"financial":return d.jsx(fEe,{quickActionType:m,onClearQuickAction:()=>v(null)});case"documents":return d.jsx(X3e,{quickActionType:m,onClearQuickAction:()=>v(null)});case"reports":return d.jsx(J3e,{});case"settings":return d.jsx(Q3e,{});case"team":switch(g){case"form":return f==="lawyer"?d.jsx(eTe,{lawyer:c,onBack:A,onSave:A}):d.jsx(nTe,{employee:h,onBack:A,onSave:A});case"view":return c?d.jsx(tTe,{lawyer:c,onBack:A,onEdit:()=>{y("lawyer"),w("form")},onUpdate:ne=>{u(ne)}}):h?d.jsx(iTe,{employee:h,onBack:A,onEdit:()=>{y("employee"),w("form")},onUpdate:ne=>{p(ne)}}):d.jsx(y7,{onNewLawyer:()=>{},onNewEmployee:()=>{},onViewLawyer:()=>{},onViewEmployee:()=>{},onEditLawyer:()=>{},onEditEmployee:()=>{}});default:return d.jsx(y7,{onNewLawyer:()=>{w("form"),u(null),y("lawyer")},onNewEmployee:()=>{w("form"),p(null),y("employee")},onViewLawyer:ne=>{u(ne),w("view")},onViewEmployee:ne=>{p(ne),w("view")},onEditLawyer:ne=>{u(ne),y("lawyer"),w("form")},onEditEmployee:ne=>{p(ne),y("employee"),w("form")}})}default:return d.jsx(zL,{})}},j=ne=>d.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[d.jsx(bce,{user:ne,onLogout:E,onOpenAdmin:C}),d.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d.jsx(Ece,{activeSection:e,onSectionChange:N,onQuickAction:k}),d.jsx("main",{className:"flex-1 overflow-auto",children:I()})]})]});return d.jsxs(OJ,{children:[d.jsx(TS,{path:"/aceitar",element:d.jsx(v7,{})}),d.jsx(TS,{path:"/*",element:d.jsx(wce,{children:j})})]})}IF(document.getElementById("root")).render(d.jsx(R.StrictMode,{children:d.jsx(nQ,{children:d.jsx(uTe,{})})}));export{mr as _,cg as c,So as g};
