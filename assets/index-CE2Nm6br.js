var oK=Object.defineProperty;var lK=(t,e,r)=>e in t?oK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var l5=(t,e,r)=>lK(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u7={exports:{}},Rw={},d7={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy=Symbol.for("react.element"),cK=Symbol.for("react.portal"),uK=Symbol.for("react.fragment"),dK=Symbol.for("react.strict_mode"),fK=Symbol.for("react.profiler"),hK=Symbol.for("react.provider"),pK=Symbol.for("react.context"),mK=Symbol.for("react.forward_ref"),gK=Symbol.for("react.suspense"),yK=Symbol.for("react.memo"),vK=Symbol.for("react.lazy"),vC=Symbol.iterator;function bK(t){return t===null||typeof t!="object"?null:(t=vC&&t[vC]||t["@@iterator"],typeof t=="function"?t:null)}var f7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h7=Object.assign,p7={};function vm(t,e,r){this.props=t,this.context=e,this.refs=p7,this.updater=r||f7}vm.prototype.isReactComponent={};vm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m7(){}m7.prototype=vm.prototype;function p4(t,e,r){this.props=t,this.context=e,this.refs=p7,this.updater=r||f7}var m4=p4.prototype=new m7;m4.constructor=p4;h7(m4,vm.prototype);m4.isPureReactComponent=!0;var bC=Array.isArray,g7=Object.prototype.hasOwnProperty,g4={current:null},y7={key:!0,ref:!0,__self:!0,__source:!0};function v7(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)g7.call(e,n)&&!y7.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:sy,type:t,key:a,ref:s,props:i,_owner:g4.current}}function wK(t,e){return{$$typeof:sy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y4(t){return typeof t=="object"&&t!==null&&t.$$typeof===sy}function xK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var wC=/\/+/g;function c5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xK(""+t.key):e.toString(36)}function y1(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case sy:case cK:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+c5(s,0):n,bC(i)?(r="",t!=null&&(r=t.replace(wC,"$&/")+"/"),y1(i,e,r,"",function(c){return c})):i!=null&&(y4(i)&&(i=wK(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(wC,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",bC(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+c5(a,o);s+=y1(a,e,r,l,i)}else if(l=bK(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+c5(a,o++),s+=y1(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function yv(t,e,r){if(t==null)return t;var n=[],i=0;return y1(t,n,"","",function(a){return e.call(r,a,i++)}),n}function _K(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ta={current:null},v1={transition:null},EK={ReactCurrentDispatcher:ta,ReactCurrentBatchConfig:v1,ReactCurrentOwner:g4};function b7(){throw Error("act(...) is not supported in production builds of React.")}Ut.Children={map:yv,forEach:function(t,e,r){yv(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return yv(t,function(){e++}),e},toArray:function(t){return yv(t,function(e){return e})||[]},only:function(t){if(!y4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ut.Component=vm;Ut.Fragment=uK;Ut.Profiler=fK;Ut.PureComponent=p4;Ut.StrictMode=dK;Ut.Suspense=gK;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EK;Ut.act=b7;Ut.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=h7({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=g4.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)g7.call(e,l)&&!y7.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:sy,type:t.type,key:i,ref:a,props:n,_owner:s}};Ut.createContext=function(t){return t={$$typeof:pK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hK,_context:t},t.Consumer=t};Ut.createElement=v7;Ut.createFactory=function(t){var e=v7.bind(null,t);return e.type=t,e};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(t){return{$$typeof:mK,render:t}};Ut.isValidElement=y4;Ut.lazy=function(t){return{$$typeof:vK,_payload:{_status:-1,_result:t},_init:_K}};Ut.memo=function(t,e){return{$$typeof:yK,type:t,compare:e===void 0?null:e}};Ut.startTransition=function(t){var e=v1.transition;v1.transition={};try{t()}finally{v1.transition=e}};Ut.unstable_act=b7;Ut.useCallback=function(t,e){return ta.current.useCallback(t,e)};Ut.useContext=function(t){return ta.current.useContext(t)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(t){return ta.current.useDeferredValue(t)};Ut.useEffect=function(t,e){return ta.current.useEffect(t,e)};Ut.useId=function(){return ta.current.useId()};Ut.useImperativeHandle=function(t,e,r){return ta.current.useImperativeHandle(t,e,r)};Ut.useInsertionEffect=function(t,e){return ta.current.useInsertionEffect(t,e)};Ut.useLayoutEffect=function(t,e){return ta.current.useLayoutEffect(t,e)};Ut.useMemo=function(t,e){return ta.current.useMemo(t,e)};Ut.useReducer=function(t,e,r){return ta.current.useReducer(t,e,r)};Ut.useRef=function(t){return ta.current.useRef(t)};Ut.useState=function(t){return ta.current.useState(t)};Ut.useSyncExternalStore=function(t,e,r){return ta.current.useSyncExternalStore(t,e,r)};Ut.useTransition=function(){return ta.current.useTransition()};Ut.version="18.3.1";d7.exports=Ut;var I=d7.exports;const wr=Eo(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SK=I,AK=Symbol.for("react.element"),NK=Symbol.for("react.fragment"),TK=Object.prototype.hasOwnProperty,PK=SK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CK={key:!0,ref:!0,__self:!0,__source:!0};function w7(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)TK.call(e,n)&&!CK.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:AK,type:t,key:a,ref:s,props:i,_owner:PK.current}}Rw.Fragment=NK;Rw.jsx=w7;Rw.jsxs=w7;u7.exports=Rw;var d=u7.exports,x7={exports:{}},es={},_7={exports:{}},E7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(se,fe){var we=se.length;se.push(fe);e:for(;0<we;){var ve=we-1>>>1,M=se[ve];if(0<i(M,fe))se[ve]=fe,se[we]=M,we=ve;else break e}}function r(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var fe=se[0],we=se.pop();if(we!==fe){se[0]=we;e:for(var ve=0,M=se.length,K=M>>>1;ve<K;){var ee=2*(ve+1)-1,de=se[ee],ue=ee+1,z=se[ue];if(0>i(de,we))ue<M&&0>i(z,de)?(se[ve]=z,se[ue]=we,ve=ue):(se[ve]=de,se[ee]=we,ve=ee);else if(ue<M&&0>i(z,we))se[ve]=z,se[ue]=we,ve=ue;else break e}}return fe}function i(se,fe){var we=se.sortIndex-fe.sortIndex;return we!==0?we:se.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,p=3,h=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(se){for(var fe=r(c);fe!==null;){if(fe.callback===null)n(c);else if(fe.startTime<=se)n(c),fe.sortIndex=fe.expirationTime,e(l,fe);else break;fe=r(c)}}function E(se){if(g=!1,w(se),!y)if(r(l)!==null)y=!0,ae(P);else{var fe=r(c);fe!==null&&Q(E,fe.startTime-se)}}function P(se,fe){y=!1,g&&(g=!1,m(N),N=-1),h=!0;var we=p;try{for(w(fe),f=r(l);f!==null&&(!(f.expirationTime>fe)||se&&!F());){var ve=f.callback;if(typeof ve=="function"){f.callback=null,p=f.priorityLevel;var M=ve(f.expirationTime<=fe);fe=t.unstable_now(),typeof M=="function"?f.callback=M:f===r(l)&&n(l),w(fe)}else n(l);f=r(l)}if(f!==null)var K=!0;else{var ee=r(c);ee!==null&&Q(E,ee.startTime-fe),K=!1}return K}finally{f=null,p=we,h=!1}}var $=!1,C=null,N=-1,A=5,D=-1;function F(){return!(t.unstable_now()-D<A)}function S(){if(C!==null){var se=t.unstable_now();D=se;var fe=!0;try{fe=C(!0,se)}finally{fe?O():($=!1,C=null)}}else $=!1}var O;if(typeof v=="function")O=function(){v(S)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ie=k.port2;k.port1.onmessage=S,O=function(){ie.postMessage(null)}}else O=function(){b(S,0)};function ae(se){C=se,$||($=!0,O())}function Q(se,fe){N=b(function(){se(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,ae(P))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(se){switch(p){case 1:case 2:case 3:var fe=3;break;default:fe=p}var we=p;p=fe;try{return se()}finally{p=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,fe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var we=p;p=se;try{return fe()}finally{p=we}},t.unstable_scheduleCallback=function(se,fe,we){var ve=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?ve+we:ve):we=ve,se){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=we+M,se={id:u++,callback:fe,priorityLevel:se,startTime:we,expirationTime:M,sortIndex:-1},we>ve?(se.sortIndex=we,e(c,se),r(l)===null&&se===r(c)&&(g?(m(N),N=-1):g=!0,Q(E,we-ve))):(se.sortIndex=M,e(l,se),y||h||(y=!0,ae(P))),se},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(se){var fe=p;return function(){var we=p;p=fe;try{return se.apply(this,arguments)}finally{p=we}}}})(E7);_7.exports=E7;var kK=_7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IK=I,Ja=kK;function tt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S7=new Set,v0={};function Xf(t,e){Bp(t,e),Bp(t+"Capture",e)}function Bp(t,e){for(v0[t]=e,t=0;t<e.length;t++)S7.add(e[t])}var mc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ES=Object.prototype.hasOwnProperty,jK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xC={},_C={};function OK(t){return ES.call(_C,t)?!0:ES.call(xC,t)?!1:jK.test(t)?_C[t]=!0:(xC[t]=!0,!1)}function RK(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LK(t,e,r,n){if(e===null||typeof e>"u"||RK(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ra(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bi[t]=new ra(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bi[e]=new ra(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bi[t]=new ra(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bi[t]=new ra(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bi[t]=new ra(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bi[t]=new ra(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bi[t]=new ra(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bi[t]=new ra(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bi[t]=new ra(t,5,!1,t.toLowerCase(),null,!1,!1)});var v4=/[\-:]([a-z])/g;function b4(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v4,b4);bi[e]=new ra(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v4,b4);bi[e]=new ra(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v4,b4);bi[e]=new ra(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bi[t]=new ra(t,1,!1,t.toLowerCase(),null,!1,!1)});bi.xlinkHref=new ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bi[t]=new ra(t,1,!1,t.toLowerCase(),null,!0,!0)});function w4(t,e,r,n){var i=bi.hasOwnProperty(e)?bi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LK(e,r,i,n)&&(r=null),n||i===null?OK(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ic=IK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vv=Symbol.for("react.element"),ep=Symbol.for("react.portal"),tp=Symbol.for("react.fragment"),x4=Symbol.for("react.strict_mode"),SS=Symbol.for("react.profiler"),A7=Symbol.for("react.provider"),N7=Symbol.for("react.context"),_4=Symbol.for("react.forward_ref"),AS=Symbol.for("react.suspense"),NS=Symbol.for("react.suspense_list"),E4=Symbol.for("react.memo"),Eu=Symbol.for("react.lazy"),T7=Symbol.for("react.offscreen"),EC=Symbol.iterator;function cg(t){return t===null||typeof t!="object"?null:(t=EC&&t[EC]||t["@@iterator"],typeof t=="function"?t:null)}var Gr=Object.assign,u5;function Dg(t){if(u5===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);u5=e&&e[1]||""}return`
`+u5+t}var d5=!1;function f5(t,e){if(!t||d5)return"";d5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{d5=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Dg(t):""}function DK(t){switch(t.tag){case 5:return Dg(t.type);case 16:return Dg("Lazy");case 13:return Dg("Suspense");case 19:return Dg("SuspenseList");case 0:case 2:case 15:return t=f5(t.type,!1),t;case 11:return t=f5(t.type.render,!1),t;case 1:return t=f5(t.type,!0),t;default:return""}}function TS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tp:return"Fragment";case ep:return"Portal";case SS:return"Profiler";case x4:return"StrictMode";case AS:return"Suspense";case NS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N7:return(t.displayName||"Context")+".Consumer";case A7:return(t._context.displayName||"Context")+".Provider";case _4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E4:return e=t.displayName||null,e!==null?e:TS(t.type)||"Memo";case Eu:e=t._payload,t=t._init;try{return TS(t(e))}catch{}}return null}function MK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return TS(e);case 8:return e===x4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FK(t){var e=P7(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bv(t){t._valueTracker||(t._valueTracker=FK(t))}function C7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=P7(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Q1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function PS(t,e){var r=e.checked;return Gr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function SC(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k7(t,e){e=e.checked,e!=null&&w4(t,"checked",e,!1)}function CS(t,e){k7(t,e);var r=Qu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kS(t,e.type,r):e.hasOwnProperty("defaultValue")&&kS(t,e.type,Qu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AC(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function kS(t,e,r){(e!=="number"||Q1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Mg=Array.isArray;function yp(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function IS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(tt(91));return Gr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function NC(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(tt(92));if(Mg(r)){if(1<r.length)throw Error(tt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qu(r)}}function I7(t,e){var r=Qu(e.value),n=Qu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function TC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function j7(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?j7(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wv,O7=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wv=wv||document.createElement("div"),wv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function b0(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Yg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BK=["Webkit","ms","Moz","O"];Object.keys(Yg).forEach(function(t){BK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yg[e]=Yg[t]})});function R7(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Yg.hasOwnProperty(t)&&Yg[t]?(""+e).trim():e+"px"}function L7(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=R7(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var $K=Gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function OS(t,e){if(e){if($K[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(tt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(tt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(tt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(tt(62))}}function RS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LS=null;function S4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var DS=null,vp=null,bp=null;function PC(t){if(t=cy(t)){if(typeof DS!="function")throw Error(tt(280));var e=t.stateNode;e&&(e=Bw(e),DS(t.stateNode,t.type,e))}}function D7(t){vp?bp?bp.push(t):bp=[t]:vp=t}function M7(){if(vp){var t=vp,e=bp;if(bp=vp=null,PC(t),e)for(t=0;t<e.length;t++)PC(e[t])}}function F7(t,e){return t(e)}function B7(){}var h5=!1;function $7(t,e,r){if(h5)return t(e,r);h5=!0;try{return F7(t,e,r)}finally{h5=!1,(vp!==null||bp!==null)&&(B7(),M7())}}function w0(t,e){var r=t.stateNode;if(r===null)return null;var n=Bw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(tt(231,e,typeof r));return r}var MS=!1;if(mc)try{var ug={};Object.defineProperty(ug,"passive",{get:function(){MS=!0}}),window.addEventListener("test",ug,ug),window.removeEventListener("test",ug,ug)}catch{MS=!1}function UK(t,e,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Xg=!1,Z1=null,eb=!1,FS=null,VK={onError:function(t){Xg=!0,Z1=t}};function zK(t,e,r,n,i,a,s,o,l){Xg=!1,Z1=null,UK.apply(VK,arguments)}function qK(t,e,r,n,i,a,s,o,l){if(zK.apply(this,arguments),Xg){if(Xg){var c=Z1;Xg=!1,Z1=null}else throw Error(tt(198));eb||(eb=!0,FS=c)}}function Jf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function U7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CC(t){if(Jf(t)!==t)throw Error(tt(188))}function WK(t){var e=t.alternate;if(!e){if(e=Jf(t),e===null)throw Error(tt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return CC(i),t;if(a===n)return CC(i),e;a=a.sibling}throw Error(tt(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(tt(189))}}if(r.alternate!==n)throw Error(tt(190))}if(r.tag!==3)throw Error(tt(188));return r.stateNode.current===r?t:e}function V7(t){return t=WK(t),t!==null?z7(t):null}function z7(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z7(t);if(e!==null)return e;t=t.sibling}return null}var q7=Ja.unstable_scheduleCallback,kC=Ja.unstable_cancelCallback,HK=Ja.unstable_shouldYield,GK=Ja.unstable_requestPaint,dn=Ja.unstable_now,KK=Ja.unstable_getCurrentPriorityLevel,A4=Ja.unstable_ImmediatePriority,W7=Ja.unstable_UserBlockingPriority,tb=Ja.unstable_NormalPriority,YK=Ja.unstable_LowPriority,H7=Ja.unstable_IdlePriority,Lw=null,il=null;function XK(t){if(il&&typeof il.onCommitFiberRoot=="function")try{il.onCommitFiberRoot(Lw,t,void 0,(t.current.flags&128)===128)}catch{}}var po=Math.clz32?Math.clz32:ZK,JK=Math.log,QK=Math.LN2;function ZK(t){return t>>>=0,t===0?32:31-(JK(t)/QK|0)|0}var xv=64,_v=4194304;function Fg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Fg(o):(a&=s,a!==0&&(n=Fg(a)))}else s=r&~i,s!==0?n=Fg(s):a!==0&&(n=Fg(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-po(e),i=1<<r,n|=t[r],e&=~i;return n}function eY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tY(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-po(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=eY(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function BS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G7(){var t=xv;return xv<<=1,!(xv&4194240)&&(xv=64),t}function p5(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function oy(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-po(e),t[e]=r}function rY(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-po(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function N4(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-po(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var gr=0;function K7(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y7,T4,X7,J7,Q7,$S=!1,Ev=[],Fu=null,Bu=null,$u=null,x0=new Map,_0=new Map,Nu=[],nY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IC(t,e){switch(t){case"focusin":case"focusout":Fu=null;break;case"dragenter":case"dragleave":Bu=null;break;case"mouseover":case"mouseout":$u=null;break;case"pointerover":case"pointerout":x0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_0.delete(e.pointerId)}}function dg(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=cy(e),e!==null&&T4(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iY(t,e,r,n,i){switch(e){case"focusin":return Fu=dg(Fu,t,e,r,n,i),!0;case"dragenter":return Bu=dg(Bu,t,e,r,n,i),!0;case"mouseover":return $u=dg($u,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return x0.set(a,dg(x0.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,_0.set(a,dg(_0.get(a)||null,t,e,r,n,i)),!0}return!1}function Z7(t){var e=cf(t.target);if(e!==null){var r=Jf(e);if(r!==null){if(e=r.tag,e===13){if(e=U7(r),e!==null){t.blockedOn=e,Q7(t.priority,function(){X7(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function b1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=US(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);LS=n,r.target.dispatchEvent(n),LS=null}else return e=cy(r),e!==null&&T4(e),t.blockedOn=r,!1;e.shift()}return!0}function jC(t,e,r){b1(t)&&r.delete(e)}function aY(){$S=!1,Fu!==null&&b1(Fu)&&(Fu=null),Bu!==null&&b1(Bu)&&(Bu=null),$u!==null&&b1($u)&&($u=null),x0.forEach(jC),_0.forEach(jC)}function fg(t,e){t.blockedOn===e&&(t.blockedOn=null,$S||($S=!0,Ja.unstable_scheduleCallback(Ja.unstable_NormalPriority,aY)))}function E0(t){function e(i){return fg(i,t)}if(0<Ev.length){fg(Ev[0],t);for(var r=1;r<Ev.length;r++){var n=Ev[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fu!==null&&fg(Fu,t),Bu!==null&&fg(Bu,t),$u!==null&&fg($u,t),x0.forEach(e),_0.forEach(e),r=0;r<Nu.length;r++)n=Nu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Nu.length&&(r=Nu[0],r.blockedOn===null);)Z7(r),r.blockedOn===null&&Nu.shift()}var wp=Ic.ReactCurrentBatchConfig,nb=!0;function sY(t,e,r,n){var i=gr,a=wp.transition;wp.transition=null;try{gr=1,P4(t,e,r,n)}finally{gr=i,wp.transition=a}}function oY(t,e,r,n){var i=gr,a=wp.transition;wp.transition=null;try{gr=4,P4(t,e,r,n)}finally{gr=i,wp.transition=a}}function P4(t,e,r,n){if(nb){var i=US(t,e,r,n);if(i===null)S5(t,e,n,ib,r),IC(t,n);else if(iY(i,t,e,r,n))n.stopPropagation();else if(IC(t,n),e&4&&-1<nY.indexOf(t)){for(;i!==null;){var a=cy(i);if(a!==null&&Y7(a),a=US(t,e,r,n),a===null&&S5(t,e,n,ib,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else S5(t,e,n,null,r)}}var ib=null;function US(t,e,r,n){if(ib=null,t=S4(n),t=cf(t),t!==null)if(e=Jf(t),e===null)t=null;else if(r=e.tag,r===13){if(t=U7(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ib=t,null}function eM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KK()){case A4:return 1;case W7:return 4;case tb:case YK:return 16;case H7:return 536870912;default:return 16}default:return 16}}var Ru=null,C4=null,w1=null;function tM(){if(w1)return w1;var t,e=C4,r=e.length,n,i="value"in Ru?Ru.value:Ru.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return w1=i.slice(t,1<n?1-n:void 0)}function x1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sv(){return!0}function OC(){return!1}function ts(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sv:OC,this.isPropagationStopped=OC,this}return Gr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sv)},persist:function(){},isPersistent:Sv}),e}var bm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k4=ts(bm),ly=Gr({},bm,{view:0,detail:0}),lY=ts(ly),m5,g5,hg,Dw=Gr({},ly,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hg&&(hg&&t.type==="mousemove"?(m5=t.screenX-hg.screenX,g5=t.screenY-hg.screenY):g5=m5=0,hg=t),m5)},movementY:function(t){return"movementY"in t?t.movementY:g5}}),RC=ts(Dw),cY=Gr({},Dw,{dataTransfer:0}),uY=ts(cY),dY=Gr({},ly,{relatedTarget:0}),y5=ts(dY),fY=Gr({},bm,{animationName:0,elapsedTime:0,pseudoElement:0}),hY=ts(fY),pY=Gr({},bm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mY=ts(pY),gY=Gr({},bm,{data:0}),LC=ts(gY),yY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bY[t])?!!e[t]:!1}function I4(){return wY}var xY=Gr({},ly,{key:function(t){if(t.key){var e=yY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=x1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I4,charCode:function(t){return t.type==="keypress"?x1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?x1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_Y=ts(xY),EY=Gr({},Dw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DC=ts(EY),SY=Gr({},ly,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I4}),AY=ts(SY),NY=Gr({},bm,{propertyName:0,elapsedTime:0,pseudoElement:0}),TY=ts(NY),PY=Gr({},Dw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CY=ts(PY),kY=[9,13,27,32],j4=mc&&"CompositionEvent"in window,Jg=null;mc&&"documentMode"in document&&(Jg=document.documentMode);var IY=mc&&"TextEvent"in window&&!Jg,rM=mc&&(!j4||Jg&&8<Jg&&11>=Jg),MC=" ",FC=!1;function nM(t,e){switch(t){case"keyup":return kY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rp=!1;function jY(t,e){switch(t){case"compositionend":return iM(e);case"keypress":return e.which!==32?null:(FC=!0,MC);case"textInput":return t=e.data,t===MC&&FC?null:t;default:return null}}function OY(t,e){if(rp)return t==="compositionend"||!j4&&nM(t,e)?(t=tM(),w1=C4=Ru=null,rp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rM&&e.locale!=="ko"?null:e.data;default:return null}}var RY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RY[t.type]:e==="textarea"}function aM(t,e,r,n){D7(n),e=ab(e,"onChange"),0<e.length&&(r=new k4("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Qg=null,S0=null;function LY(t){gM(t,0)}function Mw(t){var e=ap(t);if(C7(e))return t}function DY(t,e){if(t==="change")return e}var sM=!1;if(mc){var v5;if(mc){var b5="oninput"in document;if(!b5){var $C=document.createElement("div");$C.setAttribute("oninput","return;"),b5=typeof $C.oninput=="function"}v5=b5}else v5=!1;sM=v5&&(!document.documentMode||9<document.documentMode)}function UC(){Qg&&(Qg.detachEvent("onpropertychange",oM),S0=Qg=null)}function oM(t){if(t.propertyName==="value"&&Mw(S0)){var e=[];aM(e,S0,t,S4(t)),$7(LY,e)}}function MY(t,e,r){t==="focusin"?(UC(),Qg=e,S0=r,Qg.attachEvent("onpropertychange",oM)):t==="focusout"&&UC()}function FY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mw(S0)}function BY(t,e){if(t==="click")return Mw(e)}function $Y(t,e){if(t==="input"||t==="change")return Mw(e)}function UY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var go=typeof Object.is=="function"?Object.is:UY;function A0(t,e){if(go(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ES.call(e,i)||!go(t[i],e[i]))return!1}return!0}function VC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zC(t,e){var r=VC(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=VC(r)}}function lM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cM(){for(var t=window,e=Q1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Q1(t.document)}return e}function O4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VY(t){var e=cM(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&lM(r.ownerDocument.documentElement,r)){if(n!==null&&O4(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=zC(r,a);var s=zC(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zY=mc&&"documentMode"in document&&11>=document.documentMode,np=null,VS=null,Zg=null,zS=!1;function qC(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zS||np==null||np!==Q1(n)||(n=np,"selectionStart"in n&&O4(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zg&&A0(Zg,n)||(Zg=n,n=ab(VS,"onSelect"),0<n.length&&(e=new k4("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=np)))}function Av(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ip={animationend:Av("Animation","AnimationEnd"),animationiteration:Av("Animation","AnimationIteration"),animationstart:Av("Animation","AnimationStart"),transitionend:Av("Transition","TransitionEnd")},w5={},uM={};mc&&(uM=document.createElement("div").style,"AnimationEvent"in window||(delete ip.animationend.animation,delete ip.animationiteration.animation,delete ip.animationstart.animation),"TransitionEvent"in window||delete ip.transitionend.transition);function Fw(t){if(w5[t])return w5[t];if(!ip[t])return t;var e=ip[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in uM)return w5[t]=e[r];return t}var dM=Fw("animationend"),fM=Fw("animationiteration"),hM=Fw("animationstart"),pM=Fw("transitionend"),mM=new Map,WC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dd(t,e){mM.set(t,e),Xf(e,[t])}for(var x5=0;x5<WC.length;x5++){var _5=WC[x5],qY=_5.toLowerCase(),WY=_5[0].toUpperCase()+_5.slice(1);dd(qY,"on"+WY)}dd(dM,"onAnimationEnd");dd(fM,"onAnimationIteration");dd(hM,"onAnimationStart");dd("dblclick","onDoubleClick");dd("focusin","onFocus");dd("focusout","onBlur");dd(pM,"onTransitionEnd");Bp("onMouseEnter",["mouseout","mouseover"]);Bp("onMouseLeave",["mouseout","mouseover"]);Bp("onPointerEnter",["pointerout","pointerover"]);Bp("onPointerLeave",["pointerout","pointerover"]);Xf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bg));function HC(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,qK(n,e,void 0,t),t.currentTarget=null}function gM(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;HC(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;HC(i,o,c),a=l}}}if(eb)throw t=FS,eb=!1,FS=null,t}function Lr(t,e){var r=e[KS];r===void 0&&(r=e[KS]=new Set);var n=t+"__bubble";r.has(n)||(yM(e,t,2,!1),r.add(n))}function E5(t,e,r){var n=0;e&&(n|=4),yM(r,t,n,e)}var Nv="_reactListening"+Math.random().toString(36).slice(2);function N0(t){if(!t[Nv]){t[Nv]=!0,S7.forEach(function(r){r!=="selectionchange"&&(HY.has(r)||E5(r,!1,t),E5(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nv]||(e[Nv]=!0,E5("selectionchange",!1,e))}}function yM(t,e,r,n){switch(eM(e)){case 1:var i=sY;break;case 4:i=oY;break;default:i=P4}r=i.bind(null,e,r,t),i=void 0,!MS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function S5(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=cf(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}$7(function(){var c=a,u=S4(r),f=[];e:{var p=mM.get(t);if(p!==void 0){var h=k4,y=t;switch(t){case"keypress":if(x1(r)===0)break e;case"keydown":case"keyup":h=_Y;break;case"focusin":y="focus",h=y5;break;case"focusout":y="blur",h=y5;break;case"beforeblur":case"afterblur":h=y5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=RC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=uY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=AY;break;case dM:case fM:case hM:h=hY;break;case pM:h=TY;break;case"scroll":h=lY;break;case"wheel":h=CY;break;case"copy":case"cut":case"paste":h=mY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=DC}var g=(e&4)!==0,b=!g&&t==="scroll",m=g?p!==null?p+"Capture":null:p;g=[];for(var v=c,w;v!==null;){w=v;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,m!==null&&(E=w0(v,m),E!=null&&g.push(T0(v,E,w)))),b)break;v=v.return}0<g.length&&(p=new h(p,y,null,r,u),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&r!==LS&&(y=r.relatedTarget||r.fromElement)&&(cf(y)||y[gc]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=c,y=y?cf(y):null,y!==null&&(b=Jf(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=c),h!==y)){if(g=RC,E="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=DC,E="onPointerLeave",m="onPointerEnter",v="pointer"),b=h==null?p:ap(h),w=y==null?p:ap(y),p=new g(E,v+"leave",h,r,u),p.target=b,p.relatedTarget=w,E=null,cf(u)===c&&(g=new g(m,v+"enter",y,r,u),g.target=w,g.relatedTarget=b,E=g),b=E,h&&y)t:{for(g=h,m=y,v=0,w=g;w;w=Mh(w))v++;for(w=0,E=m;E;E=Mh(E))w++;for(;0<v-w;)g=Mh(g),v--;for(;0<w-v;)m=Mh(m),w--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=Mh(g),m=Mh(m)}g=null}else g=null;h!==null&&GC(f,p,h,g,!1),y!==null&&b!==null&&GC(f,b,y,g,!0)}}e:{if(p=c?ap(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var P=DY;else if(BC(p))if(sM)P=$Y;else{P=FY;var $=MY}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=BY);if(P&&(P=P(t,c))){aM(f,P,r,u);break e}$&&$(t,p,c),t==="focusout"&&($=p._wrapperState)&&$.controlled&&p.type==="number"&&kS(p,"number",p.value)}switch($=c?ap(c):window,t){case"focusin":(BC($)||$.contentEditable==="true")&&(np=$,VS=c,Zg=null);break;case"focusout":Zg=VS=np=null;break;case"mousedown":zS=!0;break;case"contextmenu":case"mouseup":case"dragend":zS=!1,qC(f,r,u);break;case"selectionchange":if(zY)break;case"keydown":case"keyup":qC(f,r,u)}var C;if(j4)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else rp?nM(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(rM&&r.locale!=="ko"&&(rp||N!=="onCompositionStart"?N==="onCompositionEnd"&&rp&&(C=tM()):(Ru=u,C4="value"in Ru?Ru.value:Ru.textContent,rp=!0)),$=ab(c,N),0<$.length&&(N=new LC(N,t,null,r,u),f.push({event:N,listeners:$}),C?N.data=C:(C=iM(r),C!==null&&(N.data=C)))),(C=IY?jY(t,r):OY(t,r))&&(c=ab(c,"onBeforeInput"),0<c.length&&(u=new LC("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=C))}gM(f,e)})}function T0(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ab(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=w0(t,r),a!=null&&n.unshift(T0(t,a,i)),a=w0(t,e),a!=null&&n.push(T0(t,a,i))),t=t.return}return n}function Mh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function GC(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=w0(r,a),l!=null&&s.unshift(T0(r,l,o))):i||(l=w0(r,a),l!=null&&s.push(T0(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var GY=/\r\n?/g,KY=/\u0000|\uFFFD/g;function KC(t){return(typeof t=="string"?t:""+t).replace(GY,`
`).replace(KY,"")}function Tv(t,e,r){if(e=KC(e),KC(t)!==e&&r)throw Error(tt(425))}function sb(){}var qS=null,WS=null;function HS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var GS=typeof setTimeout=="function"?setTimeout:void 0,YY=typeof clearTimeout=="function"?clearTimeout:void 0,YC=typeof Promise=="function"?Promise:void 0,XY=typeof queueMicrotask=="function"?queueMicrotask:typeof YC<"u"?function(t){return YC.resolve(null).then(t).catch(JY)}:GS;function JY(t){setTimeout(function(){throw t})}function A5(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),E0(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);E0(e)}function Uu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var wm=Math.random().toString(36).slice(2),Jo="__reactFiber$"+wm,P0="__reactProps$"+wm,gc="__reactContainer$"+wm,KS="__reactEvents$"+wm,QY="__reactListeners$"+wm,ZY="__reactHandles$"+wm;function cf(t){var e=t[Jo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gc]||r[Jo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=XC(t);t!==null;){if(r=t[Jo])return r;t=XC(t)}return e}t=r,r=t.parentNode}return null}function cy(t){return t=t[Jo]||t[gc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ap(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(tt(33))}function Bw(t){return t[P0]||null}var YS=[],sp=-1;function fd(t){return{current:t}}function Fr(t){0>sp||(t.current=YS[sp],YS[sp]=null,sp--)}function jr(t,e){sp++,YS[sp]=t.current,t.current=e}var Zu={},Ui=fd(Zu),va=fd(!1),Of=Zu;function $p(t,e){var r=t.type.contextTypes;if(!r)return Zu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ba(t){return t=t.childContextTypes,t!=null}function ob(){Fr(va),Fr(Ui)}function JC(t,e,r){if(Ui.current!==Zu)throw Error(tt(168));jr(Ui,e),jr(va,r)}function vM(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(tt(108,MK(t)||"Unknown",i));return Gr({},r,n)}function lb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zu,Of=Ui.current,jr(Ui,t),jr(va,va.current),!0}function QC(t,e,r){var n=t.stateNode;if(!n)throw Error(tt(169));r?(t=vM(t,e,Of),n.__reactInternalMemoizedMergedChildContext=t,Fr(va),Fr(Ui),jr(Ui,t)):Fr(va),jr(va,r)}var Jl=null,$w=!1,N5=!1;function bM(t){Jl===null?Jl=[t]:Jl.push(t)}function eX(t){$w=!0,bM(t)}function hd(){if(!N5&&Jl!==null){N5=!0;var t=0,e=gr;try{var r=Jl;for(gr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Jl=null,$w=!1}catch(i){throw Jl!==null&&(Jl=Jl.slice(t+1)),q7(A4,hd),i}finally{gr=e,N5=!1}}return null}var op=[],lp=0,cb=null,ub=0,vs=[],bs=0,Rf=null,ec=1,tc="";function Qd(t,e){op[lp++]=ub,op[lp++]=cb,cb=t,ub=e}function wM(t,e,r){vs[bs++]=ec,vs[bs++]=tc,vs[bs++]=Rf,Rf=t;var n=ec;t=tc;var i=32-po(n)-1;n&=~(1<<i),r+=1;var a=32-po(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ec=1<<32-po(e)+i|r<<i|n,tc=a+t}else ec=1<<a|r<<i|n,tc=t}function R4(t){t.return!==null&&(Qd(t,1),wM(t,1,0))}function L4(t){for(;t===cb;)cb=op[--lp],op[lp]=null,ub=op[--lp],op[lp]=null;for(;t===Rf;)Rf=vs[--bs],vs[bs]=null,tc=vs[--bs],vs[bs]=null,ec=vs[--bs],vs[bs]=null}var Ka=null,Wa=null,$r=!1,io=null;function xM(t,e){var r=Es(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ZC(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ka=t,Wa=Uu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ka=t,Wa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Rf!==null?{id:ec,overflow:tc}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Es(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ka=t,Wa=null,!0):!1;default:return!1}}function XS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function JS(t){if($r){var e=Wa;if(e){var r=e;if(!ZC(t,e)){if(XS(t))throw Error(tt(418));e=Uu(r.nextSibling);var n=Ka;e&&ZC(t,e)?xM(n,r):(t.flags=t.flags&-4097|2,$r=!1,Ka=t)}}else{if(XS(t))throw Error(tt(418));t.flags=t.flags&-4097|2,$r=!1,Ka=t}}}function ek(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ka=t}function Pv(t){if(t!==Ka)return!1;if(!$r)return ek(t),$r=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!HS(t.type,t.memoizedProps)),e&&(e=Wa)){if(XS(t))throw _M(),Error(tt(418));for(;e;)xM(t,e),e=Uu(e.nextSibling)}if(ek(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(tt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Wa=Uu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Wa=null}}else Wa=Ka?Uu(t.stateNode.nextSibling):null;return!0}function _M(){for(var t=Wa;t;)t=Uu(t.nextSibling)}function Up(){Wa=Ka=null,$r=!1}function D4(t){io===null?io=[t]:io.push(t)}var tX=Ic.ReactCurrentBatchConfig;function pg(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(tt(309));var n=r.stateNode}if(!n)throw Error(tt(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(tt(284));if(!r._owner)throw Error(tt(290,t))}return t}function Cv(t,e){throw t=Object.prototype.toString.call(e),Error(tt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tk(t){var e=t._init;return e(t._payload)}function EM(t){function e(m,v){if(t){var w=m.deletions;w===null?(m.deletions=[v],m.flags|=16):w.push(v)}}function r(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function n(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Wu(m,v),m.index=0,m.sibling=null,m}function a(m,v,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<v?(m.flags|=2,v):w):(m.flags|=2,v)):(m.flags|=1048576,v)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,v,w,E){return v===null||v.tag!==6?(v=O5(w,m.mode,E),v.return=m,v):(v=i(v,w),v.return=m,v)}function l(m,v,w,E){var P=w.type;return P===tp?u(m,v,w.props.children,E,w.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Eu&&tk(P)===v.type)?(E=i(v,w.props),E.ref=pg(m,v,w),E.return=m,E):(E=P1(w.type,w.key,w.props,null,m.mode,E),E.ref=pg(m,v,w),E.return=m,E)}function c(m,v,w,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=R5(w,m.mode,E),v.return=m,v):(v=i(v,w.children||[]),v.return=m,v)}function u(m,v,w,E,P){return v===null||v.tag!==7?(v=Ef(w,m.mode,E,P),v.return=m,v):(v=i(v,w),v.return=m,v)}function f(m,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=O5(""+v,m.mode,w),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vv:return w=P1(v.type,v.key,v.props,null,m.mode,w),w.ref=pg(m,null,v),w.return=m,w;case ep:return v=R5(v,m.mode,w),v.return=m,v;case Eu:var E=v._init;return f(m,E(v._payload),w)}if(Mg(v)||cg(v))return v=Ef(v,m.mode,w,null),v.return=m,v;Cv(m,v)}return null}function p(m,v,w,E){var P=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:o(m,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vv:return w.key===P?l(m,v,w,E):null;case ep:return w.key===P?c(m,v,w,E):null;case Eu:return P=w._init,p(m,v,P(w._payload),E)}if(Mg(w)||cg(w))return P!==null?null:u(m,v,w,E,null);Cv(m,w)}return null}function h(m,v,w,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(w)||null,o(v,m,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vv:return m=m.get(E.key===null?w:E.key)||null,l(v,m,E,P);case ep:return m=m.get(E.key===null?w:E.key)||null,c(v,m,E,P);case Eu:var $=E._init;return h(m,v,w,$(E._payload),P)}if(Mg(E)||cg(E))return m=m.get(w)||null,u(v,m,E,P,null);Cv(v,E)}return null}function y(m,v,w,E){for(var P=null,$=null,C=v,N=v=0,A=null;C!==null&&N<w.length;N++){C.index>N?(A=C,C=null):A=C.sibling;var D=p(m,C,w[N],E);if(D===null){C===null&&(C=A);break}t&&C&&D.alternate===null&&e(m,C),v=a(D,v,N),$===null?P=D:$.sibling=D,$=D,C=A}if(N===w.length)return r(m,C),$r&&Qd(m,N),P;if(C===null){for(;N<w.length;N++)C=f(m,w[N],E),C!==null&&(v=a(C,v,N),$===null?P=C:$.sibling=C,$=C);return $r&&Qd(m,N),P}for(C=n(m,C);N<w.length;N++)A=h(C,m,N,w[N],E),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?N:A.key),v=a(A,v,N),$===null?P=A:$.sibling=A,$=A);return t&&C.forEach(function(F){return e(m,F)}),$r&&Qd(m,N),P}function g(m,v,w,E){var P=cg(w);if(typeof P!="function")throw Error(tt(150));if(w=P.call(w),w==null)throw Error(tt(151));for(var $=P=null,C=v,N=v=0,A=null,D=w.next();C!==null&&!D.done;N++,D=w.next()){C.index>N?(A=C,C=null):A=C.sibling;var F=p(m,C,D.value,E);if(F===null){C===null&&(C=A);break}t&&C&&F.alternate===null&&e(m,C),v=a(F,v,N),$===null?P=F:$.sibling=F,$=F,C=A}if(D.done)return r(m,C),$r&&Qd(m,N),P;if(C===null){for(;!D.done;N++,D=w.next())D=f(m,D.value,E),D!==null&&(v=a(D,v,N),$===null?P=D:$.sibling=D,$=D);return $r&&Qd(m,N),P}for(C=n(m,C);!D.done;N++,D=w.next())D=h(C,m,N,D.value,E),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?N:D.key),v=a(D,v,N),$===null?P=D:$.sibling=D,$=D);return t&&C.forEach(function(S){return e(m,S)}),$r&&Qd(m,N),P}function b(m,v,w,E){if(typeof w=="object"&&w!==null&&w.type===tp&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case vv:e:{for(var P=w.key,$=v;$!==null;){if($.key===P){if(P=w.type,P===tp){if($.tag===7){r(m,$.sibling),v=i($,w.props.children),v.return=m,m=v;break e}}else if($.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Eu&&tk(P)===$.type){r(m,$.sibling),v=i($,w.props),v.ref=pg(m,$,w),v.return=m,m=v;break e}r(m,$);break}else e(m,$);$=$.sibling}w.type===tp?(v=Ef(w.props.children,m.mode,E,w.key),v.return=m,m=v):(E=P1(w.type,w.key,w.props,null,m.mode,E),E.ref=pg(m,v,w),E.return=m,m=E)}return s(m);case ep:e:{for($=w.key;v!==null;){if(v.key===$)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(m,v.sibling),v=i(v,w.children||[]),v.return=m,m=v;break e}else{r(m,v);break}else e(m,v);v=v.sibling}v=R5(w,m.mode,E),v.return=m,m=v}return s(m);case Eu:return $=w._init,b(m,v,$(w._payload),E)}if(Mg(w))return y(m,v,w,E);if(cg(w))return g(m,v,w,E);Cv(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(m,v.sibling),v=i(v,w),v.return=m,m=v):(r(m,v),v=O5(w,m.mode,E),v.return=m,m=v),s(m)):r(m,v)}return b}var Vp=EM(!0),SM=EM(!1),db=fd(null),fb=null,cp=null,M4=null;function F4(){M4=cp=fb=null}function B4(t){var e=db.current;Fr(db),t._currentValue=e}function QS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function xp(t,e){fb=t,M4=cp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ga=!0),t.firstContext=null)}function Cs(t){var e=t._currentValue;if(M4!==t)if(t={context:t,memoizedValue:e,next:null},cp===null){if(fb===null)throw Error(tt(308));cp=t,fb.dependencies={lanes:0,firstContext:t}}else cp=cp.next=t;return e}var uf=null;function $4(t){uf===null?uf=[t]:uf.push(t)}function AM(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,$4(e)):(r.next=i.next,i.next=r),e.interleaved=r,yc(t,n)}function yc(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Su=!1;function U4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Qt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,yc(t,r)}return i=n.interleaved,i===null?(e.next=e,$4(n)):(e.next=i.next,i.next=e),n.interleaved=e,yc(t,r)}function _1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,N4(t,r)}}function rk(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function hb(t,e,r,n){var i=t.updateQueue;Su=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,g=o;switch(p=e,h=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(h,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(h,f,p):y,p==null)break e;f=Gr({},f,p);break e;case 2:Su=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Df|=s,t.lanes=s,t.memoizedState=f}}function nk(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(tt(191,i));i.call(n)}}}var uy={},al=fd(uy),C0=fd(uy),k0=fd(uy);function df(t){if(t===uy)throw Error(tt(174));return t}function V4(t,e){switch(jr(k0,e),jr(C0,t),jr(al,uy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jS(e,t)}Fr(al),jr(al,e)}function zp(){Fr(al),Fr(C0),Fr(k0)}function TM(t){df(k0.current);var e=df(al.current),r=jS(e,t.type);e!==r&&(jr(C0,t),jr(al,r))}function z4(t){C0.current===t&&(Fr(al),Fr(C0))}var qr=fd(0);function pb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var T5=[];function q4(){for(var t=0;t<T5.length;t++)T5[t]._workInProgressVersionPrimary=null;T5.length=0}var E1=Ic.ReactCurrentDispatcher,P5=Ic.ReactCurrentBatchConfig,Lf=0,Wr=null,zn=null,Zn=null,mb=!1,e0=!1,I0=0,rX=0;function Ni(){throw Error(tt(321))}function W4(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!go(t[r],e[r]))return!1;return!0}function H4(t,e,r,n,i,a){if(Lf=a,Wr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,E1.current=t===null||t.memoizedState===null?sX:oX,t=r(n,i),e0){a=0;do{if(e0=!1,I0=0,25<=a)throw Error(tt(301));a+=1,Zn=zn=null,e.updateQueue=null,E1.current=lX,t=r(n,i)}while(e0)}if(E1.current=gb,e=zn!==null&&zn.next!==null,Lf=0,Zn=zn=Wr=null,mb=!1,e)throw Error(tt(300));return t}function G4(){var t=I0!==0;return I0=0,t}function Wo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?Wr.memoizedState=Zn=t:Zn=Zn.next=t,Zn}function ks(){if(zn===null){var t=Wr.alternate;t=t!==null?t.memoizedState:null}else t=zn.next;var e=Zn===null?Wr.memoizedState:Zn.next;if(e!==null)Zn=e,zn=t;else{if(t===null)throw Error(tt(310));zn=t,t={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Zn===null?Wr.memoizedState=Zn=t:Zn=Zn.next=t}return Zn}function j0(t,e){return typeof e=="function"?e(t):e}function C5(t){var e=ks(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=zn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Lf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Wr.lanes|=u,Df|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,go(n,e.memoizedState)||(ga=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Wr.lanes|=a,Df|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function k5(t){var e=ks(),r=e.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);go(a,e.memoizedState)||(ga=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function PM(){}function CM(t,e){var r=Wr,n=ks(),i=e(),a=!go(n.memoizedState,i);if(a&&(n.memoizedState=i,ga=!0),n=n.queue,K4(jM.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Zn!==null&&Zn.memoizedState.tag&1){if(r.flags|=2048,O0(9,IM.bind(null,r,n,i,e),void 0,null),ti===null)throw Error(tt(349));Lf&30||kM(r,e,i)}return i}function kM(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Wr.updateQueue,e===null?(e={lastEffect:null,stores:null},Wr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function IM(t,e,r,n){e.value=r,e.getSnapshot=n,OM(e)&&RM(t)}function jM(t,e,r){return r(function(){OM(e)&&RM(t)})}function OM(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!go(t,r)}catch{return!0}}function RM(t){var e=yc(t,1);e!==null&&mo(e,t,1,-1)}function ik(t){var e=Wo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:t},e.queue=t,t=t.dispatch=aX.bind(null,Wr,t),[e.memoizedState,t]}function O0(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Wr.updateQueue,e===null?(e={lastEffect:null,stores:null},Wr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function LM(){return ks().memoizedState}function S1(t,e,r,n){var i=Wo();Wr.flags|=t,i.memoizedState=O0(1|e,r,void 0,n===void 0?null:n)}function Uw(t,e,r,n){var i=ks();n=n===void 0?null:n;var a=void 0;if(zn!==null){var s=zn.memoizedState;if(a=s.destroy,n!==null&&W4(n,s.deps)){i.memoizedState=O0(e,r,a,n);return}}Wr.flags|=t,i.memoizedState=O0(1|e,r,a,n)}function ak(t,e){return S1(8390656,8,t,e)}function K4(t,e){return Uw(2048,8,t,e)}function DM(t,e){return Uw(4,2,t,e)}function MM(t,e){return Uw(4,4,t,e)}function FM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BM(t,e,r){return r=r!=null?r.concat([t]):null,Uw(4,4,FM.bind(null,e,t),r)}function Y4(){}function $M(t,e){var r=ks();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&W4(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function UM(t,e){var r=ks();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&W4(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function VM(t,e,r){return Lf&21?(go(r,e)||(r=G7(),Wr.lanes|=r,Df|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ga=!0),t.memoizedState=r)}function nX(t,e){var r=gr;gr=r!==0&&4>r?r:4,t(!0);var n=P5.transition;P5.transition={};try{t(!1),e()}finally{gr=r,P5.transition=n}}function zM(){return ks().memoizedState}function iX(t,e,r){var n=qu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qM(t))WM(e,r);else if(r=AM(t,e,r,n),r!==null){var i=Zi();mo(r,t,n,i),HM(r,e,n)}}function aX(t,e,r){var n=qu(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qM(t))WM(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,go(o,s)){var l=e.interleaved;l===null?(i.next=i,$4(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=AM(t,e,i,n),r!==null&&(i=Zi(),mo(r,t,n,i),HM(r,e,n))}}function qM(t){var e=t.alternate;return t===Wr||e!==null&&e===Wr}function WM(t,e){e0=mb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function HM(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,N4(t,r)}}var gb={readContext:Cs,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useInsertionEffect:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useMutableSource:Ni,useSyncExternalStore:Ni,useId:Ni,unstable_isNewReconciler:!1},sX={readContext:Cs,useCallback:function(t,e){return Wo().memoizedState=[t,e===void 0?null:e],t},useContext:Cs,useEffect:ak,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,S1(4194308,4,FM.bind(null,e,t),r)},useLayoutEffect:function(t,e){return S1(4194308,4,t,e)},useInsertionEffect:function(t,e){return S1(4,2,t,e)},useMemo:function(t,e){var r=Wo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Wo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=iX.bind(null,Wr,t),[n.memoizedState,t]},useRef:function(t){var e=Wo();return t={current:t},e.memoizedState=t},useState:ik,useDebugValue:Y4,useDeferredValue:function(t){return Wo().memoizedState=t},useTransition:function(){var t=ik(!1),e=t[0];return t=nX.bind(null,t[1]),Wo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Wr,i=Wo();if($r){if(r===void 0)throw Error(tt(407));r=r()}else{if(r=e(),ti===null)throw Error(tt(349));Lf&30||kM(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,ak(jM.bind(null,n,a,t),[t]),n.flags|=2048,O0(9,IM.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Wo(),e=ti.identifierPrefix;if($r){var r=tc,n=ec;r=(n&~(1<<32-po(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=I0++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=rX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oX={readContext:Cs,useCallback:$M,useContext:Cs,useEffect:K4,useImperativeHandle:BM,useInsertionEffect:DM,useLayoutEffect:MM,useMemo:UM,useReducer:C5,useRef:LM,useState:function(){return C5(j0)},useDebugValue:Y4,useDeferredValue:function(t){var e=ks();return VM(e,zn.memoizedState,t)},useTransition:function(){var t=C5(j0)[0],e=ks().memoizedState;return[t,e]},useMutableSource:PM,useSyncExternalStore:CM,useId:zM,unstable_isNewReconciler:!1},lX={readContext:Cs,useCallback:$M,useContext:Cs,useEffect:K4,useImperativeHandle:BM,useInsertionEffect:DM,useLayoutEffect:MM,useMemo:UM,useReducer:k5,useRef:LM,useState:function(){return k5(j0)},useDebugValue:Y4,useDeferredValue:function(t){var e=ks();return zn===null?e.memoizedState=t:VM(e,zn.memoizedState,t)},useTransition:function(){var t=k5(j0)[0],e=ks().memoizedState;return[t,e]},useMutableSource:PM,useSyncExternalStore:CM,useId:zM,unstable_isNewReconciler:!1};function to(t,e){if(t&&t.defaultProps){e=Gr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ZS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Gr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vw={isMounted:function(t){return(t=t._reactInternals)?Jf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Zi(),i=qu(t),a=lc(n,i);a.payload=e,r!=null&&(a.callback=r),e=Vu(t,a,i),e!==null&&(mo(e,t,i,n),_1(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Zi(),i=qu(t),a=lc(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Vu(t,a,i),e!==null&&(mo(e,t,i,n),_1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Zi(),n=qu(t),i=lc(r,n);i.tag=2,e!=null&&(i.callback=e),e=Vu(t,i,n),e!==null&&(mo(e,t,n,r),_1(e,t,n))}};function sk(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!A0(r,n)||!A0(i,a):!0}function GM(t,e,r){var n=!1,i=Zu,a=e.contextType;return typeof a=="object"&&a!==null?a=Cs(a):(i=ba(e)?Of:Ui.current,n=e.contextTypes,a=(n=n!=null)?$p(t,i):Zu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function ok(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Vw.enqueueReplaceState(e,e.state,null)}function eA(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},U4(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Cs(a):(a=ba(e)?Of:Ui.current,i.context=$p(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ZS(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vw.enqueueReplaceState(i,i.state,null),hb(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qp(t,e){try{var r="",n=e;do r+=DK(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function I5(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function tA(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var cX=typeof WeakMap=="function"?WeakMap:Map;function KM(t,e,r){r=lc(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){vb||(vb=!0,dA=n),tA(t,e)},r}function YM(t,e,r){r=lc(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){tA(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){tA(t,e),typeof n!="function"&&(zu===null?zu=new Set([this]):zu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function lk(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new cX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=EX.bind(null,t,e,r),e.then(t,t))}function ck(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uk(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=lc(-1,1),e.tag=2,Vu(r,e,1))),r.lanes|=1),t)}var uX=Ic.ReactCurrentOwner,ga=!1;function Yi(t,e,r,n){e.child=t===null?SM(e,null,r,n):Vp(e,t.child,r,n)}function dk(t,e,r,n,i){r=r.render;var a=e.ref;return xp(e,i),n=H4(t,e,r,n,a,i),r=G4(),t!==null&&!ga?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vc(t,e,i)):($r&&r&&R4(e),e.flags|=1,Yi(t,e,n,i),e.child)}function fk(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!n3(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,XM(t,e,a,n,i)):(t=P1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:A0,r(s,n)&&t.ref===e.ref)return vc(t,e,i)}return e.flags|=1,t=Wu(a,n),t.ref=e.ref,t.return=e,e.child=t}function XM(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(A0(a,n)&&t.ref===e.ref)if(ga=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(ga=!0);else return e.lanes=t.lanes,vc(t,e,i)}return rA(t,e,r,n,i)}function JM(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jr(dp,$a),$a|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jr(dp,$a),$a|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,jr(dp,$a),$a|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,jr(dp,$a),$a|=n;return Yi(t,e,i,r),e.child}function QM(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function rA(t,e,r,n,i){var a=ba(r)?Of:Ui.current;return a=$p(e,a),xp(e,i),r=H4(t,e,r,n,a,i),n=G4(),t!==null&&!ga?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vc(t,e,i)):($r&&n&&R4(e),e.flags|=1,Yi(t,e,r,i),e.child)}function hk(t,e,r,n,i){if(ba(r)){var a=!0;lb(e)}else a=!1;if(xp(e,i),e.stateNode===null)A1(t,e),GM(e,r,n),eA(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Cs(c):(c=ba(r)?Of:Ui.current,c=$p(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&ok(e,s,n,c),Su=!1;var p=e.memoizedState;s.state=p,hb(e,n,s,i),l=e.memoizedState,o!==n||p!==l||va.current||Su?(typeof u=="function"&&(ZS(e,r,u,n),l=e.memoizedState),(o=Su||sk(e,r,o,n,p,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,NM(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:to(e.type,o),s.props=c,f=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Cs(l):(l=ba(r)?Of:Ui.current,l=$p(e,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&ok(e,s,n,l),Su=!1,p=e.memoizedState,s.state=p,hb(e,n,s,i);var y=e.memoizedState;o!==f||p!==y||va.current||Su?(typeof h=="function"&&(ZS(e,r,h,n),y=e.memoizedState),(c=Su||sk(e,r,c,n,p,y,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),s.props=n,s.state=y,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return nA(t,e,r,n,a,i)}function nA(t,e,r,n,i,a){QM(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&QC(e,r,!1),vc(t,e,a);n=e.stateNode,uX.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Vp(e,t.child,null,a),e.child=Vp(e,null,o,a)):Yi(t,e,o,a),e.memoizedState=n.state,i&&QC(e,r,!0),e.child}function ZM(t){var e=t.stateNode;e.pendingContext?JC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&JC(t,e.context,!1),V4(t,e.containerInfo)}function pk(t,e,r,n,i){return Up(),D4(i),e.flags|=256,Yi(t,e,r,n),e.child}var iA={dehydrated:null,treeContext:null,retryLane:0};function aA(t){return{baseLanes:t,cachePool:null,transitions:null}}function eF(t,e,r){var n=e.pendingProps,i=qr.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),jr(qr,i&1),t===null)return JS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Ww(s,n,0,null),t=Ef(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=aA(r),e.memoizedState=iA,t):X4(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return dX(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Wu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Wu(o,a):(a=Ef(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?aA(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=iA,n}return a=t.child,t=a.sibling,n=Wu(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function X4(t,e){return e=Ww({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kv(t,e,r,n){return n!==null&&D4(n),Vp(e,t.child,null,r),t=X4(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dX(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=I5(Error(tt(422))),kv(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Ww({mode:"visible",children:n.children},i,0,null),a=Ef(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Vp(e,t.child,null,s),e.child.memoizedState=aA(s),e.memoizedState=iA,a);if(!(e.mode&1))return kv(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(tt(419)),n=I5(a,n,void 0),kv(t,e,s,n)}if(o=(s&t.childLanes)!==0,ga||o){if(n=ti,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,yc(t,i),mo(n,t,i,-1))}return r3(),n=I5(Error(tt(421))),kv(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SX.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Wa=Uu(i.nextSibling),Ka=e,$r=!0,io=null,t!==null&&(vs[bs++]=ec,vs[bs++]=tc,vs[bs++]=Rf,ec=t.id,tc=t.overflow,Rf=e),e=X4(e,n.children),e.flags|=4096,e)}function mk(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),QS(t.return,e,r)}function j5(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function tF(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Yi(t,e,n.children,r),n=qr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mk(t,r,e);else if(t.tag===19)mk(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(jr(qr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&pb(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),j5(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pb(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}j5(e,!0,r,null,a);break;case"together":j5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function A1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Df|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(tt(153));if(e.child!==null){for(t=e.child,r=Wu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function fX(t,e,r){switch(e.tag){case 3:ZM(e),Up();break;case 5:TM(e);break;case 1:ba(e.type)&&lb(e);break;case 4:V4(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;jr(db,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(jr(qr,qr.current&1),e.flags|=128,null):r&e.child.childLanes?eF(t,e,r):(jr(qr,qr.current&1),t=vc(t,e,r),t!==null?t.sibling:null);jr(qr,qr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return tF(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jr(qr,qr.current),n)break;return null;case 22:case 23:return e.lanes=0,JM(t,e,r)}return vc(t,e,r)}var rF,sA,nF,iF;rF=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sA=function(){};nF=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,df(al.current);var a=null;switch(r){case"input":i=PS(t,i),n=PS(t,n),a=[];break;case"select":i=Gr({},i,{value:void 0}),n=Gr({},n,{value:void 0}),a=[];break;case"textarea":i=IS(t,i),n=IS(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=sb)}OS(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(v0.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(v0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Lr("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};iF=function(t,e,r,n){r!==n&&(e.flags|=4)};function mg(t,e){if(!$r)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ti(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function hX(t,e,r){var n=e.pendingProps;switch(L4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(e),null;case 1:return ba(e.type)&&ob(),Ti(e),null;case 3:return n=e.stateNode,zp(),Fr(va),Fr(Ui),q4(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Pv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,io!==null&&(pA(io),io=null))),sA(t,e),Ti(e),null;case 5:z4(e);var i=df(k0.current);if(r=e.type,t!==null&&e.stateNode!=null)nF(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(tt(166));return Ti(e),null}if(t=df(al.current),Pv(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Jo]=e,n[P0]=a,t=(e.mode&1)!==0,r){case"dialog":Lr("cancel",n),Lr("close",n);break;case"iframe":case"object":case"embed":Lr("load",n);break;case"video":case"audio":for(i=0;i<Bg.length;i++)Lr(Bg[i],n);break;case"source":Lr("error",n);break;case"img":case"image":case"link":Lr("error",n),Lr("load",n);break;case"details":Lr("toggle",n);break;case"input":SC(n,a),Lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Lr("invalid",n);break;case"textarea":NC(n,a),Lr("invalid",n)}OS(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Tv(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Tv(n.textContent,o,t),i=["children",""+o]):v0.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Lr("scroll",n)}switch(r){case"input":bv(n),AC(n,a,!0);break;case"textarea":bv(n),TC(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=sb)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=j7(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Jo]=e,t[P0]=n,rF(t,e,!1,!1),e.stateNode=t;e:{switch(s=RS(r,n),r){case"dialog":Lr("cancel",t),Lr("close",t),i=n;break;case"iframe":case"object":case"embed":Lr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Bg.length;i++)Lr(Bg[i],t);i=n;break;case"source":Lr("error",t),i=n;break;case"img":case"image":case"link":Lr("error",t),Lr("load",t),i=n;break;case"details":Lr("toggle",t),i=n;break;case"input":SC(t,n),i=PS(t,n),Lr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Gr({},n,{value:void 0}),Lr("invalid",t);break;case"textarea":NC(t,n),i=IS(t,n),Lr("invalid",t);break;default:i=n}OS(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?L7(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&O7(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&b0(t,l):typeof l=="number"&&b0(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(v0.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Lr("scroll",t):l!=null&&w4(t,a,l,s))}switch(r){case"input":bv(t),AC(t,n,!1);break;case"textarea":bv(t),TC(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?yp(t,!!n.multiple,a,!1):n.defaultValue!=null&&yp(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ti(e),null;case 6:if(t&&e.stateNode!=null)iF(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(tt(166));if(r=df(k0.current),df(al.current),Pv(e)){if(n=e.stateNode,r=e.memoizedProps,n[Jo]=e,(a=n.nodeValue!==r)&&(t=Ka,t!==null))switch(t.tag){case 3:Tv(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tv(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jo]=e,e.stateNode=n}return Ti(e),null;case 13:if(Fr(qr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($r&&Wa!==null&&e.mode&1&&!(e.flags&128))_M(),Up(),e.flags|=98560,a=!1;else if(a=Pv(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(tt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(tt(317));a[Jo]=e}else Up(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ti(e),a=!1}else io!==null&&(pA(io),io=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||qr.current&1?qn===0&&(qn=3):r3())),e.updateQueue!==null&&(e.flags|=4),Ti(e),null);case 4:return zp(),sA(t,e),t===null&&N0(e.stateNode.containerInfo),Ti(e),null;case 10:return B4(e.type._context),Ti(e),null;case 17:return ba(e.type)&&ob(),Ti(e),null;case 19:if(Fr(qr),a=e.memoizedState,a===null)return Ti(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)mg(a,!1);else{if(qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=pb(t),s!==null){for(e.flags|=128,mg(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return jr(qr,qr.current&1|2),e.child}t=t.sibling}a.tail!==null&&dn()>Wp&&(e.flags|=128,n=!0,mg(a,!1),e.lanes=4194304)}else{if(!n)if(t=pb(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),mg(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!$r)return Ti(e),null}else 2*dn()-a.renderingStartTime>Wp&&r!==1073741824&&(e.flags|=128,n=!0,mg(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=dn(),e.sibling=null,r=qr.current,jr(qr,n?r&1|2:r&1),e):(Ti(e),null);case 22:case 23:return t3(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$a&1073741824&&(Ti(e),e.subtreeFlags&6&&(e.flags|=8192)):Ti(e),null;case 24:return null;case 25:return null}throw Error(tt(156,e.tag))}function pX(t,e){switch(L4(e),e.tag){case 1:return ba(e.type)&&ob(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zp(),Fr(va),Fr(Ui),q4(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z4(e),null;case 13:if(Fr(qr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(tt(340));Up()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fr(qr),null;case 4:return zp(),null;case 10:return B4(e.type._context),null;case 22:case 23:return t3(),null;case 24:return null;default:return null}}var Iv=!1,Di=!1,mX=typeof WeakSet=="function"?WeakSet:Set,ft=null;function up(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){rn(t,e,n)}else r.current=null}function oA(t,e,r){try{r()}catch(n){rn(t,e,n)}}var gk=!1;function gX(t,e){if(qS=nb,t=cM(),O4(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(WS={focusedElem:t,selectionRange:r},nb=!1,ft=e;ft!==null;)if(e=ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ft=t;else for(;ft!==null;){e=ft;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:to(e.type,g),b);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(E){rn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ft=t;break}ft=e.return}return y=gk,gk=!1,y}function t0(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&oA(e,r,a)}i=i.next}while(i!==n)}}function zw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function lA(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function aF(t){var e=t.alternate;e!==null&&(t.alternate=null,aF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jo],delete e[P0],delete e[KS],delete e[QY],delete e[ZY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sF(t){return t.tag===5||t.tag===3||t.tag===4}function yk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cA(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=sb));else if(n!==4&&(t=t.child,t!==null))for(cA(t,e,r),t=t.sibling;t!==null;)cA(t,e,r),t=t.sibling}function uA(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(uA(t,e,r),t=t.sibling;t!==null;)uA(t,e,r),t=t.sibling}var di=null,no=!1;function pu(t,e,r){for(r=r.child;r!==null;)oF(t,e,r),r=r.sibling}function oF(t,e,r){if(il&&typeof il.onCommitFiberUnmount=="function")try{il.onCommitFiberUnmount(Lw,r)}catch{}switch(r.tag){case 5:Di||up(r,e);case 6:var n=di,i=no;di=null,pu(t,e,r),di=n,no=i,di!==null&&(no?(t=di,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):di.removeChild(r.stateNode));break;case 18:di!==null&&(no?(t=di,r=r.stateNode,t.nodeType===8?A5(t.parentNode,r):t.nodeType===1&&A5(t,r),E0(t)):A5(di,r.stateNode));break;case 4:n=di,i=no,di=r.stateNode.containerInfo,no=!0,pu(t,e,r),di=n,no=i;break;case 0:case 11:case 14:case 15:if(!Di&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&oA(r,e,s),i=i.next}while(i!==n)}pu(t,e,r);break;case 1:if(!Di&&(up(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){rn(r,e,o)}pu(t,e,r);break;case 21:pu(t,e,r);break;case 22:r.mode&1?(Di=(n=Di)||r.memoizedState!==null,pu(t,e,r),Di=n):pu(t,e,r);break;default:pu(t,e,r)}}function vk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new mX),e.forEach(function(n){var i=AX.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Js(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:di=o.stateNode,no=!1;break e;case 3:di=o.stateNode.containerInfo,no=!0;break e;case 4:di=o.stateNode.containerInfo,no=!0;break e}o=o.return}if(di===null)throw Error(tt(160));oF(a,s,i),di=null,no=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lF(e,t),e=e.sibling}function lF(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Js(e,t),Vo(t),n&4){try{t0(3,t,t.return),zw(3,t)}catch(g){rn(t,t.return,g)}try{t0(5,t,t.return)}catch(g){rn(t,t.return,g)}}break;case 1:Js(e,t),Vo(t),n&512&&r!==null&&up(r,r.return);break;case 5:if(Js(e,t),Vo(t),n&512&&r!==null&&up(r,r.return),t.flags&32){var i=t.stateNode;try{b0(i,"")}catch(g){rn(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&k7(i,a),RS(o,s);var c=RS(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?L7(i,f):u==="dangerouslySetInnerHTML"?O7(i,f):u==="children"?b0(i,f):w4(i,u,f,c)}switch(o){case"input":CS(i,a);break;case"textarea":I7(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?yp(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?yp(i,!!a.multiple,a.defaultValue,!0):yp(i,!!a.multiple,a.multiple?[]:"",!1))}i[P0]=a}catch(g){rn(t,t.return,g)}}break;case 6:if(Js(e,t),Vo(t),n&4){if(t.stateNode===null)throw Error(tt(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){rn(t,t.return,g)}}break;case 3:if(Js(e,t),Vo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{E0(e.containerInfo)}catch(g){rn(t,t.return,g)}break;case 4:Js(e,t),Vo(t);break;case 13:Js(e,t),Vo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Z4=dn())),n&4&&vk(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Di=(c=Di)||u,Js(e,t),Di=c):Js(e,t),Vo(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ft=t,u=t.child;u!==null;){for(f=ft=u;ft!==null;){switch(p=ft,h=p.child,p.tag){case 0:case 11:case 14:case 15:t0(4,p,p.return);break;case 1:up(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){rn(n,r,g)}}break;case 5:up(p,p.return);break;case 22:if(p.memoizedState!==null){wk(f);continue}}h!==null?(h.return=p,ft=h):wk(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=R7("display",s))}catch(g){rn(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){rn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Js(e,t),Vo(t),n&4&&vk(t);break;case 21:break;default:Js(e,t),Vo(t)}}function Vo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(sF(r)){var n=r;break e}r=r.return}throw Error(tt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(b0(i,""),n.flags&=-33);var a=yk(t);uA(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=yk(t);cA(t,o,s);break;default:throw Error(tt(161))}}catch(l){rn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yX(t,e,r){ft=t,cF(t)}function cF(t,e,r){for(var n=(t.mode&1)!==0;ft!==null;){var i=ft,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Iv;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Di;o=Iv;var c=Di;if(Iv=s,(Di=l)&&!c)for(ft=i;ft!==null;)s=ft,l=s.child,s.tag===22&&s.memoizedState!==null?xk(i):l!==null?(l.return=s,ft=l):xk(i);for(;a!==null;)ft=a,cF(a),a=a.sibling;ft=i,Iv=o,Di=c}bk(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ft=a):bk(t)}}function bk(t){for(;ft!==null;){var e=ft;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Di||zw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Di)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:to(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&nk(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}nk(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&E0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}Di||e.flags&512&&lA(e)}catch(p){rn(e,e.return,p)}}if(e===t){ft=null;break}if(r=e.sibling,r!==null){r.return=e.return,ft=r;break}ft=e.return}}function wk(t){for(;ft!==null;){var e=ft;if(e===t){ft=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ft=r;break}ft=e.return}}function xk(t){for(;ft!==null;){var e=ft;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{zw(4,e)}catch(l){rn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){rn(e,i,l)}}var a=e.return;try{lA(e)}catch(l){rn(e,a,l)}break;case 5:var s=e.return;try{lA(e)}catch(l){rn(e,s,l)}}}catch(l){rn(e,e.return,l)}if(e===t){ft=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ft=o;break}ft=e.return}}var vX=Math.ceil,yb=Ic.ReactCurrentDispatcher,J4=Ic.ReactCurrentOwner,As=Ic.ReactCurrentBatchConfig,Qt=0,ti=null,jn=null,vi=0,$a=0,dp=fd(0),qn=0,R0=null,Df=0,qw=0,Q4=0,r0=null,pa=null,Z4=0,Wp=1/0,Yl=null,vb=!1,dA=null,zu=null,jv=!1,Lu=null,bb=0,n0=0,fA=null,N1=-1,T1=0;function Zi(){return Qt&6?dn():N1!==-1?N1:N1=dn()}function qu(t){return t.mode&1?Qt&2&&vi!==0?vi&-vi:tX.transition!==null?(T1===0&&(T1=G7()),T1):(t=gr,t!==0||(t=window.event,t=t===void 0?16:eM(t.type)),t):1}function mo(t,e,r,n){if(50<n0)throw n0=0,fA=null,Error(tt(185));oy(t,r,n),(!(Qt&2)||t!==ti)&&(t===ti&&(!(Qt&2)&&(qw|=r),qn===4&&Tu(t,vi)),wa(t,n),r===1&&Qt===0&&!(e.mode&1)&&(Wp=dn()+500,$w&&hd()))}function wa(t,e){var r=t.callbackNode;tY(t,e);var n=rb(t,t===ti?vi:0);if(n===0)r!==null&&kC(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&kC(r),e===1)t.tag===0?eX(_k.bind(null,t)):bM(_k.bind(null,t)),XY(function(){!(Qt&6)&&hd()}),r=null;else{switch(K7(n)){case 1:r=A4;break;case 4:r=W7;break;case 16:r=tb;break;case 536870912:r=H7;break;default:r=tb}r=yF(r,uF.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function uF(t,e){if(N1=-1,T1=0,Qt&6)throw Error(tt(327));var r=t.callbackNode;if(_p()&&t.callbackNode!==r)return null;var n=rb(t,t===ti?vi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=wb(t,n);else{e=n;var i=Qt;Qt|=2;var a=fF();(ti!==t||vi!==e)&&(Yl=null,Wp=dn()+500,_f(t,e));do try{xX();break}catch(o){dF(t,o)}while(!0);F4(),yb.current=a,Qt=i,jn!==null?e=0:(ti=null,vi=0,e=qn)}if(e!==0){if(e===2&&(i=BS(t),i!==0&&(n=i,e=hA(t,i))),e===1)throw r=R0,_f(t,0),Tu(t,n),wa(t,dn()),r;if(e===6)Tu(t,n);else{if(i=t.current.alternate,!(n&30)&&!bX(i)&&(e=wb(t,n),e===2&&(a=BS(t),a!==0&&(n=a,e=hA(t,a))),e===1))throw r=R0,_f(t,0),Tu(t,n),wa(t,dn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(tt(345));case 2:Zd(t,pa,Yl);break;case 3:if(Tu(t,n),(n&130023424)===n&&(e=Z4+500-dn(),10<e)){if(rb(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Zi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=GS(Zd.bind(null,t,pa,Yl),e);break}Zd(t,pa,Yl);break;case 4:if(Tu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-po(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=dn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vX(n/1960))-n,10<n){t.timeoutHandle=GS(Zd.bind(null,t,pa,Yl),n);break}Zd(t,pa,Yl);break;case 5:Zd(t,pa,Yl);break;default:throw Error(tt(329))}}}return wa(t,dn()),t.callbackNode===r?uF.bind(null,t):null}function hA(t,e){var r=r0;return t.current.memoizedState.isDehydrated&&(_f(t,e).flags|=256),t=wb(t,e),t!==2&&(e=pa,pa=r,e!==null&&pA(e)),t}function pA(t){pa===null?pa=t:pa.push.apply(pa,t)}function bX(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!go(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tu(t,e){for(e&=~Q4,e&=~qw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-po(e),n=1<<r;t[r]=-1,e&=~n}}function _k(t){if(Qt&6)throw Error(tt(327));_p();var e=rb(t,0);if(!(e&1))return wa(t,dn()),null;var r=wb(t,e);if(t.tag!==0&&r===2){var n=BS(t);n!==0&&(e=n,r=hA(t,n))}if(r===1)throw r=R0,_f(t,0),Tu(t,e),wa(t,dn()),r;if(r===6)throw Error(tt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zd(t,pa,Yl),wa(t,dn()),null}function e3(t,e){var r=Qt;Qt|=1;try{return t(e)}finally{Qt=r,Qt===0&&(Wp=dn()+500,$w&&hd())}}function Mf(t){Lu!==null&&Lu.tag===0&&!(Qt&6)&&_p();var e=Qt;Qt|=1;var r=As.transition,n=gr;try{if(As.transition=null,gr=1,t)return t()}finally{gr=n,As.transition=r,Qt=e,!(Qt&6)&&hd()}}function t3(){$a=dp.current,Fr(dp)}function _f(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,YY(r)),jn!==null)for(r=jn.return;r!==null;){var n=r;switch(L4(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ob();break;case 3:zp(),Fr(va),Fr(Ui),q4();break;case 5:z4(n);break;case 4:zp();break;case 13:Fr(qr);break;case 19:Fr(qr);break;case 10:B4(n.type._context);break;case 22:case 23:t3()}r=r.return}if(ti=t,jn=t=Wu(t.current,null),vi=$a=e,qn=0,R0=null,Q4=qw=Df=0,pa=r0=null,uf!==null){for(e=0;e<uf.length;e++)if(r=uf[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}uf=null}return t}function dF(t,e){do{var r=jn;try{if(F4(),E1.current=gb,mb){for(var n=Wr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mb=!1}if(Lf=0,Zn=zn=Wr=null,e0=!1,I0=0,J4.current=null,r===null||r.return===null){qn=1,R0=e,jn=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=vi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=ck(s);if(h!==null){h.flags&=-257,uk(h,s,o,a,e),h.mode&1&&lk(a,c,e),e=h,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){lk(a,c,e),r3();break e}l=Error(tt(426))}}else if($r&&o.mode&1){var b=ck(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),uk(b,s,o,a,e),D4(qp(l,o));break e}}a=l=qp(l,o),qn!==4&&(qn=2),r0===null?r0=[a]:r0.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var m=KM(a,l,e);rk(a,m);break e;case 1:o=l;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zu===null||!zu.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=YM(a,o,e);rk(a,E);break e}}a=a.return}while(a!==null)}pF(r)}catch(P){e=P,jn===r&&r!==null&&(jn=r=r.return);continue}break}while(!0)}function fF(){var t=yb.current;return yb.current=gb,t===null?gb:t}function r3(){(qn===0||qn===3||qn===2)&&(qn=4),ti===null||!(Df&268435455)&&!(qw&268435455)||Tu(ti,vi)}function wb(t,e){var r=Qt;Qt|=2;var n=fF();(ti!==t||vi!==e)&&(Yl=null,_f(t,e));do try{wX();break}catch(i){dF(t,i)}while(!0);if(F4(),Qt=r,yb.current=n,jn!==null)throw Error(tt(261));return ti=null,vi=0,qn}function wX(){for(;jn!==null;)hF(jn)}function xX(){for(;jn!==null&&!HK();)hF(jn)}function hF(t){var e=gF(t.alternate,t,$a);t.memoizedProps=t.pendingProps,e===null?pF(t):jn=e,J4.current=null}function pF(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=pX(r,e),r!==null){r.flags&=32767,jn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qn=6,jn=null;return}}else if(r=hX(r,e,$a),r!==null){jn=r;return}if(e=e.sibling,e!==null){jn=e;return}jn=e=t}while(e!==null);qn===0&&(qn=5)}function Zd(t,e,r){var n=gr,i=As.transition;try{As.transition=null,gr=1,_X(t,e,r,n)}finally{As.transition=i,gr=n}return null}function _X(t,e,r,n){do _p();while(Lu!==null);if(Qt&6)throw Error(tt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(tt(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(rY(t,a),t===ti&&(jn=ti=null,vi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jv||(jv=!0,yF(tb,function(){return _p(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=As.transition,As.transition=null;var s=gr;gr=1;var o=Qt;Qt|=4,J4.current=null,gX(t,r),lF(r,t),VY(WS),nb=!!qS,WS=qS=null,t.current=r,yX(r),GK(),Qt=o,gr=s,As.transition=a}else t.current=r;if(jv&&(jv=!1,Lu=t,bb=i),a=t.pendingLanes,a===0&&(zu=null),XK(r.stateNode),wa(t,dn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(vb)throw vb=!1,t=dA,dA=null,t;return bb&1&&t.tag!==0&&_p(),a=t.pendingLanes,a&1?t===fA?n0++:(n0=0,fA=t):n0=0,hd(),null}function _p(){if(Lu!==null){var t=K7(bb),e=As.transition,r=gr;try{if(As.transition=null,gr=16>t?16:t,Lu===null)var n=!1;else{if(t=Lu,Lu=null,bb=0,Qt&6)throw Error(tt(331));var i=Qt;for(Qt|=4,ft=t.current;ft!==null;){var a=ft,s=a.child;if(ft.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ft=c;ft!==null;){var u=ft;switch(u.tag){case 0:case 11:case 15:t0(8,u,a)}var f=u.child;if(f!==null)f.return=u,ft=f;else for(;ft!==null;){u=ft;var p=u.sibling,h=u.return;if(aF(u),u===c){ft=null;break}if(p!==null){p.return=h,ft=p;break}ft=h}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}ft=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ft=s;else e:for(;ft!==null;){if(a=ft,a.flags&2048)switch(a.tag){case 0:case 11:case 15:t0(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,ft=m;break e}ft=a.return}}var v=t.current;for(ft=v;ft!==null;){s=ft;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ft=w;else e:for(s=v;ft!==null;){if(o=ft,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:zw(9,o)}}catch(P){rn(o,o.return,P)}if(o===s){ft=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,ft=E;break e}ft=o.return}}if(Qt=i,hd(),il&&typeof il.onPostCommitFiberRoot=="function")try{il.onPostCommitFiberRoot(Lw,t)}catch{}n=!0}return n}finally{gr=r,As.transition=e}}return!1}function Ek(t,e,r){e=qp(r,e),e=KM(t,e,1),t=Vu(t,e,1),e=Zi(),t!==null&&(oy(t,1,e),wa(t,e))}function rn(t,e,r){if(t.tag===3)Ek(t,t,r);else for(;e!==null;){if(e.tag===3){Ek(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zu===null||!zu.has(n))){t=qp(r,t),t=YM(e,t,1),e=Vu(e,t,1),t=Zi(),e!==null&&(oy(e,1,t),wa(e,t));break}}e=e.return}}function EX(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Zi(),t.pingedLanes|=t.suspendedLanes&r,ti===t&&(vi&r)===r&&(qn===4||qn===3&&(vi&130023424)===vi&&500>dn()-Z4?_f(t,0):Q4|=r),wa(t,e)}function mF(t,e){e===0&&(t.mode&1?(e=_v,_v<<=1,!(_v&130023424)&&(_v=4194304)):e=1);var r=Zi();t=yc(t,e),t!==null&&(oy(t,e,r),wa(t,r))}function SX(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),mF(t,r)}function AX(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(tt(314))}n!==null&&n.delete(e),mF(t,r)}var gF;gF=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||va.current)ga=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ga=!1,fX(t,e,r);ga=!!(t.flags&131072)}else ga=!1,$r&&e.flags&1048576&&wM(e,ub,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;A1(t,e),t=e.pendingProps;var i=$p(e,Ui.current);xp(e,r),i=H4(null,e,n,t,i,r);var a=G4();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ba(n)?(a=!0,lb(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,U4(e),i.updater=Vw,e.stateNode=i,i._reactInternals=e,eA(e,n,t,r),e=nA(null,e,n,!0,a,r)):(e.tag=0,$r&&a&&R4(e),Yi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(A1(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=TX(n),t=to(n,t),i){case 0:e=rA(null,e,n,t,r);break e;case 1:e=hk(null,e,n,t,r);break e;case 11:e=dk(null,e,n,t,r);break e;case 14:e=fk(null,e,n,to(n.type,t),r);break e}throw Error(tt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:to(n,i),rA(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:to(n,i),hk(t,e,n,i,r);case 3:e:{if(ZM(e),t===null)throw Error(tt(387));n=e.pendingProps,a=e.memoizedState,i=a.element,NM(t,e),hb(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=qp(Error(tt(423)),e),e=pk(t,e,n,r,i);break e}else if(n!==i){i=qp(Error(tt(424)),e),e=pk(t,e,n,r,i);break e}else for(Wa=Uu(e.stateNode.containerInfo.firstChild),Ka=e,$r=!0,io=null,r=SM(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Up(),n===i){e=vc(t,e,r);break e}Yi(t,e,n,r)}e=e.child}return e;case 5:return TM(e),t===null&&JS(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,HS(n,i)?s=null:a!==null&&HS(n,a)&&(e.flags|=32),QM(t,e),Yi(t,e,s,r),e.child;case 6:return t===null&&JS(e),null;case 13:return eF(t,e,r);case 4:return V4(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Vp(e,null,n,r):Yi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:to(n,i),dk(t,e,n,i,r);case 7:return Yi(t,e,e.pendingProps,r),e.child;case 8:return Yi(t,e,e.pendingProps.children,r),e.child;case 12:return Yi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,jr(db,n._currentValue),n._currentValue=s,a!==null)if(go(a.value,s)){if(a.children===i.children&&!va.current){e=vc(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=lc(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),QS(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(tt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),QS(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Yi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,xp(e,r),i=Cs(i),n=n(i),e.flags|=1,Yi(t,e,n,r),e.child;case 14:return n=e.type,i=to(n,e.pendingProps),i=to(n.type,i),fk(t,e,n,i,r);case 15:return XM(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:to(n,i),A1(t,e),e.tag=1,ba(n)?(t=!0,lb(e)):t=!1,xp(e,r),GM(e,n,i),eA(e,n,i,r),nA(null,e,n,!0,t,r);case 19:return tF(t,e,r);case 22:return JM(t,e,r)}throw Error(tt(156,e.tag))};function yF(t,e){return q7(t,e)}function NX(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(t,e,r,n){return new NX(t,e,r,n)}function n3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TX(t){if(typeof t=="function")return n3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_4)return 11;if(t===E4)return 14}return 2}function Wu(t,e){var r=t.alternate;return r===null?(r=Es(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function P1(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")n3(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case tp:return Ef(r.children,i,a,e);case x4:s=8,i|=8;break;case SS:return t=Es(12,r,e,i|2),t.elementType=SS,t.lanes=a,t;case AS:return t=Es(13,r,e,i),t.elementType=AS,t.lanes=a,t;case NS:return t=Es(19,r,e,i),t.elementType=NS,t.lanes=a,t;case T7:return Ww(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A7:s=10;break e;case N7:s=9;break e;case _4:s=11;break e;case E4:s=14;break e;case Eu:s=16,n=null;break e}throw Error(tt(130,t==null?t:typeof t,""))}return e=Es(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ef(t,e,r,n){return t=Es(7,t,n,e),t.lanes=r,t}function Ww(t,e,r,n){return t=Es(22,t,n,e),t.elementType=T7,t.lanes=r,t.stateNode={isHidden:!1},t}function O5(t,e,r){return t=Es(6,t,null,e),t.lanes=r,t}function R5(t,e,r){return e=Es(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PX(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p5(0),this.expirationTimes=p5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p5(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function i3(t,e,r,n,i,a,s,o,l){return t=new PX(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Es(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},U4(a),t}function CX(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ep,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function vF(t){if(!t)return Zu;t=t._reactInternals;e:{if(Jf(t)!==t||t.tag!==1)throw Error(tt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ba(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(tt(171))}if(t.tag===1){var r=t.type;if(ba(r))return vM(t,r,e)}return e}function bF(t,e,r,n,i,a,s,o,l){return t=i3(r,n,!0,t,i,a,s,o,l),t.context=vF(null),r=t.current,n=Zi(),i=qu(r),a=lc(n,i),a.callback=e??null,Vu(r,a,i),t.current.lanes=i,oy(t,i,n),wa(t,n),t}function Hw(t,e,r,n){var i=e.current,a=Zi(),s=qu(i);return r=vF(r),e.context===null?e.context=r:e.pendingContext=r,e=lc(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Vu(i,e,s),t!==null&&(mo(t,i,s,a),_1(t,i,s)),s}function xb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function a3(t,e){Sk(t,e),(t=t.alternate)&&Sk(t,e)}function kX(){return null}var wF=typeof reportError=="function"?reportError:function(t){console.error(t)};function s3(t){this._internalRoot=t}Gw.prototype.render=s3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(tt(409));Hw(t,e,null,null)};Gw.prototype.unmount=s3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mf(function(){Hw(null,t,null,null)}),e[gc]=null}};function Gw(t){this._internalRoot=t}Gw.prototype.unstable_scheduleHydration=function(t){if(t){var e=J7();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Nu.length&&e!==0&&e<Nu[r].priority;r++);Nu.splice(r,0,t),r===0&&Z7(t)}};function o3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ak(){}function IX(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=xb(s);a.call(c)}}var s=bF(e,n,t,0,null,!1,!1,"",Ak);return t._reactRootContainer=s,t[gc]=s.current,N0(t.nodeType===8?t.parentNode:t),Mf(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=xb(l);o.call(c)}}var l=i3(t,0,!1,null,null,!1,!1,"",Ak);return t._reactRootContainer=l,t[gc]=l.current,N0(t.nodeType===8?t.parentNode:t),Mf(function(){Hw(e,l,r,n)}),l}function Yw(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=xb(s);o.call(l)}}Hw(e,s,t,i)}else s=IX(r,e,t,i,n);return xb(s)}Y7=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Fg(e.pendingLanes);r!==0&&(N4(e,r|1),wa(e,dn()),!(Qt&6)&&(Wp=dn()+500,hd()))}break;case 13:Mf(function(){var n=yc(t,1);if(n!==null){var i=Zi();mo(n,t,1,i)}}),a3(t,1)}};T4=function(t){if(t.tag===13){var e=yc(t,134217728);if(e!==null){var r=Zi();mo(e,t,134217728,r)}a3(t,134217728)}};X7=function(t){if(t.tag===13){var e=qu(t),r=yc(t,e);if(r!==null){var n=Zi();mo(r,t,e,n)}a3(t,e)}};J7=function(){return gr};Q7=function(t,e){var r=gr;try{return gr=t,e()}finally{gr=r}};DS=function(t,e,r){switch(e){case"input":if(CS(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Bw(n);if(!i)throw Error(tt(90));C7(n),CS(n,i)}}}break;case"textarea":I7(t,r);break;case"select":e=r.value,e!=null&&yp(t,!!r.multiple,e,!1)}};F7=e3;B7=Mf;var jX={usingClientEntryPoint:!1,Events:[cy,ap,Bw,D7,M7,e3]},gg={findFiberByHostInstance:cf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OX={bundleType:gg.bundleType,version:gg.version,rendererPackageName:gg.rendererPackageName,rendererConfig:gg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ic.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V7(t),t===null?null:t.stateNode},findFiberByHostInstance:gg.findFiberByHostInstance||kX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ov=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ov.isDisabled&&Ov.supportsFiber)try{Lw=Ov.inject(OX),il=Ov}catch{}}es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jX;es.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o3(e))throw Error(tt(200));return CX(t,e,null,r)};es.createRoot=function(t,e){if(!o3(t))throw Error(tt(299));var r=!1,n="",i=wF;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=i3(t,1,!1,null,null,r,!1,n,i),t[gc]=e.current,N0(t.nodeType===8?t.parentNode:t),new s3(e)};es.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(tt(188)):(t=Object.keys(t).join(","),Error(tt(268,t)));return t=V7(e),t=t===null?null:t.stateNode,t};es.flushSync=function(t){return Mf(t)};es.hydrate=function(t,e,r){if(!Kw(e))throw Error(tt(200));return Yw(null,t,e,!0,r)};es.hydrateRoot=function(t,e,r){if(!o3(t))throw Error(tt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=wF;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=bF(e,null,t,1,r??null,i,!1,a,s),t[gc]=e.current,N0(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Gw(e)};es.render=function(t,e,r){if(!Kw(e))throw Error(tt(200));return Yw(null,t,e,!1,r)};es.unmountComponentAtNode=function(t){if(!Kw(t))throw Error(tt(40));return t._reactRootContainer?(Mf(function(){Yw(null,null,t,!1,function(){t._reactRootContainer=null,t[gc]=null})}),!0):!1};es.unstable_batchedUpdates=e3;es.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Kw(r))throw Error(tt(200));if(t==null||t._reactInternals===void 0)throw Error(tt(38));return Yw(t,e,r,!1,n)};es.version="18.3.1-next-f1338f8080-20240426";function xF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xF)}catch(t){console.error(t)}}xF(),x7.exports=es;var l3=x7.exports,_F,Nk=l3;_F=Nk.createRoot,Nk.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tk="popstate";function RX(t={}){function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return mA("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:L0(i)}return DX(e,r,null,t)}function Hr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LX(){return Math.random().toString(36).substring(2,10)}function Pk(t,e){return{usr:t.state,key:t.key,idx:e}}function mA(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xm(e):e,state:r,key:e&&e.key||n||LX()}}function L0({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xm(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function DX(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function f(){o="POP";let b=u(),m=b==null?null:b-c;c=b,l&&l({action:o,location:g.location,delta:m})}function p(b,m){o="PUSH";let v=mA(g.location,b,m);c=u()+1;let w=Pk(v,c),E=g.createHref(v);try{s.pushState(w,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(E)}a&&l&&l({action:o,location:g.location,delta:1})}function h(b,m){o="REPLACE";let v=mA(g.location,b,m);c=u();let w=Pk(v,c),E=g.createHref(v);s.replaceState(w,"",E),a&&l&&l({action:o,location:g.location,delta:0})}function y(b){return MX(b)}let g={get action(){return o},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tk,f),l=b,()=>{i.removeEventListener(Tk,f),l=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let m=y(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:h,go(b){return s.go(b)}};return g}function MX(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Hr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:L0(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function EF(t,e,r="/"){return FX(t,e,r,!1)}function FX(t,e,r,n){let i=typeof e=="string"?xm(e):e,a=bc(i.pathname||"/",r);if(a==null)return null;let s=SF(t);BX(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=XX(a);o=KX(s[l],c,n)}return o}function SF(t,e=[],r=[],n="",i=!1){let a=(s,o,l=i,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;Hr(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let f=cc([n,u.relativePath]),p=r.concat(u);s.children&&s.children.length>0&&(Hr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),SF(s.children,e,p,f,l)),!(s.path==null&&!s.index)&&e.push({path:f,score:HX(f,s.index),routesMeta:p})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of AF(s.path))a(s,o,!0,c)}),e}function AF(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=AF(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function BX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:GX(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var $X=/^:[\w-]+$/,UX=3,VX=2,zX=1,qX=10,WX=-2,Ck=t=>t==="*";function HX(t,e){let r=t.split("/"),n=r.length;return r.some(Ck)&&(n+=WX),e&&(n+=VX),r.filter(i=>!Ck(i)).reduce((i,a)=>i+($X.test(a)?UX:a===""?zX:qX),n)}function GX(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function KX(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=_b({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=_b({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:cc([a,f.pathname]),pathnameBase:eJ(cc([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=cc([a,f.pathnameBase]))}return s}function _b(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=YX(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:f},p)=>{if(u==="*"){let y=o[p]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const h=o[p];return f&&!h?c[u]=void 0:c[u]=(h||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function YX(t,e=!1,r=!0){yo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function XX(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function bc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function JX(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?xm(t):t;return{pathname:r?r.startsWith("/")?r:QX(r,e):e,search:tJ(n),hash:rJ(i)}}function QX(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function L5(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZX(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function NF(t){let e=ZX(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function TF(t,e,r,n=!1){let i;typeof t=="string"?i=xm(t):(i={...t},Hr(!i.pathname||!i.pathname.includes("?"),L5("?","pathname","search",i)),Hr(!i.pathname||!i.pathname.includes("#"),L5("#","pathname","hash",i)),Hr(!i.search||!i.search.includes("#"),L5("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=JX(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var cc=t=>t.join("/").replace(/\/\/+/g,"/"),eJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var PF=["POST","PUT","PATCH","DELETE"];new Set(PF);var iJ=["GET",...PF];new Set(iJ);var _m=I.createContext(null);_m.displayName="DataRouter";var Xw=I.createContext(null);Xw.displayName="DataRouterState";I.createContext(!1);var CF=I.createContext({isTransitioning:!1});CF.displayName="ViewTransition";var aJ=I.createContext(new Map);aJ.displayName="Fetchers";var sJ=I.createContext(null);sJ.displayName="Await";var xl=I.createContext(null);xl.displayName="Navigation";var dy=I.createContext(null);dy.displayName="Location";var jc=I.createContext({outlet:null,matches:[],isDataRoute:!1});jc.displayName="Route";var c3=I.createContext(null);c3.displayName="RouteError";function oJ(t,{relative:e}={}){Hr(fy(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=I.useContext(xl),{hash:i,pathname:a,search:s}=hy(t,{relative:e}),o=a;return r!=="/"&&(o=a==="/"?r:cc([r,a])),n.createHref({pathname:o,search:s,hash:i})}function fy(){return I.useContext(dy)!=null}function pd(){return Hr(fy(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(dy).location}var kF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IF(t){I.useContext(xl).static||I.useLayoutEffect(t)}function u3(){let{isDataRoute:t}=I.useContext(jc);return t?wJ():lJ()}function lJ(){Hr(fy(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(_m),{basename:e,navigator:r}=I.useContext(xl),{matches:n}=I.useContext(jc),{pathname:i}=pd(),a=JSON.stringify(NF(n)),s=I.useRef(!1);return IF(()=>{s.current=!0}),I.useCallback((l,c={})=>{if(yo(s.current,kF),!s.current)return;if(typeof l=="number"){r.go(l);return}let u=TF(l,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:cc([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,a,i,t])}I.createContext(null);function hy(t,{relative:e}={}){let{matches:r}=I.useContext(jc),{pathname:n}=pd(),i=JSON.stringify(NF(r));return I.useMemo(()=>TF(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function cJ(t,e){return jF(t,e)}function jF(t,e,r,n,i){var v;Hr(fy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=I.useContext(xl),{matches:s}=I.useContext(jc),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";OF(c,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=pd(),h;if(e){let w=typeof e=="string"?xm(e):e;Hr(u==="/"||((v=w.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=p;let y=h.pathname||"/",g=y;if(u!=="/"){let w=u.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=EF(t,{pathname:g});yo(f||b!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),yo(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=pJ(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:cc([u,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:cc([u,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n,i);return e&&m?I.createElement(dy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},m):m}function uJ(){let t=bJ(),e=nJ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:a},"ErrorBoundary")," or"," ",I.createElement("code",{style:a},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),r?I.createElement("pre",{style:i},r):null,s)}var dJ=I.createElement(uJ,null),fJ=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?I.createElement(jc.Provider,{value:this.props.routeContext},I.createElement(c3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hJ({routeContext:t,match:e,children:r}){let n=I.useContext(_m);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(jc.Provider,{value:t},r)}function pJ(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r==null?void 0:r.errors;if(s!=null){let c=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Hr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:p}=r,h=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||h){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,u,f)=>{let p,h=!1,y=null,g=null;r&&(p=s&&u.route.id?s[u.route.id]:void 0,y=u.route.errorElement||dJ,o&&(l<0&&f===0?(OF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):l===f&&(h=!0,g=u.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,f+1)),m=()=>{let v;return p?v=y:h?v=g:u.route.Component?v=I.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=c,I.createElement(hJ,{match:u,routeContext:{outlet:c,matches:b,isDataRoute:r!=null},children:v})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?I.createElement(fJ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:m(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):m()},null)}function d3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mJ(t){let e=I.useContext(_m);return Hr(e,d3(t)),e}function gJ(t){let e=I.useContext(Xw);return Hr(e,d3(t)),e}function yJ(t){let e=I.useContext(jc);return Hr(e,d3(t)),e}function f3(t){let e=yJ(t),r=e.matches[e.matches.length-1];return Hr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function vJ(){return f3("useRouteId")}function bJ(){var n;let t=I.useContext(c3),e=gJ("useRouteError"),r=f3("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function wJ(){let{router:t}=mJ("useNavigate"),e=f3("useNavigate"),r=I.useRef(!1);return IF(()=>{r.current=!0}),I.useCallback(async(i,a={})=>{yo(r.current,kF),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var kk={};function OF(t,e,r){!e&&!kk[t]&&(kk[t]=!0,yo(!1,r))}I.memo(xJ);function xJ({routes:t,future:e,state:r,unstable_onError:n}){return jF(t,void 0,r,n,e)}function gA(t){Hr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _J({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Hr(!fy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=I.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=xm(r));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:p="default"}=r,h=I.useMemo(()=>{let y=bc(l,s);return y==null?null:{location:{pathname:y,search:c,hash:u,state:f,key:p},navigationType:n}},[s,l,c,u,f,p,n]);return yo(h!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:I.createElement(xl.Provider,{value:o},I.createElement(dy.Provider,{children:e,value:h}))}function EJ({children:t,location:e}){return cJ(yA(t),e)}function yA(t,e=[]){let r=[];return I.Children.forEach(t,(n,i)=>{if(!I.isValidElement(n))return;let a=[...e,i];if(n.type===I.Fragment){r.push.apply(r,yA(n.props.children,a));return}Hr(n.type===gA,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Hr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=yA(n.props.children,a)),r.push(s)}),r}var C1="get",k1="application/x-www-form-urlencoded";function Jw(t){return t!=null&&typeof t.tagName=="string"}function SJ(t){return Jw(t)&&t.tagName.toLowerCase()==="button"}function AJ(t){return Jw(t)&&t.tagName.toLowerCase()==="form"}function NJ(t){return Jw(t)&&t.tagName.toLowerCase()==="input"}function TJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PJ(t,e){return t.button===0&&(!e||e==="_self")&&!TJ(t)}function vA(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function CJ(t,e){let r=vA(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}var Rv=null;function kJ(){if(Rv===null)try{new FormData(document.createElement("form"),0),Rv=!1}catch{Rv=!0}return Rv}var IJ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function D5(t){return t!=null&&!IJ.has(t)?(yo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${k1}"`),null):t}function jJ(t,e){let r,n,i,a,s;if(AJ(t)){let o=t.getAttribute("action");n=o?bc(o,e):null,r=t.getAttribute("method")||C1,i=D5(t.getAttribute("enctype"))||k1,a=new FormData(t)}else if(SJ(t)||NJ(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?bc(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||C1,i=D5(t.getAttribute("formenctype"))||D5(o.getAttribute("enctype"))||k1,a=new FormData(o,t),!kJ()){let{name:c,type:u,value:f}=t;if(u==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,f)}}else{if(Jw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=C1,n=null,i=k1,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function h3(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OJ(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&bc(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function RJ(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LJ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DJ(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await RJ(a,r);return s.links?s.links():[]}return[]}));return $J(n.flat(1).filter(LJ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ik(t,e,r,n,i,a){let s=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,c)=>s(l,c)||o(l,c)):a==="data"?e.filter((l,c)=>{var f;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function MJ(t,e,{includeHydrateFallback:r}={}){return FJ(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function FJ(t){return[...new Set(t)]}function BJ(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function $J(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(BJ(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function RF(){let t=I.useContext(_m);return h3(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UJ(){let t=I.useContext(Xw);return h3(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var p3=I.createContext(void 0);p3.displayName="FrameworkContext";function LF(){let t=I.useContext(p3);return h3(t,"You must render this element inside a <HydratedRouter> element"),t}function VJ(t,e){let r=I.useContext(p3),[n,i]=I.useState(!1),[a,s]=I.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,p=I.useRef(null);I.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let g=m=>{m.forEach(v=>{s(v.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),I.useEffect(()=>{if(n){let g=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(g)}}},[n]);let h=()=>{i(!0)},y=()=>{i(!1),s(!1)};return r?t!=="intent"?[a,p,{}]:[a,p,{onFocus:yg(o,h),onBlur:yg(l,y),onMouseEnter:yg(c,h),onMouseLeave:yg(u,y),onTouchStart:yg(f,h)}]:[!1,p,{}]}function yg(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function zJ({page:t,...e}){let{router:r}=RF(),n=I.useMemo(()=>EF(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?I.createElement(WJ,{page:t,matches:n,...e}):null}function qJ(t){let{manifest:e,routeModules:r}=LF(),[n,i]=I.useState([]);return I.useEffect(()=>{let a=!1;return DJ(t,e,r).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,r]),n}function WJ({page:t,matches:e,...r}){let n=pd(),{manifest:i,routeModules:a}=LF(),{basename:s}=RF(),{loaderData:o,matches:l}=UJ(),c=I.useMemo(()=>Ik(t,e,l,i,n,"data"),[t,e,l,i,n]),u=I.useMemo(()=>Ik(t,e,l,i,n,"assets"),[t,e,l,i,n]),f=I.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,g=!1;if(e.forEach(m=>{var w;let v=i.routes[m.route.id];!v||!v.hasLoader||(!c.some(E=>E.route.id===m.route.id)&&m.route.id in o&&((w=a[m.route.id])!=null&&w.shouldRevalidate)||v.hasClientLoader?g=!0:y.add(m.route.id))}),y.size===0)return[];let b=OJ(t,s,"data");return g&&y.size>0&&b.searchParams.set("_routes",e.filter(m=>y.has(m.route.id)).map(m=>m.route.id).join(",")),[b.pathname+b.search]},[s,o,n,i,c,e,t,a]),p=I.useMemo(()=>MJ(u,i),[u,i]),h=qJ(u);return I.createElement(I.Fragment,null,f.map(y=>I.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>I.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),h.map(({key:y,link:g})=>I.createElement("link",{key:y,nonce:r.nonce,...g})))}function HJ(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var DF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DF&&(window.__reactRouterVersion="7.8.2")}catch{}function GJ({basename:t,children:e,window:r}){let n=I.useRef();n.current==null&&(n.current=RX({window:r,v5Compat:!0}));let i=n.current,[a,s]=I.useState({action:i.action,location:i.location}),o=I.useCallback(l=>{I.startTransition(()=>s(l))},[s]);return I.useLayoutEffect(()=>i.listen(o),[i,o]),I.createElement(_J,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var MF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FF=I.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f,...p},h){let{basename:y}=I.useContext(xl),g=typeof c=="string"&&MF.test(c),b,m=!1;if(typeof c=="string"&&g&&(b=c,DF))try{let A=new URL(window.location.href),D=c.startsWith("//")?new URL(A.protocol+c):new URL(c),F=bc(D.pathname,y);D.origin===A.origin&&F!=null?c=F+D.search+D.hash:m=!0}catch{yo(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=oJ(c,{relative:i}),[w,E,P]=VJ(n,p),$=JJ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function C(A){e&&e(A),A.defaultPrevented||$(A)}let N=I.createElement("a",{...p,...P,href:b||v,onClick:m||a?e:C,ref:HJ(h,E),target:l,"data-discover":!g&&r==="render"?"true":void 0});return w&&!g?I.createElement(I.Fragment,null,N,I.createElement(zJ,{page:v})):N});FF.displayName="Link";var KJ=I.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...c},u){let f=hy(s,{relative:c.relative}),p=pd(),h=I.useContext(Xw),{navigator:y,basename:g}=I.useContext(xl),b=h!=null&&nQ(f)&&o===!0,m=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,v=p.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(v=v.toLowerCase(),w=w?w.toLowerCase():null,m=m.toLowerCase()),w&&g&&(w=bc(w,g)||w);const E=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let P=v===m||!i&&v.startsWith(m)&&v.charAt(E)==="/",$=w!=null&&(w===m||!i&&w.startsWith(m)&&w.charAt(m.length)==="/"),C={isActive:P,isPending:$,isTransitioning:b},N=P?e:void 0,A;typeof n=="function"?A=n(C):A=[n,P?"active":null,$?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(C):a;return I.createElement(FF,{...c,"aria-current":N,className:A,ref:u,style:D,to:s,viewTransition:o},typeof l=="function"?l(C):l)});KJ.displayName="NavLink";var YJ=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:s=C1,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...p},h)=>{let y=tQ(),g=rQ(o,{relative:c}),b=s.toLowerCase()==="get"?"get":"post",m=typeof o=="string"&&MF.test(o),v=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let E=w.nativeEvent.submitter,P=(E==null?void 0:E.getAttribute("formmethod"))||s;y(E||w.currentTarget,{fetcherKey:e,method:P,navigate:r,replace:i,state:a,relative:c,preventScrollReset:u,viewTransition:f})};return I.createElement("form",{ref:h,method:b,action:g,onSubmit:n?l:v,...p,"data-discover":!m&&t==="render"?"true":void 0})});YJ.displayName="Form";function XJ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BF(t){let e=I.useContext(_m);return Hr(e,XJ(t)),e}function JJ(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=u3(),l=pd(),c=hy(t,{relative:a});return I.useCallback(u=>{if(PJ(u,e)){u.preventDefault();let f=r!==void 0?r:L0(l)===L0(c);o(t,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,c,r,n,e,t,i,a,s])}function QJ(t){yo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=I.useRef(vA(t)),r=I.useRef(!1),n=pd(),i=I.useMemo(()=>CJ(n.search,r.current?null:e.current),[n.search]),a=u3(),s=I.useCallback((o,l)=>{const c=vA(typeof o=="function"?o(new URLSearchParams(i)):o);r.current=!0,a("?"+c,l)},[a,i]);return[i,s]}var ZJ=0,eQ=()=>`__${String(++ZJ)}__`;function tQ(){let{router:t}=BF("useSubmit"),{basename:e}=I.useContext(xl),r=vJ();return I.useCallback(async(n,i={})=>{let{action:a,method:s,encType:o,formData:l,body:c}=jJ(n,e);if(i.navigate===!1){let u=i.fetcherKey||eQ();await t.fetch(u,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function rQ(t,{relative:e}={}){let{basename:r}=I.useContext(xl),n=I.useContext(jc);Hr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...hy(t||".",{relative:e})},s=pd();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();a.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:cc([r,a.pathname])),L0(a)}function nQ(t,{relative:e}={}){let r=I.useContext(CF);Hr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=BF("useViewTransitionState"),i=hy(t,{relative:e});if(!r.isTransitioning)return!1;let a=bc(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=bc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _b(i.pathname,s)!=null||_b(i.pathname,a)!=null}const iQ=()=>{};var jk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},aQ=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},UF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|o>>4;let p=(o&15)<<2|c>>6,h=c&63;l||(h=64,s||(p=64)),n.push(r[u],r[f],r[p],r[h])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($F(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||f==null)throw new sQ;const p=a<<2|o>>4;if(n.push(p),c!==64){const h=o<<4&240|c>>2;if(n.push(h),f!==64){const y=c<<6&192|f;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oQ=function(t){const e=$F(t);return UF.encodeByteArray(e,!0)},Eb=function(t){return oQ(t).replace(/\./g,"")},VF=function(t){try{return UF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ=()=>lQ().__FIREBASE_DEFAULTS__,uQ=()=>{if(typeof process>"u"||typeof jk>"u")return;const t=jk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VF(t[1]);return e&&JSON.parse(e)},Qw=()=>{try{return iQ()||cQ()||uQ()||dQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zF=t=>{var e,r;return(r=(e=Qw())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},fQ=t=>{const e=zF(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},qF=()=>{var t;return(t=Qw())==null?void 0:t.config},WF=t=>{var e;return(e=Qw())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HF(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Eb(JSON.stringify(r)),Eb(JSON.stringify(s)),""].join(".")}const i0={};function mQ(){const t={prod:[],emulator:[]};for(const e of Object.keys(i0))i0[e]?t.emulator.push(e):t.prod.push(e);return t}function gQ(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let Ok=!1;function GF(t,e){if(typeof window>"u"||typeof document>"u"||!Em(window.location.host)||i0[t]===e||i0[t]||Ok)return;i0[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=mQ().prod.length>0;function s(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,h){p.setAttribute("width","24"),p.setAttribute("id",h),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Ok=!0,s()},p}function u(p,h){p.setAttribute("id",h),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=gQ(n),h=r("text"),y=document.getElementById(h)||document.createElement("span"),g=r("learnmore"),b=document.getElementById(g)||document.createElement("a"),m=r("preprendIcon"),v=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;o(w),u(b,g);const E=c();l(v,m),w.append(v,y,b,E),document.body.appendChild(w)}a?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vi())}function vQ(){var e;const t=(e=Qw())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xQ(){const t=Vi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _Q(){return!vQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YF(){try{return typeof indexedDB=="object"}catch{return!1}}function XF(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}function EQ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ="FirebaseError";class So extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=SQ,Object.setPrototypeOf(this,So.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qf.prototype.create)}}class Qf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?AQ(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new So(i,o,n)}}function AQ(t,e){return t.replace(NQ,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const NQ=/\{\$([^}]+)}/g;function TQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ed(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(Rk(a)&&Rk(s)){if(!ed(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Rk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function $g(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Ug(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function PQ(t,e){const r=new CQ(t,e);return r.subscribe.bind(r)}class CQ{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");kQ(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=M5),i.error===void 0&&(i.error=M5),i.complete===void 0&&(i.complete=M5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kQ(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function M5(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ=1e3,jQ=2,OQ=4*60*60*1e3,RQ=.5;function Lk(t,e=IQ,r=jQ){const n=e*Math.pow(r,t),i=Math.round(RQ*n*(Math.random()-.5)*2);return Math.min(OQ,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){return t&&t._delegate?t._delegate:t}class vo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LQ=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new hQ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MQ(e))try{this.getOrInitializeService({instanceIdentifier:ef})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=ef){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ef){return this.instances.has(e)}getOptions(e=ef){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:DQ(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ef){return this.component?this.component.multipleInstances?e:ef:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DQ(t){return t===ef?void 0:t}function MQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new LQ(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qt||(qt={}));const BQ={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},$Q=qt.INFO,UQ={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},VQ=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=UQ[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zw{constructor(e){this.name=e,this._logLevel=$Q,this._logHandler=VQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const zQ=(t,e)=>e.some(r=>t instanceof r);let Dk,Mk;function qQ(){return Dk||(Dk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WQ(){return Mk||(Mk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JF=new WeakMap,bA=new WeakMap,QF=new WeakMap,F5=new WeakMap,m3=new WeakMap;function HQ(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Hu(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&JF.set(r,t)}).catch(()=>{}),m3.set(e,t),e}function GQ(t){if(bA.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});bA.set(t,e)}let wA={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return bA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QF.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Hu(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KQ(t){wA=t(wA)}function YQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(B5(this),e,...r);return QF.set(n,e.sort?e.sort():[e]),Hu(n)}:WQ().includes(t)?function(...e){return t.apply(B5(this),e),Hu(JF.get(this))}:function(...e){return Hu(t.apply(B5(this),e))}}function XQ(t){return typeof t=="function"?YQ(t):(t instanceof IDBTransaction&&GQ(t),zQ(t,qQ())?new Proxy(t,wA):t)}function Hu(t){if(t instanceof IDBRequest)return HQ(t);if(F5.has(t))return F5.get(t);const e=XQ(t);return e!==t&&(F5.set(t,e),m3.set(e,t)),e}const B5=t=>m3.get(t);function ZF(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Hu(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Hu(s.result),l.oldVersion,l.newVersion,Hu(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const JQ=["get","getKey","getAll","getAllKeys","count"],QQ=["put","add","delete","clear"],$5=new Map;function Fk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($5.get(e))return $5.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=QQ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||JQ.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return $5.set(e,a),a}KQ(t=>({...t,get:(e,r,n)=>Fk(e,r)||t.get(e,r,n),has:(e,r)=>!!Fk(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(eZ(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function eZ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xA="@firebase/app",Bk="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Zw("@firebase/app"),tZ="@firebase/app-compat",rZ="@firebase/analytics-compat",nZ="@firebase/analytics",iZ="@firebase/app-check-compat",aZ="@firebase/app-check",sZ="@firebase/auth",oZ="@firebase/auth-compat",lZ="@firebase/database",cZ="@firebase/data-connect",uZ="@firebase/database-compat",dZ="@firebase/functions",fZ="@firebase/functions-compat",hZ="@firebase/installations",pZ="@firebase/installations-compat",mZ="@firebase/messaging",gZ="@firebase/messaging-compat",yZ="@firebase/performance",vZ="@firebase/performance-compat",bZ="@firebase/remote-config",wZ="@firebase/remote-config-compat",xZ="@firebase/storage",_Z="@firebase/storage-compat",EZ="@firebase/firestore",SZ="@firebase/ai",AZ="@firebase/firestore-compat",NZ="firebase",TZ="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="[DEFAULT]",PZ={[xA]:"fire-core",[tZ]:"fire-core-compat",[nZ]:"fire-analytics",[rZ]:"fire-analytics-compat",[aZ]:"fire-app-check",[iZ]:"fire-app-check-compat",[sZ]:"fire-auth",[oZ]:"fire-auth-compat",[lZ]:"fire-rtdb",[cZ]:"fire-data-connect",[uZ]:"fire-rtdb-compat",[dZ]:"fire-fn",[fZ]:"fire-fn-compat",[hZ]:"fire-iid",[pZ]:"fire-iid-compat",[mZ]:"fire-fcm",[gZ]:"fire-fcm-compat",[yZ]:"fire-perf",[vZ]:"fire-perf-compat",[bZ]:"fire-rc",[wZ]:"fire-rc-compat",[xZ]:"fire-gcs",[_Z]:"fire-gcs-compat",[EZ]:"fire-fst",[AZ]:"fire-fst-compat",[SZ]:"fire-vertex","fire-js":"fire-js",[NZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=new Map,CZ=new Map,EA=new Map;function $k(t,e){try{t.container.addComponent(e)}catch(r){wc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ml(t){const e=t.name;if(EA.has(e))return wc.debug(`There were multiple attempts to register component ${e}.`),!1;EA.set(e,t);for(const r of Sb.values())$k(r,t);for(const r of CZ.values())$k(r,t);return!0}function Zf(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function xs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gu=new Qf("app","Firebase",kZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IZ{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=TZ;function e9(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:_A,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Gu.create("bad-app-name",{appName:String(i)});if(r||(r=qF()),!r)throw Gu.create("no-options");const a=Sb.get(i);if(a){if(ed(r,a.options)&&ed(n,a.config))return a;throw Gu.create("duplicate-app",{appName:i})}const s=new FQ(i);for(const l of EA.values())s.addComponent(l);const o=new IZ(r,n,s);return Sb.set(i,o),o}function g3(t=_A){const e=Sb.get(t);if(!e&&t===_A&&qF())return e9();if(!e)throw Gu.create("no-app",{appName:t});return e}function Ns(t,e,r){let n=PZ[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wc.warn(s.join(" "));return}ml(new vo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jZ="firebase-heartbeat-database",OZ=1,D0="firebase-heartbeat-store";let U5=null;function t9(){return U5||(U5=ZF(jZ,OZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(D0)}catch(r){console.warn(r)}}}}).catch(t=>{throw Gu.create("idb-open",{originalErrorMessage:t.message})})),U5}async function RZ(t){try{const r=(await t9()).transaction(D0),n=await r.objectStore(D0).get(r9(t));return await r.done,n}catch(e){if(e instanceof So)wc.warn(e.message);else{const r=Gu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wc.warn(r.message)}}}async function Uk(t,e){try{const n=(await t9()).transaction(D0,"readwrite");await n.objectStore(D0).put(e,r9(t)),await n.done}catch(r){if(r instanceof So)wc.warn(r.message);else{const n=Gu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});wc.warn(n.message)}}}function r9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ=1024,DZ=30;class MZ{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new BZ(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Vk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>DZ){const s=$Z(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){wc.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Vk(),{heartbeatsToSend:n,unsentEntries:i}=FZ(this._heartbeatsCache.heartbeats),a=Eb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return wc.warn(r),""}}}function Vk(){return new Date().toISOString().substring(0,10)}function FZ(t,e=LZ){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),zk(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),zk(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class BZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YF()?XF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await RZ(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Uk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Uk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function zk(t){return Eb(JSON.stringify({version:2,heartbeats:t})).length}function $Z(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UZ(t){ml(new vo("platform-logger",e=>new ZQ(e),"PRIVATE")),ml(new vo("heartbeat",e=>new MZ(e),"PRIVATE")),Ns(xA,Bk,t),Ns(xA,Bk,"esm2020"),Ns("fire-js","")}UZ("");function n9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VZ=n9,i9=new Qf("auth","Firebase",n9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Zw("@firebase/auth");function zZ(t,...e){Ab.logLevel<=qt.WARN&&Ab.warn(`Auth (${Sm}): ${t}`,...e)}function I1(t,...e){Ab.logLevel<=qt.ERROR&&Ab.error(`Auth (${Sm}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,...e){throw y3(t,...e)}function sl(t,...e){return y3(t,...e)}function a9(t,e,r){const n={...VZ(),[e]:r};return new Qf("auth","Firebase",n).create(e,{appName:t.name})}function uc(t){return a9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y3(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return i9.create(t,...e)}function At(t,e,...r){if(!t)throw y3(e,...r)}function rc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw I1(e),new Error(e)}function xc(t,e){t||rc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function qZ(){return qk()==="http:"||qk()==="https:"}function qk(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qZ()||KF()||"connection"in navigator)?navigator.onLine:!0}function HZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,r){this.shortDelay=e,this.longDelay=r,xc(r>e,"Short delay should be less than long delay!"),this.isMobile=yQ()||wQ()}get(){return WZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t,e){xc(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YZ=new my(3e4,6e4);function md(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gd(t,e,r,n,i={}){return o9(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=py({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return bQ()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Em(t.emulatorConfig.host)&&(c.credentials="include"),s9.fetch()(await l9(t,t.config.apiHost,r,o),c)})}async function o9(t,e,r){t._canInitEmulator=!1;const n={...GZ,...e};try{const i=new JZ(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Lv(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lv(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Lv(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Lv(t,"user-disabled",s);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw a9(t,u,c);bo(t,u)}}catch(i){if(i instanceof So)throw i;bo(t,"network-request-failed",{message:String(i)})}}async function gy(t,e,r,n,i={}){const a=await gd(t,e,r,n,i);return"mfaPendingCredential"in a&&bo(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function l9(t,e,r,n){const i=`${e}${r}?${n}`,a=t,s=a.config.emulator?v3(t.config,i):`${t.config.apiScheme}://${i}`;return KZ.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function XZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(sl(this.auth,"network-request-failed")),YZ.get())})}}function Lv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=sl(t,e,n);return i.customData._tokenResponse=r,i}function Wk(t){return t!==void 0&&t.enterprise!==void 0}class QZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return XZ(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZZ(t,e){return gd(t,"GET","/v2/recaptchaConfig",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eee(t,e){return gd(t,"POST","/v1/accounts:delete",e)}async function Nb(t,e){return gd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tee(t,e=!1){const r=Fn(t),n=await r.getIdToken(e),i=b3(n);At(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:a0(V5(i.auth_time)),issuedAtTime:a0(V5(i.iat)),expirationTime:a0(V5(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function V5(t){return Number(t)*1e3}function b3(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return I1("JWT malformed, contained fewer than 3 sections"),null;try{const i=VF(r);return i?JSON.parse(i):(I1("Failed to decode base64 JWT payload"),null)}catch(i){return I1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Hk(t){const e=b3(t);return At(e,"internal-error"),At(typeof e.exp<"u","internal-error"),At(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof So&&ree(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function ree({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=a0(this.lastLoginAt),this.creationTime=a0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(t){var f;const e=t.auth,r=await t.getIdToken(),n=await M0(t,Nb(e,{idToken:r}));At(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?c9(i.providerUserInfo):[],s=aee(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new AA(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function iee(t){const e=Fn(t);await Tb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aee(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function c9(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function see(t,e){const r=await o9(t,{},async()=>{const n=py({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await l9(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&Em(t.emulatorConfig.host)&&(l.credentials="include"),s9.fetch()(s,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function oee(t,e){return gd(t,"POST","/v2/accounts:revokeToken",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At(typeof e.idToken<"u","internal-error"),At(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){At(e.length!==0,"internal-error");const r=Hk(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await see(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Ep;return n&&(At(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(At(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(At(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ep,this.toJSON())}_performRefresh(){return rc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t,e){At(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ho{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new nee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new AA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await M0(this,this.stsTokenManager.getToken(this.auth,e));return At(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return tee(this,e)}reload(){return iee(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ho({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Tb(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xs(this.auth.app))return Promise.reject(uc(this.auth));const e=await this.getIdToken();return await M0(this,eee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:h,providerData:y,stsTokenManager:g}=r;At(f&&g,e,"internal-error");const b=Ep.fromJSON(this.name,g);At(typeof f=="string",e,"internal-error"),mu(n,e.name),mu(i,e.name),At(typeof p=="boolean",e,"internal-error"),At(typeof h=="boolean",e,"internal-error"),mu(a,e.name),mu(s,e.name),mu(o,e.name),mu(l,e.name),mu(c,e.name),mu(u,e.name);const m=new ho({uid:f,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:h,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:b,createdAt:c,lastLoginAt:u});return y&&Array.isArray(y)&&(m.providerData=y.map(v=>({...v}))),l&&(m._redirectEventId=l),m}static async _fromIdTokenResponse(e,r,n=!1){const i=new Ep;i.updateFromServerResponse(r);const a=new ho({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Tb(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];At(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?c9(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Ep;o.updateFromIdToken(n);const l=new ho({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new AA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=new Map;function nc(t){xc(t instanceof Function,"Expected a class definition");let e=Gk.get(t);return e?(xc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}u9.type="NONE";const Kk=u9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e,r){return`firebase:${t}:${e}:${r}`}class Sp{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=j1(this.userKey,i.apiKey,a),this.fullPersistenceKey=j1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Nb(this.auth,{idToken:e}).catch(()=>{});return r?ho._fromGetAccountInfoResponse(this.auth,r,e):null}return ho._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Sp(nc(Kk),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||nc(Kk);const s=j1(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const p=await Nb(e,{idToken:u}).catch(()=>{});if(!p)break;f=await ho._fromGetAccountInfoResponse(e,p,u)}else f=ho._fromJSON(e,u);c!==a&&(o=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Sp(a,e,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Sp(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g9(e))return"Blackberry";if(y9(e))return"Webos";if(f9(e))return"Safari";if((e.includes("chrome/")||h9(e))&&!e.includes("edge/"))return"Chrome";if(m9(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function d9(t=Vi()){return/firefox\//i.test(t)}function f9(t=Vi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h9(t=Vi()){return/crios\//i.test(t)}function p9(t=Vi()){return/iemobile/i.test(t)}function m9(t=Vi()){return/android/i.test(t)}function g9(t=Vi()){return/blackberry/i.test(t)}function y9(t=Vi()){return/webos/i.test(t)}function w3(t=Vi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lee(t=Vi()){var e;return w3(t)&&!!((e=window.navigator)!=null&&e.standalone)}function cee(){return xQ()&&document.documentMode===10}function v9(t=Vi()){return w3(t)||m9(t)||y9(t)||g9(t)||/windows phone/i.test(t)||p9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t,e=[]){let r;switch(t){case"Browser":r=Yk(Vi());break;case"Worker":r=`${Yk(Vi())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Sm}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dee(t,e={}){return gd(t,"GET","/v2/passwordPolicy",md(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fee=6;class hee{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??fee,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xk(this),this.idTokenSubscription=new Xk(this),this.beforeStateQueue=new uee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=nc(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Sp.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Nb(this,{idToken:e}),n=await ho._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(xs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Tb(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xs(this.app))return Promise.reject(uc(this));const r=e?Fn(e):null;return r&&At(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xs(this.app)?Promise.reject(uc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xs(this.app)?Promise.reject(uc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dee(this),r=new hee(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await oee(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&nc(e)||this._popupRedirectResolver;At(r,this,"argument-error"),this.redirectPersistenceManager=await Sp.create(this,[nc(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{s=!0,l()}}else{const l=e.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(xs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&zZ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function eh(t){return Fn(t)}class Xk{constructor(e){this.auth=e,this.observer=null,this.addObserver=PQ(r=>this.observer=r)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ex={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mee(t){ex=t}function w9(t){return ex.loadJS(t)}function gee(){return ex.recaptchaEnterpriseScript}function yee(){return ex.gapiScript}function vee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bee{constructor(){this.enterprise=new wee}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class wee{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const xee="recaptcha-enterprise",x9="NO_RECAPTCHA";class _ee{constructor(e){this.type=xee,this.auth=eh(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{ZZ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new QZ(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;Wk(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(x9)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bee().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&Wk(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=gee();l.length!==0&&(l+=o),w9(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function Jk(t,e,r,n=!1,i=!1){const a=new _ee(t);let s;if(i)s=x9;else try{s=await a.verify(r)}catch{s=await a.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function NA(t,e,r,n,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Jk(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Jk(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eee(t,e){const r=Zf(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(ed(a,e??{}))return i;bo(i,"already-initialized")}return r.initialize({options:e})}function See(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(nc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Aee(t,e,r){const n=eh(t);At(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=_9(e),{host:s,port:o}=Nee(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){At(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),At(ed(c,n.config.emulator)&&ed(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,Em(s)?(HF(`${a}//${s}${l}`),GF("Auth",!0)):Tee()}function _9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nee(t){const e=_9(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:Qk(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:Qk(s)}}}function Qk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Tee(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return rc("not implemented")}_getIdTokenResponse(e){return rc("not implemented")}_linkToIdToken(e,r){return rc("not implemented")}_getReauthenticationResolver(e){return rc("not implemented")}}async function Pee(t,e){return gd(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cee(t,e){return gy(t,"POST","/v1/accounts:signInWithPassword",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kee(t,e){return gy(t,"POST","/v1/accounts:signInWithEmailLink",md(t,e))}async function Iee(t,e){return gy(t,"POST","/v1/accounts:signInWithEmailLink",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends x3{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new F0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new F0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NA(e,r,"signInWithPassword",Cee);case"emailLink":return kee(e,{email:this._email,oobCode:this._password});default:bo(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NA(e,n,"signUpPassword",Pee);case"emailLink":return Iee(e,{idToken:r,email:this._email,oobCode:this._password});default:bo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(t,e){return gy(t,"POST","/v1/accounts:signInWithIdp",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee="http://localhost";class Ff extends x3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ff(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):bo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new Ff(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Ap(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Ap(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ap(e,r)}buildRequest(){const e={requestUri:jee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=py(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ree(t){const e=$g(Ug(t)).link,r=e?$g(Ug(e)).deep_link_id:null,n=$g(Ug(t)).deep_link_id;return(n?$g(Ug(n)).link:null)||n||r||e||t}class _3{constructor(e){const r=$g(Ug(e)),n=r.apiKey??null,i=r.oobCode??null,a=Oee(r.mode??null);At(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Ree(e);try{return new _3(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.providerId=Am.PROVIDER_ID}static credential(e,r){return F0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=_3.parseLink(r);return At(n,"argument-error"),F0._fromEmailAndCode(e,n.code,n.tenantId)}}Am.PROVIDER_ID="password";Am.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Am.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy extends E9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends yy{constructor(){super("facebook.com")}static credential(e){return Ff._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pu.credential(e.oauthAccessToken)}catch{return null}}}Pu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends yy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ff._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Cu.credential(r,n)}catch{return null}}}Cu.GOOGLE_SIGN_IN_METHOD="google.com";Cu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends yy{constructor(){super("github.com")}static credential(e){return Ff._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ku.credential(e.oauthAccessToken)}catch{return null}}}ku.GITHUB_SIGN_IN_METHOD="github.com";ku.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends yy{constructor(){super("twitter.com")}static credential(e,r){return Ff._fromParams({providerId:Iu.PROVIDER_ID,signInMethod:Iu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Iu.credentialFromTaggedObject(e)}static credentialFromError(e){return Iu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Iu.credential(r,n)}catch{return null}}}Iu.TWITTER_SIGN_IN_METHOD="twitter.com";Iu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lee(t,e){return gy(t,"POST","/v1/accounts:signUp",md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ho._fromIdTokenResponse(e,n,i),s=Zk(n);return new Bf({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=Zk(n);return new Bf({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function Zk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends So{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Pb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Pb(e,r,n,i)}}function S9(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Pb._fromErrorAndOperation(t,a,e,n):a})}async function Dee(t,e,r=!1){const n=await M0(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Bf._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mee(t,e,r=!1){const{auth:n}=t;if(xs(n.app))return Promise.reject(uc(n));const i="reauthenticate";try{const a=await M0(t,S9(n,i,e,t),r);At(a.idToken,n,"internal-error");const s=b3(a.idToken);At(s,n,"internal-error");const{sub:o}=s;return At(t.uid===o,n,"user-mismatch"),Bf._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&bo(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(t,e,r=!1){if(xs(t.app))return Promise.reject(uc(t));const n="signIn",i=await S9(t,n,e),a=await Bf._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function Fee(t,e){return A9(eh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(t){const e=eh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bee(t,e,r){if(xs(t.app))return Promise.reject(uc(t));const n=eh(t),s=await NA(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lee).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&N9(t),l}),o=await Bf._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function $ee(t,e,r){return xs(t.app)?Promise.reject(uc(t)):Fee(Fn(t),Am.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&N9(t),n})}function Uee(t,e,r,n){return Fn(t).onIdTokenChanged(e,r,n)}function Vee(t,e,r){return Fn(t).beforeAuthStateChanged(e,r)}function zee(t,e,r,n){return Fn(t).onAuthStateChanged(e,r,n)}function qee(t){return Fn(t).signOut()}const Cb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Cb,"1"),this.storage.removeItem(Cb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee=1e3,Hee=10;class P9 extends T9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);cee()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Hee):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Wee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}P9.type="LOCAL";const Gee=P9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9 extends T9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}C9.type="SESSION";const k9=C9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new tx(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async c=>c(r.origin,a)),l=await Kee(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=E3("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(){return window}function Xee(t){ol().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(){return typeof ol().WorkerGlobalScope<"u"&&typeof ol().importScripts=="function"}async function Jee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Zee(){return I9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="firebaseLocalStorageDb",ete=1,kb="firebaseLocalStorage",O9="fbase_key";class vy{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function rx(t,e){return t.transaction([kb],e?"readwrite":"readonly").objectStore(kb)}function tte(){const t=indexedDB.deleteDatabase(j9);return new vy(t).toPromise()}function TA(){const t=indexedDB.open(j9,ete);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(kb,{keyPath:O9})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(kb)?e(n):(n.close(),await tte(),e(await TA()))})})}async function eI(t,e,r){const n=rx(t,!0).put({[O9]:e,value:r});return new vy(n).toPromise()}async function rte(t,e){const r=rx(t,!1).get(e),n=await new vy(r).toPromise();return n===void 0?null:n.value}function tI(t,e){const r=rx(t,!0).delete(e);return new vy(r).toPromise()}const nte=800,ite=3;class R9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await TA(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>ite)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tx._getInstance(Zee()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Jee(),!this.activeServiceWorker)return;this.sender=new Yee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await TA();return await eI(e,Cb,"1"),await tI(e,Cb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>eI(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>rte(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>tI(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=rx(i,!1).getAll();return new vy(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R9.type="LOCAL";const ate=R9;new my(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ste(t,e){return e?nc(e):(At(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3 extends x3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ap(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ap(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ap(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function ote(t){return A9(t.auth,new S3(t),t.bypassAuthState)}function lte(t){const{auth:e,user:r}=t;return At(r,e,"internal-error"),Mee(r,new S3(t),t.bypassAuthState)}async function cte(t){const{auth:e,user:r}=t;return At(r,e,"internal-error"),Dee(r,new S3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ote;case"linkViaPopup":case"linkViaRedirect":return cte;case"reauthViaPopup":case"reauthViaRedirect":return lte;default:bo(this.auth,"internal-error")}}resolve(e){xc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute=new my(2e3,1e4);class fp extends L9{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,fp.currentPopupAction&&fp.currentPopupAction.cancel(),fp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){xc(this.filter.length===1,"Popup operations only handle one event");const e=E3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(sl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(sl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ute.get())};e()}}fp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte="pendingRedirect",O1=new Map;class fte extends L9{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=O1.get(this.auth._key());if(!e){try{const n=await hte(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}O1.set(this.auth._key(),e)}return this.bypassAuthState||O1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hte(t,e){const r=gte(e),n=mte(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function pte(t,e){O1.set(t._key(),e)}function mte(t){return nc(t._redirectPersistence)}function gte(t){return j1(dte,t.config.apiKey,t.name)}async function yte(t,e,r=!1){if(xs(t.app))return Promise.reject(uc(t));const n=eh(t),i=ste(n,e),s=await new fte(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vte=10*60*1e3;class bte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wte(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!D9(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(sl(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vte&&this.cachedEventUids.clear(),this.cachedEventUids.has(rI(e))}saveEventToCache(e){this.cachedEventUids.add(rI(e)),this.lastProcessedEventTime=Date.now()}}function rI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xte(t,e={}){return gd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _te=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ete=/^https?/;async function Ste(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xte(t);for(const r of e)try{if(Ate(r))return}catch{}bo(t,"unauthorized-domain")}function Ate(t){const e=SA(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!Ete.test(r))return!1;if(_te.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte=new my(3e4,6e4);function nI(){const t=ol().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Tte(t){return new Promise((e,r)=>{var i,a,s;function n(){nI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nI(),r(sl(t,"network-request-failed"))},timeout:Nte.get()})}if((a=(i=ol().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=ol().gapi)!=null&&s.load)n();else{const o=vee("iframefcb");return ol()[o]=()=>{gapi.load?n():r(sl(t,"network-request-failed"))},w9(`${yee()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw R1=null,e})}let R1=null;function Pte(t){return R1=R1||Tte(t),R1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cte=new my(5e3,15e3),kte="__/auth/iframe",Ite="emulator/auth/iframe",jte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ote=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rte(t){const e=t.config;At(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?v3(e,Ite):`https://${t.config.authDomain}/${kte}`,n={apiKey:e.apiKey,appName:t.name,v:Sm},i=Ote.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${py(n).slice(1)}`}async function Lte(t){const e=await Pte(t),r=ol().gapi;return At(r,t,"internal-error"),e.open({where:document.body,url:Rte(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jte,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=sl(t,"network-request-failed"),o=ol().setTimeout(()=>{a(s)},Cte.get());function l(){ol().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mte=500,Fte=600,Bte="_blank",$te="http://localhost";class iI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ute(t,e,r,n=Mte,i=Fte){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...Dte,width:n.toString(),height:i.toString(),top:a,left:s},c=Vi().toLowerCase();r&&(o=h9(c)?Bte:r),d9(c)&&(e=e||$te,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[h,y])=>`${p}${h}=${y},`,"");if(lee(c)&&o!=="_self")return Vte(e||"",o),new iI(null);const f=window.open(e||"",o,u);At(f,t,"popup-blocked");try{f.focus()}catch{}return new iI(f)}function Vte(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zte="__/auth/handler",qte="emulator/auth/handler",Wte=encodeURIComponent("fac");async function aI(t,e,r,n,i,a){At(t.config.authDomain,t,"auth-domain-config-required"),At(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Sm,eventId:i};if(e instanceof E9){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",TQ(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof yy){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${Wte}=${encodeURIComponent(l)}`:"";return`${Hte(t)}?${py(o).slice(1)}${c}`}function Hte({config:t}){return t.emulator?v3(t,qte):`https://${t.authDomain}/${zte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="webStorageSupport";class Gte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k9,this._completeRedirectFn=yte,this._overrideRedirectResult=pte}async _openPopup(e,r,n,i){var s;xc((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await aI(e,r,n,SA(),i);return Ute(e,a,E3())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await aI(e,r,n,SA(),i);return Xee(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(xc(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Lte(e),n=new bte(e);return r.register("authEvent",i=>(At(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(z5,{type:z5},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[z5];a!==void 0&&r(!!a),bo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Ste(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return v9()||f9()||w3()}}const Kte=Gte;var sI="@firebase/auth",oI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jte(t){ml(new vo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;At(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b9(t)},c=new pee(n,i,a,l);return See(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ml(new vo("auth-internal",e=>{const r=eh(e.getProvider("auth").getImmediate());return(n=>new Yte(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(sI,oI,Xte(t)),Ns(sI,oI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qte=5*60,Zte=WF("authIdTokenMaxAge")||Qte;let lI=null;const ere=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Zte)return;const i=r==null?void 0:r.token;lI!==i&&(lI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tre(t=g3()){const e=Zf(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Eee(t,{popupRedirectResolver:Kte,persistence:[ate,Gee,k9]}),n=WF("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=ere(a.toString());Vee(r,s,()=>s(r.currentUser)),Uee(r,o=>s(o))}}const i=zF("auth");return i&&Aee(r,`http://${i}`),r}function rre(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}mee({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=sl("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",rre().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jte("Browser");var cI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ku,M9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,N){function A(){}A.prototype=N.prototype,C.D=N.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(D,F,S){for(var O=Array(arguments.length-2),k=2;k<arguments.length;k++)O[k-2]=arguments[k];return N.prototype[F].apply(D,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,N,A){A||(A=0);var D=Array(16);if(typeof N=="string")for(var F=0;16>F;++F)D[F]=N.charCodeAt(A++)|N.charCodeAt(A++)<<8|N.charCodeAt(A++)<<16|N.charCodeAt(A++)<<24;else for(F=0;16>F;++F)D[F]=N[A++]|N[A++]<<8|N[A++]<<16|N[A++]<<24;N=C.g[0],A=C.g[1],F=C.g[2];var S=C.g[3],O=N+(S^A&(F^S))+D[0]+3614090360&4294967295;N=A+(O<<7&4294967295|O>>>25),O=S+(F^N&(A^F))+D[1]+3905402710&4294967295,S=N+(O<<12&4294967295|O>>>20),O=F+(A^S&(N^A))+D[2]+606105819&4294967295,F=S+(O<<17&4294967295|O>>>15),O=A+(N^F&(S^N))+D[3]+3250441966&4294967295,A=F+(O<<22&4294967295|O>>>10),O=N+(S^A&(F^S))+D[4]+4118548399&4294967295,N=A+(O<<7&4294967295|O>>>25),O=S+(F^N&(A^F))+D[5]+1200080426&4294967295,S=N+(O<<12&4294967295|O>>>20),O=F+(A^S&(N^A))+D[6]+2821735955&4294967295,F=S+(O<<17&4294967295|O>>>15),O=A+(N^F&(S^N))+D[7]+4249261313&4294967295,A=F+(O<<22&4294967295|O>>>10),O=N+(S^A&(F^S))+D[8]+1770035416&4294967295,N=A+(O<<7&4294967295|O>>>25),O=S+(F^N&(A^F))+D[9]+2336552879&4294967295,S=N+(O<<12&4294967295|O>>>20),O=F+(A^S&(N^A))+D[10]+4294925233&4294967295,F=S+(O<<17&4294967295|O>>>15),O=A+(N^F&(S^N))+D[11]+2304563134&4294967295,A=F+(O<<22&4294967295|O>>>10),O=N+(S^A&(F^S))+D[12]+1804603682&4294967295,N=A+(O<<7&4294967295|O>>>25),O=S+(F^N&(A^F))+D[13]+4254626195&4294967295,S=N+(O<<12&4294967295|O>>>20),O=F+(A^S&(N^A))+D[14]+2792965006&4294967295,F=S+(O<<17&4294967295|O>>>15),O=A+(N^F&(S^N))+D[15]+1236535329&4294967295,A=F+(O<<22&4294967295|O>>>10),O=N+(F^S&(A^F))+D[1]+4129170786&4294967295,N=A+(O<<5&4294967295|O>>>27),O=S+(A^F&(N^A))+D[6]+3225465664&4294967295,S=N+(O<<9&4294967295|O>>>23),O=F+(N^A&(S^N))+D[11]+643717713&4294967295,F=S+(O<<14&4294967295|O>>>18),O=A+(S^N&(F^S))+D[0]+3921069994&4294967295,A=F+(O<<20&4294967295|O>>>12),O=N+(F^S&(A^F))+D[5]+3593408605&4294967295,N=A+(O<<5&4294967295|O>>>27),O=S+(A^F&(N^A))+D[10]+38016083&4294967295,S=N+(O<<9&4294967295|O>>>23),O=F+(N^A&(S^N))+D[15]+3634488961&4294967295,F=S+(O<<14&4294967295|O>>>18),O=A+(S^N&(F^S))+D[4]+3889429448&4294967295,A=F+(O<<20&4294967295|O>>>12),O=N+(F^S&(A^F))+D[9]+568446438&4294967295,N=A+(O<<5&4294967295|O>>>27),O=S+(A^F&(N^A))+D[14]+3275163606&4294967295,S=N+(O<<9&4294967295|O>>>23),O=F+(N^A&(S^N))+D[3]+4107603335&4294967295,F=S+(O<<14&4294967295|O>>>18),O=A+(S^N&(F^S))+D[8]+1163531501&4294967295,A=F+(O<<20&4294967295|O>>>12),O=N+(F^S&(A^F))+D[13]+2850285829&4294967295,N=A+(O<<5&4294967295|O>>>27),O=S+(A^F&(N^A))+D[2]+4243563512&4294967295,S=N+(O<<9&4294967295|O>>>23),O=F+(N^A&(S^N))+D[7]+1735328473&4294967295,F=S+(O<<14&4294967295|O>>>18),O=A+(S^N&(F^S))+D[12]+2368359562&4294967295,A=F+(O<<20&4294967295|O>>>12),O=N+(A^F^S)+D[5]+4294588738&4294967295,N=A+(O<<4&4294967295|O>>>28),O=S+(N^A^F)+D[8]+2272392833&4294967295,S=N+(O<<11&4294967295|O>>>21),O=F+(S^N^A)+D[11]+1839030562&4294967295,F=S+(O<<16&4294967295|O>>>16),O=A+(F^S^N)+D[14]+4259657740&4294967295,A=F+(O<<23&4294967295|O>>>9),O=N+(A^F^S)+D[1]+2763975236&4294967295,N=A+(O<<4&4294967295|O>>>28),O=S+(N^A^F)+D[4]+1272893353&4294967295,S=N+(O<<11&4294967295|O>>>21),O=F+(S^N^A)+D[7]+4139469664&4294967295,F=S+(O<<16&4294967295|O>>>16),O=A+(F^S^N)+D[10]+3200236656&4294967295,A=F+(O<<23&4294967295|O>>>9),O=N+(A^F^S)+D[13]+681279174&4294967295,N=A+(O<<4&4294967295|O>>>28),O=S+(N^A^F)+D[0]+3936430074&4294967295,S=N+(O<<11&4294967295|O>>>21),O=F+(S^N^A)+D[3]+3572445317&4294967295,F=S+(O<<16&4294967295|O>>>16),O=A+(F^S^N)+D[6]+76029189&4294967295,A=F+(O<<23&4294967295|O>>>9),O=N+(A^F^S)+D[9]+3654602809&4294967295,N=A+(O<<4&4294967295|O>>>28),O=S+(N^A^F)+D[12]+3873151461&4294967295,S=N+(O<<11&4294967295|O>>>21),O=F+(S^N^A)+D[15]+530742520&4294967295,F=S+(O<<16&4294967295|O>>>16),O=A+(F^S^N)+D[2]+3299628645&4294967295,A=F+(O<<23&4294967295|O>>>9),O=N+(F^(A|~S))+D[0]+4096336452&4294967295,N=A+(O<<6&4294967295|O>>>26),O=S+(A^(N|~F))+D[7]+1126891415&4294967295,S=N+(O<<10&4294967295|O>>>22),O=F+(N^(S|~A))+D[14]+2878612391&4294967295,F=S+(O<<15&4294967295|O>>>17),O=A+(S^(F|~N))+D[5]+4237533241&4294967295,A=F+(O<<21&4294967295|O>>>11),O=N+(F^(A|~S))+D[12]+1700485571&4294967295,N=A+(O<<6&4294967295|O>>>26),O=S+(A^(N|~F))+D[3]+2399980690&4294967295,S=N+(O<<10&4294967295|O>>>22),O=F+(N^(S|~A))+D[10]+4293915773&4294967295,F=S+(O<<15&4294967295|O>>>17),O=A+(S^(F|~N))+D[1]+2240044497&4294967295,A=F+(O<<21&4294967295|O>>>11),O=N+(F^(A|~S))+D[8]+1873313359&4294967295,N=A+(O<<6&4294967295|O>>>26),O=S+(A^(N|~F))+D[15]+4264355552&4294967295,S=N+(O<<10&4294967295|O>>>22),O=F+(N^(S|~A))+D[6]+2734768916&4294967295,F=S+(O<<15&4294967295|O>>>17),O=A+(S^(F|~N))+D[13]+1309151649&4294967295,A=F+(O<<21&4294967295|O>>>11),O=N+(F^(A|~S))+D[4]+4149444226&4294967295,N=A+(O<<6&4294967295|O>>>26),O=S+(A^(N|~F))+D[11]+3174756917&4294967295,S=N+(O<<10&4294967295|O>>>22),O=F+(N^(S|~A))+D[2]+718787259&4294967295,F=S+(O<<15&4294967295|O>>>17),O=A+(S^(F|~N))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+F&4294967295,C.g[3]=C.g[3]+S&4294967295}n.prototype.u=function(C,N){N===void 0&&(N=C.length);for(var A=N-this.blockSize,D=this.B,F=this.h,S=0;S<N;){if(F==0)for(;S<=A;)i(this,C,S),S+=this.blockSize;if(typeof C=="string"){for(;S<N;)if(D[F++]=C.charCodeAt(S++),F==this.blockSize){i(this,D),F=0;break}}else for(;S<N;)if(D[F++]=C[S++],F==this.blockSize){i(this,D),F=0;break}}this.h=F,this.o+=N},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;var A=8*this.o;for(N=C.length-8;N<C.length;++N)C[N]=A&255,A/=256;for(this.u(C),C=Array(16),N=A=0;4>N;++N)for(var D=0;32>D;D+=8)C[A++]=this.g[N]>>>D&255;return C};function a(C,N){var A=o;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=N(C)}function s(C,N){this.h=N;for(var A=[],D=!0,F=C.length-1;0<=F;F--){var S=C[F]|0;D&&S==N||(A[F]=S,D=!1)}this.g=A}var o={};function l(C){return-128<=C&&128>C?a(C,function(N){return new s([N|0],0>N?-1:0)}):new s([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return b(c(-C));for(var N=[],A=1,D=0;C>=A;D++)N[D]=C/A|0,A*=4294967296;return new s(N,0)}function u(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return b(u(C.substring(1),N));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(N,8)),D=f,F=0;F<C.length;F+=8){var S=Math.min(8,C.length-F),O=parseInt(C.substring(F,F+S),N);8>S?(S=c(Math.pow(N,S)),D=D.j(S).add(c(O))):(D=D.j(A),D=D.add(c(O)))}return D}var f=l(0),p=l(1),h=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-b(this).m();for(var C=0,N=1,A=0;A<this.g.length;A++){var D=this.i(A);C+=(0<=D?D:4294967296+D)*N,N*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(g(this))return"-"+b(this).toString(C);for(var N=c(Math.pow(C,6)),A=this,D="";;){var F=E(A,N).g;A=m(A,F.j(N));var S=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=F,y(A))return S+D;for(;6>S.length;)S="0"+S;D=S+D}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=m(this,C),g(C)?-1:y(C)?0:1};function b(C){for(var N=C.g.length,A=[],D=0;D<N;D++)A[D]=~C.g[D];return new s(A,~C.h).add(p)}t.abs=function(){return g(this)?b(this):this},t.add=function(C){for(var N=Math.max(this.g.length,C.g.length),A=[],D=0,F=0;F<=N;F++){var S=D+(this.i(F)&65535)+(C.i(F)&65535),O=(S>>>16)+(this.i(F)>>>16)+(C.i(F)>>>16);D=O>>>16,S&=65535,O&=65535,A[F]=O<<16|S}return new s(A,A[A.length-1]&-2147483648?-1:0)};function m(C,N){return C.add(b(N))}t.j=function(C){if(y(this)||y(C))return f;if(g(this))return g(C)?b(this).j(b(C)):b(b(this).j(C));if(g(C))return b(this.j(b(C)));if(0>this.l(h)&&0>C.l(h))return c(this.m()*C.m());for(var N=this.g.length+C.g.length,A=[],D=0;D<2*N;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var F=0;F<C.g.length;F++){var S=this.i(D)>>>16,O=this.i(D)&65535,k=C.i(F)>>>16,ie=C.i(F)&65535;A[2*D+2*F]+=O*ie,v(A,2*D+2*F),A[2*D+2*F+1]+=S*ie,v(A,2*D+2*F+1),A[2*D+2*F+1]+=O*k,v(A,2*D+2*F+1),A[2*D+2*F+2]+=S*k,v(A,2*D+2*F+2)}for(D=0;D<N;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=N;D<2*N;D++)A[D]=0;return new s(A,0)};function v(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function w(C,N){this.g=C,this.h=N}function E(C,N){if(y(N))throw Error("division by zero");if(y(C))return new w(f,f);if(g(C))return N=E(b(C),N),new w(b(N.g),b(N.h));if(g(N))return N=E(C,b(N)),new w(b(N.g),N.h);if(30<C.g.length){if(g(C)||g(N))throw Error("slowDivide_ only works with positive integers.");for(var A=p,D=N;0>=D.l(C);)A=P(A),D=P(D);var F=$(A,1),S=$(D,1);for(D=$(D,2),A=$(A,2);!y(D);){var O=S.add(D);0>=O.l(C)&&(F=F.add(A),S=O),D=$(D,1),A=$(A,1)}return N=m(C,F.j(N)),new w(F,N)}for(F=f;0<=C.l(N);){for(A=Math.max(1,Math.floor(C.m()/N.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),S=c(A),O=S.j(N);g(O)||0<O.l(C);)A-=D,S=c(A),O=S.j(N);y(S)&&(S=p),F=F.add(S),C=m(C,O)}return new w(F,C)}t.A=function(C){return E(this,C).h},t.and=function(C){for(var N=Math.max(this.g.length,C.g.length),A=[],D=0;D<N;D++)A[D]=this.i(D)&C.i(D);return new s(A,this.h&C.h)},t.or=function(C){for(var N=Math.max(this.g.length,C.g.length),A=[],D=0;D<N;D++)A[D]=this.i(D)|C.i(D);return new s(A,this.h|C.h)},t.xor=function(C){for(var N=Math.max(this.g.length,C.g.length),A=[],D=0;D<N;D++)A[D]=this.i(D)^C.i(D);return new s(A,this.h^C.h)};function P(C){for(var N=C.g.length+1,A=[],D=0;D<N;D++)A[D]=C.i(D)<<1|C.i(D-1)>>>31;return new s(A,C.h)}function $(C,N){var A=N>>5;N%=32;for(var D=C.g.length-A,F=[],S=0;S<D;S++)F[S]=0<N?C.i(S+A)>>>N|C.i(S+A+1)<<32-N:C.i(S+A);return new s(F,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,M9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Ku=s}).apply(typeof cI<"u"?cI:typeof self<"u"?self:typeof window<"u"?window:{});var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F9,Vg,B9,L1,PA,$9,U9,V9;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,q,X){return _==Array.prototype||_==Object.prototype||(_[q]=X.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dv=="object"&&Dv];for(var q=0;q<_.length;++q){var X=_[q];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var n=r(this);function i(_,q){if(q)e:{var X=n;_=_.split(".");for(var me=0;me<_.length-1;me++){var je=_[me];if(!(je in X))break e;X=X[je]}_=_[_.length-1],me=X[_],q=q(me),q!=me&&q!=null&&e(X,_,{configurable:!0,writable:!0,value:q})}}function a(_,q){_ instanceof String&&(_+="");var X=0,me=!1,je={next:function(){if(!me&&X<_.length){var Me=X++;return{value:q(Me,_[Me]),done:!1}}return me=!0,{done:!0,value:void 0}}};return je[Symbol.iterator]=function(){return je},je}i("Array.prototype.values",function(_){return _||function(){return a(this,function(q,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(_){var q=typeof _;return q=q!="object"?q:_?Array.isArray(_)?"array":q:"null",q=="array"||q=="object"&&typeof _.length=="number"}function c(_){var q=typeof _;return q=="object"&&_!=null||q=="function"}function u(_,q,X){return _.call.apply(_.bind,arguments)}function f(_,q,X){if(!_)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(je,me),_.apply(q,je)}}return function(){return _.apply(q,arguments)}}function p(_,q,X){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,p.apply(null,arguments)}function h(_,q){var X=Array.prototype.slice.call(arguments,1);return function(){var me=X.slice();return me.push.apply(me,arguments),_.apply(this,me)}}function y(_,q){function X(){}X.prototype=q.prototype,_.aa=q.prototype,_.prototype=new X,_.prototype.constructor=_,_.Qb=function(me,je,Me){for(var Je=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Je[kt-2]=arguments[kt];return q.prototype[je].apply(me,Je)}}function g(_){const q=_.length;if(0<q){const X=Array(q);for(let me=0;me<q;me++)X[me]=_[me];return X}return[]}function b(_,q){for(let X=1;X<arguments.length;X++){const me=arguments[X];if(l(me)){const je=_.length||0,Me=me.length||0;_.length=je+Me;for(let Je=0;Je<Me;Je++)_[je+Je]=me[Je]}else _.push(me)}}class m{constructor(q,X){this.i=q,this.j=X,this.h=0,this.g=null}get(){let q;return 0<this.h?(this.h--,q=this.g,this.g=q.next,q.next=null):q=this.i(),q}}function v(_){return/^[\s\xa0]*$/.test(_)}function w(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function E(_){return E[" "](_),_}E[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function $(_,q,X){for(const me in _)q.call(X,_[me],me,_)}function C(_,q){for(const X in _)q.call(void 0,_[X],X,_)}function N(_){const q={};for(const X in _)q[X]=_[X];return q}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(_,q){let X,me;for(let je=1;je<arguments.length;je++){me=arguments[je];for(X in me)_[X]=me[X];for(let Me=0;Me<A.length;Me++)X=A[Me],Object.prototype.hasOwnProperty.call(me,X)&&(_[X]=me[X])}}function F(_){var q=1;_=_.split(":");const X=[];for(;0<q&&_.length;)X.push(_.shift()),q--;return _.length&&X.push(_.join(":")),X}function S(_){o.setTimeout(()=>{throw _},0)}function O(){var _=fe;let q=null;return _.g&&(q=_.g,_.g=_.g.next,_.g||(_.h=null),q.next=null),q}class k{constructor(){this.h=this.g=null}add(q,X){const me=ie.get();me.set(q,X),this.h?this.h.next=me:this.g=me,this.h=me}}var ie=new m(()=>new ae,_=>_.reset());class ae{constructor(){this.next=this.g=this.h=null}set(q,X){this.h=q,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,se=!1,fe=new k,we=()=>{const _=o.Promise.resolve(void 0);Q=()=>{_.then(ve)}};var ve=()=>{for(var _;_=O();){try{_.h.call(_.g)}catch(X){S(X)}var q=ie;q.j(_),100>q.h&&(q.h++,_.next=q.g,q.g=_)}se=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(_,q){this.type=_,this.g=this.target=q,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,q=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const X=()=>{};o.addEventListener("test",X,q),o.removeEventListener("test",X,q)}catch{}return _}();function de(_,q){if(K.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var X=this.type=_.type,me=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=q,q=_.relatedTarget){if(P){e:{try{E(q.nodeName);var je=!0;break e}catch{}je=!1}je||(q=null)}}else X=="mouseover"?q=_.fromElement:X=="mouseout"&&(q=_.toElement);this.relatedTarget=q,me?(this.clientX=me.clientX!==void 0?me.clientX:me.pageX,this.clientY=me.clientY!==void 0?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:ue[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&de.aa.h.call(this)}}y(de,K);var ue={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),V=0;function te(_,q,X,me,je){this.listener=_,this.proxy=null,this.src=q,this.type=X,this.capture=!!me,this.ha=je,this.key=++V,this.da=this.fa=!1}function ce(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Z(_){this.src=_,this.g={},this.h=0}Z.prototype.add=function(_,q,X,me,je){var Me=_.toString();_=this.g[Me],_||(_=this.g[Me]=[],this.h++);var Je=Ee(_,q,me,je);return-1<Je?(q=_[Je],X||(q.fa=!1)):(q=new te(q,this.src,Me,!!me,je),q.fa=X,_.push(q)),q};function J(_,q){var X=q.type;if(X in _.g){var me=_.g[X],je=Array.prototype.indexOf.call(me,q,void 0),Me;(Me=0<=je)&&Array.prototype.splice.call(me,je,1),Me&&(ce(q),_.g[X].length==0&&(delete _.g[X],_.h--))}}function Ee(_,q,X,me){for(var je=0;je<_.length;++je){var Me=_[je];if(!Me.da&&Me.listener==q&&Me.capture==!!X&&Me.ha==me)return je}return-1}var H="closure_lm_"+(1e6*Math.random()|0),be={};function B(_,q,X,me,je){if(Array.isArray(q)){for(var Me=0;Me<q.length;Me++)B(_,q[Me],X,me,je);return null}return X=Ae(X),_&&_[z]?_.K(q,X,c(me)?!!me.capture:!!me,je):j(_,q,X,!1,me,je)}function j(_,q,X,me,je,Me){if(!q)throw Error("Invalid event type");var Je=c(je)?!!je.capture:!!je,kt=Se(_);if(kt||(_[H]=kt=new Z(_)),X=kt.add(q,X,me,Je,Me),X.proxy)return X;if(me=R(),X.proxy=me,me.src=_,me.listener=X,_.addEventListener)ee||(je=Je),je===void 0&&(je=!1),_.addEventListener(q.toString(),me,je);else if(_.attachEvent)_.attachEvent(ne(q.toString()),me);else if(_.addListener&&_.removeListener)_.addListener(me);else throw Error("addEventListener and attachEvent are unavailable.");return X}function R(){function _(X){return q.call(_.src,_.listener,X)}const q=re;return _}function W(_,q,X,me,je){if(Array.isArray(q))for(var Me=0;Me<q.length;Me++)W(_,q[Me],X,me,je);else me=c(me)?!!me.capture:!!me,X=Ae(X),_&&_[z]?(_=_.i,q=String(q).toString(),q in _.g&&(Me=_.g[q],X=Ee(Me,X,me,je),-1<X&&(ce(Me[X]),Array.prototype.splice.call(Me,X,1),Me.length==0&&(delete _.g[q],_.h--)))):_&&(_=Se(_))&&(q=_.g[q.toString()],_=-1,q&&(_=Ee(q,X,me,je)),(X=-1<_?q[_]:null)&&G(X))}function G(_){if(typeof _!="number"&&_&&!_.da){var q=_.src;if(q&&q[z])J(q.i,_);else{var X=_.type,me=_.proxy;q.removeEventListener?q.removeEventListener(X,me,_.capture):q.detachEvent?q.detachEvent(ne(X),me):q.addListener&&q.removeListener&&q.removeListener(me),(X=Se(q))?(J(X,_),X.h==0&&(X.src=null,q[H]=null)):ce(_)}}}function ne(_){return _ in be?be[_]:be[_]="on"+_}function re(_,q){if(_.da)_=!0;else{q=new de(q,this);var X=_.listener,me=_.ha||_.src;_.fa&&G(_),_=X.call(me,q)}return _}function Se(_){return _=_[H],_ instanceof Z?_:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(_){return typeof _=="function"?_:(_[Ne]||(_[Ne]=function(q){return _.handleEvent(q)}),_[Ne])}function Ie(){M.call(this),this.i=new Z(this),this.M=this,this.F=null}y(Ie,M),Ie.prototype[z]=!0,Ie.prototype.removeEventListener=function(_,q,X,me){W(this,_,q,X,me)};function Fe(_,q){var X,me=_.F;if(me)for(X=[];me;me=me.F)X.push(me);if(_=_.M,me=q.type||q,typeof q=="string")q=new K(q,_);else if(q instanceof K)q.target=q.target||_;else{var je=q;q=new K(me,_),D(q,je)}if(je=!0,X)for(var Me=X.length-1;0<=Me;Me--){var Je=q.g=X[Me];je=Ke(Je,me,!0,q)&&je}if(Je=q.g=_,je=Ke(Je,me,!0,q)&&je,je=Ke(Je,me,!1,q)&&je,X)for(Me=0;Me<X.length;Me++)Je=q.g=X[Me],je=Ke(Je,me,!1,q)&&je}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var _=this.i,q;for(q in _.g){for(var X=_.g[q],me=0;me<X.length;me++)ce(X[me]);delete _.g[q],_.h--}}this.F=null},Ie.prototype.K=function(_,q,X,me){return this.i.add(String(_),q,!1,X,me)},Ie.prototype.L=function(_,q,X,me){return this.i.add(String(_),q,!0,X,me)};function Ke(_,q,X,me){if(q=_.i.g[String(q)],!q)return!0;q=q.concat();for(var je=!0,Me=0;Me<q.length;++Me){var Je=q[Me];if(Je&&!Je.da&&Je.capture==X){var kt=Je.listener,Vt=Je.ha||Je.src;Je.fa&&J(_.i,Je),je=kt.call(Vt,me)!==!1&&je}}return je&&!me.defaultPrevented}function nt(_,q,X){if(typeof _=="function")X&&(_=p(_,X));else if(_&&typeof _.handleEvent=="function")_=p(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(q)?-1:o.setTimeout(_,q||0)}function wt(_){_.g=nt(()=>{_.g=null,_.i&&(_.i=!1,wt(_))},_.l);const q=_.h;_.h=null,_.m.apply(null,q)}class et extends M{constructor(q,X){super(),this.m=q,this.l=X,this.h=null,this.i=!1,this.g=null}j(q){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(_){M.call(this),this.h=_,this.g={}}y(ar,M);var gt=[];function zr(_){$(_.g,function(q,X){this.g.hasOwnProperty(X)&&G(q)},_),_.g={}}ar.prototype.N=function(){ar.aa.N.call(this),zr(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=o.JSON.stringify,Mt=o.JSON.parse,ai=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function Ft(){}Ft.prototype.h=null;function ns(_){return _.h||(_.h=_.i())}function xr(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){K.call(this,"d")}y(Bn,K);function nr(){K.call(this,"c")}y(nr,K);var _t={},Xt=null;function is(){return Xt=Xt||new Ie}_t.La="serverreachability";function En(_){K.call(this,_t.La,_)}y(En,K);function _i(_){const q=is();Fe(q,new En(q))}_t.STAT_EVENT="statevent";function ka(_,q){K.call(this,_t.STAT_EVENT,_),this.stat=q}y(ka,K);function dt(_){const q=is();Fe(q,new ka(q,_))}_t.Ma="timingevent";function na(_,q){K.call(this,_t.Ma,_),this.size=q}y(na,K);function Ei(_,q){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},q)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function sn(_,q,X,me,je,Me){_.info(function(){if(_.g)if(Me)for(var Je="",kt=Me.split("&"),Vt=0;Vt<kt.length;Vt++){var It=kt[Vt].split("=");if(1<It.length){var or=It[0];It=It[1];var _r=or.split("_");Je=2<=_r.length&&_r[1]=="type"?Je+(or+"="+It+"&"):Je+(or+"=redacted&")}}else Je=null;else Je=Me;return"XMLHTTP REQ ("+me+") [attempt "+je+"]: "+q+`
`+X+`
`+Je})}function Xr(_,q,X,me,je,Me,Je){_.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+je+"]: "+q+`
`+X+`
`+Me+" "+Je})}function An(_,q,X,me){_.info(function(){return"XMLHTTP TEXT ("+q+"): "+$s(_,X)+(me?" "+me:"")})}function Bc(_,q){_.info(function(){return"TIMEOUT: "+q})}Sn.prototype.info=function(){};function $s(_,q){if(!_.g)return q;if(!q)return null;try{var X=JSON.parse(q);if(X){for(_=0;_<X.length;_++)if(Array.isArray(X[_])){var me=X[_];if(!(2>me.length)){var je=me[1];if(Array.isArray(je)&&!(1>je.length)){var Me=je[0];if(Me!="noop"&&Me!="stop"&&Me!="close")for(var Je=1;Je<je.length;Je++)je[Je]=""}}}}return $t(X)}catch{return q}}var Si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ia={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zi;function qi(){}y(qi,Ft),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},zi=new qi;function on(_,q,X,me){this.j=_,this.i=q,this.l=X,this.R=me||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ia}function Ia(){this.i=null,this.g="",this.h=!1}var Co={},ko={};function Io(_,q,X){_.L=1,_.v=Il(Wi(q)),_.m=X,_.P=!0,Nl(_,null)}function Nl(_,q){_.F=Date.now(),$c(_),_.A=Wi(_.v);var X=_.A,me=_.R;Array.isArray(me)||(me=[String(me)]),Tt(X.i,"t",me),_.C=0,X=_.j.J,_.h=new Ia,_.g=oe(_.j,X?q:null,!_.m),0<_.O&&(_.M=new et(p(_.Y,_,_.g),_.O)),q=_.U,X=_.g,me=_.ca;var je="readystatechange";Array.isArray(je)||(je&&(gt[0]=je.toString()),je=gt);for(var Me=0;Me<je.length;Me++){var Je=B(X,je[Me],me||q.handleEvent,!1,q.h||q);if(!Je)break;q.g[Je.key]=Je}q=_.H?N(_.H):{},_.m?(_.u||(_.u="POST"),q["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,q)):(_.u="GET",_.g.ea(_.A,_.u,null,q)),_i(),sn(_.i,_.u,_.A,_.l,_.R,_.m)}on.prototype.ca=function(_){_=_.target;const q=this.M;q&&$n(_)==3?q.j():this.Y(_)},on.prototype.Y=function(_){try{if(_==this.g)e:{const _r=$n(this.g);var q=this.g.Ba();const Ks=this.g.Z();if(!(3>_r)&&(_r!=3||this.g&&(this.h.h||this.g.oa()||_h(this.g)))){this.J||_r!=4||q==7||(q==8||0>=Ks?_i(3):_i(2)),jo(this);var X=this.g.Z();this.X=X;t:if(Tl(this)){var me=_h(this.g);_="";var je=me.length,Me=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),Oo(this);var Je="";break t}this.h.i=new o.TextDecoder}for(q=0;q<je;q++)this.h.h=!0,_+=this.h.i.decode(me[q],{stream:!(Me&&q==je-1)});me.length=0,this.h.g+=_,this.C=0,Je=this.h.g}else Je=this.g.oa();if(this.o=X==200,Xr(this.i,this.u,this.A,this.l,this.R,_r,X),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,Vt=this.g;if((kt=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(kt)){var It=kt;break t}}It=null}if(X=It)An(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pl(this,X);else{this.o=!1,this.s=3,dt(12),Us(this),Oo(this);break e}}if(this.P){X=!0;let oi;for(;!this.J&&this.C<Je.length;)if(oi=hh(this,Je),oi==ko){_r==4&&(this.s=4,dt(14),X=!1),An(this.i,this.l,null,"[Incomplete Response]");break}else if(oi==Co){this.s=4,dt(15),An(this.i,this.l,Je,"[Invalid Chunk]"),X=!1;break}else An(this.i,this.l,oi,null),Pl(this,oi);if(Tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_r!=4||Je.length!=0||this.h.h||(this.s=1,dt(16),X=!1),this.o=this.o&&X,!X)An(this.i,this.l,Je,"[Invalid Chunked Response]"),Us(this),Oo(this);else if(0<Je.length&&!this.W){this.W=!0;var or=this.j;or.g==this&&or.ba&&!or.M&&(or.j.info("Great, no buffering proxy detected. Bytes received: "+Je.length),eu(or),or.M=!0,dt(11))}}else An(this.i,this.l,Je,null),Pl(this,Je);_r==4&&Us(this),this.o&&!this.J&&(_r==4?Fo(this.j,this):(this.o=!1,$c(this)))}else Do(this.g),X==400&&0<Je.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Us(this),Oo(this)}}}catch{}finally{}};function Tl(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function hh(_,q){var X=_.C,me=q.indexOf(`
`,X);return me==-1?ko:(X=Number(q.substring(X,me)),isNaN(X)?Co:(me+=1,me+X>q.length?ko:(q=q.slice(me,me+X),_.C=me+X,q)))}on.prototype.cancel=function(){this.J=!0,Us(this)};function $c(_){_.S=Date.now()+_.I,ph(_,_.I)}function ph(_,q){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Ei(p(_.ba,_),q)}function jo(_){_.B&&(o.clearTimeout(_.B),_.B=null)}on.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Bc(this.i,this.A),this.L!=2&&(_i(),dt(17)),Us(this),this.s=2,Oo(this)):ph(this,this.S-_)};function Oo(_){_.j.G==0||_.J||Fo(_.j,_)}function Us(_){jo(_);var q=_.M;q&&typeof q.ma=="function"&&q.ma(),_.M=null,zr(_.U),_.g&&(q=_.g,_.g=null,q.abort(),q.ma())}function Pl(_,q){try{var X=_.j;if(X.G!=0&&(X.g==_||Cd(X.h,_))){if(!_.K&&Cd(X.h,_)&&X.G==3){try{var me=X.Da.g.parse(q)}catch{me=null}if(Array.isArray(me)&&me.length==3){var je=me;if(je[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<_.F)Gs(X),Xc(X);else break e;Dl(X),dt(18)}}else X.za=je[1],0<X.za-X.T&&37500>je[2]&&X.F&&X.v==0&&!X.C&&(X.C=Ei(p(X.Za,X),6e3));if(1>=Cl(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else Ai(X,11)}else if((_.K||X.g==_)&&Gs(X),!v(q))for(je=X.Da.g.parse(q),q=0;q<je.length;q++){let It=je[q];if(X.T=It[0],It=It[1],X.G==2)if(It[0]=="c"){X.K=It[1],X.ia=It[2];const or=It[3];or!=null&&(X.la=or,X.j.info("VER="+X.la));const _r=It[4];_r!=null&&(X.Aa=_r,X.j.info("SVER="+X.Aa));const Ks=It[5];Ks!=null&&typeof Ks=="number"&&0<Ks&&(me=1.5*Ks,X.L=me,X.j.info("backChannelRequestTimeoutMs_="+me)),me=X;const oi=_.g;if(oi){const Bo=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var Me=me.h;Me.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(Or(Me,Me.h),Me.h=null))}if(me.D){const $o=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(me.ya=$o,cr(me.I,me.D,$o))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-_.F,X.j.info("Handshake RTT: "+X.R+"ms")),me=X;var Je=_;if(me.qa=L(me,me.J?me.ia:null,me.W),Je.K){kd(me.h,Je);var kt=Je,Vt=me.L;Vt&&(kt.I=Vt),kt.B&&(jo(kt),$c(kt)),me.g=Je}else Zc(me);0<X.i.length&&Jc(X)}else It[0]!="stop"&&It[0]!="close"||Ai(X,7);else X.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Ai(X,7):Hs(X):It[0]!="noop"&&X.l&&X.l.ta(It),X.v=0)}}_i(4)}catch{}}var qm=class{constructor(_,q){this.g=_,this.map=q}};function Pd(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mh(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Cl(_){return _.h?1:_.g?_.g.size:0}function Cd(_,q){return _.h?_.h==q:_.g?_.g.has(q):!1}function Or(_,q){_.g?_.g.add(q):_.h=q}function kd(_,q){_.h&&_.h==q?_.h=null:_.g&&_.g.has(q)&&_.g.delete(q)}Pd.prototype.cancel=function(){if(this.i=Id(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Id(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let q=_.i;for(const X of _.g.values())q=q.concat(X.D);return q}return g(_.i)}function gh(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var q=[],X=_.length,me=0;me<X;me++)q.push(_[me]);return q}q=[],X=0;for(me in _)q[X++]=_[me];return q}function jd(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var q=[];_=_.length;for(var X=0;X<_;X++)q.push(X);return q}q=[],X=0;for(const me in _)q[X++]=me;return q}}}function yh(_,q){if(_.forEach&&typeof _.forEach=="function")_.forEach(q,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,q,void 0);else for(var X=jd(_),me=gh(_),je=me.length,Me=0;Me<je;Me++)q.call(void 0,me[Me],X&&X[Me],_)}var aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uc(_,q){if(_){_=_.split("&");for(var X=0;X<_.length;X++){var me=_[X].indexOf("="),je=null;if(0<=me){var Me=_[X].substring(0,me);je=_[X].substring(me+1)}else Me=_[X];q(Me,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function Jr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Jr){this.h=_.h,kl(this,_.j),this.o=_.o,this.g=_.g,Vc(this,_.s),this.l=_.l;var q=_.i,X=new Ro;X.i=q.i,q.g&&(X.g=new Map(q.g),X.h=q.h),Od(this,X),this.m=_.m}else _&&(q=String(_).match(aa))?(this.h=!1,kl(this,q[1]||"",!0),this.o=jl(q[2]||""),this.g=jl(q[3]||"",!0),Vc(this,q[4]),this.l=jl(q[5]||"",!0),Od(this,q[6]||"",!0),this.m=jl(q[7]||"")):(this.h=!1,this.i=new Ro(null,this.h))}Jr.prototype.toString=function(){var _=[],q=this.j;q&&_.push(Vs(q,vh,!0),":");var X=this.g;return(X||q=="file")&&(_.push("//"),(q=this.o)&&_.push(Vs(q,vh,!0),"@"),_.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&_.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&_.push("/"),_.push(Vs(X,X.charAt(0)=="/"?zs:Hm,!0))),(X=this.i.toString())&&_.push("?",X),(X=this.m)&&_.push("#",Vs(X,qc)),_.join("")};function Wi(_){return new Jr(_)}function kl(_,q,X){_.j=X?jl(q,!0):q,_.j&&(_.j=_.j.replace(/:$/,""))}function Vc(_,q){if(q){if(q=Number(q),isNaN(q)||0>q)throw Error("Bad port number "+q);_.s=q}else _.s=null}function Od(_,q,X){q instanceof Ro?(_.i=q,Gm(_.i,_.h)):(X||(q=Vs(q,zc)),_.i=new Ro(q,_.h))}function cr(_,q,X){_.i.set(q,X)}function Il(_){return cr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function jl(_,q){return _?q?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Vs(_,q,X){return typeof _=="string"?(_=encodeURI(_).replace(q,Wm),X&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Wm(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var vh=/[#\/\?@]/g,Hm=/[#\?:]/g,zs=/[#\?]/g,zc=/[#\?@]/g,qc=/#/g;function Ro(_,q){this.h=this.g=null,this.i=_||null,this.j=!!q}function Rr(_){_.g||(_.g=new Map,_.h=0,_.i&&Uc(_.i,function(q,X){_.add(decodeURIComponent(q.replace(/\+/g," ")),X)}))}t=Ro.prototype,t.add=function(_,q){Rr(this),this.i=null,_=Lo(this,_);var X=this.g.get(_);return X||this.g.set(_,X=[]),X.push(q),this.h+=1,this};function bh(_,q){Rr(_),q=Lo(_,q),_.g.has(q)&&(_.i=null,_.h-=_.g.get(q).length,_.g.delete(q))}function Rd(_,q){return Rr(_),q=Lo(_,q),_.g.has(q)}t.forEach=function(_,q){Rr(this),this.g.forEach(function(X,me){X.forEach(function(je){_.call(q,je,me,this)},this)},this)},t.na=function(){Rr(this);const _=Array.from(this.g.values()),q=Array.from(this.g.keys()),X=[];for(let me=0;me<q.length;me++){const je=_[me];for(let Me=0;Me<je.length;Me++)X.push(q[me])}return X},t.V=function(_){Rr(this);let q=[];if(typeof _=="string")Rd(this,_)&&(q=q.concat(this.g.get(Lo(this,_))));else{_=Array.from(this.g.values());for(let X=0;X<_.length;X++)q=q.concat(_[X])}return q},t.set=function(_,q){return Rr(this),this.i=null,_=Lo(this,_),Rd(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[q]),this.h+=1,this},t.get=function(_,q){return _?(_=this.V(_),0<_.length?String(_[0]):q):q};function Tt(_,q,X){bh(_,q),0<X.length&&(_.i=null,_.g.set(Lo(_,q),g(X)),_.h+=X.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],q=Array.from(this.g.keys());for(var X=0;X<q.length;X++){var me=q[X];const Me=encodeURIComponent(String(me)),Je=this.V(me);for(me=0;me<Je.length;me++){var je=Me;Je[me]!==""&&(je+="="+encodeURIComponent(String(Je[me]))),_.push(je)}}return this.i=_.join("&")};function Lo(_,q){return q=String(q),_.j&&(q=q.toLowerCase()),q}function Gm(_,q){q&&!_.j&&(Rr(_),_.i=null,_.g.forEach(function(X,me){var je=me.toLowerCase();me!=je&&(bh(this,me),Tt(this,je,X))},_)),_.j=q}function as(_,q){const X=new Sn;if(o.Image){const me=new Image;me.onload=h(ja,X,"TestLoadImage: loaded",!0,q,me),me.onerror=h(ja,X,"TestLoadImage: error",!1,q,me),me.onabort=h(ja,X,"TestLoadImage: abort",!1,q,me),me.ontimeout=h(ja,X,"TestLoadImage: timeout",!1,q,me),o.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=_}else q(!1)}function wh(_,q){const X=new Sn,me=new AbortController,je=setTimeout(()=>{me.abort(),ja(X,"TestPingServer: timeout",!1,q)},1e4);fetch(_,{signal:me.signal}).then(Me=>{clearTimeout(je),Me.ok?ja(X,"TestPingServer: ok",!0,q):ja(X,"TestPingServer: server error",!1,q)}).catch(()=>{clearTimeout(je),ja(X,"TestPingServer: error",!1,q)})}function ja(_,q,X,me,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),me(X)}catch{}}function Wc(){this.g=new ai}function Ld(_,q,X){const me=X||"";try{yh(_,function(je,Me){let Je=je;c(je)&&(Je=$t(je)),q.push(me+Me+"="+encodeURIComponent(Je))})}catch(je){throw q.push(me+"type="+encodeURIComponent("_badmap")),je}}function Hc(_){this.l=_.Ub||null,this.j=_.eb||!1}y(Hc,Ft),Hc.prototype.g=function(){return new Gc(this.l,this.j)},Hc.prototype.i=function(_){return function(){return _}}({});function Gc(_,q){Ie.call(this),this.D=_,this.o=q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Gc,Ie),t=Gc.prototype,t.open=function(_,q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=q,this.readyState=1,Oa(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(q.body=_),(this.D||o).fetch(new Request(this.A,q)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xh(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function xh(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var q=_.value?_.value:new Uint8Array(0);(q=this.v.decode(q,{stream:!_.done}))&&(this.response=this.responseText+=q)}_.done?qs(this):Oa(this),this.readyState==3&&xh(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,qs(this))},t.Qa=function(_){this.g&&(this.response=_,qs(this))},t.ga=function(){this.g&&qs(this)};function qs(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Oa(_)}t.setRequestHeader=function(_,q){this.u.append(_,q)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],q=this.h.entries();for(var X=q.next();!X.done;)X=X.value,_.push(X[0]+": "+X[1]),X=q.next();return _.join(`\r
`)};function Oa(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Ws(_){let q="";return $(_,function(X,me){q+=me,q+=":",q+=X,q+=`\r
`}),q}function Dd(_,q,X){e:{for(me in X){var me=!1;break e}me=!0}me||(X=Ws(X),typeof _=="string"?X!=null&&encodeURIComponent(String(X)):cr(_,q,X))}function sr(_){Ie.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(sr,Ie);var Md=/^https?$/i,Kc=["POST","PUT"];t=sr.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,q,X,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);q=q?q.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zi.g(),this.v=this.o?ns(this.o):ns(zi),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(q,String(_),!0),this.B=!1}catch(Me){Fd(this,Me);return}if(_=X||"",X=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var je in me)X.set(je,me[je]);else if(typeof me.keys=="function"&&typeof me.get=="function")for(const Me of me.keys())X.set(Me,me.get(Me));else throw Error("Unknown input type for opt_headers: "+String(me));me=Array.from(X.keys()).find(Me=>Me.toLowerCase()=="content-type"),je=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Kc,q,void 0))||me||je||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,Je]of X)this.g.setRequestHeader(Me,Je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ra(this),this.u=!0,this.g.send(_),this.u=!1}catch(Me){Fd(this,Me)}};function Fd(_,q){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=q,_.m=5,Bd(_),Ol(_)}function Bd(_){_.A||(_.A=!0,Fe(_,"complete"),Fe(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Fe(this,"complete"),Fe(this,"abort"),Ol(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ol(this,!0)),sr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$d(this):this.bb())},t.bb=function(){$d(this)};function $d(_){if(_.h&&typeof s<"u"&&(!_.v[1]||$n(_)!=4||_.Z()!=2)){if(_.u&&$n(_)==4)nt(_.Ea,0,_);else if(Fe(_,"readystatechange"),$n(_)==4){_.h=!1;try{const Je=_.Z();e:switch(Je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break e;default:q=!1}var X;if(!(X=q)){var me;if(me=Je===0){var je=String(_.D).match(aa)[1]||null;!je&&o.self&&o.self.location&&(je=o.self.location.protocol.slice(0,-1)),me=!Md.test(je?je.toLowerCase():"")}X=me}if(X)Fe(_,"complete"),Fe(_,"success");else{_.m=6;try{var Me=2<$n(_)?_.g.statusText:""}catch{Me=""}_.l=Me+" ["+_.Z()+"]",Bd(_)}}finally{Ol(_)}}}}function Ol(_,q){if(_.g){Ra(_);const X=_.g,me=_.v[0]?()=>{}:null;_.g=null,_.v=null,q||Fe(_,"ready");try{X.onreadystatechange=me}catch{}}}function Ra(_){_.I&&(o.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function $n(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var q=this.g.responseText;return _&&q.indexOf(_)==0&&(q=q.substring(_.length)),Mt(q)}};function _h(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Do(_){const q={};_=(_.g&&2<=$n(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let me=0;me<_.length;me++){if(v(_[me]))continue;var X=F(_[me]);const je=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const Me=q[je]||[];q[je]=Me,Me.push(X)}C(q,function(me){return me.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(_,q,X){return X&&X.internalChannelParams&&X.internalChannelParams[_]||q}function Yc(_){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=si("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=si("baseRetryDelayMs",5e3,_),this.cb=si("retryDelaySeedMs",1e4,_),this.Wa=si("forwardChannelMaxRetries",2,_),this.wa=si("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Pd(_&&_.concurrentRequestLimit),this.Da=new Wc,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yc.prototype,t.la=8,t.G=1,t.connect=function(_,q,X,me){dt(0),this.W=_,this.H=q||{},X&&me!==void 0&&(this.H.OSID=X,this.H.OAID=me),this.F=this.X,this.I=L(this,null,this.W),Jc(this)};function Hs(_){if(Rl(_),_.G==3){var q=_.U++,X=Wi(_.I);if(cr(X,"SID",_.K),cr(X,"RID",q),cr(X,"TYPE","terminate"),Mo(_,X),q=new on(_,_.j,q),q.L=2,q.v=Il(Wi(X)),X=!1,o.navigator&&o.navigator.sendBeacon)try{X=o.navigator.sendBeacon(q.v.toString(),"")}catch{}!X&&o.Image&&(new Image().src=q.v,X=!0),X||(q.g=oe(q.j,null),q.g.ea(q.v)),q.F=Date.now(),$c(q)}ru(_)}function Xc(_){_.g&&(eu(_),_.g.cancel(),_.g=null)}function Rl(_){Xc(_),_.u&&(o.clearTimeout(_.u),_.u=null),Gs(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function Jc(_){if(!mh(_.h)&&!_.s){_.s=!0;var q=_.Ga;Q||we(),se||(Q(),se=!0),fe.add(q,_),_.B=0}}function Ud(_,q){return Cl(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=q.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Ei(p(_.Ga,_,q),tu(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const je=new on(this,this.j,_);let Me=this.o;if(this.S&&(Me?(Me=N(Me),D(Me,this.S)):Me=this.S),this.m!==null||this.O||(je.H=Me,Me=null),this.P)e:{for(var q=0,X=0;X<this.i.length;X++){t:{var me=this.i[X];if("__data__"in me.map&&(me=me.map.__data__,typeof me=="string")){me=me.length;break t}me=void 0}if(me===void 0)break;if(q+=me,4096<q){q=X;break e}if(q===4096||X===this.i.length-1){q=X+1;break e}}q=1e3}else q=1e3;q=Ll(this,je,q),X=Wi(this.I),cr(X,"RID",_),cr(X,"CVER",22),this.D&&cr(X,"X-HTTP-Session-Id",this.D),Mo(this,X),Me&&(this.O?q="headers="+encodeURIComponent(String(Ws(Me)))+"&"+q:this.m&&Dd(X,this.m,Me)),Or(this.h,je),this.Ua&&cr(X,"TYPE","init"),this.P?(cr(X,"$req",q),cr(X,"SID","null"),je.T=!0,Io(je,X,null)):Io(je,X,q),this.G=2}}else this.G==3&&(_?Qc(this,_):this.i.length==0||mh(this.h)||Qc(this))};function Qc(_,q){var X;q?X=q.l:X=_.U++;const me=Wi(_.I);cr(me,"SID",_.K),cr(me,"RID",X),cr(me,"AID",_.T),Mo(_,me),_.m&&_.o&&Dd(me,_.m,_.o),X=new on(_,_.j,X,_.B+1),_.m===null&&(X.H=_.o),q&&(_.i=q.D.concat(_.i)),q=Ll(_,X,1e3),X.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Or(_.h,X),Io(X,me,q)}function Mo(_,q){_.H&&$(_.H,function(X,me){cr(q,me,X)}),_.l&&yh({},function(X,me){cr(q,me,X)})}function Ll(_,q,X){X=Math.min(_.i.length,X);var me=_.l?p(_.l.Na,_.l,_):null;e:{var je=_.i;let Me=-1;for(;;){const Je=["count="+X];Me==-1?0<X?(Me=je[0].g,Je.push("ofs="+Me)):Me=0:Je.push("ofs="+Me);let kt=!0;for(let Vt=0;Vt<X;Vt++){let It=je[Vt].g;const or=je[Vt].map;if(It-=Me,0>It)Me=Math.max(0,je[Vt].g-100),kt=!1;else try{Ld(or,Je,"req"+It+"_")}catch{me&&me(or)}}if(kt){me=Je.join("&");break e}}}return _=_.i.splice(0,X),q.D=_,me}function Zc(_){if(!_.g&&!_.u){_.Y=1;var q=_.Fa;Q||we(),se||(Q(),se=!0),fe.add(q,_),_.v=0}}function Dl(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Ei(p(_.Fa,_),tu(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,Eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Ei(p(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Xc(this),Eh(this))};function eu(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function Eh(_){_.g=new on(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var q=Wi(_.qa);cr(q,"RID","rpc"),cr(q,"SID",_.K),cr(q,"AID",_.T),cr(q,"CI",_.F?"0":"1"),!_.F&&_.ja&&cr(q,"TO",_.ja),cr(q,"TYPE","xmlhttp"),Mo(_,q),_.m&&_.o&&Dd(q,_.m,_.o),_.L&&(_.g.I=_.L);var X=_.g;_=_.ia,X.L=1,X.v=Il(Wi(q)),X.m=null,X.P=!0,Nl(X,_)}t.Za=function(){this.C!=null&&(this.C=null,Xc(this),Dl(this),dt(19))};function Gs(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function Fo(_,q){var X=null;if(_.g==q){Gs(_),eu(_),_.g=null;var me=2}else if(Cd(_.h,q))X=q.D,kd(_.h,q),me=1;else return;if(_.G!=0){if(q.o)if(me==1){X=q.m?q.m.length:0,q=Date.now()-q.F;var je=_.B;me=is(),Fe(me,new na(me,X)),Jc(_)}else Zc(_);else if(je=q.s,je==3||je==0&&0<q.X||!(me==1&&Ud(_,q)||me==2&&Dl(_)))switch(X&&0<X.length&&(q=_.h,q.i=q.i.concat(X)),je){case 1:Ai(_,5);break;case 4:Ai(_,10);break;case 3:Ai(_,6);break;default:Ai(_,2)}}}function tu(_,q){let X=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(X*=2),X*q}function Ai(_,q){if(_.j.info("Error code "+q),q==2){var X=p(_.fb,_),me=_.Xa;const je=!me;me=new Jr(me||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||kl(me,"https"),Il(me),je?as(me.toString(),X):wh(me.toString(),X)}else dt(2);_.G=0,_.l&&_.l.sa(q),ru(_),Rl(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function ru(_){if(_.G=0,_.ka=[],_.l){const q=Id(_.h);(q.length!=0||_.i.length!=0)&&(b(_.ka,q),b(_.ka,_.i),_.h.i.length=0,g(_.i),_.i.length=0),_.l.ra()}}function L(_,q,X){var me=X instanceof Jr?Wi(X):new Jr(X);if(me.g!="")q&&(me.g=q+"."+me.g),Vc(me,me.s);else{var je=o.location;me=je.protocol,q=q?q+"."+je.hostname:je.hostname,je=+je.port;var Me=new Jr(null);me&&kl(Me,me),q&&(Me.g=q),je&&Vc(Me,je),X&&(Me.l=X),me=Me}return X=_.D,q=_.ya,X&&q&&cr(me,X,q),cr(me,"VER",_.la),Mo(_,me),me}function oe(_,q,X){if(q&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return q=_.Ca&&!_.pa?new sr(new Hc({eb:X})):new sr(_.pa),q.Ha(_.J),q}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _e(){}t=_e.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Te(){}Te.prototype.g=function(_,q){return new Oe(_,q)};function Oe(_,q){Ie.call(this),this.g=new Yc(q),this.l=_,this.h=q&&q.messageUrlParams||null,_=q&&q.messageHeaders||null,q&&q.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=q&&q.initMessageHeaders||null,q&&q.messageContentType&&(_?_["X-WebChannel-Content-Type"]=q.messageContentType:_={"X-WebChannel-Content-Type":q.messageContentType}),q&&q.va&&(_?_["X-WebChannel-Client-Profile"]=q.va:_={"X-WebChannel-Client-Profile":q.va}),this.g.S=_,(_=q&&q.Sb)&&!v(_)&&(this.g.m=_),this.v=q&&q.supportsCrossDomainXhr||!1,this.u=q&&q.sendRawJson||!1,(q=q&&q.httpSessionIdParam)&&!v(q)&&(this.g.D=q,_=this.h,_!==null&&q in _&&(_=this.h,q in _&&delete _[q])),this.j=new at(this)}y(Oe,Ie),Oe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Oe.prototype.close=function(){Hs(this.g)},Oe.prototype.o=function(_){var q=this.g;if(typeof _=="string"){var X={};X.__data__=_,_=X}else this.u&&(X={},X.__data__=$t(_),_=X);q.i.push(new qm(q.Ya++,_)),q.G==3&&Jc(q)},Oe.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,Oe.aa.N.call(this)};function Ue(_){Bn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var q=_.__sm__;if(q){e:{for(const X in q){_=X;break e}_=void 0}(this.i=_)&&(_=this.i,q=q!==null&&_ in q?q[_]:void 0),this.data=q}else this.data=_}y(Ue,Bn);function Xe(){nr.call(this),this.status=1}y(Xe,nr);function at(_){this.g=_}y(at,_e),at.prototype.ua=function(){Fe(this.g,"a")},at.prototype.ta=function(_){Fe(this.g,new Ue(_))},at.prototype.sa=function(_){Fe(this.g,new Xe)},at.prototype.ra=function(){Fe(this.g,"b")},Te.prototype.createWebChannel=Te.prototype.g,Oe.prototype.send=Oe.prototype.o,Oe.prototype.open=Oe.prototype.m,Oe.prototype.close=Oe.prototype.close,V9=function(){return new Te},U9=function(){return is()},$9=_t,PA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,L1=Si,ia.COMPLETE="complete",B9=ia,xr.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,Vg=xr,sr.prototype.listenOnce=sr.prototype.L,sr.prototype.getLastError=sr.prototype.Ka,sr.prototype.getLastErrorCode=sr.prototype.Ba,sr.prototype.getStatus=sr.prototype.Z,sr.prototype.getResponseJson=sr.prototype.Oa,sr.prototype.getResponseText=sr.prototype.oa,sr.prototype.send=sr.prototype.ea,sr.prototype.setWithCredentials=sr.prototype.Ha,F9=sr}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});const uI="@firebase/firestore",dI="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Zw("@firebase/firestore");function Gh(){return $f.logLevel}function ut(t,...e){if($f.logLevel<=qt.DEBUG){const r=e.map(A3);$f.debug(`Firestore (${Nm}): ${t}`,...r)}}function _c(t,...e){if($f.logLevel<=qt.ERROR){const r=e.map(A3);$f.error(`Firestore (${Nm}): ${t}`,...r)}}function Hp(t,...e){if($f.logLevel<=qt.WARN){const r=e.map(A3);$f.warn(`Firestore (${Nm}): ${t}`,...r)}}function A3(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,z9(t,n,r)}function z9(t,e,r){let n=`FIRESTORE (${Nm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw _c(n),new Error(n)}function lr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||z9(e,i,n)}function Ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends So{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Li.UNAUTHENTICATED))}shutdown(){}}class ire{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class are{constructor(e){this.t=e,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){lr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new dc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new dc,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new dc)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(lr(typeof n.accessToken=="string",31837,{l:n}),new q9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lr(e===null||typeof e=="string",2055,{h:e}),new Li(e)}}class sre{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Li.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ore{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new sre(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lre{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){lr(this.o===void 0,3512);const n=a=>{a.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ut("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(lr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new fI(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=cre(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Wt(t,e){return t<e?-1:t>e?1:0}function CA(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return q5(i)===q5(a)?Wt(i,a):q5(i)?1:-1}return Wt(t.length,e.length)}const ure=55296,dre=57343;function q5(t){const e=t.charCodeAt(0);return e>=ure&&e<=dre}function Gp(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="__name__";class Ho{constructor(e,r,n){r===void 0?r=0:r>e.length&&Nt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Nt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ho.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ho?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Ho.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Wt(e.length,r.length)}static compareSegments(e,r){const n=Ho.isNumericId(e),i=Ho.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Ho.extractNumericId(e).compare(Ho.extractNumericId(r)):CA(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ku.fromString(e.substring(4,e.length-2))}}class Ir extends Ho{construct(e,r,n){return new Ir(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ot(Ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Ir(r)}static emptyPath(){return new Ir([])}}const fre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends Ho{construct(e,r,n){return new gi(e,r,n)}static isValidIdentifier(e){return fre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hI}static keyField(){return new gi([hI])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ot(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ot(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ot(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new ot(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(r)}static emptyPath(){return new gi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.path=e}static fromPath(e){return new bt(Ir.fromString(e))}static fromName(e){return new bt(Ir.fromString(e).popFirst(5))}static empty(){return new bt(Ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ir.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ir.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new Ir(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t,e,r){if(!r)throw new ot(Ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hre(t,e,r,n){if(e===!0&&n===!0)throw new ot(Ve.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function pI(t){if(!bt.isDocumentKey(t))throw new ot(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mI(t){if(bt.isDocumentKey(t))throw new ot(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function H9(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function nx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Nt(12329,{type:typeof t})}function wo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ot(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=nx(t);throw new ot(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,e){const r={typeString:t};return e&&(r.value=e),r}function by(t,e){if(!H9(t))throw new ot(Ve.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new ot(Ve.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=-62135596800,yI=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*yI);return new Dt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ot(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ot(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<gI)throw new ot(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yI}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(by(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:Ln("string",Dt._jsonSchemaVersion),seconds:Ln("number"),nanoseconds:Ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Dt(0,0))}static max(){return new Ct(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=-1;function pre(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ct.fromTimestamp(n===1e9?new Dt(r+1,0):new Dt(r,n));return new td(i,bt.empty(),e)}function mre(t){return new td(t.readTime,t.key,B0)}class td{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new td(Ct.min(),bt.empty(),B0)}static max(){return new td(Ct.max(),bt.empty(),B0)}}function gre(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=bt.comparator(t.documentKey,e.documentKey),r!==0?r:Wt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(t){if(t.code!==Ve.FAILED_PRECONDITION||t.message!==yre)throw t;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ge((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ge?r:Ge.resolve(r)}catch(r){return Ge.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ge.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ge.reject(r)}static resolve(e){return new Ge((r,n)=>{r(e)})}static reject(e){return new Ge((r,n)=>{n(e)})}static waitFor(e){return new Ge((r,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(e){let r=Ge.resolve(!1);for(const n of e)r=r.next(i=>i?Ge.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new Ge((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(u=>{s[c]=u,++o,o===a&&n(s)},u=>i(u))}})}static doWhile(e,r){return new Ge((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function bre(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Pm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ix.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=-1;function ax(t){return t==null}function Ib(t){return t===0&&1/t==-1/0}function wre(t){return typeof t=="number"&&Number.isInteger(t)&&!Ib(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="";function xre(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=vI(e)),e=_re(t.get(r),e);return vI(e)}function _re(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case G9:r+="";break;default:r+=a}}return r}function vI(t){return t+G9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function yd(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function K9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,r){this.comparator=e,this.root=r||pi.EMPTY}insert(e,r){return new Kr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new Kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mv(this.root,e,this.comparator,!0)}}class Mv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pi{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??pi.RED,this.left=i??pi.EMPTY,this.right=a??pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new pi(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return pi.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Nt(27949);return e+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1;pi.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new pi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new Kr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new wI(this.data.getIterator())}getIteratorFrom(e){return new wI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Wn(this.comparator);return r.data=e,r}}class wI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.fields=e,e.sort(gi.comparator)}static empty(){return new Ha([])}unionWith(e){let r=new Wn(gi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ha(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Gp(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Y9("Invalid base64 string: "+a):a}}(e);return new wi(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new wi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const Ere=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rd(t){if(lr(!!t,39018),typeof t=="string"){let e=0;const r=Ere.exec(t);if(lr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:un(t.seconds),nanos:un(t.nanos)}}function un(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nd(t){return typeof t=="string"?wi.fromBase64String(t):wi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="server_timestamp",J9="__type__",Q9="__previous_value__",Z9="__local_write_time__";function P3(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[J9])==null?void 0:n.stringValue)===X9}function sx(t){const e=t.mapValue.fields[Q9];return P3(e)?sx(e):e}function $0(t){const e=rd(t.mapValue.fields[Z9].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(e,r,n,i,a,s,o,l,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const jb="(default)";class U0{constructor(e,r){this.projectId=e,this.database=r||jb}static empty(){return new U0("","")}get isDefaultDatabase(){return this.database===jb}isEqual(e){return e instanceof U0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="__type__",tB="__max__",Fv={mapValue:{fields:{__type__:{stringValue:tB}}}},rB="__vector__",Ob="value";function id(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?P3(t)?4:Nre(t)?9007199254740991:Are(t)?10:11:Nt(28295,{value:t})}function gl(t,e){if(t===e)return!0;const r=id(t);if(r!==id(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $0(t).isEqual($0(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=rd(i.timestampValue),o=rd(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return nd(i.bytesValue).isEqual(nd(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return un(i.geoPointValue.latitude)===un(a.geoPointValue.latitude)&&un(i.geoPointValue.longitude)===un(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return un(i.integerValue)===un(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=un(i.doubleValue),o=un(a.doubleValue);return s===o?Ib(s)===Ib(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Gp(t.arrayValue.values||[],e.arrayValue.values||[],gl);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(bI(s)!==bI(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!gl(s[l],o[l])))return!1;return!0}(t,e);default:return Nt(52216,{left:t})}}function V0(t,e){return(t.values||[]).find(r=>gl(r,e))!==void 0}function Kp(t,e){if(t===e)return 0;const r=id(t),n=id(e);if(r!==n)return Wt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Wt(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=un(a.integerValue||a.doubleValue),l=un(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return xI(t.timestampValue,e.timestampValue);case 4:return xI($0(t),$0(e));case 5:return CA(t.stringValue,e.stringValue);case 6:return function(a,s){const o=nd(a),l=nd(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Wt(o[c],l[c]);if(u!==0)return u}return Wt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Wt(un(a.latitude),un(s.latitude));return o!==0?o:Wt(un(a.longitude),un(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _I(t.arrayValue,e.arrayValue);case 10:return function(a,s){var p,h,y,g;const o=a.fields||{},l=s.fields||{},c=(p=o[Ob])==null?void 0:p.arrayValue,u=(h=l[Ob])==null?void 0:h.arrayValue,f=Wt(((y=c==null?void 0:c.values)==null?void 0:y.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:_I(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Fv.mapValue&&s===Fv.mapValue)return 0;if(a===Fv.mapValue)return 1;if(s===Fv.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const p=CA(l[f],u[f]);if(p!==0)return p;const h=Kp(o[l[f]],c[u[f]]);if(h!==0)return h}return Wt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Nt(23264,{he:r})}}function xI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Wt(t,e);const r=rd(t),n=rd(e),i=Wt(r.seconds,n.seconds);return i!==0?i:Wt(r.nanos,n.nanos)}function _I(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Kp(r[i],n[i]);if(a)return a}return Wt(r.length,n.length)}function Yp(t){return kA(t)}function kA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=rd(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return nd(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return bt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=kA(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${kA(r.fields[s])}`;return i+"}"}(t.mapValue):Nt(61005,{value:t})}function D1(t){switch(id(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sx(t);return e?16+D1(e):16;case 5:return 2*t.stringValue.length;case 6:return nd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+D1(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return yd(n.fields,(a,s)=>{i+=a.length+D1(s)}),i}(t.mapValue);default:throw Nt(13486,{value:t})}}function EI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function IA(t){return!!t&&"integerValue"in t}function C3(t){return!!t&&"arrayValue"in t}function SI(t){return!!t&&"nullValue"in t}function AI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function M1(t){return!!t&&"mapValue"in t}function Are(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[eB])==null?void 0:n.stringValue)===rB}function s0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yd(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=s0(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=s0(t.arrayValue.values[r]);return e}return{...t}}function Nre(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.value=e}static empty(){return new ma({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!M1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=s0(r)}setAll(e){let r=gi.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=s0(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());M1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return gl(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];M1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){yd(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new ma(s0(this.value))}}function nB(t){const e=[];return yd(t.fields,(r,n)=>{const i=new gi([r]);if(M1(n)){const a=nB(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Ha(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Mi(e,0,Ct.min(),Ct.min(),Ct.min(),ma.empty(),0)}static newFoundDocument(e,r,n,i){return new Mi(e,1,r,Ct.min(),n,i,0)}static newNoDocument(e,r){return new Mi(e,2,r,Ct.min(),Ct.min(),ma.empty(),0)}static newUnknownDocument(e,r){return new Mi(e,3,r,Ct.min(),Ct.min(),ma.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ma.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ma.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,r){this.position=e,this.inclusive=r}}function NI(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=bt.comparator(bt.fromName(s.referenceValue),r.key):n=Kp(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function TI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!gl(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,r="asc"){this.field=e,this.dir=r}}function Tre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{}class On extends iB{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Cre(e,r,n):r==="array-contains"?new jre(e,n):r==="in"?new Ore(e,n):r==="not-in"?new Rre(e,n):r==="array-contains-any"?new Lre(e,n):new On(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new kre(e,n):new Ire(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Kp(r,this.value)):r!==null&&id(this.value)===id(r)&&this.matchesComparison(Kp(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xo extends iB{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new xo(e,r)}matches(e){return aB(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aB(t){return t.op==="and"}function sB(t){return Pre(t)&&aB(t)}function Pre(t){for(const e of t.filters)if(e instanceof xo)return!1;return!0}function jA(t){if(t instanceof On)return t.field.canonicalString()+t.op.toString()+Yp(t.value);if(sB(t))return t.filters.map(e=>jA(e)).join(",");{const e=t.filters.map(r=>jA(r)).join(",");return`${t.op}(${e})`}}function oB(t,e){return t instanceof On?function(n,i){return i instanceof On&&n.op===i.op&&n.field.isEqual(i.field)&&gl(n.value,i.value)}(t,e):t instanceof xo?function(n,i){return i instanceof xo&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&oB(s,i.filters[o]),!0):!1}(t,e):void Nt(19439)}function lB(t){return t instanceof On?function(r){return`${r.field.canonicalString()} ${r.op} ${Yp(r.value)}`}(t):t instanceof xo?function(r){return r.op.toString()+" {"+r.getFilters().map(lB).join(" ,")+"}"}(t):"Filter"}class Cre extends On{constructor(e,r,n){super(e,r,n),this.key=bt.fromName(n.referenceValue)}matches(e){const r=bt.comparator(e.key,this.key);return this.matchesComparison(r)}}class kre extends On{constructor(e,r){super(e,"in",r),this.keys=cB("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ire extends On{constructor(e,r){super(e,"not-in",r),this.keys=cB("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function cB(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>bt.fromName(n.referenceValue))}class jre extends On{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return C3(r)&&V0(r.arrayValue,this.value)}}class Ore extends On{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&V0(this.value.arrayValue,r)}}class Rre extends On{constructor(e,r){super(e,"not-in",r)}matches(e){if(V0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!V0(this.value.arrayValue,r)}}class Lre extends On{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!C3(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>V0(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function PI(t,e=null,r=[],n=[],i=null,a=null,s=null){return new Dre(t,e,r,n,i,a,s)}function k3(t){const e=Ot(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>jA(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),ax(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Yp(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Yp(n)).join(",")),e.Te=r}return e.Te}function I3(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Tre(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!oB(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TI(t.startAt,e.startAt)&&TI(t.endAt,e.endAt)}function OA(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Mre(t,e,r,n,i,a,s,o){return new Cm(t,e,r,n,i,a,s,o)}function j3(t){return new Cm(t)}function CI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uB(t){return t.collectionGroup!==null}function o0(t){const e=Ot(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Wn(gi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new z0(a,n))}),r.has(gi.keyField().canonicalString())||e.Ie.push(new z0(gi.keyField(),n))}return e.Ie}function ll(t){const e=Ot(t);return e.Ee||(e.Ee=Fre(e,o0(t))),e.Ee}function Fre(t,e){if(t.limitType==="F")return PI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new z0(i.field,a)});const r=t.endAt?new Rb(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Rb(t.startAt.position,t.startAt.inclusive):null;return PI(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function RA(t,e){const r=t.filters.concat([e]);return new Cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Lb(t,e,r){return new Cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function ox(t,e){return I3(ll(t),ll(e))&&t.limitType===e.limitType}function dB(t){return`${k3(ll(t))}|lt:${t.limitType}`}function Kh(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>lB(i)).join(", ")}]`),ax(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Yp(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Yp(i)).join(",")),`Target(${n})`}(ll(t))}; limitType=${t.limitType})`}function lx(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):bt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of o0(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,o,l){const c=NI(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,o0(n),i)||n.endAt&&!function(s,o,l){const c=NI(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,o0(n),i))}(t,e)}function Bre(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fB(t){return(e,r)=>{let n=!1;for(const i of o0(t)){const a=$re(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function $re(t,e,r){const n=t.field.isKeyField()?bt.comparator(e.key,r.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?Kp(l,c):Nt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Nt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yd(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return K9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ure=new Kr(bt.comparator);function Ec(){return Ure}const hB=new Kr(bt.comparator);function zg(...t){let e=hB;for(const r of t)e=e.insert(r.key,r);return e}function pB(t){let e=hB;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ff(){return l0()}function mB(){return l0()}function l0(){return new th(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vre=new Kr(bt.comparator),zre=new Wn(bt.comparator);function Ht(...t){let e=zre;for(const r of t)e=e.add(r);return e}const qre=new Wn(Wt);function Wre(){return qre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ib(e)?"-0":e}}function gB(t){return{integerValue:""+t}}function Hre(t,e){return wre(e)?gB(e):O3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this._=void 0}}function Gre(t,e,r){return t instanceof Db?function(i,a){const s={fields:{[J9]:{stringValue:X9},[Z9]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&P3(a)&&(a=sx(a)),a&&(s.fields[Q9]=a),{mapValue:s}}(r,e):t instanceof q0?vB(t,e):t instanceof W0?bB(t,e):function(i,a){const s=yB(i,a),o=kI(s)+kI(i.Ae);return IA(s)&&IA(i.Ae)?gB(o):O3(i.serializer,o)}(t,e)}function Kre(t,e,r){return t instanceof q0?vB(t,e):t instanceof W0?bB(t,e):r}function yB(t,e){return t instanceof Mb?function(n){return IA(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Db extends cx{}class q0 extends cx{constructor(e){super(),this.elements=e}}function vB(t,e){const r=wB(e);for(const n of t.elements)r.some(i=>gl(i,n))||r.push(n);return{arrayValue:{values:r}}}class W0 extends cx{constructor(e){super(),this.elements=e}}function bB(t,e){let r=wB(e);for(const n of t.elements)r=r.filter(i=>!gl(i,n));return{arrayValue:{values:r}}}class Mb extends cx{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function kI(t){return un(t.integerValue||t.doubleValue)}function wB(t){return C3(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Yre(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof q0&&i instanceof q0||n instanceof W0&&i instanceof W0?Gp(n.elements,i.elements,gl):n instanceof Mb&&i instanceof Mb?gl(n.Ae,i.Ae):n instanceof Db&&i instanceof Db}(t.transform,e.transform)}class Xre{constructor(e,r){this.version=e,this.transformResults=r}}class Ts{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function F1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ux{}function xB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new R3(t.key,Ts.none()):new wy(t.key,t.data,Ts.none());{const r=t.data,n=ma.empty();let i=new Wn(gi.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new vd(t.key,n,new Ha(i.toArray()),Ts.none())}}function Jre(t,e,r){t instanceof wy?function(i,a,s){const o=i.value.clone(),l=jI(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof vd?function(i,a,s){if(!F1(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=jI(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(_B(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function c0(t,e,r,n){return t instanceof wy?function(a,s,o,l){if(!F1(a.precondition,s))return o;const c=a.value.clone(),u=OI(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof vd?function(a,s,o,l){if(!F1(a.precondition,s))return o;const c=OI(a.fieldTransforms,l,s),u=s.data;return u.setAll(_B(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,s,o){return F1(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function Qre(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=yB(n.transform,i||null);a!=null&&(r===null&&(r=ma.empty()),r.set(n.field,a))}return r||null}function II(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Gp(n,i,(a,s)=>Yre(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wy extends ux{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vd extends ux{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _B(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function jI(t,e,r){const n=new Map;lr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,Kre(s,o,r[i]))}return n}function OI(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,Gre(a,s,e))}return n}class R3 extends ux{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zre extends ux{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Jre(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=c0(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=c0(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=mB();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=xB(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ct.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ht())}isEqual(e){return this.batchId===e.batchId&&Gp(this.mutations,e.mutations,(r,n)=>II(r,n))&&Gp(this.baseMutations,e.baseMutations,(r,n)=>II(r,n))}}class L3{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){lr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return Vre}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new L3(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,Kt;function nne(t){switch(t){case Ve.OK:return Nt(64938);case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return Nt(15467,{code:t})}}function EB(t){if(t===void 0)return _c("GRPC error has no .code"),Ve.UNKNOWN;switch(t){case kn.OK:return Ve.OK;case kn.CANCELLED:return Ve.CANCELLED;case kn.UNKNOWN:return Ve.UNKNOWN;case kn.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case kn.INTERNAL:return Ve.INTERNAL;case kn.UNAVAILABLE:return Ve.UNAVAILABLE;case kn.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case kn.NOT_FOUND:return Ve.NOT_FOUND;case kn.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case kn.ABORTED:return Ve.ABORTED;case kn.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case kn.DATA_LOSS:return Ve.DATA_LOSS;default:return Nt(39323,{code:t})}}(Kt=kn||(kn={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ine(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ane=new Ku([4294967295,4294967295],0);function RI(t){const e=ine().encode(t),r=new M9;return r.update(e),new Uint8Array(r.digest())}function LI(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ku([r,n],0),new Ku([i,a],0)]}class D3{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new qg(`Invalid padding: ${r}`);if(n<0)throw new qg(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new qg(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new qg(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Ku.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Ku.fromNumber(n)));return i.compare(ane)===1&&(i=new Ku([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=RI(e),[n,i]=LI(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new D3(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const r=RI(e),[n,i]=LI(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class qg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,xy.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new dx(Ct.min(),i,new Kr(Wt),Ec(),Ht())}}class xy{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new xy(n,r,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class SB{constructor(e,r){this.targetId=e,this.Ce=r}}class AB{constructor(e,r,n=wi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class DI{constructor(){this.ve=0,this.Fe=MI(),this.Me=wi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ht(),r=Ht(),n=Ht();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Nt(38017,{changeType:a})}}),new xy(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=MI()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sne{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ec(),this.Je=Bv(),this.He=Bv(),this.Ye=new Kr(Wt)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Nt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(OA(a))if(n===0){const s=new bt(a.path);this.et(r,s,Mi.newNoDocument(s,Ct.min()))}else lr(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=nd(n).toUint8Array()}catch(l){if(l instanceof Y9)return Hp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new D3(s,i,a)}catch(l){return Hp(l instanceof qg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&OA(o.target)){const l=new bt(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Mi.newNoDocument(l,e))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=Ht();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new dx(e,r,this.Ye,this.je,n);return this.je=Ec(),this.Je=Bv(),this.He=Bv(),this.Ye=new Kr(Wt),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new DI,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Wn(Wt),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Wn(Wt),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ut("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new DI),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Bv(){return new Kr(bt.comparator)}function MI(){return new Kr(bt.comparator)}const one={asc:"ASCENDING",desc:"DESCENDING"},lne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cne={and:"AND",or:"OR"};class une{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function LA(t,e){return t.useProto3Json||ax(e)?e:{value:e}}function Fb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dne(t,e){return Fb(t,e.toTimestamp())}function cl(t){return lr(!!t,49232),Ct.fromTimestamp(function(r){const n=rd(r);return new Dt(n.seconds,n.nanos)}(t))}function M3(t,e){return DA(t,e).canonicalString()}function DA(t,e){const r=function(i){return new Ir(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function TB(t){const e=Ir.fromString(t);return lr(jB(e),10190,{key:e.toString()}),e}function MA(t,e){return M3(t.databaseId,e.path)}function W5(t,e){const r=TB(e);if(r.get(1)!==t.databaseId.projectId)throw new ot(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ot(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new bt(CB(r))}function PB(t,e){return M3(t.databaseId,e)}function fne(t){const e=TB(t);return e.length===4?Ir.emptyPath():CB(e)}function FA(t){return new Ir(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CB(t){return lr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function FI(t,e,r){return{name:MA(t,e),fields:r.value.mapValue.fields}}function hne(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Nt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(lr(u===void 0||typeof u=="string",58123),wi.fromBase64String(u||"")):(lr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),wi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Ve.UNKNOWN:EB(c.code);return new ot(u,c.message||"")}(s);r=new AB(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=W5(t,n.document.name),a=cl(n.document.updateTime),s=n.document.createTime?cl(n.document.createTime):Ct.min(),o=new ma({mapValue:{fields:n.document.fields}}),l=Mi.newFoundDocument(i,a,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new B1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=W5(t,n.document),a=n.readTime?cl(n.readTime):Ct.min(),s=Mi.newNoDocument(i,a),o=n.removedTargetIds||[];r=new B1([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=W5(t,n.document),a=n.removedTargetIds||[];r=new B1([],a,i,null)}else{if(!("filter"in e))return Nt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new rne(i,a),o=n.targetId;r=new SB(o,s)}}return r}function pne(t,e){let r;if(e instanceof wy)r={update:FI(t,e.key,e.value)};else if(e instanceof R3)r={delete:MA(t,e.key)};else if(e instanceof vd)r={update:FI(t,e.key,e.data),updateMask:Ene(e.fieldMask)};else{if(!(e instanceof Zre))return Nt(16599,{Vt:e.type});r={verify:MA(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Db)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof q0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof W0)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Mb)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Nt(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:dne(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Nt(27497)}(t,e.precondition)),r}function mne(t,e){return t&&t.length>0?(lr(e!==void 0,14353),t.map(r=>function(i,a){let s=i.updateTime?cl(i.updateTime):cl(a);return s.isEqual(Ct.min())&&(s=cl(a)),new Xre(s,i.transformResults||[])}(r,e))):[]}function gne(t,e){return{documents:[PB(t,e.path)]}}function yne(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=PB(t,i);const a=function(c){if(c.length!==0)return IB(xo.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Yh(p.field),direction:wne(p.dir)}}(u))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=LA(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:r,parent:i}}function vne(t){let e=fne(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){lr(n===1,65062);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];r.where&&(a=function(f){const p=kB(f);return p instanceof xo&&sB(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(p=>function(y){return new z0(Xh(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(f){let p;return p=typeof f=="object"?f.value:f,ax(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(f){const p=!!f.before,h=f.values||[];return new Rb(h,p)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const p=!f.before,h=f.values||[];return new Rb(h,p)}(r.endAt)),Mre(e,i,s,a,o,"F",l,c)}function bne(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function kB(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Xh(r.unaryFilter.field);return On.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Xh(r.unaryFilter.field);return On.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xh(r.unaryFilter.field);return On.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xh(r.unaryFilter.field);return On.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(t):t.fieldFilter!==void 0?function(r){return On.create(Xh(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return xo.create(r.compositeFilter.filters.map(n=>kB(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(r.compositeFilter.op))}(t):Nt(30097,{filter:t})}function wne(t){return one[t]}function xne(t){return lne[t]}function _ne(t){return cne[t]}function Yh(t){return{fieldPath:t.canonicalString()}}function Xh(t){return gi.fromServerFormat(t.fieldPath)}function IB(t){return t instanceof On?function(r){if(r.op==="=="){if(AI(r.value))return{unaryFilter:{field:Yh(r.field),op:"IS_NAN"}};if(SI(r.value))return{unaryFilter:{field:Yh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(AI(r.value))return{unaryFilter:{field:Yh(r.field),op:"IS_NOT_NAN"}};if(SI(r.value))return{unaryFilter:{field:Yh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yh(r.field),op:xne(r.op),value:r.value}}}(t):t instanceof xo?function(r){const n=r.getFilters().map(i=>IB(i));return n.length===1?n[0]:{compositeFilter:{op:_ne(r.op),filters:n}}}(t):Nt(54877,{filter:t})}function Ene(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function jB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,r,n,i,a=Ct.min(),s=Ct.min(),o=wi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Du(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sne{constructor(e){this.yt=e}}function Ane(t){const e=vne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(){this.Cn=new Tne}addToCollectionParentIndex(e,r){return this.Cn.add(r),Ge.resolve()}getCollectionParents(e,r){return Ge.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Ge.resolve()}deleteFieldIndex(e,r){return Ge.resolve()}deleteAllFieldIndexes(e){return Ge.resolve()}createTargetIndexes(e,r){return Ge.resolve()}getDocumentsMatchingTarget(e,r){return Ge.resolve(null)}getIndexType(e,r){return Ge.resolve(0)}getFieldIndexes(e,r){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,r){return Ge.resolve(td.min())}getMinOffsetFromCollectionGroup(e,r){return Ge.resolve(td.min())}updateCollectionGroup(e,r,n){return Ge.resolve()}updateIndexEntries(e,r){return Ge.resolve()}}class Tne{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Wn(Ir.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Wn(Ir.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OB=41943040;class ha{static withCacheSize(e){return new ha(e,ha.DEFAULT_COLLECTION_PERCENTILE,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ha.DEFAULT_COLLECTION_PERCENTILE=10,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ha.DEFAULT=new ha(OB,ha.DEFAULT_COLLECTION_PERCENTILE,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ha.DISABLED=new ha(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xp(0)}static cr(){return new Xp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="LruGarbageCollector",Pne=1048576;function UI([t,e],[r,n]){const i=Wt(t,r);return i===0?Wt(e,n):i}class Cne{constructor(e){this.Ir=e,this.buffer=new Wn(UI),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();UI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class kne{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut($I,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Pm(r)?ut($I,"Ignoring IndexedDB error during garbage collection: ",r):await Tm(r)}await this.Vr(3e5)})}}class Ine{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Ge.resolve(ix.ce);const n=new Cne(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(BI)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BI):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(c=Date.now(),Gh()<=qt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function jne(t,e){return new Ine(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(){this.changes=new th(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Mi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ge.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&c0(n.mutation,i,Ha.empty(),Dt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ht()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ht()){const i=ff();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=zg();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=ff();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ht()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,i){let a=Ec();const s=l0(),o=function(){return l0()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof vd)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),c0(u.mutation,c,u.mutation.getFieldMask(),Dt.now())):s.set(c.key,Ha.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>o.set(c,new Rne(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,r){const n=l0();let i=new Kr((s,o)=>s-o),a=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Ha.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(i.get(o.batchId)||Ht()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=mB();u.forEach(p=>{if(!a.has(p)){const h=xB(r.get(p),n.get(p));h!==null&&f.set(p,h),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Ge.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return bt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):uB(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Ge.resolve(ff());let o=B0,l=a;return s.next(c=>Ge.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(u)?Ge.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Ht())).next(u=>({batchId:o,changes:pB(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new bt(r)).next(n=>{let i=zg();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=zg();return this.indexManager.getCollectionParents(e,a).next(o=>Ge.forEach(o,l=>{const c=function(f,p){return new Cm(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Mi.newInvalidDocument(u)))});let o=zg();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&c0(u.mutation,c,Ha.empty(),Dt.now()),lx(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Ge.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:cl(i.createTime)}}(r)),Ge.resolve()}getNamedQuery(e,r){return Ge.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:Ane(i.bundledQuery),readTime:cl(i.readTime)}}(r)),Ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(){this.overlays=new Kr(bt.comparator),this.qr=new Map}getOverlay(e,r){return Ge.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ff();return Ge.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),Ge.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),Ge.resolve()}getOverlaysForCollection(e,r,n){const i=ff(),a=r.length+1,s=new bt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Ge.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Kr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=ff(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=ff(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return Ge.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new tne(r,n));let a=this.qr.get(r);a===void 0&&(a=Ht(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(){this.sessionToken=wi.EMPTY_BYTE_STRING}getSessionToken(e){return Ge.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.Qr=new Wn(Jn.$r),this.Ur=new Wn(Jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Jn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Jn(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new bt(new Ir([])),n=new Jn(r,e),i=new Jn(r,e+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new bt(new Ir([])),n=new Jn(r,e),i=new Jn(r,e+1);let a=Ht();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Jn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Jn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return bt.comparator(e.key,r.key)||Wt(e.Yr,r.Yr)}static Kr(e,r){return Wt(e.Yr,r.Yr)||bt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Wn(Jn.$r)}checkEmpty(e){return Ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ene(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Jn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ge.resolve(s)}lookupMutationBatch(e,r){return Ge.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return Ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(this.mutationQueue.length===0?T3:this.tr-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Jn(r,0),i=new Jn(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),Ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Wn(Wt);return r.forEach(i=>{const a=new Jn(i,0),s=new Jn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),Ge.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;bt.isDocumentKey(a)||(a=a.child(""));const s=new Jn(new bt(a),0);let o=new Wn(Wt);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},s),Ge.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){lr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ge.forEach(r.mutations,i=>{const a=new Jn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Jn(r,0),i=this.Zr.firstAfterOrEqual(n);return Ge.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ge.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(e){this.ri=e,this.docs=function(){return new Kr(bt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ge.resolve(n?n.document.mutableCopy():Mi.newInvalidDocument(r))}getEntries(e,r){let n=Ec();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Mi.newInvalidDocument(i))}),Ge.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Ec();const s=r.path,o=new bt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||gre(mre(u),n)<=0||(i.has(u.key)||lx(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return Ge.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Nt(9500)}ii(e,r){return Ge.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Une(this)}getSize(e){return Ge.resolve(this.size)}}class Une extends One{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),Ge.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e){this.persistence=e,this.si=new th(r=>k3(r),I3),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new F3,this.targetCount=0,this.ai=Xp.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Ge.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Xp(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Ge.resolve()}updateTargetData(e,r){return this.Pr(r),Ge.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Ge.waitFor(a).next(()=>i)}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return Ge.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),Ge.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),Ge.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Ge.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return Ge.resolve(n)}containsKey(e,r){return Ge.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,r){this.ui={},this.overlays={},this.ci=new ix(0),this.li=!1,this.li=!0,this.hi=new Fne,this.referenceDelegate=e(this),this.Pi=new Vne(this),this.indexManager=new Nne,this.remoteDocumentCache=function(i){return new $ne(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Sne(r),this.Ii=new Dne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Mne,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Bne(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ut("MemoryPersistence","Starting transaction:",e);const i=new zne(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return Ge.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class zne extends vre{constructor(e){super(),this.currentSequenceNumber=e}}class B3{constructor(e){this.persistence=e,this.Ri=new F3,this.Vi=null}static mi(e){return new B3(e)}get fi(){if(this.Vi)return this.Vi;throw Nt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Ge.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Ge.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Ge.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.fi,n=>{const i=bt.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,Ct.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return Ge.or([()=>Ge.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Bb{constructor(e,r){this.persistence=e,this.pi=new th(n=>xre(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=jne(this,r)}static mi(e,r){return new Bb(e,r)}Ei(){}di(e){return Ge.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return Ge.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?Ge.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,r).next(o=>{o||(n++,a.removeEntry(s,Ct.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ge.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ge.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=D1(e.data.value)),r}br(e,r,n){return Ge.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return Ge.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Ht(),i=Ht();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new $3(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _Q()?8:bre(Vi())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new qne;return this.Ss(e,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,r,s,o.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(Gh()<=qt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Kh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ge.resolve()):(Gh()<=qt.DEBUG&&ut("QueryEngine","Query:",Kh(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Gh()<=qt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Kh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ll(r))):Ge.resolve())}ys(e,r){if(CI(r))return Ge.resolve(null);let n=ll(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Lb(r,null,"F"),n=ll(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=Ht(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Ds(r,o);return this.Cs(r,c,s,l.readTime)?this.ys(e,Lb(r,null,"F")):this.vs(e,c,r,l)}))})))}ws(e,r,n,i){return CI(r)||i.isEqual(Ct.min())?Ge.resolve(null):this.ps.getDocuments(e,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?Ge.resolve(null):(Gh()<=qt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kh(r)),this.vs(e,s,r,pre(i,B0)).next(o=>o))})}Ds(e,r){let n=new Wn(fB(e));return r.forEach((i,a)=>{lx(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Gh()<=qt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Kh(r)),this.ps.getDocumentsMatchingQuery(e,r,td.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="LocalStore",Hne=3e8;class Gne{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Kr(Wt),this.xs=new th(a=>k3(a),I3),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lne(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function Kne(t,e,r,n){return new Gne(t,e,r,n)}async function LB(t,e){const r=Ot(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=Ht();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function Yne(t,e){const r=Ot(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,p=f.keys();let h=Ge.resolve();return p.forEach(y=>{h=h.next(()=>u.getEntry(l,y)).next(g=>{const b=c.docVersions.get(y);lr(b!==null,48541),g.version.compareTo(b)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Ht();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function DB(t){const e=Ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function Xne(t,e){const r=Ot(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((u,f)=>{const p=i.get(f);if(!p)return;o.push(r.Pi.removeMatchingKeys(a,u.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(a,u.addedDocuments,f)));let h=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(wi.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,n)),i=i.insert(f,h),function(g,b,m){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Hne?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(p,h,u)&&o.push(r.Pi.updateTargetData(a,h))});let l=Ec(),c=Ht();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(Jne(a,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!n.isEqual(Ct.min())){const u=r.Pi.getLastRemoteSnapshotVersion(a).next(f=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(u)}return Ge.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.Ms=i,a))}function Jne(t,e,r){let n=Ht(),i=Ht();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=Ec();return r.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ct.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):ut(U3,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function Qne(t,e){const r=Ot(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=T3),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Zne(t,e){const r=Ot(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,Ge.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new Du(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function BA(t,e,r){const n=Ot(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Pm(s))throw s;ut(U3,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function VI(t,e,r){const n=Ot(t);let i=Ct.min(),a=Ht();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Ot(l),p=f.xs.get(u);return p!==void 0?Ge.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,u)}(n,s,ll(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,e,r?i:Ct.min(),r?a:Ht())).next(o=>(eie(n,Bre(e),o),{documents:o,Qs:a})))}function eie(t,e,r){let n=t.Os.get(e)||Ct.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class zI{constructor(){this.activeTargetIds=Wre()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tie{constructor(){this.Mo=new zI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zI,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rie{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="ConnectivityMonitor";class WI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(qI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(qI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v=null;function $A(){return $v===null?$v=function(){return 268435456+Math.round(2147483648*Math.random())}():$v++,"0x"+$v.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="RestConnection",nie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iie{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===jb?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const s=$A(),o=this.zo(e,r.toUriEncodedString());ut(H5,`Sending RPC '${e}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:c}=new URL(o),u=Em(c);return this.Jo(e,o,l,n,u).then(f=>(ut(H5,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Hp(H5,`RPC '${e}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(e,r,n,i,a,s){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nm}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=nie[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aie{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="WebChannelConnection";class sie extends iie{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const s=$A();return new Promise((o,l)=>{const c=new F9;c.setWithCredentials(!0),c.listenOnce(B9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case L1.NO_ERROR:const f=c.getResponseJson();ut(Pi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case L1.TIMEOUT:ut(Pi,`RPC '${e}' ${s} timed out`),l(new ot(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case L1.HTTP_ERROR:const p=c.getStatus();if(ut(Pi,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const g=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(v)>=0?v:Ve.UNKNOWN}(y.status);l(new ot(g,y.message))}else l(new ot(Ve.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ot(Ve.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ut(Pi,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ut(Pi,`RPC '${e}' ${s} sending request:`,i),c.send(r,"POST",u,n,15)})}T_(e,r,n){const i=$A(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=V9(),o=U9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");ut(Pi,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let p=!1,h=!1;const y=new aie({Yo:b=>{h?ut(Pi,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(p||(ut(Pi,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),ut(Pi,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},Zo:()=>f.close()}),g=(b,m,v)=>{b.listen(m,w=>{try{v(w)}catch(E){setTimeout(()=>{throw E},0)}})};return g(f,Vg.EventType.OPEN,()=>{h||(ut(Pi,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),g(f,Vg.EventType.CLOSE,()=>{h||(h=!0,ut(Pi,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(f))}),g(f,Vg.EventType.ERROR,b=>{h||(h=!0,Hp(Pi,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),y.a_(new ot(Ve.UNAVAILABLE,"The operation could not be completed")))}),g(f,Vg.EventType.MESSAGE,b=>{var m;if(!h){const v=b.data[0];lr(!!v,16349);const w=v,E=(w==null?void 0:w.error)||((m=w[0])==null?void 0:m.error);if(E){ut(Pi,`RPC '${e}' stream ${i} received error:`,E);const P=E.status;let $=function(A){const D=kn[A];if(D!==void 0)return EB(D)}(P),C=E.message;$===void 0&&($=Ve.INTERNAL,C="Unknown error status: "+P+" with message "+E.message),h=!0,y.a_(new ot($,C)),f.close()}else ut(Pi,`RPC '${e}' stream ${i} received:`,v),y.u_(v)}}),g(o,$9.STAT_EVENT,b=>{b.stat===PA.PROXY?ut(Pi,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===PA.NOPROXY&&ut(Pi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function G5(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t){return new une(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="PersistentStream";class FB{constructor(e,r,n,i,a,s,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MB(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ve.RESOURCE_EXHAUSTED?(_c(r.toString()),_c("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new ot(Ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ut(HI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ut(HI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oie extends FB{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=hne(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ct.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ct.min():s.readTime?cl(s.readTime):Ct.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=FA(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=OA(l)?{documents:gne(a,l)}:{query:yne(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=NB(a,s.resumeToken);const c=LA(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ct.min())>0){o.readTime=Fb(a,s.snapshotVersion.toTimestamp());const c=LA(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=bne(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=FA(this.serializer),r.removeTarget=e,this.q_(r)}}class lie extends FB{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return lr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=mne(e.writeResults,e.commitTime),n=cl(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=FA(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>pne(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie{}class uie extends cie{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ot(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,DA(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ot(Ve.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,DA(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ot(Ve.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class die{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_c(r),this.aa=!1):ut("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="RemoteStore";class fie{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{rh(this)&&(ut(Uf,"Restarting streams for network reachability change."),await async function(l){const c=Ot(l);c.Ea.add(4),await _y(c),c.Ra.set("Unknown"),c.Ea.delete(4),await hx(c)}(this))})}),this.Ra=new die(n,i)}}async function hx(t){if(rh(t))for(const e of t.da)await e(!0)}async function _y(t){for(const e of t.da)await e(!1)}function BB(t,e){const r=Ot(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),W3(r)?q3(r):km(r).O_()&&z3(r,e))}function V3(t,e){const r=Ot(t),n=km(r);r.Ia.delete(e),n.O_()&&$B(r,e),r.Ia.size===0&&(n.O_()?n.L_():rh(r)&&r.Ra.set("Unknown"))}function z3(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}km(t).Y_(e)}function $B(t,e){t.Va.Ue(e),km(t).Z_(e)}function q3(t){t.Va=new sne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),km(t).start(),t.Ra.ua()}function W3(t){return rh(t)&&!km(t).x_()&&t.Ia.size>0}function rh(t){return Ot(t).Ea.size===0}function UB(t){t.Va=void 0}async function hie(t){t.Ra.set("Online")}async function pie(t){t.Ia.forEach((e,r)=>{z3(t,e)})}async function mie(t,e){UB(t),W3(t)?(t.Ra.ha(e),q3(t)):t.Ra.set("Unknown")}async function gie(t,e,r){if(t.Ra.set("Online"),e instanceof AB&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){ut(Uf,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await $b(t,n)}else if(e instanceof B1?t.Va.Ze(e):e instanceof SB?t.Va.st(e):t.Va.tt(e),!r.isEqual(Ct.min()))try{const n=await DB(t.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(wi.EMPTY_BYTE_STRING,u.snapshotVersion)),$B(a,l);const f=new Du(u.target,l,c,u.sequenceNumber);z3(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){ut(Uf,"Failed to raise snapshot:",n),await $b(t,n)}}async function $b(t,e,r){if(!Pm(e))throw e;t.Ea.add(1),await _y(t),t.Ra.set("Offline"),r||(r=()=>DB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ut(Uf,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await hx(t)})}function VB(t,e){return e().catch(r=>$b(t,r,e))}async function px(t){const e=Ot(t),r=ad(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:T3;for(;yie(e);)try{const i=await Qne(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,vie(e,i)}catch(i){await $b(e,i)}zB(e)&&qB(e)}function yie(t){return rh(t)&&t.Ta.length<10}function vie(t,e){t.Ta.push(e);const r=ad(t);r.O_()&&r.X_&&r.ea(e.mutations)}function zB(t){return rh(t)&&!ad(t).x_()&&t.Ta.length>0}function qB(t){ad(t).start()}async function bie(t){ad(t).ra()}async function wie(t){const e=ad(t);for(const r of t.Ta)e.ea(r.mutations)}async function xie(t,e,r){const n=t.Ta.shift(),i=L3.from(n,e,r);await VB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await px(t)}async function _ie(t,e){e&&ad(t).X_&&await async function(n,i){if(function(s){return nne(s)&&s!==Ve.ABORTED}(i.code)){const a=n.Ta.shift();ad(n).B_(),await VB(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await px(n)}}(t,e),zB(t)&&qB(t)}async function GI(t,e){const r=Ot(t);r.asyncQueue.verifyOperationInProgress(),ut(Uf,"RemoteStore received new credentials");const n=rh(r);r.Ea.add(3),await _y(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await hx(r)}async function Eie(t,e){const r=Ot(t);e?(r.Ea.delete(2),await hx(r)):e||(r.Ea.add(2),await _y(r),r.Ra.set("Unknown"))}function km(t){return t.ma||(t.ma=function(r,n,i){const a=Ot(r);return a.sa(),new oie(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:hie.bind(null,t),t_:pie.bind(null,t),r_:mie.bind(null,t),H_:gie.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),W3(t)?q3(t):t.Ra.set("Unknown")):(await t.ma.stop(),UB(t))})),t.ma}function ad(t){return t.fa||(t.fa=function(r,n,i){const a=Ot(r);return a.sa(),new lie(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:bie.bind(null,t),r_:_ie.bind(null,t),ta:wie.bind(null,t),na:xie.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await px(t)):(await t.fa.stop(),t.Ta.length>0&&(ut(Uf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new dc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new H3(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G3(t,e){if(_c("AsyncQueue",`${e}: ${t}`),Pm(t))return new ot(Ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{static emptySet(e){return new Np(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||bt.comparator(r.key,n.key):(r,n)=>bt.comparator(r.key,n.key),this.keyedMap=zg(),this.sortedSet=new Kr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Np)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Np;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.ga=new Kr(bt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Nt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class Jp{constructor(e,r,n,i,a,s,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new Jp(e,r,Np.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ox(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Aie{constructor(){this.queries=YI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Ot(r),a=i.queries;i.queries=YI(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new ot(Ve.ABORTED,"Firestore shutting down"))}}function YI(){return new th(t=>dB(t),ox)}async function WB(t,e){const r=Ot(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new Sie,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=G3(s,`Initialization of query '${Kh(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&K3(r)}async function HB(t,e){const r=Ot(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Nie(t,e){const r=Ot(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&K3(r)}function Tie(t,e,r){const n=Ot(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function K3(t){t.Ca.forEach(e=>{e.next()})}var UA,XI;(XI=UA||(UA={})).Ma="default",XI.Cache="cache";class GB{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Jp(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Jp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==UA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.key=e}}class YB{constructor(e){this.key=e}}class Pie{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=fB(e),this.tu=new Np(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new KI,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const p=i.get(u),h=lx(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let b=!1;p&&h?p.data.isEqual(h.data)?y!==g&&(n.track({type:3,doc:h}),b=!0):this.su(p,h)||(n.track({type:2,doc:h}),b=!0,(l&&this.eu(h,l)>0||c&&this.eu(h,c)<0)&&(o=!0)):!p&&h?(n.track({type:0,doc:h}),b=!0):p&&!h&&(n.track({type:1,doc:p}),b=!0,(l||c)&&(o=!0)),b&&(h?(s=s.add(h),a=g?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,f)=>function(h,y){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Rt:b})}};return g(h)-g(y)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Jp(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ht(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new YB(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new KB(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Ht();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Jp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Y3="SyncEngine";class Cie{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class kie{constructor(e){this.key=e,this.hu=!1}}class Iie{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new th(o=>dB(o),ox),this.Iu=new Map,this.Eu=new Set,this.du=new Kr(bt.comparator),this.Au=new Map,this.Ru=new F3,this.Vu={},this.mu=new Map,this.fu=Xp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jie(t,e,r=!0){const n=t$(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await XB(n,e,r,!0),i}async function Oie(t,e){const r=t$(t);await XB(r,e,!0,!1)}async function XB(t,e,r,n){const i=await Zne(t.localStore,ll(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await Rie(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&BB(t.remoteStore,i),o}async function Rie(t,e,r,n,i){t.pu=(f,p,h)=>async function(g,b,m,v){let w=b.view.ru(m);w.Cs&&(w=await VI(g.localStore,b.query,!1).then(({documents:C})=>b.view.ru(C,w)));const E=v&&v.targetChanges.get(b.targetId),P=v&&v.targetMismatches.get(b.targetId)!=null,$=b.view.applyChanges(w,g.isPrimaryClient,E,P);return QI(g,b.targetId,$.au),$.snapshot}(t,f,p,h);const a=await VI(t.localStore,e,!0),s=new Pie(e,a.Qs),o=s.ru(a.documents),l=xy.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);QI(t,r,c.au);const u=new Cie(e,r,s);return t.Tu.set(e,u),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),c.snapshot}async function Lie(t,e,r){const n=Ot(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!ox(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await BA(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&V3(n.remoteStore,i.targetId),VA(n,i.targetId)}).catch(Tm)):(VA(n,i.targetId),await BA(n.localStore,i.targetId,!0))}async function Die(t,e){const r=Ot(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),V3(r.remoteStore,n.targetId))}async function Mie(t,e,r){const n=qie(t);try{const i=await function(s,o){const l=Ot(s),c=Dt.now(),u=o.reduce((h,y)=>h.add(y.key),Ht());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let y=Ec(),g=Ht();return l.Ns.getEntries(h,u).next(b=>{y=b,y.forEach((m,v)=>{v.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,y)).next(b=>{f=b;const m=[];for(const v of o){const w=Qre(v,f.get(v.key).overlayedDocument);w!=null&&m.push(new vd(v.key,w,nB(w.value.mapValue),Ts.exists(!0)))}return l.mutationQueue.addMutationBatch(h,c,m,o)}).next(b=>{p=b;const m=b.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(h,b.batchId,m)})}).then(()=>({batchId:p.batchId,changes:pB(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new Kr(Wt)),c=c.insert(o,l),s.Vu[s.currentUser.toKey()]=c}(n,i.batchId,r),await Ey(n,i.changes),await px(n.remoteStore)}catch(i){const a=G3(i,"Failed to persist write");r.reject(a)}}async function JB(t,e){const r=Ot(t);try{const n=await Xne(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(lr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?lr(s.hu,14607):i.removedDocuments.size>0&&(lr(s.hu,42227),s.hu=!1))}),await Ey(r,n,e)}catch(n){await Tm(n)}}function JI(t,e,r){const n=Ot(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Ot(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const p of f.Sa)p.va(o)&&(c=!0)}),c&&K3(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Fie(t,e,r){const n=Ot(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new Kr(bt.comparator);s=s.insert(a,Mi.newNoDocument(a,Ct.min()));const o=Ht().add(a),l=new dx(Ct.min(),new Map,new Kr(Wt),s,o);await JB(n,l),n.du=n.du.remove(a),n.Au.delete(e),X3(n)}else await BA(n.localStore,e,!1).then(()=>VA(n,e,r)).catch(Tm)}async function Bie(t,e){const r=Ot(t),n=e.batch.batchId;try{const i=await Yne(r.localStore,e);ZB(r,n,null),QB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ey(r,i)}catch(i){await Tm(i)}}async function $ie(t,e,r){const n=Ot(t);try{const i=await function(s,o){const l=Ot(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(lr(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);ZB(n,e,r),QB(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ey(n,i)}catch(i){await Tm(i)}}function QB(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function ZB(t,e,r){const n=Ot(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function VA(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||e$(t,n)})}function e$(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(V3(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),X3(t))}function QI(t,e,r){for(const n of r)n instanceof KB?(t.Ru.addReference(n.key,e),Uie(t,n)):n instanceof YB?(ut(Y3,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||e$(t,n.key)):Nt(19791,{wu:n})}function Uie(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ut(Y3,"New document in limbo: "+r),t.Eu.add(n),X3(t))}function X3(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new bt(Ir.fromString(e)),n=t.fu.next();t.Au.set(n,new kie(r)),t.du=t.du.insert(r,n),BB(t.remoteStore,new Du(ll(j3(r.path)),n,"TargetPurposeLimboResolution",ix.ce))}}async function Ey(t,e,r){const n=Ot(t),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=$3.As(l.targetId,c);a.push(f)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,c){const u=Ot(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ge.forEach(c,p=>Ge.forEach(p.Es,h=>u.persistence.referenceDelegate.addReference(f,p.targetId,h)).next(()=>Ge.forEach(p.ds,h=>u.persistence.referenceDelegate.removeReference(f,p.targetId,h)))))}catch(f){if(!Pm(f))throw f;ut(U3,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const h=u.Ms.get(p),y=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(y);u.Ms=u.Ms.insert(p,g)}}}(n.localStore,a))}async function Vie(t,e){const r=Ot(t);if(!r.currentUser.isEqual(e)){ut(Y3,"User change. New user:",e.toKey());const n=await LB(r.localStore,e);r.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new ot(Ve.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ey(r,n.Ls)}}function zie(t,e){const r=Ot(t),n=r.Au.get(e);if(n&&n.hu)return Ht().add(n.key);{let i=Ht();const a=r.Iu.get(e);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function t$(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fie.bind(null,e),e.Pu.H_=Nie.bind(null,e.eventManager),e.Pu.yu=Tie.bind(null,e.eventManager),e}function qie(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$ie.bind(null,e),e}class Ub{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Kne(this.persistence,new Wne,e.initialUser,this.serializer)}Cu(e){return new RB(B3.mi,this.serializer)}Du(e){return new tie}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ub.provider={build:()=>new Ub};class Wie extends Ub{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){lr(this.persistence.referenceDelegate instanceof Bb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new kne(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?ha.withCacheSize(this.cacheSizeBytes):ha.DEFAULT;return new RB(n=>Bb.mi(n,r),this.serializer)}}class zA{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>JI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vie.bind(null,this.syncEngine),await Eie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Aie}()}createDatastore(e){const r=fx(e.databaseInfo.databaseId),n=function(a){return new sie(a)}(e.databaseInfo);return function(a,s,o,l){return new uie(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,o){return new fie(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>JI(this.syncEngine,r,0),function(){return WI.v()?new WI:new rie}())}createSyncEngine(e,r){return function(i,a,s,o,l,c,u){const f=new Iie(i,a,s,o,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ot(i);ut(Uf,"RemoteStore shutting down."),a.Ea.add(5),await _y(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}zA.provider={build:()=>new zA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_c("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="FirestoreClient";class Hie{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Li.UNAUTHENTICATED,this.clientId=N3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{ut(sd,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(ut(sd,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=G3(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function K5(t,e){t.asyncQueue.verifyOperationInProgress(),ut(sd,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await LB(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZI(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Gie(t);ut(sd,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>GI(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>GI(e.remoteStore,i)),t._onlineComponents=e}async function Gie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ut(sd,"Using user provided OfflineComponentProvider");try{await K5(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ve.FAILED_PRECONDITION||i.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Hp("Error using user provided cache. Falling back to memory cache: "+r),await K5(t,new Ub)}}else ut(sd,"Using default OfflineComponentProvider"),await K5(t,new Wie(void 0));return t._offlineComponents}async function n$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ut(sd,"Using user provided OnlineComponentProvider"),await ZI(t,t._uninitializedComponentsProvider._online)):(ut(sd,"Using default OnlineComponentProvider"),await ZI(t,new zA))),t._onlineComponents}function Kie(t){return n$(t).then(e=>e.syncEngine)}async function i$(t){const e=await n$(t),r=e.eventManager;return r.onListen=jie.bind(null,e.syncEngine),r.onUnlisten=Lie.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Oie.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Die.bind(null,e.syncEngine),r}function Yie(t,e,r={}){const n=new dc;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new r$({next:p=>{u.Nu(),s.enqueueAndForget(()=>HB(a,f));const h=p.docs.has(o);!h&&p.fromCache?c.reject(new ot(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&p.fromCache&&l&&l.source==="server"?c.reject(new ot(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new GB(j3(o.path),u,{includeMetadataChanges:!0,qa:!0});return WB(a,f)}(await i$(t),t.asyncQueue,e,r,n)),n.promise}function Xie(t,e,r={}){const n=new dc;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new r$({next:p=>{u.Nu(),s.enqueueAndForget(()=>HB(a,f)),p.fromCache&&l.source==="server"?c.reject(new ot(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new GB(o,u,{includeMetadataChanges:!0,qa:!0});return WB(a,f)}(await i$(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$="firestore.googleapis.com",tj=!0;class rj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s$,this.ssl=tj}else this.host=e.host,this.ssl=e.ssl??tj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pne)throw new ot(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a$(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ot(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ot(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ot(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mx{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new nre;switch(n.type){case"firstParty":return new ore(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ot(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ej.get(r);n&&(ut("ComponentProvider","Removing Datastore"),ej.delete(r),n.terminate())}(this),Promise.resolve()}}function Jie(t,e,r,n={}){var c;t=wo(t,mx);const i=Em(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(HF(`https://${o}`),GF("Firestore",!0)),a.host!==s$&&a.host!==o&&Hp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!ed(l,s)&&(t._setSettings(l),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=Li.MOCK_USER;else{u=pQ(n.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new ot(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Li(p)}t._authCredentials=new ire(new q9(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new bd(this.firestore,e,this._query)}}class mn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(by(r,mn._jsonSchema))return new mn(e,n||null,new bt(Ir.fromString(r.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:Ln("string",mn._jsonSchemaVersion),referencePath:Ln("string")};class Yu extends bd{constructor(e,r,n){super(e,r,j3(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new bt(e))}withConverter(e){return new Yu(this.firestore,e,this._path)}}function Oi(t,e,...r){if(t=Fn(t),W9("collection","path",e),t instanceof mx){const n=Ir.fromString(e,...r);return mI(n),new Yu(t,null,n)}{if(!(t instanceof mn||t instanceof Yu))throw new ot(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ir.fromString(e,...r));return mI(n),new Yu(t.firestore,null,n)}}function tr(t,e,...r){if(t=Fn(t),arguments.length===1&&(e=N3.newId()),W9("doc","path",e),t instanceof mx){const n=Ir.fromString(e,...r);return pI(n),new mn(t,null,new bt(n))}{if(!(t instanceof mn||t instanceof Yu))throw new ot(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ir.fromString(e,...r));return pI(n),new mn(t.firestore,t instanceof Yu?t.converter:null,new bt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="AsyncQueue";class ij{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MB(this,"async_queue_retry"),this._c=()=>{const n=G5();n&&ut(nj,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=G5();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=G5();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new dc;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pm(e))throw e;ut(nj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,_c("INTERNAL UNHANDLED ERROR: ",aj(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=H3.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Nt(47125,{Pc:aj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function aj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class nh extends mx{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new ij,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ij(e),this._firestoreClient=void 0,await e}}}function Qie(t,e){const r=typeof t=="object"?t:g3(),n=typeof t=="string"?t:jb,i=Zf(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=fQ("firestore");a&&Jie(i,...a)}return i}function J3(t){if(t._terminated)throw new ot(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Zie(t),t._firestoreClient}function Zie(t){var n,i,a;const e=t._freezeSettings(),r=function(o,l,c,u){return new Sre(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,a$(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Hie(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _s(wi.fromBase64String(e))}catch(r){throw new ot(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new _s(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_s._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(by(e,_s._jsonSchema))return _s.fromBase64String(e.bytes)}}_s._jsonSchemaVersion="firestore/bytes/1.0",_s._jsonSchema={type:Ln("string",_s._jsonSchemaVersion),bytes:Ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ot(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ot(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ot(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ul._jsonSchemaVersion}}static fromJSON(e){if(by(e,ul._jsonSchema))return new ul(e.latitude,e.longitude)}}ul._jsonSchemaVersion="firestore/geoPoint/1.0",ul._jsonSchema={type:Ln("string",ul._jsonSchemaVersion),latitude:Ln("number"),longitude:Ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:dl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(by(e,dl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new dl(e.vectorValues);throw new ot(Ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dl._jsonSchemaVersion="firestore/vectorValue/1.0",dl._jsonSchema={type:Ln("string",dl._jsonSchemaVersion),vectorValues:Ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae=/^__.*__$/;class tae{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new vd(e,this.data,this.fieldMask,r,this.fieldTransforms):new wy(e,this.data,r,this.fieldTransforms)}}class o${constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new vd(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function l$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ac:t})}}class Z3{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Z3({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(l$(this.Ac)&&eae.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rae{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||fx(e)}Cc(e,r,n,i=!1){return new Z3({Ac:e,methodName:r,Dc:n,path:gi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yx(t){const e=t._freezeSettings(),r=fx(t._databaseId);return new rae(t._databaseId,!!e.ignoreUndefinedProperties,r)}function c$(t,e,r,n,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);eT("Data must be an object, but it was:",s,n);const o=u$(n,s);let l,c;if(a.merge)l=new Ha(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const p=qA(e,f,r);if(!s.contains(p))throw new ot(Ve.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);f$(u,p)||u.push(p)}l=new Ha(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new tae(new ma(o),l,c)}class vx extends Q3{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vx}}function nae(t,e,r,n){const i=t.Cc(1,e,r);eT("Data must be an object, but it was:",i,n);const a=[],s=ma.empty();yd(n,(l,c)=>{const u=tT(e,l,r);c=Fn(c);const f=i.yc(u);if(c instanceof vx)a.push(u);else{const p=Sy(c,f);p!=null&&(a.push(u),s.set(u,p))}});const o=new Ha(a);return new o$(s,o,i.fieldTransforms)}function iae(t,e,r,n,i,a){const s=t.Cc(1,e,r),o=[qA(e,n,r)],l=[i];if(a.length%2!=0)throw new ot(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(qA(e,a[p])),l.push(a[p+1]);const c=[],u=ma.empty();for(let p=o.length-1;p>=0;--p)if(!f$(c,o[p])){const h=o[p];let y=l[p];y=Fn(y);const g=s.yc(h);if(y instanceof vx)c.push(h);else{const b=Sy(y,g);b!=null&&(c.push(h),u.set(h,b))}}const f=new Ha(c);return new o$(u,f,s.fieldTransforms)}function aae(t,e,r,n=!1){return Sy(r,t.Cc(n?4:3,e))}function Sy(t,e){if(d$(t=Fn(t)))return eT("Unsupported field value:",e,t),u$(t,e);if(t instanceof Q3)return function(n,i){if(!l$(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=Sy(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Fn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Hre(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Dt.fromDate(n);return{timestampValue:Fb(i.serializer,a)}}if(n instanceof Dt){const a=new Dt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Fb(i.serializer,a)}}if(n instanceof ul)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _s)return{bytesValue:NB(i.serializer,n._byteString)};if(n instanceof mn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:M3(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof dl)return function(s,o){return{mapValue:{fields:{[eB]:{stringValue:rB},[Ob]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return O3(o.serializer,c)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${nx(n)}`)}(t,e)}function u$(t,e){const r={};return K9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yd(t,(n,i)=>{const a=Sy(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function d$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof ul||t instanceof _s||t instanceof mn||t instanceof Q3||t instanceof dl)}function eT(t,e,r){if(!d$(r)||!H9(r)){const n=nx(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function qA(t,e,r){if((e=Fn(e))instanceof gx)return e._internalPath;if(typeof e=="string")return tT(t,e);throw Vb("Field path arguments must be of type string or ",t,!1,void 0,r)}const sae=new RegExp("[~\\*/\\[\\]]");function tT(t,e,r){if(e.search(sae)>=0)throw Vb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new gx(...e.split("."))._internalPath}catch{throw Vb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Vb(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new ot(Ve.INVALID_ARGUMENT,o+t+l)}function f$(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(bx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class oae extends h${data(){return super.data()}}function bx(t,e){return typeof e=="string"?tT(t,e):e instanceof gx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lae(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ot(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rT{}class nT extends rT{}function fi(t,e,...r){let n=[];e instanceof rT&&n.push(e),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof iT).length,o=a.filter(l=>l instanceof wx).length;if(s>1||s>0&&o>0)throw new ot(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class wx extends nT{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new wx(e,r,n)}_apply(e){const r=this._parse(e);return p$(e._query,r),new bd(e.firestore,e.converter,RA(e._query,r))}_parse(e){const r=yx(e.firestore);return function(a,s,o,l,c,u,f){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ot(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){oj(f,u);const y=[];for(const g of f)y.push(sj(l,a,g));p={arrayValue:{values:y}}}else p=sj(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||oj(f,u),p=aae(o,s,f,u==="in"||u==="not-in");return On.create(c,u,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Yn(t,e,r){const n=e,i=bx("where",t);return wx._create(i,n,r)}class iT extends rT{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new iT(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:xo.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)p$(s,l),s=RA(s,l)}(e._query,r),new bd(e.firestore,e.converter,RA(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aT extends nT{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new aT(e,r)}_apply(e){const r=function(i,a,s){if(i.startAt!==null)throw new ot(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ot(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new z0(a,s)}(e._query,this._field,this._direction);return new bd(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Cm(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Xl(t,e="asc"){const r=e,n=bx("orderBy",t);return aT._create(n,r)}class sT extends nT{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new sT(e,r,n)}_apply(e){return new bd(e.firestore,e.converter,Lb(e._query,this._limit,this._limitType))}}function vg(t){return sT._create("limit",t,"F")}function sj(t,e,r){if(typeof(r=Fn(r))=="string"){if(r==="")throw new ot(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uB(e)&&r.indexOf("/")!==-1)throw new ot(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ir.fromString(r));if(!bt.isDocumentKey(n))throw new ot(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return EI(t,new bt(n))}if(r instanceof mn)return EI(t,r._key);throw new ot(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nx(r)}.`)}function oj(t,e){if(!Array.isArray(t)||t.length===0)throw new ot(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p$(t,e){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ot(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class cae{convertValue(e,r="none"){switch(id(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(nd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Nt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return yd(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[Ob].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>un(s.doubleValue));return new dl(r)}convertGeoPoint(e){return new ul(un(e.latitude),un(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=sx(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp($0(e));default:return null}}convertTimestamp(e){const r=rd(e);return new Dt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ir.fromString(e);lr(jB(n),9688,{name:e});const i=new U0(n.get(1),n.get(3)),a=new bt(n.popFirst(5));return i.isEqual(r)||_c(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class Wg{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sf extends h${constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new $1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(bx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Sf._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Sf._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sf._jsonSchema={type:Ln("string",Sf._jsonSchemaVersion),bundleSource:Ln("string","DocumentSnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class $1 extends Sf{data(e={}){return super.data(e)}}class Tp{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Wg(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new $1(this._firestore,this._userDataWriter,n.key,n,new Wg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ot(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new $1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Wg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new $1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Wg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:uae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=N3.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){t=wo(t,mn);const e=wo(t.firestore,nh);return Yie(J3(e),t._key).then(r=>dae(e,t,r))}Tp._jsonSchemaVersion="firestore/querySnapshot/1.0",Tp._jsonSchema={type:Ln("string",Tp._jsonSchemaVersion),bundleSource:Ln("string","QuerySnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class g$ extends cae{constructor(e){super(),this.firestore=e}convertBytes(e){return new _s(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,r)}}function hi(t){t=wo(t,bd);const e=wo(t.firestore,nh),r=J3(e),n=new g$(e);return lae(t._query),Xie(r,t._query).then(i=>new Tp(e,n,t,i))}function Hg(t,e,r){t=wo(t,mn);const n=wo(t.firestore,nh),i=m$(t.converter,e);return xx(n,[c$(yx(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Ts.none())])}function ao(t,e,r,...n){t=wo(t,mn);const i=wo(t.firestore,nh),a=yx(i);let s;return s=typeof(e=Fn(e))=="string"||e instanceof gx?iae(a,"updateDoc",t._key,e,r,n):nae(a,"updateDoc",t._key,e),xx(i,[s.toMutation(t._key,Ts.exists(!0))])}function xu(t){return xx(wo(t.firestore,nh),[new R3(t._key,Ts.none())])}function Kd(t,e){const r=wo(t.firestore,nh),n=tr(t),i=m$(t.converter,e);return xx(r,[c$(yx(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Ts.exists(!1))]).then(()=>n)}function xx(t,e){return function(n,i){const a=new dc;return n.asyncQueue.enqueueAndForget(async()=>Mie(await Kie(n),i,a)),a.promise}(J3(t),e)}function dae(t,e,r){const n=r.docs.get(e._key),i=new g$(t);return new Sf(t,i,e._key,n,new Wg(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Nm=i})(Sm),ml(new vo("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new nh(new are(n.getProvider("auth-internal")),new lre(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ot(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new U0(c.options.projectId,u)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Ns(uI,dI,e),Ns(uI,dI,"esm2020")})();var fae="firebase",hae="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(fae,hae,"app");const y$="@firebase/installations",oT="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=1e4,b$=`w:${oT}`,w$="FIS_v2",pae="https://firebaseinstallations.googleapis.com/v1",mae=60*60*1e3,gae="installations",yae="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vae={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vf=new Qf(gae,yae,vae);function x$(t){return t instanceof So&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$({projectId:t}){return`${pae}/projects/${t}/installations`}function E$(t){return{token:t.token,requestStatus:2,expiresIn:wae(t.expiresIn),creationTime:Date.now()}}async function S$(t,e){const n=(await e.json()).error;return Vf.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function A$({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bae(t,{refreshToken:e}){const r=A$(t);return r.append("Authorization",xae(e)),r}async function N$(t){const e=await t();return e.status>=500&&e.status<600?t():e}function wae(t){return Number(t.replace("s","000"))}function xae(t){return`${w$} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ae({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=_$(t),i=A$(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:r,authVersion:w$,appId:t.appId,sdkVersion:b$},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await N$(()=>fetch(n,o));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:E$(c.authToken)}}else throw await S$("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eae(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sae=/^[cdef][\w-]{21}$/,WA="";function Aae(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Nae(t);return Sae.test(r)?r:WA}catch{return WA}}function Nae(t){return Eae(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=new Map;function C$(t,e){const r=_x(t);k$(r,e),Tae(r,e)}function k$(t,e){const r=P$.get(t);if(r)for(const n of r)n(e)}function Tae(t,e){const r=Pae();r&&r.postMessage({key:t,fid:e}),Cae()}let hf=null;function Pae(){return!hf&&"BroadcastChannel"in self&&(hf=new BroadcastChannel("[Firebase] FID Change"),hf.onmessage=t=>{k$(t.data.key,t.data.fid)}),hf}function Cae(){P$.size===0&&hf&&(hf.close(),hf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kae="firebase-installations-database",Iae=1,zf="firebase-installations-store";let Y5=null;function lT(){return Y5||(Y5=ZF(kae,Iae,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zf)}}})),Y5}async function zb(t,e){const r=_x(t),i=(await lT()).transaction(zf,"readwrite"),a=i.objectStore(zf),s=await a.get(r);return await a.put(e,r),await i.done,(!s||s.fid!==e.fid)&&C$(t,e.fid),e}async function I$(t){const e=_x(t),n=(await lT()).transaction(zf,"readwrite");await n.objectStore(zf).delete(e),await n.done}async function Ex(t,e){const r=_x(t),i=(await lT()).transaction(zf,"readwrite"),a=i.objectStore(zf),s=await a.get(r),o=e(s);return o===void 0?await a.delete(r):await a.put(o,r),await i.done,o&&(!s||s.fid!==o.fid)&&C$(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(t){let e;const r=await Ex(t.appConfig,n=>{const i=jae(n),a=Oae(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===WA?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function jae(t){const e=t||{fid:Aae(),registrationStatus:0};return j$(e)}function Oae(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Vf.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Rae(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Lae(t)}:{installationEntry:e}}async function Rae(t,e){try{const r=await _ae(t,e);return zb(t.appConfig,r)}catch(r){throw x$(r)&&r.customData.serverCode===409?await I$(t.appConfig):await zb(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Lae(t){let e=await lj(t.appConfig);for(;e.registrationStatus===1;)await T$(100),e=await lj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await cT(t);return n||r}return e}function lj(t){return Ex(t,e=>{if(!e)throw Vf.create("installation-not-found");return j$(e)})}function j$(t){return Dae(t)?{fid:t.fid,registrationStatus:0}:t}function Dae(t){return t.registrationStatus===1&&t.registrationTime+v$<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mae({appConfig:t,heartbeatServiceProvider:e},r){const n=Fae(t,r),i=bae(t,r),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:b$,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await N$(()=>fetch(n,o));if(l.ok){const c=await l.json();return E$(c)}else throw await S$("Generate Auth Token",l)}function Fae(t,{fid:e}){return`${_$(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(t,e=!1){let r;const n=await Ex(t.appConfig,a=>{if(!O$(a))throw Vf.create("not-registered");const s=a.authToken;if(!e&&Uae(s))return a;if(s.requestStatus===1)return r=Bae(t,e),a;{if(!navigator.onLine)throw Vf.create("app-offline");const o=zae(a);return r=$ae(t,o),o}});return r?await r:n.authToken}async function Bae(t,e){let r=await cj(t.appConfig);for(;r.authToken.requestStatus===1;)await T$(100),r=await cj(t.appConfig);const n=r.authToken;return n.requestStatus===0?uT(t,e):n}function cj(t){return Ex(t,e=>{if(!O$(e))throw Vf.create("not-registered");const r=e.authToken;return qae(r)?{...e,authToken:{requestStatus:0}}:e})}async function $ae(t,e){try{const r=await Mae(t,e),n={...e,authToken:r};return await zb(t.appConfig,n),r}catch(r){if(x$(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await I$(t.appConfig);else{const n={...e,authToken:{requestStatus:0}};await zb(t.appConfig,n)}throw r}}function O$(t){return t!==void 0&&t.registrationStatus===2}function Uae(t){return t.requestStatus===2&&!Vae(t)}function Vae(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mae}function zae(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function qae(t){return t.requestStatus===1&&t.requestTime+v$<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wae(t){const e=t,{installationEntry:r,registrationPromise:n}=await cT(e);return n?n.catch(console.error):uT(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hae(t,e=!1){const r=t;return await Gae(r),(await uT(r,e)).token}async function Gae(t){const{registrationPromise:e}=await cT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kae(t){if(!t||!t.options)throw X5("App Configuration");if(!t.name)throw X5("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw X5(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function X5(t){return Vf.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="installations",Yae="installations-internal",Xae=t=>{const e=t.getProvider("app").getImmediate(),r=Kae(e),n=Zf(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Jae=t=>{const e=t.getProvider("app").getImmediate(),r=Zf(e,R$).getImmediate();return{getId:()=>Wae(r),getToken:i=>Hae(r,i)}};function Qae(){ml(new vo(R$,Xae,"PUBLIC")),ml(new vo(Yae,Jae,"PRIVATE"))}Qae();Ns(y$,oT);Ns(y$,oT,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="analytics",Zae="firebase_id",ese="origin",tse=60*1e3,rse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Zw("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nse={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ya=new Qf("analytics","Analytics",nse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ise(t){if(!t.startsWith(dT)){const e=Ya.create("invalid-gtag-resource",{gtagURL:t});return xa.warn(e.message),""}return t}function L$(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function ase(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function sse(t,e){const r=ase("firebase-js-sdk-policy",{createScriptURL:ise}),n=document.createElement("script"),i=`${dT}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function ose(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lse(t,e,r,n,i,a){const s=n[i];try{if(s)await e[s];else{const l=(await L$(r)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){xa.error(o)}t("config",i,a)}async function cse(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await L$(r);for(const l of s){const c=o.find(f=>f.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){xa.error(a)}}function use(t,e,r,n){async function i(a,...s){try{if(a==="event"){const[o,l]=s;await cse(t,e,r,o,l)}else if(a==="config"){const[o,l]=s;await lse(t,e,r,n,o,l)}else if(a==="consent"){const[o,l]=s;t("consent",o,l)}else if(a==="get"){const[o,l,c]=s;t("get",o,l,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){xa.error(o)}}return i}function dse(t,e,r,n,i){let a=function(...s){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=use(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function fse(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(dT)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hse=30,pse=1e3;class mse{constructor(e={},r=pse){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const D$=new mse;function gse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function yse(t){var s;const{appId:e,apiKey:r}=t,n={method:"GET",headers:gse(r)},i=rse.replace("{app-id}",e),a=await fetch(i,n);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw Ya.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function vse(t,e=D$,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw Ya.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw Ya.create("no-api-key")}const s=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new xse;return setTimeout(async()=>{o.abort()},tse),M$({appId:n,apiKey:i,measurementId:a},s,o,e)}async function M$(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=D$){var o;const{appId:a,measurementId:s}=t;try{await bse(n,e)}catch(l){if(s)return xa.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await yse(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!wse(c)){if(i.deleteThrottleMetadata(a),s)return xa.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?Lk(r,i.intervalMillis,hse):Lk(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return i.setThrottleMetadata(a,f),xa.debug(`Calling attemptFetch again in ${u} millis`),M$(t,f,n,i)}}function bse(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(Ya.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wse(t){if(!(t instanceof So)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class xse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _se(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,s={...n,send_to:a};t("event",r,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ese(){if(YF())try{await XF()}catch(t){return xa.warn(Ya.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return xa.warn(Ya.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Sse(t,e,r,n,i,a,s){const o=vse(t);o.then(p=>{r[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&xa.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>xa.error(p)),e.push(o);const l=Ese().then(p=>{if(p)return n.getId()}),[c,u]=await Promise.all([o,l]);fse(a)||sse(a,c.measurementId),i("js",new Date);const f=(s==null?void 0:s.config)??{};return f[ese]="firebase",f.update=!0,u!=null&&(f[Zae]=u),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e){this.app=e}_delete(){return delete u0[this.app.options.appId],Promise.resolve()}}let u0={},uj=[];const dj={};let J5="dataLayer",Nse="gtag",fj,F$,hj=!1;function Tse(){const t=[];if(KF()&&t.push("This is a browser extension environment."),EQ()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Ya.create("invalid-analytics-context",{errorInfo:e});xa.warn(r.message)}}function Pse(t,e,r){Tse();const n=t.options.appId;if(!n)throw Ya.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)xa.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ya.create("no-api-key");if(u0[n]!=null)throw Ya.create("already-exists",{id:n});if(!hj){ose(J5);const{wrappedGtag:a,gtagCore:s}=dse(u0,uj,dj,J5,Nse);F$=a,fj=s,hj=!0}return u0[n]=Sse(t,uj,dj,e,fj,J5,r),new Ase(t)}function Cse(t=g3()){t=Fn(t);const e=Zf(t,qb);return e.isInitialized()?e.getImmediate():kse(t)}function kse(t,e={}){const r=Zf(t,qb);if(r.isInitialized()){const i=r.getImmediate();if(ed(e,r.getOptions()))return i;throw Ya.create("already-initialized")}return r.initialize({options:e})}function Ise(t,e,r,n){t=Fn(t),_se(F$,u0[t.app.options.appId],e,r,n).catch(i=>xa.error(i))}const pj="@firebase/analytics",mj="0.10.18";function jse(){ml(new vo(qb,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Pse(n,i,r)},"PUBLIC")),ml(new vo("analytics-internal",t,"PRIVATE")),Ns(pj,mj),Ns(pj,mj,"esm2020");function t(e){try{const r=e.getProvider(qb).getImmediate();return{logEvent:(n,i,a)=>Ise(r,n,i,a)}}catch(r){throw Ya.create("interop-component-reg-failed",{reason:r})}}}jse();const Ose={apiKey:"AIzaSyBj8BmTKrauLcB7c0BL_56GKexxzJXPocA",authDomain:"legalx-b64a7.firebaseapp.com",projectId:"legalx-b64a7",storageBucket:"legalx-b64a7.firebasestorage.app",messagingSenderId:"34186005691",appId:"1:34186005691:web:e6bf474c3893ba3a0dad9e",measurementId:"G-HESNWJTHSZ"},fT=e9(Ose);let Rse;try{Rse=Cse(fT)}catch{console.log("Analytics não disponível em desenvolvimento")}const Ur=tre(fT),fr=Qie(fT);class Lse{constructor(){this.authStateListeners=[],zee(Ur,async e=>{if(console.log("Estado de autenticação mudou:",e==null?void 0:e.uid),e)try{const r=await this.getUserData(e.uid);this.notifyAuthStateListeners(r)}catch(r){console.error("Erro ao buscar dados do usuário:",r),this.notifyAuthStateListeners(null)}else this.notifyAuthStateListeners(null)})}async register(e,r){try{console.log("Tentando registrar usuário:",e.email);const i=(await Bee(Ur,e.email,r)).user;console.log("Usuário criado no Auth:",i.uid),await new Promise(l=>setTimeout(l,1e3)),await i.getIdToken(!0);const a={id:i.uid,officeName:e.officeName,oabNumber:e.oabNumber,email:e.email,createdAt:new Date().toISOString()};let s=0;const o=3;for(;s<o;)try{if(!Ur.currentUser)throw new Error("Usuário não está mais autenticado");await Hg(tr(fr,"users",i.uid),a),console.log("Dados salvos no Firestore com sucesso");break}catch(l){if(s++,console.error(`Tentativa ${s} falhou:`,l),s>=o)throw l;await new Promise(c=>setTimeout(c,1e3*s)),await i.getIdToken(!0)}return{success:!0,message:"Cadastro realizado com sucesso!",user:a}}catch(n){console.error("Erro completo ao registrar usuário:",n);let i="Erro interno. Tente novamente.";switch(n.code){case"auth/email-already-in-use":i="Este e-mail já está sendo usado por outra conta.";break;case"auth/weak-password":i="A senha é muito fraca. Use pelo menos 6 caracteres.";break;case"auth/invalid-email":i="E-mail inválido.";break;case"auth/operation-not-allowed":i="Operação não permitida. Verifique a configuração do Firebase.";break;case"permission-denied":i="Erro de permissão no banco de dados. Tente novamente em alguns segundos.";break;case"unavailable":i="Serviço temporariamente indisponível. Tente novamente.";break;default:i=`Erro: ${n.message||"Erro desconhecido"}`}return{success:!1,message:i}}}async login(e,r){try{console.log("Tentando fazer login:",e);const i=(await $ee(Ur,e,r)).user;console.log("Login bem-sucedido no Auth:",i.uid);const a=await this.getUserData(i.uid);return a?(console.log("Dados do usuário recuperados:",a),{success:!0,message:"Login realizado com sucesso!",user:a}):(console.error("Dados do usuário não encontrados no Firestore"),{success:!1,message:"Dados do usuário não encontrados."})}catch(n){console.error("Erro completo ao fazer login:",n);let i="Erro interno. Tente novamente.";switch(n.code){case"auth/user-not-found":case"auth/invalid-credential":i="E-mail ou senha incorretos.";break;case"auth/wrong-password":i="Senha incorreta.";break;case"auth/invalid-email":i="E-mail inválido.";break;case"auth/user-disabled":i="Conta desabilitada.";break;case"auth/too-many-requests":i="Muitas tentativas. Tente novamente mais tarde.";break;case"auth/network-request-failed":i="Erro de rede. Verifique sua conexão.";break;default:i=`Erro: ${n.message||"Erro desconhecido"}`}return{success:!1,message:i}}}async logout(){try{await qee(Ur),console.log("Logout realizado com sucesso")}catch(e){throw console.error("Erro ao fazer logout:",e),e}}async getCurrentUser(){const e=Ur.currentUser;return e?await this.getUserData(e.uid):null}async getUserData(e){try{console.log("Buscando dados do usuário:",e);const r=await Va(tr(fr,"users",e));if(!r.exists())return console.log("Documento do usuário não existe"),null;const n={id:e,...r.data()};return console.log("Dados do usuário encontrados:",n),n}catch(r){return console.error("Erro ao buscar dados do usuário:",r),null}}onAuthStateChanged(e){return this.authStateListeners.push(e),()=>{this.authStateListeners=this.authStateListeners.filter(r=>r!==e)}}notifyAuthStateListeners(e){this.authStateListeners.forEach(r=>r(e))}}const Im=new Lse,HA={owner:{financas:!0,processos:!0,agenda:!0,documentos:!0,relatorios:!0,equipe:!0,configuracoes:!0},admin:{financas:!0,processos:!0,agenda:!0,documentos:!0,relatorios:!0,equipe:!0,configuracoes:!1},editor:{financas:!1,processos:!0,agenda:!0,documentos:!0,relatorios:!1,equipe:!1,configuracoes:!1},viewer:{financas:!1,processos:!1,agenda:!1,documentos:!1,relatorios:!1,equipe:!1,configuracoes:!1}};class Dse{getCurrentUserId(){const e=Ur.currentUser;if(!e)throw new Error("Usuário não autenticado");return e.uid}async waitForAuth(){return new Promise(e=>{if(Ur.currentUser){e(!0);return}const r=Ur.onAuthStateChanged(n=>{r(),e(!!n)})})}async generateSecureToken(){const e=crypto.getRandomValues(new Uint8Array(32)),r=Array.from(e).map(l=>l.toString(16).padStart(2,"0")).join(""),i=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",i),o=Array.from(new Uint8Array(a)).map(l=>l.toString(16).padStart(2,"0")).join("");return{token:r,hash:o}}async hashToken(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(i)).map(s=>s.toString(16).padStart(2,"0")).join("")}async createTeam(e){var r,n,i,a,s,o;try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const c=this.getCurrentUserId(),u=Ur.currentUser;if(!(u!=null&&u.email))throw new Error("Usuário sem email válido");console.log("Criando nova equipe para usuário:",c);const f=fi(Oi(fr,"teams"),Yn("ownerUid","==",c),vg(1)),p=await hi(f);if(!p.empty){console.log("Usuário já possui uma equipe");const b=p.docs[0];return{id:b.id,...b.data(),createdAt:((i=(n=(r=b.data().createdAt)==null?void 0:r.toDate)==null?void 0:n.call(r))==null?void 0:i.toISOString())||b.data().createdAt}}const h={name:e.name||"Meu Escritório",ownerUid:c,createdAt:Dt.now(),phones:e.phones||[],settings:e.settings||{allowInvitations:!0,defaultRole:"viewer",modules:["processos","agenda","documentos","relatorios"]},...e},y=tr(Oi(fr,"teams"));await Hg(y,h),console.log("Equipe criada:",y.id);try{const b=tr(Oi(fr,"teamMembers"));await Hg(b,{uid:c,email:u.email.toLowerCase(),teamId:y.id,role:"owner",permissions:HA.owner,status:"active",addedAt:Dt.now(),addedBy:c,lastActiveAt:Dt.now()}),console.log("Membro owner criado")}catch(b){console.warn("Erro ao criar membro owner, mas equipe foi criada:",b)}const g=await Va(y);return g.exists()?{id:g.id,...g.data(),createdAt:((o=(s=(a=g.data().createdAt)==null?void 0:a.toDate)==null?void 0:s.call(a))==null?void 0:o.toISOString())||g.data().createdAt}:null}catch(l){throw console.error("Erro ao criar equipe:",l),l}}async createInvitation(e,r,n){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const a=this.getCurrentUserId(),s=r.toLowerCase().trim();console.log("Criando convite seguro para:",s);const o=fi(Oi(fr,"invitations"),Yn("teamId","==",e),Yn("email","==",s),Yn("status","==","pending"));if(!(await hi(o)).empty)throw new Error("Já existe um convite pendente para este e-mail");const c=fi(Oi(fr,"teamMembers"),Yn("teamId","==",e),Yn("email","==",s),Yn("status","==","active"));if(!(await hi(c)).empty)throw new Error("Este usuário já é membro da equipe");const{token:f,hash:p}=await this.generateSecureToken(),h=new Date;h.setHours(h.getHours()+72);const y={email:s,teamId:e,role:n,tokenHash:p,expiresAt:Dt.fromDate(h),createdAt:Dt.now(),createdBy:a,status:"pending",metadata:{userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",createdFrom:"web"}},g=tr(Oi(fr,"invitations"));await Hg(g,y);const b=window.location.origin;let m;b.includes("github.io")?m=`${b}/LegalX`:m=b;const v=`${m}/#/aceitar?inviteId=${g.id}&token=${f}`;return console.log("Convite seguro criado:",g.id),console.log("Link gerado:",v),{link:v,inviteId:g.id}}catch(i){throw console.error("Erro ao criar convite seguro:",i),i}}async acceptInvitation(e,r){try{console.log("Tentando aceitar convite:",e);const n=await this.validateInvitation(e,r);if(!n.valid||!n.invitation)return{success:!1,message:n.error||"Convite inválido"};const i=n.invitation;if(!await this.waitForAuth())return this.savePendingInvite({inviteId:e,token:r,email:i.email,expiresAt:i.expiresAt,timestamp:new Date().toISOString()}),{success:!1,message:"É necessário fazer login para aceitar o convite",requiresAuth:!0};const s=this.getCurrentUserId(),o=Ur.currentUser;if(!o||!o.email)return{success:!1,message:"Usuário não possui email válido"};if(o.email.toLowerCase()!==i.email.toLowerCase())return{success:!1,message:`Este convite foi enviado para ${i.email}. Faça login com o e-mail correto.`};try{const l=fi(Oi(fr,"teamMembers"),Yn("uid","==",s),Yn("teamId","==",i.teamId),vg(1));if(!(await hi(l)).empty)return{success:!1,message:"Você já é membro desta equipe"};const u=await Va(tr(fr,"invitations",e));if(!u.exists()||u.data().status!=="pending")return{success:!1,message:"Convite não está mais válido"};const f=tr(Oi(fr,"teamMembers"));return await Hg(f,{uid:s,email:o.email.toLowerCase(),teamId:i.teamId,role:i.role,permissions:HA[i.role],status:"active",addedAt:Dt.now(),addedBy:i.createdBy,lastActiveAt:Dt.now(),inviteId:e}),await ao(tr(fr,"invitations",e),{status:"accepted",usedAt:Dt.now(),acceptedBy:s,"metadata.acceptedFrom":"web"}),{success:!0,message:"Convite aceito com sucesso! Bem-vindo à equipe.",data:{teamId:i.teamId}}}catch(l){return console.error("Erro ao aceitar convite:",l),{success:!1,message:"Erro interno ao processar convite"}}}catch(n){return console.error("Erro ao aceitar convite:",n),{success:!1,message:"Erro interno. Tente novamente."}}}async updateTeam(e,r){var n,i,a;try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const o=this.getCurrentUserId();console.log("Atualizando equipe:",e);const l=await Va(tr(fr,"teams",e));if(!l.exists())throw new Error("Equipe não encontrada");if(l.data().ownerUid!==o)throw new Error("Apenas o proprietário pode atualizar a equipe");const{id:c,ownerUid:u,createdAt:f,...p}=r;await ao(tr(fr,"teams",e),{...p,updatedAt:Dt.now()});const h=await Va(tr(fr,"teams",e));return h.exists()?{id:h.id,...h.data(),createdAt:((a=(i=(n=h.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||h.data().createdAt}:null}catch(s){throw console.error("Erro ao atualizar equipe:",s),s}}async uploadLogo(e,r){try{return new Promise((n,i)=>{const a=new FileReader;a.onload=()=>{const s=a.result;n(s)},a.onerror=s=>{console.error("Erro ao converter arquivo:",s),i(null)},a.readAsDataURL(e)})}catch(n){return console.error("Erro ao fazer upload do logo:",n),null}}async getTeamInvitations(e){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const n=fi(Oi(fr,"invitations"),Yn("teamId","==",e),Xl("createdAt","desc"));return(await hi(n)).docs.map(a=>{var s,o,l,c,u,f,p,h,y;return{id:a.id,...a.data(),expiresAt:((l=(o=(s=a.data().expiresAt)==null?void 0:s.toDate)==null?void 0:o.call(s))==null?void 0:l.toISOString())||a.data().expiresAt,createdAt:((f=(u=(c=a.data().createdAt)==null?void 0:c.toDate)==null?void 0:u.call(c))==null?void 0:f.toISOString())||a.data().createdAt,usedAt:((y=(h=(p=a.data().usedAt)==null?void 0:p.toDate)==null?void 0:h.call(p))==null?void 0:y.toISOString())||a.data().usedAt}})}catch(r){throw console.error("Erro ao buscar convites:",r),r}}async cancelInvitation(e){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");return await ao(tr(fr,"invitations",e),{status:"cancelled",cancelledAt:Dt.now(),cancelledBy:this.getCurrentUserId()}),!0}catch(r){return console.error("Erro ao cancelar convite:",r),!1}}async validateInvitation(e,r){var n,i,a,s,o,l,c,u,f;try{console.log("Validando convite:",e);const p=await Va(tr(fr,"invitations",e));if(!p.exists())return{valid:!1,error:"Convite não encontrado"};const h={id:p.id,...p.data(),expiresAt:((a=(i=(n=p.data().expiresAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||p.data().expiresAt,createdAt:((l=(o=(s=p.data().createdAt)==null?void 0:s.toDate)==null?void 0:o.call(s))==null?void 0:l.toISOString())||p.data().createdAt,usedAt:((f=(u=(c=p.data().usedAt)==null?void 0:c.toDate)==null?void 0:u.call(c))==null?void 0:f.toISOString())||p.data().usedAt};if(await this.hashToken(r)!==h.tokenHash)return console.log("Token hash mismatch"),{valid:!1,error:"Token de convite inválido"};const g=new Date,b=new Date(h.expiresAt);return g>b?(await ao(tr(fr,"invitations",e),{status:"expired",expiredAt:Dt.now()}),{valid:!1,error:"Convite expirado"}):h.status!=="pending"?{valid:!1,error:{accepted:"Convite já foi aceito",expired:"Convite expirado",cancelled:"Convite cancelado",revoked:"Convite revogado"}[h.status]||"Convite não está disponível"}:{valid:!0,invitation:h,requiresAuth:!Ur.currentUser}}catch(p){return console.error("Erro ao validar convite:",p),{valid:!1,error:"Erro interno ao validar convite"}}}async getTeam(){var e,r,n,i,a,s;try{if(!await this.waitForAuth())return null;const l=this.getCurrentUserId(),c=fi(Oi(fr,"teams"),Yn("ownerUid","==",l)),u=await hi(c);if(!u.empty){const h=u.docs[0];return{id:h.id,...h.data(),createdAt:((n=(r=(e=h.data().createdAt)==null?void 0:e.toDate)==null?void 0:r.call(e))==null?void 0:n.toISOString())||h.data().createdAt}}const f=fi(Oi(fr,"teamMembers"),Yn("uid","==",l),Yn("status","==","active"),vg(1)),p=await hi(f);if(!p.empty){const h=p.docs[0].data(),y=await Va(tr(fr,"teams",h.teamId));if(y.exists())return{id:y.id,...y.data(),createdAt:((s=(a=(i=y.data().createdAt)==null?void 0:i.toDate)==null?void 0:a.call(i))==null?void 0:s.toISOString())||y.data().createdAt}}return null}catch(o){throw console.error("Erro ao buscar team:",o),o}}async getTeamMembers(e){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const n=fi(Oi(fr,"teamMembers"),Yn("teamId","==",e),Xl("addedAt","desc"));return(await hi(n)).docs.map(a=>{var s,o,l,c,u,f;return{id:a.id,...a.data(),addedAt:((l=(o=(s=a.data().addedAt)==null?void 0:s.toDate)==null?void 0:o.call(s))==null?void 0:l.toISOString())||a.data().addedAt,lastActiveAt:((f=(u=(c=a.data().lastActiveAt)==null?void 0:c.toDate)==null?void 0:u.call(c))==null?void 0:f.toISOString())||a.data().lastActiveAt}})}catch(r){throw console.error("Erro ao buscar membros:",r),r}}async updateMemberPermissions(e,r,n,i){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const s=fi(Oi(fr,"teamMembers"),Yn("teamId","==",e),Yn("uid","==",r),vg(1)),o=await hi(s);if(o.empty)throw new Error("Membro não encontrado");const l=o.docs[0];return await ao(tr(fr,"teamMembers",l.id),{permissions:n,role:i,updatedAt:Dt.now(),updatedBy:this.getCurrentUserId()}),!0}catch(a){return console.error("Erro ao atualizar permissões:",a),!1}}async removeMember(e,r){try{if(!await this.waitForAuth())throw new Error("Usuário não autenticado");const i=fi(Oi(fr,"teamMembers"),Yn("teamId","==",e),Yn("uid","==",r),vg(1)),a=await hi(i);if(a.empty)throw new Error("Membro não encontrado");const s=a.docs[0];return await xu(tr(fr,"teamMembers",s.id)),!0}catch(n){return console.error("Erro ao remover membro:",n),!1}}savePendingInvite(e){try{if(typeof Storage>"u")return;const n=this.getPendingInvites().filter(i=>i.inviteId!==e.inviteId);n.push(e),localStorage.setItem("legalx_pending_invites",JSON.stringify(n)),console.log("Convite pendente salvo:",e.inviteId)}catch(r){console.error("Erro ao salvar convite pendente:",r)}}getPendingInvites(){try{if(typeof Storage>"u")return[];const e=localStorage.getItem("legalx_pending_invites");if(!e)return[];const r=JSON.parse(e),n=new Date,i=r.filter(a=>{const s=new Date(a.expiresAt);return n<=s});return i.length!==r.length&&localStorage.setItem("legalx_pending_invites",JSON.stringify(i)),i}catch(e){return console.error("Erro ao recuperar convites pendentes:",e),[]}}clearPendingInvite(e){try{if(typeof Storage>"u")return;const n=this.getPendingInvites().filter(i=>i.inviteId!==e);localStorage.setItem("legalx_pending_invites",JSON.stringify(n)),console.log("Convite pendente removido:",e)}catch(r){console.error("Erro ao limpar convite pendente:",r)}}async processPendingInvites(){try{if(!await this.waitForAuth())return{processed:0,errors:["Usuário não autenticado"]};const r=this.getPendingInvites();if(r.length===0)return{processed:0,errors:[]};console.log("Processando convites pendentes:",r.length);let n=0;const i=[];for(const a of r)try{const s=await this.acceptInvitation(a.inviteId,a.token);s.success?(this.clearPendingInvite(a.inviteId),n++):s.requiresAuth||(this.clearPendingInvite(a.inviteId),i.push(`${a.inviteId}: ${s.message}`))}catch(s){console.error("Erro ao processar convite:",s),i.push(`${a.inviteId}: Erro interno`)}return{processed:n,errors:i}}catch(e){return console.error("Erro ao processar convites pendentes:",e),{processed:0,errors:["Erro interno ao processar convites"]}}}formatCpfCnpj(e){const r=e.replace(/\D/g,"");return r.length<=11?r.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):r.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")}formatPhone(e){const r=e.replace(/\D/g,"");return r.length<=10?r.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"):r.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1")}formatCep(e){return e.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1")}}const Rn=new Dse;var Ay=t=>t.type==="checkbox",pf=t=>t instanceof Date,Xi=t=>t==null;const B$=t=>typeof t=="object";var gn=t=>!Xi(t)&&!Array.isArray(t)&&B$(t)&&!pf(t),Mse=t=>gn(t)&&t.target?Ay(t.target)?t.target.checked:t.target.value:t,Fse=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Bse=(t,e)=>t.has(Fse(e)),$se=t=>{const e=t.constructor&&t.constructor.prototype;return gn(e)&&e.hasOwnProperty("isPrototypeOf")},hT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(hT&&(t instanceof Blob||n))&&(r||gn(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!$se(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Xn(t[i]));else return t;return e}var Sx=t=>/^\w*$/.test(t),In=t=>t===void 0,pT=t=>Array.isArray(t)?t.filter(Boolean):[],mT=t=>pT(t.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(t,e,r)=>{if(!e||!gn(t))return r;const n=(Sx(e)?[e]:mT(e)).reduce((i,a)=>Xi(i)?i:i[a],t);return In(n)||n===t?In(t[e])?r:t[e]:n},Go=t=>typeof t=="boolean",Sr=(t,e,r)=>{let n=-1;const i=Sx(e)?[e]:mT(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let l=r;if(n!==s){const c=t[o];l=gn(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const gj={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},oo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ql={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Use=wr.createContext(null);Use.displayName="HookFormContext";var Vse=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==oo.all&&(e._proxyFormState[s]=!n||oo.all),t[s]}});return i};const zse=typeof window<"u"?wr.useLayoutEffect:wr.useEffect;var el=t=>typeof t=="string",qse=(t,e,r,n,i)=>el(t)?(n&&e.watch.add(t),pt(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),pt(r,a))):(n&&(e.watchAll=!0),r),GA=t=>Xi(t)||!B$(t);function ju(t,e,r=new WeakSet){if(GA(t)||GA(e))return t===e;if(pf(t)&&pf(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const s=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const o=e[a];if(pf(s)&&pf(o)||gn(s)&&gn(o)||Array.isArray(s)&&Array.isArray(o)?!ju(s,o,r):s!==o)return!1}}return!0}var $$=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},d0=t=>Array.isArray(t)?t:[t],yj=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},da=t=>gn(t)&&!Object.keys(t).length,gT=t=>t.type==="file",lo=t=>typeof t=="function",Wb=t=>{if(!hT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},U$=t=>t.type==="select-multiple",yT=t=>t.type==="radio",Wse=t=>yT(t)||Ay(t),Q5=t=>Wb(t)&&t.isConnected;function Hse(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=In(t)?n++:t[e[n++]];return t}function Gse(t){for(const e in t)if(t.hasOwnProperty(e)&&!In(t[e]))return!1;return!0}function Pn(t,e){const r=Array.isArray(e)?e:Sx(e)?[e]:mT(e),n=r.length===1?t:Hse(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(gn(n)&&da(n)||Array.isArray(n)&&Gse(n))&&Pn(t,r.slice(0,-1)),t}var V$=t=>{for(const e in t)if(lo(t[e]))return!0;return!1};function Hb(t,e={}){const r=Array.isArray(t);if(gn(t)||r)for(const n in t)Array.isArray(t[n])||gn(t[n])&&!V$(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Hb(t[n],e[n])):Xi(t[n])||(e[n]=!0);return e}function z$(t,e,r){const n=Array.isArray(t);if(gn(t)||n)for(const i in t)Array.isArray(t[i])||gn(t[i])&&!V$(t[i])?In(e)||GA(r[i])?r[i]=Array.isArray(t[i])?Hb(t[i],[]):{...Hb(t[i])}:z$(t[i],Xi(e)?{}:e[i],r[i]):r[i]=!ju(t[i],e[i]);return r}var bg=(t,e)=>z$(t,e,Hb(e));const vj={value:!1,isValid:!1},bj={value:!0,isValid:!0};var q$=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!In(t[0].attributes.value)?In(t[0].value)||t[0].value===""?bj:{value:t[0].value,isValid:!0}:bj:vj}return vj},W$=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>In(t)?t:e?t===""?NaN:t&&+t:r&&el(t)?new Date(t):n?n(t):t;const wj={isValid:!1,value:null};var H$=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,wj):wj;function xj(t){const e=t.ref;return gT(e)?e.files:yT(e)?H$(t.refs).value:U$(e)?[...e.selectedOptions].map(({value:r})=>r):Ay(e)?q$(t.refs).value:W$(In(e.value)?t.ref.value:e.value,t)}var Kse=(t,e,r,n)=>{const i={};for(const a of t){const s=pt(e,a);s&&Sr(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Gb=t=>t instanceof RegExp,wg=t=>In(t)?t:Gb(t)?t.source:gn(t)?Gb(t.value)?t.value.source:t.value:t,_j=t=>({isOnSubmit:!t||t===oo.onSubmit,isOnBlur:t===oo.onBlur,isOnChange:t===oo.onChange,isOnAll:t===oo.all,isOnTouch:t===oo.onTouched});const Ej="AsyncFunction";var Yse=t=>!!t&&!!t.validate&&!!(lo(t.validate)&&t.validate.constructor.name===Ej||gn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Ej)),Xse=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Sj=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const f0=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=pt(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(f0(o,e))break}else if(gn(o)&&f0(o,e))break}}};function Aj(t,e,r){const n=pt(t,r);if(n||Sx(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=pt(e,a),o=pt(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:r}}var Jse=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return da(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||oo.all))},Qse=(t,e,r)=>!t||!e||t===e||d0(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Zse=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,eoe=(t,e)=>!pT(pt(t,e)).length&&Pn(t,e),toe=(t,e,r)=>{const n=d0(pt(t,r));return Sr(n,"root",e[r]),Sr(t,r,n),t},U1=t=>el(t);function Nj(t,e,r="validate"){if(U1(t)||Array.isArray(t)&&t.every(U1)||Go(t)&&!t)return{type:r,message:U1(t)?t:"",ref:e}}var Fh=t=>gn(t)&&!Gb(t)?t:{value:t,message:""},Tj=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:l,maxLength:c,minLength:u,min:f,max:p,pattern:h,validate:y,name:g,valueAsNumber:b,mount:m}=t._f,v=pt(r,g);if(!m||e.has(g))return{};const w=o?o[0]:s,E=S=>{i&&w.reportValidity&&(w.setCustomValidity(Go(S)?"":S||""),w.reportValidity())},P={},$=yT(s),C=Ay(s),N=$||C,A=(b||gT(s))&&In(s.value)&&In(v)||Wb(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,D=$$.bind(null,g,n,P),F=(S,O,k,ie=ql.maxLength,ae=ql.minLength)=>{const Q=S?O:k;P[g]={type:S?ie:ae,message:Q,ref:s,...D(S?ie:ae,Q)}};if(a?!Array.isArray(v)||!v.length:l&&(!N&&(A||Xi(v))||Go(v)&&!v||C&&!q$(o).isValid||$&&!H$(o).isValid)){const{value:S,message:O}=U1(l)?{value:!!l,message:l}:Fh(l);if(S&&(P[g]={type:ql.required,message:O,ref:w,...D(ql.required,O)},!n))return E(O),P}if(!A&&(!Xi(f)||!Xi(p))){let S,O;const k=Fh(p),ie=Fh(f);if(!Xi(v)&&!isNaN(v)){const ae=s.valueAsNumber||v&&+v;Xi(k.value)||(S=ae>k.value),Xi(ie.value)||(O=ae<ie.value)}else{const ae=s.valueAsDate||new Date(v),Q=we=>new Date(new Date().toDateString()+" "+we),se=s.type=="time",fe=s.type=="week";el(k.value)&&v&&(S=se?Q(v)>Q(k.value):fe?v>k.value:ae>new Date(k.value)),el(ie.value)&&v&&(O=se?Q(v)<Q(ie.value):fe?v<ie.value:ae<new Date(ie.value))}if((S||O)&&(F(!!S,k.message,ie.message,ql.max,ql.min),!n))return E(P[g].message),P}if((c||u)&&!A&&(el(v)||a&&Array.isArray(v))){const S=Fh(c),O=Fh(u),k=!Xi(S.value)&&v.length>+S.value,ie=!Xi(O.value)&&v.length<+O.value;if((k||ie)&&(F(k,S.message,O.message),!n))return E(P[g].message),P}if(h&&!A&&el(v)){const{value:S,message:O}=Fh(h);if(Gb(S)&&!v.match(S)&&(P[g]={type:ql.pattern,message:O,ref:s,...D(ql.pattern,O)},!n))return E(O),P}if(y){if(lo(y)){const S=await y(v,r),O=Nj(S,w);if(O&&(P[g]={...O,...D(ql.validate,O.message)},!n))return E(O.message),P}else if(gn(y)){let S={};for(const O in y){if(!da(S)&&!n)break;const k=Nj(await y[O](v,r),w,O);k&&(S={...k,...D(O,k.message)},E(k.message),n&&(P[g]=S))}if(!da(S)&&(P[g]={ref:w,...S},!n))return P}}return E(!0),P};const roe={mode:oo.onSubmit,reValidateMode:oo.onChange,shouldFocusError:!0};function noe(t={}){let e={...roe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:lo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=gn(e.defaultValues)||gn(e.values)?Xn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Xn(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const p={array:yj(),state:yj()},h=e.criteriaMode===oo.all,y=G=>ne=>{clearTimeout(c),c=setTimeout(G,ne)},g=async G=>{if(!e.disabled&&(u.isValid||f.isValid||G)){const ne=e.resolver?da((await C()).errors):await A(n,!0);ne!==r.isValid&&p.state.next({isValid:ne})}},b=(G,ne)=>{!e.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((G||Array.from(o.mount)).forEach(re=>{re&&(ne?Sr(r.validatingFields,re,ne):Pn(r.validatingFields,re))}),p.state.next({validatingFields:r.validatingFields,isValidating:!da(r.validatingFields)}))},m=(G,ne=[],re,Se,Ne=!0,Ae=!0)=>{if(Se&&re&&!e.disabled){if(s.action=!0,Ae&&Array.isArray(pt(n,G))){const Ie=re(pt(n,G),Se.argA,Se.argB);Ne&&Sr(n,G,Ie)}if(Ae&&Array.isArray(pt(r.errors,G))){const Ie=re(pt(r.errors,G),Se.argA,Se.argB);Ne&&Sr(r.errors,G,Ie),eoe(r.errors,G)}if((u.touchedFields||f.touchedFields)&&Ae&&Array.isArray(pt(r.touchedFields,G))){const Ie=re(pt(r.touchedFields,G),Se.argA,Se.argB);Ne&&Sr(r.touchedFields,G,Ie)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=bg(i,a)),p.state.next({name:G,isDirty:F(G,ne),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Sr(a,G,ne)},v=(G,ne)=>{Sr(r.errors,G,ne),p.state.next({errors:r.errors})},w=G=>{r.errors=G,p.state.next({errors:r.errors,isValid:!1})},E=(G,ne,re,Se)=>{const Ne=pt(n,G);if(Ne){const Ae=pt(a,G,In(re)?pt(i,G):re);In(Ae)||Se&&Se.defaultChecked||ne?Sr(a,G,ne?Ae:xj(Ne._f)):k(G,Ae),s.mount&&g()}},P=(G,ne,re,Se,Ne)=>{let Ae=!1,Ie=!1;const Fe={name:G};if(!e.disabled){if(!re||Se){(u.isDirty||f.isDirty)&&(Ie=r.isDirty,r.isDirty=Fe.isDirty=F(),Ae=Ie!==Fe.isDirty);const Ke=ju(pt(i,G),ne);Ie=!!pt(r.dirtyFields,G),Ke?Pn(r.dirtyFields,G):Sr(r.dirtyFields,G,!0),Fe.dirtyFields=r.dirtyFields,Ae=Ae||(u.dirtyFields||f.dirtyFields)&&Ie!==!Ke}if(re){const Ke=pt(r.touchedFields,G);Ke||(Sr(r.touchedFields,G,re),Fe.touchedFields=r.touchedFields,Ae=Ae||(u.touchedFields||f.touchedFields)&&Ke!==re)}Ae&&Ne&&p.state.next(Fe)}return Ae?Fe:{}},$=(G,ne,re,Se)=>{const Ne=pt(r.errors,G),Ae=(u.isValid||f.isValid)&&Go(ne)&&r.isValid!==ne;if(e.delayError&&re?(l=y(()=>v(G,re)),l(e.delayError)):(clearTimeout(c),l=null,re?Sr(r.errors,G,re):Pn(r.errors,G)),(re?!ju(Ne,re):Ne)||!da(Se)||Ae){const Ie={...Se,...Ae&&Go(ne)?{isValid:ne}:{},errors:r.errors,name:G};r={...r,...Ie},p.state.next(Ie)}},C=async G=>{b(G,!0);const ne=await e.resolver(a,e.context,Kse(G||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(G),ne},N=async G=>{const{errors:ne}=await C(G);if(G)for(const re of G){const Se=pt(ne,re);Se?Sr(r.errors,re,Se):Pn(r.errors,re)}else r.errors=ne;return ne},A=async(G,ne,re={valid:!0})=>{for(const Se in G){const Ne=G[Se];if(Ne){const{_f:Ae,...Ie}=Ne;if(Ae){const Fe=o.array.has(Ae.name),Ke=Ne._f&&Yse(Ne._f);Ke&&u.validatingFields&&b([Se],!0);const nt=await Tj(Ne,o.disabled,a,h,e.shouldUseNativeValidation&&!ne,Fe);if(Ke&&u.validatingFields&&b([Se]),nt[Ae.name]&&(re.valid=!1,ne))break;!ne&&(pt(nt,Ae.name)?Fe?toe(r.errors,nt,Ae.name):Sr(r.errors,Ae.name,nt[Ae.name]):Pn(r.errors,Ae.name))}!da(Ie)&&await A(Ie,ne,re)}}return re.valid},D=()=>{for(const G of o.unMount){const ne=pt(n,G);ne&&(ne._f.refs?ne._f.refs.every(re=>!Q5(re)):!Q5(ne._f.ref))&&z(G)}o.unMount=new Set},F=(G,ne)=>!e.disabled&&(G&&ne&&Sr(a,G,ne),!ju(we(),i)),S=(G,ne,re)=>qse(G,o,{...s.mount?a:In(ne)?i:el(G)?{[G]:ne}:ne},re,ne),O=G=>pT(pt(s.mount?a:i,G,e.shouldUnregister?pt(i,G,[]):[])),k=(G,ne,re={})=>{const Se=pt(n,G);let Ne=ne;if(Se){const Ae=Se._f;Ae&&(!Ae.disabled&&Sr(a,G,W$(ne,Ae)),Ne=Wb(Ae.ref)&&Xi(ne)?"":ne,U$(Ae.ref)?[...Ae.ref.options].forEach(Ie=>Ie.selected=Ne.includes(Ie.value)):Ae.refs?Ay(Ae.ref)?Ae.refs.forEach(Ie=>{(!Ie.defaultChecked||!Ie.disabled)&&(Array.isArray(Ne)?Ie.checked=!!Ne.find(Fe=>Fe===Ie.value):Ie.checked=Ne===Ie.value||!!Ne)}):Ae.refs.forEach(Ie=>Ie.checked=Ie.value===Ne):gT(Ae.ref)?Ae.ref.value="":(Ae.ref.value=Ne,Ae.ref.type||p.state.next({name:G,values:Xn(a)})))}(re.shouldDirty||re.shouldTouch)&&P(G,Ne,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&fe(G)},ie=(G,ne,re)=>{for(const Se in ne){if(!ne.hasOwnProperty(Se))return;const Ne=ne[Se],Ae=G+"."+Se,Ie=pt(n,Ae);(o.array.has(G)||gn(Ne)||Ie&&!Ie._f)&&!pf(Ne)?ie(Ae,Ne,re):k(Ae,Ne,re)}},ae=(G,ne,re={})=>{const Se=pt(n,G),Ne=o.array.has(G),Ae=Xn(ne);Sr(a,G,Ae),Ne?(p.array.next({name:G,values:Xn(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&re.shouldDirty&&p.state.next({name:G,dirtyFields:bg(i,a),isDirty:F(G,Ae)})):Se&&!Se._f&&!Xi(Ae)?ie(G,Ae,re):k(G,Ae,re),Sj(G,o)&&p.state.next({...r,name:G}),p.state.next({name:s.mount?G:void 0,values:Xn(a)})},Q=async G=>{s.mount=!0;const ne=G.target;let re=ne.name,Se=!0;const Ne=pt(n,re),Ae=Ke=>{Se=Number.isNaN(Ke)||pf(Ke)&&isNaN(Ke.getTime())||ju(Ke,pt(a,re,Ke))},Ie=_j(e.mode),Fe=_j(e.reValidateMode);if(Ne){let Ke,nt;const wt=ne.type?xj(Ne._f):Mse(G),et=G.type===gj.BLUR||G.type===gj.FOCUS_OUT,ar=!Xse(Ne._f)&&!e.resolver&&!pt(r.errors,re)&&!Ne._f.deps||Zse(et,pt(r.touchedFields,re),r.isSubmitted,Fe,Ie),gt=Sj(re,o,et);Sr(a,re,wt),et?(!ne||!ne.readOnly)&&(Ne._f.onBlur&&Ne._f.onBlur(G),l&&l(0)):Ne._f.onChange&&Ne._f.onChange(G);const zr=P(re,wt,et),$t=!da(zr)||gt;if(!et&&p.state.next({name:re,type:G.type,values:Xn(a)}),ar)return(u.isValid||f.isValid)&&(e.mode==="onBlur"?et&&g():et||g()),$t&&p.state.next({name:re,...gt?{}:zr});if(!et&&gt&&p.state.next({...r}),e.resolver){const{errors:Mt}=await C([re]);if(Ae(wt),Se){const ai=Aj(r.errors,n,re),Ft=Aj(Mt,n,ai.name||re);Ke=Ft.error,re=Ft.name,nt=da(Mt)}}else b([re],!0),Ke=(await Tj(Ne,o.disabled,a,h,e.shouldUseNativeValidation))[re],b([re]),Ae(wt),Se&&(Ke?nt=!1:(u.isValid||f.isValid)&&(nt=await A(n,!0)));Se&&(Ne._f.deps&&fe(Ne._f.deps),$(re,nt,Ke,zr))}},se=(G,ne)=>{if(pt(r.errors,ne)&&G.focus)return G.focus(),1},fe=async(G,ne={})=>{let re,Se;const Ne=d0(G);if(e.resolver){const Ae=await N(In(G)?G:Ne);re=da(Ae),Se=G?!Ne.some(Ie=>pt(Ae,Ie)):re}else G?(Se=(await Promise.all(Ne.map(async Ae=>{const Ie=pt(n,Ae);return await A(Ie&&Ie._f?{[Ae]:Ie}:Ie)}))).every(Boolean),!(!Se&&!r.isValid)&&g()):Se=re=await A(n);return p.state.next({...!el(G)||(u.isValid||f.isValid)&&re!==r.isValid?{}:{name:G},...e.resolver||!G?{isValid:re}:{},errors:r.errors}),ne.shouldFocus&&!Se&&f0(n,se,G?Ne:o.mount),Se},we=G=>{const ne={...s.mount?a:i};return In(G)?ne:el(G)?pt(ne,G):G.map(re=>pt(ne,re))},ve=(G,ne)=>({invalid:!!pt((ne||r).errors,G),isDirty:!!pt((ne||r).dirtyFields,G),error:pt((ne||r).errors,G),isValidating:!!pt(r.validatingFields,G),isTouched:!!pt((ne||r).touchedFields,G)}),M=G=>{G&&d0(G).forEach(ne=>Pn(r.errors,ne)),p.state.next({errors:G?r.errors:{}})},K=(G,ne,re)=>{const Se=(pt(n,G,{_f:{}})._f||{}).ref,Ne=pt(r.errors,G)||{},{ref:Ae,message:Ie,type:Fe,...Ke}=Ne;Sr(r.errors,G,{...Ke,...ne,ref:Se}),p.state.next({name:G,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&Se&&Se.focus&&Se.focus()},ee=(G,ne)=>lo(G)?p.state.subscribe({next:re=>"values"in re&&G(S(void 0,ne),re)}):S(G,ne,!0),de=G=>p.state.subscribe({next:ne=>{Qse(G.name,ne.name,G.exact)&&Jse(ne,G.formState||u,j,G.reRenderRoot)&&G.callback({values:{...a},...r,...ne,defaultValues:i})}}).unsubscribe,ue=G=>(s.mount=!0,f={...f,...G.formState},de({...G,formState:f})),z=(G,ne={})=>{for(const re of G?d0(G):o.mount)o.mount.delete(re),o.array.delete(re),ne.keepValue||(Pn(n,re),Pn(a,re)),!ne.keepError&&Pn(r.errors,re),!ne.keepDirty&&Pn(r.dirtyFields,re),!ne.keepTouched&&Pn(r.touchedFields,re),!ne.keepIsValidating&&Pn(r.validatingFields,re),!e.shouldUnregister&&!ne.keepDefaultValue&&Pn(i,re);p.state.next({values:Xn(a)}),p.state.next({...r,...ne.keepDirty?{isDirty:F()}:{}}),!ne.keepIsValid&&g()},V=({disabled:G,name:ne})=>{(Go(G)&&s.mount||G||o.disabled.has(ne))&&(G?o.disabled.add(ne):o.disabled.delete(ne))},te=(G,ne={})=>{let re=pt(n,G);const Se=Go(ne.disabled)||Go(e.disabled);return Sr(n,G,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:G}},name:G,mount:!0,...ne}}),o.mount.add(G),re?V({disabled:Go(ne.disabled)?ne.disabled:e.disabled,name:G}):E(G,!0,ne.value),{...Se?{disabled:ne.disabled||e.disabled}:{},...e.progressive?{required:!!ne.required,min:wg(ne.min),max:wg(ne.max),minLength:wg(ne.minLength),maxLength:wg(ne.maxLength),pattern:wg(ne.pattern)}:{},name:G,onChange:Q,onBlur:Q,ref:Ne=>{if(Ne){te(G,ne),re=pt(n,G);const Ae=In(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,Ie=Wse(Ae),Fe=re._f.refs||[];if(Ie?Fe.find(Ke=>Ke===Ae):Ae===re._f.ref)return;Sr(n,G,{_f:{...re._f,...Ie?{refs:[...Fe.filter(Q5),Ae,...Array.isArray(pt(i,G))?[{}]:[]],ref:{type:Ae.type,name:G}}:{ref:Ae}}}),E(G,!1,void 0,Ae)}else re=pt(n,G,{}),re._f&&(re._f.mount=!1),(e.shouldUnregister||ne.shouldUnregister)&&!(Bse(o.array,G)&&s.action)&&o.unMount.add(G)}}},ce=()=>e.shouldFocusError&&f0(n,se,o.mount),Z=G=>{Go(G)&&(p.state.next({disabled:G}),f0(n,(ne,re)=>{const Se=pt(n,re);Se&&(ne.disabled=Se._f.disabled||G,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(Ne=>{Ne.disabled=Se._f.disabled||G}))},0,!1))},J=(G,ne)=>async re=>{let Se;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let Ne=Xn(a);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Ae,values:Ie}=await C();r.errors=Ae,Ne=Xn(Ie)}else await A(n);if(o.disabled.size)for(const Ae of o.disabled)Pn(Ne,Ae);if(Pn(r.errors,"root"),da(r.errors)){p.state.next({errors:{}});try{await G(Ne,re)}catch(Ae){Se=Ae}}else ne&&await ne({...r.errors},re),ce(),setTimeout(ce);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:da(r.errors)&&!Se,submitCount:r.submitCount+1,errors:r.errors}),Se)throw Se},Ee=(G,ne={})=>{pt(n,G)&&(In(ne.defaultValue)?ae(G,Xn(pt(i,G))):(ae(G,ne.defaultValue),Sr(i,G,Xn(ne.defaultValue))),ne.keepTouched||Pn(r.touchedFields,G),ne.keepDirty||(Pn(r.dirtyFields,G),r.isDirty=ne.defaultValue?F(G,Xn(pt(i,G))):F()),ne.keepError||(Pn(r.errors,G),u.isValid&&g()),p.state.next({...r}))},H=(G,ne={})=>{const re=G?Xn(G):i,Se=Xn(re),Ne=da(G),Ae=Ne?i:Se;if(ne.keepDefaultValues||(i=re),!ne.keepValues){if(ne.keepDirtyValues){const Ie=new Set([...o.mount,...Object.keys(bg(i,a))]);for(const Fe of Array.from(Ie))pt(r.dirtyFields,Fe)?Sr(Ae,Fe,pt(a,Fe)):ae(Fe,pt(Ae,Fe))}else{if(hT&&In(G))for(const Ie of o.mount){const Fe=pt(n,Ie);if(Fe&&Fe._f){const Ke=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Wb(Ke)){const nt=Ke.closest("form");if(nt){nt.reset();break}}}}if(ne.keepFieldsRef)for(const Ie of o.mount)ae(Ie,pt(Ae,Ie));else n={}}a=e.shouldUnregister?ne.keepDefaultValues?Xn(i):{}:Xn(Ae),p.array.next({values:{...Ae}}),p.state.next({values:{...Ae}})}o={mount:ne.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!u.isValid||!!ne.keepIsValid||!!ne.keepDirtyValues,s.watch=!!e.shouldUnregister,p.state.next({submitCount:ne.keepSubmitCount?r.submitCount:0,isDirty:Ne?!1:ne.keepDirty?r.isDirty:!!(ne.keepDefaultValues&&!ju(G,i)),isSubmitted:ne.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ne?{}:ne.keepDirtyValues?ne.keepDefaultValues&&a?bg(i,a):r.dirtyFields:ne.keepDefaultValues&&G?bg(i,G):ne.keepDirty?r.dirtyFields:{},touchedFields:ne.keepTouched?r.touchedFields:{},errors:ne.keepErrors?r.errors:{},isSubmitSuccessful:ne.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},be=(G,ne)=>H(lo(G)?G(a):G,ne),B=(G,ne={})=>{const re=pt(n,G),Se=re&&re._f;if(Se){const Ne=Se.refs?Se.refs[0]:Se.ref;Ne.focus&&(Ne.focus(),ne.shouldSelect&&lo(Ne.select)&&Ne.select())}},j=G=>{r={...r,...G}},W={control:{register:te,unregister:z,getFieldState:ve,handleSubmit:J,setError:K,_subscribe:de,_runSchema:C,_focusError:ce,_getWatch:S,_getDirty:F,_setValid:g,_setFieldArray:m,_setDisabledField:V,_setErrors:w,_getFieldArray:O,_reset:H,_resetDefaultValues:()=>lo(e.defaultValues)&&e.defaultValues().then(G=>{be(G,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:Z,_subjects:p,_proxyFormState:u,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(G){s=G},get _defaultValues(){return i},get _names(){return o},set _names(G){o=G},get _formState(){return r},get _options(){return e},set _options(G){e={...e,...G}}},subscribe:ue,trigger:fe,register:te,handleSubmit:J,watch:ee,setValue:ae,getValues:we,reset:be,resetField:Ee,clearErrors:M,unregister:z,setError:K,setFocus:B,getFieldState:ve};return{...W,formControl:W}}function _l(t={}){const e=wr.useRef(void 0),r=wr.useRef(void 0),[n,i]=wr.useState({isDirty:!1,isValidating:!1,isLoading:lo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:lo(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!lo(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:s,...o}=noe(t);e.current={...o,formState:n}}const a=e.current.control;return a._options=t,zse(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,s},[a]),wr.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),wr.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),wr.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),wr.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),wr.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),wr.useEffect(()=>{t.values&&!ju(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[a,t.values]),wr.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=Vse(n,a),e.current}const Pj=(t,e,r)=>{if(t&&"reportValidity"in t){const n=pt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},G$=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Pj(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>Pj(i,r,t))}},ioe=(t,e)=>{e.shouldUseNativeValidation&&G$(t,e);const r={};for(const n in t){const i=pt(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(aoe(e.names||Object.keys(t),n)){const s=Object.assign({},pt(r,n));Sr(s,"root",a),Sr(r,n,s)}else Sr(r,n,a)}return r},aoe=(t,e)=>{const r=Cj(e);return t.some(n=>Cj(n).match(`^${r}\\.\\d+`))};function Cj(t){return t.replace(/\]|\[/g,"")}function El(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var l=(e!=null&&e.context,Promise.resolve(t[r.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},e,{context:i}))).then(function(c){return a.shouldUseNativeValidation&&G$({},a),{values:r.raw?Object.assign({},n):c,errors:{}}}))}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(s){if(!s.inner)throw s;return{values:{},errors:ioe((o=s,l=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(o.inner||[]).reduce(function(c,u){if(c[u.path]||(c[u.path]={message:u.message,type:u.type}),l){var f=c[u.path].types,p=f&&f[u.type];c[u.path]=$$(u.path,l,c,u.type,p?[].concat(p,u.message):u.message)}return c},{})),a)};var o,l}))}catch(s){return Promise.reject(s)}}}function ih(t){this._maxSize=t,this.clear()}ih.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ih.prototype.get=function(t){return this._values[t]};ih.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var soe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,K$=/^\d+$/,ooe=/^\d/,loe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,coe=/^\s*(['"]?)(.*?)(\1)\s*$/,vT=512,kj=new ih(vT),Ij=new ih(vT),jj=new ih(vT),Af={Cache:ih,split:KA,normalizePath:Z5,setter:function(t){var e=Z5(t);return Ij.get(t)||Ij.set(t,function(n,i){for(var a=0,s=e.length,o=n;a<s-1;){var l=e[a];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;o=o[e[a++]]}o[e[a]]=i})},getter:function(t,e){var r=Z5(t);return jj.get(t)||jj.set(t,function(i){for(var a=0,s=r.length;a<s;)if(i!=null||!e)i=i[r[a++]];else return;return i})},join:function(t){return t.reduce(function(e,r){return e+(bT(r)||K$.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){uoe(Array.isArray(t)?t:KA(t),e,r)}};function Z5(t){return kj.get(t)||kj.set(t,KA(t).map(function(e){return e.replace(coe,"$2")}))}function KA(t){return t.match(soe)||[""]}function uoe(t,e,r){var n=t.length,i,a,s,o;for(a=0;a<n;a++)i=t[a],i&&(hoe(i)&&(i='"'+i+'"'),o=bT(i),s=!o&&/^\d+$/.test(i),e.call(r,i,o,s,a,t))}function bT(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function doe(t){return t.match(ooe)&&!t.match(K$)}function foe(t){return loe.test(t)}function hoe(t){return!bT(t)&&(doe(t)||foe(t))}const poe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Ax=t=>t.match(poe)||[],Nx=t=>t[0].toUpperCase()+t.slice(1),wT=(t,e)=>Ax(t).join(e).toLowerCase(),Y$=t=>Ax(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),moe=t=>Nx(Y$(t)),goe=t=>wT(t,"_"),yoe=t=>wT(t,"-"),voe=t=>Nx(wT(t," ")),boe=t=>Ax(t).map(Nx).join(" ");var e_={words:Ax,upperFirst:Nx,camelCase:Y$,pascalCase:moe,snakeCase:goe,kebabCase:yoe,sentenceCase:voe,titleCase:boe},xT={exports:{}};xT.exports=function(t){return X$(woe(t),t)};xT.exports.array=X$;function X$(t,e){var r=t.length,n=new Array(r),i={},a=r,s=xoe(e),o=_oe(t);for(e.forEach(function(c){if(!o.has(c[0])||!o.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});a--;)i[a]||l(t[a],a,new Set);return n;function l(c,u,f){if(f.has(c)){var p;try{p=", node was:"+JSON.stringify(c)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!o.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var h=s.get(c)||new Set;if(h=Array.from(h),u=h.length){f.add(c);do{var y=h[--u];l(y,o.get(y),f)}while(u);f.delete(c)}n[--r]=c}}}function woe(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var i=t[r];e.add(i[0]),e.add(i[1])}return Array.from(e)}function xoe(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var i=t[r];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function _oe(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Eoe=xT.exports;const Soe=Eo(Eoe),Aoe=Object.prototype.toString,Noe=Error.prototype.toString,Toe=RegExp.prototype.toString,Poe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Coe=/^Symbol\((.*)\)(.*)$/;function koe(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Oj(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return koe(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Poe.call(t).replace(Coe,"Symbol($1)");const n=Aoe.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Noe.call(t)+"]":n==="RegExp"?Toe.call(t):null}function fc(t,e){let r=Oj(t,e);return r!==null?r:JSON.stringify(t,function(n,i){let a=Oj(this[n],e);return a!==null?a:i},2)}function J$(t){return t==null?[]:[].concat(t)}let Q$,Z$,eU,Ioe=/\$\{\s*(\w+)\s*\}/g;Q$=Symbol.toStringTag;class Rj{constructor(e,r,n,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Q$]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=i,this.errors=[],this.inner=[],J$(e).forEach(a=>{if(Ji.isError(a)){this.errors.push(...a.errors);const s=a.inner.length?a.inner:[a];this.inner.push(...s)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Z$=Symbol.hasInstance;eU=Symbol.toStringTag;class Ji extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(Ioe,(i,a)=>fc(r[a])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,i,a){const s=new Rj(e,r,n,i);if(a)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[eU]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ji)}static[Z$](e){return Rj[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ko={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const i=n!=null&&n!==r?` (cast from the value \`${fc(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${fc(r,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${fc(r,!0)}\``+i}},ua={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},_u={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},YA={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},joe={isValue:"${path} field must be ${value}"},V1={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},z1={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Ooe={notType:t=>{const{path:e,value:r,spec:n}=t,i=n.types.length;if(Array.isArray(r)){if(r.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${r.length} for value: \`${fc(r,!0)}\``;if(r.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${r.length} for value: \`${fc(r,!0)}\``}return Ji.formatError(Ko.notType,t)}};Object.assign(Object.create(null),{mixed:Ko,string:ua,number:_u,date:YA,object:V1,array:z1,boolean:joe,tuple:Ooe});const Tx=t=>t&&t.__isYupSchema__;class Kb{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:a}=r,s=typeof n=="function"?n:(...o)=>o.every(l=>l===n);return new Kb(e,(o,l)=>{var c;let u=s(...o)?i:a;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(a=>a.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),i=this.fn(n,e,r);if(i===void 0||i===e)return e;if(!Tx(i))throw new TypeError("conditions must return a schema object");return i.resolve(r)}}const Uv={context:"$",value:"."};function Roe(t,e){return new wd(t,e)}class wd{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Uv.context,this.isValue=this.key[0]===Uv.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Uv.context:this.isValue?Uv.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Af.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let i=this.isContext?n:this.isValue?e:r;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}wd.prototype.__isYupRef=!0;const ic=t=>t==null;function Bh(t){function e({value:r,path:n="",options:i,originalValue:a,schema:s},o,l){const{name:c,test:u,params:f,message:p,skipAbsent:h}=t;let{parent:y,context:g,abortEarly:b=s.spec.abortEarly,disableStackTrace:m=s.spec.disableStackTrace}=i;const v={value:r,parent:y,context:g};function w(F={}){const S=tU(Object.assign({value:r,originalValue:a,label:s.spec.label,path:F.path||n,spec:s.spec,disableStackTrace:F.disableStackTrace||m},f,F.params),v),O=new Ji(Ji.formatError(F.message||p,S),r,S.path,F.type||c,S.disableStackTrace);return O.params=S,O}const E=b?o:l;let P={path:n,parent:y,type:c,from:i.from,createError:w,resolve(F){return rU(F,v)},options:i,originalValue:a,schema:s};const $=F=>{Ji.isError(F)?E(F):F?l(null):E(w())},C=F=>{Ji.isError(F)?E(F):o(F)};if(h&&ic(r))return $(!0);let A;try{var D;if(A=u.call(P,r,P),typeof((D=A)==null?void 0:D.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${P.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(A).then($,C)}}catch(F){C(F);return}$(A)}return e.OPTIONS=t,e}function tU(t,e){if(!t)return t;for(const r of Object.keys(t))t[r]=rU(t[r],e);return t}function rU(t,e){return wd.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function Loe(t,e,r,n=r){let i,a,s;return e?(Af.forEach(e,(o,l,c)=>{let u=l?o.slice(1,o.length-1):o;t=t.resolve({context:n,parent:i,value:r});let f=t.type==="tuple",p=c?parseInt(u,10):0;if(t.innerType||f){if(f&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(r&&p>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);i=r,r=r&&r[p],t=f?t.spec.types[p]:t.innerType}if(!c){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${s} which is a type: "${t.type}")`);i=r,r=r&&r[u],t=t.fields[u]}a=u,s=l?"["+o+"]":"."+o}),{schema:t,parent:i,parentPath:a}):{parent:i,parentPath:e,schema:t}}class Yb extends Set{describe(){const e=[];for(const r of this.values())e.push(wd.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Yb(this.values())}merge(e,r){const n=this.clone();return e.forEach(i=>n.add(i)),r.forEach(i=>n.delete(i)),n}}function hp(t,e=new Map){if(Tx(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=hp(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,i]of t.entries())r.set(n,hp(i,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(hp(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,i]of Object.entries(t))r[n]=hp(i,e)}else throw Error(`Unable to clone ${t}`);return r}function Doe(t){if(!(t!=null&&t.length))return;const e=[];let r="",n=!1,i=!1;for(let a=0;a<t.length;a++){const s=t[a];if(s==="["&&!i){r&&(e.push(...r.split(".").filter(Boolean)),r=""),n=!0;continue}if(s==="]"&&!i){r&&(/^\d+$/.test(r)?e.push(r):e.push(r.replace(/^"|"$/g,"")),r=""),n=!1;continue}if(s==='"'){i=!i;continue}if(s==="."&&!n&&!i){r&&(e.push(r),r="");continue}r+=s}return r&&e.push(...r.split(".").filter(Boolean)),e}function Moe(t,e){const r=e?`${e}.${t.path}`:t.path;return t.errors.map(n=>({message:n,path:Doe(r)}))}function nU(t,e){var r;if(!((r=t.inner)!=null&&r.length)&&t.errors.length)return Moe(t,e);const n=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(i=>nU(i,n))}class Is{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Yb,this._blacklist=new Yb,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ko.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=hp(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const i=Object.assign({},r.spec,n.spec);return n.spec=i,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(a=>{e.tests.forEach(s=>{a.test(s.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((i,a)=>a.resolve(i,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,i,a;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),i=r.assert==="ignore-optionality",a=n._cast(e,r);if(r.assert!==!1&&!n.isType(a)){if(i&&ic(a))return a;let s=fc(e),o=fc(a);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${s} 
`+(o!==s?`result of cast: ${o}`:""))}return a}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((i,a)=>a.call(this,i,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,i){let{path:a,originalValue:s=e,strict:o=this.spec.strict}=r,l=e;o||(l=this._cast(l,Object.assign({assert:!1},r)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:a,value:l,originalValue:s,options:r,tests:c},n,u=>{if(u.length)return i(u,l);this.runTests({path:a,value:l,originalValue:s,options:r,tests:this.tests},n,i)})}runTests(e,r,n){let i=!1,{tests:a,value:s,originalValue:o,path:l,options:c}=e,u=g=>{i||(i=!0,r(g,s))},f=g=>{i||(i=!0,n(g,s))},p=a.length,h=[];if(!p)return f([]);let y={value:s,originalValue:o,path:l,options:c,schema:this};for(let g=0;g<a.length;g++){const b=a[g];b(y,u,function(v){v&&(Array.isArray(v)?h.push(...v):h.push(v)),--p<=0&&f(h)})}}asNestedTest({key:e,index:r,parent:n,parentPath:i,originalParent:a,options:s}){const o=e??r;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let c=n[o];const u=Object.assign({},s,{strict:!0,parent:n,value:c,originalValue:a[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${i||""}[${l?o:`"${o}"`}]`:(i?`${i}.`:"")+e});return(f,p,h)=>this.resolve(u)._validate(c,u,p,h)}validate(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),a=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return new Promise((s,o)=>i._validate(e,r,(l,c)=>{Ji.isError(l)&&(l.value=c),o(l)},(l,c)=>{l.length?o(new Ji(l,c,void 0,void 0,a)):s(c)}))}validateSync(e,r){var n;let i=this.resolve(Object.assign({},r,{value:e})),a,s=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},r,{sync:!0}),(o,l)=>{throw Ji.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new Ji(o,e,void 0,void 0,s);a=l}),a}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Ji.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Ji.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):hp(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Bh({message:r,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Bh({message:r,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Ko.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ko.notNull){return this.nullability(!1,e)}required(e=Ko.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Ko.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),i=Bh(r),a=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(s=>!(s.OPTIONS.name===r.name&&(a||s.OPTIONS.test===i.OPTIONS.test))),n.tests.push(i),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),i=J$(e).map(a=>new wd(a));return i.forEach(a=>{a.isSibling&&n.deps.push(a.key)}),n.conditions.push(typeof r=="function"?new Kb(i,r):Kb.fromOptions(i,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Bh({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Ko.oneOf){let n=this.clone();return e.forEach(i=>{n._whitelist.add(i),n._blacklist.delete(i)}),n.internalTests.whiteList=Bh({message:r,name:"oneOf",skipAbsent:!0,test(i){let a=this.schema._whitelist,s=a.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:s}})}}),n}notOneOf(e,r=Ko.notOneOf){let n=this.clone();return e.forEach(i=>{n._blacklist.add(i),n._whitelist.delete(i)}),n.internalTests.blacklist=Bh({message:r,name:"notOneOf",test(i){let a=this.schema._blacklist,s=a.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(a).join(", "),resolved:s}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:i,optional:a,nullable:s}=r.spec;return{meta:i,label:n,optional:a,nullable:s,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.filter((l,c,u)=>u.findIndex(f=>f.OPTIONS.name===l.OPTIONS.name)===c).map(l=>{const c=l.OPTIONS.params&&e?tU(Object.assign({},l.OPTIONS.params),e):l.OPTIONS.params;return{name:l.OPTIONS.name,params:c}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await e.validate(n,{abortEarly:!1})}}catch(i){if(i instanceof Ji)return{issues:nU(i)};throw i}}}}}Is.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Is.prototype[`${t}At`]=function(e,r,n={}){const{parent:i,parentPath:a,schema:s}=Loe(this,e,r,n.context);return s[t](i&&i[a],Object.assign({},n,{parent:i,path:e}))};for(const t of["equals","is"])Is.prototype[t]=Is.prototype.oneOf;for(const t of["not","nope"])Is.prototype[t]=Is.prototype.notOneOf;const Foe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Boe(t){const e=XA(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function XA(t){var e,r;const n=Foe.exec(t);return n?{year:Wl(n[1]),month:Wl(n[2],1)-1,day:Wl(n[3],1),hour:Wl(n[4]),minute:Wl(n[5]),second:Wl(n[6]),millisecond:n[7]?Wl(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Wl(n[10]),minuteOffset:Wl(n[11])}:null}function Wl(t,e=0){return Number(t)||e}let $oe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Uoe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Voe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,zoe="^\\d{4}-\\d{2}-\\d{2}",qoe="\\d{2}:\\d{2}:\\d{2}",Woe="(([+-]\\d{2}(:?\\d{2})?)|Z)",Hoe=new RegExp(`${zoe}T${qoe}(\\.\\d+)?${Woe}$`),Goe=t=>ic(t)||t===t.trim(),Koe={}.toString();function lt(){return new iU}class iU extends Is{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===Koe?e:i})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Ko.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=ua.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=ua.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=ua.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,i,a;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:i,name:a}=r:i=r),this.test({name:a||"matches",message:i||ua.matches,params:{regex:e},skipAbsent:!0,test:s=>s===""&&n||s.search(e)!==-1})}email(e=ua.email){return this.matches($oe,{name:"email",message:e,excludeEmptyString:!0})}url(e=ua.url){return this.matches(Uoe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ua.uuid){return this.matches(Voe,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,i;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:i=void 0}=e:r=e),this.matches(Hoe,{name:"datetime",message:r||ua.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||ua.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:a=>{if(!a||n)return!0;const s=XA(a);return s?!!s.z:!1}}).test({name:"datetime_precision",message:r||ua.datetime_precision,params:{precision:i},skipAbsent:!0,test:a=>{if(!a||i==null)return!0;const s=XA(a);return s?s.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=ua.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:Goe})}lowercase(e=ua.lowercase){return this.transform(r=>ic(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ic(r)||r===r.toLowerCase()})}uppercase(e=ua.uppercase){return this.transform(r=>ic(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ic(r)||r===r.toUpperCase()})}}lt.prototype=iU.prototype;let Yoe=t=>t!=+t;function jm(){return new aU}class aU extends Is{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Yoe(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return n.isType(i)||i===null?i:parseFloat(i)})})}min(e,r=_u.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=_u.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=_u.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=_u.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=_u.positive){return this.moreThan(0,e)}negative(e=_u.negative){return this.lessThan(0,e)}integer(e=_u.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>ic(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(i=>ic(i)?i:Math[e](i))}}jm.prototype=aU.prototype;let Xoe=new Date(""),Joe=t=>Object.prototype.toString.call(t)==="[object Date]";class Px extends Is{constructor(){super({type:"date",check(e){return Joe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=Boe(e),isNaN(e)?Px.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(wd.isRef(e))n=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=i}return n}min(e,r=YA.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(n)}})}max(e,r=YA.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(n)}})}}Px.INVALID_DATE=Xoe;Px.prototype;function Qoe(t,e=[]){let r=[],n=new Set,i=new Set(e.map(([s,o])=>`${s}-${o}`));function a(s,o){let l=Af.split(s)[0];n.add(l),i.has(`${o}-${l}`)||r.push([o,l])}for(const s of Object.keys(t)){let o=t[s];n.add(s),wd.isRef(o)&&o.isSibling?a(o.path,s):Tx(o)&&"deps"in o&&o.deps.forEach(l=>a(l,s))}return Soe.array(Array.from(n),r).reverse()}function Lj(t,e){let r=1/0;return t.some((n,i)=>{var a;if((a=e.path)!=null&&a.includes(n))return r=i,!0}),r}function sU(t){return(e,r)=>Lj(t,e)-Lj(t,r)}const oU=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function q1(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=q1(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=q1(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(q1)}):"optional"in t?t.optional():t}const Zoe=(t,e)=>{const r=[...Af.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),i=Af.getter(Af.join(r),!0)(t);return!!(i&&n in i)};let Dj=t=>Object.prototype.toString.call(t)==="[object Object]";function Mj(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const ele=sU([]);function Ds(t){return new lU(t)}class lU extends Is{constructor(e){super({type:"object",check(r){return Dj(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=ele,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let i=super._cast(e,r);if(i===void 0)return this.getDefault(r);if(!this._typeCheck(i))return i;let a=this.fields,s=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(i).filter(f=>!this._nodes.includes(f))),l={},c=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),u=!1;for(const f of o){let p=a[f],h=f in i;if(p){let y,g=i[f];c.path=(r.path?`${r.path}.`:"")+f,p=p.resolve({value:g,context:r.context,parent:l});let b=p instanceof Is?p.spec:void 0,m=b==null?void 0:b.strict;if(b!=null&&b.strip){u=u||f in i;continue}y=!r.__validating||!m?p.cast(i[f],c):i[f],y!==void 0&&(l[f]=y)}else h&&!s&&(l[f]=i[f]);(h!==f in l||l[f]!==i[f])&&(u=!0)}return u?l:i}_validate(e,r={},n,i){let{from:a=[],originalValue:s=e,recursive:o=this.spec.recursive}=r;r.from=[{schema:this,value:s},...a],r.__validating=!0,r.originalValue=s,super._validate(e,r,n,(l,c)=>{if(!o||!Dj(c)){i(l,c);return}s=s||c;let u=[];for(let f of this._nodes){let p=this.fields[f];!p||wd.isRef(p)||u.push(p.asNestedTest({options:r,key:f,parent:c,parentPath:r.path,originalParent:s}))}this.runTests({tests:u,value:c,originalValue:s,options:r},n,f=>{i(f.sort(this._sortErrors).concat(l),c)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[i,a]of Object.entries(this.fields)){const s=n[i];n[i]=s===void 0?a:s}return r.withMutation(i=>i.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var i;const a=this.fields[n];let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[n]})),r[n]=a&&"getDefault"in a?a.getDefault(s):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=Qoe(e,r),n._sortErrors=sU(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let i=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),i=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),i)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return q1(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,i])=>e.includes(n)&&e.includes(i)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let i=Af.getter(e,!0);return this.transform(a=>{if(!a)return a;let s=a;return Zoe(a,e)&&(s=Object.assign({},a),n||delete s[e],s[r]=i(a)),s})}json(){return this.transform(oU)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||V1.exact,test(r){if(r==null)return!0;const n=Mj(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=V1.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(i){if(i==null)return!0;const a=Mj(this.schema,i);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=V1.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const i of Object.keys(r))n[e(i)]=r[i];return n})}camelCase(){return this.transformKeys(e_.camelCase)}snakeCase(){return this.transformKeys(e_.snakeCase)}constantCase(){return this.transformKeys(e=>e_.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[a,s]of Object.entries(r.fields)){var i;let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[a]})),n.fields[a]=s.describe(o)}return n}}Ds.prototype=lU.prototype;function Om(t){return new cU(t)}class cU extends Is{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let i=!1;const a=n.map((s,o)=>{const l=this.innerType.cast(s,Object.assign({},r,{path:`${r.path||""}[${o}]`}));return l!==s&&(i=!0),l});return i?a:n}_validate(e,r={},n,i){var a;let s=this.innerType,o=(a=r.recursive)!=null?a:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(l,c)=>{var u;if(!o||!s||!this._typeCheck(c)){i(l,c);return}let f=new Array(c.length);for(let h=0;h<c.length;h++){var p;f[h]=s.asNestedTest({options:r,index:h,parent:c,parentPath:r.path,originalParent:(p=r.originalValue)!=null?p:e})}this.runTests({value:c,tests:f,originalValue:(u=r.originalValue)!=null?u:e,options:r},n,h=>i(h.concat(l),c))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(oU)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!Tx(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+fc(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=z1.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||z1.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||z1.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,i,a)=>!e(n,i,a):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[0]})),n.innerType=r.innerType.describe(a)}return n}}Om.prototype=cU.prototype;function tle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const uU=I.forwardRef(tle);function rle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const ea=I.forwardRef(rle);function nle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const ile=I.forwardRef(nle);function ale({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const Fj=I.forwardRef(ale);function sle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Bj=I.forwardRef(sle);function ole({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const W1=I.forwardRef(ole);function lle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const cle=I.forwardRef(lle);function ule({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const _T=I.forwardRef(ule);function dle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const dU=I.forwardRef(dle);function fle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const yl=I.forwardRef(fle);function hle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const $j=I.forwardRef(hle);function ple({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const mle=I.forwardRef(ple);function gle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const yle=I.forwardRef(gle);function vle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const H0=I.forwardRef(vle);function ble({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const h0=I.forwardRef(ble);function wle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const JA=I.forwardRef(wle);function xle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ET=I.forwardRef(xle);function _le({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Ele=I.forwardRef(_le);function Sle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ny=I.forwardRef(Sle);function Ale({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Nle=I.forwardRef(Ale);function Tle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Qp=I.forwardRef(Tle);function Ple({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Pp=I.forwardRef(Ple);function Cle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const QA=I.forwardRef(Cle);function kle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Sc=I.forwardRef(kle);function Ile({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Cx=I.forwardRef(Ile);function jle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const kx=I.forwardRef(jle);function Ole({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Rle=I.forwardRef(Ole);function Lle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const Dle=I.forwardRef(Lle);function Mle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Zp=I.forwardRef(Mle);function Fle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const ST=I.forwardRef(Fle);function Ble({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const fU=I.forwardRef(Ble);function $le({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const js=I.forwardRef($le);function Ule({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const AT=I.forwardRef(Ule);function Vle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const G0=I.forwardRef(Vle);function zle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const od=I.forwardRef(zle);function qle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Wle=I.forwardRef(qle);function Hle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}const Gle=I.forwardRef(Hle);function Kle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Xu=I.forwardRef(Kle);function Yle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const Xle=I.forwardRef(Yle);function Jle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ac=I.forwardRef(Jle);function Qle({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Zle=I.forwardRef(Qle);function ece({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const K0=I.forwardRef(ece);function tce({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const xg=I.forwardRef(tce);function rce({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const fl=I.forwardRef(rce);function nce({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const _a=I.forwardRef(nce),ice=Ds({email:lt().email("E-mail inválido").required("E-mail é obrigatório"),password:lt().required("Senha é obrigatória")});function ace({onSuccess:t,onSwitchToRegister:e}){const[r,n]=I.useState(!1),[i,a]=I.useState(!1),[s,o]=I.useState(""),{register:l,handleSubmit:c,formState:{errors:u}}=_l({resolver:El(ice)}),f=async p=>{a(!0),o("");try{const h=await Im.login(p.email,p.password);h.success&&h.user?t(h.user):o(h.message)}catch(h){console.error("Erro no login:",h),o("Erro interno. Tente novamente.")}finally{a(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]}),d.jsx("p",{className:"text-blue-200",children:"Sistema de Gestão Jurídica"})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Entrar"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Acesse sua conta no LegalX"})]}),s&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-red-600 text-sm",children:s})}),d.jsxs("form",{onSubmit:c(f),className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail"}),d.jsxs("div",{className:"relative",children:[d.jsx(Qp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...l("email"),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),u.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),d.jsxs("div",{className:"relative",children:[d.jsx(Zp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...l("password"),type:r?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Sua senha"}),d.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(QA,{className:"w-5 h-5"}):d.jsx(Sc,{className:"w-5 h-5"})})]}),u.password&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.password.message})]}),d.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors mt-6",children:i?"Entrando...":"Entrar"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:["Não tem uma conta?"," ",d.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Criar Conta"})]})})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("div",{className:"bg-blue-800 bg-opacity-50 rounded-lg p-4",children:[d.jsxs("p",{className:"text-blue-100 text-sm mb-2",children:[d.jsx("strong",{children:"Demo:"})," Crie uma conta para testar o sistema"]}),d.jsx("p",{className:"text-blue-200 text-xs",children:"Todos os dados são salvos localmente no seu navegador"})]})})]})})}const sce=Ds({officeName:lt().required("Nome do escritório é obrigatório"),oabNumber:lt().required("Número da OAB é obrigatório"),email:lt().email("E-mail inválido").required("E-mail é obrigatório"),password:lt().min(6,"Senha deve ter pelo menos 6 caracteres").required("Senha é obrigatória"),confirmPassword:lt().oneOf([Roe("password")],"Senhas não coincidem").required("Confirmação de senha é obrigatória")});function oce({onSuccess:t,onSwitchToLogin:e}){const[r,n]=I.useState(!1),[i,a]=I.useState(!1),[s,o]=I.useState(!1),[l,c]=I.useState(""),{register:u,handleSubmit:f,formState:{errors:p}}=_l({resolver:El(sce)}),h=async y=>{o(!0),c("");try{const g=await Im.register({officeName:y.officeName,oabNumber:y.oabNumber,email:y.email},y.password);g.success&&g.user?t(g.user):c(g.message)}catch(g){console.error("Erro no cadastro:",g),c("Erro interno. Tente novamente.")}finally{o(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]}),d.jsx("p",{className:"text-blue-200",children:"Sistema de Gestão Jurídica"})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Criar Conta"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Cadastre seu escritório no LegalX"})]}),l&&d.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-red-600 text-sm",children:l})}),d.jsxs("form",{onSubmit:f(h),className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Escritório *"}),d.jsxs("div",{className:"relative",children:[d.jsx(fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("officeName"),type:"text",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Escritório Silva & Associados"})]}),p.officeName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.officeName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB do Responsável *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dle,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("oabNumber"),type:"text",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 123456/SP"})]}),p.oabNumber&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.oabNumber.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Qp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("email"),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),p.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Zp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("password"),type:r?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mínimo 6 caracteres"}),d.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(QA,{className:"w-5 h-5"}):d.jsx(Sc,{className:"w-5 h-5"})})]}),p.password&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.password.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Zp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{...u("confirmPassword"),type:i?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirme sua senha"}),d.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?d.jsx(QA,{className:"w-5 h-5"}):d.jsx(Sc,{className:"w-5 h-5"})})]}),p.confirmPassword&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.confirmPassword.message})]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Criando conta...":"Criar Conta"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:["Já tem uma conta?"," ",d.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Fazer Login"})]})})]})]})})}function lce({children:t}){const[e,r]=I.useState(!1),[n,i]=I.useState(null),[a,s]=I.useState("login"),[o,l]=I.useState(!0),[c,u]=I.useState(!1),[f,p]=I.useState(null);I.useEffect(()=>{const b=Im.onAuthStateChanged(m=>{i(m),r(m!==null),l(!1),m!==null&&h()});return()=>b()},[]);const h=async()=>{try{u(!0);const b=Rn.getPendingInvites();if(b.length===0)return;console.log(`Processando ${b.length} convites pendentes...`),await new Promise(v=>setTimeout(v,1e3));const m=await Rn.processPendingInvites();p(m),m.processed>0&&(console.log(`${m.processed} convites processados com sucesso`),setTimeout(()=>{alert(`Ótimo! ${m.processed} convite(s) foram processados automaticamente. Você agora tem acesso às equipes.`)},1500)),m.errors.length>0&&console.warn("Erros ao processar alguns convites:",m.errors)}catch(b){console.error("Erro ao processar convites pendentes:",b)}finally{u(!1),setTimeout(()=>{p(null)},1e4)}},y=b=>{i(b),r(!0)},g=()=>{s(a==="login"?"register":"login")};return o?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),d.jsx("p",{className:"text-white",children:"Carregando..."})]})}):c?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Processando Convites"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Verificando convites pendentes e adicionando você às equipes..."}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:d.jsx("p",{className:"text-sm text-blue-700",children:"Isso pode levar alguns segundos. Por favor, aguarde."})})]})}):!e||!n?a==="login"?d.jsx(ace,{onSuccess:y,onSwitchToRegister:g}):d.jsx(oce,{onSuccess:y,onSwitchToLogin:g}):d.jsxs(d.Fragment,{children:[t(n),f&&f.processed>0&&d.jsx("div",{className:"fixed top-4 right-4 max-w-sm bg-green-50 border border-green-200 rounded-lg shadow-lg p-4 z-50",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm font-medium text-green-800",children:"Convites Processados!"}),d.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[f.processed," convite(s) foram aceitos automaticamente."]})]})]})}),f&&f.errors.length>0&&d.jsx("div",{className:"fixed top-4 right-4 max-w-sm bg-amber-50 border border-amber-200 rounded-lg shadow-lg p-4 z-50",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Alguns Convites Não Puderam Ser Processados"}),d.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[f.errors.length," erro(s) encontrado(s). Verifique os convites manualmente."]})]})]})})]})}class cce{constructor(){this.activeTeamId=null}setActiveTeam(e){this.activeTeamId=e,console.log("🔄 Contexto Firestore alterado:",e?`Equipe: ${e}`:"Modo Solo")}getActiveTeam(){return this.activeTeamId}getCurrentUserId(){const e=Ur.currentUser;if(!e)throw new Error("Usuário não autenticado");return e.uid}getCollection(e){if(this.activeTeamId)return console.log(`📁 Acessando: teams/${this.activeTeamId}/${e}`),Oi(fr,"teams",this.activeTeamId,e);{const r=this.getCurrentUserId();return console.log(`📁 Acessando: userData/${r}/${e}`),Oi(fr,"userData",r,e)}}addContextFields(e){const r=this.getCurrentUserId();return this.activeTeamId?{...e,userId:r,teamId:this.activeTeamId,createdAt:Dt.now()}:{...e,userId:r,createdAt:Dt.now()}}async getProcesses(){try{return(await hi(fi(this.getCollection("processes"),Xl("createdAt","desc")))).docs.map(r=>{var n,i,a;return{id:r.id,...r.data(),createdAt:((a=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||r.data().createdAt}})}catch(e){return console.error("❌ Erro ao buscar processos:",e),[]}}async getProcessById(e){var r,n,i;try{const a=this.getCollection("processes"),s=tr(a,e),o=await Va(s);if(o.exists()){const l=o.data();return{id:o.id,...l,createdAt:((i=(n=(r=l.createdAt)==null?void 0:r.toDate)==null?void 0:n.call(r))==null?void 0:i.toISOString())||l.createdAt}}return null}catch(a){return console.error("❌ Erro ao buscar processo:",a),null}}async saveProcess(e){try{const r=this.addContextFields(e),n=await Kd(this.getCollection("processes"),r);return console.log("✅ Processo salvo:",n.id,"Contexto:",this.activeTeamId?"Equipe":"Solo"),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("❌ Erro ao salvar processo:",r),null}}async updateProcess(e,r){try{const n=this.getCollection("processes"),i=tr(n,e);return await ao(i,{...r,updatedAt:Dt.now()}),console.log("✅ Processo atualizado:",e),await this.getProcessById(e)}catch(n){return console.error("❌ Erro ao atualizar processo:",n),null}}async deleteProcess(e){try{const r=this.getCollection("processes"),n=tr(r,e);return await xu(n),console.log("✅ Processo excluído:",e),!0}catch(r){return console.error("❌ Erro ao excluir processo:",r),!1}}async getEvents(){try{return(await hi(fi(this.getCollection("events"),Xl("date","desc")))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("❌ Erro ao buscar eventos:",e),[]}}async saveEvent(e){try{const r=this.addContextFields(e),n=await Kd(this.getCollection("events"),r);return console.log("✅ Evento salvo:",n.id),{id:n.id,...e}}catch(r){return console.error("❌ Erro ao salvar evento:",r),null}}async updateEvent(e,r){try{const n=this.getCollection("events"),i=tr(n,e);await ao(i,r),console.log("✅ Evento atualizado:",e);const a=await Va(i);return a.exists()?{id:a.id,...a.data()}:null}catch(n){return console.error("❌ Erro ao atualizar evento:",n),null}}async deleteEvent(e){try{const r=this.getCollection("events"),n=tr(r,e);return await xu(n),console.log("✅ Evento excluído:",e),!0}catch(r){return console.error("❌ Erro ao excluir evento:",r),!1}}async getRevenues(){try{return(await hi(fi(this.getCollection("revenues"),Xl("date","desc")))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("❌ Erro ao buscar receitas:",e),[]}}async saveRevenue(e){try{const r=this.addContextFields(e),n=await Kd(this.getCollection("revenues"),r);return console.log("✅ Receita salva:",n.id),{id:n.id,...e}}catch(r){return console.error("❌ Erro ao salvar receita:",r),null}}async updateRevenue(e,r){try{const n=this.getCollection("revenues"),i=tr(n,e);await ao(i,r),console.log("✅ Receita atualizada:",e);const a=await Va(i);return a.exists()?{id:a.id,...a.data()}:null}catch(n){return console.error("❌ Erro ao atualizar receita:",n),null}}async deleteRevenue(e){try{const r=this.getCollection("revenues"),n=tr(r,e);return await xu(n),console.log("✅ Receita excluída:",e),!0}catch(r){return console.error("❌ Erro ao excluir receita:",r),!1}}async getExpenses(){try{return(await hi(fi(this.getCollection("expenses"),Xl("date","desc")))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("❌ Erro ao buscar despesas:",e),[]}}async saveExpense(e){try{const r=this.addContextFields(e),n=await Kd(this.getCollection("expenses"),r);return console.log("✅ Despesa salva:",n.id),{id:n.id,...e}}catch(r){return console.error("❌ Erro ao salvar despesa:",r),null}}async updateExpense(e,r){try{const n=this.getCollection("expenses"),i=tr(n,e);await ao(i,r),console.log("✅ Despesa atualizada:",e);const a=await Va(i);return a.exists()?{id:a.id,...a.data()}:null}catch(n){return console.error("❌ Erro ao atualizar despesa:",n),null}}async deleteExpense(e){try{const r=this.getCollection("expenses"),n=tr(r,e);return await xu(n),console.log("✅ Despesa excluída:",e),!0}catch(r){return console.error("❌ Erro ao excluir despesa:",r),!1}}async getDocuments(){try{return(await hi(fi(this.getCollection("documents"),Xl("createdAt","desc")))).docs.map(r=>{var n,i,a;return{id:r.id,...r.data(),createdAt:((a=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||r.data().createdAt}})}catch(e){return console.error("❌ Erro ao buscar documentos:",e),[]}}async saveDocument(e){try{const r=this.addContextFields(e),n=await Kd(this.getCollection("documents"),r);return console.log("✅ Documento salvo:",n.id),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("❌ Erro ao salvar documento:",r),null}}async deleteDocument(e){try{const r=this.getCollection("documents"),n=tr(r,e);return await xu(n),console.log("✅ Documento excluído:",e),!0}catch(r){return console.error("❌ Erro ao excluir documento:",r),!1}}async getLawyers(){try{return(await hi(fi(this.getCollection("lawyers"),Xl("fullName","asc")))).docs.map(r=>{var n,i,a;return{id:r.id,...r.data(),createdAt:((a=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||r.data().createdAt}})}catch(e){return console.error("❌ Erro ao buscar advogados:",e),[]}}async saveLawyer(e){try{const r=this.addContextFields(e),n=await Kd(this.getCollection("lawyers"),r);return console.log("✅ Advogado salvo:",n.id),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("❌ Erro ao salvar advogado:",r),null}}async updateLawyer(e,r){var n,i,a;try{const s=this.getCollection("lawyers"),o=tr(s,e);await ao(o,r),console.log("✅ Advogado atualizado:",e);const l=await Va(o);return l.exists()?{id:l.id,...l.data(),createdAt:((a=(i=(n=l.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||l.data().createdAt}:null}catch(s){return console.error("❌ Erro ao atualizar advogado:",s),null}}async deleteLawyer(e){try{const r=this.getCollection("lawyers"),n=tr(r,e);return await xu(n),console.log("✅ Advogado excluído:",e),!0}catch(r){return console.error("❌ Erro ao excluir advogado:",r),!1}}async getEmployees(){try{return(await hi(fi(this.getCollection("employees"),Xl("fullName","asc")))).docs.map(r=>{var n,i,a;return{id:r.id,...r.data(),createdAt:((a=(i=(n=r.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||r.data().createdAt}})}catch(e){return console.error("❌ Erro ao buscar colaboradores:",e),[]}}async saveEmployee(e){try{const r=this.addContextFields(e),n=await Kd(this.getCollection("employees"),r);return console.log("✅ Colaborador salvo:",n.id),{id:n.id,...e,createdAt:new Date().toISOString()}}catch(r){return console.error("❌ Erro ao salvar colaborador:",r),null}}async updateEmployee(e,r){var n,i,a;try{const s=this.getCollection("employees"),o=tr(s,e);await ao(o,r),console.log("✅ Colaborador atualizado:",e);const l=await Va(o);return l.exists()?{id:l.id,...l.data(),createdAt:((a=(i=(n=l.data().createdAt)==null?void 0:n.toDate)==null?void 0:i.call(n))==null?void 0:a.toISOString())||l.data().createdAt}:null}catch(s){return console.error("❌ Erro ao atualizar colaborador:",s),null}}async deleteEmployee(e){try{const r=this.getCollection("employees"),n=tr(r,e);return await xu(n),console.log("✅ Colaborador excluído:",e),!0}catch(r){return console.error("❌ Erro ao excluir colaborador:",r),!1}}async getFinancialSummary(){try{const[e,r]=await Promise.all([this.getRevenues(),this.getExpenses()]),n=e.reduce((o,l)=>o+l.amount,0),i=r.reduce((o,l)=>o+l.amount,0),a=n-i,s=this.generateMonthlyData(e,r);return{totalRevenue:n,totalExpenses:i,balance:a,monthlyData:s}}catch(e){return console.error("❌ Erro ao calcular resumo financeiro:",e),{totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]}}}generateMonthlyData(e,r){const n=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],i=new Date,a=[];for(let s=5;s>=0;s--){const o=new Date(i.getFullYear(),i.getMonth()-s,1),l=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`,c=e.filter(h=>h.date.startsWith(l)),u=r.filter(h=>h.date.startsWith(l)),f=c.reduce((h,y)=>h+y.amount,0),p=u.reduce((h,y)=>h+y.amount,0);a.push({month:n[o.getMonth()],revenue:f,expenses:p})}return a}async getGeneralStats(){try{const[e,r,n,i,a]=await Promise.all([this.getProcesses(),this.getEvents(),this.getDocuments(),this.getLawyers(),this.getEmployees()]);return{totalProcesses:e.length,activeProcesses:e.filter(s=>s.status==="Em andamento").length,completedProcesses:e.filter(s=>s.status==="Concluído").length,totalEvents:r.length,pendingEvents:r.filter(s=>s.status==="Pendente").length,completedEvents:r.filter(s=>s.status==="Concluído").length,totalDocuments:n.length,totalLawyers:i.length,activeLawyers:i.filter(s=>s.status==="Ativo").length,totalEmployees:a.length,activeEmployees:a.filter(s=>s.status==="Ativo").length}}catch(e){return console.error("❌ Erro ao calcular estatísticas:",e),{totalProcesses:0,activeProcesses:0,completedProcesses:0,totalEvents:0,pendingEvents:0,completedEvents:0,totalDocuments:0,totalLawyers:0,activeLawyers:0,totalEmployees:0,activeEmployees:0}}}}const rt=new cce,hU=I.createContext({});function uce({children:t}){var m;const[e,r]=I.useState(null),[n,i]=I.useState(null),[a,s]=I.useState(null),[o,l]=I.useState(!0),[c,u]=I.useState(!0),f=(e==null?void 0:e.ownerUid)===((m=Ur.currentUser)==null?void 0:m.uid);I.useEffect(()=>{(async()=>{try{if(l(!0),!Ur.currentUser){const w=Ur.onAuthStateChanged(async E=>{w(),E&&await p()});return}await p()}catch(w){console.error("Erro ao inicializar team data:",w)}finally{l(!1)}})()},[]);const p=async()=>{try{if(!Ur.currentUser)return;const v=await Rn.getTeam();if(r(v),v){const E=(await Rn.getTeamMembers(v.id)).find(P=>{var $;return P.uid===(($=Ur.currentUser)==null?void 0:$.uid)});i(E||null),s((E==null?void 0:E.permissions)||null),console.log("✅ Team data carregado:",{team:v.name,member:E==null?void 0:E.role,permissions:E==null?void 0:E.permissions})}}catch(v){console.error("❌ Erro ao carregar team data:",v)}},h=async()=>{if(!e){console.warn("⚠️ Nenhuma equipe disponível para ativar");return}u(!1),rt.setActiveTeam(e.id),console.log("✅ Modo EQUIPE ativado:",e.name),await g()},y=()=>{u(!0),rt.setActiveTeam(null),console.log("✅ Modo SOLO ativado")},g=async()=>{await p()},b=v=>c||f?!0:(a==null?void 0:a[v])||!1;return d.jsx(hU.Provider,{value:{activeTeam:e,currentMember:n,permissions:a,isOwner:f,isSoloMode:c,loading:o,switchToTeam:h,switchToSolo:y,refreshTeamData:g,checkPermission:b},children:t})}function Aa(){const t=I.useContext(hU);if(!t)throw new Error("useTeam deve ser usado dentro de TeamProvider");return t}function dce(){const{activeTeam:t,currentMember:e,isOwner:r,isSoloMode:n,switchToTeam:i,switchToSolo:a}=Aa(),[s,o]=I.useState(!1),l=()=>{a(),o(!1)},c=()=>{t&&(i(),o(!1))},f=n?{label:"Modo Individual",sublabel:"Seus dados pessoais",icon:d.jsx(fl,{className:"w-5 h-5"})}:{label:(t==null?void 0:t.name)||"Equipe",sublabel:r?"Proprietário":(e==null?void 0:e.role)==="admin"?"Administrador":(e==null?void 0:e.role)==="editor"?"Editor":"Visualizador",icon:d.jsx(K0,{className:"w-5 h-5"})};return t?d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>o(!s),className:"flex items-center space-x-3 px-3 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors w-full min-w-[200px]",children:[d.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[d.jsx("div",{className:"text-blue-600",children:f.icon}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.label}),d.jsx("p",{className:"text-xs text-gray-500",children:f.sublabel})]})]}),d.jsx(mle,{className:`w-4 h-4 text-gray-400 transition-transform ${s?"rotate-180":""}`})]}),s&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),d.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:d.jsxs("div",{className:"py-1",children:[d.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Contexto de Trabalho"}),d.jsxs("button",{onClick:l,className:`w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${n?"bg-blue-50":""}`,children:[d.jsx(fl,{className:"w-5 h-5 text-gray-400"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Modo Individual"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Trabalhar com seus dados pessoais"})]}),n&&d.jsx($j,{className:"w-4 h-4 text-blue-600"})]}),d.jsxs("button",{onClick:c,className:`w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${n?"":"bg-blue-50"}`,children:[d.jsx(K0,{className:"w-5 h-5 text-gray-400"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:t==null?void 0:t.name}),d.jsxs("p",{className:"text-xs text-gray-500",children:["Trabalhar em equipe • ",r?"Proprietário":(e==null?void 0:e.role)||"Membro"]})]}),!n&&d.jsx($j,{className:"w-4 h-4 text-blue-600"})]})]})})]})]}):null}function fce({user:t,onLogout:e,onOpenAdmin:r}){const{activeTeam:n,currentMember:i,isSoloMode:a}=Aa(),s=()=>{confirm("Tem certeza que deseja sair?")&&(Im.logout(),e())};return d.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center mr-3",children:d.jsx("span",{className:"text-white font-bold text-sm",children:t.officeName.charAt(0).toUpperCase()})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t.officeName}),d.jsxs("p",{className:"text-sm text-gray-500",children:["OAB: ",t.oabNumber]})]})]}),d.jsx("div",{className:"h-10 w-px bg-gray-300"}),d.jsx(dce,{})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.email}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("p",{className:"text-xs text-gray-500",children:a?"Modo Individual":d.jsxs(d.Fragment,{children:[n==null?void 0:n.name,i&&d.jsxs("span",{className:"ml-1 text-blue-600",children:["• ",i.role==="owner"?"Proprietário":i.role==="admin"?"Admin":i.role==="editor"?"Editor":"Visualizador"]})]})}),!a&&i&&d.jsx(Xu,{className:"w-3 h-3 text-blue-600"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[r&&d.jsxs("button",{onClick:r,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Administração",children:[d.jsx(h0,{className:"w-4 h-4 mr-1"}),"Admin"]}),d.jsx(Zle,{className:"w-8 h-8 text-gray-400"}),d.jsxs("button",{onClick:s,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Sair",children:[d.jsx(ile,{className:"w-4 h-4 mr-1"}),"Sair"]})]})]})]})})}function pU(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=pU(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Zt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=pU(t))&&(n&&(n+=" "),n+=e);return n}const hce={dashboard:null,processes:"processos",calendar:"agenda",financial:"financas",team:"equipe",documents:"documentos",reports:"relatorios",settings:"configuracoes"},pce={"new-power-of-attorney":"documentos","new-receipt":"documentos","new-revenue":"financas","new-expense":"financas","new-process":"processos","new-event":"agenda","new-lawyer":"equipe","new-employee":"equipe"},mce=[{name:"Dashboard",href:"dashboard",icon:Rle},{name:"Processos",href:"processes",icon:Cx},{name:"Agenda",href:"calendar",icon:_T},{name:"Financeiro",href:"financial",icon:JA},{name:"Equipe",href:"team",icon:K0},{name:"Documentos",href:"documents",icon:Ny},{name:"Relatórios",href:"reports",icon:dU},{name:"Configurações",href:"settings",icon:h0}],gce=[{name:"Nova Procuração",action:"new-power-of-attorney"},{name:"Novo Recibo",action:"new-receipt"},{name:"Nova Receita",action:"new-revenue"},{name:"Nova Despesa",action:"new-expense"},{name:"Novo Processo",action:"new-process"},{name:"Novo Evento",action:"new-event"},{name:"Novo Advogado",action:"new-lawyer"},{name:"Novo Colaborador",action:"new-employee"}];function yce({activeSection:t,onSectionChange:e,onQuickAction:r}){const{checkPermission:n,isSoloMode:i}=Aa(),a=c=>{const u=hce[c];return u?n(u):!0},s=c=>{const u=pce[c];return u?n(u):!0},o=mce.filter(c=>a(c.href)),l=gce.filter(c=>s(c.action));return d.jsxs("div",{className:"flex flex-col w-64 bg-blue-900 text-white h-screen",children:[d.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-blue-800",children:d.jsxs("h1",{className:"text-2xl font-bold",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d.jsx("nav",{className:"px-4 py-6 space-y-2",children:o.map(c=>{const u=a(c.href);return d.jsxs("button",{onClick:()=>u&&e(c.href),disabled:!u,className:Zt("w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",t===c.href?"bg-blue-800 text-white":u?"text-blue-100 hover:bg-blue-800 hover:text-white":"text-blue-400 cursor-not-allowed opacity-50"),title:u?void 0:"Sem permissão de acesso",children:[d.jsx(c.icon,{className:"w-5 h-5 mr-3"}),c.name,!u&&d.jsx(Zp,{className:"w-3 h-3 ml-auto"})]},c.name)})}),l.length>0&&d.jsxs("div",{className:"px-4 py-4 border-t border-blue-800",children:[d.jsx("h3",{className:"text-xs font-semibold text-blue-300 uppercase tracking-wider mb-3",children:"Ações Rápidas"}),d.jsx("div",{className:"space-y-1",children:l.map(c=>{const u=s(c.action);return d.jsxs("button",{onClick:()=>u&&r(c.action),disabled:!u,className:Zt("w-full flex items-center px-2 py-1.5 text-xs rounded transition-colors",u?"text-blue-100 hover:bg-blue-800":"text-blue-400 cursor-not-allowed opacity-50"),title:u?void 0:"Sem permissão",children:[d.jsx(od,{className:"w-3 h-3 mr-2"}),c.name,!u&&d.jsx(Zp,{className:"w-2 h-2 ml-auto"})]},c.action)})})]}),d.jsx("div",{className:"px-4 py-4 border-t border-blue-800",children:d.jsxs("div",{className:"text-xs text-blue-300",children:[d.jsx("p",{className:"font-semibold mb-1",children:"Contexto Atual:"}),d.jsx("p",{className:"text-blue-100",children:i?"🔒 Modo Individual":"👥 Modo Equipe"})]})})]})]})}function vce({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const bce=I.forwardRef(vce);function wce({title:t,titleId:e,...r},n){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?I.createElement("title",{id:e},t):null,I.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const xce=I.forwardRef(wce);function t_({title:t,amount:e,type:r,change:n}){const i=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),a=()=>{switch(r){case"revenue":return"border-green-200 bg-green-50";case"expense":return"border-red-200 bg-red-50";case"balance":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-white"}},s=()=>{switch(r){case"revenue":return"text-green-600";case"expense":return"text-red-600";case"balance":return e>=0?"text-blue-600":"text-red-600";default:return"text-gray-600"}};return d.jsx("div",{className:`p-6 rounded-lg border-2 ${a()} transition-all hover:shadow-md`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),d.jsx("p",{className:`text-2xl font-bold ${s()}`,children:i(e)})]}),n!==void 0&&d.jsxs("div",{className:`flex items-center ${n>=0?"text-green-600":"text-red-600"}`,children:[n>=0?d.jsx(xce,{className:"w-4 h-4 mr-1"}):d.jsx(bce,{className:"w-4 h-4 mr-1"}),d.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(n),"%"]})]})]})})}function Vv({title:t,value:e,icon:r,color:n,description:i}){return d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`p-3 rounded-lg ${n}`,children:d.jsx(r,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e}),i&&d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i})]})]})})}var Ix={},mU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(mU);var NT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(NT);var TT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(TT);var jx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let a=0,s="",o="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const c=r[a];o?c==="\\"&&a+1<i?(a++,s+=r[a]):c===o?o="":s+=c:l?c==='"'||c==="'"?o=c:c==="]"?(l=!1,n.push(s),s=""):s+=c:c==="["?(l=!0,s&&(n.push(s),s="")):c==="."?s&&(n.push(s),s=""):s+=c,a++}return s&&n.push(s),n}t.toPath=e})(jx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mU,r=NT,n=TT,i=jx;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?r.isDeepKey(l)?a(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function s(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||e.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}t.get=a})(Ix);var _ce=Ix.get;const ld=Eo(_ce);var gU={exports:{}},Tr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT=Symbol.for("react.transitional.element"),CT=Symbol.for("react.portal"),Ox=Symbol.for("react.fragment"),Rx=Symbol.for("react.strict_mode"),Lx=Symbol.for("react.profiler"),Dx=Symbol.for("react.consumer"),Mx=Symbol.for("react.context"),Fx=Symbol.for("react.forward_ref"),Bx=Symbol.for("react.suspense"),$x=Symbol.for("react.suspense_list"),Ux=Symbol.for("react.memo"),Vx=Symbol.for("react.lazy"),Ece=Symbol.for("react.view_transition"),Sce=Symbol.for("react.client.reference");function Ms(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case PT:switch(t=t.type,t){case Ox:case Lx:case Rx:case Bx:case $x:case Ece:return t;default:switch(t=t&&t.$$typeof,t){case Mx:case Fx:case Vx:case Ux:return t;case Dx:return t;default:return e}}case CT:return e}}}Tr.ContextConsumer=Dx;Tr.ContextProvider=Mx;Tr.Element=PT;Tr.ForwardRef=Fx;Tr.Fragment=Ox;Tr.Lazy=Vx;Tr.Memo=Ux;Tr.Portal=CT;Tr.Profiler=Lx;Tr.StrictMode=Rx;Tr.Suspense=Bx;Tr.SuspenseList=$x;Tr.isContextConsumer=function(t){return Ms(t)===Dx};Tr.isContextProvider=function(t){return Ms(t)===Mx};Tr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===PT};Tr.isForwardRef=function(t){return Ms(t)===Fx};Tr.isFragment=function(t){return Ms(t)===Ox};Tr.isLazy=function(t){return Ms(t)===Vx};Tr.isMemo=function(t){return Ms(t)===Ux};Tr.isPortal=function(t){return Ms(t)===CT};Tr.isProfiler=function(t){return Ms(t)===Lx};Tr.isStrictMode=function(t){return Ms(t)===Rx};Tr.isSuspense=function(t){return Ms(t)===Bx};Tr.isSuspenseList=function(t){return Ms(t)===$x};Tr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ox||t===Lx||t===Rx||t===Bx||t===$x||typeof t=="object"&&t!==null&&(t.$$typeof===Vx||t.$$typeof===Ux||t.$$typeof===Mx||t.$$typeof===Dx||t.$$typeof===Fx||t.$$typeof===Sce||t.getModuleId!==void 0)};Tr.typeOf=Ms;gU.exports=Tr;var Ace=gU.exports,$i=t=>t===0?0:t>0?1:-1,Os=t=>typeof t=="number"&&t!=+t,mf=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,yt=t=>(typeof t=="number"||t instanceof Number)&&!Os(t),vl=t=>yt(t)||typeof t=="string",Nce=0,em=t=>{var e=++Nce;return"".concat(t||"").concat(e)},Ps=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(e)&&typeof e!="string")return n;var a;if(mf(e)){if(r==null)return n;var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Os(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},yU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},of=(t,e)=>yt(t)&&yt(e)?r=>t+r*(e-t):()=>e;function vU(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):ld(n,e))===r)}var yn=t=>t===null||typeof t>"u",Ty=t=>yn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Tce=["viewBox","children"],Pce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Uj=["points","pathLength"],r_={svg:Tce,polygon:Uj,polyline:Uj},kT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],IT=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(I.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{kT.includes(i)&&(n[i]=a=>r[i](r,a))}),n},Cce=(t,e,r)=>n=>(t(e,r,n),null),jT=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];kT.includes(i)&&typeof a=="function"&&(n||(n={}),n[i]=Cce(a,e,r))}),n},Vj=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",zj=null,n_=null,bU=t=>{if(t===zj&&Array.isArray(n_))return n_;var e=[];return I.Children.forEach(t,r=>{yn(r)||(Ace.isFragment(r)?e=e.concat(bU(r.props.children)):e.push(r))}),n_=e,zj=t,e};function zx(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>Vj(i)):n=[Vj(e)],bU(t).forEach(i=>{var a=ld(i,"type.displayName")||ld(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var wU=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,kce=(t,e,r,n)=>{var i,a=(i=n&&(r_==null?void 0:r_[n]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(n&&a.includes(e)||Pce.includes(e))||r&&kT.includes(e)},er=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(I.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var s;kce((s=n)===null||s===void 0?void 0:s[a],a,e,r)&&(i[a]=n[a])}),i},Ice=["children","width","height","viewBox","className","style","title","desc"];function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZA.apply(null,arguments)}function jce(t,e){if(t==null)return{};var r,n,i=Oce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Oce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var OT=I.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=t,u=jce(t,Ice),f=a||{width:n,height:i,x:0,y:0},p=Zt("recharts-surface",s);return I.createElement("svg",ZA({},er(u,!0,"svg"),{className:p,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),I.createElement("title",null,l),I.createElement("desc",null,c),r)}),Rce=["children","className"];function eN(){return eN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eN.apply(null,arguments)}function Lce(t,e){if(t==null)return{};var r,n,i=Dce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Dce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ea=I.forwardRef((t,e)=>{var{children:r,className:n}=t,i=Lce(t,Rce),a=Zt("recharts-layer",n);return I.createElement("g",eN({className:a},er(i,!0),{ref:e}),r)}),xU=I.createContext(null),Mce=()=>I.useContext(xU);function kr(t){return function(){return t}}const _U=Math.cos,Xb=Math.sin,Ao=Math.sqrt,Jb=Math.PI,qx=2*Jb,tN=Math.PI,rN=2*tN,tf=1e-6,Fce=rN-tf;function EU(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Bce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return EU;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class $ce{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?EU:Bce(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,c=i-r,u=s-e,f=o-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>tf)if(!(Math.abs(f*l-c*u)>tf)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,y=i-o,g=l*l+c*c,b=h*h+y*y,m=Math.sqrt(g),v=Math.sqrt(p),w=a*Math.tan((tN-Math.acos((g+p-b)/(2*m*v)))/2),E=w/v,P=w/m;Math.abs(E-1)>tf&&this._append`L${e+E*u},${r+E*f}`,this._append`A${a},${a},0,0,${+(f*h>u*y)},${this._x1=e+P*l},${this._y1=r+P*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>tf||Math.abs(this._y1-u)>tf)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%rN+rN),p>Fce?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>tf&&this._append`A${n},${n},0,${+(p>=tN)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function RT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new $ce(e)}function LT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SU(t){this._context=t}SU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wx(t){return new SU(t)}function AU(t){return t[0]}function NU(t){return t[1]}function TU(t,e){var r=kr(!0),n=null,i=Wx,a=null,s=RT(o);t=typeof t=="function"?t:t===void 0?AU:kr(t),e=typeof e=="function"?e:e===void 0?NU:kr(e);function o(l){var c,u=(l=LT(l)).length,f,p=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,c,l),+e(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:kr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:kr(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:kr(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function zv(t,e,r){var n=null,i=kr(!0),a=null,s=Wx,o=null,l=RT(c);t=typeof t=="function"?t:t===void 0?AU:kr(+t),e=typeof e=="function"?e:kr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?NU:kr(+r);function c(f){var p,h,y,g=(f=LT(f)).length,b,m=!1,v,w=new Array(g),E=new Array(g);for(a==null&&(o=s(v=l())),p=0;p<=g;++p){if(!(p<g&&i(b=f[p],p,f))===m)if(m=!m)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=p-1;y>=h;--y)o.point(w[y],E[y]);o.lineEnd(),o.areaEnd()}m&&(w[p]=+t(b,p,f),E[p]=+e(b,p,f),o.point(n?+n(b,p,f):w[p],r?+r(b,p,f):E[p]))}if(v)return o=null,v+""||null}function u(){return TU().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:kr(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:kr(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:kr(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:kr(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:kr(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:kr(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:kr(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class PU{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Uce(t){return new PU(t,!0)}function Vce(t){return new PU(t,!1)}const DT={draw(t,e){const r=Ao(e/Jb);t.moveTo(r,0),t.arc(0,0,r,0,qx)}},zce={draw(t,e){const r=Ao(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},CU=Ao(1/3),qce=CU*2,Wce={draw(t,e){const r=Ao(e/qce),n=r*CU;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Hce={draw(t,e){const r=Ao(e),n=-r/2;t.rect(n,n,r,r)}},Gce=.8908130915292852,kU=Xb(Jb/10)/Xb(7*Jb/10),Kce=Xb(qx/10)*kU,Yce=-_U(qx/10)*kU,Xce={draw(t,e){const r=Ao(e*Gce),n=Kce*r,i=Yce*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=qx*a/5,o=_U(s),l=Xb(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},i_=Ao(3),Jce={draw(t,e){const r=-Ao(e/(i_*3));t.moveTo(0,r*2),t.lineTo(-i_*r,-r),t.lineTo(i_*r,-r),t.closePath()}},hs=-.5,ps=Ao(3)/2,nN=1/Ao(12),Qce=(nN/2+1)*3,Zce={draw(t,e){const r=Ao(e/Qce),n=r/2,i=r*nN,a=n,s=r*nN+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(hs*n-ps*i,ps*n+hs*i),t.lineTo(hs*a-ps*s,ps*a+hs*s),t.lineTo(hs*o-ps*l,ps*o+hs*l),t.lineTo(hs*n+ps*i,hs*i-ps*n),t.lineTo(hs*a+ps*s,hs*s-ps*a),t.lineTo(hs*o+ps*l,hs*l-ps*o),t.closePath()}};function eue(t,e){let r=null,n=RT(i);t=typeof t=="function"?t:kr(t||DT),e=typeof e=="function"?e:kr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:kr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:kr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Qb(){}function Zb(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function IU(t){this._context=t}IU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tue(t){return new IU(t)}function jU(t){this._context=t}jU.prototype={areaStart:Qb,areaEnd:Qb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Zb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rue(t){return new jU(t)}function OU(t){this._context=t}OU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nue(t){return new OU(t)}function RU(t){this._context=t}RU.prototype={areaStart:Qb,areaEnd:Qb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function iue(t){return new RU(t)}function qj(t){return t<0?-1:1}function Wj(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(qj(a)+qj(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Hj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function a_(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function ew(t){this._context=t}ew.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a_(this,this._t0,Hj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,a_(this,Hj(this,r=Wj(this,t,e)),r);break;default:a_(this,this._t0,r=Wj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function LU(t){this._context=new DU(t)}(LU.prototype=Object.create(ew.prototype)).point=function(t,e){ew.prototype.point.call(this,e,t)};function DU(t){this._context=t}DU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function aue(t){return new ew(t)}function sue(t){return new LU(t)}function MU(t){this._context=t}MU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Gj(t),i=Gj(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Gj(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function oue(t){return new MU(t)}function Hx(t,e){this._context=t,this._t=e}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function lue(t){return new Hx(t,.5)}function cue(t){return new Hx(t,0)}function uue(t){return new Hx(t,1)}function tm(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function iN(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function due(t,e){return t[e]}function fue(t){const e=[];return e.key=t,e}function hue(){var t=kr([]),e=iN,r=tm,n=due;function i(a){var s=Array.from(t.apply(this,arguments),fue),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=LT(e(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:kr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:kr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?iN:typeof a=="function"?a:kr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??tm,i):r},i}function pue(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}tm(t,e)}}function mue(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}tm(t,e)}}function gue(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[n][1]||0,p=u[n-1][1]||0,h=(f-p)/2,y=0;y<o;++y){var g=t[e[y]],b=g[n][1]||0,m=g[n-1][1]||0;h+=b-m}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,tm(t,e)}}var yue=["type","size","sizeType"];function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aN.apply(null,arguments)}function Kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(r),!0).forEach(function(n){vue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vue(t,e,r){return(e=bue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bue(t){var e=wue(t,"string");return typeof e=="symbol"?e:e+""}function wue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xue(t,e){if(t==null)return{};var r,n,i=_ue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _ue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var FU={symbolCircle:DT,symbolCross:zce,symbolDiamond:Wce,symbolSquare:Hce,symbolStar:Xce,symbolTriangle:Jce,symbolWye:Zce},Eue=Math.PI/180,Sue=t=>{var e="symbol".concat(Ty(t));return FU[e]||DT},Aue=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*Eue;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Nue=(t,e)=>{FU["symbol".concat(Ty(t))]=e},MT=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=xue(t,yue),a=Yj(Yj({},i),{},{type:e,size:r,sizeType:n}),s=()=>{var f=Sue(e),p=eue().type(f).size(Aue(r,n,e));return p()},{className:o,cx:l,cy:c}=a,u=er(a,!0);return l===+l&&c===+c&&r===+r?I.createElement("path",aN({},u,{className:Zt("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(c,")"),d:s()})):null};MT.registerSymbol=Nue;function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sN.apply(null,arguments)}function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){FT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FT(t,e,r){return(e=Pue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pue(t){var e=Cue(t,"string");return typeof e=="symbol"?e:e+""}function Cue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ms=32;class BT extends I.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=ms/2,a=ms/6,s=ms/3,o=e.inactive?n:e.color,l=r??e.type;if(l==="none")return null;if(l==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:ms,y2:i,className:"recharts-legend-icon"});if(l==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(ms,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return I.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(ms/8,"h").concat(ms,"v").concat(ms*3/4,"h").concat(-ms,"z"),className:"recharts-legend-icon"});if(I.isValidElement(e.legendIcon)){var c=Tue({},e);return delete c.legendIcon,I.cloneElement(e.legendIcon,c)}return I.createElement(MT,{fill:o,cx:i,cy:i,size:ms,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=this.props,o={x:0,y:0,width:ms,height:ms},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,f)=>{var p=u.formatter||i,h=Zt({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var y=u.inactive?a:u.color,g=p?p(u.value,u,f):u.value;return I.createElement("li",sN({className:h,style:l,key:"legend-item-".concat(f)},jT(this.props,u,f)),I.createElement(OT,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,s)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}FT(BT,"displayName","Legend");FT(BT,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var BU={},$U={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})($U);var $T={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})($T);var UU={},Gx={},VU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(VU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VU;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(Gx);var zU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(zU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gx,r=zU;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(UU);var qU={},WU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ix;function r(n){return function(i){return e.get(i,n)}}t.property=r})(WU);var HU={},s_={},o_={},UT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(UT);var VT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(VT);var Kx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(Kx);var Jj;function kue(){return Jj||(Jj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zT(),r=UT,n=VT,i=Kx;function a(f,p,h){return typeof h!="function"?e.isMatch(f,p):s(f,p,function y(g,b,m,v,w,E){const P=h(g,b,m,v,w,E);return P!==void 0?!!P:s(g,b,y,E)},new Map)}function s(f,p,h,y){if(p===f)return!0;switch(typeof p){case"object":return o(f,p,h,y);case"function":return Object.keys(p).length>0?s(f,{...p},h,y):i.eq(f,p);default:return r.isObject(f)?typeof p=="string"?p==="":!0:i.eq(f,p)}}function o(f,p,h,y){if(p==null)return!0;if(Array.isArray(p))return c(f,p,h,y);if(p instanceof Map)return l(f,p,h,y);if(p instanceof Set)return u(f,p,h,y);const g=Object.keys(p);if(f==null)return g.length===0;if(g.length===0)return!0;if(y&&y.has(p))return y.get(p)===f;y&&y.set(p,f);try{for(let b=0;b<g.length;b++){const m=g[b];if(!n.isPrimitive(f)&&!(m in f)||p[m]===void 0&&f[m]!==void 0||p[m]===null&&f[m]!==null||!h(f[m],p[m],m,f,p,y))return!1}return!0}finally{y&&y.delete(p)}}function l(f,p,h,y){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,b]of p.entries()){const m=f.get(g);if(h(m,b,g,f,p,y)===!1)return!1}return!0}function c(f,p,h,y){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let b=0;b<p.length;b++){const m=p[b];let v=!1;for(let w=0;w<f.length;w++){if(g.has(w))continue;const E=f[w];let P=!1;if(h(E,m,b,f,p,y)&&(P=!0),P){g.add(w),v=!0;break}}if(!v)return!1}return!0}function u(f,p,h,y){return p.size===0?!0:f instanceof Set?c([...f],[...p],h,y):!1}t.isMatchWith=a,t.isSetMatch=u}(o_)),o_}var Qj;function zT(){return Qj||(Qj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kue();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(s_)),s_}var GU={},qT={},WT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(WT);var Yx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(Yx);var Xx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",p="[object ArrayBuffer]",h="[object Object]",y="[object Error]",g="[object DataView]",b="[object Uint8Array]",m="[object Uint8ClampedArray]",v="[object Uint16Array]",w="[object Uint32Array]",E="[object BigUint64Array]",P="[object Int8Array]",$="[object Int16Array]",C="[object Int32Array]",N="[object BigInt64Array]",A="[object Float32Array]",D="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=p,t.arrayTag=u,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=E,t.booleanTag=i,t.dataViewTag=g,t.dateTag=o,t.errorTag=y,t.float32ArrayTag=A,t.float64ArrayTag=D,t.functionTag=f,t.int16ArrayTag=$,t.int32ArrayTag=C,t.int8ArrayTag=P,t.mapTag=l,t.numberTag=n,t.objectTag=h,t.regexpTag=e,t.setTag=c,t.stringTag=r,t.symbolTag=s,t.uint16ArrayTag=v,t.uint32ArrayTag=w,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=m})(Xx);var KU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(KU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WT,r=Yx,n=Xx,i=VT,a=KU;function s(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,p,h=new Map,y=void 0){const g=y==null?void 0:y(u,f,p,h);if(g!=null)return g;if(i.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const b=new Array(u.length);h.set(u,b);for(let m=0;m<u.length;m++)b[m]=o(u[m],m,p,h,y);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;h.set(u,b);for(const[m,v]of u)b.set(m,o(v,m,p,h,y));return b}if(u instanceof Set){const b=new Set;h.set(u,b);for(const m of u)b.add(o(m,void 0,p,h,y));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,b);for(let m=0;m<u.length;m++)b[m]=o(u[m],m,p,h,y);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,b),l(b,u,p,h,y),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return h.set(u,b),l(b,u,p,h,y),b}if(u instanceof Blob){const b=new Blob([u],{type:u.type});return h.set(u,b),l(b,u,p,h,y),b}if(u instanceof Error){const b=new u.constructor;return h.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,l(b,u,p,h,y),b}if(typeof u=="object"&&c(u)){const b=Object.create(Object.getPrototypeOf(u));return h.set(u,b),l(b,u,p,h,y),b}return u}function l(u,f,p=u,h,y){const g=[...Object.keys(f),...e.getSymbols(f)];for(let b=0;b<g.length;b++){const m=g[b],v=Object.getOwnPropertyDescriptor(u,m);(v==null||v.writable)&&(u[m]=o(f[m],m,p,h,y))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=l})(qT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qT;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(GU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zT(),r=GU;function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(HU);var YU={},XU={},JU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qT,r=Xx;function n(i,a){return e.cloneDeepWith(i,(s,o,l,c)=>{const u=a==null?void 0:a(s,o,l,c);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case r.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=n})(JU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JU;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(XU);var QU={},HT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(HT);var ZU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yx;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(ZU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NT,r=HT,n=ZU,i=jx;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}t.has=a})(QU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zT(),r=TT,n=XU,i=Ix,a=QU;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?a.has(c,o):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=s})(YU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$T,r=WU,n=HU,i=YU;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}t.iteratee=a})(qU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$U,r=$T,n=UU,i=qU;function a(s,o=r.identity){return n.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(BU);var Iue=BU.uniqBy;const Zj=Eo(Iue);function eV(t,e,r){return e===!0?Zj(t,r):typeof e=="function"?Zj(t,e):t}var tV={exports:{}},rV={},nV={exports:{}},iV={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=I;function jue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oue=typeof Object.is=="function"?Object.is:jue,Rue=rm.useState,Lue=rm.useEffect,Due=rm.useLayoutEffect,Mue=rm.useDebugValue;function Fue(t,e){var r=e(),n=Rue({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return Due(function(){i.value=r,i.getSnapshot=e,l_(i)&&a({inst:i})},[t,r,e]),Lue(function(){return l_(i)&&a({inst:i}),t(function(){l_(i)&&a({inst:i})})},[t]),Mue(r),r}function l_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Oue(t,r)}catch{return!0}}function Bue(t,e){return e()}var $ue=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bue:Fue;iV.useSyncExternalStore=rm.useSyncExternalStore!==void 0?rm.useSyncExternalStore:$ue;nV.exports=iV;var Uue=nV.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=I,Vue=Uue;function zue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var que=typeof Object.is=="function"?Object.is:zue,Wue=Vue.useSyncExternalStore,Hue=Jx.useRef,Gue=Jx.useEffect,Kue=Jx.useMemo,Yue=Jx.useDebugValue;rV.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=Hue(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Kue(function(){function l(h){if(!c){if(c=!0,u=h,h=n(h),i!==void 0&&s.hasValue){var y=s.value;if(i(y,h))return f=y}return f=h}if(y=f,que(u,h))return y;var g=n(h);return i!==void 0&&i(y,g)?(u=h,y):(u=h,f=g)}var c=!1,u,f,p=r===void 0?null:r;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,r,n,i]);var o=Wue(t,a[0],a[1]);return Gue(function(){s.hasValue=!0,s.value=o},[o]),Yue(o),o};tV.exports=rV;var Xue=tV.exports,GT=I.createContext(null),Jue=t=>t,Yr=()=>{var t=I.useContext(GT);return t?t.store.dispatch:Jue},H1=()=>{},Que=()=>H1,Zue=(t,e)=>t===e;function vt(t){var e=I.useContext(GT);return Xue.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Que,e?e.store.getState:H1,e?e.store.getState:H1,e?t:H1,Zue)}function ede(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function tde(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function rde(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var eO=t=>Array.isArray(t)?t:[t];function nde(t){const e=Array.isArray(t[0])?t[0]:t;return rde(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ide(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var ade=class{constructor(t){this.value=t}deref(){return this.value}},sde=typeof WeakRef<"u"?WeakRef:ade,ode=0,tO=1;function qv(){return{s:ode,v:void 0,o:null,p:null}}function aV(t,e={}){let r=qv();const{resultEqualityCheck:n}=e;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let p=0,h=l;p<h;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const b=g.get(y);b===void 0?(o=qv(),g.set(y,o)):o=b}else{let g=o.p;g===null&&(o.p=g=new Map);const b=g.get(y);b===void 0?(o=qv(),g.set(y,o)):o=b}}const c=o;let u;if(o.s===tO)u=o.v;else if(u=t.apply(null,arguments),a++,n){const p=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;p!=null&&n(p,u)&&(u=p,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new sde(u):u}return c.s=tO,c.v=u,u}return s.clearCache=()=>{r=qv(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function lde(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),ede(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:h=aV,argsMemoizeOptions:y=[],devModeChecks:g={}}=u,b=eO(p),m=eO(y),v=nde(i),w=f(function(){return a++,c.apply(null,arguments)},...b),E=h(function(){s++;const $=ide(v,arguments);return o=w.apply(null,$),o},...m);return Object.assign(E,{resultFunc:c,memoizedResultFunc:w,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var $e=lde(aV),cde=Object.assign((t,e=$e)=>{tde(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>cde}),sV={},oV={},lV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=e(n),o=e(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=r})(lV);var cV={},KT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(KT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KT,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(cV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lV,r=cV,n=jx;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const c=(h,y)=>{let g=h;for(let b=0;b<y.length&&g!=null;++b)g=g[y[b]];return g},u=(h,y)=>y==null||h==null?y:typeof h=="object"&&"key"in h?Object.hasOwn(y,h.key)?y[h.key]:c(y,h.path):typeof h=="function"?h(y):Array.isArray(h)?c(y,h):typeof y=="object"?y[h]:y,f=s.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:f.map(y=>u(y,h))})).slice().sort((h,y)=>{for(let g=0;g<f.length;g++){const b=e.compareValues(h.criteria[g],y.criteria[g],o[g]);if(b!==0)return b}return 0}).map(h=>h.original)}t.orderBy=i})(oV);var uV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<a?s(u,l+1):i.push(u)}};return s(r,0),i}t.flatten=e})(uV);var YT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HT,r=Gx,n=UT,i=Kx;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}t.isIterateeCall=a})(YT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oV,r=uV,n=YT;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,r.flatten(s),["asc"])}t.sortBy=i})(sV);var ude=sV.sortBy;const Qx=Eo(ude);var dV=t=>t.legend.settings,dde=t=>t.legend.size,fde=t=>t.legend.payload,hde=$e([fde,dV],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Qx(n,r):n});function pde(){return vt(hde)}var Wv=1;function fV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=I.useState({height:0,left:0,top:0,width:0}),n=I.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Wv||Math.abs(s.left-e.left)>Wv||Math.abs(s.top-e.top)>Wv||Math.abs(s.width-e.width)>Wv)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function ui(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var mde=typeof Symbol=="function"&&Symbol.observable||"@@observable",rO=mde,c_=()=>Math.random().toString(36).substring(7).split("").join("."),gde={INIT:`@@redux/INIT${c_()}`,REPLACE:`@@redux/REPLACE${c_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${c_()}`},tw=gde;function XT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function hV(t,e,r){if(typeof t!="function")throw new Error(ui(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ui(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ui(1));return r(hV)(t,e)}let n=t,i=e,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((b,m)=>{s.set(m,b)}))}function u(){if(l)throw new Error(ui(3));return i}function f(b){if(typeof b!="function")throw new Error(ui(4));if(l)throw new Error(ui(5));let m=!0;c();const v=o++;return s.set(v,b),function(){if(m){if(l)throw new Error(ui(6));m=!1,c(),s.delete(v),a=null}}}function p(b){if(!XT(b))throw new Error(ui(7));if(typeof b.type>"u")throw new Error(ui(8));if(typeof b.type!="string")throw new Error(ui(17));if(l)throw new Error(ui(9));try{l=!0,i=n(i,b)}finally{l=!1}return(a=s).forEach(v=>{v()}),b}function h(b){if(typeof b!="function")throw new Error(ui(10));n=b,p({type:tw.REPLACE})}function y(){const b=f;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(ui(11));function v(){const E=m;E.next&&E.next(u())}return v(),{unsubscribe:b(v)}},[rO](){return this}}}return p({type:tw.INIT}),{dispatch:p,subscribe:f,getState:u,replaceReducer:h,[rO]:y}}function yde(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:tw.INIT})>"u")throw new Error(ui(12));if(typeof r(void 0,{type:tw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ui(13))})}function pV(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(r[s]=t[s])}const n=Object.keys(r);let i;try{yde(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const f=n[u],p=r[f],h=s[f],y=p(h,o);if(typeof y>"u")throw o&&o.type,new Error(ui(14));c[f]=y,l=l||y!==h}return l=l||n.length!==Object.keys(s).length,l?c:s}}function rw(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function vde(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(ui(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=t.map(l=>l(s));return a=rw(...o)(i.dispatch),{...i,dispatch:a}}}function mV(t){return XT(t)&&"type"in t&&typeof t.type=="string"}var gV=Symbol.for("immer-nothing"),nO=Symbol.for("immer-draftable"),Qa=Symbol.for("immer-state");function co(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var nm=Object.getPrototypeOf;function qf(t){return!!t&&!!t[Qa]}function Nc(t){var e;return t?yV(t)||Array.isArray(t)||!!t[nO]||!!((e=t.constructor)!=null&&e[nO])||e2(t)||t2(t):!1}var bde=Object.prototype.constructor.toString();function yV(t){if(!t||typeof t!="object")return!1;const e=nm(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===bde}function nw(t,e){Zx(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Zx(t){const e=t[Qa];return e?e.type_:Array.isArray(t)?1:e2(t)?2:t2(t)?3:0}function oN(t,e){return Zx(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vV(t,e,r){const n=Zx(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function wde(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function e2(t){return t instanceof Map}function t2(t){return t instanceof Set}function rf(t){return t.copy_||t.base_}function lN(t,e){if(e2(t))return new Map(t);if(t2(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=yV(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Qa];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(nm(t),n)}else{const n=nm(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function JT(t,e=!1){return r2(t)||qf(t)||!Nc(t)||(Zx(t)>1&&(t.set=t.add=t.clear=t.delete=xde),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>JT(n,!0))),t}function xde(){co(2)}function r2(t){return Object.isFrozen(t)}var _de={};function Wf(t){const e=_de[t];return e||co(0,t),e}var Y0;function bV(){return Y0}function Ede(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iO(t,e){e&&(Wf("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function cN(t){uN(t),t.drafts_.forEach(Sde),t.drafts_=null}function uN(t){t===Y0&&(Y0=t.parent_)}function aO(t){return Y0=Ede(Y0,t)}function Sde(t){const e=t[Qa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Qa].modified_&&(cN(e),co(4)),Nc(t)&&(t=iw(e,t),e.parent_||aw(e,t)),e.patches_&&Wf("Patches").generateReplacementPatches_(r[Qa].base_,t,e.patches_,e.inversePatches_)):t=iw(e,r,[]),cN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==gV?t:void 0}function iw(t,e,r){if(r2(e))return e;const n=e[Qa];if(!n)return nw(e,(i,a)=>oO(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return aw(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),nw(a,(o,l)=>oO(t,n,i,o,l,r,s)),aw(t,i,!1),r&&t.patches_&&Wf("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function oO(t,e,r,n,i,a,s){if(qf(i)){const o=a&&e&&e.type_!==3&&!oN(e.assigned_,n)?a.concat(n):void 0,l=iw(t,i,o);if(vV(r,n,l),qf(l))t.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Nc(i)&&!r2(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;iw(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&aw(t,i)}}function aw(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&JT(e,r)}function Ade(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:bV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=QT;r&&(i=[n],a=X0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var QT={get(t,e){if(e===Qa)return t;const r=rf(t);if(!oN(r,e))return Nde(t,r,e);const n=r[e];return t.finalized_||!Nc(n)?n:n===u_(t.base_,e)?(d_(t),t.copy_[e]=fN(n,t)):n},has(t,e){return e in rf(t)},ownKeys(t){return Reflect.ownKeys(rf(t))},set(t,e,r){const n=wV(rf(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=u_(rf(t),e),a=i==null?void 0:i[Qa];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(wde(r,i)&&(r!==void 0||oN(t.base_,e)))return!0;d_(t),dN(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return u_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,d_(t),dN(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=rf(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){co(11)},getPrototypeOf(t){return nm(t.base_)},setPrototypeOf(){co(12)}},X0={};nw(QT,(t,e)=>{X0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});X0.deleteProperty=function(t,e){return X0.set.call(this,t,e,void 0)};X0.set=function(t,e,r){return QT.set.call(this,t[0],e,r,t[0])};function u_(t,e){const r=t[Qa];return(r?rf(r):t)[e]}function Nde(t,e,r){var i;const n=wV(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function wV(t,e){if(!(e in t))return;let r=nm(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=nm(r)}}function dN(t){t.modified_||(t.modified_=!0,t.parent_&&dN(t.parent_))}function d_(t){t.copy_||(t.copy_=lN(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Tde=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const s=this;return function(l=a,...c){return s.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&co(6),n!==void 0&&typeof n!="function"&&co(7);let i;if(Nc(e)){const a=aO(this),s=fN(e,void 0);let o=!0;try{i=r(s),o=!1}finally{o?cN(a):uN(a)}return iO(a,n),sO(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===gV&&(i=void 0),this.autoFreeze_&&JT(i,!0),n){const a=[],s=[];Wf("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else co(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let n,i;return[this.produce(e,r,(s,o)=>{n=s,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Nc(t)||co(8),qf(t)&&(t=hc(t));const e=aO(this),r=fN(t,void 0);return r[Qa].isManual_=!0,uN(e),r}finishDraft(t,e){const r=t&&t[Qa];(!r||!r.isManual_)&&co(9);const{scope_:n}=r;return iO(n,e),sO(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Wf("Patches").applyPatches_;return qf(t)?n(t,e):this.produce(t,i=>n(i,e))}};function fN(t,e){const r=e2(t)?Wf("MapSet").proxyMap_(t,e):t2(t)?Wf("MapSet").proxySet_(t,e):Ade(t,e);return(e?e.scope_:bV()).drafts_.push(r),r}function hc(t){return qf(t)||co(10,t),xV(t)}function xV(t){if(!Nc(t)||r2(t))return t;const e=t[Qa];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=lN(t,e.scope_.immer_.useStrictShallowCopy_)}else r=lN(t,!0);return nw(r,(n,i)=>{vV(r,n,xV(i))}),e&&(e.finalized_=!1),r}var Za=new Tde,_V=Za.produce;Za.produceWithPatches.bind(Za);Za.setAutoFreeze.bind(Za);Za.setUseStrictShallowCopy.bind(Za);Za.applyPatches.bind(Za);Za.createDraft.bind(Za);Za.finishDraft.bind(Za);function EV(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var Pde=EV(),Cde=EV,kde=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rw:rw.apply(null,arguments)};function Rs(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Xa(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>mV(n)&&n.type===t,r}var SV=class Gg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Gg.prototype)}static get[Symbol.species](){return Gg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Gg(...e[0].concat(this)):new Gg(...e.concat(this))}};function lO(t){return Nc(t)?_V(t,()=>{}):t}function Hv(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function Ide(t){return typeof t=="boolean"}var jde=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new SV;return r&&(Ide(r)?s.push(Pde):s.push(Cde(r.extraArgument))),s},Ode="RTK_autoBatch",cO=t=>e=>{setTimeout(e,t)},Rde=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cO(10):t.type==="callback"?t.queueNotification:cO(t.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>i&&u(),p=n.subscribe(f);return o.add(u),()=>{p(),o.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[Ode]),a=!i,a&&(s||(s=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},Lde=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new SV(t);return n&&i.push(Rde(typeof n=="object"?n:void 0)),i};function Dde(t){const e=jde(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(XT(r))l=pV(r);else throw new Error(Xa(1));let c;typeof n=="function"?c=n(e):c=e();let u=rw;i&&(u=kde({trace:!1,...typeof i=="object"&&i}));const f=vde(...c),p=Lde(f);let h=typeof o=="function"?o(p):p();const y=u(...h);return hV(l,s,y)}function AV(t){const e={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Xa(28));if(o in e)throw new Error(Xa(29));return e[o]=s,i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function Mde(t){return typeof t=="function"}function Fde(t,e){let[r,n,i]=AV(e),a;if(Mde(t))a=()=>lO(t());else{const o=lO(t);a=()=>o}function s(o=a(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(qf(u)){const h=f(u,l);return h===void 0?u:h}else{if(Nc(u))return _V(u,p=>f(p,l));{const p=f(u,l);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},o)}return s.getInitialState=a,s}var Bde="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$de=(t=21)=>{let e="",r=t;for(;r--;)e+=Bde[Math.random()*64|0];return e},Ude=Symbol.for("rtk-slice-createasyncthunk");function Vde(t,e){return`${t}/${e}`}function zde({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Ude];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Xa(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(Wde()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(E,P){const $=typeof E=="string"?E:E.type;if(!$)throw new Error(Xa(12));if($ in c.sliceCaseReducersByType)throw new Error(Xa(13));return c.sliceCaseReducersByType[$]=P,u},addMatcher(E,P){return c.sliceMatchers.push({matcher:E,reducer:P}),u},exposeAction(E,P){return c.actionCreators[E]=P,u},exposeCaseReducer(E,P){return c.sliceCaseReducersByName[E]=P,u}};l.forEach(E=>{const P=o[E],$={reducerName:E,type:Vde(a,E),createNotation:typeof i.reducers=="function"};Gde(P)?Yde($,P,u,e):Hde($,P,u)});function f(){const[E={},P=[],$=void 0]=typeof i.extraReducers=="function"?AV(i.extraReducers):[i.extraReducers],C={...E,...c.sliceCaseReducersByType};return Fde(i.initialState,N=>{for(let A in C)N.addCase(A,C[A]);for(let A of c.sliceMatchers)N.addMatcher(A.matcher,A.reducer);for(let A of P)N.addMatcher(A.matcher,A.reducer);$&&N.addDefaultCase($)})}const p=E=>E,h=new Map,y=new WeakMap;let g;function b(E,P){return g||(g=f()),g(E,P)}function m(){return g||(g=f()),g.getInitialState()}function v(E,P=!1){function $(N){let A=N[E];return typeof A>"u"&&P&&(A=Hv(y,$,m)),A}function C(N=p){const A=Hv(h,P,()=>new WeakMap);return Hv(A,N,()=>{const D={};for(const[F,S]of Object.entries(i.selectors??{}))D[F]=qde(S,N,()=>Hv(y,N,m),P);return D})}return{reducerPath:E,getSelectors:C,get selectors(){return C($)},selectSlice:$}}const w={name:a,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:m,...v(s),injectInto(E,{reducerPath:P,...$}={}){const C=P??s;return E.inject({reducerPath:C,reducer:b},$),{...w,...v(C,!0)}}};return w}}function qde(t,e,r,n){function i(a,...s){let o=e(a);return typeof o>"u"&&n&&(o=r()),t(o,...s)}return i.unwrapped=t,i}var Fs=zde();function Wde(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Hde({type:t,reducerName:e,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!Kde(n))throw new Error(Xa(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Rs(t,s):Rs(t))}function Gde(t){return t._reducerDefinitionType==="asyncThunk"}function Kde(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Yde({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Xa(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=r,f=i(t,a,u);n.exposeAction(e,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(e,{fulfilled:s||Gv,pending:o||Gv,rejected:l||Gv,settled:c||Gv})}function Gv(){}var Xde="task",NV="listener",TV="completed",ZT="cancelled",Jde=`task-${ZT}`,Qde=`task-${TV}`,hN=`${NV}-${ZT}`,Zde=`${NV}-${TV}`,n2=class{constructor(t){l5(this,"name","TaskAbortError");l5(this,"message");this.code=t,this.message=`${Xde} ${ZT} (reason: ${t})`}},eP=(t,e)=>{if(typeof t!="function")throw new TypeError(Xa(32))},sw=()=>{},PV=(t,e=sw)=>(t.catch(e),t),CV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Nf=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Tf=t=>{if(t.aborted){const{reason:e}=t;throw new n2(e)}};function kV(t,e){let r=sw;return new Promise((n,i)=>{const a=()=>i(new n2(t.reason));if(t.aborted){a();return}r=CV(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=sw})}var efe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof n2?"cancelled":"rejected",error:r}}finally{e==null||e()}},ow=t=>e=>PV(kV(t,e).then(r=>(Tf(t),r))),IV=t=>{const e=ow(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Cp}=Object,uO={},i2="listenerMiddleware",tfe=(t,e)=>{const r=n=>CV(t,()=>Nf(n,t.reason));return(n,i)=>{eP(n);const a=new AbortController;r(a);const s=efe(async()=>{Tf(t),Tf(a.signal);const o=await n({pause:ow(a.signal),delay:IV(a.signal),signal:a.signal});return Tf(a.signal),o},()=>Nf(a,Qde));return i!=null&&i.autoJoin&&e.push(s.catch(sw)),{result:ow(t)(s),cancel(){Nf(a,Jde)}}}},rfe=(t,e)=>{const r=async(n,i)=>{Tf(e);let a=()=>{};const o=[new Promise((l,c)=>{let u=t({predicate:n,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await kV(e,Promise.race(o));return Tf(e),l}finally{a()}};return(n,i)=>PV(r(n,i))},jV=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=Rs(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Xa(21));return eP(a),{predicate:i,type:e,effect:a}},OV=Cp(t=>{const{type:e,predicate:r,effect:n}=jV(t);return{id:$de(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Xa(22))}}},{withTypes:()=>OV}),dO=(t,e)=>{const{type:r,effect:n,predicate:i}=jV(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},pN=t=>{t.pending.forEach(e=>{Nf(e,hN)})},nfe=t=>()=>{t.forEach(pN),t.clear()},fO=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},RV=Cp(Rs(`${i2}/add`),{withTypes:()=>RV}),ife=Rs(`${i2}/removeAll`),LV=Cp(Rs(`${i2}/remove`),{withTypes:()=>LV}),afe=(...t)=>{console.error(`${i2}/error`,...t)},Py=(t={})=>{const e=new Map,{extra:r,onError:n=afe}=t;eP(n);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&pN(u)}),a=u=>{const f=dO(e,u)??OV(u);return i(f)};Cp(a,{withTypes:()=>a});const s=u=>{const f=dO(e,u);return f&&(f.unsubscribe(),u.cancelActive&&pN(f)),!!f};Cp(s,{withTypes:()=>s});const o=async(u,f,p,h)=>{const y=new AbortController,g=rfe(a,y.signal),b=[];try{u.pending.add(y),await Promise.resolve(u.effect(f,Cp({},p,{getOriginalState:h,condition:(m,v)=>g(m,v).then(Boolean),take:g,delay:IV(y.signal),pause:ow(y.signal),extra:r,signal:y.signal,fork:tfe(y.signal,b),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((m,v,w)=>{m!==y&&(Nf(m,hN),w.delete(m))})},cancel:()=>{Nf(y,hN),u.pending.delete(y)},throwIfCancelled:()=>{Tf(y.signal)}})))}catch(m){m instanceof n2||fO(n,m,{raisedBy:"effect"})}finally{await Promise.all(b),Nf(y,Zde),u.pending.delete(y)}},l=nfe(e);return{middleware:u=>f=>p=>{if(!mV(p))return f(p);if(RV.match(p))return a(p.payload);if(ife.match(p)){l();return}if(LV.match(p))return s(p.payload);let h=u.getState();const y=()=>{if(h===uO)throw new Error(Xa(23));return h};let g;try{if(g=f(p),e.size>0){const b=u.getState(),m=Array.from(e.values());for(const v of m){let w=!1;try{w=v.predicate(p,b,h)}catch(E){w=!1,fO(n,E,{raisedBy:"predicate"})}w&&o(v,p,u,y)}}}finally{h=uO}return g},startListening:a,stopListening:s,clearListeners:l}};function Xa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var sfe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},DV=Fs({name:"chartLayout",initialState:sfe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:ofe,setLayout:lfe,setChartSize:cfe,setScale:ufe}=DV.actions,dfe=DV.reducer;function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){ffe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ffe(t,e,r){return(e=hfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hfe(t){var e=pfe(t,"string");return typeof e=="symbol"?e:e+""}function pfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lw=Math.PI/180,mfe=t=>t*180/Math.PI,Dn=(t,e,r,n)=>({x:t+Math.cos(-lw*n)*r,y:e+Math.sin(-lw*n)*r}),MV=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},gfe=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},yfe=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,s=gfe({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:mfe(l),angleInRadian:l}},vfe=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},bfe=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return t+s*360},wfe=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:a}=yfe({x:r,y:n},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=vfe(e),u=a,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?pO(pO({},e),{},{radius:i,angle:bfe(u,e)}):null};function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ws(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){xfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xfe(t,e,r){return(e=_fe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _fe(t){var e=Efe(t,"string");return typeof e=="symbol"?e:e+""}function Efe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function an(t,e,r){return yn(t)||yn(e)?r:vl(e)?ld(t,e,r):typeof e=="function"?e(t):r}var Sfe=(t,e,r,n,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if($i(u-c)!==$i(f-u)){var h=[];if($i(f-u)===$i(i[1]-i[0])){p=f;var y=u+i[1]-i[0];h[0]=Math.min(y,(y+c)/2),h[1]=Math.max(y,(y+c)/2)}else{p=c;var g=f+i[1]-i[0];h[0]=Math.min(u,(g+u)/2),h[1]=Math.max(u,(g+u)/2)}var b=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(t>b[0]&&t<=b[1]||t>=h[0]&&t<=h[1]){({index:s}=r[l]);break}}else{var m=Math.min(c,f),v=Math.max(c,f);if(t>(m+u)/2&&t<=(v+u)/2){({index:s}=r[l]);break}}}else if(e){for(var w=0;w<o;w++)if(w===0&&t<=(e[w].coordinate+e[w+1].coordinate)/2||w>0&&w<o-1&&t>(e[w].coordinate+e[w-1].coordinate)/2&&t<=(e[w].coordinate+e[w+1].coordinate)/2||w===o-1&&t>(e[w].coordinate+e[w-1].coordinate)/2){({index:s}=e[w]);break}}return s},Afe=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&yt(t[a]))return ws(ws({},t),{},{[a]:t[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&yt(t[s]))return ws(ws({},t),{},{[s]:t[s]+(i||0)})}return t},xd=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",FV=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(r),s},BV=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:p,axisType:h}=t;if(!s)return null;var y=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/y:0;if(g=h==="angleAxis"&&a&&a.length>=2?$i(a[0]-a[1])*2*g:g,f||p){var b=(f||p||[]).map((m,v)=>{var w=n?n.indexOf(m):m;return{coordinate:s(w)+g,value:m,offset:g,index:v}});return b.filter(m=>!Os(m.coordinate))}return l&&c?c.map((m,v)=>({coordinate:s(m)+g,value:m,index:v,offset:g})):s.ticks&&!r&&u!=null?s.ticks(u).map((m,v)=>({coordinate:s(m)+g,value:m,offset:g,index:v})):s.domain().map((m,v)=>({coordinate:s(m)+g,value:n?n[m]:m,index:v,offset:g}))},gO=1e-4,Nfe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-gO,a=Math.max(n[0],n[1])+gO,s=t(e[0]),o=t(e[r-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[r-1]])}},Tfe=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,s=0;s<e;++s){var o=Os(t[s][r][1])?t[s][r][0]:t[s][r][1];o>=0?(t[s][r][0]=i,t[s][r][1]=i+o,i=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+o,a=t[s][r][1])}},Pfe=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var s=Os(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=i,t[a][r][1]=i+s,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},Cfe={sign:Tfe,expand:pue,none:tm,silhouette:mue,wiggle:gue,positive:Pfe},kfe=(t,e,r)=>{var n=Cfe[r],i=hue().keys(e).value((a,s)=>+an(a,s,0)).order(iN).offset(n);return i(t)};function Ife(t){return t==null?void 0:String(t)}function yO(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!yn(i[e.dataKey])){var o=vU(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=an(i,yn(s)?e.dataKey:s);return yn(l)?null:e.scale(l)}var jfe=t=>{var e=t.flat(2).filter(yt);return[Math.min(...e),Math.max(...e)]},Ofe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Rfe=(t,e,r)=>{if(t!=null)return Ofe(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((l,c)=>{var u=jfe(c.slice(e,r+1));return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},vO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mN=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Qx(e,u=>u.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function wO(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return ws(ws({},e),{},{dataKey:r,payload:n,value:i,name:a})}function a2(t,e){if(t)return String(t);if(typeof e=="string")return e}function Lfe(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return n?wfe({x:t,y:e},n):null}var Dfe=(t,e,r,n)=>{var i=e.find(c=>c&&c.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:s}=n;return ws(ws(ws({},n),Dn(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return ws(ws(ws({},n),Dn(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},Mfe=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Oc=t=>t.layout.width,Rc=t=>t.layout.height,Ffe=t=>t.layout.scale,$V=t=>t.layout.margin,tP=$e(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),rP=$e(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),UV="data-recharts-item-index",VV="data-recharts-item-data-key",s2=60;function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){Bfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bfe(t,e,r){return(e=$fe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $fe(t){var e=Ufe(t,"string");return typeof e=="symbol"?e:e+""}function Ufe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vfe=t=>t.brush.height,ri=$e([Oc,Rc,$V,Vfe,tP,rP,dV,dde],(t,e,r,n,i,a,s,o)=>{var l=a.reduce((y,g)=>{var{orientation:b}=g;if(!g.mirror&&!g.hide){var m=typeof g.width=="number"?g.width:s2;return gu(gu({},y),{},{[b]:y[b]+m})}return y},{left:r.left||0,right:r.right||0}),c=i.reduce((y,g)=>{var{orientation:b}=g;return!g.mirror&&!g.hide?gu(gu({},y),{},{[b]:ld(y,"".concat(b))+g.height}):y},{top:r.top||0,bottom:r.bottom||0}),u=gu(gu({},c),l),f=u.bottom;u.bottom+=n,u=Afe(u,s,o);var p=t-u.left-u.right,h=e-u.top-u.bottom;return gu(gu({brushBottom:f},u),{},{width:Math.max(p,0),height:Math.max(h,0)})}),zfe=$e(ri,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),zV=$e(Oc,Rc,(t,e)=>({x:0,y:0,width:t,height:e})),qfe=I.createContext(null),Na=()=>I.useContext(qfe)!=null,o2=t=>t.brush,l2=$e([o2,ri,$V],(t,e,r)=>({height:t.height,x:yt(t.x)?t.x:e.left,y:yt(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:yt(t.width)?t.width:e.width})),nP=()=>{var t,e=Na(),r=vt(zfe),n=vt(l2),i=(t=vt(o2))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Wfe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},qV=()=>{var t;return(t=vt(ri))!==null&&t!==void 0?t:Wfe},iP=()=>vt(Oc),aP=()=>vt(Rc),Hfe={top:0,right:0,bottom:0,left:0},Gfe=()=>{var t;return(t=vt(e=>e.layout.margin))!==null&&t!==void 0?t:Hfe},Br=t=>t.layout.layoutType,sP=()=>vt(Br),Kfe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WV=Fs({name:"legend",initialState:Kfe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=hc(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:_O,setLegendSettings:Yfe,addLegendPayload:HV,removeLegendPayload:GV}=WV.actions,Xfe=WV.reducer,Jfe=["contextPayload"];function gN(){return gN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gN.apply(null,arguments)}function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function im(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){oP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oP(t,e,r){return(e=Qfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qfe(t){var e=Zfe(t,"string");return typeof e=="symbol"?e:e+""}function Zfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ehe(t,e){if(t==null)return{};var r,n,i=the(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function the(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function rhe(t){return t.value}function nhe(t){var{contextPayload:e}=t,r=ehe(t,Jfe),n=eV(e,t.payloadUniqBy,rhe),i=im(im({},r),{},{payload:n});return I.isValidElement(t.content)?I.cloneElement(t.content,i):typeof t.content=="function"?I.createElement(t.content,i):I.createElement(BT,i)}function ihe(t,e,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?c={left:((n||0)-a.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),im(im({},c),u)}function ahe(t){var e=Yr();return I.useEffect(()=>{e(Yfe(t))},[e,t]),null}function she(t){var e=Yr();return I.useEffect(()=>(e(_O(t)),()=>{e(_O({width:0,height:0}))}),[e,t]),null}function ohe(t){var e=pde(),r=Mce(),n=Gfe(),{width:i,height:a,wrapperStyle:s,portal:o}=t,[l,c]=fV([e]),u=iP(),f=aP(),p=u-(n.left||0)-(n.right||0),h=c2.getWidthOrHeight(t.layout,a,i,p),y=o?s:im(im({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||a||"auto"},ihe(s,t,n,u,f,l)),s),g=o??r;if(g==null)return null;var b=I.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},I.createElement(ahe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),I.createElement(she,{width:l.width,height:l.height}),I.createElement(nhe,gN({},t,h,{margin:n,chartWidth:u,chartHeight:f,contextPayload:e})));return l3.createPortal(b,g)}class c2 extends I.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&yt(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return I.createElement(ohe,this.props)}}oP(c2,"displayName","Legend");oP(c2,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function yN(){return yN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yN.apply(null,arguments)}function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){lhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lhe(t,e,r){return(e=che(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function che(t){var e=uhe(t,"string");return typeof e=="symbol"?e:e+""}function uhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dhe(t){return Array.isArray(t)&&vl(t[0])&&vl(t[1])?t.join(" ~ "):t}var fhe=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:p=!1}=t,h=()=>{if(a&&a.length){var P={padding:0,margin:0},$=(o?Qx(a,o):a).map((C,N)=>{if(C.type==="none")return null;var A=C.formatter||s||dhe,{value:D,name:F}=C,S=D,O=F;if(A){var k=A(D,F,C,N,a);if(Array.isArray(k))[S,O]=k;else if(k!=null)S=k;else return null}var ie=f_({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:ie},vl(O)?I.createElement("span",{className:"recharts-tooltip-item-name"},O):null,vl(O)?I.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,I.createElement("span",{className:"recharts-tooltip-item-value"},S),I.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:P},$)}return null},y=f_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=f_({margin:0},i),b=!yn(u),m=b?u:"",v=Zt("recharts-default-tooltip",l),w=Zt("recharts-tooltip-label",c);b&&f&&a!==void 0&&a!==null&&(m=f(u,a));var E=p?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",yN({className:v,style:y},E),I.createElement("p",{className:w,style:g},I.isValidElement(m)?m:"".concat(m)),h())},_g="recharts-tooltip-wrapper",hhe={visibility:"hidden"};function phe(t){var{coordinate:e,translateX:r,translateY:n}=t;return Zt(_g,{["".concat(_g,"-right")]:yt(r)&&e&&yt(e.x)&&r>=e.x,["".concat(_g,"-left")]:yt(r)&&e&&yt(e.x)&&r<e.x,["".concat(_g,"-bottom")]:yt(n)&&e&&yt(e.y)&&n>=e.y,["".concat(_g,"-top")]:yt(n)&&e&&yt(e.y)&&n<e.y})}function AO(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=t;if(a&&yt(a[n]))return a[n];var u=r[n]-o-(i>0?i:0),f=r[n]+i;if(e[n])return s[n]?u:f;var p=l[n];if(p==null)return 0;if(s[n]){var h=u,y=p;return h<y?Math.max(f,p):Math.max(u,p)}if(c==null)return 0;var g=f+o,b=p+c;return g>b?Math.max(u,p):Math.max(f,p)}function mhe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function ghe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=t,c,u,f;return s.height>0&&s.width>0&&r?(u=AO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=AO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=mhe({translateX:u,translateY:f,useTranslate3d:o})):c=hhe,{cssProperties:c,cssClasses:phe({translateX:u,translateY:f,coordinate:r})}}function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){vN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vN(t,e,r){return(e=yhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yhe(t){var e=vhe(t,"string");return typeof e=="symbol"?e:e+""}function vhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bhe extends I.PureComponent{constructor(){super(...arguments),vN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vN(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:p,viewBox:h,wrapperStyle:y,lastBoundingBox:g,innerRef:b,hasPortalFromProps:m}=this.props,{cssClasses:v,cssProperties:w}=ghe({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:h}),E=m?{}:Kv(Kv({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=Kv(Kv({},E),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},y);return I.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:P,ref:b},a)}}var whe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rm={isSsr:whe()},KV=()=>vt(t=>t.rootProps.accessibilityLayer);function _o(t){return Number.isFinite(t)}function am(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function bN(){return bN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bN.apply(null,arguments)}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){xhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xhe(t,e,r){return(e=_he(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _he(t){var e=Ehe(t,"string");return typeof e=="symbol"?e:e+""}function Ehe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CO={curveBasisClosed:rue,curveBasisOpen:nue,curveBasis:tue,curveBumpX:Uce,curveBumpY:Vce,curveLinearClosed:iue,curveLinear:Wx,curveMonotoneX:aue,curveMonotoneY:sue,curveNatural:oue,curveStep:lue,curveStepAfter:uue,curveStepBefore:cue},Yv=t=>_o(t.x)&&_o(t.y),Eg=t=>t.x,Sg=t=>t.y,She=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Ty(t));return(r==="curveMonotone"||r==="curveBump")&&e?CO["".concat(r).concat(e==="vertical"?"Y":"X")]:CO[r]||Wx},Ahe=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,s=She(e,i),o=a?r.filter(Yv):r,l;if(Array.isArray(n)){var c=a?n.filter(f=>Yv(f)):n,u=o.map((f,p)=>PO(PO({},f),{},{base:c[p]}));return i==="vertical"?l=zv().y(Sg).x1(Eg).x0(f=>f.base.x):l=zv().x(Eg).y1(Sg).y0(f=>f.base.y),l.defined(Yv).curve(s),l(u)}return i==="vertical"&&yt(n)?l=zv().y(Sg).x1(Eg).x0(n):yt(n)?l=zv().x(Eg).y1(Sg).y0(n):l=TU().x(Eg).y(Sg),l.defined(Yv).curve(s),l(o)},lP=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?Ahe(t):n;return I.createElement("path",bN({},er(t,!1),IT(t),{className:Zt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Nhe=["x","y","top","left","width","height","className"];function wN(){return wN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wN.apply(null,arguments)}function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function The(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){Phe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Phe(t,e,r){return(e=Che(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Che(t){var e=khe(t,"string");return typeof e=="symbol"?e:e+""}function khe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ihe(t,e){if(t==null)return{};var r,n,i=jhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function jhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ohe=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),Rhe=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=t,l=Ihe(t,Nhe),c=The({x:e,y:r,top:n,left:i,width:a,height:s},l);return!yt(e)||!yt(r)||!yt(a)||!yt(s)||!yt(n)||!yt(i)?null:I.createElement("path",wN({},er(c,!0),{className:Zt("recharts-cross",o),d:Ohe(e,r,a,s,n,i)}))};function Lhe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dhe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){Mhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mhe(t,e,r){return(e=Fhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fhe(t){var e=Bhe(t,"string");return typeof e=="symbol"?e:e+""}function Bhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function No(t,e){var r=Dhe({},t),n=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}var YV={},XV={},JV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(JV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JV,r=WT,n=Yx,i=Xx,a=Kx;function s(c,u,f){return o(c,u,void 0,void 0,void 0,void 0,f)}function o(c,u,f,p,h,y,g){const b=g(c,u,f,p,h,y);if(b!==void 0)return b;if(typeof c==typeof u)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===u;case"number":return c===u||Object.is(c,u);case"function":return c===u;case"object":return l(c,u,y,g)}return l(c,u,y,g)}function l(c,u,f,p){if(Object.is(c,u))return!0;let h=n.getTag(c),y=n.getTag(u);if(h===i.argumentsTag&&(h=i.objectTag),y===i.argumentsTag&&(y=i.objectTag),h!==y)return!1;switch(h){case i.stringTag:return c.toString()===u.toString();case i.numberTag:{const m=c.valueOf(),v=u.valueOf();return a.eq(m,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),u.valueOf());case i.regexpTag:return c.source===u.source&&c.flags===u.flags;case i.functionTag:return c===u}f=f??new Map;const g=f.get(c),b=f.get(u);if(g!=null&&b!=null)return g===u;f.set(c,u),f.set(u,c);try{switch(h){case i.mapTag:{if(c.size!==u.size)return!1;for(const[m,v]of c.entries())if(!u.has(m)||!o(v,u.get(m),m,c,u,f,p))return!1;return!0}case i.setTag:{if(c.size!==u.size)return!1;const m=Array.from(c.values()),v=Array.from(u.values());for(let w=0;w<m.length;w++){const E=m[w],P=v.findIndex($=>o(E,$,void 0,c,u,f,p));if(P===-1)return!1;v.splice(P,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(u)||c.length!==u.length)return!1;for(let m=0;m<c.length;m++)if(!o(c[m],u[m],m,c,u,f,p))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==u.byteLength?!1:l(new Uint8Array(c),new Uint8Array(u),f,p);case i.dataViewTag:return c.byteLength!==u.byteLength||c.byteOffset!==u.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(u),f,p);case i.errorTag:return c.name===u.name&&c.message===u.message;case i.objectTag:{if(!(l(c.constructor,u.constructor,f,p)||e.isPlainObject(c)&&e.isPlainObject(u)))return!1;const v=[...Object.keys(c),...r.getSymbols(c)],w=[...Object.keys(u),...r.getSymbols(u)];if(v.length!==w.length)return!1;for(let E=0;E<v.length;E++){const P=v[E],$=c[P];if(!Object.hasOwn(u,P))return!1;const C=u[P];if(!o($,C,P,c,u,f,p))return!1}return!0}default:return!1}}finally{f.delete(c),f.delete(u)}}t.isEqualWith=s})(XV);var QV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(QV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XV,r=QV;function n(i,a){return e.isEqualWith(i,a,r.noop)}t.isEqual=n})(YV);var $he=YV.isEqual;const Uhe=Eo($he);function Vhe(t){var e={},r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=t.setTimeout(a.bind(null,c),l);return}a(l),i=t.setTimeout(a.bind(null,c));return}typeof s=="object"&&(e=s,r(e)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>t}}var cw=1e-4,ZV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],ez=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),jO=(t,e)=>r=>{var n=ZV(t,e);return ez(n,r)},zhe=(t,e)=>r=>{var n=ZV(t,e),i=[...n.map((a,s)=>a*s).slice(1),0];return ez(i,r)},OO=function(){for(var e,r,n,i,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,n,r,i]=l[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else s.length===4&&([e,n,r,i]=s);var c=jO(e,r),u=jO(n,i),f=zhe(e,r),p=y=>y>1?1:y<0?0:y,h=y=>{for(var g=y>1?1:y,b=g,m=0;m<8;++m){var v=c(b)-g,w=f(b);if(Math.abs(v-g)<cw||w<cw)return u(b);b=p(b-v/w)}return u(b)};return h.isStepper=!1,h},qhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(s,o,l)=>{var c=-(s-o)*r,u=l*n,f=l+(c-u)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<cw&&Math.abs(f)<cw?[o,0]:[p,f]};return a.isStepper=!0,a.dt=i,a},Whe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OO(t);case"spring":return qhe();default:if(t.split("(")[0]==="cubic-bezier")return OO(t)}return typeof t=="function"?t:null};function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){Hhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hhe(t,e,r){return(e=Ghe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ghe(t){var e=Khe(t,"string");return typeof e=="symbol"?e:e+""}function Khe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yhe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Xhe=(t,e,r)=>t.map(n=>"".concat(Yhe(n)," ").concat(e,"ms ").concat(r)).join(","),Jhe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),J0=(t,e)=>Object.keys(e).reduce((r,n)=>LO(LO({},r),{},{[n]:t(n,e[n])}),{});function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){Qhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qhe(t,e,r){return(e=Zhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zhe(t){var e=epe(t,"string");return typeof e=="symbol"?e:e+""}function epe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uw=(t,e,r)=>t+(e-t)*r,xN=t=>{var{from:e,to:r}=t;return e!==r},tz=(t,e,r)=>{var n=J0((i,a)=>{if(xN(a)){var[s,o]=t(a.from,a.to,a.velocity);return mi(mi({},a),{},{from:s,velocity:o})}return a},e);return r<1?J0((i,a)=>xN(a)?mi(mi({},a),{},{velocity:uw(a.velocity,n[i].velocity,r),from:uw(a.from,n[i].from,r)}):a,e):tz(t,n,r-1)};function tpe(t,e,r,n,i,a){var s,o=n.reduce((p,h)=>mi(mi({},p),{},{[h]:{from:t[h],velocity:0,to:e[h]}}),{}),l=()=>J0((p,h)=>h.from,o),c=()=>!Object.values(o).filter(xN).length,u=null,f=p=>{s||(s=p);var h=p-s,y=h/r.dt;o=tz(r,o,y),i(mi(mi(mi({},t),e),l())),s=p,c()||(u=a.setTimeout(f))};return()=>(u=a.setTimeout(f),()=>{u()})}function rpe(t,e,r,n,i,a,s){var o=null,l=i.reduce((f,p)=>mi(mi({},f),{},{[p]:[t[p],e[p]]}),{}),c,u=f=>{c||(c=f);var p=(f-c)/n,h=J0((g,b)=>uw(...b,r(p)),l);if(a(mi(mi(mi({},t),e),h)),p<1)o=s.setTimeout(u);else{var y=J0((g,b)=>uw(...b,r(1)),l);a(mi(mi(mi({},t),e),y))}};return()=>(o=s.setTimeout(u),()=>{o()})}const npe=(t,e,r,n,i,a)=>{var s=Jhe(t,e);return r.isStepper===!0?tpe(t,e,r,s,i,a):rpe(t,e,r,n,s,i,a)};class ipe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}var ape=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_N.apply(null,arguments)}function spe(t,e){if(t==null)return{};var r,n,i=ope(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ope(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){gf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gf(t,e,r){return(e=lpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lpe(t){var e=cpe(t,"string");return typeof e=="symbol"?e:e+""}function cpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function upe(){return Vhe(new ipe)}class cP extends I.PureComponent{constructor(e,r){super(e,r),gf(this,"mounted",!1),gf(this,"manager",null),gf(this,"stopJSAnimation",null),gf(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:a,to:s,children:o,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:s});return}if(a){if(typeof o=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:a,to:s,from:o}=this.props,{style:l}=this.state;if(n){if(!r){var c={style:i?{[i]:s}:s};this.state&&l&&(i&&l[i]!==s||!i&&l!==s)&&this.setState(c);return}if(!(Uhe(e.to,s)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||a?o:e.to;if(this.state&&l){var p={style:i?{[i]:f}:f};(i&&l[i]!==f||!i&&l!==f)&&this.setState(p)}this.runAnimation(yu(yu({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l}=e,c=npe(r,n,Whe(a),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=c()};this.manager.start([l,s,u,i,o])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:a,easing:s,onAnimationStart:o,onAnimationEnd:l,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof c=="function"||s==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:a}:a,f=Xhe(Object.keys(u),n,s);this.manager.start([o,r,yu(yu({},u),{},{transition:f}),n,l])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:a,easing:s,isActive:o,from:l,to:c,canBegin:u,onAnimationEnd:f,shouldReAnimate:p,onAnimationReStart:h,animationManager:y}=e,g=spe(e,ape),b=I.Children.count(r),m=this.state.style;if(typeof r=="function")return r(m);if(!o||b===0||i<=0)return r;var v=w=>{var{style:E={},className:P}=w.props,$=I.cloneElement(w,yu(yu({},g),{},{style:yu(yu({},E),m),className:P}));return $};return b===1?v(I.Children.only(r)):I.createElement("div",null,I.Children.map(r,w=>v(w)))}}gf(cP,"displayName","Animate");gf(cP,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var dpe=I.createContext(null);function Hf(t){var e,r,n=I.useContext(dpe);return I.createElement(cP,_N({},t,{animationManager:(e=(r=t.animationManager)!==null&&r!==void 0?r:n)!==null&&e!==void 0?e:upe()}))}function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dw.apply(null,arguments)}var FO=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],f=0,p=4;f<p;f++)u[f]=i[f]>a?a:i[f];c="M".concat(t,",").concat(e+s*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+o*u[0],",").concat(e)),c+="L ".concat(t+r-o*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+r,",").concat(e+s*u[1])),c+="L ".concat(t+r,",").concat(e+n-s*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+r-o*u[2],",").concat(e+n)),c+="L ".concat(t+o*u[3],",").concat(e+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+n-s*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);c="M ".concat(t,",").concat(e+s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+o*h,",").concat(e,`
            L `).concat(t+r-o*h,",").concat(e,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+r,",").concat(e+s*h,`
            L `).concat(t+r,",").concat(e+n-s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+r-o*h,",").concat(e+n,`
            L `).concat(t+o*h,",").concat(e+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t,",").concat(e+n-s*h," Z")}else c="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},fpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rz=t=>{var e=No(t,fpe),r=I.useRef(null),[n,i]=I.useState(-1);I.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var m=r.current.getTotalLength();m&&i(m)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:u}=e,{animationEasing:f,animationDuration:p,animationBegin:h,isAnimationActive:y,isUpdateAnimationActive:g}=e;if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var b=Zt("recharts-rectangle",u);return g?I.createElement(Hf,{canBegin:n>0,from:{width:o,height:l,x:a,y:s},to:{width:o,height:l,x:a,y:s},duration:p,animationEasing:f,isActive:g},m=>{var{width:v,height:w,x:E,y:P}=m;return I.createElement(Hf,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,isActive:y,easing:f},I.createElement("path",dw({},er(e,!0),{className:b,d:FO(E,P,v,w,c),ref:r})))}):I.createElement("path",dw({},er(e,!0),{className:b,d:FO(a,s,o,l,c)}))};function nz(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,s=Dn(e,r,n,i),o=Dn(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function EN(){return EN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EN.apply(null,arguments)}var hpe=(t,e)=>{var r=$i(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Xv=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=t,c=o*(s?1:-1)+n,u=Math.asin(o/c)/lw,f=l?i:i+a*u,p=Dn(e,r,c,f),h=Dn(e,r,n,f),y=l?i-a*u:i,g=Dn(e,r,c*Math.cos(u*lw),y);return{center:p,circleTangency:h,lineTangency:g,theta:u}},iz=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=t,o=hpe(a,s),l=a+o,c=Dn(e,r,i,a),u=Dn(e,r,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=Dn(e,r,n,a),h=Dn(e,r,n,l);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(e,",").concat(r," Z");return f},ppe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=t,u=$i(c-l),{circleTangency:f,lineTangency:p,theta:h}=Xv({cx:e,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:y,lineTangency:g,theta:b}=Xv({cx:e,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),m=o?Math.abs(l-c):Math.abs(l-c)-h-b;if(m<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):iz({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(m>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:E,theta:P}=Xv({cx:e,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:$,lineTangency:C,theta:N}=Xv({cx:e,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),A=o?Math.abs(l-c):Math.abs(l-c)-P-N;if(A<0&&a===0)return"".concat(v,"L").concat(e,",").concat(r,"Z");v+="L".concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat($.x,",").concat($.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else v+="L".concat(e,",").concat(r,"Z");return v},mpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},az=t=>{var e=No(t,mpe),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=e;if(a<i||c===u)return null;var p=Zt("recharts-sector",f),h=a-i,y=Ps(s,h,0,!0),g;return y>0&&Math.abs(c-u)<360?g=ppe({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(y,h/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):g=iz({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),I.createElement("path",EN({},er(e,!0),{className:p,d:g}))};function gpe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:f}=e,p=Dn(o,l,c,f),h=Dn(o,l,u,f);n=p.x,i=p.y,a=h.x,s=h.y}else return nz(e);return[{x:n,y:i},{x:a,y:s}]}var sz={},oz={},lz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KT;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(lz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lz;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(oz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YT,r=oz;function n(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}t.range=n})(sz);var ype=sz.range;const cz=Eo(ype);function Ju(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uP(t){let e,r,n;t.length!==2?(e=Ju,r=(o,l)=>Ju(t(o),l),n=(o,l)=>t(o)-l):(e=t===Ju||t===vpe?t:bpe,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function bpe(){return 0}function uz(t){return t===null?NaN:+t}function*wpe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const xpe=uP(Ju),Cy=xpe.right;uP(uz).center;class BO extends Map{constructor(e,r=Spe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get($O(this,e))}has(e){return super.has($O(this,e))}set(e,r){return super.set(_pe(this,e),r)}delete(e){return super.delete(Epe(this,e))}}function $O({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function _pe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Epe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Spe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ape(t=Ju){if(t===Ju)return dz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function dz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Npe=Math.sqrt(50),Tpe=Math.sqrt(10),Ppe=Math.sqrt(2);function fw(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Npe?10:a>=Tpe?5:a>=Ppe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?fw(t,e,r*2):[o,l,c]}function SN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?fw(e,t,r):fw(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function AN(t,e,r){return e=+e,t=+t,r=+r,fw(t,e,r)[2]}function NN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?AN(e,t,r):AN(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function UO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function VO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function fz(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?dz:Ape(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(e-c*f/l+p)),y=Math.min(n,Math.floor(e+(l-c)*f/l+p));fz(t,e,h,y,i)}const a=t[e];let s=r,o=n;for(Ag(t,r,e),i(t[n],a)>0&&Ag(t,r,n);s<o;){for(Ag(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Ag(t,r,o):(++o,Ag(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Ag(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Cpe(t,e,r){if(t=Float64Array.from(wpe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return VO(t);if(e>=1)return UO(t);var n,i=(n-1)*e,a=Math.floor(i),s=UO(fz(t,a).subarray(0,a+1)),o=VO(t.subarray(a+1));return s+(o-s)*(i-a)}}function kpe(t,e,r=uz){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Ipe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Bs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Lc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const TN=Symbol("implicit");function dP(){var t=new BO,e=[],r=[],n=TN;function i(a){let s=t.get(a);if(s===void 0){if(n!==TN)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new BO;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return dP(e,r).unknown(n)},Bs.apply(i,arguments),i}function fP(){var t=dP().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var p=e().length,h=i<n,y=h?i:n,g=h?n:i;a=(g-y)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),y+=(g-y-a*(p-l))*u,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var b=Ipe(p).map(function(m){return y+a*m});return r(h?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,f()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},t.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},t.copy=function(){return fP(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Bs.apply(f(),arguments)}function hz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return hz(e())},t}function jpe(){return hz(fP.apply(null,arguments).paddingInner(1))}function hP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function pz(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ky(){}var Q0=.7,hw=1/Q0,kp="\\s*([+-]?\\d+)\\s*",Z0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ope=/^#([0-9a-f]{3,8})$/,Rpe=new RegExp(`^rgb\\(${kp},${kp},${kp}\\)$`),Lpe=new RegExp(`^rgb\\(${hl},${hl},${hl}\\)$`),Dpe=new RegExp(`^rgba\\(${kp},${kp},${kp},${Z0}\\)$`),Mpe=new RegExp(`^rgba\\(${hl},${hl},${hl},${Z0}\\)$`),Fpe=new RegExp(`^hsl\\(${Z0},${hl},${hl}\\)$`),Bpe=new RegExp(`^hsla\\(${Z0},${hl},${hl},${Z0}\\)$`),zO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hP(ky,ey,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qO,formatHex:qO,formatHex8:$pe,formatHsl:Upe,formatRgb:WO,toString:WO});function qO(){return this.rgb().formatHex()}function $pe(){return this.rgb().formatHex8()}function Upe(){return mz(this).formatHsl()}function WO(){return this.rgb().formatRgb()}function ey(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Ope.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?HO(e):r===3?new ya(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Jv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Jv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Rpe.exec(t))?new ya(e[1],e[2],e[3],1):(e=Lpe.exec(t))?new ya(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Dpe.exec(t))?Jv(e[1],e[2],e[3],e[4]):(e=Mpe.exec(t))?Jv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fpe.exec(t))?YO(e[1],e[2]/100,e[3]/100,1):(e=Bpe.exec(t))?YO(e[1],e[2]/100,e[3]/100,e[4]):zO.hasOwnProperty(t)?HO(zO[t]):t==="transparent"?new ya(NaN,NaN,NaN,0):null}function HO(t){return new ya(t>>16&255,t>>8&255,t&255,1)}function Jv(t,e,r,n){return n<=0&&(t=e=r=NaN),new ya(t,e,r,n)}function Vpe(t){return t instanceof ky||(t=ey(t)),t?(t=t.rgb(),new ya(t.r,t.g,t.b,t.opacity)):new ya}function PN(t,e,r,n){return arguments.length===1?Vpe(t):new ya(t,e,r,n??1)}function ya(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}hP(ya,PN,pz(ky,{brighter(t){return t=t==null?hw:Math.pow(hw,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Q0:Math.pow(Q0,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ya(Pf(this.r),Pf(this.g),Pf(this.b),pw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GO,formatHex:GO,formatHex8:zpe,formatRgb:KO,toString:KO}));function GO(){return`#${yf(this.r)}${yf(this.g)}${yf(this.b)}`}function zpe(){return`#${yf(this.r)}${yf(this.g)}${yf(this.b)}${yf((isNaN(this.opacity)?1:this.opacity)*255)}`}function KO(){const t=pw(this.opacity);return`${t===1?"rgb(":"rgba("}${Pf(this.r)}, ${Pf(this.g)}, ${Pf(this.b)}${t===1?")":`, ${t})`}`}function pw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Pf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yf(t){return t=Pf(t),(t<16?"0":"")+t.toString(16)}function YO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new uo(t,e,r,n)}function mz(t){if(t instanceof uo)return new uo(t.h,t.s,t.l,t.opacity);if(t instanceof ky||(t=ey(t)),!t)return new uo;if(t instanceof uo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new uo(s,o,l,t.opacity)}function qpe(t,e,r,n){return arguments.length===1?mz(t):new uo(t,e,r,n??1)}function uo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}hP(uo,qpe,pz(ky,{brighter(t){return t=t==null?hw:Math.pow(hw,t),new uo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Q0:Math.pow(Q0,t),new uo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ya(h_(t>=240?t-240:t+120,i,n),h_(t,i,n),h_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new uo(XO(this.h),Qv(this.s),Qv(this.l),pw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pw(this.opacity);return`${t===1?"hsl(":"hsla("}${XO(this.h)}, ${Qv(this.s)*100}%, ${Qv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function XO(t){return t=(t||0)%360,t<0?t+360:t}function Qv(t){return Math.max(0,Math.min(1,t||0))}function h_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const pP=t=>()=>t;function Wpe(t,e){return function(r){return t+r*e}}function Hpe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Gpe(t){return(t=+t)==1?gz:function(e,r){return r-e?Hpe(e,r,t):pP(isNaN(e)?r:e)}}function gz(t,e){var r=e-t;return r?Wpe(t,r):pP(isNaN(t)?e:t)}const JO=function t(e){var r=Gpe(e);function n(i,a){var s=r((i=PN(i)).r,(a=PN(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=gz(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function Kpe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Ype(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xpe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Lm(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Jpe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function mw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Qpe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Lm(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var CN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p_=new RegExp(CN.source,"g");function Zpe(t){return function(){return t}}function eme(t){return function(e){return t(e)+""}}function tme(t,e){var r=CN.lastIndex=p_.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=CN.exec(t))&&(i=p_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:mw(n,i)})),r=p_.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?eme(l[0].x):Zpe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Lm(t,e){var r=typeof e,n;return e==null||r==="boolean"?pP(e):(r==="number"?mw:r==="string"?(n=ey(e))?(e=n,JO):tme:e instanceof ey?JO:e instanceof Date?Jpe:Ype(e)?Kpe:Array.isArray(e)?Xpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Qpe:mw)(t,e)}function mP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function rme(t,e){e===void 0&&(e=t,t=Lm);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function nme(t){return function(){return t}}function gw(t){return+t}var QO=[0,1];function Qi(t){return t}function kN(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:nme(isNaN(e)?NaN:.5)}function ime(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ame(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=kN(i,n),a=r(s,a)):(n=kN(n,i),a=r(a,s)),function(o){return a(n(o))}}function sme(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=kN(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=Cy(t,o,1,n)-1;return a[l](i[l](o))}}function Iy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function u2(){var t=QO,e=QO,r=Lm,n,i,a,s=Qi,o,l,c;function u(){var p=Math.min(t.length,e.length);return s!==Qi&&(s=ime(t[0],t[p-1])),o=p>2?sme:ame,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(n),e,r)))(n(s(p)))}return f.invert=function(p){return s(i((c||(c=o(e,t.map(n),mw)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,gw),u()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),u()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=mP,u()},f.clamp=function(p){return arguments.length?(s=p?!0:Qi,u()):s!==Qi},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,u()}}function gP(){return u2()(Qi,Qi)}function ome(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function yw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function sm(t){return t=yw(Math.abs(t)),t?t[1]:NaN}function lme(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function cme(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ume=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ty(t){if(!(e=ume.exec(t)))throw new Error("invalid format: "+t);var e;return new yP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ty.prototype=yP.prototype;function yP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dme(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var yz;function fme(t,e){var r=yw(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(yz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+yw(t,Math.max(0,e+a-1))[0]}function ZO(t,e){var r=yw(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const eR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ome,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ZO(t*100,e),r:ZO,s:fme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function tR(t){return t}var rR=Array.prototype.map,nR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hme(t){var e=t.grouping===void 0||t.thousands===void 0?tR:lme(rR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?tR:cme(rR.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=ty(f);var p=f.fill,h=f.align,y=f.sign,g=f.symbol,b=f.zero,m=f.width,v=f.comma,w=f.precision,E=f.trim,P=f.type;P==="n"?(v=!0,P="g"):eR[P]||(w===void 0&&(w=12),E=!0,P="g"),(b||p==="0"&&h==="=")&&(b=!0,p="0",h="=");var $=g==="$"?r:g==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",C=g==="$"?n:/[%p]/.test(P)?s:"",N=eR[P],A=/[defgprs%]/.test(P);w=w===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(F){var S=$,O=C,k,ie,ae;if(P==="c")O=N(F)+O,F="";else{F=+F;var Q=F<0||1/F<0;if(F=isNaN(F)?l:N(Math.abs(F),w),E&&(F=dme(F)),Q&&+F==0&&y!=="+"&&(Q=!1),S=(Q?y==="("?y:o:y==="-"||y==="("?"":y)+S,O=(P==="s"?nR[8+yz/3]:"")+O+(Q&&y==="("?")":""),A){for(k=-1,ie=F.length;++k<ie;)if(ae=F.charCodeAt(k),48>ae||ae>57){O=(ae===46?i+F.slice(k+1):F.slice(k))+O,F=F.slice(0,k);break}}}v&&!b&&(F=e(F,1/0));var se=S.length+F.length+O.length,fe=se<m?new Array(m-se+1).join(p):"";switch(v&&b&&(F=e(fe+F,fe.length?m-O.length:1/0),fe=""),h){case"<":F=S+F+O+fe;break;case"=":F=S+fe+F+O;break;case"^":F=fe.slice(0,se=fe.length>>1)+S+F+O+fe.slice(se);break;default:F=fe+S+F+O;break}return a(F)}return D.toString=function(){return f+""},D}function u(f,p){var h=c((f=ty(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(sm(p)/3)))*3,g=Math.pow(10,-y),b=nR[8+y/3];return function(m){return h(g*m)+b}}return{format:c,formatPrefix:u}}var Zv,vP,vz;pme({thousands:",",grouping:[3],currency:["$",""]});function pme(t){return Zv=hme(t),vP=Zv.format,vz=Zv.formatPrefix,Zv}function mme(t){return Math.max(0,-sm(Math.abs(t)))}function gme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sm(e)/3)))*3-sm(Math.abs(t)))}function yme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sm(e)-sm(t))+1}function bz(t,e,r,n){var i=NN(t,e,r),a;switch(n=ty(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=gme(i,s))&&(n.precision=a),vz(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=yme(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=mme(i))&&(n.precision=a-(n.type==="%")*2);break}}return vP(n)}function _d(t){var e=t.domain;return t.ticks=function(r){var n=e();return SN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return bz(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=AN(s,o,r),c===l)return n[i]=s,n[a]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function wz(){var t=gP();return t.copy=function(){return Iy(t,wz())},Bs.apply(t,arguments),_d(t)}function xz(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,gw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return xz(t).unknown(e)},t=arguments.length?Array.from(t,gw):[0,1],_d(r)}function _z(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function iR(t){return Math.log(t)}function aR(t){return Math.exp(t)}function vme(t){return-Math.log(-t)}function bme(t){return-Math.exp(-t)}function wme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xme(t){return t===10?wme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _me(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sR(t){return(e,r)=>-t(-e,r)}function bP(t){const e=t(iR,aR),r=e.domain;let n=10,i,a;function s(){return i=_me(n),a=xme(n),r()[0]<0?(i=sR(i),a=sR(a),t(vme,bme)):t(iR,aR),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=i(c),h=i(u),y,g;const b=o==null?10:+o;let m=[];if(!(n%1)&&h-p<b){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(y=1;y<n;++y)if(g=p<0?y/a(-p):y*a(p),!(g<c)){if(g>u)break;m.push(g)}}else for(;p<=h;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/a(-p):y*a(p),!(g<c)){if(g>u)break;m.push(g)}m.length*2<b&&(m=SN(c,u,b))}else m=SN(p,h,Math.min(h-p,b)).map(a);return f?m.reverse():m},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ty(l)).precision==null&&(l.trim=!0),l=vP(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(_z(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function Ez(){const t=bP(u2()).domain([1,10]);return t.copy=()=>Iy(t,Ez()).base(t.base()),Bs.apply(t,arguments),t}function oR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function lR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function wP(t){var e=1,r=t(oR(e),lR(e));return r.constant=function(n){return arguments.length?t(oR(e=+n),lR(e)):e},_d(r)}function Sz(){var t=wP(u2());return t.copy=function(){return Iy(t,Sz()).constant(t.constant())},Bs.apply(t,arguments)}function cR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Eme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Sme(t){return t<0?-t*t:t*t}function xP(t){var e=t(Qi,Qi),r=1;function n(){return r===1?t(Qi,Qi):r===.5?t(Eme,Sme):t(cR(r),cR(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},_d(e)}function _P(){var t=xP(u2());return t.copy=function(){return Iy(t,_P()).exponent(t.exponent())},Bs.apply(t,arguments),t}function Ame(){return _P.apply(null,arguments).exponent(.5)}function uR(t){return Math.sign(t)*t*t}function Nme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Az(){var t=gP(),e=[0,1],r=!1,n;function i(a){var s=Nme(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(uR(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,gw)).map(uR)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Az(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Bs.apply(i,arguments),_d(i)}function Nz(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=kpe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Cy(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ju),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Nz().domain(t).range(e).unknown(n)},Bs.apply(a,arguments)}function Tz(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Cy(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Tz().domain([t,e]).range(i).unknown(a)},Bs.apply(_d(s),arguments)}function Pz(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Cy(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Pz().domain(t).range(e).unknown(r)},Bs.apply(i,arguments)}const m_=new Date,g_=new Date;function Hn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Hn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(m_.setTime(+a),g_.setTime(+s),t(m_),t(g_),Math.floor(r(m_,g_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const vw=Hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);vw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):vw);vw.range;const ac=1e3,Ss=ac*60,sc=Ss*60,Tc=sc*24,EP=Tc*7,dR=Tc*30,y_=Tc*365,vf=Hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ac)},(t,e)=>(e-t)/ac,t=>t.getUTCSeconds());vf.range;const SP=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ac)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getMinutes());SP.range;const AP=Hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCMinutes());AP.range;const NP=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ac-t.getMinutes()*Ss)},(t,e)=>{t.setTime(+t+e*sc)},(t,e)=>(e-t)/sc,t=>t.getHours());NP.range;const TP=Hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*sc)},(t,e)=>(e-t)/sc,t=>t.getUTCHours());TP.range;const jy=Hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ss)/Tc,t=>t.getDate()-1);jy.range;const d2=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tc,t=>t.getUTCDate()-1);d2.range;const Cz=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tc,t=>Math.floor(t/Tc));Cz.range;function ah(t){return Hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ss)/EP)}const f2=ah(0),bw=ah(1),Tme=ah(2),Pme=ah(3),om=ah(4),Cme=ah(5),kme=ah(6);f2.range;bw.range;Tme.range;Pme.range;om.range;Cme.range;kme.range;function sh(t){return Hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/EP)}const h2=sh(0),ww=sh(1),Ime=sh(2),jme=sh(3),lm=sh(4),Ome=sh(5),Rme=sh(6);h2.range;ww.range;Ime.range;jme.range;lm.range;Ome.range;Rme.range;const PP=Hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());PP.range;const CP=Hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CP.range;const Pc=Hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Pc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Pc.range;const Cc=Hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Cc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Cc.range;function kz(t,e,r,n,i,a){const s=[[vf,1,ac],[vf,5,5*ac],[vf,15,15*ac],[vf,30,30*ac],[a,1,Ss],[a,5,5*Ss],[a,15,15*Ss],[a,30,30*Ss],[i,1,sc],[i,3,3*sc],[i,6,6*sc],[i,12,12*sc],[n,1,Tc],[n,2,2*Tc],[r,1,EP],[e,1,dR],[e,3,3*dR],[t,1,y_]];function o(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),y=h?h.range(c,+u+1):[];return p?y.reverse():y}function l(c,u,f){const p=Math.abs(u-c)/f,h=uP(([,,b])=>b).right(s,p);if(h===s.length)return t.every(NN(c/y_,u/y_,f));if(h===0)return vw.every(Math.max(NN(c,u,f),1));const[y,g]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return y.every(g)}return[o,l]}const[Lme,Dme]=kz(Cc,CP,h2,Cz,TP,AP),[Mme,Fme]=kz(Pc,PP,f2,jy,NP,SP);function v_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function b_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ng(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Bme(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Tg(i),u=Pg(i),f=Tg(a),p=Pg(a),h=Tg(s),y=Pg(s),g=Tg(o),b=Pg(o),m=Tg(l),v=Pg(l),w={a:Q,A:se,b:fe,B:we,c:null,d:yR,e:yR,f:lge,g:vge,G:wge,H:age,I:sge,j:oge,L:Iz,m:cge,M:uge,p:ve,q:M,Q:wR,s:xR,S:dge,u:fge,U:hge,V:pge,w:mge,W:gge,x:null,X:null,y:yge,Y:bge,Z:xge,"%":bR},E={a:K,A:ee,b:de,B:ue,c:null,d:vR,e:vR,f:Age,g:Lge,G:Mge,H:_ge,I:Ege,j:Sge,L:Oz,m:Nge,M:Tge,p:z,q:V,Q:wR,s:xR,S:Pge,u:Cge,U:kge,V:Ige,w:jge,W:Oge,x:null,X:null,y:Rge,Y:Dge,Z:Fge,"%":bR},P={a:D,A:F,b:S,B:O,c:k,d:mR,e:mR,f:tge,g:pR,G:hR,H:gR,I:gR,j:Jme,L:ege,m:Xme,M:Qme,p:A,q:Yme,Q:nge,s:ige,S:Zme,u:qme,U:Wme,V:Hme,w:zme,W:Gme,x:ie,X:ae,y:pR,Y:hR,Z:Kme,"%":rge};w.x=$(r,w),w.X=$(n,w),w.c=$(e,w),E.x=$(r,E),E.X=$(n,E),E.c=$(e,E);function $(te,ce){return function(Z){var J=[],Ee=-1,H=0,be=te.length,B,j,R;for(Z instanceof Date||(Z=new Date(+Z));++Ee<be;)te.charCodeAt(Ee)===37&&(J.push(te.slice(H,Ee)),(j=fR[B=te.charAt(++Ee)])!=null?B=te.charAt(++Ee):j=B==="e"?" ":"0",(R=ce[B])&&(B=R(Z,j)),J.push(B),H=Ee+1);return J.push(te.slice(H,Ee)),J.join("")}}function C(te,ce){return function(Z){var J=Ng(1900,void 0,1),Ee=N(J,te,Z+="",0),H,be;if(Ee!=Z.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(ce&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(H=b_(Ng(J.y,0,1)),be=H.getUTCDay(),H=be>4||be===0?ww.ceil(H):ww(H),H=d2.offset(H,(J.V-1)*7),J.y=H.getUTCFullYear(),J.m=H.getUTCMonth(),J.d=H.getUTCDate()+(J.w+6)%7):(H=v_(Ng(J.y,0,1)),be=H.getDay(),H=be>4||be===0?bw.ceil(H):bw(H),H=jy.offset(H,(J.V-1)*7),J.y=H.getFullYear(),J.m=H.getMonth(),J.d=H.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),be="Z"in J?b_(Ng(J.y,0,1)).getUTCDay():v_(Ng(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(be+5)%7:J.w+J.U*7-(be+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,b_(J)):v_(J)}}function N(te,ce,Z,J){for(var Ee=0,H=ce.length,be=Z.length,B,j;Ee<H;){if(J>=be)return-1;if(B=ce.charCodeAt(Ee++),B===37){if(B=ce.charAt(Ee++),j=P[B in fR?ce.charAt(Ee++):B],!j||(J=j(te,Z,J))<0)return-1}else if(B!=Z.charCodeAt(J++))return-1}return J}function A(te,ce,Z){var J=c.exec(ce.slice(Z));return J?(te.p=u.get(J[0].toLowerCase()),Z+J[0].length):-1}function D(te,ce,Z){var J=h.exec(ce.slice(Z));return J?(te.w=y.get(J[0].toLowerCase()),Z+J[0].length):-1}function F(te,ce,Z){var J=f.exec(ce.slice(Z));return J?(te.w=p.get(J[0].toLowerCase()),Z+J[0].length):-1}function S(te,ce,Z){var J=m.exec(ce.slice(Z));return J?(te.m=v.get(J[0].toLowerCase()),Z+J[0].length):-1}function O(te,ce,Z){var J=g.exec(ce.slice(Z));return J?(te.m=b.get(J[0].toLowerCase()),Z+J[0].length):-1}function k(te,ce,Z){return N(te,e,ce,Z)}function ie(te,ce,Z){return N(te,r,ce,Z)}function ae(te,ce,Z){return N(te,n,ce,Z)}function Q(te){return s[te.getDay()]}function se(te){return a[te.getDay()]}function fe(te){return l[te.getMonth()]}function we(te){return o[te.getMonth()]}function ve(te){return i[+(te.getHours()>=12)]}function M(te){return 1+~~(te.getMonth()/3)}function K(te){return s[te.getUTCDay()]}function ee(te){return a[te.getUTCDay()]}function de(te){return l[te.getUTCMonth()]}function ue(te){return o[te.getUTCMonth()]}function z(te){return i[+(te.getUTCHours()>=12)]}function V(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ce=$(te+="",w);return ce.toString=function(){return te},ce},parse:function(te){var ce=C(te+="",!1);return ce.toString=function(){return te},ce},utcFormat:function(te){var ce=$(te+="",E);return ce.toString=function(){return te},ce},utcParse:function(te){var ce=C(te+="",!0);return ce.toString=function(){return te},ce}}}var fR={"-":"",_:" ",0:"0"},ni=/^\s*\d+/,$me=/^%/,Ume=/[\\^$*+?|[\]().{}]/g;function rr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Vme(t){return t.replace(Ume,"\\$&")}function Tg(t){return new RegExp("^(?:"+t.map(Vme).join("|")+")","i")}function Pg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function zme(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function qme(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Wme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Hme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Gme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function hR(t,e,r){var n=ni.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function pR(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Kme(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Yme(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Xme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function mR(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Jme(t,e,r){var n=ni.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function gR(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Qme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Zme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ege(t,e,r){var n=ni.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function tge(t,e,r){var n=ni.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rge(t,e,r){var n=$me.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function nge(t,e,r){var n=ni.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function ige(t,e,r){var n=ni.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function yR(t,e){return rr(t.getDate(),e,2)}function age(t,e){return rr(t.getHours(),e,2)}function sge(t,e){return rr(t.getHours()%12||12,e,2)}function oge(t,e){return rr(1+jy.count(Pc(t),t),e,3)}function Iz(t,e){return rr(t.getMilliseconds(),e,3)}function lge(t,e){return Iz(t,e)+"000"}function cge(t,e){return rr(t.getMonth()+1,e,2)}function uge(t,e){return rr(t.getMinutes(),e,2)}function dge(t,e){return rr(t.getSeconds(),e,2)}function fge(t){var e=t.getDay();return e===0?7:e}function hge(t,e){return rr(f2.count(Pc(t)-1,t),e,2)}function jz(t){var e=t.getDay();return e>=4||e===0?om(t):om.ceil(t)}function pge(t,e){return t=jz(t),rr(om.count(Pc(t),t)+(Pc(t).getDay()===4),e,2)}function mge(t){return t.getDay()}function gge(t,e){return rr(bw.count(Pc(t)-1,t),e,2)}function yge(t,e){return rr(t.getFullYear()%100,e,2)}function vge(t,e){return t=jz(t),rr(t.getFullYear()%100,e,2)}function bge(t,e){return rr(t.getFullYear()%1e4,e,4)}function wge(t,e){var r=t.getDay();return t=r>=4||r===0?om(t):om.ceil(t),rr(t.getFullYear()%1e4,e,4)}function xge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rr(e/60|0,"0",2)+rr(e%60,"0",2)}function vR(t,e){return rr(t.getUTCDate(),e,2)}function _ge(t,e){return rr(t.getUTCHours(),e,2)}function Ege(t,e){return rr(t.getUTCHours()%12||12,e,2)}function Sge(t,e){return rr(1+d2.count(Cc(t),t),e,3)}function Oz(t,e){return rr(t.getUTCMilliseconds(),e,3)}function Age(t,e){return Oz(t,e)+"000"}function Nge(t,e){return rr(t.getUTCMonth()+1,e,2)}function Tge(t,e){return rr(t.getUTCMinutes(),e,2)}function Pge(t,e){return rr(t.getUTCSeconds(),e,2)}function Cge(t){var e=t.getUTCDay();return e===0?7:e}function kge(t,e){return rr(h2.count(Cc(t)-1,t),e,2)}function Rz(t){var e=t.getUTCDay();return e>=4||e===0?lm(t):lm.ceil(t)}function Ige(t,e){return t=Rz(t),rr(lm.count(Cc(t),t)+(Cc(t).getUTCDay()===4),e,2)}function jge(t){return t.getUTCDay()}function Oge(t,e){return rr(ww.count(Cc(t)-1,t),e,2)}function Rge(t,e){return rr(t.getUTCFullYear()%100,e,2)}function Lge(t,e){return t=Rz(t),rr(t.getUTCFullYear()%100,e,2)}function Dge(t,e){return rr(t.getUTCFullYear()%1e4,e,4)}function Mge(t,e){var r=t.getUTCDay();return t=r>=4||r===0?lm(t):lm.ceil(t),rr(t.getUTCFullYear()%1e4,e,4)}function Fge(){return"+0000"}function bR(){return"%"}function wR(t){return+t}function xR(t){return Math.floor(+t/1e3)}var $h,Lz,Dz;Bge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bge(t){return $h=Bme(t),Lz=$h.format,$h.parse,Dz=$h.utcFormat,$h.utcParse,$h}function $ge(t){return new Date(t)}function Uge(t){return t instanceof Date?+t:+new Date(+t)}function kP(t,e,r,n,i,a,s,o,l,c){var u=gP(),f=u.invert,p=u.domain,h=c(".%L"),y=c(":%S"),g=c("%I:%M"),b=c("%I %p"),m=c("%a %d"),v=c("%b %d"),w=c("%B"),E=c("%Y");function P($){return(l($)<$?h:o($)<$?y:s($)<$?g:a($)<$?b:n($)<$?i($)<$?m:v:r($)<$?w:E)($)}return u.invert=function($){return new Date(f($))},u.domain=function($){return arguments.length?p(Array.from($,Uge)):p().map($ge)},u.ticks=function($){var C=p();return t(C[0],C[C.length-1],$??10)},u.tickFormat=function($,C){return C==null?P:c(C)},u.nice=function($){var C=p();return(!$||typeof $.range!="function")&&($=e(C[0],C[C.length-1],$??10)),$?p(_z(C,$)):u},u.copy=function(){return Iy(u,kP(t,e,r,n,i,a,s,o,l,c))},u}function Vge(){return Bs.apply(kP(Mme,Fme,Pc,PP,f2,jy,NP,SP,vf,Lz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zge(){return Bs.apply(kP(Lme,Dme,Cc,CP,h2,d2,TP,AP,vf,Dz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function p2(){var t=0,e=1,r,n,i,a,s=Qi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(p){var h,y;return arguments.length?([h,y]=p,s=f(h,y),c):[s(0),s(1)]}}return c.range=u(Lm),c.rangeRound=u(mP),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Ed(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Mz(){var t=_d(p2()(Qi));return t.copy=function(){return Ed(t,Mz())},Lc.apply(t,arguments)}function Fz(){var t=bP(p2()).domain([1,10]);return t.copy=function(){return Ed(t,Fz()).base(t.base())},Lc.apply(t,arguments)}function Bz(){var t=wP(p2());return t.copy=function(){return Ed(t,Bz()).constant(t.constant())},Lc.apply(t,arguments)}function IP(){var t=xP(p2());return t.copy=function(){return Ed(t,IP()).exponent(t.exponent())},Lc.apply(t,arguments)}function qge(){return IP.apply(null,arguments).exponent(.5)}function $z(){var t=[],e=Qi;function r(n){if(n!=null&&!isNaN(n=+n))return e((Cy(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ju),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Cpe(t,a/n))},r.copy=function(){return $z(e).domain(t)},Lc.apply(r,arguments)}function m2(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,c=Qi,u,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-a)*(n*g<n*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,r]=g,i=u(t=+t),a=u(e=+e),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function y(g){return function(b){var m,v,w;return arguments.length?([m,v,w]=b,c=rme(g,[m,v,w]),h):[c(0),c(.5),c(1)]}}return h.range=y(Lm),h.rangeRound=y(mP),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return u=g,i=g(t),a=g(e),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function Uz(){var t=_d(m2()(Qi));return t.copy=function(){return Ed(t,Uz())},Lc.apply(t,arguments)}function Vz(){var t=bP(m2()).domain([.1,1,10]);return t.copy=function(){return Ed(t,Vz()).base(t.base())},Lc.apply(t,arguments)}function zz(){var t=wP(m2());return t.copy=function(){return Ed(t,zz()).constant(t.constant())},Lc.apply(t,arguments)}function jP(){var t=xP(m2());return t.copy=function(){return Ed(t,jP()).exponent(t.exponent())},Lc.apply(t,arguments)}function Wge(){return jP.apply(null,arguments).exponent(.5)}const Kg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fP,scaleDiverging:Uz,scaleDivergingLog:Vz,scaleDivergingPow:jP,scaleDivergingSqrt:Wge,scaleDivergingSymlog:zz,scaleIdentity:xz,scaleImplicit:TN,scaleLinear:wz,scaleLog:Ez,scaleOrdinal:dP,scalePoint:jpe,scalePow:_P,scaleQuantile:Nz,scaleQuantize:Tz,scaleRadial:Az,scaleSequential:Mz,scaleSequentialLog:Fz,scaleSequentialPow:IP,scaleSequentialQuantile:$z,scaleSequentialSqrt:qge,scaleSequentialSymlog:Bz,scaleSqrt:Ame,scaleSymlog:Sz,scaleThreshold:Pz,scaleTime:Vge,scaleUtc:zge,tickFormat:bz},Symbol.toStringTag,{value:"Module"}));var oh=t=>t.chartData,OP=$e([oh],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),qz=(t,e,r,n)=>n?OP(t):oh(t);function cm(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(_o(e)&&_o(r))return!0}return!1}function _R(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Hge(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(_o(r))i=r;else if(typeof r=="function")return;if(_o(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(cm(s))return s}}function Gge(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(cm(n))return _R(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(yt(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&vO.test(i)){var l=vO.exec(i);if(l==null||e==null)s=void 0;else{var c=+l[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(yt(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&bO.test(a)){var u=bO.exec(a);if(u==null||e==null)o=void 0;else{var f=+u[1];o=e[1]+f}}else o=e==null?void 0:e[1];var p=[s,o];if(cm(p))return e==null?p:_R(p,e,r)}}}var Dm=1e9,Kge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LP,Vr=!0,Ls="[DecimalError] ",Cf=Ls+"Invalid argument: ",RP=Ls+"Exponent out of range: ",Mm=Math.floor,nf=Math.pow,Yge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qa,Qn=1e7,Dr=7,Wz=9007199254740991,xw=Mm(Wz/Dr),ht={};ht.absoluteValue=ht.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ht.comparedTo=ht.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ht.decimalPlaces=ht.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Dr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ht.dividedBy=ht.div=function(t){return pc(this,new this.constructor(t))};ht.dividedToIntegerBy=ht.idiv=function(t){var e=this,r=e.constructor;return Nr(pc(e,new r(t),0,1),r.precision)};ht.equals=ht.eq=function(t){return!this.cmp(t)};ht.exponent=function(){return Mn(this)};ht.greaterThan=ht.gt=function(t){return this.cmp(t)>0};ht.greaterThanOrEqualTo=ht.gte=function(t){return this.cmp(t)>=0};ht.isInteger=ht.isint=function(){return this.e>this.d.length-2};ht.isNegative=ht.isneg=function(){return this.s<0};ht.isPositive=ht.ispos=function(){return this.s>0};ht.isZero=function(){return this.s===0};ht.lessThan=ht.lt=function(t){return this.cmp(t)<0};ht.lessThanOrEqualTo=ht.lte=function(t){return this.cmp(t)<1};ht.logarithm=ht.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(qa))throw Error(Ls+"NaN");if(r.s<1)throw Error(Ls+(r.s?"NaN":"-Infinity"));return r.eq(qa)?new n(0):(Vr=!1,e=pc(ry(r,a),ry(t,a),a),Vr=!0,Nr(e,i))};ht.minus=ht.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Kz(e,t):Hz(e,(t.s=-t.s,t))};ht.modulo=ht.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ls+"NaN");return r.s?(Vr=!1,e=pc(r,t,0,1).times(t),Vr=!0,r.minus(e)):Nr(new n(r),i)};ht.naturalExponential=ht.exp=function(){return Gz(this)};ht.naturalLogarithm=ht.ln=function(){return ry(this)};ht.negated=ht.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ht.plus=ht.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Hz(e,t):Kz(e,(t.s=-t.s,t))};ht.precision=ht.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Cf+t);if(e=Mn(i)+1,n=i.d.length-1,r=n*Dr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ht.squareRoot=ht.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ls+"NaN")}for(t=Mn(o),Vr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=tl(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Mm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(pc(o,a,s+2)).times(.5),tl(a.d).slice(0,s)===(e=tl(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Nr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return Vr=!0,Nr(n,r)};ht.times=ht.mul=function(t){var e,r,n,i,a,s,o,l,c,u=this,f=u.constructor,p=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+h[n]*p[i-n-1]+e,a[i--]=o%Qn|0,e=o/Qn|0;a[i]=(a[i]+e)%Qn|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Vr?Nr(t,f.precision):t};ht.toDecimalPlaces=ht.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(bl(t,0,Dm),e===void 0?e=n.rounding:bl(e,0,8),Nr(r,t+Mn(r)+1,e))};ht.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Gf(n,!0):(bl(t,0,Dm),e===void 0?e=i.rounding:bl(e,0,8),n=Nr(new i(n),t+1,e),r=Gf(n,!0,t+1)),r};ht.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Gf(i):(bl(t,0,Dm),e===void 0?e=a.rounding:bl(e,0,8),n=Nr(new a(i),t+Mn(i)+1,e),r=Gf(n.abs(),!1,t+Mn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ht.toInteger=ht.toint=function(){var t=this,e=t.constructor;return Nr(new e(t),Mn(t)+1,e.rounding)};ht.toNumber=function(){return+this};ht.toPower=ht.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(qa);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ls+"Infinity");return o}if(o.eq(qa))return o;if(n=l.precision,t.eq(qa))return Nr(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=u<0?-u:u)<=Wz){for(i=new l(qa),e=Math.ceil(n/Dr+4),Vr=!1;r%2&&(i=i.times(o),SR(i.d,e)),r=Mm(r/2),r!==0;)o=o.times(o),SR(o.d,e);return Vr=!0,t.s<0?new l(qa).div(i):Nr(i,n)}}else if(a<0)throw Error(Ls+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Vr=!1,i=t.times(ry(o,n+c)),Vr=!0,i=Gz(i),i.s=a,i};ht.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Mn(i),n=Gf(i,r<=a.toExpNeg||r>=a.toExpPos)):(bl(t,1,Dm),e===void 0?e=a.rounding:bl(e,0,8),i=Nr(new a(i),t,e),r=Mn(i),n=Gf(i,t<=r||r<=a.toExpNeg,t)),n};ht.toSignificantDigits=ht.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(bl(t,1,Dm),e===void 0?e=n.rounding:bl(e,0,8)),Nr(new n(r),t,e)};ht.toString=ht.valueOf=ht.val=ht.toJSON=ht[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mn(t),r=t.constructor;return Gf(t,e<=r.toExpNeg||e>=r.toExpPos)};function Hz(t,e){var r,n,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Vr?Nr(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/Dr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Qn|0,l[a]%=Qn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Vr?Nr(e,f):e}function bl(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Cf+t)}function tl(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Dr-n.length,r&&(a+=Au(r)),a+=n;s=t[e],n=s+"",r=Dr-n.length,r&&(a+=Au(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var pc=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Qn|0,s=a/Qn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Qn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,p,h,y,g,b,m,v,w,E,P,$,C,N,A=n.constructor,D=n.s==i.s?1:-1,F=n.d,S=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Ls+"Division by zero");for(l=n.e-i.e,C=S.length,P=F.length,h=new A(D),y=h.d=[],c=0;S[c]==(F[c]||0);)++c;if(S[c]>(F[c]||0)&&--l,a==null?v=a=A.precision:s?v=a+(Mn(n)-Mn(i))+1:v=a,v<0)return new A(0);if(v=v/Dr+2|0,c=0,C==1)for(u=0,S=S[0],v++;(c<P||u)&&v--;c++)w=u*Qn+(F[c]||0),y[c]=w/S|0,u=w%S|0;else{for(u=Qn/(S[0]+1)|0,u>1&&(S=t(S,u),F=t(F,u),C=S.length,P=F.length),E=C,g=F.slice(0,C),b=g.length;b<C;)g[b++]=0;N=S.slice(),N.unshift(0),$=S[0],S[1]>=Qn/2&&++$;do u=0,o=e(S,g,C,b),o<0?(m=g[0],C!=b&&(m=m*Qn+(g[1]||0)),u=m/$|0,u>1?(u>=Qn&&(u=Qn-1),f=t(S,u),p=f.length,b=g.length,o=e(f,g,p,b),o==1&&(u--,r(f,C<p?N:S,p))):(u==0&&(o=u=1),f=S.slice()),p=f.length,p<b&&f.unshift(0),r(g,f,b),o==-1&&(b=g.length,o=e(S,g,C,b),o<1&&(u++,r(g,C<b?N:S,b))),b=g.length):o===0&&(u++,g=[0]),y[c++]=u,o&&g[0]?g[b++]=F[E]||0:(g=[F[E]],b=1);while((E++<P||g[0]!==void 0)&&v--)}return y[0]||y.shift(),h.e=l,Nr(h,s?a+Mn(h)+1:a)}}();function Gz(t,e){var r,n,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(Mn(t)>16)throw Error(RP+Mn(t));if(!t.s)return new u(qa);for(e==null?(Vr=!1,o=f):o=e,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(nf(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(qa),u.precision=o;;){if(i=Nr(i.times(t),o),r=r.times(++l),s=a.plus(pc(i,r,o)),tl(s.d).slice(0,o)===tl(a.d).slice(0,o)){for(;c--;)a=Nr(a.times(a),o);return u.precision=f,e==null?(Vr=!0,Nr(a,f)):a}a=s}}function Mn(t){for(var e=t.e*Dr,r=t.d[0];r>=10;r/=10)e++;return e}function w_(t,e,r){if(e>t.LN10.sd())throw Vr=!0,r&&(t.precision=r),Error(Ls+"LN10 precision limit exceeded");return Nr(new t(t.LN10),e)}function Au(t){for(var e="";t--;)e+="0";return e}function ry(t,e){var r,n,i,a,s,o,l,c,u,f=1,p=10,h=t,y=h.d,g=h.constructor,b=g.precision;if(h.s<1)throw Error(Ls+(h.s?"NaN":"-Infinity"));if(h.eq(qa))return new g(0);if(e==null?(Vr=!1,c=b):c=e,h.eq(10))return e==null&&(Vr=!0),w_(g,c);if(c+=p,g.precision=c,r=tl(y),n=r.charAt(0),a=Mn(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=tl(h.d),n=r.charAt(0),f++;a=Mn(h),n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return l=w_(g,c+2,b).times(a+""),h=ry(new g(n+"."+r.slice(1)),c-p).plus(l),g.precision=b,e==null?(Vr=!0,Nr(h,b)):h;for(o=s=h=pc(h.minus(qa),h.plus(qa),c),u=Nr(h.times(h),c),i=3;;){if(s=Nr(s.times(u),c),l=o.plus(pc(s,new g(i),c)),tl(l.d).slice(0,c)===tl(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(w_(g,c+2,b).times(a+""))),o=pc(o,new g(f),c),g.precision=b,e==null?(Vr=!0,Nr(o,b)):o;o=l,i+=2}}function ER(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Mm(r/Dr),t.d=[],n=(r+1)%Dr,r<0&&(n+=Dr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Dr;n<i;)t.d.push(+e.slice(n,n+=Dr));e=e.slice(n),n=Dr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Vr&&(t.e>xw||t.e<-xw))throw Error(RP+r)}else t.s=0,t.e=0,t.d=[0];return t}function Nr(t,e,r){var n,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Dr,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/Dr),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=Dr,i=n-Dr+s}if(r!==void 0&&(a=nf(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/nf(10,s-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Mn(t),f.length=1,e=e-a-1,f[0]=nf(10,(Dr-e%Dr)%Dr),t.e=Mm(-e/Dr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=nf(10,Dr-n),f[u]=i>0?(c/nf(10,s-i)%nf(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Qn&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=Qn)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Vr&&(t.e>xw||t.e<-xw))throw Error(RP+Mn(t));return t}function Kz(t,e){var r,n,i,a,s,o,l,c,u,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Vr?Nr(e,h):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/Dr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Qn-1;--l[a],l[i]+=Qn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Vr?Nr(e,h):e):new p(0)}function Gf(t,e,r){var n,i=Mn(t),a=tl(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Au(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Au(-i-1)+a,r&&(n=r-s)>0&&(a+=Au(n))):i>=s?(a+=Au(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Au(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Au(n))),t.s<0?"-"+a:a}function SR(t,e){if(t.length>e)return t.length=e,!0}function Yz(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Cf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return ER(s,a.toString())}else if(typeof a!="string")throw Error(Cf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Yge.test(a))ER(s,a);else throw Error(Cf+a)}if(i.prototype=ht,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Yz,i.config=i.set=Xge,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Xge(t){if(!t||typeof t!="object")throw Error(Ls+"Object expected");var e,r,n,i=["precision",1,Dm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Mm(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Cf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Cf+r+": "+n);return this}var LP=Yz(Kge);qa=new LP(1);const pr=LP;var Jge=t=>t,Xz={"@@functional/placeholder":!0},Jz=t=>t===Xz,AR=t=>function e(){return arguments.length===0||arguments.length===1&&Jz(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Qz=(t,e)=>t===1?e:AR(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==Xz).length;return a>=t?e(...n):Qz(t-a,AR(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=n.map(u=>Jz(u)?o.shift():u);return e(...c,...o)}))}),g2=t=>Qz(t.length,t),IN=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},Qge=g2((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),Zge=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Jge;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},jN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),Zz=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((s,o)=>{var l;return s===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,r=t(...i)),r}};function eq(t){var e;return t===0?e=1:e=Math.floor(new pr(t).abs().log(10).toNumber())+1,e}function tq(t,e,r){for(var n=new pr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}g2((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});g2((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});g2((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var rq=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},nq=(t,e,r)=>{if(t.lte(0))return new pr(0);var n=eq(t.toNumber()),i=new pr(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new pr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?new pr(l.toNumber()):new pr(Math.ceil(l.toNumber()))},e0e=(t,e,r)=>{var n=new pr(1),i=new pr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new pr(10).pow(eq(t)-1),i=new pr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new pr(Math.floor(t)))}else t===0?i=new pr(Math.floor((e-1)/2)):r||(i=new pr(Math.floor(t)));var s=Math.floor((e-1)/2),o=Zge(Qge(l=>i.add(new pr(l-s).mul(n)).toNumber()),IN);return o(0,e)},iq=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new pr(0),tickMin:new pr(0),tickMax:new pr(0)};var s=nq(new pr(r).sub(e).div(n-1),i,a),o;e<=0&&r>=0?o=new pr(0):(o=new pr(e).add(r).div(2),o=o.sub(new pr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new pr(r).sub(o).div(s).toNumber()),u=l+c+1;return u>n?iq(e,r,n,i,a+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:s,tickMin:o.sub(new pr(l).mul(s)),tickMax:o.add(new pr(c).mul(s))})};function t0e(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=rq([e,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...IN(0,n-1).map(()=>1/0)]:[...IN(0,n-1).map(()=>-1/0),o];return e>r?jN(l):l}if(s===o)return e0e(s,n,i);var{step:c,tickMin:u,tickMax:f}=iq(s,o,a,i,0),p=tq(u,f.add(new pr(.1).mul(c)),c);return e>r?jN(p):p}function r0e(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=rq([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(e,2),l=nq(new pr(s).sub(a).div(o-1),i,0),c=[...tq(new pr(a),new pr(s),l),s];return i===!1&&(c=c.map(u=>Math.round(u))),r>n?jN(c):c}var n0e=Zz(t0e),i0e=Zz(r0e),a0e=t=>t.rootProps.barCategoryGap,Oy=t=>t.rootProps.stackOffset,DP=t=>t.options.chartName,MP=t=>t.rootProps.syncId,aq=t=>t.rootProps.syncMethod,FP=t=>t.options.eventEmitter,Ql={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Ua={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},y2=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},s0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ql.angleAxisId,includeHidden:!1,name:void 0,reversed:Ql.reversed,scale:Ql.scale,tick:Ql.tick,tickCount:void 0,ticks:void 0,type:Ql.type,unit:void 0},o0e={allowDataOverflow:Ua.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ua.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ua.scale,tick:Ua.tick,tickCount:Ua.tickCount,ticks:void 0,type:Ua.type,unit:void 0},l0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ql.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ql.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ql.scale,tick:Ql.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},c0e={allowDataOverflow:Ua.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ua.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ua.scale,tick:Ua.tick,tickCount:Ua.tickCount,ticks:void 0,type:"category",unit:void 0},BP=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?l0e:s0e,$P=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?c0e:o0e,v2=t=>t.polarOptions,UP=$e([Oc,Rc,ri],MV),sq=$e([v2,UP],(t,e)=>{if(t!=null)return Ps(t.innerRadius,e,0)}),oq=$e([v2,UP],(t,e)=>{if(t!=null)return Ps(t.outerRadius,e,e*.8)}),u0e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},lq=$e([v2],u0e);$e([BP,lq],y2);var cq=$e([UP,sq,oq],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});$e([$P,cq],y2);var d0e=$e([Br,v2,sq,oq,Oc,Rc],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=e;return{cx:Ps(s,i,i/2),cy:Ps(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),vn=(t,e)=>e,Ry=(t,e,r)=>r;function NR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(r),!0).forEach(function(n){f0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f0e(t,e,r){return(e=h0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h0e(t){var e=p0e(t,"string");return typeof e=="symbol"?e:e+""}function p0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ON=[0,"auto"],Fa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Dc=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??Fa},Ba={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ON,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:s2},Sd=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??Ba},m0e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},VP=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??m0e},bn=(t,e,r)=>{switch(e){case"xAxis":return Dc(t,r);case"yAxis":return Sd(t,r);case"zAxis":return VP(t,r);case"angleAxis":return BP(t,r);case"radiusAxis":return $P(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},g0e=(t,e,r)=>{switch(e){case"xAxis":return Dc(t,r);case"yAxis":return Sd(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Ly=(t,e,r)=>{switch(e){case"xAxis":return Dc(t,r);case"yAxis":return Sd(t,r);case"angleAxis":return BP(t,r);case"radiusAxis":return $P(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},uq=t=>t.graphicalItems.countOfBars>0;function zP(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var dq=t=>t.graphicalItems.cartesianItems,y0e=$e([vn,Ry],zP),qP=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Dy=$e([dq,bn,y0e],qP),fq=t=>t.filter(e=>e.stackId===void 0),v0e=$e([Dy],fq),WP=t=>t.map(e=>e.data).filter(Boolean).flat(1),b0e=$e([Dy],WP),HP=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},b2=$e([b0e,qz],HP),GP=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:an(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:an(i,n)}))):t.map(n=>({value:n})),w2=$e([b2,bn,Dy],GP);function hq(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function lh(t){return t.filter(e=>vl(e)||e instanceof Date).map(Number).filter(e=>Os(e)===!1)}function w0e(t,e,r){return!r||typeof e!="number"||Os(e)?[]:r.length?lh(r.flatMap(n=>{var i=an(t,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!_o(a)||!_o(s)))return[e-a,e+s]})):[]}var pq=(t,e,r)=>{var n={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,l=o.map(c=>c.dataKey);return[s,{stackedData:kfe(t,l,r),graphicalItems:o}]}))},x0e=$e([b2,Dy,Oy],pq),mq=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var a=Rfe(t,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},_0e=$e([x0e,oh,vn],mq),gq=(t,e,r,n)=>r.length>0?t.flatMap(i=>r.flatMap(a=>{var s,o,l=(s=a.errorBars)===null||s===void 0?void 0:s.filter(u=>hq(n,u)),c=an(i,(o=e.dataKey)!==null&&o!==void 0?o:a.dataKey);return{value:c,errorDomain:w0e(i,c,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:an(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),E0e=$e(b2,bn,v0e,vn,gq);function S0e(t){var{value:e}=t;if(vl(e)||e instanceof Date)return e}var A0e=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=lh(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},N0e=(t,e,r)=>{var n=t.map(S0e).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&yU(n))?cz(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},KP=t=>{var e;if(t==null||!("domain"in t))return ON;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=lh(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:ON},YP=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},yq=t=>t.referenceElements.dots,Fm=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),T0e=$e([yq,vn,Ry],Fm),vq=t=>t.referenceElements.areas,P0e=$e([vq,vn,Ry],Fm),bq=t=>t.referenceElements.lines,C0e=$e([bq,vn,Ry],Fm),wq=(t,e)=>{var r=lh(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},k0e=$e(T0e,vn,wq),xq=(t,e)=>{var r=lh(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},I0e=$e([P0e,vn],xq),_q=(t,e)=>{var r=lh(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},j0e=$e(C0e,vn,_q),O0e=$e(k0e,j0e,I0e,(t,e,r)=>YP(t,r,e)),Eq=$e([bn],KP),XP=(t,e,r,n,i)=>{var a=Hge(e,t.allowDataOverflow);return a??Gge(e,YP(r,i,A0e(n)),t.allowDataOverflow)},R0e=$e([bn,Eq,_0e,E0e,O0e],XP),L0e=[0,1],JP=(t,e,r,n,i,a,s)=>{if(!(t==null||r==null||r.length===0)){var{dataKey:o,type:l}=t,c=xd(e,a);return c&&o==null?cz(0,r.length):l==="category"?N0e(n,t,c):i==="expand"?L0e:s}},QP=$e([bn,Br,b2,w2,Oy,vn,R0e],JP),Sq=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Ty(a));return o in Kg?o:"point"}}},Bm=$e([bn,Br,uq,DP,vn],Sq);function D0e(t){if(t!=null){if(t in Kg)return Kg[t]();var e="scale".concat(Ty(t));if(e in Kg)return Kg[e]()}}function ZP(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=D0e(e);if(i!=null){var a=i.domain(r).range(n);return Nfe(a),a}}}var e6=(t,e,r)=>{var n=KP(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&cm(t))return n0e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&cm(t))return i0e(t,e.tickCount,e.allowDecimals)}},t6=$e([QP,Ly,Bm],e6),r6=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&cm(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],s=e[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},M0e=$e([bn,QP,t6,vn],r6),F0e=$e(w2,bn,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(lh(t.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),Aq=$e(F0e,Br,a0e,ri,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!_o(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Ps(r,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),B0e=(t,e)=>{var r=Dc(t,e);return r==null||typeof r.padding!="string"?0:Aq(t,"xAxis",e,r.padding)},$0e=(t,e)=>{var r=Sd(t,e);return r==null||typeof r.padding!="string"?0:Aq(t,"yAxis",e,r.padding)},U0e=$e(Dc,B0e,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),V0e=$e(Sd,$0e,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),z0e=$e([ri,U0e,l2,o2,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),q0e=$e([ri,Br,V0e,l2,o2,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),My=(t,e,r,n)=>{var i;switch(e){case"xAxis":return z0e(t,r,n);case"yAxis":return q0e(t,r,n);case"zAxis":return(i=VP(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return lq(t);case"radiusAxis":return cq(t,r);default:return}},Nq=$e([bn,My],y2),$m=$e([bn,Bm,M0e,Nq],ZP);$e(Dy,vn,(t,e)=>t.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>hq(e,r)));function Tq(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var x2=(t,e)=>e,_2=(t,e,r)=>r,W0e=$e(tP,x2,_2,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Tq)),H0e=$e(rP,x2,_2,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Tq)),Pq=(t,e)=>({width:t.width,height:e.height}),G0e=(t,e)=>{var r=typeof e.width=="number"?e.width:s2;return{width:r,height:t.height}},K0e=$e(ri,Dc,Pq),Y0e=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},X0e=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},J0e=$e(Rc,ri,W0e,x2,_2,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=Pq(e,o);s==null&&(s=Y0e(e,n,t));var c=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),Q0e=$e(Oc,ri,H0e,x2,_2,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=G0e(e,o);s==null&&(s=X0e(e,n,t));var c=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),Z0e=(t,e)=>{var r=ri(t),n=Dc(t,e);if(n!=null){var i=J0e(t,n.orientation,n.mirror),a=i[e];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}},eye=(t,e)=>{var r=ri(t),n=Sd(t,e);if(n!=null){var i=Q0e(t,n.orientation,n.mirror),a=i[e];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}},tye=$e(ri,Sd,(t,e)=>{var r=typeof e.width=="number"?e.width:s2;return{width:r,height:t.height}}),Cq=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=xd(t,n),l=e.map(c=>c.value);if(s&&o&&a==="category"&&i&&yU(l))return l}},n6=$e([Br,w2,bn,vn],Cq),kq=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=xd(t,n);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},i6=$e([Br,w2,Ly,vn],kq),TR=$e([Br,g0e,Bm,$m,n6,i6,My,t6,vn],(t,e,r,n,i,a,s,o,l)=>{if(e==null)return null;var c=xd(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}),rye=(t,e,r,n,i,a,s,o,l)=>{if(!(e==null||n==null)){var c=xd(t,l),{type:u,ticks:f,tickCount:p}=e,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=u==="category"&&n.bandwidth?n.bandwidth()/h:0;y=l==="angleAxis"&&a!=null&&a.length>=2?$i(a[0]-a[1])*2*y:y;var g=f||i;if(g){var b=g.map((m,v)=>{var w=s?s.indexOf(m):m;return{index:v,coordinate:n(w)+y,value:m,offset:y}});return b.filter(m=>!Os(m.coordinate))}return c&&o?o.map((m,v)=>({coordinate:n(m)+y,value:m,index:v,offset:y})):n.ticks?n.ticks(p).map(m=>({coordinate:n(m)+y,value:m,offset:y})):n.domain().map((m,v)=>({coordinate:n(m)+y,value:s?s[m]:m,index:v,offset:y}))}},Iq=$e([Br,Ly,Bm,$m,t6,My,n6,i6,vn],rye),nye=(t,e,r,n,i,a,s)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=xd(t,s),{tickCount:l}=e,c=0;return c=s==="angleAxis"&&(n==null?void 0:n.length)>=2?$i(n[0]-n[1])*2*c:c,o&&a?a.map((u,f)=>({coordinate:r(u)+c,value:u,index:f,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,f)=>({coordinate:r(u)+c,value:i?i[u]:u,index:f,offset:c}))}},jq=$e([Br,Ly,$m,My,n6,i6,vn],nye),E2=$e(bn,$m,(t,e)=>{if(!(t==null||e==null))return _w(_w({},t),{},{scale:e})}),iye=$e([bn,Bm,QP,Nq],ZP);$e((t,e,r)=>VP(t,r),iye,(t,e)=>{if(!(t==null||e==null))return _w(_w({},t),{},{scale:e})});var aye=$e([Br,tP,rP],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Oq=t=>t.options.defaultTooltipEventType,Rq=t=>t.options.validateTooltipEventTypes;function Lq(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function a6(t,e){var r=Oq(t),n=Rq(t);return Lq(e,r,n)}function sye(t){return vt(e=>a6(e,t))}var Dq=(t,e)=>{var r,n=Number(e);if(!(Os(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},oye=t=>t.tooltip.settings,Ou={active:!1,index:null,dataKey:void 0,coordinate:void 0},lye={itemInteraction:{click:Ou,hover:Ou},axisInteraction:{click:Ou,hover:Ou},keyboardInteraction:Ou,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Mq=Fs({name:"tooltip",initialState:lye,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=hc(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:cye,removeTooltipEntrySettings:uye,setTooltipSettingsState:dye,setActiveMouseOverItemIndex:Fq,mouseLeaveItem:fye,mouseLeaveChart:Bq,setActiveClickItemIndex:hye,setMouseOverAxisIndex:$q,setMouseClickAxisIndex:pye,setSyncInteraction:RN,setKeyboardInteraction:LN}=Mq.actions,mye=Mq.reducer;function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){gye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gye(t,e,r){return(e=yye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yye(t){var e=vye(t,"string");return typeof e=="symbol"?e:e+""}function vye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bye(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function wye(t){return t.index!=null}var Uq=(t,e,r,n)=>{if(e==null)return Ou;var i=bye(t,e,r);if(i==null)return Ou;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(wye(i)){if(a)return e1(e1({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return e1(e1({},Ou),{},{coordinate:i.coordinate})},s6=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!_o(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},Vq=(t,e,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:u.coordinate}}}},zq=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Fy=t=>t.options.tooltipPayloadSearcher,Um=t=>t.tooltip;function CR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(r),!0).forEach(function(n){xye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xye(t,e,r){return(e=_ye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ye(t){var e=Eye(t,"string");return typeof e=="symbol"?e:e+""}function Eye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sye(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function Aye(t,e){return t??e}var qq=(t,e,r,n,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,f=[];return t.reduce((p,h)=>{var y,{dataDefinedOnItem:g,settings:b}=h,m=Aye(g,o),v=Sye(m,c,u),w=(y=b==null?void 0:b.dataKey)!==null&&y!==void 0?y:n==null?void 0:n.dataKey,E=b==null?void 0:b.nameKey,P;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&s==="axis"?P=vU(v,n.dataKey,i):P=a(v,e,l,E),Array.isArray(P))P.forEach(C=>{var N=kR(kR({},b),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});p.push(wO({tooltipEntrySettings:N,dataKey:C.dataKey,payload:C.payload,value:an(C.payload,C.dataKey),name:C.name}))});else{var $;p.push(wO({tooltipEntrySettings:b,dataKey:w,payload:P,value:an(P,w),name:($=an(P,E))!==null&&$!==void 0?$:b==null?void 0:b.name}))}return p},f)}},ii=t=>{var e=Br(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Vm=t=>t.tooltip.settings.axisId,xi=t=>{var e=ii(t),r=Vm(t);return Ly(t,e,r)},o6=$e([xi,Br,uq,DP,ii],Sq),Nye=$e([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Tye=$e([ii,Vm],zP),S2=$e([Nye,xi,Tye],qP),Pye=$e([S2],WP),ch=$e([Pye,oh],HP),l6=$e([ch,xi,S2],GP),Cye=$e([xi],KP),kye=$e([ch,S2,Oy],pq),Iye=$e([kye,oh,ii],mq),jye=$e([S2],fq),Oye=$e([ch,xi,jye,ii],gq),Rye=$e([yq,ii,Vm],Fm),Lye=$e([Rye,ii],wq),Dye=$e([vq,ii,Vm],Fm),Mye=$e([Dye,ii],xq),Fye=$e([bq,ii,Vm],Fm),Bye=$e([Fye,ii],_q),$ye=$e([Lye,Bye,Mye],YP),Uye=$e([xi,Cye,Iye,Oye,$ye],XP),Wq=$e([xi,Br,ch,l6,Oy,ii,Uye],JP),Vye=$e([Wq,xi,o6],e6),zye=$e([xi,Wq,Vye,ii],r6),Hq=t=>{var e=ii(t),r=Vm(t),n=!1;return My(t,e,r,n)},Gq=$e([xi,Hq],y2),Kq=$e([xi,o6,zye,Gq],ZP),qye=$e([Br,l6,xi,ii],Cq),Wye=$e([Br,l6,xi,ii],kq),Hye=(t,e,r,n,i,a,s,o)=>{if(e){var{type:l}=e,c=xd(t,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?$i(i[0]-i[1])*2*f:f,c&&s?s.map((p,h)=>({coordinate:n(p)+f,value:p,index:h,offset:f})):n.domain().map((p,h)=>({coordinate:n(p)+f,value:a?a[p]:p,index:h,offset:f}))}}},Mc=$e([Br,xi,o6,Kq,Hq,qye,Wye,ii],Hye),c6=$e([Oq,Rq,oye],(t,e,r)=>Lq(r.shared,t,e)),Yq=t=>t.tooltip.settings.trigger,u6=t=>t.tooltip.settings.defaultIndex,A2=$e([Um,c6,Yq,u6],Uq),um=$e([A2,ch],s6),Xq=$e([Mc,um],Dq),Gye=$e([A2],t=>{if(t)return t.dataKey}),Jq=$e([Um,c6,Yq,u6],zq),Kye=$e([Oc,Rc,Br,ri,Mc,u6,Jq,Fy],Vq),Yye=$e([A2,Kye],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Xye=$e([A2],t=>t.active),Jye=$e([Jq,um,oh,xi,Xq,Fy,c6],qq),Qye=$e([Jye],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){Zye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zye(t,e,r){return(e=eve(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eve(t){var e=tve(t,"string");return typeof e=="symbol"?e:e+""}function tve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rve=()=>vt(xi),nve=()=>{var t=rve(),e=vt(Mc),r=vt(Kq);return mN(jR(jR({},t),{},{scale:r}),e)},ive=()=>vt(DP),d6=(t,e)=>e,Qq=(t,e,r)=>r,f6=(t,e,r,n)=>n,ave=$e(Mc,t=>Qx(t,e=>e.coordinate)),h6=$e([Um,d6,Qq,f6],Uq),Zq=$e([h6,ch],s6),sve=(t,e,r)=>{if(e!=null){var n=Um(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},eW=$e([Um,d6,Qq,f6],zq),Ew=$e([Oc,Rc,Br,ri,Mc,f6,eW,Fy],Vq),ove=$e([h6,Ew],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),tW=$e(Mc,Zq,Dq),lve=$e([eW,Zq,oh,xi,tW,Fy,d6],qq),cve=$e([h6],t=>({isActive:t.active,activeIndex:t.index})),uve=(t,e,r,n,i,a,s,o)=>{if(!(!t||!e||!n||!i||!a)){var l=Lfe(t.chartX,t.chartY,e,r,o);if(l){var c=Mfe(l,e),u=Sfe(c,s,a,n,i),f=Dfe(e,a,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function DN(){return DN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DN.apply(null,arguments)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){dve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dve(t,e,r){return(e=fve(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fve(t){var e=hve(t,"string");return typeof e=="symbol"?e:e+""}function hve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pve(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:s,cursor:o,tooltipEventType:l,chartName:c}=t,u=e,f=r,p=n;if(!o||!u||c!=="ScatterChart"&&l!=="axis")return null;var h,y;if(c==="ScatterChart")h=u,y=Rhe;else if(c==="BarChart")h=Lhe(s,u,i,a),y=rz;else if(s==="radial"){var{cx:g,cy:b,radius:m,startAngle:v,endAngle:w}=nz(u);h={cx:g,cy:b,startAngle:v,endAngle:w,innerRadius:m,outerRadius:m},y=az}else h={points:gpe(s,u,i)},y=lP;var E=typeof o=="object"&&"className"in o?o.className:void 0,P=t1(t1(t1(t1({stroke:"#ccc",pointerEvents:"none"},i),h),er(o,!1)),{},{payload:f,payloadIndex:p,className:Zt("recharts-tooltip-cursor",E)});return I.isValidElement(o)?I.cloneElement(o,P):I.createElement(y,P)}function mve(t){var e=nve(),r=qV(),n=sP(),i=ive();return I.createElement(pve,DN({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var rW=I.createContext(null),gve=()=>I.useContext(rW),nW={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,p),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,y=new Array(h);p<h;p++)y[p]=f[p].fn;return y},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,p,h,y){var g=r?r+c:c;if(!this._events[g])return!1;var b=this._events[g],m=arguments.length,v,w;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),m){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,p),!0;case 5:return b.fn.call(b.context,u,f,p,h),!0;case 6:return b.fn.call(b.context,u,f,p,h,y),!0}for(w=1,v=new Array(m-1);w<m;w++)v[w-1]=arguments[w];b.fn.apply(b.context,v)}else{var E=b.length,P;for(w=0;w<E;w++)switch(b[w].once&&this.removeListener(c,b[w].fn,void 0,!0),m){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,u);break;case 3:b[w].fn.call(b[w].context,u,f);break;case 4:b[w].fn.call(b[w].context,u,f,p);break;default:if(!v)for(P=1,v=new Array(m-1);P<m;P++)v[P-1]=arguments[P];b[w].fn.apply(b[w].context,v)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var y=this._events[h];if(y.fn)y.fn===u&&(!p||y.once)&&(!f||y.context===f)&&s(this,h);else{for(var g=0,b=[],m=y.length;g<m;g++)(y[g].fn!==u||p&&!y[g].once||f&&y[g].context!==f)&&b.push(y[g]);b.length?this._events[h]=b.length===1?b[0]:b:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(nW);var yve=nW.exports;const vve=Eo(yve);var ny=new vve,MN="recharts.syncEvent.tooltip",RR="recharts.syncEvent.brush";function iW(t,e){if(e){var r=Number.parseInt(e,10);if(!Os(r))return t==null?void 0:t[r]}}var bve={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},aW=Fs({name:"options",initialState:bve,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wve=aW.reducer,{createEventEmitter:xve}=aW.actions;function _ve(t){return t.tooltip.syncInteraction}var Eve={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},sW=Fs({name:"chartData",initialState:Eve,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:LR,setDataStartEndIndexes:Sve,setComputedData:uTe}=sW.actions,Ave=sW.reducer,oW=()=>{};function Nve(){var t=vt(MP),e=vt(FP),r=Yr(),n=vt(aq),i=vt(Mc),a=sP(),s=nP(),o=vt(l=>l.rootProps.className);I.useEffect(()=>{if(t==null)return oW;var l=(c,u,f)=>{if(e!==f&&t===c){if(n==="index"){r(u);return}if(i!=null){var p;if(typeof n=="function"){var h={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},y=n(i,h);p=i[y]}else n==="value"&&(p=i.find($=>String($.value)===u.payload.label));var{coordinate:g}=u.payload;if(p==null||u.payload.active===!1||g==null||s==null){r(RN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:m}=g,v=Math.min(b,s.x+s.width),w=Math.min(m,s.y+s.height),E={x:a==="horizontal"?p.coordinate:v,y:a==="horizontal"?w:p.coordinate},P=RN({active:u.payload.active,coordinate:E,dataKey:u.payload.dataKey,index:String(p.index),label:u.payload.label});r(P)}}};return ny.on(MN,l),()=>{ny.off(MN,l)}},[o,r,e,t,n,i,a,s])}function Tve(){var t=vt(MP),e=vt(FP),r=Yr();I.useEffect(()=>{if(t==null)return oW;var n=(i,a,s)=>{e!==s&&t===i&&r(Sve(a))};return ny.on(RR,n),()=>{ny.off(RR,n)}},[r,e,t])}function Pve(){var t=Yr();I.useEffect(()=>{t(xve())},[t]),Nve(),Tve()}function Cve(t,e,r,n,i,a){var s=vt(p=>sve(p,t,e)),o=vt(FP),l=vt(MP),c=vt(aq),u=vt(_ve),f=u==null?void 0:u.active;I.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=RN({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n});ny.emit(MN,l,p,o)}},[f,r,s,i,n,o,l,c,a])}function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){kve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kve(t,e,r){return(e=Ive(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ive(t){var e=jve(t,"string");return typeof e=="symbol"?e:e+""}function jve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ove(t){return t.dataKey}function Rve(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(fhe,e)}var FR=[],Lve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Rm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function FN(t){var e=No(t,Lve),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:s,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:f,reverseDirection:p,useTranslate3d:h,wrapperStyle:y,cursor:g,shared:b,trigger:m,defaultIndex:v,portal:w,axisId:E}=e,P=Yr(),$=typeof v=="number"?String(v):v;I.useEffect(()=>{P(dye({shared:b,trigger:m,axisId:E,active:r,defaultIndex:$}))},[P,b,m,E,r,$]);var C=nP(),N=KV(),A=sye(b),{activeIndex:D,isActive:F}=vt(de=>cve(de,A,m,$)),S=vt(de=>lve(de,A,m,$)),O=vt(de=>tW(de,A,m,$)),k=vt(de=>ove(de,A,m,$)),ie=S,ae=gve(),Q=r??F,[se,fe]=fV([ie,Q]),we=A==="axis"?O:void 0;Cve(A,m,k,we,D,Q);var ve=w??ae;if(ve==null)return null;var M=ie??FR;Q||(M=FR),o&&M.length&&(M=eV(ie.filter(de=>de.value!=null&&(de.hide!==!0||e.includeHidden)),u,Ove));var K=M.length>0,ee=I.createElement(bhe,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:l,active:Q,coordinate:k,hasPayload:K,offset:c,position:f,reverseDirection:p,useTranslate3d:h,viewBox:C,wrapperStyle:y,lastBoundingBox:se,innerRef:fe,hasPortalFromProps:!!w},Rve(s,MR(MR({},e),{},{payload:M,label:we,active:Q,coordinate:k,accessibilityLayer:N})));return I.createElement(I.Fragment,null,l3.createPortal(ee,ve),Q&&I.createElement(mve,{cursor:g,tooltipEventType:A,coordinate:k,payload:ie,index:D}))}var lW={},cW={},uW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{c&&u(),g()};let p=null;const h=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{y(),s=void 0,o=null},b=()=>{u()},m=function(...v){if(i!=null&&i.aborted)return;s=this,o=v;const w=p==null;h(),l&&w&&u()};return m.schedule=h,m.cancel=g,m.flush=b,i==null||i.addEventListener("abort",g,{once:!0}),m}t.debounce=e})(uW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uW;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const p=e.debounce(function(...g){u=n.apply(this,g),f=null},i,{edges:c}),h=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=n.apply(this,g),f=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,g),u)},y=()=>(p.flush(),u);return h.cancel=p.cancel,h.flush=y,h}t.debounce=r})(cW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cW;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(n,i,{leading:s,maxWait:i,trailing:o})}t.throttle=r})(lW);var Dve=lW.throttle;const Mve=Eo(Dve);var p0=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){Fve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fve(t,e,r){return(e=Bve(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bve(t){var e=$ve(t,"string");return typeof e=="symbol"?e:e+""}function $ve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BN=I.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:p,onResize:h,style:y={}}=t,g=I.useRef(null),b=I.useRef();b.current=h,I.useImperativeHandle(e,()=>g.current);var[m,v]=I.useState({containerWidth:n.width,containerHeight:n.height}),w=I.useCallback((P,$)=>{v(C=>{var N=Math.round(P),A=Math.round($);return C.containerWidth===N&&C.containerHeight===A?C:{containerWidth:N,containerHeight:A}})},[]);I.useEffect(()=>{var P=A=>{var D,{width:F,height:S}=A[0].contentRect;w(F,S),(D=b.current)===null||D===void 0||D.call(b,F,S)};u>0&&(P=Mve(P,u,{trailing:!0,leading:!1}));var $=new ResizeObserver(P),{width:C,height:N}=g.current.getBoundingClientRect();return w(C,N),$.observe(g.current),()=>{$.disconnect()}},[w,u]);var E=I.useMemo(()=>{var{containerWidth:P,containerHeight:$}=m;if(P<0||$<0)return null;p0(mf(i)||mf(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),p0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=mf(i)?P:i,N=mf(a)?$:a;return r&&r>0&&(C?N=C/r:N&&(C=N*r),l&&N>l&&(N=l)),p0(C>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,N,i,a,s,o,r),I.Children.map(c,A=>I.cloneElement(A,{width:C,height:N,style:x_({width:C,height:N},A.props.style)}))},[r,c,a,l,o,s,m,i]);return I.createElement("div",{id:f?"".concat(f):void 0,className:Zt("recharts-responsive-container",p),style:x_(x_({},y),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},I.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),N2=t=>null;N2.displayName="Cell";function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $N(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){Uve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uve(t,e,r){return(e=Vve(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vve(t){var e=zve(t,"string");return typeof e=="symbol"?e:e+""}function zve(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uh={widthCache:{},cacheCount:0},qve=2e3,Wve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UR="recharts_measurement_span";function Hve(t){var e=$N({},t);return Object.keys(e).forEach(r=>{e[r]||delete e[r]}),e}var m0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rm.isSsr)return{width:0,height:0};var n=Hve(r),i=JSON.stringify({text:e,copyStyle:n});if(Uh.widthCache[i])return Uh.widthCache[i];try{var a=document.getElementById(UR);a||(a=document.createElement("span"),a.setAttribute("id",UR),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=$N($N({},Wve),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Uh.widthCache[i]=l,++Uh.cacheCount>qve&&(Uh.cacheCount=0,Uh.widthCache={}),l}catch{return{width:0,height:0}}},VR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Yve=Object.keys(dW),pp="NaN";function Xve(t,e){return t*dW[e]}class fa{static parse(e){var r,[,n,i]=(r=Kve.exec(e))!==null&&r!==void 0?r:[];return new fa(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Os(e)&&(this.unit=""),r!==""&&!Gve.test(r)&&(this.num=NaN,this.unit=""),Yve.includes(r)&&(this.num=Xve(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new fa(NaN,""):new fa(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new fa(NaN,""):new fa(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fa(NaN,""):new fa(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fa(NaN,""):new fa(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Os(this.num)}}function fW(t){if(t.includes(pp))return pp;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=VR.exec(e))!==null&&r!==void 0?r:[],s=fa.parse(n??""),o=fa.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return pp;e=e.replace(VR,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,f,p]=(c=zR.exec(e))!==null&&c!==void 0?c:[],h=fa.parse(u??""),y=fa.parse(p??""),g=f==="+"?h.add(y):h.subtract(y);if(g.isNaN())return pp;e=e.replace(zR,g.toString())}return e}var qR=/\(([^()]*)\)/;function Jve(t){for(var e=t,r;(r=qR.exec(e))!=null;){var[,n]=r;e=e.replace(qR,fW(n))}return e}function Qve(t){var e=t.replace(/\s+/g,"");return e=Jve(e),e=fW(e),e}function Zve(t){try{return Qve(t)}catch{return pp}}function __(t){var e=Zve(t.slice(5,-1));return e===pp?"":e}var e1e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],t1e=["dx","dy","angle","className","breakAll"];function UN(){return UN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UN.apply(null,arguments)}function WR(t,e){if(t==null)return{};var r,n,i=r1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function r1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hW=/[ \f\n\r\t\v\u2028\u2029]+/,pW=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];yn(e)||(r?i=e.toString().split(""):i=e.toString().split(hW));var a=i.map(o=>({word:o,width:m0(o,n).width})),s=r?0:m0(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},n1e=(t,e,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=t,c=yt(a),u=s,f=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((S,O)=>{var{word:k,width:ie}=O,ae=S[S.length-1];if(ae&&(n==null||i||ae.width+ie+r<Number(n)))ae.words.push(k),ae.width+=ie+r;else{var Q={words:[k],width:ie};S.push(Q)}return S},[])},p=f(e),h=D=>D.reduce((F,S)=>F.width>S.width?F:S);if(!c||i)return p;var y=p.length>a||h(p).width>Number(n);if(!y)return p;for(var g="…",b=D=>{var F=u.slice(0,D),S=pW({breakAll:l,style:o,children:F+g}).wordsWithComputedWidth,O=f(S),k=O.length>a||h(O).width>Number(n);return[k,O]},m=0,v=u.length-1,w=0,E;m<=v&&w<=u.length-1;){var P=Math.floor((m+v)/2),$=P-1,[C,N]=b($),[A]=b(P);if(!C&&!A&&(m=P+1),C&&A&&(v=P-1),!C&&A){E=N;break}w++}return E||p},HR=t=>{var e=yn(t)?[]:t.toString().split(hW);return[{words:e}]},i1e=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=t;if((e||r)&&!Rm.isSsr){var o,l,c=pW({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return HR(n);return n1e({breakAll:a,children:n,maxLines:s,style:i},o,l,e,r)}return HR(n)},GR="#808080",T2=I.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=GR}=t,u=WR(t,e1e),f=I.useMemo(()=>i1e({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:s,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,s,u.style,u.width]),{dx:p,dy:h,angle:y,className:g,breakAll:b}=u,m=WR(u,t1e);if(!vl(r)||!vl(n))return null;var v=r+(yt(p)?p:0),w=n+(yt(h)?h:0),E;switch(l){case"start":E=__("calc(".concat(a,")"));break;case"middle":E=__("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:E=__("calc(".concat(f.length-1," * -").concat(i,")"));break}var P=[];if(s){var $=f[0].width,{width:C}=u;P.push("scale(".concat(yt(C)?C/$:1,")"))}return y&&P.push("rotate(".concat(y,", ").concat(v,", ").concat(w,")")),P.length&&(m.transform=P.join(" ")),I.createElement("text",UN({},er(m,!0),{ref:e,x:v,y:w,className:Zt("recharts-text",g),textAnchor:o,fill:c.includes("url")?GR:c}),f.map((N,A)=>{var D=N.words.join(b?"":" ");return I.createElement("tspan",{x:v,dy:A===0?E:i,key:"".concat(D,"-").concat(A)},D)}))});T2.displayName="Text";var a1e=["offset"],s1e=["labelRef"];function KR(t,e){if(t==null)return{};var r,n,i=o1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function o1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){l1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l1e(t,e,r){return(e=c1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c1e(t){var e=u1e(t,"string");return typeof e=="symbol"?e:e+""}function u1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zl.apply(null,arguments)}var d1e=t=>{var{value:e,formatter:r}=t,n=yn(t.children)?e:t.children;return typeof r=="function"?r(n):n},p6=t=>t!=null&&typeof t=="function",f1e=(t,e)=>{var r=$i(e-t),n=Math.min(Math.abs(e-t),360);return r*n},h1e=(t,e,r)=>{var{position:n,viewBox:i,offset:a,className:s}=t,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:p,clockWise:h}=i,y=(c+u)/2,g=f1e(f,p),b=g>=0?1:-1,m,v;n==="insideStart"?(m=f+b*a,v=h):n==="insideEnd"?(m=p-b*a,v=!h):n==="end"&&(m=p+b*a,v=h),v=g<=0?v:!v;var w=Dn(o,l,y,m),E=Dn(o,l,y,m+(v?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(v?0:1,`,
    `).concat(E.x,",").concat(E.y),$=yn(t.id)?em("recharts-radial-line-"):t.id;return I.createElement("text",Zl({},r,{dominantBaseline:"central",className:Zt("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:$,d:P})),I.createElement("textPath",{xlinkHref:"#".concat($)},e))},p1e=t=>{var{viewBox:e,offset:r,position:n}=t,{cx:i,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(n==="outside"){var{x:f,y:p}=Dn(i,a,o+r,u);return{x:f,y:p,textAnchor:f>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+o)/2,{x:y,y:g}=Dn(i,a,h,u);return{x:y,y:g,textAnchor:"middle",verticalAnchor:"middle"}},m1e=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:a,y:s,width:o,height:l}=e,c=l>=0?1:-1,u=c*n,f=c>0?"end":"start",p=c>0?"start":"end",h=o>=0?1:-1,y=h*n,g=h>0?"end":"start",b=h>0?"start":"end";if(i==="top"){var m={x:a+o/2,y:s-c*n,textAnchor:"middle",verticalAnchor:f};return Cn(Cn({},m),r?{height:Math.max(s-r.y,0),width:o}:{})}if(i==="bottom"){var v={x:a+o/2,y:s+l+u,textAnchor:"middle",verticalAnchor:p};return Cn(Cn({},v),r?{height:Math.max(r.y+r.height-(s+l),0),width:o}:{})}if(i==="left"){var w={x:a-y,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return Cn(Cn({},w),r?{width:Math.max(w.x-r.x,0),height:l}:{})}if(i==="right"){var E={x:a+o+y,y:s+l/2,textAnchor:b,verticalAnchor:"middle"};return Cn(Cn({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:l}:{})}var P=r?{width:o,height:l}:{};return i==="insideLeft"?Cn({x:a+y,y:s+l/2,textAnchor:b,verticalAnchor:"middle"},P):i==="insideRight"?Cn({x:a+o-y,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},P):i==="insideTop"?Cn({x:a+o/2,y:s+u,textAnchor:"middle",verticalAnchor:p},P):i==="insideBottom"?Cn({x:a+o/2,y:s+l-u,textAnchor:"middle",verticalAnchor:f},P):i==="insideTopLeft"?Cn({x:a+y,y:s+u,textAnchor:b,verticalAnchor:p},P):i==="insideTopRight"?Cn({x:a+o-y,y:s+u,textAnchor:g,verticalAnchor:p},P):i==="insideBottomLeft"?Cn({x:a+y,y:s+l-u,textAnchor:b,verticalAnchor:f},P):i==="insideBottomRight"?Cn({x:a+o-y,y:s+l-u,textAnchor:g,verticalAnchor:f},P):i&&typeof i=="object"&&(yt(i.x)||mf(i.x))&&(yt(i.y)||mf(i.y))?Cn({x:a+Ps(i.x,o),y:s+Ps(i.y,l),textAnchor:"end",verticalAnchor:"end"},P):Cn({x:a+o/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},P)},g1e=t=>"cx"in t&&yt(t.cx);function za(t){var{offset:e=5}=t,r=KR(t,a1e),n=Cn({offset:e},r),{viewBox:i,position:a,value:s,children:o,content:l,className:c="",textBreakAll:u,labelRef:f}=n,p=nP(),h=i||p;if(!h||yn(s)&&yn(o)&&!I.isValidElement(l)&&typeof l!="function")return null;if(I.isValidElement(l)){var y=KR(n,s1e);return I.cloneElement(l,y)}var g;if(typeof l=="function"){if(g=I.createElement(l,n),I.isValidElement(g))return g}else g=d1e(n);var b=g1e(h),m=er(n,!0);if(b&&(a==="insideStart"||a==="insideEnd"||a==="end"))return h1e(n,g,m);var v=b?p1e(n):m1e(n,h);return I.createElement(T2,Zl({ref:f,className:Zt("recharts-label",c)},m,v,{breakAll:u}),g)}za.displayName="Label";var mW=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:a,r:s,radius:o,innerRadius:l,outerRadius:c,x:u,y:f,top:p,left:h,width:y,height:g,clockWise:b,labelViewBox:m}=t;if(m)return m;if(yt(y)&&yt(g)){if(yt(u)&&yt(f))return{x:u,y:f,width:y,height:g};if(yt(p)&&yt(h))return{x:p,y:h,width:y,height:g}}if(yt(u)&&yt(f))return{x:u,y:f,width:0,height:0};if(yt(e)&&yt(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:a||n||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:b};if(t.viewBox)return t.viewBox},y1e=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?I.createElement(za,Zl({key:"label-implicit"},n)):vl(t)?I.createElement(za,Zl({key:"label-implicit",value:t},n)):I.isValidElement(t)?t.type===za?I.cloneElement(t,Cn({key:"label-implicit"},n)):I.createElement(za,Zl({key:"label-implicit",content:t},n)):p6(t)?I.createElement(za,Zl({key:"label-implicit",content:t},n)):t&&typeof t=="object"?I.createElement(za,Zl({},t,{key:"label-implicit"},n)):null},v1e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:a}=e,s=mW(e),o=zx(i,za).map((c,u)=>I.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)}));if(!n)return o;var l=y1e(e.label,r||s,a);return[l,...o]};za.parseViewBox=mW;za.renderCallByParent=v1e;var gW={},yW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(yW);var vW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(vW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yW,r=vW,n=Gx;function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(gW);var b1e=gW.last;const w1e=Eo(b1e);var x1e=["valueAccessor"],_1e=["data","dataKey","clockWise","id","textBreakAll"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sw.apply(null,arguments)}function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){E1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E1e(t,e,r){return(e=S1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S1e(t){var e=A1e(t,"string");return typeof e=="symbol"?e:e+""}function A1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QR(t,e){if(t==null)return{};var r,n,i=N1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function N1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var T1e=t=>Array.isArray(t.value)?w1e(t.value):t.value;function kf(t){var{valueAccessor:e=T1e}=t,r=QR(t,x1e),{data:n,dataKey:i,clockWise:a,id:s,textBreakAll:o}=r,l=QR(r,_1e);return!n||!n.length?null:I.createElement(Ea,{className:"recharts-label-list"},n.map((c,u)=>{var f=yn(i)?e(c,u):an(c&&c.payload,i),p=yn(s)?{}:{id:"".concat(s,"-").concat(u)};return I.createElement(za,Sw({},er(c,!0),l,p,{parentViewBox:c.parentViewBox,value:f,textBreakAll:o,viewBox:za.parseViewBox(yn(a)?c:JR(JR({},c),{},{clockWise:a})),key:"label-".concat(u),index:u}))}))}kf.displayName="LabelList";function P1e(t,e){return t?t===!0?I.createElement(kf,{key:"labelList-implicit",data:e}):I.isValidElement(t)||p6(t)?I.createElement(kf,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?I.createElement(kf,Sw({data:e},t,{key:"labelList-implicit"})):null:null}function C1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=zx(n,kf).map((s,o)=>I.cloneElement(s,{data:e,key:"labelList-".concat(o)}));if(!r)return i;var a=P1e(t.label,e);return[a,...i]}kf.renderCallByParent=C1e;function VN(){return VN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VN.apply(null,arguments)}var bW=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=Zt("recharts-dot",i);return e===+e&&r===+r&&n===+n?I.createElement("circle",VN({},er(t,!1),IT(t),{className:a,cx:e,cy:r,r:n})):null},wW=t=>t.graphicalItems.polarItems,k1e=$e([vn,Ry],zP),m6=$e([wW,bn,k1e],qP),I1e=$e([m6],WP),g6=$e([I1e,OP],HP),j1e=$e([g6,bn,m6],GP),O1e=$e([g6,bn,m6],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,s=an(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:an(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),ZR=()=>{},R1e=$e([bn,Eq,ZR,O1e,ZR],XP),xW=$e([bn,Br,g6,j1e,Oy,vn,R1e],JP),L1e=$e([xW,bn,Bm],e6);$e([bn,xW,L1e,vn],r6);var D1e={radiusAxis:{},angleAxis:{}},M1e=Fs({name:"polarAxis",initialState:D1e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),F1e=M1e.reducer;function eL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(r),!0).forEach(function(n){B1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B1e(t,e,r){return(e=$1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $1e(t){var e=U1e(t,"string");return typeof e=="symbol"?e:e+""}function U1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y6=(t,e)=>e,V1e=[],v6=(t,e,r)=>(r==null?void 0:r.length)===0?V1e:r,_W=$e([OP,y6,v6],(t,e,r)=>{var{chartData:n}=t,i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>tL(tL({},e.presentationProps),a.props))),i!=null)return i}),z1e=$e([_W,y6,v6],(t,e,r)=>{if(t!=null)return t.map((n,i)=>{var a,s=an(n,e.nameKey,e.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:a2(s,e.dataKey),color:o,payload:n,type:e.legendType}})}),q1e=$e([wW,y6],(t,e)=>{if(t.some(r=>r.type==="pie"&&e.dataKey===r.dataKey&&e.data===r.data))return e}),W1e=$e([_W,q1e,v6,ri],(t,e,r,n)=>{if(!(e==null||t==null))return Mbe({offset:n,pieSettings:e,displayedData:t,cells:r})}),H1e={countOfBars:0,cartesianItems:[],polarItems:[]},EW=Fs({name:"graphicalItems",initialState:H1e,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=hc(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=hc(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=hc(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addBar:dTe,removeBar:fTe,addCartesianGraphicalItem:G1e,replaceCartesianGraphicalItem:K1e,removeCartesianGraphicalItem:Y1e,addPolarGraphicalItem:X1e,removePolarGraphicalItem:J1e}=EW.actions,Q1e=EW.reducer;function rL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(r),!0).forEach(function(n){Z1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z1e(t,e,r){return(e=ebe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ebe(t){var e=tbe(t,"string");return typeof e=="symbol"?e:e+""}function tbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rbe(t){var e=Yr(),r=I.useRef(null);return I.useEffect(()=>{var n=nL(nL({},t),{},{stackId:Ife(t.stackId)});r.current===null?e(G1e(n)):r.current!==n&&e(K1e({prev:r.current,next:n})),r.current=n},[e,t]),I.useEffect(()=>()=>{r.current&&(e(Y1e(r.current)),r.current=null)},[e]),null}function nbe(t){var e=Yr();return I.useEffect(()=>(e(X1e(t)),()=>{e(J1e(t))}),[e,t]),null}var SW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(SW);var ibe=SW.isPlainObject;const abe=Eo(ibe);function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aw.apply(null,arguments)}var iL=(t,e,r,n,i)=>{var a=r-n,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+r,",").concat(e),s+="L ".concat(t+r-a/2,",").concat(e+i),s+="L ".concat(t+r-a/2-n,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},sbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},obe=t=>{var e=No(t,sbe),r=I.useRef(),[n,i]=I.useState(-1);I.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&i(b)}catch{}},[]);var{x:a,y:s,upperWidth:o,lowerWidth:l,height:c,className:u}=e,{animationEasing:f,animationDuration:p,animationBegin:h,isUpdateAnimationActive:y}=e;if(a!==+a||s!==+s||o!==+o||l!==+l||c!==+c||o===0&&l===0||c===0)return null;var g=Zt("recharts-trapezoid",u);return y?I.createElement(Hf,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:c,x:a,y:s},to:{upperWidth:o,lowerWidth:l,height:c,x:a,y:s},duration:p,animationEasing:f,isActive:y},b=>{var{upperWidth:m,lowerWidth:v,height:w,x:E,y:P}=b;return I.createElement(Hf,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,easing:f},I.createElement("path",Aw({},er(e,!0),{className:g,d:iL(E,P,m,v,w),ref:r})))}):I.createElement("g",null,I.createElement("path",Aw({},er(e,!0),{className:g,d:iL(a,s,o,l,c)})))},lbe=["option","shapeType","propTransformer","activeClassName","isActive"];function cbe(t,e){if(t==null)return{};var r,n,i=ube(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ube(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function aL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(r),!0).forEach(function(n){dbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dbe(t,e,r){return(e=fbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fbe(t){var e=hbe(t,"string");return typeof e=="symbol"?e:e+""}function hbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pbe(t,e){return Nw(Nw({},e),t)}function mbe(t,e){return t==="symbols"}function sL(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return I.createElement(rz,r);case"trapezoid":return I.createElement(obe,r);case"sector":return I.createElement(az,r);case"symbols":if(mbe(e))return I.createElement(MT,r);break;default:return null}}function gbe(t){return I.isValidElement(t)?t.props:t}function ybe(t){var{option:e,shapeType:r,propTransformer:n=pbe,activeClassName:i="recharts-active-shape",isActive:a}=t,s=cbe(t,lbe),o;if(I.isValidElement(e))o=I.cloneElement(e,Nw(Nw({},s),gbe(e)));else if(typeof e=="function")o=e(s);else if(abe(e)&&typeof e!="boolean"){var l=n(e,s);o=I.createElement(sL,{shapeType:r,elementProps:l})}else{var c=s;o=I.createElement(sL,{shapeType:r,elementProps:c})}return a?I.createElement(Ea,{className:i},o):o}var vbe=(t,e)=>{var r=Yr();return(n,i)=>a=>{t==null||t(n,i,a),r(Fq({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},bbe=t=>{var e=Yr();return(r,n)=>i=>{t==null||t(r,n,i),e(fye())}},wbe=(t,e)=>{var r=Yr();return(n,i)=>a=>{t==null||t(n,i,a),r(hye({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function AW(t){var{fn:e,args:r}=t,n=Yr(),i=Na();return I.useEffect(()=>{if(!i){var a=e(r);return n(cye(a)),()=>{n(uye(a))}}},[e,r,n,i]),null}var NW=()=>{};function xbe(t){var{legendPayload:e}=t,r=Yr(),n=Na();return I.useEffect(()=>n?NW:(r(HV(e)),()=>{r(GV(e))}),[r,n,e]),null}function _be(t){var{legendPayload:e}=t,r=Yr(),n=vt(Br);return I.useEffect(()=>n!=="centric"&&n!=="radial"?NW:(r(HV(e)),()=>{r(GV(e))}),[r,n,e]),null}function TW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=I.useRef(em(e)),n=I.useRef(t);return n.current!==t&&(r.current=em(e),n.current=t),r.current}var Ebe=["onMouseEnter","onClick","onMouseLeave"];function Sbe(t,e){if(t==null)return{};var r,n,i=Abe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Abe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function oL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(r),!0).forEach(function(n){P2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P2(t,e,r){return(e=Nbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nbe(t){var e=Tbe(t,"string");return typeof e=="symbol"?e:e+""}function Tbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kf.apply(null,arguments)}function Pbe(t){var e=I.useMemo(()=>er(t,!1),[t]),r=I.useMemo(()=>zx(t.children,N2),[t.children]),n=I.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),i=vt(a=>z1e(a,n,r));return I.createElement(_be,{legendPayload:i})}function Cbe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:r,name:a2(o,e),hide:l,type:c,color:s,unit:""}}}var kbe=(t,e)=>t>e?"start":t<e?"end":"middle",Ibe=(t,e,r)=>typeof e=="function"?e(t):Ps(e,r,r*.8),jbe=(t,e,r)=>{var{top:n,left:i,width:a,height:s}=e,o=MV(a,s),l=i+Ps(t.cx,a,a/2),c=n+Ps(t.cy,s,s/2),u=Ps(t.innerRadius,o,0),f=Ibe(r,t.outerRadius,o),p=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:p}},Obe=(t,e)=>{var r=$i(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Rbe=(t,e)=>{if(I.isValidElement(t))return I.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Zt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return I.createElement(lP,Kf({},e,{type:"linear",className:r}))},Lbe=(t,e,r)=>{if(I.isValidElement(t))return I.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),I.isValidElement(n)))return n;var i=Zt("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return I.createElement(T2,Kf({},e,{alignmentBaseline:"middle",className:i}),n)};function Dbe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!e)return null;var o=er(r,!1),l=er(i,!1),c=er(a,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=e.map((p,h)=>{var y=(p.startAngle+p.endAngle)/2,g=Dn(p.cx,p.cy,p.outerRadius+u,y),b=nn(nn(nn(nn({},o),p),{},{stroke:"none"},l),{},{index:h,textAnchor:kbe(g.x,p.cx)},g),m=nn(nn(nn(nn({},o),p),{},{fill:"none",stroke:p.fill},c),{},{index:h,points:[Dn(p.cx,p.cy,p.outerRadius,y),g],key:"line"});return I.createElement(Ea,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(h)},a&&Rbe(a,m),Lbe(i,b,an(p,s)))});return I.createElement(Ea,{className:"recharts-pie-labels"},f)}function PW(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:a}=t,s=vt(um),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,u=Sbe(i,Ebe),f=vbe(o,i.dataKey),p=bbe(c),h=wbe(l,i.dataKey);return e==null?null:I.createElement(I.Fragment,null,e.map((y,g)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&e.length!==1)return null;var b=r&&String(g)===s,m=s?n:null,v=b?r:m,w=nn(nn({},y),{},{stroke:y.stroke,tabIndex:-1,[UV]:g,[VV]:i.dataKey});return I.createElement(Ea,Kf({tabIndex:-1,className:"recharts-pie-sector"},jT(u,y,g),{onMouseEnter:f(y,g),onMouseLeave:p(y,g),onClick:h(y,g),key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(g)}),I.createElement(ybe,Kf({option:v,isActive:b,shapeType:"sector"},w)))}),I.createElement(Dbe,{sectors:e,props:i,showLabels:a}))}function Mbe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=r,p=Math.abs(r.minAngle),h=Obe(o,l),y=Math.abs(h),g=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,b=n.filter($=>an($,c,0)!==0).length,m=(y>=360?b:b-1)*g,v=y-b*p-m,w=n.reduce(($,C)=>{var N=an(C,c,0);return $+(yt(N)?N:0)},0),E;if(w>0){var P;E=n.map(($,C)=>{var N=an($,c,0),A=an($,u,C),D=jbe(r,a,$),F=(yt(N)?N:0)/w,S,O=nn(nn({},$),i&&i[C]&&i[C].props);C?S=P.endAngle+$i(h)*g*(N!==0?1:0):S=o;var k=S+$i(h)*((N!==0?p:0)+F*v),ie=(S+k)/2,ae=(D.innerRadius+D.outerRadius)/2,Q=[{name:A,value:N,payload:O,dataKey:c,type:f}],se=Dn(D.cx,D.cy,ae,ie);return P=nn(nn(nn(nn({},r.presentationProps),{},{percent:F,cornerRadius:s,name:A,tooltipPayload:Q,midAngle:ie,middleRadius:ae,tooltipPosition:se},O),D),{},{value:an($,c),startAngle:S,endAngle:k,payload:O,paddingAngle:$i(h)*g}),P})}return E}function Fbe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=e,p=TW(e,"recharts-pie-"),h=r.current,[y,g]=I.useState(!0),b=I.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),m=I.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return I.createElement(Hf,{begin:a,duration:s,isActive:i,easing:o,from:{t:0},to:{t:1},onAnimationStart:m,onAnimationEnd:b,key:p},v=>{var{t:w}=v,E=[],P=n&&n[0],$=P.startAngle;return n.forEach((C,N)=>{var A=h&&h[N],D=N>0?ld(C,"paddingAngle",0):0;if(A){var F=of(A.endAngle-A.startAngle,C.endAngle-C.startAngle),S=nn(nn({},C),{},{startAngle:$+D,endAngle:$+F(w)+D});E.push(S),$=S.endAngle}else{var{endAngle:O,startAngle:k}=C,ie=of(0,O-k),ae=ie(w),Q=nn(nn({},C),{},{startAngle:$+D,endAngle:$+ae+D});E.push(Q),$=Q.endAngle}}),r.current=E,I.createElement(Ea,null,I.createElement(PW,{sectors:E,activeShape:l,inactiveShape:c,allOtherPieProps:e,showLabels:!y}))})}function Bbe(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,a=I.useRef(null),s=a.current;return r&&e&&e.length&&(!s||s!==e)?I.createElement(Fbe,{props:t,previousSectorsRef:a}):I.createElement(PW,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function $be(t){var{hide:e,className:r,rootTabIndex:n}=t,i=Zt("recharts-pie",r);return e?null:I.createElement(Ea,{tabIndex:n,className:i},I.createElement(Bbe,t))}var CW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Rm.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Ube(t){var e=No(t,CW),r=I.useMemo(()=>zx(t.children,N2),[t.children]),n=er(e,!1),i=I.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:n}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,n]),a=vt(s=>W1e(s,i,r));return I.createElement(I.Fragment,null,I.createElement(AW,{fn:Cbe,args:nn(nn({},e),{},{sectors:a})}),I.createElement($be,Kf({},e,{sectors:a})))}class b6 extends I.PureComponent{constructor(){super(...arguments),P2(this,"id",em("recharts-pie-"))}render(){return I.createElement(I.Fragment,null,I.createElement(nbe,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),I.createElement(Pbe,this.props),I.createElement(Ube,this.props),this.props.children)}}P2(b6,"displayName","Pie");P2(b6,"defaultProps",CW);var Vbe=$e([ri],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),zbe=$e([Vbe,Oc,Rc],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),qbe=t=>{var e=Na();return vt(r=>E2(r,"xAxis",t,e))},Wbe=t=>{var e=Na();return vt(r=>E2(r,"yAxis",t,e))},w6=()=>vt(zbe),Hbe=()=>vt(Qye);function lL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(r),!0).forEach(function(n){Gbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gbe(t,e,r){return(e=Kbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kbe(t){var e=Ybe(t,"string");return typeof e=="symbol"?e:e+""}function Ybe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xbe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var s=cL(cL({index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},er(i,!1)),IT(i)),o;return I.isValidElement(i)?o=I.cloneElement(i,s):typeof i=="function"?o=i(s):o=I.createElement(bW,s),I.createElement(Ea,{className:"recharts-active-dot"},o)};function Jbe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,a=vt(um),s=Hbe();if(e==null||s==null)return null;var o=e.find(l=>s.includes(l.payload));return yn(o)?null:Xbe({point:o,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var Qbe=["children"];function Zbe(t,e){if(t==null)return{};var r,n,i=ewe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ewe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var uL=()=>{},kW=I.createContext({addErrorBar:uL,removeErrorBar:uL}),twe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},IW=I.createContext(twe);function rwe(t){var{children:e}=t,r=Zbe(t,Qbe);return I.createElement(IW.Provider,{value:r},e)}var nwe=()=>I.useContext(IW),iwe=t=>{var{children:e,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,data:s,stackId:o,hide:l,type:c,barSize:u}=t,[f,p]=I.useState([]),h=I.useCallback(b=>{p(m=>[...m,b])},[p]),y=I.useCallback(b=>{p(m=>m.filter(v=>v!==b))},[p]),g=Na();return I.createElement(kW.Provider,{value:{addErrorBar:h,removeErrorBar:y}},I.createElement(rbe,{type:c,data:s,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:a,errorBars:f,stackId:o,hide:l,barSize:u,isPanorama:g}),e)};function awe(t){var{addErrorBar:e,removeErrorBar:r}=I.useContext(kW);return I.useEffect(()=>(e(t),()=>{r(t)}),[e,r,t]),null}var swe=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function jW(t,e,r){return(e=owe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function owe(t){var e=lwe(t,"string");return typeof e=="symbol"?e:e+""}function lwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iy.apply(null,arguments)}function cwe(t,e){if(t==null)return{};var r,n,i=uwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function uwe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function dwe(t){var{direction:e,width:r,dataKey:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o}=t,l=cwe(t,swe),c=er(l,!1),{data:u,dataPointFormatter:f,xAxisId:p,yAxisId:h,errorBarOffset:y}=nwe(),g=qbe(p),b=Wbe(h);if((g==null?void 0:g.scale)==null||(b==null?void 0:b.scale)==null||u==null||e==="x"&&g.type!=="number")return null;var m=u.map(v=>{var{x:w,y:E,value:P,errorVal:$}=f(v,n,e);if(!$)return null;var C=[],N,A;if(Array.isArray($)?[N,A]=$:N=A=$,e==="x"){var{scale:D}=g,F=E+y,S=F+r,O=F-r,k=D(P-N),ie=D(P+A);C.push({x1:ie,y1:S,x2:ie,y2:O}),C.push({x1:k,y1:F,x2:ie,y2:F}),C.push({x1:k,y1:S,x2:k,y2:O})}else if(e==="y"){var{scale:ae}=b,Q=w+y,se=Q-r,fe=Q+r,we=ae(P-N),ve=ae(P+A);C.push({x1:se,y1:ve,x2:fe,y2:ve}),C.push({x1:Q,y1:we,x2:Q,y2:ve}),C.push({x1:se,y1:we,x2:fe,y2:we})}var M="".concat(w+y,"px ").concat(E+y,"px");return I.createElement(Ea,iy({className:"recharts-errorBar",key:"bar-".concat(C.map(K=>"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)))},c),C.map(K=>{var ee=i?{transformOrigin:"".concat(K.x1-5,"px")}:void 0;return I.createElement(Hf,{from:{transform:"scaleY(0)",transformOrigin:M},to:{transform:"scaleY(1)",transformOrigin:M},begin:a,easing:o,isActive:i,duration:s,key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2),style:{transformOrigin:M}},I.createElement("line",iy({},K,{style:ee})))}))});return I.createElement(Ea,{className:"recharts-errorBars"},m)}var OW=I.createContext(void 0);function fwe(t){var e=I.useContext(OW);return t??e??"x"}function hwe(t){var{direction:e,children:r}=t;return I.createElement(OW.Provider,{value:e},r)}var RW={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function pwe(t){var e=fwe(t.direction),{width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:s}=No(t,RW);return I.createElement(I.Fragment,null,I.createElement(awe,{dataKey:t.dataKey,direction:e}),I.createElement(dwe,iy({},t,{direction:e,width:r,isAnimationActive:n,animationBegin:i,animationDuration:a,animationEasing:s})))}class LW extends I.Component{render(){return I.createElement(pwe,this.props)}}jW(LW,"defaultProps",RW);jW(LW,"displayName","ErrorBar");function DW(t,e){var r,n,i=vt(c=>Dc(c,t)),a=vt(c=>Sd(c,e)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Fa.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Ba.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function mwe(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=w6(),{needClipX:a,needClipY:s,needClip:o}=DW(e,r);if(!o)return null;var{x:l,y:c,width:u,height:f}=i;return I.createElement("clipPath",{id:"clipPath-".concat(n)},I.createElement("rect",{x:a?l:l-u/2,y:s?c:c-f/2,width:a?u:u*2,height:s?f:f*2}))}var MW=t=>{var{chartData:e}=t,r=Yr(),n=Na();return I.useEffect(()=>n?()=>{}:(r(LR(e)),()=>{r(LR(void 0))}),[e,r,n]),null},dL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gwe=Fs({name:"brush",initialState:dL,reducers:{setBrushSettings(t,e){return e.payload==null?dL:e.payload}}}),ywe=gwe.reducer;function vwe(t,e,r){return(e=bwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bwe(t){var e=wwe(t,"string");return typeof e=="symbol"?e:e+""}function wwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class x6{static create(e){return new x6(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}vwe(x6,"EPS",1e-4);function xwe(t){return(t%180+180)%180}var _we=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=xwe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Ewe={dots:[],areas:[],lines:[]},Swe=Fs({name:"referenceElements",initialState:Ewe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=hc(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=hc(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=hc(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),Awe=Swe.reducer,Nwe=I.createContext(void 0),Twe=t=>{var{children:e}=t,[r]=I.useState("".concat(em("recharts"),"-clip")),n=w6();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return I.createElement(Nwe.Provider,{value:r},I.createElement("defs",null,I.createElement("clipPath",{id:r},I.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function E_(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function FW(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Pwe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return _we(n,r)}function Cwe(t,e,r){var n=r==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Tw(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function kwe(t,e){return FW(t,e+1)}function Iwe(t,e,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=e,l=0,c=1,u=s,f=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:FW(n,c)};var g=l,b,m=()=>(b===void 0&&(b=r(y,g)),b),v=y.coordinate,w=l===0||Tw(t,v,m,u,o);w||(l=0,u=s,c+=1),w&&(u=v+t*(m()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function fL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(r),!0).forEach(function(n){jwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jwe(t,e,r){return(e=Owe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Owe(t){var e=Rwe(t,"string");return typeof e=="symbol"?e:e+""}function Rwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lwe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=e,{end:l}=e,c=function(p){var h=a[p],y,g=()=>(y===void 0&&(y=r(h,p)),y);if(p===s-1){var b=t*(h.coordinate+t*g()/2-l);a[p]=h=Ri(Ri({},h),{},{tickCoord:b>0?h.coordinate-b*t:h.coordinate})}else a[p]=h=Ri(Ri({},h),{},{tickCoord:h.coordinate});var m=Tw(t,h.tickCoord,g,o,l);m&&(l=h.tickCoord-t*(g()/2+i),a[p]=Ri(Ri({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Dwe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=e;if(a){var u=n[o-1],f=r(u,o-1),p=t*(u.coordinate+t*f/2-c);s[o-1]=u=Ri(Ri({},u),{},{tickCoord:p>0?u.coordinate-p*t:u.coordinate});var h=Tw(t,u.tickCoord,()=>f,l,c);h&&(c=u.tickCoord-t*(f/2+i),s[o-1]=Ri(Ri({},u),{},{isShow:!0}))}for(var y=a?o-1:o,g=function(v){var w=s[v],E,P=()=>(E===void 0&&(E=r(w,v)),E);if(v===0){var $=t*(w.coordinate-t*P()/2-l);s[v]=w=Ri(Ri({},w),{},{tickCoord:$<0?w.coordinate-$*t:w.coordinate})}else s[v]=w=Ri(Ri({},w),{},{tickCoord:w.coordinate});var C=Tw(t,w.tickCoord,P,l,c);C&&(l=w.tickCoord+t*(P()/2+i),s[v]=Ri(Ri({},w),{},{isShow:!0}))},b=0;b<y;b++)g(b);return s}function _6(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=t;if(!i||!i.length||!n)return[];if(yt(l)||Rm.isSsr){var p;return(p=kwe(i,yt(l)?l:0))!==null&&p!==void 0?p:[]}var h=[],y=o==="top"||o==="bottom"?"width":"height",g=u&&y==="width"?m0(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=(w,E)=>{var P=typeof c=="function"?c(w.value,E):w.value;return y==="width"?Pwe(m0(P,{fontSize:e,letterSpacing:r}),g,f):m0(P,{fontSize:e,letterSpacing:r})[y]},m=i.length>=2?$i(i[1].coordinate-i[0].coordinate):1,v=Cwe(a,m,y);return l==="equidistantPreserveStart"?Iwe(m,v,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Dwe(m,v,b,i,s,l==="preserveStartEnd"):h=Lwe(m,v,b,i,s),h.filter(w=>w.isShow))}var Mwe=["viewBox"],Fwe=["viewBox"];function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mp.apply(null,arguments)}function hL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(r),!0).forEach(function(n){E6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pL(t,e){if(t==null)return{};var r,n,i=Bwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Bwe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function E6(t,e,r){return(e=$we(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $we(t){var e=Uwe(t,"string");return typeof e=="symbol"?e:e+""}function Uwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ad extends I.Component{constructor(e){super(e),this.tickRefs=I.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=pL(e,Mwe),a=this.props,{viewBox:s}=a,o=pL(a,Fwe);return!E_(n,s)||!E_(i,o)||!E_(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:a,orientation:s,tickSize:o,mirror:l,tickMargin:c}=this.props,u,f,p,h,y,g,b=l?-1:1,m=e.tickSize||o,v=yt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=f=e.coordinate,h=n+ +!l*a,p=h-b*m,g=p-b*c,y=v;break;case"left":p=h=e.coordinate,f=r+ +!l*i,u=f-b*m,y=u-b*c,g=v;break;case"right":p=h=e.coordinate,f=r+ +l*i,u=f+b*m,y=u+b*c,g=v;break;default:u=f=e.coordinate,h=n+ +l*a,p=h+b*m,g=p+b*c,y=v;break}return{line:{x1:u,y1:p,x2:f,y2:h},tick:{x:y,y:g}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o}=this.props,l=Vn(Vn(Vn({},er(this.props,!1)),er(o,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);l=Vn(Vn({},l),{},{x1:e,y1:r+c*i,x2:e+n,y2:r+c*i})}else{var u=+(a==="left"&&!s||a==="right"&&s);l=Vn(Vn({},l),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+i})}return I.createElement("line",mp({},l,{className:Zt("recharts-cartesian-axis-line",ld(o,"className"))}))}static renderTickItem(e,r,n){var i,a=Zt(r.className,"recharts-cartesian-axis-tick-value");if(I.isValidElement(e))i=I.cloneElement(e,Vn(Vn({},r),{},{className:a}));else if(typeof e=="function")i=e(Vn(Vn({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Zt(s,e.className)),i=I.createElement(T2,mp({},r,{className:s}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:s,tickFormatter:o,unit:l}=this.props,c=_6(Vn(Vn({},this.props),{},{ticks:n}),e,r),u=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),p=er(this.props,!1),h=er(s,!1),y=Vn(Vn({},p),{},{fill:"none"},er(i,!1)),g=c.map((b,m)=>{var{line:v,tick:w}=this.getTickLineCoord(b),E=Vn(Vn(Vn(Vn({textAnchor:u,verticalAnchor:f},p),{},{stroke:"none",fill:a},h),w),{},{index:m,payload:b,visibleTicksCount:c.length,tickFormatter:o});return I.createElement(Ea,mp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},jT(this.props,b,m)),i&&I.createElement("line",mp({},y,v,{className:Zt("recharts-cartesian-axis-tick-line",ld(i,"className"))})),s&&Ad.renderTickItem(s,E,"".concat(typeof o=="function"?o(b.value,m):b.value).concat(l||"")))});return g.length>0?I.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:s}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:I.createElement(Ea,{className:Zt("recharts-cartesian-axis",i),ref:o=>{if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var c=l[0];if(c){var u=window.getComputedStyle(c).fontSize,f=window.getComputedStyle(c).letterSpacing;(u!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),za.renderCallByParent(this.props))}}E6(Ad,"displayName","CartesianAxis");E6(Ad,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Vwe=["x1","y1","x2","y2","key"],zwe=["offset"],qwe=["xAxisId","yAxisId"],Wwe=["xAxisId","yAxisId"];function mL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(r),!0).forEach(function(n){Hwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hwe(t,e,r){return(e=Gwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gwe(t){var e=Kwe(t,"string");return typeof e=="symbol"?e:e+""}function Kwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(null,arguments)}function Pw(t,e){if(t==null)return{};var r,n,i=Ywe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ywe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Xwe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=t;return I.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function BW(t,e){var r;if(I.isValidElement(t))r=I.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:a,y2:s,key:o}=e,l=Pw(e,Vwe),c=er(l,!1),u=Pw(c,zwe);r=I.createElement("line",bf({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function Jwe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var a=Pw(t,qwe),s=i.map((o,l)=>{var c=Fi(Fi({},a),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return BW(n,c)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Qwe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var a=Pw(t,Wwe),s=i.map((o,l)=>{var c=Fi(Fi({},a),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return BW(n,c)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Zwe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var u=c.map((f,p)=>{var h=!c[p+1],y=h?i+s-f:c[p+1]-f;if(y<=0)return null;var g=p%e.length;return I.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:y,width:a,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function exe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=t;if(!e||!r||!r.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var u=c.map((f,p)=>{var h=!c[p+1],y=h?i+s-f:c[p+1]-f;if(y<=0)return null;var g=p%r.length;return I.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:y,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var txe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return FV(_6(Fi(Fi(Fi({},Ad.defaultProps),r),{},{ticks:BV(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},rxe=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return FV(_6(Fi(Fi(Fi({},Ad.defaultProps),r),{},{ticks:BV(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},nxe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function S6(t){var e=iP(),r=aP(),n=qV(),i=Fi(Fi({},No(t,nxe)),{},{x:yt(t.x)?t.x:n.left,y:yt(t.y)?t.y:n.top,width:yt(t.width)?t.width:n.width,height:yt(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:p,verticalValues:h}=i,y=Na(),g=vt(A=>TR(A,"xAxis",a,y)),b=vt(A=>TR(A,"yAxis",s,y));if(!yt(c)||c<=0||!yt(u)||u<=0||!yt(o)||o!==+o||!yt(l)||l!==+l)return null;var m=i.verticalCoordinatesGenerator||txe,v=i.horizontalCoordinatesGenerator||rxe,{horizontalPoints:w,verticalPoints:E}=i;if((!w||!w.length)&&typeof v=="function"){var P=p&&p.length,$=v({yAxis:b?Fi(Fi({},b),{},{ticks:P?p:b.ticks}):void 0,width:e,height:r,offset:n},P?!0:f);p0(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(w=$)}if((!E||!E.length)&&typeof m=="function"){var C=h&&h.length,N=m({xAxis:g?Fi(Fi({},g),{},{ticks:C?h:g.ticks}):void 0,width:e,height:r,offset:n},C?!0:f);p0(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(E=N)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Xwe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),I.createElement(Zwe,bf({},i,{horizontalPoints:w})),I.createElement(exe,bf({},i,{verticalPoints:E})),I.createElement(Jwe,bf({},i,{offset:n,horizontalPoints:w,xAxis:g,yAxis:b})),I.createElement(Qwe,bf({},i,{offset:n,verticalPoints:E,xAxis:g,yAxis:b})))}S6.displayName="CartesianGrid";var $W=(t,e,r,n)=>E2(t,"xAxis",e,n),UW=(t,e,r,n)=>jq(t,"xAxis",e,n),VW=(t,e,r,n)=>E2(t,"yAxis",r,n),zW=(t,e,r,n)=>jq(t,"yAxis",r,n),ixe=$e([Br,$W,VW,UW,zW],(t,e,r,n,i)=>xd(t,"xAxis")?mN(e,n,!1):mN(r,i,!1)),axe=(t,e,r,n,i)=>i,sxe=$e([dq,axe],(t,e)=>{if(t.some(r=>r.type==="line"&&e.dataKey===r.dataKey&&e.data===r.data))return e}),oxe=$e([Br,$W,VW,UW,zW,sxe,ixe,qz],(t,e,r,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{dataKey:f,data:p}=a,h;if(p!=null&&p.length>0?h=p:h=l==null?void 0:l.slice(c,u+1),h!=null)return Nxe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:h})}}),lxe=["type","layout","connectNulls","needClip"],cxe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function qW(t,e){if(t==null)return{};var r,n,i=uxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function uxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function gL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function so(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(r),!0).forEach(function(n){C2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C2(t,e,r){return(e=dxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dxe(t){var e=fxe(t,"string");return typeof e=="symbol"?e:e+""}function fxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(null,arguments)}var hxe=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:a2(r,e),payload:t}]};function pxe(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:a2(s,e),hide:o,type:t.tooltipType,color:t.stroke,unit:l}}}var WW=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function mxe(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var gxe=(t,e,r)=>{var n=r.reduce((f,p)=>f+p);if(!n)return WW(e,t);for(var i=Math.floor(t/n),a=t%n,s=e-t,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>a){o=[...r.slice(0,l),a-c];break}var u=o.length%2===0?[0,s]:[s];return[...mxe(r,i),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function yxe(t,e){var r;if(I.isValidElement(t))r=I.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=Zt("recharts-line-dot",typeof t!="boolean"?t.className:"");r=I.createElement(bW,dm({},e,{className:n}))}return r}function vxe(t,e){return t==null?!1:e?!0:t.length===1}function bxe(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:s}=n;if(!vxe(r,i))return null;var o=wU(i),l=er(n,!1),c=er(i,!0),u=r.map((p,h)=>{var y=so(so(so({key:"dot-".concat(h),r:3},l),c),{},{index:h,cx:p.x,cy:p.y,dataKey:a,value:p.value,payload:p.payload,points:r});return yxe(i,y)}),f={clipPath:s?"url(#clipPath-".concat(o?"":"dots-").concat(e,")"):null};return I.createElement(Ea,dm({className:"recharts-line-dots",key:"dots"},f),u)}function zN(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a,showLabels:s}=t,{type:o,layout:l,connectNulls:c,needClip:u}=a,f=qW(a,lxe),p=so(so({},er(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):null,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return I.createElement(I.Fragment,null,(n==null?void 0:n.length)>1&&I.createElement(lP,dm({},p,{pathRef:r})),I.createElement(bxe,{points:n,clipPathId:e,props:a}),s&&kf.renderCallByParent(a,n))}function wxe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function xxe(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:p,width:h,height:y,onAnimationEnd:g,onAnimationStart:b}=r,m=i.current,v=TW(r,"recharts-line-"),[w,E]=I.useState(!1),P=I.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),$=I.useCallback(()=>{typeof b=="function"&&b(),E(!0)},[b]),C=wxe(n.current),N=a.current;return I.createElement(Hf,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},onAnimationEnd:P,onAnimationStart:$,key:v},A=>{var{t:D}=A,F=of(N,C+N),S=Math.min(F(D),C),O;if(o){var k="".concat(o).split(/[,\s]+/gim).map(Q=>parseFloat(Q));O=gxe(S,C,k)}else O=WW(C,S);if(m){var ie=m.length/s.length,ae=D===1?s:s.map((Q,se)=>{var fe=Math.floor(se*ie);if(m[fe]){var we=m[fe],ve=of(we.x,Q.x),M=of(we.y,Q.y);return so(so({},Q),{},{x:ve(D),y:M(D)})}if(p){var K=of(h*2,Q.x),ee=of(y/2,Q.y);return so(so({},Q),{},{x:K(D),y:ee(D)})}return so(so({},Q),{},{x:Q.x,y:Q.y})});return i.current=ae,I.createElement(zN,{props:r,points:ae,clipPathId:e,pathRef:n,showLabels:!w,strokeDasharray:O})}return D>0&&C>0&&(i.current=s,a.current=S),I.createElement(zN,{props:r,points:s,clipPathId:e,pathRef:n,showLabels:!w,strokeDasharray:O})})}function _xe(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,a=I.useRef(null),s=I.useRef(0),o=I.useRef(null),l=a.current;return i&&n&&n.length&&l!==n?I.createElement(xxe,{props:r,clipPathId:e,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:o}):I.createElement(zN,{props:r,points:n,clipPathId:e,pathRef:o,showLabels:!0})}var Exe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:an(t.payload,e)});class Sxe extends I.Component{constructor(){super(...arguments),C2(this,"id",em("recharts-line-"))}render(){var e,{hide:r,dot:n,points:i,className:a,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:f,id:p,needClip:h,layout:y}=this.props;if(r)return null;var g=Zt("recharts-line",a),b=yn(p)?this.id:p,{r:m=3,strokeWidth:v=2}=(e=er(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},w=wU(n),E=m*2+v;return I.createElement(I.Fragment,null,I.createElement(Ea,{className:g},h&&I.createElement("defs",null,I.createElement(mwe,{clipPathId:b,xAxisId:s,yAxisId:o}),!w&&I.createElement("clipPath",{id:"clipPath-dots-".concat(b)},I.createElement("rect",{x:c-E/2,y:l-E/2,width:u+E,height:f+E}))),I.createElement(_xe,{props:this.props,clipPathId:b}),I.createElement(hwe,{direction:y==="horizontal"?"y":"x"},I.createElement(rwe,{xAxisId:s,yAxisId:o,data:i,dataPointFormatter:Exe,errorBarOffset:0},this.props.children))),I.createElement(Jbe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var HW={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Rm.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Axe(t){var e=No(t,HW),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:p,xAxisId:h,yAxisId:y}=e,g=qW(e,cxe),{needClip:b}=DW(h,y),{height:m,width:v,x:w,y:E}=w6(),P=sP(),$=Na(),C=I.useMemo(()=>({dataKey:t.dataKey,data:t.data}),[t.dataKey,t.data]),N=vt(A=>oxe(A,h,y,$,C));return P!=="horizontal"&&P!=="vertical"?null:I.createElement(Sxe,dm({},g,{connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:u,hide:c,label:f,legendType:p,xAxisId:h,yAxisId:y,points:N,layout:P,height:m,width:v,left:w,top:E,needClip:b}))}function Nxe(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=t;return l.map((c,u)=>{var f=an(c,s);return e==="horizontal"?{x:yO({axis:r,ticks:i,bandSize:o,entry:c,index:u}),y:yn(f)?null:n.scale(f),value:f,payload:c}:{x:yn(f)?null:r.scale(f),y:yO({axis:n,ticks:a,bandSize:o,entry:c,index:u}),value:f,payload:c}})}class If extends I.PureComponent{render(){return I.createElement(iwe,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},I.createElement(xbe,{legendPayload:hxe(this.props)}),I.createElement(AW,{fn:pxe,args:this.props}),I.createElement(Axe,this.props))}}C2(If,"displayName","Line");C2(If,"defaultProps",HW);function yL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(r),!0).forEach(function(n){Txe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Txe(t,e,r){return(e=Pxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pxe(t){var e=Cxe(t,"string");return typeof e=="symbol"?e:e+""}function Cxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kxe={xAxis:{},yAxis:{},zAxis:{}},GW=Fs({name:"cartesianAxis",initialState:kxe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=vL(vL({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Ixe,removeXAxis:jxe,addYAxis:Oxe,removeYAxis:Rxe,addZAxis:hTe,removeZAxis:pTe,updateYAxisWidth:Lxe}=GW.actions,Dxe=GW.reducer,Mxe=["children"],Fxe=["dangerouslySetInnerHTML","ticks"];function KW(t,e,r){return(e=Bxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bxe(t){var e=$xe(t,"string");return typeof e=="symbol"?e:e+""}function $xe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qN.apply(null,arguments)}function YW(t,e){if(t==null)return{};var r,n,i=Uxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Uxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Vxe(t){var e=Yr(),r=I.useMemo(()=>{var a=YW(t,Mxe);return a},[t]),n=vt(a=>Dc(a,r.id)),i=r===n;return I.useEffect(()=>(e(Ixe(r)),()=>{e(jxe(r))}),[r,e]),i?t.children:null}var zxe=t=>{var{xAxisId:e,className:r}=t,n=vt(zV),i=Na(),a="xAxis",s=vt(f=>$m(f,a,e,i)),o=vt(f=>Iq(f,a,e,i)),l=vt(f=>K0e(f,e)),c=vt(f=>Z0e(f,e));if(l==null||c==null)return null;var u=YW(t,Fxe);return I.createElement(Ad,qN({},u,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:Zt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o}))},qxe=t=>{var e,r,n,i,a;return I.createElement(Vxe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter},I.createElement(zxe,t))};class k2 extends I.Component{render(){return I.createElement(qxe,this.props)}}KW(k2,"displayName","XAxis");KW(k2,"defaultProps",{allowDataOverflow:Fa.allowDataOverflow,allowDecimals:Fa.allowDecimals,allowDuplicatedCategory:Fa.allowDuplicatedCategory,height:Fa.height,hide:!1,mirror:Fa.mirror,orientation:Fa.orientation,padding:Fa.padding,reversed:Fa.reversed,scale:Fa.scale,tickCount:Fa.tickCount,type:Fa.type,xAxisId:0});var Wxe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){e.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(r?n:0);return Math.round(c)}return 0},Hxe=["dangerouslySetInnerHTML","ticks"];function XW(t,e,r){return(e=Gxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gxe(t){var e=Kxe(t,"string");return typeof e=="symbol"?e:e+""}function Kxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WN(){return WN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WN.apply(null,arguments)}function Yxe(t,e){if(t==null)return{};var r,n,i=Xxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Jxe(t){var e=Yr();return I.useEffect(()=>(e(Oxe(t)),()=>{e(Rxe(t))}),[t,e]),null}var Qxe=t=>{var e,{yAxisId:r,className:n,width:i,label:a}=t,s=I.useRef(null),o=I.useRef(null),l=vt(zV),c=Na(),u=Yr(),f="yAxis",p=vt(m=>$m(m,f,r,c)),h=vt(m=>tye(m,r)),y=vt(m=>eye(m,r)),g=vt(m=>Iq(m,f,r,c));if(I.useLayoutEffect(()=>{var m;if(!(i!=="auto"||!h||p6(a)||I.isValidElement(a))){var v=s.current,w=v==null||(m=v.tickRefs)===null||m===void 0?void 0:m.current,{tickSize:E,tickMargin:P}=v.props,$=Wxe({ticks:w,label:o.current,labelGapWithTick:5,tickSize:E,tickMargin:P});Math.round(h.width)!==Math.round($)&&u(Lxe({id:r,width:$}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,h==null?void 0:h.width,h,u,a,r,i]),h==null||y==null)return null;var b=Yxe(t,Hxe);return I.createElement(Ad,WN({},b,{ref:s,labelRef:o,scale:p,x:y.x,y:y.y,width:h.width,height:h.height,className:Zt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:g}))},Zxe=t=>{var e,r,n,i,a;return I.createElement(I.Fragment,null,I.createElement(Jxe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter}),I.createElement(Qxe,t))},e2e={allowDataOverflow:Ba.allowDataOverflow,allowDecimals:Ba.allowDecimals,allowDuplicatedCategory:Ba.allowDuplicatedCategory,hide:!1,mirror:Ba.mirror,orientation:Ba.orientation,padding:Ba.padding,reversed:Ba.reversed,scale:Ba.scale,tickCount:Ba.tickCount,type:Ba.type,width:Ba.width,yAxisId:0};class I2 extends I.Component{render(){return I.createElement(Zxe,this.props)}}XW(I2,"displayName","YAxis");XW(I2,"defaultProps",e2e);var t2e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=I;function r2e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var n2e=typeof Object.is=="function"?Object.is:r2e,i2e=By.useSyncExternalStore,a2e=By.useRef,s2e=By.useEffect,o2e=By.useMemo,l2e=By.useDebugValue;t2e.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=a2e(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=o2e(function(){function l(h){if(!c){if(c=!0,u=h,h=n(h),i!==void 0&&s.hasValue){var y=s.value;if(i(y,h))return f=y}return f=h}if(y=f,n2e(u,h))return y;var g=n(h);return i!==void 0&&i(y,g)?(u=h,y):(u=h,f=g)}var c=!1,u,f,p=r===void 0?null:r;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,r,n,i]);var o=i2e(t,a[0],a[1]);return s2e(function(){s.hasValue=!0,s.value=o},[o]),l2e(o),o};function c2e(t){t()}function u2e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){c2e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var bL={notify(){},get:()=>[]};function d2e(t,e){let r,n=bL,i=0,a=!1;function s(g){u();const b=n.subscribe(g);let m=!1;return()=>{m||(m=!0,b(),f())}}function o(){n.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return a}function u(){i++,r||(r=t.subscribe(l),n=u2e())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=bL)}function p(){a||(a=!0,u())}function h(){a&&(a=!1,f())}const y={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>n};return y}var f2e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h2e=f2e(),p2e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",m2e=p2e(),g2e=()=>h2e||m2e?I.useLayoutEffect:I.useEffect,y2e=g2e(),S_=Symbol.for("react-redux-context"),A_=typeof globalThis<"u"?globalThis:{};function v2e(){if(!I.createContext)return{};const t=A_[S_]??(A_[S_]=new Map);let e=t.get(I.createContext);return e||(e=I.createContext(null),t.set(I.createContext,e)),e}var b2e=v2e();function w2e(t){const{children:e,context:r,serverState:n,store:i}=t,a=I.useMemo(()=>{const l=d2e(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=I.useMemo(()=>i.getState(),[i]);y2e(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||b2e;return I.createElement(o.Provider,{value:a},e)}var x2e=w2e,_2e=(t,e)=>e,A6=$e([_2e,Br,d0e,ii,Gq,Mc,ave,ri],uve),N6=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},JW=Rs("mouseClick"),QW=Py();QW.startListening({actionCreator:JW,effect:(t,e)=>{var r=t.payload,n=A6(e.getState(),N6(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(pye({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var HN=Rs("mouseMove"),ZW=Py();ZW.startListening({actionCreator:HN,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=a6(n,n.tooltip.settings.shared),a=A6(n,N6(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch($q({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(Bq()))}});function E2e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var wL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},eH=Fs({name:"rootProps",initialState:wL,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:wL.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),S2e=eH.reducer,{updateOptions:A2e}=eH.actions,tH=Fs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:N2e}=tH.actions,T2e=tH.reducer,rH=Rs("keyDown"),nH=Rs("focus"),T6=Py();T6.startListening({actionCreator:rH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(s6(i,ch(r))),o=Mc(r);if(a==="Enter"){var l=Ew(r,"axis","hover",String(i.index));e.dispatch(LN({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=aye(r),u=c==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,p=s+f*u;if(!(o==null||p>=o.length||p<0)){var h=Ew(r,"axis","hover",String(p));e.dispatch(LN({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});T6.startListening({actionCreator:nH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Ew(r,"axis","hover",String(a));e.dispatch(LN({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ys=Rs("externalEvent"),iH=Py();iH.startListening({actionCreator:ys,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:Yye(r),activeDataKey:Gye(r),activeIndex:um(r),activeLabel:Xq(r),activeTooltipIndex:um(r),isTooltipActive:Xye(r)};t.payload.handler(n,t.payload.reactEvent)}}});var P2e=$e([Um],t=>t.tooltipItemPayloads),C2e=$e([P2e,Fy,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,r);return s}}}),aH=Rs("touchMove"),sH=Py();sH.startListening({actionCreator:aH,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=a6(n,n.tooltip.settings.shared);if(i==="axis"){var a=A6(n,N6({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch($q({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(UV),u=(s=l.getAttribute(VV))!==null&&s!==void 0?s:void 0,f=C2e(e.getState(),c,u);e.dispatch(Fq({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}});var k2e=pV({brush:ywe,cartesianAxis:Dxe,chartData:Ave,graphicalItems:Q1e,layout:dfe,legend:Xfe,options:wve,polarAxis:F1e,polarOptions:T2e,referenceElements:Awe,rootProps:S2e,tooltip:mye}),I2e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Dde({reducer:k2e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([QW.middleware,ZW.middleware,T6.middleware,iH.middleware,sH.middleware]),devTools:{serialize:{replacer:E2e},name:"recharts-".concat(r)}})};function oH(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Na(),a=I.useRef(null);if(i)return r;a.current==null&&(a.current=I2e(e,n));var s=GT;return I.createElement(x2e,{context:s,store:a.current},r)}function lH(t){var{layout:e,width:r,height:n,margin:i}=t,a=Yr(),s=Na();return I.useEffect(()=>{s||(a(lfe(e)),a(cfe({width:r,height:n})),a(ofe(i)))},[a,s,e,r,n,i]),null}function cH(t){var e=Yr();return I.useEffect(()=>{e(A2e(t))},[e,t]),null}var j2e=["children"];function O2e(t,e){if(t==null)return{};var r,n,i=R2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function R2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cw.apply(null,arguments)}var L2e={width:"100%",height:"100%"},D2e=I.forwardRef((t,e)=>{var r=iP(),n=aP(),i=KV();if(!am(r)||!am(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=t,c,u;return typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?u=s.role:u=i?"application":void 0,I.createElement(OT,Cw({},s,{title:o,desc:l,role:u,tabIndex:c,width:r,height:n,style:L2e,ref:e}),a)}),M2e=t=>{var{children:e}=t,r=vt(l2);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return I.createElement(OT,{width:n,height:i,x:s,y:a},e)},xL=I.forwardRef((t,e)=>{var{children:r}=t,n=O2e(t,j2e),i=Na();return i?I.createElement(M2e,null,r):I.createElement(D2e,Cw({ref:e},n),r)});function F2e(){var t=Yr(),[e,r]=I.useState(null),n=vt(Ffe);return I.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;_o(a)&&a!==n&&t(ufe(a))}},[e,t,n]),r}function _L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(r),!0).forEach(function(n){$2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $2e(t,e,r){return(e=U2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U2e(t){var e=V2e(t,"string");return typeof e=="symbol"?e:e+""}function V2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z2e=I.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:p,onTouchEnd:h,onTouchMove:y,onTouchStart:g,style:b,width:m}=t,v=Yr(),[w,E]=I.useState(null),[P,$]=I.useState(null);Pve();var C=F2e(),N=I.useCallback(M=>{C(M),typeof e=="function"&&e(M),E(M),$(M)},[C,e,E,$]),A=I.useCallback(M=>{v(JW(M)),v(ys({handler:a,reactEvent:M}))},[v,a]),D=I.useCallback(M=>{v(HN(M)),v(ys({handler:c,reactEvent:M}))},[v,c]),F=I.useCallback(M=>{v(Bq()),v(ys({handler:u,reactEvent:M}))},[v,u]),S=I.useCallback(M=>{v(HN(M)),v(ys({handler:f,reactEvent:M}))},[v,f]),O=I.useCallback(()=>{v(nH())},[v]),k=I.useCallback(M=>{v(rH(M.key))},[v]),ie=I.useCallback(M=>{v(ys({handler:s,reactEvent:M}))},[v,s]),ae=I.useCallback(M=>{v(ys({handler:o,reactEvent:M}))},[v,o]),Q=I.useCallback(M=>{v(ys({handler:l,reactEvent:M}))},[v,l]),se=I.useCallback(M=>{v(ys({handler:p,reactEvent:M}))},[v,p]),fe=I.useCallback(M=>{v(ys({handler:g,reactEvent:M}))},[v,g]),we=I.useCallback(M=>{v(aH(M)),v(ys({handler:y,reactEvent:M}))},[v,y]),ve=I.useCallback(M=>{v(ys({handler:h,reactEvent:M}))},[v,h]);return I.createElement(rW.Provider,{value:w},I.createElement(xU.Provider,{value:P},I.createElement("div",{className:Zt("recharts-wrapper",n),style:B2e({position:"relative",cursor:"default",width:m,height:i},b),onClick:A,onContextMenu:ie,onDoubleClick:ae,onFocus:O,onKeyDown:k,onMouseDown:Q,onMouseEnter:D,onMouseLeave:F,onMouseMove:S,onMouseUp:se,onTouchEnd:ve,onTouchMove:we,onTouchStart:fe,ref:N},r)))}),q2e=["children","className","width","height","style","compact","title","desc"];function W2e(t,e){if(t==null)return{};var r,n,i=H2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function H2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var uH=I.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:a,style:s,compact:o,title:l,desc:c}=t,u=W2e(t,q2e),f=er(u,!1);return o?I.createElement(xL,{otherAttributes:f,title:l,desc:c},r):I.createElement(z2e,{className:n,style:s,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},I.createElement(xL,{otherAttributes:f,title:l,desc:c,ref:e},I.createElement(Twe,null,r)))}),G2e=["width","height"];function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GN.apply(null,arguments)}function K2e(t,e){if(t==null)return{};var r,n,i=Y2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Y2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var X2e={top:5,right:5,bottom:5,left:5},J2e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:X2e,reverseStackOrder:!1,syncMethod:"index"},Q2e=I.forwardRef(function(e,r){var n,i=No(e.categoricalChartProps,J2e),{width:a,height:s}=i,o=K2e(i,G2e);if(!am(a)||!am(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:p}=e,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return I.createElement(oH,{preloadedState:{options:h},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:l},I.createElement(MW,{chartData:p.data}),I.createElement(lH,{width:a,height:s,layout:i.layout,margin:i.margin}),I.createElement(cH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),I.createElement(uH,GN({},o,{width:a,height:s,ref:r})))}),Z2e=["axis"],dH=I.forwardRef((t,e)=>I.createElement(Q2e,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Z2e,tooltipPayloadSearcher:iW,categoricalChartProps:t,ref:e}));function e5e(t){var e=Yr();return I.useEffect(()=>{e(N2e(t))},[e,t]),null}var t5e=["width","height","layout"];function KN(){return KN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KN.apply(null,arguments)}function r5e(t,e){if(t==null)return{};var r,n,i=n5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function n5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var i5e={top:5,right:5,bottom:5,left:5},a5e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:i5e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},s5e=I.forwardRef(function(e,r){var n,i=No(e.categoricalChartProps,a5e),{width:a,height:s,layout:o}=i,l=r5e(i,t5e);if(!am(a)||!am(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=e,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return I.createElement(oH,{preloadedState:{options:h},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:c},I.createElement(MW,{chartData:i.data}),I.createElement(lH,{width:a,height:s,layout:o,margin:i.margin}),I.createElement(cH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),I.createElement(e5e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),I.createElement(uH,KN({width:a,height:s},l,{ref:r})))}),o5e=["item"],l5e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},c5e=I.forwardRef((t,e)=>{var r=No(t,l5e);return I.createElement(s5e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:o5e,tooltipPayloadSearcher:iW,categoricalChartProps:r,ref:e})});function u5e({data:t}){const e=r=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(r);return d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fluxo de Caixa"}),d.jsx("div",{className:"h-80",children:d.jsx(BN,{width:"100%",height:"100%",children:d.jsxs(dH,{data:t,children:[d.jsx(S6,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),d.jsx(k2,{dataKey:"month",stroke:"#6b7280",fontSize:12}),d.jsx(I2,{stroke:"#6b7280",fontSize:12,tickFormatter:e}),d.jsx(FN,{formatter:r=>[e(r),""],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #d1d5db",borderRadius:"8px"}}),d.jsx(c2,{}),d.jsx(If,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:3,name:"Receitas",dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10b981",strokeWidth:2}}),d.jsx(If,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:3,name:"Despesas",dot:{fill:"#ef4444",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#ef4444",strokeWidth:2}})]})})})]})}const fH=6048e5,d5e=864e5,EL=Symbol.for("constructDateFrom");function kc(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&EL in t?t[EL](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ta(t,e){return kc(e||t,t)}let f5e={};function $y(){return f5e}function Yf(t,e){var o,l,c,u;const r=$y(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Ta(t,e==null?void 0:e.in),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function kw(t,e){return Yf(t,{...e,weekStartsOn:1})}function hH(t,e){const r=Ta(t,e==null?void 0:e.in),n=r.getFullYear(),i=kc(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=kw(i),s=kc(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=kw(s);return r.getTime()>=a.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function SL(t){const e=Ta(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function pH(t,...e){const r=kc.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function AL(t,e){const r=Ta(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function h5e(t,e,r){const[n,i]=pH(r==null?void 0:r.in,t,e),a=AL(n),s=AL(i),o=+a-SL(a),l=+s-SL(s);return Math.round((o-l)/d5e)}function p5e(t,e){const r=hH(t,e),n=kc(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),kw(n)}function m5e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function g5e(t){return!(!m5e(t)&&typeof t!="number"||isNaN(+Ta(t)))}function NL(t,e){const r=Ta(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function y5e(t,e){const[r,n]=pH(t,e.start,e.end);return{start:r,end:n}}function TL(t,e){const{start:r,end:n}=y5e(e==null?void 0:e.in,t);let i=+r>+n;const a=i?+r:+n,s=i?n:r;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(kc(r,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function PL(t,e){const r=Ta(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function v5e(t,e){const r=Ta(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function CL(t,e){var o,l,c,u;const r=$y(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Ta(t,e==null?void 0:e.in),a=i.getDay(),s=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const b5e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},w5e=(t,e,r)=>{let n;const i=b5e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ip(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const x5e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_5e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},E5e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S5e={date:Ip({formats:x5e,defaultWidth:"full"}),time:Ip({formats:_5e,defaultWidth:"full"}),dateTime:Ip({formats:E5e,defaultWidth:"full"})},A5e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},N5e=(t,e,r,n)=>A5e[t];function Qo(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const T5e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},P5e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},C5e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},k5e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I5e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j5e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O5e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},R5e={ordinalNumber:O5e,era:Qo({values:T5e,defaultWidth:"wide"}),quarter:Qo({values:P5e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qo({values:C5e,defaultWidth:"wide"}),day:Qo({values:k5e,defaultWidth:"wide"}),dayPeriod:Qo({values:I5e,defaultWidth:"wide",formattingValues:j5e,defaultFormattingWidth:"wide"})};function Zo(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?D5e(o,f=>f.test(s)):L5e(o,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function L5e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function D5e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function mH(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const M5e=/^(\d+)(th|st|nd|rd)?/i,F5e=/\d+/i,B5e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$5e={any:[/^b/i,/^(a|c)/i]},U5e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V5e={any:[/1/i,/2/i,/3/i,/4/i]},z5e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},W5e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},H5e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G5e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},K5e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Y5e={ordinalNumber:mH({matchPattern:M5e,parsePattern:F5e,valueCallback:t=>parseInt(t,10)}),era:Zo({matchPatterns:B5e,defaultMatchWidth:"wide",parsePatterns:$5e,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:U5e,defaultMatchWidth:"wide",parsePatterns:V5e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zo({matchPatterns:z5e,defaultMatchWidth:"wide",parsePatterns:q5e,defaultParseWidth:"any"}),day:Zo({matchPatterns:W5e,defaultMatchWidth:"wide",parsePatterns:H5e,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:G5e,defaultMatchWidth:"any",parsePatterns:K5e,defaultParseWidth:"any"})},X5e={code:"en-US",formatDistance:w5e,formatLong:S5e,formatRelative:N5e,localize:R5e,match:Y5e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function J5e(t,e){const r=Ta(t,e==null?void 0:e.in);return h5e(r,v5e(r))+1}function Q5e(t,e){const r=Ta(t,e==null?void 0:e.in),n=+kw(r)-+p5e(r);return Math.round(n/fH)+1}function gH(t,e){var u,f,p,h;const r=Ta(t,e==null?void 0:e.in),n=r.getFullYear(),i=$y(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(p=i.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,s=kc((e==null?void 0:e.in)||t,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=Yf(s,e),l=kc((e==null?void 0:e.in)||t,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=Yf(l,e);return+r>=+o?n+1:+r>=+c?n:n-1}function Z5e(t,e){var o,l,c,u;const r=$y(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=gH(t,e),a=kc((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Yf(a,e)}function e_e(t,e){const r=Ta(t,e==null?void 0:e.in),n=+Yf(r,e)-+Z5e(r,e);return Math.round(n/fH)+1}function hr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const vu={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return hr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):hr(r+1,2)},d(t,e){return hr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return hr(t.getHours()%12||12,e.length)},H(t,e){return hr(t.getHours(),e.length)},m(t,e){return hr(t.getMinutes(),e.length)},s(t,e){return hr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return hr(i,e.length)}},Vh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kL={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return vu.y(t,e)},Y:function(t,e,r,n){const i=gH(t,n),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return hr(s,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):hr(a,e.length)},R:function(t,e){const r=hH(t);return hr(r,e.length)},u:function(t,e){const r=t.getFullYear();return hr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return hr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return hr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return vu.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return hr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=e_e(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):hr(i,e.length)},I:function(t,e,r){const n=Q5e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):hr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):vu.d(t,e)},D:function(t,e,r){const n=J5e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):hr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return hr(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return hr(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return hr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Vh.noon:n===0?i=Vh.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Vh.evening:n>=12?i=Vh.afternoon:n>=4?i=Vh.morning:i=Vh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return vu.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):vu.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):hr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):hr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):vu.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):vu.s(t,e)},S:function(t,e){return vu.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return jL(n);case"XXXX":case"XX":return af(n);case"XXXXX":case"XXX":default:return af(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return jL(n);case"xxxx":case"xx":return af(n);case"xxxxx":case"xxx":default:return af(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+IL(n,":");case"OOOO":default:return"GMT"+af(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+IL(n,":");case"zzzz":default:return"GMT"+af(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return hr(n,e.length)},T:function(t,e,r){return hr(+t,e.length)}};function IL(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+hr(a,2)}function jL(t,e){return t%60===0?(t>0?"-":"+")+hr(Math.abs(t)/60,2):af(t,e)}function af(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=hr(Math.trunc(n/60),2),a=hr(n%60,2);return r+i+e+a}const OL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},yH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},t_e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return OL(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",OL(n,e)).replace("{{time}}",yH(i,e))},r_e={p:yH,P:t_e},n_e=/^D+$/,i_e=/^Y+$/,a_e=["D","DD","YY","YYYY"];function s_e(t){return n_e.test(t)}function o_e(t){return i_e.test(t)}function l_e(t,e,r){const n=c_e(t,e,r);if(console.warn(n),a_e.includes(t))throw new RangeError(n)}function c_e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const u_e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f_e=/^'([^]*?)'?$/,h_e=/''/g,p_e=/[a-zA-Z]/;function Pa(t,e,r){var u,f,p,h,y,g,b,m;const n=$y(),i=(r==null?void 0:r.locale)??n.locale??X5e,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((g=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((m=(b=n.locale)==null?void 0:b.options)==null?void 0:m.weekStartsOn)??0,o=Ta(t,r==null?void 0:r.in);if(!g5e(o))throw new RangeError("Invalid time value");let l=e.match(d_e).map(v=>{const w=v[0];if(w==="p"||w==="P"){const E=r_e[w];return E(v,i.formatLong)}return v}).join("").match(u_e).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:m_e(v)};if(kL[w])return{isToken:!0,value:v};if(w.match(p_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const w=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&o_e(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&s_e(w))&&l_e(w,e,String(t));const E=kL[w[0]];return E(o,w,i.localize,c)}).join("")}function m_e(t){const e=t.match(f_e);return e?e[1].replace(h_e,"'"):t}const g_e={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},y_e=(t,e,r)=>{let n;const i=g_e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},v_e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},b_e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},w_e={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},x_e={date:Ip({formats:v_e,defaultWidth:"full"}),time:Ip({formats:b_e,defaultWidth:"full"}),dateTime:Ip({formats:w_e,defaultWidth:"full"})},__e={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},E_e=(t,e,r,n)=>{const i=__e[t];return typeof i=="function"?i(e):i},S_e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},A_e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},N_e={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},T_e={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},P_e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},C_e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},k_e=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"ª":r+"º"},I_e={ordinalNumber:k_e,era:Qo({values:S_e,defaultWidth:"wide"}),quarter:Qo({values:A_e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qo({values:N_e,defaultWidth:"wide"}),day:Qo({values:T_e,defaultWidth:"wide"}),dayPeriod:Qo({values:P_e,defaultWidth:"wide",formattingValues:C_e,defaultFormattingWidth:"wide"})},j_e=/^(\d+)[ºªo]?/i,O_e=/\d+/i,R_e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},L_e={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},D_e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},M_e={any:[/1/i,/2/i,/3/i,/4/i]},F_e={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},B_e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},$_e={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},U_e={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},V_e={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},z_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},q_e={ordinalNumber:mH({matchPattern:j_e,parsePattern:O_e,valueCallback:t=>parseInt(t,10)}),era:Zo({matchPatterns:R_e,defaultMatchWidth:"wide",parsePatterns:L_e,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:D_e,defaultMatchWidth:"wide",parsePatterns:M_e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zo({matchPatterns:F_e,defaultMatchWidth:"wide",parsePatterns:B_e,defaultParseWidth:"any"}),day:Zo({matchPatterns:$_e,defaultMatchWidth:"wide",parsePatterns:U_e,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:V_e,defaultMatchWidth:"any",parsePatterns:z_e,defaultParseWidth:"any"})},yi={code:"pt-BR",formatDistance:y_e,formatLong:x_e,formatRelative:E_e,localize:I_e,match:q_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RL({title:t,items:e,type:r}){const n=a=>Pa(new Date(a),"dd/MM/yyyy",{locale:yi}),i=a=>a;return d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t}),d.jsx("div",{className:"space-y-3",children:e.length===0?d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum item encontrado"}):e.slice(0,5).map(a=>d.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[d.jsx("div",{className:"flex-1",children:r==="events"?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium text-gray-900",children:a.title}),d.jsxs("p",{className:"text-sm text-gray-500",children:[n(a.date)," às ",i(a.time)]}),a.client&&d.jsxs("p",{className:"text-xs text-gray-400",children:["Cliente: ",a.client]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium text-gray-900",children:a.type}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",a.client]}),d.jsxs("p",{className:"text-xs text-gray-400",children:["Criado em ",n(a.createdAt)]})]})}),r==="events"&&d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a.status==="Concluído"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.status})]},a.id))})]})}function LL(){const[t,e]=I.useState([]),[r,n]=I.useState([]),[i,a]=I.useState([]),[s,o]=I.useState({totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]}),[l,c]=I.useState(!0),u=Im.getCurrentUser();I.useEffect(()=>{f()},[]);const f=async()=>{try{c(!0);const[b,m,v,w]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getDocuments(),rt.getFinancialSummary()]);e(b),n(m),a(v),o(w),console.log("Dados do dashboard carregados do Firestore:",{processes:b.length,events:m.length,documents:v.length,financialSummary:w})}catch(b){console.error("Erro ao carregar dados do dashboard:",b),e([]),n([]),a([]),o({totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]})}finally{c(!1)}};if(I.useEffect(()=>{const b=setInterval(f,12e4);return()=>clearInterval(b)},[]),l)return d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Carregando dashboard..."})]})})});const p=t.filter(b=>b.status==="Em andamento").length,h=t.filter(b=>b.status==="Concluído").length,y=r.filter(b=>b.status==="Pendente").length,g=i.length;return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Bem-vindo",u?`, ${u.officeName}`:"","!"]}),d.jsx("p",{className:"text-gray-600",children:"Visão geral do seu escritório de advocacia"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(t_,{title:"Receitas do Mês",amount:s.totalRevenue,type:"revenue",change:12.5}),d.jsx(t_,{title:"Despesas do Mês",amount:s.totalExpenses,type:"expense",change:-3.2}),d.jsx(t_,{title:"Saldo Atual",amount:s.balance,type:"balance",change:18.7})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsx(Vv,{title:"Processos Ativos",value:p,icon:Cx,color:"bg-blue-500",description:"Em andamento"}),d.jsx(Vv,{title:"Processos Concluídos",value:h,icon:yl,color:"bg-green-500",description:"Este mês"}),d.jsx(Vv,{title:"Próximos Compromissos",value:y,icon:_T,color:"bg-amber-500",description:"Próximos 7 dias"}),d.jsx(Vv,{title:"Documentos Emitidos",value:g,icon:Ny,color:"bg-purple-500",description:"Este mês"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(u5e,{data:s.monthlyData}),d.jsxs("div",{className:"space-y-6",children:[d.jsx(RL,{title:"Próximos Compromissos",items:r.filter(b=>b.status==="Pendente").slice(0,5),type:"events"}),d.jsx(RL,{title:"Documentos Recentes",items:i.slice(0,5),type:"documents"})]})]})]})}function Uy(t,e,r="any",n={}){const{fallback:i=null,showMessage:a=!0}=n;return function(o){const{checkPermission:l,isSoloMode:c,activeTeam:u}=Aa(),f=Array.isArray(e)?e:[e],p=r==="all"?f.every(h=>l(h)):f.some(h=>l(h));return c||p?d.jsx(t,{...o}):i?d.jsx(d.Fragment,{children:i}):a?d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Xle,{className:"w-8 h-8 text-red-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Restrito"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Você não possui permissão para acessar este módulo."}),u&&d.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-sm",children:[d.jsxs("p",{className:"text-amber-800",children:[d.jsx("strong",{children:"Equipe:"})," ",u.name]}),d.jsxs("p",{className:"text-amber-700 mt-2",children:["Permissões necessárias:"," ",d.jsx("span",{className:"font-semibold",children:f.join(r==="all"?" E ":" OU ")})]}),d.jsx("p",{className:"text-amber-600 text-xs mt-2",children:"Entre em contato com o administrador da equipe para solicitar acesso."})]})]})}):null}}function rs(){const{checkPermission:t,isSoloMode:e,isOwner:r,permissions:n}=Aa();return{hasPermission:i=>t(i),hasAllPermissions:(...i)=>i.every(a=>t(a)),hasAnyPermission:(...i)=>i.some(a=>t(a)),canEdit:t("processos")||t("agenda"),canView:!0,canManageTeam:t("equipe"),canManageFinances:t("financas"),canManageSettings:t("configuracoes"),isSoloMode:e,isOwner:r,permissions:n}}function W_e({onNewProcess:t,onViewProcess:e,onEditProcess:r}){const[n,i]=I.useState([]),[a,s]=I.useState(""),[o,l]=I.useState("all"),[c,u]=I.useState(!0),{hasPermission:f}=rs(),{isSoloMode:p,activeTeam:h}=Aa(),y=f("processos"),g=f("processos"),b=f("processos");I.useEffect(()=>{m()},[]);const m=async()=>{try{u(!0);const P=await rt.getProcesses();i(P),console.log(`${P.length} processos carregados`)}catch(P){console.error("Erro ao carregar processos:",P),alert("Erro ao carregar processos. Tente recarregar a página.")}finally{u(!1)}},v=async P=>{if(!b){alert("Você não possui permissão para excluir processos.");return}if(confirm("Tem certeza que deseja excluir este processo?"))try{await rt.deleteProcess(P)&&await m()}catch($){console.error("Erro ao excluir processo:",$),alert("Erro ao excluir processo. Tente novamente.")}},w=n.filter(P=>{const $=P.name.toLowerCase().includes(a.toLowerCase())||P.client.toLowerCase().includes(a.toLowerCase())||P.processNumber.toLowerCase().includes(a.toLowerCase()),C=o==="all"||P.status===o;return $&&C}),E=P=>Pa(new Date(P),"dd/MM/yyyy",{locale:yi});return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Processos Jurídicos"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie todos os processos do escritório"}),!p&&h&&d.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["📁 Visualizando processos da equipe: ",h.name]})]}),d.jsxs("button",{onClick:t,disabled:!y,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${y?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:y?"Criar novo processo":"Sem permissão para criar processos",children:[d.jsx(od,{className:"w-5 h-5 mr-2"}),"Novo Processo"]})]}),!y&&!p&&d.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-amber-800",children:"⚠️ Você possui acesso somente leitura. Não é possível criar ou editar processos."})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(ST,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar por nome, cliente ou número do processo...",value:a,onChange:P=>s(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(kx,{className:"w-5 h-5 text-gray-400"}),d.jsxs("select",{value:o,onChange:P=>l(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Todos os Status"}),d.jsx("option",{value:"Em andamento",children:"Em andamento"}),d.jsx("option",{value:"Concluído",children:"Concluído"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Processo"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advogado"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Início"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(P=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),d.jsx("div",{className:"text-sm text-gray-500",children:P.processNumber})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.client}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.jsx("div",{children:P.responsibleLawyers&&P.responsibleLawyers.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"font-medium",children:P.responsibleLawyers[0]}),P.responsibleLawyers.length>1&&d.jsxs("div",{className:"text-xs text-gray-500",children:["+",P.responsibleLawyers.length-1," outros"]})]}):d.jsx("span",{className:"text-gray-400",children:"Não definido"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E(P.startDate)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.status==="Em andamento"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:P.status})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsx("button",{onClick:()=>e(P),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Visualizar",children:d.jsx(Sc,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>g&&r(P),disabled:!g,className:`p-1 rounded ${g?"text-amber-600 hover:text-amber-900 hover:bg-amber-50":"text-gray-300 cursor-not-allowed"}`,title:g?"Editar":"Sem permissão para editar",children:d.jsx(js,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>v(P.id),disabled:!b,className:`p-1 rounded ${b?"text-red-600 hover:text-red-900 hover:bg-red-50":"text-gray-300 cursor-not-allowed"}`,title:b?"Excluir":"Sem permissão para excluir",children:d.jsx(Ac,{className:"w-4 h-4"})})]})})]},P.id))})]})}),c?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"Carregando processos..."})}):w.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:n.length===0?y?'Nenhum processo cadastrado. Clique em "Novo Processo" para começar.':"Nenhum processo cadastrado ainda.":"Nenhum processo encontrado com os filtros aplicados."})}):null]})]})}const H_e=Uy(W_e,"processos","any",{showMessage:!0}),G_e=Ds({name:lt().required("Nome do processo é obrigatório"),processNumber:lt().required("Número do processo é obrigatório"),client:lt().required("Cliente é obrigatório"),opposingParty:lt(),court:lt().required("Fórum/Comarca é obrigatório"),responsibleLawyers:Om().min(1,"Pelo menos um advogado responsável é obrigatório"),startDate:lt().required("Data de início é obrigatória"),status:lt().required("Status é obrigatório"),description:lt().required("Descrição é obrigatória"),notes:lt()});function K_e({process:t,onBack:e,onSave:r}){const[n,i]=I.useState((t==null?void 0:t.attachments)||[]),[a,s]=I.useState((t==null?void 0:t.responsibleLawyers)||[]),[o,l]=I.useState([]),[c,u]=I.useState(!1),[f,p]=I.useState(!0),{hasPermission:h}=rs(),y=h("processos"),{register:g,handleSubmit:b,formState:{errors:m},setValue:v}=_l({resolver:El(G_e),defaultValues:t||{status:"Em andamento"}});I.useEffect(()=>{w(),t&&(Object.keys(t).forEach(N=>{v(N,t[N])}),i(t.attachments||[]),s(t.responsibleLawyers||[]))},[t,v]);const w=async()=>{try{p(!0);const A=(await rt.getLawyers()).filter(D=>D.status==="Ativo");l(A)}catch(N){console.error("Erro ao carregar advogados:",N),alert("Erro ao carregar lista de advogados.")}finally{p(!1)}},E=N=>{y&&s(A=>A.includes(N)?A.filter(D=>D!==N):[...A,N])},P=()=>{if(!y){alert("Você não possui permissão para adicionar anexos.");return}const N=prompt("Nome do arquivo anexado:");N&&N.trim()&&i([...n,N.trim()])},$=N=>{y&&i(n.filter((A,D)=>D!==N))},C=async N=>{if(!(c||!y))try{if(u(!0),t){const A=await rt.updateProcess(t.id,{...N,attachments:n,responsibleLawyers:a});A?(console.log("Processo atualizado com sucesso"),r(A)):alert("Erro ao atualizar processo")}else{const A=await rt.saveProcess({...N,attachments:n,responsibleLawyers:a});console.log("Novo processo criado com sucesso"),r(A)}}catch(A){console.error("Erro ao salvar processo:",A),alert("Erro ao salvar processo. Tente novamente.")}finally{u(!1)}};return!y&&!f?d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6 text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-amber-800 mb-2",children:"Sem Permissão"}),d.jsxs("p",{className:"text-amber-700 mb-4",children:["Você não possui permissão para ",t?"editar":"criar"," processos."]}),d.jsx("button",{onClick:e,className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"Voltar"})]})})}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:c,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Processo":"Novo Processo"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do processo":"Cadastre um novo processo jurídico"})]})]}),d.jsx("form",{onSubmit:b(C),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Processo *"}),d.jsx("input",{...g("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Ex: Execução Fiscal – José Santos",disabled:c||!y}),m.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do Processo *"}),d.jsx("input",{...g("processNumber"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"0001234-56.2023.8.02.0001",disabled:c||!y}),m.processNumber&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.processNumber.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),d.jsx("input",{...g("client"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Nome do cliente",disabled:c||!y}),m.client&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.client.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parte Contrária"}),d.jsx("input",{...g("opposingParty"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Nome da parte contrária",disabled:c||!y})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fórum/Comarca e Vara *"}),d.jsx("input",{...g("court"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Comarca de São Paulo - 1ª Vara Cível",disabled:c||!y}),m.court&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.court.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advogados Responsáveis *"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto",children:f?d.jsx("p",{className:"text-gray-500 text-sm",children:"Carregando advogados..."}):o.length>0?d.jsx("div",{className:"space-y-2",children:o.map(N=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:a.includes(N.fullName),onChange:()=>E(N.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50",disabled:c||!y}),d.jsxs("span",{className:"text-sm text-gray-700",children:[N.fullName," - OAB: ",N.oab]})]},N.id))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum advogado disponível"})}),a.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Selecionados:"}),d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.map((N,A)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[N,d.jsx("button",{type:"button",onClick:()=>E(N),className:"ml-1 text-blue-600 hover:text-blue-800",disabled:c||!y,children:d.jsx(_a,{className:"w-3 h-3"})})]},A))})]}),a.length===0&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Pelo menos um advogado é obrigatório"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Início *"}),d.jsx("input",{...g("startDate"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",disabled:c||!y}),m.startDate&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.startDate.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),d.jsxs("select",{...g("status"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",disabled:c||!y,children:[d.jsx("option",{value:"Em andamento",children:"Em andamento"}),d.jsx("option",{value:"Concluído",children:"Concluído"})]}),m.status&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.status.message})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalhes do Caso"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição Principal *"}),d.jsx("textarea",{...g("description"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Descreva os detalhes principais do caso...",disabled:c||!y}),m.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.description.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Anotações Complementares"}),d.jsx("textarea",{...g("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Observações adicionais...",disabled:c||!y})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentos Anexos"}),d.jsxs("button",{type:"button",onClick:P,disabled:c||!y,className:`flex items-center px-3 py-2 text-sm rounded-lg transition-colors ${y&&!c?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:y?"Adicionar anexo":"Sem permissão para adicionar anexos",children:[d.jsx(od,{className:"w-4 h-4 mr-2"}),"Adicionar Anexo"]})]}),n.length>0?d.jsx("div",{className:"space-y-2",children:n.map((N,A)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsx("span",{className:"text-sm text-gray-700",children:N}),d.jsx("button",{type:"button",onClick:()=>$(A),disabled:c||!y,className:`p-2 rounded ${y&&!c?"text-red-600 hover:text-red-800 hover:bg-red-50":"text-gray-300 cursor-not-allowed"}`,children:d.jsx(_a,{className:"w-4 h-4"})})]},A))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum documento anexado"})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:e,disabled:c,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsxs("button",{type:"submit",disabled:c||!y,className:`px-6 py-2 rounded-lg transition-colors ${y&&!c?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:y?"Salvar processo":"Sem permissão para salvar",children:[c?"Salvando...":t?"Atualizar":"Salvar"," Processo"]})]})]})})]})}function Y_e({process:t,onBack:e,onEdit:r,onUpdate:n}){const[i,a]=I.useState(!1),{hasPermission:s}=rs(),o=s("processos"),l=f=>Pa(new Date(f),"dd/MM/yyyy",{locale:yi}),c=async()=>{if(!o){alert("Você não possui permissão para atualizar processos.");return}if(confirm("Tem certeza que deseja marcar este processo como concluído?"))try{a(!0);const f=await rt.updateProcess(t.id,{status:"Concluído"});f&&n&&n(f)}catch(f){console.error("Erro ao atualizar status do processo:",f),alert("Erro ao atualizar processo. Tente novamente.")}finally{a(!1)}},u=()=>{if(!o){alert("Você não possui permissão para editar processos.");return}r()};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:i,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsx("p",{className:"text-gray-600",children:"Visualização detalhada do processo"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[t.status==="Em andamento"&&d.jsxs("button",{onClick:c,disabled:i||!o,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${o?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:o?"Marcar como concluído":"Sem permissão para atualizar",children:[d.jsx(yl,{className:"w-5 h-5 mr-2"}),i?"Atualizando...":"Marcar como Concluído"]}),d.jsxs("button",{onClick:u,disabled:!o,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${o?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:o?"Editar processo":"Sem permissão para editar",children:[d.jsx(js,{className:"w-5 h-5 mr-2"}),"Editar"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Processo"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Número do Processo"}),d.jsx("p",{className:"text-gray-900 font-mono",children:t.processNumber})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Status"}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${t.status==="Em andamento"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.status})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cliente"}),d.jsx("p",{className:"text-gray-900",children:t.client})]}),t.opposingParty&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Parte Contrária"}),d.jsx("p",{className:"text-gray-900",children:t.opposingParty})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Fórum/Comarca"}),d.jsx("p",{className:"text-gray-900",children:t.court})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Advogados Responsáveis"}),d.jsx("div",{children:t.responsibleLawyers&&t.responsibleLawyers.length>0?d.jsx("div",{className:"flex flex-wrap gap-1",children:t.responsibleLawyers.map((f,p)=>d.jsx("span",{className:"inline-flex px-2 py-1 text-sm bg-blue-100 text-blue-800 rounded-full",children:f},p))}):d.jsx("p",{className:"text-gray-400",children:"Não definido"})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Início"}),d.jsx("p",{className:"text-gray-900",children:l(t.startDate)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Criação"}),d.jsx("p",{className:"text-gray-900",children:l(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Descrição do Caso"}),d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.description})})]}),t.notes&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Anotações Complementares"}),d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.notes})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentos Anexos"}),t.attachments&&t.attachments.length>0?d.jsx("div",{className:"space-y-3",children:t.attachments.map((f,p)=>d.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Nle,{className:"w-5 h-5 text-gray-400 mr-3"}),d.jsx("span",{className:"text-gray-900",children:f})]},p))}):d.jsx("p",{className:"text-gray-500",children:"Nenhum documento anexado"})]})]})]})}const X_e=Ds({title:lt().required("Título é obrigatório"),date:lt().required("Data é obrigatória"),time:lt().required("Horário é obrigatório"),client:lt(),type:lt().required("Tipo é obrigatório"),location:lt(),notes:lt(),lawyers:Om().min(1,"Pelo menos um advogado é obrigatório"),processNumber:lt(),priority:lt()});function J_e({event:t,selectedDate:e,onBack:r,onSave:n}){const[i,a]=wr.useState([]),[s,o]=wr.useState((t==null?void 0:t.lawyers)||[]),[l,c]=wr.useState([]),[u,f]=wr.useState(!0),{hasPermission:p}=rs(),h=p("agenda"),{register:y,handleSubmit:g,formState:{errors:b},setValue:m,watch:v}=_l({resolver:El(X_e),defaultValues:t||{type:"Reunião com Cliente",status:"Pendente",priority:"Média"}}),w=v("processNumber");I.useEffect(()=>{E()},[]),I.useEffect(()=>{t?(Object.keys(t).forEach(C=>{m(C,t[C])}),o(t.lawyers||[])):e&&m("date",Pa(e,"yyyy-MM-dd"))},[t,e,m]);const E=async()=>{try{f(!0);const[C,N]=await Promise.all([rt.getLawyers(),rt.getProcesses()]),A=C.filter(D=>D.status==="Ativo");a(A),c(N),console.log(`${A.length} advogados ativos carregados`)}catch(C){console.error("Erro ao carregar dados:",C)}finally{f(!1)}};I.useEffect(()=>{if(w){const C=l.find(N=>N.processNumber===w);C&&(m("client",C.client),C.responsibleLawyers&&o(C.responsibleLawyers))}},[w,l,m]);const P=C=>{h&&o(N=>N.includes(C)?N.filter(A=>A!==C):[...N,C])},$=C=>{if(!h){alert("Você não possui permissão para salvar eventos.");return}const N={id:(t==null?void 0:t.id)||Date.now().toString(),status:"Pendente",lawyers:s,...C};n(N)};return u?d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Carregando dados..."})]})})}):h?d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:r,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Evento":"Novo Evento"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do evento":"Cadastre um novo evento na agenda"})]})]}),d.jsx("form",{onSubmit:g($),className:"max-w-2xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título do Evento *"}),d.jsx("input",{...y("title"),type:"text",disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Ex: Audiência - João Silva"}),b.title&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.title.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...y("date"),type:"date",disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"}),b.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.date.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horário *"}),d.jsx("input",{...y("time"),type:"time",disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"}),b.time&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.time.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do Processo"}),d.jsxs("select",{...y("processNumber"),disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[d.jsx("option",{value:"",children:"Selecione um processo (opcional)"}),l.map(C=>d.jsxs("option",{value:C.processNumber,children:[C.processNumber," - ",C.name]},C.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente"}),d.jsx("input",{...y("client"),type:"text",disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Nome do cliente (opcional)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Compromisso *"}),d.jsxs("select",{...y("type"),disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[d.jsx("option",{value:"Audiência",children:"Audiência"}),d.jsx("option",{value:"Reunião com Cliente",children:"Reunião com Cliente"}),d.jsx("option",{value:"Prazo Processual",children:"Prazo Processual"}),d.jsx("option",{value:"Prazo Interno",children:"Prazo Interno"}),d.jsx("option",{value:"Ligação Importante",children:"Ligação Importante"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),b.type&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),d.jsxs("select",{...y("priority"),disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[d.jsx("option",{value:"Baixa",children:"Baixa"}),d.jsx("option",{value:"Média",children:"Média"}),d.jsx("option",{value:"Alta",children:"Alta"}),d.jsx("option",{value:"Urgente",children:"Urgente"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Local"}),d.jsx("input",{...y("location"),type:"text",disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Ex: Fórum Central - Sala 205"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advogados Responsáveis *"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto",children:i.length>0?d.jsx("div",{className:"space-y-2",children:i.map(C=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:s.includes(C.fullName),onChange:()=>P(C.fullName),disabled:!h,className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[C.fullName," - OAB: ",C.oab]})]},C.id))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum advogado disponível"})}),s.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Selecionados:"}),d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:s.map((C,N)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[C,h&&d.jsx("button",{type:"button",onClick:()=>P(C),className:"ml-1 text-blue-600 hover:text-blue-800",children:d.jsx(_a,{className:"w-3 h-3"})})]},N))})]}),s.length===0&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Pelo menos um advogado é obrigatório"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),d.jsx("textarea",{...y("notes"),rows:3,disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Observações adicionais sobre o evento..."})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsxs("button",{type:"submit",disabled:!h,className:`px-6 py-2 rounded-lg transition-colors ${h?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[t?"Atualizar":"Salvar"," Evento"]})]})]})})]}):d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(_a,{className:"w-8 h-8 text-red-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sem Permissão"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["Você não possui permissão para ",t?"editar":"criar"," eventos."]}),d.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar"})]})})}const DL={Audiência:{color:"bg-red-100 text-red-800",icon:Gle,iconColor:"text-red-600"},"Reunião com Cliente":{color:"bg-blue-100 text-blue-800",icon:K0,iconColor:"text-blue-600"},"Prazo Processual":{color:"bg-amber-100 text-amber-800",icon:Pp,iconColor:"text-amber-600"},"Prazo Interno":{color:"bg-orange-100 text-orange-800",icon:H0,iconColor:"text-orange-600"},"Ligação Importante":{color:"bg-green-100 text-green-800",icon:AT,iconColor:"text-green-600"},Outro:{color:"bg-gray-100 text-gray-800",icon:Ny,iconColor:"text-gray-600"}},Q_e={Baixa:"bg-green-100 text-green-800",Média:"bg-yellow-100 text-yellow-800",Alta:"bg-orange-100 text-orange-800",Urgente:"bg-red-100 text-red-800"};function Z_e({event:t,onBack:e,onEdit:r,onDelete:n,onUpdate:i}){const{hasPermission:a}=rs(),s=a("agenda"),o=a("agenda"),l=b=>Pa(new Date(b),"dd/MM/yyyy",{locale:yi}),c=b=>b,u=async()=>{if(!s){alert("Você não possui permissão para alterar o status do evento.");return}if(confirm("Tem certeza que deseja marcar este evento como concluído?"))try{const b=await rt.updateEvent(t.id,{status:"Concluído"});b&&i&&i(b)}catch(b){console.error("Erro ao atualizar status do evento:",b),alert("Erro ao atualizar evento. Tente novamente.")}},f=async()=>{if(!s){alert("Você não possui permissão para alterar o status do evento.");return}if(confirm("Tem certeza que deseja marcar este evento como pendente?"))try{const b=await rt.updateEvent(t.id,{status:"Pendente"});b&&i&&i(b)}catch(b){console.error("Erro ao atualizar status do evento:",b),alert("Erro ao atualizar evento. Tente novamente.")}},p=()=>{if(!s){alert("Você não possui permissão para editar eventos.");return}r()},h=()=>{if(!o){alert("Você não possui permissão para excluir eventos.");return}n()},y=DL[t.type]||DL.Outro,g=y.icon;return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(g,{className:`w-8 h-8 ${y.iconColor}`}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.title})]}),d.jsx("p",{className:"text-gray-600",children:"Detalhes do compromisso"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[t.status==="Pendente"?d.jsxs("button",{onClick:u,disabled:!s,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${s?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:s?"Marcar como concluído":"Sem permissão para alterar status",children:[d.jsx(yl,{className:"w-5 h-5 mr-2"}),"Marcar como Concluído"]}):d.jsxs("button",{onClick:f,disabled:!s,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${s?"bg-amber-600 text-white hover:bg-amber-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:s?"Marcar como pendente":"Sem permissão para alterar status",children:[d.jsx(H0,{className:"w-5 h-5 mr-2"}),"Marcar como Pendente"]}),d.jsxs("button",{onClick:p,disabled:!s,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${s?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:s?"Editar evento":"Sem permissão para editar",children:[d.jsx(js,{className:"w-5 h-5 mr-2"}),"Remarcar"]}),d.jsxs("button",{onClick:h,disabled:!o,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${o?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:o?"Excluir evento":"Sem permissão para excluir",children:[d.jsx(Ac,{className:"w-5 h-5 mr-2"}),"Excluir"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Evento"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data"}),d.jsx("p",{className:"text-gray-900 font-medium",children:l(t.date)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Horário"}),d.jsx("p",{className:"text-gray-900 font-medium",children:c(t.time)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Tipo"}),d.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-sm font-semibold rounded-full ${y.color}`,children:[d.jsx(g,{className:`w-4 h-4 mr-2 ${y.iconColor}`}),t.type]})]}),t.priority&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Prioridade"}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${Q_e[t.priority]}`,children:t.priority})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Status"}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${t.status==="Concluído"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.status})]}),t.client&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cliente"}),d.jsx("p",{className:"text-gray-900",children:t.client})]}),t.processNumber&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Número do Processo"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Cx,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900 font-mono",children:t.processNumber})]})]}),t.location&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Local"}),d.jsx("p",{className:"text-gray-900",children:t.location})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Advogados Responsáveis"}),d.jsx("div",{children:t.lawyers&&t.lawyers.length>0?d.jsx("div",{className:"flex flex-wrap gap-1",children:t.lawyers.map((b,m)=>d.jsx("span",{className:"inline-flex px-2 py-1 text-sm bg-blue-100 text-blue-800 rounded-full",children:b},m))}):d.jsx("p",{className:"text-gray-400",children:"Não definido"})})]})]})]}),t.notes&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Observações"}),d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.notes})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ações Rápidas"}),d.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.status==="Pendente"?d.jsxs("button",{onClick:u,disabled:!s,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${s?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[d.jsx(yl,{className:"w-4 h-4 mr-2"}),"Marcar como Concluído"]}):d.jsxs("button",{onClick:f,disabled:!s,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${s?"bg-amber-600 text-white hover:bg-amber-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[d.jsx(H0,{className:"w-4 h-4 mr-2"}),"Marcar como Pendente"]}),d.jsxs("button",{onClick:p,disabled:!s,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${s?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[d.jsx(js,{className:"w-4 h-4 mr-2"}),"Remarcar Evento"]}),d.jsxs("button",{onClick:h,disabled:!o,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${o?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[d.jsx(Ac,{className:"w-4 h-4 mr-2"}),"Excluir Evento"]})]})]})]})]})}function eEe({quickActionType:t,onClearQuickAction:e}){const[r,n]=I.useState([]),[i,a]=I.useState(new Date),[s,o]=I.useState("month"),[l,c]=I.useState(!1),[u,f]=I.useState(!1),[p,h]=I.useState(null),[y,g]=I.useState(null),[b,m]=I.useState(!0),[v,w]=I.useState(!1),[E,P]=I.useState({client:"",processNumber:"",lawyer:"",type:"",priority:"",status:""}),{hasPermission:$}=rs(),{isSoloMode:C,activeTeam:N}=Aa(),A=$("agenda"),D=$("agenda"),F=$("agenda");I.useEffect(()=>{S()},[]),I.useEffect(()=>{t==="event"&&(A?(c(!0),h(null)):alert("Você não possui permissão para criar eventos."),e())},[t,e,A]);const S=async()=>{try{m(!0);const we=await rt.getEvents();n(we),console.log(`${we.length} eventos carregados`)}catch(we){console.error("Erro ao carregar eventos:",we),n([])}finally{m(!1)}};PL(i),NL(i),(()=>{switch(s){case"week":const we=Yf(i,{locale:yi}),ve=CL(i,{locale:yi});return TL({start:we,end:ve});case"day":return[i];default:const M=PL(i),K=NL(i),ee=Yf(M,{locale:yi}),de=CL(K,{locale:yi});return TL({start:ee,end:de})}})();const k=Object.values(E).some(we=>we!=="");[...new Set(r.map(we=>we.client).filter(Boolean))],[...new Set(r.map(we=>we.processNumber).filter(Boolean))],[...new Set(r.flatMap(we=>we.lawyers))];const ie=we=>{if(!A){alert("Você não possui permissão para criar eventos.");return}g(null),h(null),c(!0),f(!1)},ae=we=>{if(!D){alert("Você não possui permissão para editar eventos.");return}h(we),c(!0),f(!1)},Q=async we=>{try{p?await rt.updateEvent(p.id,we)&&(console.log("Evento atualizado com sucesso"),await S()):await rt.saveEvent(we)&&(console.log("Novo evento criado com sucesso"),await S()),c(!1),f(!1),h(null),g(null)}catch(ve){console.error("Erro ao salvar evento:",ve),alert("Erro ao salvar evento. Tente novamente.")}},se=async we=>{if(!F){alert("Você não possui permissão para excluir eventos.");return}if(confirm("Tem certeza que deseja excluir este evento?"))try{await rt.deleteEvent(we)&&(await S(),f(!1),h(null))}catch(ve){console.error("Erro ao excluir evento:",ve),alert("Erro ao excluir evento. Tente novamente.")}},fe=()=>{c(!1),f(!1),h(null),g(null)};return l?d.jsx(J_e,{event:p,selectedDate:y,onBack:fe,onSave:Q}):u&&p?d.jsx(Z_e,{event:p,onBack:fe,onEdit:()=>ae(p),onDelete:()=>se(p.id),onUpdate:async we=>{h(we),await S()}}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agenda"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie compromissos e eventos"}),!C&&N&&d.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["📅 Visualizando agenda da equipe: ",N.name]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:()=>w(!v),className:`flex items-center px-4 py-2 rounded-lg transition-colors ${v||k?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(kx,{className:"w-5 h-5 mr-2"}),"Filtros",k&&d.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Object.values(E).filter(we=>we!=="").length})]}),d.jsxs("button",{onClick:()=>ie(),disabled:!A,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${A?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:A?"Criar novo evento":"Sem permissão para criar eventos",children:[d.jsx(od,{className:"w-5 h-5 mr-2"}),"Novo Evento"]})]})]}),!A&&!C&&d.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-amber-800",children:"⚠️ Você possui acesso somente leitura. Não é possível criar ou editar eventos."})}),b&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando eventos..."})]}),!b&&d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("p",{className:"text-center py-12 text-gray-500",children:["Calendário renderizado com ",r.length," eventos"]})})]})}const tEe=Uy(eEe,"agenda","any",{showMessage:!0}),rEe=Ds({date:lt().required("Data é obrigatória"),amount:jm().positive("Valor deve ser positivo").required("Valor é obrigatório"),source:lt().required("Fonte é obrigatória"),category:lt().required("Categoria é obrigatória"),responsibleLawyers:Om(),client:lt(),description:lt()}),nEe=Ds({date:lt().required("Data é obrigatória"),amount:jm().positive("Valor deve ser positivo").required("Valor é obrigatório"),type:lt().required("Tipo é obrigatório"),category:lt().required("Categoria é obrigatória"),responsibleMembers:Om(),description:lt(),receipt:lt()});function iEe({type:t,item:e,onBack:r,onSave:n}){const[i,a]=wr.useState([]),[s,o]=wr.useState([]),[l,c]=wr.useState((e==null?void 0:e.responsibleLawyers)||(e==null?void 0:e.responsibleMembers)||[]),[u,f]=wr.useState(!0),{hasPermission:p}=rs(),h=p("financas"),y=t==="revenue"?rEe:nEe,{register:g,handleSubmit:b,formState:{errors:m},setValue:v}=_l({resolver:El(y),defaultValues:e||(t==="revenue"?{category:"Honorário"}:{category:"Aluguel"})});I.useEffect(()=>{w()},[]),I.useEffect(()=>{if(e){Object.keys(e).forEach(C=>{v(C,e[C])});const $=(e==null?void 0:e.responsibleMembers)||(e==null?void 0:e.responsibleLawyers)||[];c($)}},[e,v]);const w=async()=>{try{f(!0);const[$,C]=await Promise.all([rt.getLawyers(),rt.getEmployees()]);a($.filter(N=>N.status==="Ativo")),o(C.filter(N=>N.status==="Ativo"))}catch($){console.error("Erro ao carregar membros da equipe:",$),a([]),o([])}finally{f(!1)}},E=$=>{h&&c(C=>C.includes($)?C.filter(N=>N!==$):[...C,$])},P=$=>{if(!h){alert("Você não possui permissão para salvar registros financeiros.");return}const C={id:(e==null?void 0:e.id)||Date.now().toString(),responsibleMembers:l,...t==="revenue"&&{responsibleLawyers:l},...$};n(C,t)};return u?d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando formulário..."})]})}):h?d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:r,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[e?"Editar":"Nova"," ",t==="revenue"?"Receita":"Despesa"]}),d.jsxs("p",{className:"text-gray-600",children:[e?"Atualize as informações":"Cadastre uma nova entrada",t==="revenue"?" de receita":" de despesa"]})]})]}),d.jsx("form",{onSubmit:b(P),className:"max-w-2xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...g("date"),type:"date",disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"}),m.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.date.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor *"}),d.jsx("input",{...g("amount",{valueAsNumber:!0}),type:"number",step:"0.01",min:"0",disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"0.00"}),m.amount&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.amount.message})]}),t==="revenue"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fonte *"}),d.jsx("input",{...g("source"),type:"text",disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Ex: João Silva"}),m.source&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.source.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),d.jsxs("select",{...g("category"),disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[d.jsx("option",{value:"Honorário",children:"Honorário"}),d.jsx("option",{value:"Consultoria",children:"Consultoria"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),m.category&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.category.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente"}),d.jsx("input",{...g("client"),type:"text",disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Nome do cliente (opcional)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsáveis"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-32 overflow-y-auto",children:i.length>0||s.length>0?d.jsxs("div",{className:"space-y-2",children:[i.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advogados"}),i.map($=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes($.fullName),onChange:()=>E($.fullName),disabled:!h,className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[$.fullName," - OAB: ",$.oab]})]},`lawyer-${$.id}`))]}),s.length>0&&d.jsxs(d.Fragment,{children:[i.length>0&&d.jsx("div",{className:"border-t border-gray-200 my-2"}),d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Colaboradores"}),s.map($=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes($.fullName),onChange:()=>E($.fullName),disabled:!h,className:"mr-3 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded disabled:opacity-50"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[$.fullName," - ",$.position]})]},`employee-${$.id}`))]})]}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum responsável disponível"})}),l.length>0&&d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(($,C)=>{const N=i.some(A=>A.fullName===$);return d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:[$,h&&d.jsx("button",{type:"button",onClick:()=>E($),className:`ml-1 hover:${N?"text-blue-800":"text-green-800"}`,children:d.jsx(_a,{className:"w-3 h-3"})})]},C)})})})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo *"}),d.jsx("input",{...g("type"),type:"text",disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Ex: Aluguel do escritório"}),m.type&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),d.jsxs("select",{...g("category"),disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[d.jsx("option",{value:"Aluguel",children:"Aluguel"}),d.jsx("option",{value:"Internet",children:"Internet"}),d.jsx("option",{value:"Material",children:"Material"}),d.jsx("option",{value:"Energia",children:"Energia"}),d.jsx("option",{value:"Salário",children:"Salário"}),d.jsx("option",{value:"Alimentação/Bebidas",children:"Alimentação/Bebidas"}),d.jsx("option",{value:"Evento",children:"Evento"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),m.category&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.category.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comprovante"}),d.jsx("input",{...g("receipt"),type:"text",disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Nome do arquivo ou referência"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsável pela despesa"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-32 overflow-y-auto",children:i.length>0||s.length>0?d.jsxs("div",{className:"space-y-2",children:[i.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advogados"}),i.map($=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes($.fullName),onChange:()=>E($.fullName),disabled:!h,className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[$.fullName," - OAB: ",$.oab]})]},`lawyer-${$.id}`))]}),s.length>0&&d.jsxs(d.Fragment,{children:[i.length>0&&d.jsx("div",{className:"border-t border-gray-200 my-2"}),d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Colaboradores"}),s.map($=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l.includes($.fullName),onChange:()=>E($.fullName),disabled:!h,className:"mr-3 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded disabled:opacity-50"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[$.fullName," - ",$.position]})]},`employee-${$.id}`))]})]}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum responsável disponível"})}),l.length>0&&d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(($,C)=>{const N=i.some(A=>A.fullName===$);return d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:[$,h&&d.jsx("button",{type:"button",onClick:()=>E($),className:`ml-1 hover:${N?"text-blue-800":"text-green-800"}`,children:d.jsx(_a,{className:"w-3 h-3"})})]},C)})})})]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição"}),d.jsx("textarea",{...g("description"),rows:3,disabled:!h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Descrição adicional (opcional)"})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsxs("button",{type:"submit",disabled:!h,className:`px-6 py-2 rounded-lg transition-colors ${h?t==="revenue"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[e?"Atualizar":"Salvar"," ",t==="revenue"?"Receita":"Despesa"]})]})]})})]}):d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(_a,{className:"w-8 h-8 text-red-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sem Permissão"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["Você não possui permissão para ",e?"editar":"criar"," ",t==="revenue"?"receitas":"despesas","."]}),d.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar"})]})})}function aEe({quickActionType:t,onClearQuickAction:e}){const[r,n]=I.useState([]),[i,a]=I.useState([]),[s,o]=I.useState("revenues"),[l,c]=I.useState(""),[u,f]=I.useState("all"),[p,h]=I.useState(!1),[y,g]=I.useState("revenue"),[b,m]=I.useState(null),[v,w]=I.useState(!0),{hasPermission:E}=rs(),{isSoloMode:P,activeTeam:$}=Aa(),C=E("financas"),N=E("financas"),A=E("financas");I.useEffect(()=>{D()},[]),I.useEffect(()=>{t==="revenue"&&C?(g("revenue"),m(null),h(!0),e()):t==="expense"&&C?(g("expense"),m(null),h(!0),e()):(t==="revenue"||t==="expense")&&!C&&(alert("Você não possui permissão para criar registros financeiros."),e())},[t,e,C]);const D=async()=>{try{w(!0);const[K,ee]=await Promise.all([rt.getRevenues(),rt.getExpenses()]);n(K),a(ee),console.log(`${K.length} receitas e ${ee.length} despesas carregadas`)}catch(K){console.error("Erro ao carregar dados financeiros:",K),n([]),a([])}finally{w(!1)}},F=K=>{if(!C){alert("Você não possui permissão para criar registros financeiros.");return}g(K),m(null),h(!0)},S=(K,ee)=>{if(!N){alert("Você não possui permissão para editar registros financeiros.");return}g(ee),m(K),h(!0)},O=async(K,ee)=>{try{b?ee==="revenue"?await rt.updateRevenue(b.id,K)&&console.log("Receita atualizada com sucesso"):await rt.updateExpense(b.id,K)&&console.log("Despesa atualizada com sucesso"):ee==="revenue"?await rt.saveRevenue(K)&&console.log("Nova receita criada com sucesso"):await rt.saveExpense(K)&&console.log("Nova despesa criada com sucesso"),await D(),h(!1),m(null)}catch(de){console.error("Erro ao salvar item financeiro:",de),alert("Erro ao salvar. Tente novamente.")}},k=async(K,ee)=>{if(!A){alert("Você não possui permissão para excluir registros financeiros.");return}if(confirm(`Tem certeza que deseja excluir esta ${ee==="revenue"?"receita":"despesa"}?`))try{let de=!1;ee==="revenue"?de=await rt.deleteRevenue(K):de=await rt.deleteExpense(K),de&&await D()}catch(de){console.error("Erro ao excluir item:",de),alert("Erro ao excluir. Tente novamente.")}},ie=()=>{h(!1),m(null)},ae=r.filter(K=>{const ee=K.source.toLowerCase().includes(l.toLowerCase())||K.client&&K.client.toLowerCase().includes(l.toLowerCase())||K.description&&K.description.toLowerCase().includes(l.toLowerCase()),de=u==="all"||K.category===u;return ee&&de}),Q=i.filter(K=>{const ee=K.type.toLowerCase().includes(l.toLowerCase())||K.description&&K.description.toLowerCase().includes(l.toLowerCase()),de=u==="all"||K.category===u;return ee&&de}),se=K=>Pa(new Date(K),"dd/MM/yyyy",{locale:yi}),fe=K=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(K),we=r.reduce((K,ee)=>K+ee.amount,0),ve=i.reduce((K,ee)=>K+ee.amount,0),M=we-ve;return p?d.jsx(iEe,{type:y,item:b,onBack:ie,onSave:O}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestão Financeira"}),d.jsx("p",{className:"text-gray-600",children:"Controle de receitas e despesas do escritório"}),!P&&$&&d.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["💰 Visualizando finanças da equipe: ",$.name]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:()=>F("revenue"),disabled:!C,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${C?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:C?"Nova receita":"Sem permissão para criar receitas",children:[d.jsx(Bj,{className:"w-5 h-5 mr-2"}),"Nova Receita"]}),d.jsxs("button",{onClick:()=>F("expense"),disabled:!C,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${C?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:C?"Nova despesa":"Sem permissão para criar despesas",children:[d.jsx(Fj,{className:"w-5 h-5 mr-2"}),"Nova Despesa"]})]})]}),!C&&!P&&d.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-amber-800",children:"⚠️ Você possui acesso somente leitura. Não é possível criar ou editar dados financeiros."})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Bj,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-green-100 text-sm",children:"Total de Receitas"}),d.jsx("p",{className:"text-2xl font-bold",children:fe(we)})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Fj,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-100 text-sm",children:"Total de Despesas"}),d.jsx("p",{className:"text-2xl font-bold",children:fe(ve)})]})]})}),d.jsx("div",{className:`rounded-lg p-6 text-white ${M>=0?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-orange-500 to-orange-600"}`,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-8 h-8 mr-3 flex items-center justify-center",children:d.jsx("span",{className:"text-2xl font-bold",children:"₿"})}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${M>=0?"text-blue-100":"text-orange-100"}`,children:"Saldo Atual"}),d.jsx("p",{className:"text-2xl font-bold",children:fe(M)})]})]})})]}),d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[d.jsxs("button",{onClick:()=>o("revenues"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${s==="revenues"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Receitas (",r.length,")"]}),d.jsxs("button",{onClick:()=>o("expenses"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${s==="expenses"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Despesas (",i.length,")"]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(ST,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:l,onChange:K=>c(K.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(kx,{className:"w-5 h-5 text-gray-400"}),d.jsxs("select",{value:u,onChange:K=>f(K.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Todas as Categorias"}),s==="revenues"?d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"Honorário",children:"Honorário"}),d.jsx("option",{value:"Consultoria",children:"Consultoria"}),d.jsx("option",{value:"Outro",children:"Outro"})]}):d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"Aluguel",children:"Aluguel"}),d.jsx("option",{value:"Internet",children:"Internet"}),d.jsx("option",{value:"Material",children:"Material"}),d.jsx("option",{value:"Outro",children:"Outro"})]})]})]})]})]}),v?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando dados financeiros..."})]}):s==="revenues"?d.jsxs("div",{className:"space-y-3",children:[ae.map(K=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("span",{className:"text-lg font-semibold text-green-600",children:fe(K.amount)}),d.jsx("span",{className:"text-gray-900 font-medium",children:K.source}),K.client&&d.jsxs("span",{className:"text-sm text-gray-500",children:["• ",K.client]})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mt-1",children:[d.jsx("span",{children:se(K.date)}),d.jsx("span",{children:"•"}),d.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 rounded-full text-xs",children:K.category})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>S(K,"revenue"),disabled:!N,className:`p-2 rounded ${N?"text-amber-600 hover:text-amber-900 hover:bg-amber-50":"text-gray-300 cursor-not-allowed"}`,title:N?"Editar":"Sem permissão para editar",children:d.jsx(js,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>k(K.id,"revenue"),disabled:!A,className:`p-2 rounded ${A?"text-red-600 hover:text-red-900 hover:bg-red-50":"text-gray-300 cursor-not-allowed"}`,title:A?"Excluir":"Sem permissão para excluir",children:d.jsx(Ac,{className:"w-4 h-4"})})]})]},K.id)),ae.length===0&&d.jsx("div",{className:"text-center py-8 text-gray-500",children:r.length===0?C?'Nenhuma receita cadastrada. Clique em "Nova Receita" para começar.':"Nenhuma receita cadastrada ainda.":"Nenhuma receita encontrada com os filtros aplicados."})]}):d.jsxs("div",{className:"space-y-3",children:[Q.map(K=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("span",{className:"text-lg font-semibold text-red-600",children:fe(K.amount)}),d.jsx("span",{className:"text-gray-900 font-medium",children:K.type})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mt-1",children:[d.jsx("span",{children:se(K.date)}),d.jsx("span",{children:"•"}),d.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-800 rounded-full text-xs",children:K.category})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>S(K,"expense"),disabled:!N,className:`p-2 rounded ${N?"text-amber-600 hover:text-amber-900 hover:bg-amber-50":"text-gray-300 cursor-not-allowed"}`,title:N?"Editar":"Sem permissão para editar",children:d.jsx(js,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>k(K.id,"expense"),disabled:!A,className:`p-2 rounded ${A?"text-red-600 hover:text-red-900 hover:bg-red-50":"text-gray-300 cursor-not-allowed"}`,title:A?"Excluir":"Sem permissão para excluir",children:d.jsx(Ac,{className:"w-4 h-4"})})]})]},K.id)),Q.length===0&&d.jsx("div",{className:"text-center py-8 text-gray-500",children:i.length===0?C?'Nenhuma despesa cadastrada. Clique em "Nova Despesa" para começar.':"Nenhuma despesa cadastrada ainda.":"Nenhuma despesa encontrada com os filtros aplicados."})]})]})})]})}const sEe=Uy(aEe,"financas","any",{showMessage:!0}),oEe="modulepreload",lEe=function(t){return"/LegalX/"+t},ML={},YN=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=lEe(l),l in ML)return;ML[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":oEe,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function mr(t){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(t)}var Bi=Uint8Array,Ga=Uint16Array,P6=Int32Array,j2=new Bi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),O2=new Bi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),XN=new Bi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vH=function(t,e){for(var r=new Ga(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new P6(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},bH=vH(j2,2),wH=bH.b,JN=bH.r;wH[28]=258,JN[258]=28;var xH=vH(O2,0),cEe=xH.b,FL=xH.r,QN=new Ga(32768);for(var Mr=0;Mr<32768;++Mr){var bu=(Mr&43690)>>1|(Mr&21845)<<1;bu=(bu&52428)>>2|(bu&13107)<<2,bu=(bu&61680)>>4|(bu&3855)<<4,QN[Mr]=((bu&65280)>>8|(bu&255)<<8)>>1}var pl=function(t,e,r){for(var n=t.length,i=0,a=new Ga(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new Ga(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new Ga(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[QN[f]>>l]=c}else for(o=new Ga(n),i=0;i<n;++i)t[i]&&(o[i]=QN[s[t[i]-1]++]>>15-t[i]);return o},cd=new Bi(288);for(var Mr=0;Mr<144;++Mr)cd[Mr]=8;for(var Mr=144;Mr<256;++Mr)cd[Mr]=9;for(var Mr=256;Mr<280;++Mr)cd[Mr]=7;for(var Mr=280;Mr<288;++Mr)cd[Mr]=8;var ay=new Bi(32);for(var Mr=0;Mr<32;++Mr)ay[Mr]=5;var uEe=pl(cd,9,0),dEe=pl(cd,9,1),fEe=pl(ay,5,0),hEe=pl(ay,5,1),N_=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Qs=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},T_=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},C6=function(t){return(t+7)/8|0},_H=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Bi(t.subarray(e,r))},pEe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ro=function(t,e,r){var n=new Error(e||pEe[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,ro),!r)throw n;return n},mEe=function(t,e,r,n){var i=t.length,a=0;if(!i||e.f&&!e.l)return r||new Bi(0);var s=!r,o=s||e.i!=2,l=e.i;s&&(r=new Bi(i*3));var c=function(Z){var J=r.length;if(Z>J){var Ee=new Bi(Math.max(J*2,Z));Ee.set(r),r=Ee}},u=e.f||0,f=e.p||0,p=e.b||0,h=e.l,y=e.d,g=e.m,b=e.n,m=i*8;do{if(!h){u=Qs(t,f,1);var v=Qs(t,f+1,3);if(f+=3,v)if(v==1)h=dEe,y=hEe,g=9,b=5;else if(v==2){var $=Qs(t,f,31)+257,C=Qs(t,f+10,15)+4,N=$+Qs(t,f+5,31)+1;f+=14;for(var A=new Bi(N),D=new Bi(19),F=0;F<C;++F)D[XN[F]]=Qs(t,f+F*3,7);f+=C*3;for(var S=N_(D),O=(1<<S)-1,k=pl(D,S,1),F=0;F<N;){var ie=k[Qs(t,f,O)];f+=ie&15;var w=ie>>4;if(w<16)A[F++]=w;else{var ae=0,Q=0;for(w==16?(Q=3+Qs(t,f,3),f+=2,ae=A[F-1]):w==17?(Q=3+Qs(t,f,7),f+=3):w==18&&(Q=11+Qs(t,f,127),f+=7);Q--;)A[F++]=ae}}var se=A.subarray(0,$),fe=A.subarray($);g=N_(se),b=N_(fe),h=pl(se,g,1),y=pl(fe,b,1)}else ro(1);else{var w=C6(f)+4,E=t[w-4]|t[w-3]<<8,P=w+E;if(P>i){l&&ro(0);break}o&&c(p+E),r.set(t.subarray(w,P),p),e.b=p+=E,e.p=f=P*8,e.f=u;continue}if(f>m){l&&ro(0);break}}o&&c(p+131072);for(var we=(1<<g)-1,ve=(1<<b)-1,M=f;;M=f){var ae=h[T_(t,f)&we],K=ae>>4;if(f+=ae&15,f>m){l&&ro(0);break}if(ae||ro(2),K<256)r[p++]=K;else if(K==256){M=f,h=null;break}else{var ee=K-254;if(K>264){var F=K-257,de=j2[F];ee=Qs(t,f,(1<<de)-1)+wH[F],f+=de}var ue=y[T_(t,f)&ve],z=ue>>4;ue||ro(3),f+=ue&15;var fe=cEe[z];if(z>3){var de=O2[z];fe+=T_(t,f)&(1<<de)-1,f+=de}if(f>m){l&&ro(0);break}o&&c(p+131072);var V=p+ee;if(p<fe){var te=a-fe,ce=Math.min(fe,V);for(te+p<0&&ro(3);p<ce;++p)r[p]=n[te+p]}for(;p<V;++p)r[p]=r[p-fe]}}e.l=h,e.p=M,e.b=p,e.f=u,h&&(u=1,e.m=g,e.d=y,e.n=b)}while(!u);return p!=r.length&&s?_H(r,0,p):r.subarray(0,p)},Hl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Cg=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},P_=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:SH,l:0};if(i==1){var s=new Bi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,$){return P.f-$.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new Ga(p+1),y=ZN(r[u-1],h,0);if(y>e){var n=0,g=0,b=y-e,m=1<<b;for(a.sort(function($,C){return h[C.s]-h[$.s]||$.f-C.f});n<i;++n){var v=a[n].s;if(h[v]>e)g+=m-(1<<y-h[v]),h[v]=e;else break}for(g>>=b;g>0;){var w=a[n].s;h[w]<e?g-=1<<e-h[w]++-1:++n}for(;n>=0&&g;--n){var E=a[n].s;h[E]==e&&(--h[E],++g)}y=e}return{t:new Bi(h),l:y}},ZN=function(t,e,r){return t.s==-1?Math.max(ZN(t.l,e,r+1),ZN(t.r,e,r+1)):e[t.s]=r},BL=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ga(++e),n=0,i=t[0],a=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},kg=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},EH=function(t,e,r){var n=r.length,i=C6(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},$L=function(t,e,r,n,i,a,s,o,l,c,u){Hl(e,u++,r),++i[256];for(var f=P_(i,15),p=f.t,h=f.l,y=P_(a,15),g=y.t,b=y.l,m=BL(p),v=m.c,w=m.n,E=BL(g),P=E.c,$=E.n,C=new Ga(19),N=0;N<v.length;++N)++C[v[N]&31];for(var N=0;N<P.length;++N)++C[P[N]&31];for(var A=P_(C,7),D=A.t,F=A.l,S=19;S>4&&!D[XN[S-1]];--S);var O=c+5<<3,k=kg(i,cd)+kg(a,ay)+s,ie=kg(i,p)+kg(a,g)+s+14+3*S+kg(C,D)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&O<=k&&O<=ie)return EH(e,u,t.subarray(l,l+c));var ae,Q,se,fe;if(Hl(e,u,1+(ie<k)),u+=2,ie<k){ae=pl(p,h,0),Q=p,se=pl(g,b,0),fe=g;var we=pl(D,F,0);Hl(e,u,w-257),Hl(e,u+5,$-1),Hl(e,u+10,S-4),u+=14;for(var N=0;N<S;++N)Hl(e,u+3*N,D[XN[N]]);u+=3*S;for(var ve=[v,P],M=0;M<2;++M)for(var K=ve[M],N=0;N<K.length;++N){var ee=K[N]&31;Hl(e,u,we[ee]),u+=D[ee],ee>15&&(Hl(e,u,K[N]>>5&127),u+=K[N]>>12)}}else ae=uEe,Q=cd,se=fEe,fe=ay;for(var N=0;N<o;++N){var de=n[N];if(de>255){var ee=de>>18&31;Cg(e,u,ae[ee+257]),u+=Q[ee+257],ee>7&&(Hl(e,u,de>>23&31),u+=j2[ee]);var ue=de&31;Cg(e,u,se[ue]),u+=fe[ue],ue>3&&(Cg(e,u,de>>5&8191),u+=O2[ue])}else Cg(e,u,ae[de]),u+=Q[de]}return Cg(e,u,ae[256]),u+Q[256]},gEe=new P6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SH=new Bi(0),yEe=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Bi(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=gEe[e-1],p=f>>13,h=f&8191,y=(1<<r)-1,g=a.p||new Ga(32768),b=a.h||new Ga(y+1),m=Math.ceil(r/3),v=2*m,w=function(H){return(t[H]^t[H+1]<<m^t[H+2]<<v)&y},E=new P6(25e3),P=new Ga(288),$=new Ga(32),C=0,N=0,A=a.i||0,D=0,F=a.w||0,S=0;A+2<s;++A){var O=w(A),k=A&32767,ie=b[O];if(g[k]=ie,b[O]=k,F<=A){var ae=s-A;if((C>7e3||D>24576)&&(ae>423||!c)){u=$L(t,l,0,E,P,$,N,D,S,A-S,u),D=C=N=0,S=A;for(var Q=0;Q<286;++Q)P[Q]=0;for(var Q=0;Q<30;++Q)$[Q]=0}var se=2,fe=0,we=h,ve=k-ie&32767;if(ae>2&&O==w(A-ve))for(var M=Math.min(p,ae)-1,K=Math.min(32767,A),ee=Math.min(258,ae);ve<=K&&--we&&k!=ie;){if(t[A+se]==t[A+se-ve]){for(var de=0;de<ee&&t[A+de]==t[A+de-ve];++de);if(de>se){if(se=de,fe=ve,de>M)break;for(var ue=Math.min(ve,de-2),z=0,Q=0;Q<ue;++Q){var V=A-ve+Q&32767,te=g[V],ce=V-te&32767;ce>z&&(z=ce,ie=V)}}}k=ie,ie=g[k],ve+=k-ie&32767}if(fe){E[D++]=268435456|JN[se]<<18|FL[fe];var Z=JN[se]&31,J=FL[fe]&31;N+=j2[Z]+O2[J],++P[257+Z],++$[J],F=A+se,++C}else E[D++]=t[A],++P[t[A]]}}for(A=Math.max(A,F);A<s;++A)E[D++]=t[A],++P[t[A]];u=$L(t,l,c,E,P,$,N,D,S,A-S,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=b,a.p=g,a.i=A,a.w=F)}else{for(var A=a.w||0;A<s+c;A+=65535){var Ee=A+65535;Ee>=s&&(l[u/8|0]=c,Ee=s),u=EH(l,u+1,t.subarray(A,Ee))}a.i=s}return _H(o,0,n+C6(u)+i)},AH=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},vEe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Bi(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return yEe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},NH=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},bEe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=AH();i.p(e.dictionary),NH(t,2,i.d())}},wEe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ro(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&ro(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function e4(t,e){e||(e={});var r=AH();r.p(t);var n=vEe(t,e,e.dictionary?6:2,4);return bEe(n,e),NH(n,n.length-4,r.d()),n}function xEe(t,e){return mEe(t.subarray(wEe(t,e),-4),{i:2},e,e)}var _Ee=typeof TextDecoder<"u"&&new TextDecoder,EEe=0;try{_Ee.decode(SH,{stream:!0}),EEe=1}catch{}var St=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function C_(){St.console&&typeof St.console.log=="function"&&St.console.log.apply(St.console,arguments)}var Ar={log:C_,warn:function(t){St.console&&(typeof St.console.warn=="function"?St.console.warn.apply(St.console,arguments):C_.call(null,arguments))},error:function(t){St.console&&(typeof St.console.error=="function"?St.console.error.apply(St.console,arguments):C_(t))}};function k_(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){sf(n.response,e,r)},n.onerror=function(){Ar.error("could not download file")},n.send()}function UL(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function r1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var g0,t4,sf=St.saveAs||((typeof window>"u"?"undefined":mr(window))!=="object"||window!==St?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=St.URL||St.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?UL(i.href)?k_(t,e,r):r1(i,i.target="_blank"):r1(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){r1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(UL(t))k_(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){r1(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:mr(a)!=="object"&&(Ar.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return k_(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(St.HTMLElement)||St.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":mr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=St.URL||St.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function TH(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function I_(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Ci(r,n,i,a,e[0],7,-680876936),a=Ci(a,r,n,i,e[1],12,-389564586),i=Ci(i,a,r,n,e[2],17,606105819),n=Ci(n,i,a,r,e[3],22,-1044525330),r=Ci(r,n,i,a,e[4],7,-176418897),a=Ci(a,r,n,i,e[5],12,1200080426),i=Ci(i,a,r,n,e[6],17,-1473231341),n=Ci(n,i,a,r,e[7],22,-45705983),r=Ci(r,n,i,a,e[8],7,1770035416),a=Ci(a,r,n,i,e[9],12,-1958414417),i=Ci(i,a,r,n,e[10],17,-42063),n=Ci(n,i,a,r,e[11],22,-1990404162),r=Ci(r,n,i,a,e[12],7,1804603682),a=Ci(a,r,n,i,e[13],12,-40341101),i=Ci(i,a,r,n,e[14],17,-1502002290),r=ki(r,n=Ci(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=ki(a,r,n,i,e[6],9,-1069501632),i=ki(i,a,r,n,e[11],14,643717713),n=ki(n,i,a,r,e[0],20,-373897302),r=ki(r,n,i,a,e[5],5,-701558691),a=ki(a,r,n,i,e[10],9,38016083),i=ki(i,a,r,n,e[15],14,-660478335),n=ki(n,i,a,r,e[4],20,-405537848),r=ki(r,n,i,a,e[9],5,568446438),a=ki(a,r,n,i,e[14],9,-1019803690),i=ki(i,a,r,n,e[3],14,-187363961),n=ki(n,i,a,r,e[8],20,1163531501),r=ki(r,n,i,a,e[13],5,-1444681467),a=ki(a,r,n,i,e[2],9,-51403784),i=ki(i,a,r,n,e[7],14,1735328473),r=Ii(r,n=ki(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ii(a,r,n,i,e[8],11,-2022574463),i=Ii(i,a,r,n,e[11],16,1839030562),n=Ii(n,i,a,r,e[14],23,-35309556),r=Ii(r,n,i,a,e[1],4,-1530992060),a=Ii(a,r,n,i,e[4],11,1272893353),i=Ii(i,a,r,n,e[7],16,-155497632),n=Ii(n,i,a,r,e[10],23,-1094730640),r=Ii(r,n,i,a,e[13],4,681279174),a=Ii(a,r,n,i,e[0],11,-358537222),i=Ii(i,a,r,n,e[3],16,-722521979),n=Ii(n,i,a,r,e[6],23,76029189),r=Ii(r,n,i,a,e[9],4,-640364487),a=Ii(a,r,n,i,e[12],11,-421815835),i=Ii(i,a,r,n,e[15],16,530742520),r=ji(r,n=Ii(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=ji(a,r,n,i,e[7],10,1126891415),i=ji(i,a,r,n,e[14],15,-1416354905),n=ji(n,i,a,r,e[5],21,-57434055),r=ji(r,n,i,a,e[12],6,1700485571),a=ji(a,r,n,i,e[3],10,-1894986606),i=ji(i,a,r,n,e[10],15,-1051523),n=ji(n,i,a,r,e[1],21,-2054922799),r=ji(r,n,i,a,e[8],6,1873313359),a=ji(a,r,n,i,e[15],10,-30611744),i=ji(i,a,r,n,e[6],15,-1560198380),n=ji(n,i,a,r,e[13],21,1309151649),r=ji(r,n,i,a,e[4],6,-145523070),a=ji(a,r,n,i,e[11],10,-1120210379),i=ji(i,a,r,n,e[2],15,718787259),n=ji(n,i,a,r,e[9],21,-343485551),t[0]=Mu(r,t[0]),t[1]=Mu(n,t[1]),t[2]=Mu(i,t[2]),t[3]=Mu(a,t[3])}function R2(t,e,r,n,i,a){return e=Mu(Mu(e,t),Mu(n,a)),Mu(e<<i|e>>>32-i,r)}function Ci(t,e,r,n,i,a,s){return R2(e&r|~e&n,t,e,i,a,s)}function ki(t,e,r,n,i,a,s){return R2(e&n|r&~n,t,e,i,a,s)}function Ii(t,e,r,n,i,a,s){return R2(e^r^n,t,e,i,a,s)}function ji(t,e,r,n,i,a,s){return R2(r^(e|~n),t,e,i,a,s)}function PH(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)I_(n,SEe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(I_(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,I_(n,i),n}function SEe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}g0=St.atob.bind(St),t4=St.btoa.bind(St);var VL="0123456789abcdef".split("");function AEe(t){for(var e="",r=0;r<4;r++)e+=VL[t>>8*r+4&15]+VL[t>>8*r&15];return e}function NEe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function r4(t){return PH(t).map(NEe).join("")}var TEe=function(t){for(var e=0;e<t.length;e++)t[e]=AEe(t[e]);return t.join("")}(PH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Mu(t,e){if(TEe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function n4(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var f=e.length,p=0,h=0,y="";for(l=0;l<f;l++)h=(h+(u=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=u,s=o[(o[p]+o[h])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var zL={print:4,modify:8,copy:16,"annot-forms":32};function Jh(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(zL.perm!==void 0)throw new Error("Invalid permission: "+o);i+=zL[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=r4(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=n4(this.encryptionKey,this.padding)}function Qh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function qL(t){if(mr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){St.console&&Ar.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Iw(t){if(!(this instanceof Iw))return new Iw(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function CH(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function lf(t,e,r,n,i){if(!(this instanceof lf))return new lf(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,CH.call(this,n,i)}function gp(t,e,r,n,i){if(!(this instanceof gp))return new gp(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,CH.call(this,n,i)}function xt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;mr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=qL;var y="1.3",g=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(L){y=L};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var m=h.__private__.getPageFormat=function(L){return b[L]};i=i||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},w=v.COMPAT;function E(){this.saveGraphicsState(),B(new dt(et,0,0,-et,0,Ai()*et).toString()+" cm"),this.setFontSize(this.getFontSize()/et),c="n",w=v.ADVANCED}function P(){this.restoreGraphicsState(),c="S",w=v.COMPAT}var $=h.__private__.combineFontStyleAndFontWeight=function(L,oe){if(L=="bold"&&oe=="normal"||L=="bold"&&oe==400||L=="normal"&&oe=="italic"||L=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(L=oe==400||oe==="normal"?L==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||L!=="normal"?(oe==700?"bold":oe)+""+L:"bold"),L};h.advancedAPI=function(L){var oe=w===v.COMPAT;return oe&&E.call(this),typeof L!="function"||(L(this),oe&&P.call(this)),this},h.compatAPI=function(L){var oe=w===v.ADVANCED;return oe&&P.call(this),typeof L!="function"||(L(this),oe&&E.call(this)),this},h.isAdvancedAPI=function(){return w===v.ADVANCED};var C,N=function(L){if(w!==v.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=h.roundToPrecision=h.__private__.roundToPrecision=function(L,oe){var _e=e||oe;if(isNaN(L)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(_e).replace(/0+$/,"")};C=h.hpf=h.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,16)};var D=h.f2=h.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return A(L,2)},F=h.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return A(L,3)},S=h.scale=h.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return w===v.COMPAT?L*et:w===v.ADVANCED?L:void 0},O=function(L){return w===v.COMPAT?Ai()-L:w===v.ADVANCED?L:void 0},k=function(L){return S(O(L))};h.__private__.setPrecision=h.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(e=parseInt(L,10))};var ie,ae="00000000000000000000000000000000",Q=h.__private__.getFileId=function(){return ae},se=h.__private__.setFileId=function(L){return ae=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Rr=new Jh(u.userPermissions,u.userPassword,u.ownerPassword,ae)),ae};h.setFileId=function(L){return se(L),this},h.getFileId=function(){return Q()};var fe=h.__private__.convertDateToPDFDate=function(L){var oe=L.getTimezoneOffset(),_e=oe<0?"+":"-",Te=Math.floor(Math.abs(oe/60)),Oe=Math.abs(oe%60),Ue=[_e,ee(Te),"'",ee(Oe),"'"].join("");return["D:",L.getFullYear(),ee(L.getMonth()+1),ee(L.getDate()),ee(L.getHours()),ee(L.getMinutes()),ee(L.getSeconds()),Ue].join("")},we=h.__private__.convertPDFDateToDate=function(L){var oe=parseInt(L.substr(2,4),10),_e=parseInt(L.substr(6,2),10)-1,Te=parseInt(L.substr(8,2),10),Oe=parseInt(L.substr(10,2),10),Ue=parseInt(L.substr(12,2),10),Xe=parseInt(L.substr(14,2),10);return new Date(oe,_e,Te,Oe,Ue,Xe,0)},ve=h.__private__.setCreationDate=function(L){var oe;if(L===void 0&&(L=new Date),L instanceof Date)oe=fe(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=L}return ie=oe},M=h.__private__.getCreationDate=function(L){var oe=ie;return L==="jsDate"&&(oe=we(ie)),oe};h.setCreationDate=function(L){return ve(L),this},h.getCreationDate=function(L){return M(L)};var K,ee=h.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},de=h.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},ue=0,z=[],V=[],te=0,ce=[],Z=[],J=!1,Ee=V,H=function(){ue=0,te=0,V=[],z=[],ce=[],$s=Xr(),Si=Xr()};h.__private__.setCustomOutputDestination=function(L){J=!0,Ee=L};var be=function(L){J||(Ee=L)};h.__private__.resetCustomOutputDestination=function(){J=!1,Ee=V};var B=h.__private__.out=function(L){return L=L.toString(),te+=L.length+1,Ee.push(L),Ee},j=h.__private__.write=function(L){return B(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},R=h.__private__.getArrayBuffer=function(L){for(var oe=L.length,_e=new ArrayBuffer(oe),Te=new Uint8Array(_e);oe--;)Te[oe]=L.charCodeAt(oe);return _e},W=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return W};var G=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(L){return G=w===v.ADVANCED?L/et:L,this};var ne,re=h.__private__.getFontSize=h.getFontSize=function(){return w===v.COMPAT?G:G*et},Se=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(L){return Se=L,this},h.__private__.getR2L=h.getR2L=function(){return Se};var Ne,Ae=h.__private__.setZoomMode=function(L){var oe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))ne=L;else if(isNaN(L)){if(oe.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');ne=L}else ne=parseInt(L,10)};h.__private__.getZoomMode=function(){return ne};var Ie,Fe=h.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Ne=L};h.__private__.getPageMode=function(){return Ne};var Ke=h.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Ie=L};h.__private__.getLayoutMode=function(){return Ie},h.__private__.setDisplayMode=h.setDisplayMode=function(L,oe,_e){return Ae(L),Ke(oe),Fe(_e),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(L){if(Object.keys(nt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[L]},h.__private__.getDocumentProperties=function(){return nt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(L){for(var oe in nt)nt.hasOwnProperty(oe)&&L[oe]&&(nt[oe]=L[oe]);return this},h.__private__.setDocumentProperty=function(L,oe){if(Object.keys(nt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[L]=oe};var wt,et,ar,gt,zr,$t={},Mt={},ai=[],Ft={},ns={},xr={},_n={},Bn=null,nr=0,_t=[],Xt=new qL(h),is=t.hotfixes||[],En={},_i={},ka=[],dt=function L(oe,_e,Te,Oe,Ue,Xe){if(!(this instanceof L))return new L(oe,_e,Te,Oe,Ue,Xe);isNaN(oe)&&(oe=1),isNaN(_e)&&(_e=0),isNaN(Te)&&(Te=0),isNaN(Oe)&&(Oe=1),isNaN(Ue)&&(Ue=0),isNaN(Xe)&&(Xe=0),this._matrix=[oe,_e,Te,Oe,Ue,Xe]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(L)},dt.prototype.multiply=function(L){var oe=L.sx*this.sx+L.shy*this.shx,_e=L.sx*this.shy+L.shy*this.sy,Te=L.shx*this.sx+L.sy*this.shx,Oe=L.shx*this.shy+L.sy*this.sy,Ue=L.tx*this.sx+L.ty*this.shx+this.tx,Xe=L.tx*this.shy+L.ty*this.sy+this.ty;return new dt(oe,_e,Te,Oe,Ue,Xe)},dt.prototype.decompose=function(){var L=this.sx,oe=this.shy,_e=this.shx,Te=this.sy,Oe=this.tx,Ue=this.ty,Xe=Math.sqrt(L*L+oe*oe),at=(L/=Xe)*_e+(oe/=Xe)*Te;_e-=L*at,Te-=oe*at;var _=Math.sqrt(_e*_e+Te*Te);return at/=_,L*(Te/=_)<oe*(_e/=_)&&(L=-L,oe=-oe,at=-at,Xe=-Xe),{scale:new dt(Xe,0,0,_,0,0),translate:new dt(1,0,0,1,Oe,Ue),rotate:new dt(L,oe,-oe,L,0,0),skew:new dt(1,0,at,1,0,0)}},dt.prototype.toString=function(L){return this.join(" ")},dt.prototype.inversed=function(){var L=this.sx,oe=this.shy,_e=this.shx,Te=this.sy,Oe=this.tx,Ue=this.ty,Xe=1/(L*Te-oe*_e),at=Te*Xe,_=-oe*Xe,q=-_e*Xe,X=L*Xe;return new dt(at,_,q,X,-at*Oe-q*Ue,-_*Oe-X*Ue)},dt.prototype.applyToPoint=function(L){var oe=L.x*this.sx+L.y*this.shx+this.tx,_e=L.x*this.shy+L.y*this.sy+this.ty;return new Ll(oe,_e)},dt.prototype.applyToRectangle=function(L){var oe=this.applyToPoint(L),_e=this.applyToPoint(new Ll(L.x+L.w,L.y+L.h));return new Zc(oe.x,oe.y,_e.x-oe.x,_e.y-oe.y)},dt.prototype.clone=function(){var L=this.sx,oe=this.shy,_e=this.shx,Te=this.sy,Oe=this.tx,Ue=this.ty;return new dt(L,oe,_e,Te,Oe,Ue)},h.Matrix=dt;var na=h.matrixMult=function(L,oe){return oe.multiply(L)},Ei=new dt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ei;var Sn=function(L,oe){if(!ns[L]){var _e=(oe instanceof lf?"Sh":"P")+(Object.keys(Ft).length+1).toString(10);oe.id=_e,ns[L]=_e,Ft[_e]=oe,Xt.publish("addPattern",oe)}};h.ShadingPattern=lf,h.TilingPattern=gp,h.addShadingPattern=function(L,oe){return N("addShadingPattern()"),Sn(L,oe),this},h.beginTilingPattern=function(L){N("beginTilingPattern()"),eu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},h.endTilingPattern=function(L,oe){N("endTilingPattern()"),oe.stream=Z[K].join(`
`),Sn(L,oe),Xt.publish("endTilingPattern",oe),ka.pop().restore()};var sn=h.__private__.newObject=function(){var L=Xr();return An(L,!0),L},Xr=h.__private__.newObjectDeferred=function(){return ue++,z[ue]=function(){return te},ue},An=function(L,oe){return oe=typeof oe=="boolean"&&oe,z[L]=te,oe&&B(L+" 0 obj"),L},Bc=h.__private__.newAdditionalObject=function(){var L={objId:Xr(),content:""};return ce.push(L),L},$s=Xr(),Si=Xr(),ia=h.__private__.decodeColorString=function(L){var oe=L.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length===5&&(oe[4]==="k"||oe[4]==="K")&&(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var _e=parseFloat(oe[0]);oe=[_e,_e,_e,"r"]}for(var Te="#",Oe=0;Oe<3;Oe++)Te+=("0"+Math.floor(255*parseFloat(oe[Oe])).toString(16)).slice(-2);return Te},zi=h.__private__.encodeColorString=function(L){var oe;typeof L=="string"&&(L={ch1:L});var _e=L.ch1,Te=L.ch2,Oe=L.ch3,Ue=L.ch4,Xe=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var at=new TH(_e);if(at.ok)_e=at.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var _=parseInt(_e.substr(1),16);_e=_>>16&255,Te=_>>8&255,Oe=255&_}if(Te===void 0||Ue===void 0&&_e===Te&&Te===Oe)if(typeof _e=="string")oe=_e+" "+Xe[0];else switch(L.precision){case 2:oe=D(_e/255)+" "+Xe[0];break;case 3:default:oe=F(_e/255)+" "+Xe[0]}else if(Ue===void 0||mr(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return oe=["1.","1.","1.",Xe[1]].join(" ");if(typeof _e=="string")oe=[_e,Te,Oe,Xe[1]].join(" ");else switch(L.precision){case 2:oe=[D(_e/255),D(Te/255),D(Oe/255),Xe[1]].join(" ");break;default:case 3:oe=[F(_e/255),F(Te/255),F(Oe/255),Xe[1]].join(" ")}}else if(typeof _e=="string")oe=[_e,Te,Oe,Ue,Xe[2]].join(" ");else switch(L.precision){case 2:oe=[D(_e),D(Te),D(Oe),D(Ue),Xe[2]].join(" ");break;case 3:default:oe=[F(_e),F(Te),F(Oe),F(Ue),Xe[2]].join(" ")}return oe},qi=h.__private__.getFilters=function(){return s},on=h.__private__.putStream=function(L){var oe=(L=L||{}).data||"",_e=L.filters||qi(),Te=L.alreadyAppliedFilters||[],Oe=L.addLength1||!1,Ue=oe.length,Xe=L.objectId,at=function(kt){return kt};if(u!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(at=Rr.encryptor(Xe,0));var _={};_e===!0&&(_e=["FlateEncode"]);var q=L.additionalKeyValues||[],X=(_=xt.API.processDataByFilters!==void 0?xt.API.processDataByFilters(oe,_e):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(_.data.length!==0&&(q.push({key:"Length",value:_.data.length}),Oe===!0&&q.push({key:"Length1",value:Ue})),X.length!=0)if(X.split("/").length-1==1)q.push({key:"Filter",value:X});else{q.push({key:"Filter",value:"["+X+"]"});for(var me=0;me<q.length;me+=1)if(q[me].key==="DecodeParms"){for(var je=[],Me=0;Me<_.reverseChain.split("/").length-1;Me+=1)je.push("null");je.push(q[me].value),q[me].value="["+je.join(" ")+"]"}}B("<<");for(var Je=0;Je<q.length;Je++)B("/"+q[Je].key+" "+q[Je].value);B(">>"),_.data.length!==0&&(B("stream"),B(at(_.data)),B("endstream"))},Ia=h.__private__.putPage=function(L){var oe=L.number,_e=L.data,Te=L.objId,Oe=L.contentsObjId;An(Te,!0),B("<</Type /Page"),B("/Parent "+L.rootDictionaryObjId+" 0 R"),B("/Resources "+L.resourceDictionaryObjId+" 0 R"),B("/MediaBox ["+parseFloat(C(L.mediaBox.bottomLeftX))+" "+parseFloat(C(L.mediaBox.bottomLeftY))+" "+C(L.mediaBox.topRightX)+" "+C(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&B("/CropBox ["+C(L.cropBox.bottomLeftX)+" "+C(L.cropBox.bottomLeftY)+" "+C(L.cropBox.topRightX)+" "+C(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&B("/BleedBox ["+C(L.bleedBox.bottomLeftX)+" "+C(L.bleedBox.bottomLeftY)+" "+C(L.bleedBox.topRightX)+" "+C(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&B("/TrimBox ["+C(L.trimBox.bottomLeftX)+" "+C(L.trimBox.bottomLeftY)+" "+C(L.trimBox.topRightX)+" "+C(L.trimBox.topRightY)+"]"),L.artBox!==null&&B("/ArtBox ["+C(L.artBox.bottomLeftX)+" "+C(L.artBox.bottomLeftY)+" "+C(L.artBox.topRightX)+" "+C(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&B("/UserUnit "+L.userUnit),Xt.publish("putPage",{objId:Te,pageContext:_t[oe],pageNumber:oe,page:_e}),B("/Contents "+Oe+" 0 R"),B(">>"),B("endobj");var Ue=_e.join(`
`);return w===v.ADVANCED&&(Ue+=`
Q`),An(Oe,!0),on({data:Ue,filters:qi(),objectId:Oe}),B("endobj"),Te},Co=h.__private__.putPages=function(){var L,oe,_e=[];for(L=1;L<=nr;L++)_t[L].objId=Xr(),_t[L].contentsObjId=Xr();for(L=1;L<=nr;L++)_e.push(Ia({number:L,data:Z[L],objId:_t[L].objId,contentsObjId:_t[L].contentsObjId,mediaBox:_t[L].mediaBox,cropBox:_t[L].cropBox,bleedBox:_t[L].bleedBox,trimBox:_t[L].trimBox,artBox:_t[L].artBox,userUnit:_t[L].userUnit,rootDictionaryObjId:$s,resourceDictionaryObjId:Si}));An($s,!0),B("<</Type /Pages");var Te="/Kids [";for(oe=0;oe<nr;oe++)Te+=_e[oe]+" 0 R ";B(Te+"]"),B("/Count "+nr),B(">>"),B("endobj"),Xt.publish("postPutPages")},ko=function(L){Xt.publish("putFont",{font:L,out:B,newObject:sn,putStream:on}),L.isAlreadyPutted!==!0&&(L.objectNumber=sn(),B("<<"),B("/Type /Font"),B("/BaseFont /"+Qh(L.postScriptName)),B("/Subtype /Type1"),typeof L.encoding=="string"&&B("/Encoding /"+L.encoding),B("/FirstChar 32"),B("/LastChar 255"),B(">>"),B("endobj"))},Io=function(){for(var L in $t)$t.hasOwnProperty(L)&&(f===!1||f===!0&&p.hasOwnProperty(L))&&ko($t[L])},Nl=function(L){L.objectNumber=sn();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[C(L.x),C(L.y),C(L.x+L.width),C(L.y+L.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var _e=L.pages[1].join(`
`);on({data:_e,additionalKeyValues:oe,objectId:L.objectNumber}),B("endobj")},Tl=function(){for(var L in En)En.hasOwnProperty(L)&&Nl(En[L])},hh=function(L,oe){var _e,Te=[],Oe=1/(oe-1);for(_e=0;_e<1;_e+=Oe)Te.push(_e);if(Te.push(1),L[0].offset!=0){var Ue={offset:0,color:L[0].color};L.unshift(Ue)}if(L[L.length-1].offset!=1){var Xe={offset:1,color:L[L.length-1].color};L.push(Xe)}for(var at="",_=0,q=0;q<Te.length;q++){for(_e=Te[q];_e>L[_+1].offset;)_++;var X=L[_].offset,me=(_e-X)/(L[_+1].offset-X),je=L[_].color,Me=L[_+1].color;at+=de(Math.round((1-me)*je[0]+me*Me[0]).toString(16))+de(Math.round((1-me)*je[1]+me*Me[1]).toString(16))+de(Math.round((1-me)*je[2]+me*Me[2]).toString(16))}return at.trim()},$c=function(L,oe){oe||(oe=21);var _e=sn(),Te=hh(L.colors,oe),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+oe+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),on({data:Te,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),B("endobj"),L.objectNumber=sn(),B("<< /ShadingType "+L.type),B("/ColorSpace /DeviceRGB");var Ue="/Coords ["+C(parseFloat(L.coords[0]))+" "+C(parseFloat(L.coords[1]))+" ";L.type===2?Ue+=C(parseFloat(L.coords[2]))+" "+C(parseFloat(L.coords[3])):Ue+=C(parseFloat(L.coords[2]))+" "+C(parseFloat(L.coords[3]))+" "+C(parseFloat(L.coords[4]))+" "+C(parseFloat(L.coords[5])),B(Ue+="]"),L.matrix&&B("/Matrix ["+L.matrix.toString()+"]"),B("/Function "+_e+" 0 R"),B("/Extend [true true]"),B(">>"),B("endobj")},ph=function(L,oe){var _e=Xr(),Te=sn();oe.push({resourcesOid:_e,objectOid:Te}),L.objectNumber=Te;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+L.boundingBox.map(C).join(" ")+"]"}),Oe.push({key:"XStep",value:C(L.xStep)}),Oe.push({key:"YStep",value:C(L.yStep)}),Oe.push({key:"Resources",value:_e+" 0 R"}),L.matrix&&Oe.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),on({data:L.stream,additionalKeyValues:Oe,objectId:L.objectNumber}),B("endobj")},jo=function(L){var oe;for(oe in Ft)Ft.hasOwnProperty(oe)&&(Ft[oe]instanceof lf?$c(Ft[oe]):Ft[oe]instanceof gp&&ph(Ft[oe],L))},Oo=function(L){for(var oe in L.objectNumber=sn(),B("<<"),L)switch(oe){case"opacity":B("/ca "+D(L[oe]));break;case"stroke-opacity":B("/CA "+D(L[oe]))}B(">>"),B("endobj")},Us=function(){var L;for(L in xr)xr.hasOwnProperty(L)&&Oo(xr[L])},Pl=function(){for(var L in B("/XObject <<"),En)En.hasOwnProperty(L)&&En[L].objectNumber>=0&&B("/"+L+" "+En[L].objectNumber+" 0 R");Xt.publish("putXobjectDict"),B(">>")},qm=function(){Rr.oid=sn(),B("<<"),B("/Filter /Standard"),B("/V "+Rr.v),B("/R "+Rr.r),B("/U <"+Rr.toHexString(Rr.U)+">"),B("/O <"+Rr.toHexString(Rr.O)+">"),B("/P "+Rr.P),B(">>"),B("endobj")},Pd=function(){for(var L in B("/Font <<"),$t)$t.hasOwnProperty(L)&&(f===!1||f===!0&&p.hasOwnProperty(L))&&B("/"+L+" "+$t[L].objectNumber+" 0 R");B(">>")},mh=function(){if(Object.keys(Ft).length>0){for(var L in B("/Shading <<"),Ft)Ft.hasOwnProperty(L)&&Ft[L]instanceof lf&&Ft[L].objectNumber>=0&&B("/"+L+" "+Ft[L].objectNumber+" 0 R");Xt.publish("putShadingPatternDict"),B(">>")}},Cl=function(L){if(Object.keys(Ft).length>0){for(var oe in B("/Pattern <<"),Ft)Ft.hasOwnProperty(oe)&&Ft[oe]instanceof h.TilingPattern&&Ft[oe].objectNumber>=0&&Ft[oe].objectNumber<L&&B("/"+oe+" "+Ft[oe].objectNumber+" 0 R");Xt.publish("putTilingPatternDict"),B(">>")}},Cd=function(){if(Object.keys(xr).length>0){var L;for(L in B("/ExtGState <<"),xr)xr.hasOwnProperty(L)&&xr[L].objectNumber>=0&&B("/"+L+" "+xr[L].objectNumber+" 0 R");Xt.publish("putGStateDict"),B(">>")}},Or=function(L){An(L.resourcesOid,!0),B("<<"),B("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Pd(),mh(),Cl(L.objectOid),Cd(),Pl(),B(">>"),B("endobj")},kd=function(){var L=[];Io(),Us(),Tl(),jo(L),Xt.publish("putResources"),L.forEach(Or),Or({resourcesOid:Si,objectOid:Number.MAX_SAFE_INTEGER}),Xt.publish("postPutResources")},Id=function(){Xt.publish("putAdditionalObjects");for(var L=0;L<ce.length;L++){var oe=ce[L];An(oe.objId,!0),B(oe.content),B("endobj")}Xt.publish("postPutAdditionalObjects")},gh=function(L){Mt[L.fontName]=Mt[L.fontName]||{},Mt[L.fontName][L.fontStyle]=L.id},jd=function(L,oe,_e,Te,Oe){var Ue={id:"F"+(Object.keys($t).length+1).toString(10),postScriptName:L,fontName:oe,fontStyle:_e,encoding:Te,isStandardFont:Oe||!1,metadata:{}};return Xt.publish("addFont",{font:Ue,instance:this}),$t[Ue.id]=Ue,gh(Ue),Ue.id},yh=function(L){for(var oe=0,_e=W.length;oe<_e;oe++){var Te=jd.call(this,L[oe][0],L[oe][1],L[oe][2],W[oe][3],!0);f===!1&&(p[Te]=!0);var Oe=L[oe][0].split("-");gh({id:Te,fontName:Oe[0],fontStyle:Oe[1]||""})}Xt.publish("addFonts",{fonts:$t,dictionary:Mt})},aa=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Te){var oe=Te.stack||"";~oe.indexOf(" at ")&&(oe=oe.split(" at ")[1]);var _e="Error in function "+oe.split(`
`)[0].split("<")[0]+": "+Te.message;if(!St.console)throw new Error(_e);St.console.error(_e,Te),St.alert&&alert(_e)}},L.foo.bar=L,L.foo},Uc=function(L,oe){var _e,Te,Oe,Ue,Xe,at,_,q,X;if(Oe=(oe=oe||{}).sourceEncoding||"Unicode",Xe=oe.outputEncoding,(oe.autoencode||Xe)&&$t[wt].metadata&&$t[wt].metadata[Oe]&&$t[wt].metadata[Oe].encoding&&(Ue=$t[wt].metadata[Oe].encoding,!Xe&&$t[wt].encoding&&(Xe=$t[wt].encoding),!Xe&&Ue.codePages&&(Xe=Ue.codePages[0]),typeof Xe=="string"&&(Xe=Ue[Xe]),Xe)){for(_=!1,at=[],_e=0,Te=L.length;_e<Te;_e++)(q=Xe[L.charCodeAt(_e)])?at.push(String.fromCharCode(q)):at.push(L[_e]),at[_e].charCodeAt(0)>>8&&(_=!0);L=at.join("")}for(_e=L.length;_===void 0&&_e!==0;)L.charCodeAt(_e-1)>>8&&(_=!0),_e--;if(!_)return L;for(at=oe.noBOM?[]:[254,255],_e=0,Te=L.length;_e<Te;_e++){if((X=(q=L.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(X),at.push(q-(X<<8))}return String.fromCharCode.apply(void 0,at)},Jr=h.__private__.pdfEscape=h.pdfEscape=function(L,oe){return Uc(L,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wi=h.__private__.beginPage=function(L){Z[++nr]=[],_t[nr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Od(nr),be(Z[K])},kl=function(L,oe){var _e,Te,Oe;switch(r=oe||r,typeof L=="string"&&(_e=m(L.toLowerCase()),Array.isArray(_e)&&(Te=_e[0],Oe=_e[1])),Array.isArray(L)&&(Te=L[0]*et,Oe=L[1]*et),isNaN(Te)&&(Te=i[0],Oe=i[1]),(Te>14400||Oe>14400)&&(Ar.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Oe=Math.min(14400,Oe)),i=[Te,Oe],r.substr(0,1)){case"l":Oe>Te&&(i=[Oe,Te]);break;case"p":Te>Oe&&(i=[Oe,Te])}Wi(i),Fd(Md),B(si),Ud!==0&&B(Ud+" J"),Qc!==0&&B(Qc+" j"),Xt.publish("addPage",{pageNumber:nr})},Vc=function(L){L>0&&L<=nr&&(Z.splice(L,1),_t.splice(L,1),nr--,K>nr&&(K=nr),this.setPage(K))},Od=function(L){L>0&&L<=nr&&(K=L)},cr=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Z.length-1},Il=function(L,oe,_e){var Te,Oe=void 0;return _e=_e||{},L=L!==void 0?L:$t[wt].fontName,oe=oe!==void 0?oe:$t[wt].fontStyle,Te=L.toLowerCase(),Mt[Te]!==void 0&&Mt[Te][oe]!==void 0?Oe=Mt[Te][oe]:Mt[L]!==void 0&&Mt[L][oe]!==void 0?Oe=Mt[L][oe]:_e.disableWarning===!1&&Ar.warn("Unable to look up font label for font '"+L+"', '"+oe+"'. Refer to getFontList() for available fonts."),Oe||_e.noFallback||(Oe=Mt.times[oe])==null&&(Oe=Mt.times.normal),Oe},jl=h.__private__.putInfo=function(){var L=sn(),oe=function(Te){return Te};for(var _e in u!==null&&(oe=Rr.encryptor(L,0)),B("<<"),B("/Producer ("+Jr(oe("jsPDF "+xt.version))+")"),nt)nt.hasOwnProperty(_e)&&nt[_e]&&B("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+Jr(oe(nt[_e]))+")");B("/CreationDate ("+Jr(oe(ie))+")"),B(">>"),B("endobj")},Vs=h.__private__.putCatalog=function(L){var oe=(L=L||{}).rootDictionaryObjId||$s;switch(sn(),B("<<"),B("/Type /Catalog"),B("/Pages "+oe+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":B("/OpenAction [3 0 R /FitH null]");break;case"fullheight":B("/OpenAction [3 0 R /FitV null]");break;case"fullpage":B("/OpenAction [3 0 R /Fit]");break;case"original":B("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+ne;_e.substr(_e.length-1)==="%"&&(ne=parseInt(ne)/100),typeof ne=="number"&&B("/OpenAction [3 0 R /XYZ null null "+D(ne)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":B("/PageLayout /OneColumn");break;case"single":B("/PageLayout /SinglePage");break;case"two":case"twoleft":B("/PageLayout /TwoColumnLeft");break;case"tworight":B("/PageLayout /TwoColumnRight")}Ne&&B("/PageMode /"+Ne),Xt.publish("putCatalog"),B(">>"),B("endobj")},Wm=h.__private__.putTrailer=function(){B("trailer"),B("<<"),B("/Size "+(ue+1)),B("/Root "+ue+" 0 R"),B("/Info "+(ue-1)+" 0 R"),u!==null&&B("/Encrypt "+Rr.oid+" 0 R"),B("/ID [ <"+ae+"> <"+ae+"> ]"),B(">>")},vh=h.__private__.putHeader=function(){B("%PDF-"+y),B("%ºß¬à")},Hm=h.__private__.putXRef=function(){var L="0000000000";B("xref"),B("0 "+(ue+1)),B("0000000000 65535 f ");for(var oe=1;oe<=ue;oe++)typeof z[oe]=="function"?B((L+z[oe]()).slice(-10)+" 00000 n "):z[oe]!==void 0?B((L+z[oe]).slice(-10)+" 00000 n "):B("0000000000 00000 n ")},zs=h.__private__.buildDocument=function(){H(),be(V),Xt.publish("buildDocument"),vh(),Co(),Id(),kd(),u!==null&&qm(),jl(),Vs();var L=te;return Hm(),Wm(),B("startxref"),B(""+L),B("%%EOF"),be(Z[K]),V.join(`
`)},zc=h.__private__.getBlob=function(L){return new Blob([R(L)],{type:"application/pdf"})},qc=h.output=h.__private__.output=aa(function(L,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",L){case void 0:return zs();case"save":h.save(oe.filename);break;case"arraybuffer":return R(zs());case"blob":return zc(zs());case"bloburi":case"bloburl":if(St.URL!==void 0&&typeof St.URL.createObjectURL=="function")return St.URL&&St.URL.createObjectURL(zc(zs()))||void 0;Ar.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Te=zs();try{_e=t4(Te)}catch{_e=t4(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+oe.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&(Oe=oe.pdfObjectUrl,Ue="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",at=St.open();return at!==null&&at.document.write(Xe),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',q=St.open();if(q!==null){q.document.write(_);var X=this;q.document.documentElement.querySelector("#pdfViewer").onload=function(){q.document.title=oe.filename,q.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(X.output("bloburl"))}}return q}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(St)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',je=St.open();if(je!==null&&(je.document.write(me),je.document.title=oe.filename),je||typeof safari>"u")return je;break;case"datauri":case"dataurl":return St.document.location.href=this.output("datauristring",oe);default:return null}}),Ro=function(L){return Array.isArray(is)===!0&&is.indexOf(L)>-1};switch(n){case"pt":et=1;break;case"mm":et=72/25.4;break;case"cm":et=72/2.54;break;case"in":et=72;break;case"px":et=Ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);et=n}var Rr=null;ve(),se();var bh=function(L){return u!==null?Rr.encryptor(L,0):function(oe){return oe}},Rd=h.__private__.getPageInfo=h.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[L].objId,pageNumber:L,pageContext:_t[L]}},Tt=h.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in _t)if(_t[oe].objId===L)break;return Rd(oe)},Lo=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:_t[K].objId,pageNumber:K,pageContext:_t[K]}};h.addPage=function(){return kl.apply(this,arguments),this},h.setPage=function(){return Od.apply(this,arguments),be.call(this,Z[K]),this},h.insertPage=function(L){return this.addPage(),this.movePage(K,L),this},h.movePage=function(L,oe){var _e,Te;if(L>oe){_e=Z[L],Te=_t[L];for(var Oe=L;Oe>oe;Oe--)Z[Oe]=Z[Oe-1],_t[Oe]=_t[Oe-1];Z[oe]=_e,_t[oe]=Te,this.setPage(oe)}else if(L<oe){_e=Z[L],Te=_t[L];for(var Ue=L;Ue<oe;Ue++)Z[Ue]=Z[Ue+1],_t[Ue]=_t[Ue+1];Z[oe]=_e,_t[oe]=Te,this.setPage(oe)}return this},h.deletePage=function(){return Vc.apply(this,arguments),this},h.__private__.text=h.text=function(L,oe,_e,Te,Oe){var Ue,Xe,at,_,q,X,me,je,Me,Je=(Te=Te||{}).scope||this;if(typeof L=="number"&&typeof oe=="number"&&(typeof _e=="string"||Array.isArray(_e))){var kt=_e;_e=oe,oe=L,L=kt}if(arguments[3]instanceof dt?(N("The transform parameter of text() with a Matrix value"),Me=Oe):(at=arguments[4],_=arguments[5],mr(me=arguments[3])==="object"&&me!==null||(typeof at=="string"&&(_=at,at=null),typeof me=="string"&&(_=me,me=null),typeof me=="number"&&(at=me,me=null),Te={flags:me,angle:at,align:_})),isNaN(oe)||isNaN(_e)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Je;var Vt="",It=!1,or=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:sr,_r=Je.internal.scaleFactor;function Ks(Pr){return Pr=Pr.split("	").join(Array(Te.TabLen||9).join(" ")),Jr(Pr,me)}function oi(Pr){for(var Cr,cn=Pr.concat(),Un=[],$l=cn.length;$l--;)typeof(Cr=cn.shift())=="string"?Un.push(Cr):Array.isArray(Pr)&&(Cr.length===1||Cr[1]===void 0&&Cr[2]===void 0)?Un.push(Cr[0]):Un.push([Cr[0],Cr[1],Cr[2]]);return Un}function Bo(Pr,Cr){var cn;if(typeof Pr=="string")cn=Cr(Pr)[0];else if(Array.isArray(Pr)){for(var Un,$l,tg=Pr.concat(),jh=[],Jy=tg.length;Jy--;)typeof(Un=tg.shift())=="string"?jh.push(Cr(Un)[0]):Array.isArray(Un)&&typeof Un[0]=="string"&&($l=Cr(Un[0],Un[1],Un[2]),jh.push([$l[0],$l[1],$l[2]]));cn=jh}return cn}var $o=!1,Km=!0;if(typeof L=="string")$o=!0;else if(Array.isArray(L)){var Ym=L.concat();Xe=[];for(var Sh,li=Ym.length;li--;)(typeof(Sh=Ym.shift())!="string"||Array.isArray(Sh)&&typeof Sh[0]!="string")&&(Km=!1);$o=Km}if($o===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Ah=G/Je.internal.scaleFactor,Nh=Ah*(or-1);switch(Te.baseline){case"bottom":_e-=Nh;break;case"top":_e+=Ah-Nh;break;case"hanging":_e+=Ah-2*Nh;break;case"middle":_e+=Ah/2-Nh}if((X=Te.maxWidth||0)>0&&(typeof L=="string"?L=Je.splitTextToSize(L,X):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Pr,Cr){return Pr.concat(Je.splitTextToSize(Cr,X))},[]))),Ue={text:L,x:oe,y:_e,options:Te,mutex:{pdfEscape:Jr,activeFontKey:wt,fonts:$t,activeFontSize:G}},Xt.publish("preProcessText",Ue),L=Ue.text,at=(Te=Ue.options).angle,!(Me instanceof dt)&&at&&typeof at=="number"){at*=Math.PI/180,Te.rotationDirection===0&&(at=-at),w===v.ADVANCED&&(at=-at);var Th=Math.cos(at),Xm=Math.sin(at);Me=new dt(Th,Xm,-Xm,Th,0,0)}else at&&at instanceof dt&&(Me=at);w!==v.ADVANCED||Me||(Me=Ei),(q=Te.charSpace||Rl)!==void 0&&(Vt+=C(S(q))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(je=Te.horizontalScale)!==void 0&&(Vt+=C(100*je)+` Tz
`),Te.lang;var sa=-1,q2=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,Jm=Je.internal.getCurrentPageInfo().pageContext;switch(q2){case 0:case!1:case"fill":sa=0;break;case 1:case!0:case"stroke":sa=1;break;case 2:case"fillThenStroke":sa=2;break;case 3:case"invisible":sa=3;break;case 4:case"fillAndAddForClipping":sa=4;break;case 5:case"strokeAndAddPathForClipping":sa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sa=6;break;case 7:case"addToPathForClipping":sa=7}var Gy=Jm.usedRenderingMode!==void 0?Jm.usedRenderingMode:-1;sa!==-1?Vt+=sa+` Tr
`:Gy!==-1&&(Vt+=`0 Tr
`),sa!==-1&&(Jm.usedRenderingMode=sa),_=Te.align||"left";var ss,Ph=G*or,Ky=Je.internal.pageSize.getWidth(),Yy=$t[wt];q=Te.charSpace||Rl,X=Te.maxWidth||0,me=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var nu=[],Vd=function(Pr){return Je.getStringUnitWidth(Pr,{font:Yy,charSpace:q,fontSize:G,doKerning:!1})*G/_r};if(Object.prototype.toString.call(L)==="[object Array]"){var oa;Xe=oi(L),_!=="left"&&(ss=Xe.map(Vd));var Hi,iu=0;if(_==="right"){oe-=ss[0],L=[],li=Xe.length;for(var Ml=0;Ml<li;Ml++)Ml===0?(Hi=Ra(oe),oa=$n(_e)):(Hi=S(iu-ss[Ml]),oa=-Ph),L.push([Xe[Ml],Hi,oa]),iu=ss[Ml]}else if(_==="center"){oe-=ss[0]/2,L=[],li=Xe.length;for(var Fl=0;Fl<li;Fl++)Fl===0?(Hi=Ra(oe),oa=$n(_e)):(Hi=S((iu-ss[Fl])/2),oa=-Ph),L.push([Xe[Fl],Hi,oa]),iu=ss[Fl]}else if(_==="left"){L=[],li=Xe.length;for(var Ch=0;Ch<li;Ch++)L.push(Xe[Ch])}else if(_==="justify"&&Yy.encoding==="Identity-H"){L=[],li=Xe.length,X=X!==0?X:Ky;for(var Bl=0,ln=0;ln<li;ln++)if(oa=ln===0?$n(_e):-Ph,Hi=ln===0?Ra(oe):Bl,ln<li-1){var Qm=S((X-ss[ln])/(Xe[ln].split(" ").length-1)),Gi=Xe[ln].split(" ");L.push([Gi[0]+" ",Hi,oa]),Bl=0;for(var os=1;os<Gi.length;os++){var kh=(Vd(Gi[os-1]+" "+Gi[os])-Vd(Gi[os]))*_r+Qm;os==Gi.length-1?L.push([Gi[os],kh,0]):L.push([Gi[os]+" ",kh,0]),Bl-=kh}}else L.push([Xe[ln],Hi,oa]);L.push(["",Bl,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],li=Xe.length,X=X!==0?X:Ky,ln=0;ln<li;ln++)oa=ln===0?$n(_e):-Ph,Hi=ln===0?Ra(oe):0,ln<li-1?nu.push(C(S((X-ss[ln])/(Xe[ln].split(" ").length-1)))):nu.push(0),L.push([Xe[ln],Hi,oa])}}var Xy=typeof Te.R2L=="boolean"?Te.R2L:Se;Xy===!0&&(L=Bo(L,function(Pr,Cr,cn){return[Pr.split("").reverse().join(""),Cr,cn]})),Ue={text:L,x:oe,y:_e,options:Te,mutex:{pdfEscape:Jr,activeFontKey:wt,fonts:$t,activeFontSize:G}},Xt.publish("postProcessText",Ue),L=Ue.text,It=Ue.mutex.isHex||!1;var Zm=$t[wt].encoding;Zm!=="WinAnsiEncoding"&&Zm!=="StandardEncoding"||(L=Bo(L,function(Pr,Cr,cn){return[Ks(Pr),Cr,cn]})),Xe=oi(L),L=[];for(var zd,qd,au,Wd=0,Ih=1,Hd=Array.isArray(Xe[0])?Ih:Wd,su="",eg=function(Pr,Cr,cn){var Un="";return cn instanceof dt?(cn=typeof Te.angle=="number"?na(cn,new dt(1,0,0,1,Pr,Cr)):na(new dt(1,0,0,1,Pr,Cr),cn),w===v.ADVANCED&&(cn=na(new dt(1,0,0,-1,0,0),cn)),Un=cn.join(" ")+` Tm
`):Un=C(Pr)+" "+C(Cr)+` Td
`,Un},ls=0;ls<Xe.length;ls++){switch(su="",Hd){case Ih:au=(It?"<":"(")+Xe[ls][0]+(It?">":")"),zd=parseFloat(Xe[ls][1]),qd=parseFloat(Xe[ls][2]);break;case Wd:au=(It?"<":"(")+Xe[ls]+(It?">":")"),zd=Ra(oe),qd=$n(_e)}nu!==void 0&&nu[ls]!==void 0&&(su=nu[ls]+` Tw
`),ls===0?L.push(su+eg(zd,qd,Me)+au):Hd===Wd?L.push(su+au):Hd===Ih&&L.push(su+eg(zd,qd,Me)+au)}L=Hd===Wd?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var cs=`BT
/`;return cs+=wt+" "+G+` Tf
`,cs+=C(G*or)+` TL
`,cs+=Hs+`
`,cs+=Vt,cs+=L,B(cs+="ET"),p[wt]=!0,Je};var Gm=h.__private__.clip=h.clip=function(L){return B(L==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Gm("evenodd")},h.__private__.discardPath=h.discardPath=function(){return B("n"),this};var as=h.__private__.isValidStyle=function(L){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(oe=!0),oe};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(L){return as(L)&&(c=L),this};var wh=h.__private__.getStyle=h.getStyle=function(L){var oe=c;switch(L){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=L}return oe},ja=h.close=function(){return B("h"),this};h.stroke=function(){return B("S"),this},h.fill=function(L){return Wc("f",L),this},h.fillEvenOdd=function(L){return Wc("f*",L),this},h.fillStroke=function(L){return Wc("B",L),this},h.fillStrokeEvenOdd=function(L){return Wc("B*",L),this};var Wc=function(L,oe){mr(oe)==="object"?Gc(oe,L):B(L)},Ld=function(L){L===null||w===v.ADVANCED&&L===void 0||(L=wh(L),B(L))};function Hc(L,oe,_e,Te,Oe){var Ue=new gp(oe||this.boundingBox,_e||this.xStep,Te||this.yStep,this.gState,Oe||this.matrix);Ue.stream=this.stream;var Xe=L+"$$"+this.cloneIndex+++"$$";return Sn(Xe,Ue),Ue}var Gc=function(L,oe){var _e=ns[L.key],Te=Ft[_e];if(Te instanceof lf)B("q"),B(xh(oe)),Te.gState&&h.setGState(Te.gState),B(L.matrix.toString()+" cm"),B("/"+_e+" sh"),B("Q");else if(Te instanceof gp){var Oe=new dt(1,0,0,-1,0,Ai());L.matrix&&(Oe=Oe.multiply(L.matrix||Ei),_e=Hc.call(Te,L.key,L.boundingBox,L.xStep,L.yStep,Oe).id),B("q"),B("/Pattern cs"),B("/"+_e+" scn"),Te.gState&&h.setGState(Te.gState),B(oe),B("Q")}},xh=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},qs=h.moveTo=function(L,oe){return B(C(S(L))+" "+C(k(oe))+" m"),this},Oa=h.lineTo=function(L,oe){return B(C(S(L))+" "+C(k(oe))+" l"),this},Ws=h.curveTo=function(L,oe,_e,Te,Oe,Ue){return B([C(S(L)),C(k(oe)),C(S(_e)),C(k(Te)),C(S(Oe)),C(k(Ue)),"c"].join(" ")),this};h.__private__.line=h.line=function(L,oe,_e,Te,Oe){if(isNaN(L)||isNaN(oe)||isNaN(_e)||isNaN(Te)||!as(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return w===v.COMPAT?this.lines([[_e-L,Te-oe]],L,oe,[1,1],Oe||"S"):this.lines([[_e-L,Te-oe]],L,oe,[1,1]).stroke()},h.__private__.lines=h.lines=function(L,oe,_e,Te,Oe,Ue){var Xe,at,_,q,X,me,je,Me,Je,kt,Vt,It;if(typeof L=="number"&&(It=_e,_e=oe,oe=L,L=It),Te=Te||[1,1],Ue=Ue||!1,isNaN(oe)||isNaN(_e)||!Array.isArray(L)||!Array.isArray(Te)||!as(Oe)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(qs(oe,_e),Xe=Te[0],at=Te[1],q=L.length,kt=oe,Vt=_e,_=0;_<q;_++)(X=L[_]).length===2?(kt=X[0]*Xe+kt,Vt=X[1]*at+Vt,Oa(kt,Vt)):(me=X[0]*Xe+kt,je=X[1]*at+Vt,Me=X[2]*Xe+kt,Je=X[3]*at+Vt,kt=X[4]*Xe+kt,Vt=X[5]*at+Vt,Ws(me,je,Me,Je,kt,Vt));return Ue&&ja(),Ld(Oe),this},h.path=function(L){for(var oe=0;oe<L.length;oe++){var _e=L[oe],Te=_e.c;switch(_e.op){case"m":qs(Te[0],Te[1]);break;case"l":Oa(Te[0],Te[1]);break;case"c":Ws.apply(this,Te);break;case"h":ja()}}return this},h.__private__.rect=h.rect=function(L,oe,_e,Te,Oe){if(isNaN(L)||isNaN(oe)||isNaN(_e)||isNaN(Te)||!as(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return w===v.COMPAT&&(Te=-Te),B([C(S(L)),C(k(oe)),C(S(_e)),C(S(Te)),"re"].join(" ")),Ld(Oe),this},h.__private__.triangle=h.triangle=function(L,oe,_e,Te,Oe,Ue,Xe){if(isNaN(L)||isNaN(oe)||isNaN(_e)||isNaN(Te)||isNaN(Oe)||isNaN(Ue)||!as(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-L,Te-oe],[Oe-_e,Ue-Te],[L-Oe,oe-Ue]],L,oe,[1,1],Xe,!0),this},h.__private__.roundedRect=h.roundedRect=function(L,oe,_e,Te,Oe,Ue,Xe){if(isNaN(L)||isNaN(oe)||isNaN(_e)||isNaN(Te)||isNaN(Oe)||isNaN(Ue)||!as(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*_e),Ue=Math.min(Ue,.5*Te),this.lines([[_e-2*Oe,0],[Oe*at,0,Oe,Ue-Ue*at,Oe,Ue],[0,Te-2*Ue],[0,Ue*at,-Oe*at,Ue,-Oe,Ue],[2*Oe-_e,0],[-Oe*at,0,-Oe,-Ue*at,-Oe,-Ue],[0,2*Ue-Te],[0,-Ue*at,Oe*at,-Ue,Oe,-Ue]],L+Oe,oe,[1,1],Xe,!0),this},h.__private__.ellipse=h.ellipse=function(L,oe,_e,Te,Oe){if(isNaN(L)||isNaN(oe)||isNaN(_e)||isNaN(Te)||!as(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*_e,Xe=4/3*(Math.SQRT2-1)*Te;return qs(L+_e,oe),Ws(L+_e,oe-Xe,L+Ue,oe-Te,L,oe-Te),Ws(L-Ue,oe-Te,L-_e,oe-Xe,L-_e,oe),Ws(L-_e,oe+Xe,L-Ue,oe+Te,L,oe+Te),Ws(L+Ue,oe+Te,L+_e,oe+Xe,L+_e,oe),Ld(Oe),this},h.__private__.circle=h.circle=function(L,oe,_e,Te){if(isNaN(L)||isNaN(oe)||isNaN(_e)||!as(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,oe,_e,_e,Te)},h.setFont=function(L,oe,_e){return _e&&(oe=$(oe,_e)),wt=Il(L,oe,{disableWarning:!1}),this};var Dd=h.__private__.getFont=h.getFont=function(){return $t[Il.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var L,oe,_e={};for(L in Mt)if(Mt.hasOwnProperty(L))for(oe in _e[L]=[],Mt[L])Mt[L].hasOwnProperty(oe)&&_e[L].push(oe);return _e},h.addFont=function(L,oe,_e,Te,Oe){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(_e=$(_e,Te)),Oe=Oe||"Identity-H",jd.call(this,L,oe,_e,Oe)};var sr,Md=t.lineWidth||.200025,Kc=h.__private__.getLineWidth=h.getLineWidth=function(){return Md},Fd=h.__private__.setLineWidth=h.setLineWidth=function(L){return Md=L,B(C(S(L))+" w"),this};h.__private__.setLineDash=xt.API.setLineDash=xt.API.setLineDashPattern=function(L,oe){if(L=L||[],oe=oe||0,isNaN(oe)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(_e){return C(S(_e))}).join(" "),oe=C(S(oe)),B("["+L+"] "+oe+" d"),this};var Bd=h.__private__.getLineHeight=h.getLineHeight=function(){return G*sr};h.__private__.getLineHeight=h.getLineHeight=function(){return G*sr};var $d=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(sr=L),this},Ol=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return sr};$d(t.lineHeight);var Ra=h.__private__.getHorizontalCoordinate=function(L){return S(L)},$n=h.__private__.getVerticalCoordinate=function(L){return w===v.ADVANCED?L:_t[K].mediaBox.topRightY-_t[K].mediaBox.bottomLeftY-S(L)},_h=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(L){return C(Ra(L))},Do=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(L){return C($n(L))},si=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ia(si)},h.__private__.setStrokeColor=h.setDrawColor=function(L,oe,_e,Te){return si=zi({ch1:L,ch2:oe,ch3:_e,ch4:Te,pdfColorType:"draw",precision:2}),B(si),this};var Yc=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ia(Yc)},h.__private__.setFillColor=h.setFillColor=function(L,oe,_e,Te){return Yc=zi({ch1:L,ch2:oe,ch3:_e,ch4:Te,pdfColorType:"fill",precision:2}),B(Yc),this};var Hs=t.textColor||"0 g",Xc=h.__private__.getTextColor=h.getTextColor=function(){return ia(Hs)};h.__private__.setTextColor=h.setTextColor=function(L,oe,_e,Te){return Hs=zi({ch1:L,ch2:oe,ch3:_e,ch4:Te,pdfColorType:"text",precision:3}),this};var Rl=t.charSpace,Jc=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Rl||0)};h.__private__.setCharSpace=h.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Rl=L,this};var Ud=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(L){var oe=h.CapJoinStyles[L];if(oe===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ud=oe,B(oe+" J"),this};var Qc=0;h.__private__.setLineJoin=h.setLineJoin=function(L){var oe=h.CapJoinStyles[L];if(oe===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qc=oe,B(oe+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return B(C(S(L))+" M"),this},h.GState=Iw,h.setGState=function(L){(L=typeof L=="string"?xr[_n[L]]:Mo(null,L)).equals(Bn)||(B("/"+L.id+" gs"),Bn=L)};var Mo=function(L,oe){if(!L||!_n[L]){var _e=!1;for(var Te in xr)if(xr.hasOwnProperty(Te)&&xr[Te].equals(oe)){_e=!0;break}if(_e)oe=xr[Te];else{var Oe="GS"+(Object.keys(xr).length+1).toString(10);xr[Oe]=oe,oe.id=Oe}return L&&(_n[L]=oe.id),Xt.publish("addGState",oe),oe}};h.addGState=function(L,oe){return Mo(L,oe),this},h.saveGraphicsState=function(){return B("q"),ai.push({key:wt,size:G,color:Hs}),this},h.restoreGraphicsState=function(){B("Q");var L=ai.pop();return wt=L.key,G=L.size,Hs=L.color,Bn=null,this},h.setCurrentTransformationMatrix=function(L){return B(L.toString()+" cm"),this},h.comment=function(L){return B("#"+L),this};var Ll=function(L,oe){var _e=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(Ue){isNaN(Ue)||(_e=parseFloat(Ue))}});var Te=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Ue){isNaN(Ue)||(Te=parseFloat(Ue))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(Ue){Oe=Ue.toString()}}),this},Zc=function(L,oe,_e,Te){Ll.call(this,L,oe),this.type="rect";var Oe=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(Xe){isNaN(Xe)||(Oe=parseFloat(Xe))}});var Ue=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(Xe){isNaN(Xe)||(Ue=parseFloat(Xe))}}),this},Dl=function(){this.page=nr,this.currentPage=K,this.pages=Z.slice(0),this.pagesContext=_t.slice(0),this.x=ar,this.y=gt,this.matrix=zr,this.width=Fo(K),this.height=Ai(K),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Dl.prototype.restore=function(){nr=this.page,K=this.currentPage,_t=this.pagesContext,Z=this.pages,ar=this.x,gt=this.y,zr=this.matrix,tu(K,this.width),ru(K,this.height),Ee=this.outputDestination};var eu=function(L,oe,_e,Te,Oe){ka.push(new Dl),nr=K=0,Z=[],ar=L,gt=oe,zr=Oe,Wi([_e,Te])},Eh=function(L){if(_i[L])ka.pop().restore();else{var oe=new Dl,_e="Xo"+(Object.keys(En).length+1).toString(10);oe.id=_e,_i[L]=_e,En[_e]=oe,Xt.publish("addFormObject",oe),ka.pop().restore()}};for(var Gs in h.beginFormObject=function(L,oe,_e,Te,Oe){return eu(L,oe,_e,Te,Oe),this},h.endFormObject=function(L){return Eh(L),this},h.doFormObject=function(L,oe){var _e=En[_i[L]];return B("q"),B(oe.toString()+" cm"),B("/"+_e.id+" Do"),B("Q"),this},h.getFormObject=function(L){var oe=En[_i[L]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},h.save=function(L,oe){return L=L||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(sf(zc(zs()),L),typeof sf.unload=="function"&&St.setTimeout&&setTimeout(sf.unload,911),this):new Promise(function(_e,Te){try{var Oe=sf(zc(zs()),L);typeof sf.unload=="function"&&St.setTimeout&&setTimeout(sf.unload,911),_e(Oe)}catch(Ue){Te(Ue.message)}})},xt.API)xt.API.hasOwnProperty(Gs)&&(Gs==="events"&&xt.API.events.length?function(L,oe){var _e,Te,Oe;for(Oe=oe.length-1;Oe!==-1;Oe--)_e=oe[Oe][0],Te=oe[Oe][1],L.subscribe.apply(L,[_e].concat(typeof Te=="function"?[Te]:Te))}(Xt,xt.API.events):h[Gs]=xt.API[Gs]);var Fo=h.getPageWidth=function(L){return(_t[L=L||K].mediaBox.topRightX-_t[L].mediaBox.bottomLeftX)/et},tu=h.setPageWidth=function(L,oe){_t[L].mediaBox.topRightX=oe*et+_t[L].mediaBox.bottomLeftX},Ai=h.getPageHeight=function(L){return(_t[L=L||K].mediaBox.topRightY-_t[L].mediaBox.bottomLeftY)/et},ru=h.setPageHeight=function(L,oe){_t[L].mediaBox.topRightY=oe*et+_t[L].mediaBox.bottomLeftY};return h.internal={pdfEscape:Jr,getStyle:wh,getFont:Dd,getFontSize:re,getCharSpace:Jc,getTextColor:Xc,getLineHeight:Bd,getLineHeightFactor:Ol,getLineWidth:Kc,write:j,getHorizontalCoordinate:Ra,getVerticalCoordinate:$n,getCoordinateString:_h,getVerticalCoordinateString:Do,collections:{},newObject:sn,newAdditionalObject:Bc,newObjectDeferred:Xr,newObjectDeferredBegin:An,getFilters:qi,putStream:on,events:Xt,scaleFactor:et,pageSize:{getWidth:function(){return Fo(K)},setWidth:function(L){tu(K,L)},getHeight:function(){return Ai(K)},setHeight:function(L){ru(K,L)}},encryptionOptions:u,encryption:Rr,getEncryptor:bh,output:qc,getNumberOfPages:cr,pages:Z,out:B,f2:D,f3:F,getPageInfo:Rd,getPageInfoByObjId:Tt,getCurrentPageInfo:Lo,getPDFVersion:g,Point:Ll,Rectangle:Zc,Matrix:dt,hasHotfix:Ro},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Fo(K)},set:function(L){tu(K,L)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Ai(K)},set:function(L){ru(K,L)},enumerable:!0,configurable:!0}),yh.call(h,W),wt="F1",kl(i,r),Xt.publish("initialized"),h}Jh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Jh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jh.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Jh.prototype.processOwnerPassword=function(t,e){return n4(r4(e).substr(0,5),t)},Jh.prototype.encryptor=function(t,e){var r=r4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return n4(r,n)}},Iw.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||mr(t)!==mr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},xt.API={events:[]},xt.version="3.0.1";var en=xt.API,k6=1,uh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jt=function(t){return t.toFixed(2)},wu=function(t){return t.toFixed(5)};en.__acroform__={};var Ca=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},WL=function(t){return t*k6},qo=function(t){var e=new IH,r=mt.internal.getHeight(t)||0,n=mt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(jt(n)),Number(jt(r))],e},PEe=en.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},CEe=en.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},kEe=en.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},fn=en.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kEe(t,e-1)},hn=en.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return PEe(t,e-1)},pn=en.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return CEe(t,e-1)},IEe=en.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(jt(l.lowerLeft_X)),Number(jt(l.lowerLeft_Y)),Number(jt(l.upperRight_X)),Number(jt(l.upperRight_Y))]},jEe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=i4(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+jt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=qo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},i4=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(F){return F.split(`
`)}):i.map(function(F){return[F]});var a=r,s=mt.internal.getHeight(t)||0;s=s<0?-s:s;var o=mt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(F,S,O){if(F+1<i.length){var k=S+" "+i[F+1][0];return n1(k,t,O).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=n1("3",t,a).height,p=t.multiline?s-a:(s-f)/2,h=p+=2,y=0,g=0,b=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+n1(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var m="",v=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var E=!1;if(i[w].length!==1&&b!==i[w].length-1){if((f+2)*(v+2)+2>s)continue e;m+=i[w][b],E=!0,g=w,w--}else{m=(m+=i[w][b]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var P=parseInt(w),$=l(P,m,a),C=w>=i.length-1;if($&&!C){m+=" ",b=0;continue}if($||C){if(C)g=P;else if(t.multiline&&(f+2)*(v+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(v+2)+2>s)continue e;g=P}}for(var N="",A=y;A<=g;A++){var D=i[A];if(t.multiline){if(A===g){N+=D[b]+" ",b=(b+1)%D.length;continue}if(A===y){N+=D[D.length-1]+" ";continue}}N+=D[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=n1(N,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}e+=jt(c)+" "+jt(h)+` Td
`,e+="("+uh(N)+`) Tj
`,e+=-jt(c)+` 0 Td
`,h=-(a+2),u=0,y=E?g:g+1,v++,m=""}break}return n.text=e,n.fontSize=a,n},n1=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},OEe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},REe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},LEe=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),mr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},DEe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(To.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(OEe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");k6=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new jH,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&REe(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=IEe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=mt.createDefaultAppearanceStream(o),mr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=jEe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var y=h[s];typeof y=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&LEe(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},kH=en.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),mr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+uh(n(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},j_=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+uh(n(t))+")"},rl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};rl.prototype.toString=function(){return this.objId+" 0 R"},rl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},rl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:kH(i,this.objId,this.scope)}):i instanceof rl?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var IH=function(){rl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ca(IH,rl);var jH=function(){rl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+uh(r(t))+")"}},set:function(r){t=r}})};Ca(jH,rl);var To=function t(){rl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fn(e,3)},set:function(m){m?this.F=hn(e,3):this.F=pn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');r=m}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(m){n=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(m){n[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(m){n[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(m){n[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(m){n[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof jw)return;a="FieldObject"+t.FieldNum++}var m=function(v){return v};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+uh(m(a))+")"},set:function(m){a=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(m){a=m}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(m){s=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/k6:c},set:function(m){c=m}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(m){u=m}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof jw||this instanceof jf))return j_(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=m}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ei?p:j_(p,this.objId,this.scope)},set:function(m){m=m.toString(),p=this instanceof ei?m:m.substr(0,1)==="("?zh(m.substr(1,m.length-2)):zh(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei?zh(p.substr(1,p.length-1)):p},set:function(m){m=m.toString(),p=this instanceof ei?"/"+m:m}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ei?h:j_(h,this.objId,this.scope)},set:function(m){m=m.toString(),h=this instanceof ei?m:m.substr(0,1)==="("?zh(m.substr(1,m.length-2)):zh(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei?zh(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof ei?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(m){m=!!m,g=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(m){y=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,1)},set:function(m){m?this.Ff=hn(this.Ff,1):this.Ff=pn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,2)},set:function(m){m?this.Ff=hn(this.Ff,2):this.Ff=pn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,3)},set:function(m){m?this.Ff=hn(this.Ff,3):this.Ff=pn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');b=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(b){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};Ca(To,rl);var jp=function(){To.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kH(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,18)},set:function(r){r?this.Ff=hn(this.Ff,18):this.Ff=pn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=hn(this.Ff,19):this.Ff=pn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,20)},set:function(r){r?(this.Ff=hn(this.Ff,20),e.sort()):this.Ff=pn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,22)},set:function(r){r?this.Ff=hn(this.Ff,22):this.Ff=pn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,23)},set:function(r){r?this.Ff=hn(this.Ff,23):this.Ff=pn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,27)},set:function(r){r?this.Ff=hn(this.Ff,27):this.Ff=pn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ca(jp,To);var Op=function(){jp.call(this),this.fontName="helvetica",this.combo=!1};Ca(Op,jp);var Rp=function(){Op.call(this),this.combo=!0};Ca(Rp,Op);var G1=function(){Rp.call(this),this.edit=!0};Ca(G1,Rp);var ei=function(){To.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,15)},set:function(r){r?this.Ff=hn(this.Ff,15):this.Ff=pn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,16)},set:function(r){r?this.Ff=hn(this.Ff,16):this.Ff=pn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,17)},set:function(r){r?this.Ff=hn(this.Ff,17):this.Ff=pn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,26)},set:function(r){r?this.Ff=hn(this.Ff,26):this.Ff=pn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+uh(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){mr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ca(ei,To);var K1=function(){ei.call(this),this.pushButton=!0};Ca(K1,ei);var Lp=function(){ei.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ca(Lp,ei);var jw=function(){var t,e;To.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+uh(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){mr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ca(jw,To),Lp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Lp.prototype.createOption=function(t){var e=new jw;return e.Parent=this,e.optionName=t,this.Kids.push(e),MEe.call(this.scope,e),e};var Y1=function(){ei.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Ca(Y1,ei);var jf=function(){To.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,13)},set:function(e){e?this.Ff=hn(this.Ff,13):this.Ff=pn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,21)},set:function(e){e?this.Ff=hn(this.Ff,21):this.Ff=pn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,23)},set:function(e){e?this.Ff=hn(this.Ff,23):this.Ff=pn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,24)},set:function(e){e?this.Ff=hn(this.Ff,24):this.Ff=pn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,25)},set:function(e){e?this.Ff=hn(this.Ff,25):this.Ff=pn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,26)},set:function(e){e?this.Ff=hn(this.Ff,26):this.Ff=pn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ca(jf,To);var X1=function(){jf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fn(this.Ff,14)},set:function(t){t?this.Ff=hn(this.Ff,14):this.Ff=pn(this.Ff,14)}}),this.password=!0};Ca(X1,jf);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=qo(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=i4(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=qo(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=mt.internal.getHeight(t),s=mt.internal.getWidth(t),o=i4(t,t.caption);return i.push("1 g"),i.push("0 0 "+jt(s)+" "+jt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+jt(s-1)+" "+jt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+jt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=qo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Circle.YesNormal,e.D[t]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=qo(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=mt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+wu(mt.internal.getWidth(t)/2)+" "+wu(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=qo(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*mt.internal.Bezier_C).toFixed(5)),s=Number((n*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+wu(mt.internal.getWidth(t)/2)+" "+wu(mt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+wu(mt.internal.getWidth(t)/2)+" "+wu(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=qo(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+wu(mt.internal.getWidth(t)/2)+" "+wu(mt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Cross.YesNormal,e.D[t]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=qo(t);e.scope=t.scope;var r=[],n=mt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+jt(mt.internal.getWidth(t)-2)+" "+jt(mt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(jt(n.x1.x)+" "+jt(n.x1.y)+" m"),r.push(jt(n.x2.x)+" "+jt(n.x2.y)+" l"),r.push(jt(n.x4.x)+" "+jt(n.x4.y)+" m"),r.push(jt(n.x3.x)+" "+jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=qo(t);e.scope=t.scope;var r=mt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jt(mt.internal.getWidth(t)-2)+" "+jt(mt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(jt(r.x1.x)+" "+jt(r.x1.y)+" m"),n.push(jt(r.x2.x)+" "+jt(r.x2.y)+" l"),n.push(jt(r.x4.x)+" "+jt(r.x4.y)+" m"),n.push(jt(r.x3.x)+" "+jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=qo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(mt.internal.getWidth(t))+" "+jt(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};mt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=mt.internal.getWidth(t),r=mt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},mt.internal.getWidth=function(t){var e=0;return mr(t)==="object"&&(e=WL(t.Rect[2])),e},mt.internal.getHeight=function(t){var e=0;return mr(t)==="object"&&(e=WL(t.Rect[3])),e};var MEe=en.addField=function(t){if(DEe(this,t),!(t instanceof To))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};en.AcroFormChoiceField=jp,en.AcroFormListBox=Op,en.AcroFormComboBox=Rp,en.AcroFormEditBox=G1,en.AcroFormButton=ei,en.AcroFormPushButton=K1,en.AcroFormRadioButton=Lp,en.AcroFormCheckBox=Y1,en.AcroFormTextField=jf,en.AcroFormPasswordField=X1,en.AcroFormAppearance=mt,en.AcroForm={ChoiceField:jp,ListBox:Op,ComboBox:Rp,EditBox:G1,Button:ei,PushButton:K1,RadioButton:Lp,CheckBox:Y1,TextField:jf,PasswordField:X1,Appearance:mt},xt.AcroForm={ChoiceField:jp,ListBox:Op,ComboBox:Rp,EditBox:G1,Button:ei,PushButton:K1,RadioButton:Lp,CheckBox:Y1,TextField:jf,PasswordField:X1,Appearance:mt};function OH(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(F,S){var O,k,ie,ae,Q,se=e;if((S=S||e)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if($(F))for(Q in r)for(ie=r[Q],O=0;O<ie.length;O+=1){for(ae=!0,k=0;k<ie[O].length;k+=1)if(ie[O][k]!==void 0&&ie[O][k]!==F[k]){ae=!1;break}if(ae===!0){se=Q;break}}else for(Q in r)for(ie=r[Q],O=0;O<ie.length;O+=1){for(ae=!0,k=0;k<ie[O].length;k+=1)if(ie[O][k]!==void 0&&ie[O][k]!==F.charCodeAt(k)){ae=!1;break}if(ae===!0){se=Q;break}}return se===e&&S!==e&&(se=S),se},i=function F(S){for(var O=this.internal.write,k=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);S.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:S.width}),ae.push({key:"Height",value:S.height}),S.colorSpace===b.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(S.palette.length/3-1)+" "+("sMask"in S&&S.sMask!==void 0?S.objectId+2:S.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+S.colorSpace}),S.colorSpace===b.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:S.bitsPerComponent}),"decodeParameters"in S&&S.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+S.decodeParameters+">>"}),"transparency"in S&&Array.isArray(S.transparency)){for(var Q="",se=0,fe=S.transparency.length;se<fe;se++)Q+=S.transparency[se]+" "+S.transparency[se]+" ";ae.push({key:"Mask",value:"["+Q+"]"})}S.sMask!==void 0&&ae.push({key:"SMask",value:S.objectId+1+" 0 R"});var we=S.filter!==void 0?["/"+S.filter]:void 0;if(k({data:S.data,additionalKeyValues:ae,alreadyAppliedFilters:we,objectId:S.objectId}),O("endobj"),"sMask"in S&&S.sMask!==void 0){var ve="/Predictor "+S.predictor+" /Colors 1 /BitsPerComponent "+S.bitsPerComponent+" /Columns "+S.width,M={width:S.width,height:S.height,colorSpace:"DeviceGray",bitsPerComponent:S.bitsPerComponent,decodeParameters:ve,data:S.sMask};"filter"in S&&(M.filter=S.filter),F.call(this,M)}if(S.colorSpace===b.INDEXED){var K=this.internal.newObject();k({data:N(new Uint8Array(S.palette)),objectId:K}),O("endobj")}},a=function(){var F=this.internal.collections.addImage_images;for(var S in F)i.call(this,F[S])},s=function(){var F,S=this.internal.collections.addImage_images,O=this.internal.write;for(var k in S)O("/I"+(F=S[k]).index,F.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var F=this.internal.collections.addImage_images;return o.call(this),F},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(F){return typeof t["process"+F.toUpperCase()]=="function"},f=function(F){return mr(F)==="object"&&F.nodeType===1},p=function(F,S){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var O=""+F.getAttribute("src");if(O.indexOf("data:image/")===0)return g0(unescape(O).split("base64,").pop());var k=t.loadFile(O,!0);if(k!==void 0)return k}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var ie;switch(S){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;case"JPEG":case"JPG":default:ie="image/jpeg"}return g0(F.toDataURL(ie,1).split("base64,").pop())}},h=function(F){var S=this.internal.collections.addImage_images;if(S){for(var O in S)if(F===S[O].alias)return S[O]}},y=function(F,S,O){return F||S||(F=-96,S=-96),F<0&&(F=-1*O.width*72/F/this.internal.scaleFactor),S<0&&(S=-1*O.height*72/S/this.internal.scaleFactor),F===0&&(F=S*O.width/O.height),S===0&&(S=F*O.height/O.width),[F,S]},g=function(F,S,O,k,ie,ae){var Q=y.call(this,O,k,ie),se=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,we=l.call(this);if(O=Q[0],k=Q[1],we[ie.index]=ie,ae){ae*=Math.PI/180;var ve=Math.cos(ae),M=Math.sin(ae),K=function(de){return de.toFixed(4)},ee=[K(ve),K(M),K(-1*M),K(ve),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,se(F),fe(S+k),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([se(O),"0","0",se(k),"0","0","cm"].join(" "))):this.internal.write([se(O),"0","0",se(k),se(F),fe(S+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(F){var S,O,k=0;if(typeof F=="string")for(O=F.length,S=0;S<O;S++)k=(k<<5)-k+F.charCodeAt(S),k|=0;else if($(F))for(O=F.byteLength/2,S=0;S<O;S++)k=(k<<5)-k+F[S],k|=0;return k},w=t.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var S=!0;return F.length===0&&(S=!1),F.length%4!=0&&(S=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(S=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(S=!1),S},E=t.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var S=F.indexOf(",");return S<0?null:F.substring(0,S).trim().endsWith("base64")?F.substring(S+1):null},P=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(F){return P()&&F instanceof ArrayBuffer};var $=t.__addimage__.isArrayBufferView=function(F){return P()&&typeof Uint32Array<"u"&&(F instanceof Int8Array||F instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},C=t.__addimage__.binaryStringToUint8Array=function(F){for(var S=F.length,O=new Uint8Array(S),k=0;k<S;k++)O[k]=F.charCodeAt(k);return O},N=t.__addimage__.arrayBufferToBinaryString=function(F){for(var S="",O=$(F)?F:new Uint8Array(F),k=0;k<O.length;k+=8192)S+=String.fromCharCode.apply(null,O.subarray(k,k+8192));return S};t.addImage=function(){var F,S,O,k,ie,ae,Q,se,fe;if(typeof arguments[1]=="number"?(S=e,O=arguments[1],k=arguments[2],ie=arguments[3],ae=arguments[4],Q=arguments[5],se=arguments[6],fe=arguments[7]):(S=arguments[1],O=arguments[2],k=arguments[3],ie=arguments[4],ae=arguments[5],Q=arguments[6],se=arguments[7],fe=arguments[8]),mr(F=arguments[0])==="object"&&!f(F)&&"imageData"in F){var we=F;F=we.imageData,S=we.format||S||e,O=we.x||O||0,k=we.y||k||0,ie=we.w||we.width||ie,ae=we.h||we.height||ae,Q=we.alias||Q,se=we.compression||se,fe=we.rotation||we.angle||fe}var ve=this.internal.getFilters();if(se===void 0&&ve.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(O)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var M=A.call(this,F,S,Q,se);return g.call(this,O,k,ie,ae,M,fe),this};var A=function(F,S,O,k){var ie,ae,Q;if(typeof F=="string"&&n(F)===e){F=unescape(F);var se=D(F,!1);(se!==""||(se=t.loadFile(F,!0))!==void 0)&&(F=se)}if(f(F)&&(F=p(F,S)),S=n(F,S),!u(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(((Q=O)==null||Q.length===0)&&(O=function(fe){return typeof fe=="string"||$(fe)?v(fe):$(fe.data)?v(fe.data):null}(F)),(ie=h.call(this,O))||(P()&&(F instanceof Uint8Array||S==="RGBA"||(ae=F,F=C(F))),ie=this["process"+S.toUpperCase()](F,c.call(this),O,function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in t.image_compression?fe:m.NONE}(k),ae)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},D=t.__addimage__.convertBase64ToBinaryString=function(F,S){S=typeof S!="boolean"||S;var O,k="";if(typeof F=="string"){var ie;O=(ie=E(F))!==null&&ie!==void 0?ie:F;try{k=g0(O)}catch(ae){if(S)throw w(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return k};t.getImageProperties=function(F){var S,O,k="";if(f(F)&&(F=p(F)),typeof F=="string"&&n(F)===e&&((k=D(F,!1))===""&&(k=t.loadFile(F)||""),F=k),O=n(F),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!P()||F instanceof Uint8Array||(F=C(F)),!(S=this["process"+O.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return S.fileType=O,S}})(xt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};xt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(g.objId),v=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(m(n.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(m(v))+") >>",g.content=a;var w=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(y(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var $=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+$+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(xt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=t.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(g){var b=0,m=r,v="",w=0;for(b=0;b<g.length;b+=1)m[g.charCodeAt(b)]!==void 0?(w++,typeof(m=m[g.charCodeAt(b)])=="number"&&(v+=String.fromCharCode(m),m=r,w=0),b===g.length-1&&(m=r,v+=g.charAt(b-(w-1)),b-=w-1,w=0)):(m=r,v+=g.charAt(b-w),b-=w,w=0);return v};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(g,b,m){return s(g)?a(g)===!1?-1:!c(g)||!s(b)&&!s(m)||!s(m)&&o(b)||o(g)&&!s(b)||o(g)&&l(b)||o(g)&&o(b)?0:u(g)&&s(b)&&!o(b)&&s(m)&&c(m)?3:o(g)||!s(m)?1:2:-1},h=function(g){var b=0,m=0,v=0,w="",E="",P="",$=(g=g||"").split("\\s+"),C=[];for(b=0;b<$.length;b+=1){for(C.push(""),m=0;m<$[b].length;m+=1)w=$[b][m],E=$[b][m-1],P=$[b][m+1],s(w)?(v=p(w,E,P),C[b]+=v!==-1?String.fromCharCode(e[w.charCodeAt(0)][v]):w):C[b]+=w;C[b]=f(C[b])}return C.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(b)){var v=0;for(m=[],v=0;v<b.length;v+=1)Array.isArray(b[v])?m.push([h(b[v][0]),b[v][1],b[v][2]]):m.push([h(b[v])]);g=m}else g=h(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",y])}(xt.API),xt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(xt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,y=0,g=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=c.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,E){return w.concat(b.splitTextToSize(E,m))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)h<(g=this.getStringUnitWidth(l[v],{font:f})*u)&&(h=g);return h!==0&&(y=l.length),{w:h/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,y,g,b,m=[],v=[],w=[],E={},P={},$=[],C=[],N=(p=p||{}).autoSize||!1,A=p.printHeaders!==!1,D=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,F=p.margins||Object.assign({width:this.getPageWidth()},e),S=typeof p.padding=="number"?p.padding:3,O=p.headerBackgroundColor||"#c8c8c8",k=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=k,this.setFontSize(D),f==null)v=m=Object.keys(u[0]),w=m.map(function(){return"left"});else if(Array.isArray(f)&&mr(f[0])==="object")for(m=f.map(function(we){return we.name}),v=f.map(function(we){return we.prompt||we.name||""}),w=f.map(function(we){return we.align||"left"}),h=0;h<f.length;h+=1)P[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(v=m=f,w=m.map(function(){return"left"}));if(N||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<m.length;h+=1){for(E[b=m[h]]=u.map(function(we){return we[b]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(v[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=E[b],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)$.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[b]=Math.max.apply(null,$)+S+S,$=[]}if(A){var ie={};for(h=0;h<m.length;h+=1)ie[m[h]]={},ie[m[h]].text=v[h],ie[m[h]].align=w[h];var ae=o.call(this,ie,P);C=m.map(function(we){return new a(l,c,P[we],ae,ie[we].text,void 0,ie[we].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var Q=f.reduce(function(we,ve){return we[ve.name]=ve.align,we},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var se=o.call(this,u[h],P);for(g=0;g<m.length;g+=1){var fe=u[h][m[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:fe},this),s.call(this,new a(l,c,P[m[g]],se,fe,h+2,Q[m[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var y=l[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+u+u},this).reduce(function(h,y){return Math.max(h,y)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(xt.API);var RH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},LH=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],a4=OH(LH),DH=[100,200,300,400,500,600,700,800,900],FEe=OH(DH);function s4(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return RH[a=a||"normal"]?a:"normal"}(t.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof a4[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function HL(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var BEe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},GL={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function KL(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function $Ee(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},BEe,r.genericFontFamilies||{}),a=null,s=null,o=0;o<e.length;++o)if(i[(a=s4(e[o])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){s=t[a.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+KL(a)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=a4[l],f=u<=a4.normal?-1:1,p=HL(c,LH,u,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(a.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=RH[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=FEe[l],f=HL(c,DH,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+KL(a)+"'.");return s}function YL(t){return t.trimLeft()}function UEe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function VEe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var i1,XL,JL,O_=["times"];(function(t){var e,r,n,i,a,s,o,l,c,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=M;Object.defineProperty(this,"pdf",{get:function(){return K}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(be){ee=!!be}});var de=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return de},set:function(be){de=!!be}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(be){isNaN(be)||(ue=be)}});var z=0;Object.defineProperty(this,"posY",{get:function(){return z},set:function(be){isNaN(be)||(z=be)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(be){var B;typeof be=="number"?B=[be,be,be,be]:((B=new Array(4))[0]=be[0],B[1]=be.length>=2?be[1]:B[0],B[2]=be.length>=3?be[2]:B[0],B[3]=be.length>=4?be[3]:B[1]),c.margin=B}});var V=!1;Object.defineProperty(this,"autoPaging",{get:function(){return V},set:function(be){V=be}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(be){te=be}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(be){ce=be}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(be){be instanceof u&&(c=be)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(be){c.path=be}});var Z=[];Object.defineProperty(this,"ctxStack",{get:function(){return Z},set:function(be){Z=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var B;B=p(be),this.ctx.fillStyle=B.style,this.ctx.isFillTransparent=B.a===0,this.ctx.fillOpacity=B.a,this.pdf.setFillColor(B.r,B.g,B.b,{a:B.a}),this.pdf.setTextColor(B.r,B.g,B.b,{a:B.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var B=p(be);this.ctx.strokeStyle=B.style,this.ctx.isStrokeTransparent=B.a===0,this.ctx.strokeOpacity=B.a,B.a===0?this.pdf.setDrawColor(255,255,255):(B.a,this.pdf.setDrawColor(B.r,B.g,B.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var J=null;function Ee(be,B){if(J===null){var j=function(R){var W=[];return Object.keys(R).forEach(function(G){R[G].forEach(function(ne){var re=null;switch(ne){case"bold":re={family:G,weight:"bold"};break;case"italic":re={family:G,style:"italic"};break;case"bolditalic":re={family:G,weight:"bold",style:"italic"};break;case"":case"normal":re={family:G}}re!==null&&(re.ref={name:G,style:ne},W.push(re))})}),W}(be.getFontList());J=function(R){for(var W={},G=0;G<R.length;++G){var ne=s4(R[G]),re=ne.family,Se=ne.stretch,Ne=ne.style,Ae=ne.weight;W[re]=W[re]||{},W[re][Se]=W[re][Se]||{},W[re][Se][Ne]=W[re][Se][Ne]||{},W[re][Se][Ne][Ae]=ne}return W}(j.concat(B))}return J}var H=null;Object.defineProperty(this,"fontFaces",{get:function(){return H},set:function(be){J=null,H=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var B;if(this.ctx.font=be,(B=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var j=B[1];B[2];var R=B[3],W=B[4];B[5];var G=B[6],ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(W)[2];W=Math.floor(ne==="px"?parseFloat(W)*this.pdf.internal.scaleFactor:ne==="em"?parseFloat(W)*this.pdf.getFontSize():parseFloat(W)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(W);var re=function(nt){var wt,et,ar=[],gt=nt.trim();if(gt==="")return O_;if(gt in GL)return[GL[gt]];for(;gt!=="";){switch(et=null,wt=(gt=YL(gt)).charAt(0)){case'"':case"'":et=UEe(gt.substring(1),wt);break;default:et=VEe(gt)}if(et===null||(ar.push(et[0]),(gt=YL(et[1]))!==""&&gt.charAt(0)!==","))return O_;gt=gt.replace(/^,/,"")}return ar}(G);if(this.fontFaces){var Se=$Ee(Ee(this.pdf,this.fontFaces),re.map(function(nt){return{family:nt,stretch:"normal",weight:R,style:j}}));this.pdf.setFont(Se.ref.name,Se.ref.style)}else{var Ne="";(R==="bold"||parseInt(R,10)>=700||j==="bold")&&(Ne="bold"),j==="italic"&&(Ne+="italic"),Ne.length===0&&(Ne="normal");for(var Ae="",Ie={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Fe=0;Fe<re.length;Fe++){if(this.pdf.internal.getFont(re[Fe],Ne,{noFallback:!0,disableWarning:!0})!==void 0){Ae=re[Fe];break}if(Ne==="bolditalic"&&this.pdf.internal.getFont(re[Fe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ae=re[Fe],Ne="bold";else if(this.pdf.internal.getFont(re[Fe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ae=re[Fe],Ne="normal";break}}if(Ae===""){for(var Ke=0;Ke<re.length;Ke++)if(Ie[re[Ke]]){Ae=Ie[re[Ke]];break}}Ae=Ae===""?"Times":Ae,this.pdf.setFont(Ae,Ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){E.call(this,"fill",!1)},f.prototype.stroke=function(){E.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,K){if(isNaN(M)||isNaN(K))throw Ar.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new s(M,K));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(M,K)},f.prototype.closePath=function(){var M=new s(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&mr(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){M=new s(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},f.prototype.lineTo=function(M,K){if(isNaN(M)||isNaN(K))throw Ar.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new s(M,K));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,K,ee,de){if(isNaN(ee)||isNaN(de)||isNaN(M)||isNaN(K))throw Ar.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new s(ee,de)),z=this.ctx.transform.applyToPoint(new s(M,K));this.path.push({type:"qct",x1:z.x,y1:z.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new s(ue.x,ue.y)},f.prototype.bezierCurveTo=function(M,K,ee,de,ue,z){if(isNaN(ue)||isNaN(z)||isNaN(M)||isNaN(K)||isNaN(ee)||isNaN(de))throw Ar.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var V=this.ctx.transform.applyToPoint(new s(ue,z)),te=this.ctx.transform.applyToPoint(new s(M,K)),ce=this.ctx.transform.applyToPoint(new s(ee,de));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:ce.x,y2:ce.y,x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},f.prototype.arc=function(M,K,ee,de,ue,z){if(isNaN(M)||isNaN(K)||isNaN(ee)||isNaN(de)||isNaN(ue))throw Ar.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(z=!!z,!this.ctx.transform.isIdentity){var V=this.ctx.transform.applyToPoint(new s(M,K));M=V.x,K=V.y;var te=this.ctx.transform.applyToPoint(new s(0,ee)),ce=this.ctx.transform.applyToPoint(new s(0,0));ee=Math.sqrt(Math.pow(te.x-ce.x,2)+Math.pow(te.y-ce.y,2))}Math.abs(ue-de)>=2*Math.PI&&(de=0,ue=2*Math.PI),this.path.push({type:"arc",x:M,y:K,radius:ee,startAngle:de,endAngle:ue,counterclockwise:z})},f.prototype.arcTo=function(M,K,ee,de,ue){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,K,ee,de){if(isNaN(M)||isNaN(K)||isNaN(ee)||isNaN(de))throw Ar.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,K),this.lineTo(M+ee,K),this.lineTo(M+ee,K+de),this.lineTo(M,K+de),this.lineTo(M,K),this.lineTo(M+ee,K),this.lineTo(M,K)},f.prototype.fillRect=function(M,K,ee,de){if(isNaN(M)||isNaN(K)||isNaN(ee)||isNaN(de))throw Ar.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,K,ee,de),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},f.prototype.strokeRect=function(M,K,ee,de){if(isNaN(M)||isNaN(K)||isNaN(ee)||isNaN(de))throw Ar.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(M,K,ee,de),this.stroke())},f.prototype.clearRect=function(M,K,ee,de){if(isNaN(M)||isNaN(K)||isNaN(ee)||isNaN(de))throw Ar.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,K,ee,de))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var de=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=de}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(K),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(M){var K,ee,de,ue;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))K=0,ee=0,de=0,ue=0;else{var z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(z!==null)K=parseInt(z[1]),ee=parseInt(z[2]),de=parseInt(z[3]),ue=1;else if((z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)K=parseInt(z[1]),ee=parseInt(z[2]),de=parseInt(z[3]),ue=parseFloat(z[4]);else{if(ue=1,typeof M=="string"&&M.charAt(0)!=="#"){var V=new TH(M);M=V.ok?V.toHex():"#000000"}M.length===4?(K=M.substring(1,2),K+=K,ee=M.substring(2,3),ee+=ee,de=M.substring(3,4),de+=de):(K=M.substring(1,3),ee=M.substring(3,5),de=M.substring(5,7)),K=parseInt(K,16),ee=parseInt(ee,16),de=parseInt(de,16)}}return{r:K,g:ee,b:de,a:ue,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,K,ee,de){if(isNaN(K)||isNaN(ee)||typeof M!="string")throw Ar.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(de=isNaN(de)?void 0:de,!h.call(this)){var ue=se(this.ctx.transform.rotation),z=this.ctx.transform.scaleX;S.call(this,{text:M,x:K,y:ee,scale:z,angle:ue,align:this.textAlign,maxWidth:de})}},f.prototype.strokeText=function(M,K,ee,de){if(isNaN(K)||isNaN(ee)||typeof M!="string")throw Ar.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){de=isNaN(de)?void 0:de;var ue=se(this.ctx.transform.rotation),z=this.ctx.transform.scaleX;S.call(this,{text:M,x:K,y:ee,scale:z,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:de})}},f.prototype.measureText=function(M){if(typeof M!="string")throw Ar.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,ee=this.pdf.internal.scaleFactor,de=K.internal.getFontSize(),ue=K.getStringUnitWidth(M)*de/K.internal.scaleFactor,z=function(V){var te=(V=V||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this};return new z({width:ue*=Math.round(96*ee/72*1e4)/1e4})},f.prototype.scale=function(M,K){if(isNaN(M)||isNaN(K))throw Ar.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(M,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.rotate=function(M){if(isNaN(M))throw Ar.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.translate=function(M,K){if(isNaN(M)||isNaN(K))throw Ar.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,M,K);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.transform=function(M,K,ee,de,ue,z){if(isNaN(M)||isNaN(K)||isNaN(ee)||isNaN(de)||isNaN(ue)||isNaN(z))throw Ar.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var V=new l(M,K,ee,de,ue,z);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.setTransform=function(M,K,ee,de,ue,z){M=isNaN(M)?1:M,K=isNaN(K)?0:K,ee=isNaN(ee)?0:ee,de=isNaN(de)?1:de,ue=isNaN(ue)?0:ue,z=isNaN(z)?0:z,this.ctx.transform=new l(M,K,ee,de,ue,z)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,K,ee,de,ue,z,V,te,ce){var Z=this.pdf.getImageProperties(M),J=1,Ee=1,H=1,be=1;de!==void 0&&te!==void 0&&(H=te/de,be=ce/ue,J=Z.width/de*te/de,Ee=Z.height/ue*ce/ue),z===void 0&&(z=K,V=ee,K=0,ee=0),de!==void 0&&te===void 0&&(te=de,ce=ue),de===void 0&&te===void 0&&(te=Z.width,ce=Z.height);for(var B,j=this.ctx.transform.decompose(),R=se(j.rotate.shx),W=new l,G=(W=(W=(W=W.multiply(j.translate)).multiply(j.skew)).multiply(j.scale)).applyToRectangle(new o(z-K*H,V-ee*be,de*J,ue*Ee)),ne=b.call(this,G),re=[],Se=0;Se<ne.length;Se+=1)re.indexOf(ne[Se])===-1&&re.push(ne[Se]);if(w(re),this.autoPaging)for(var Ne=re[0],Ae=re[re.length-1],Ie=Ne;Ie<Ae+1;Ie++){this.pdf.setPage(Ie);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Ie===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=Ie===1?0:nt+(Ie-2)*wt;if(this.ctx.clip_path.length!==0){var ar=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(B,this.posX+this.margin[3],-et+Ke+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=ar}var gt=JSON.parse(JSON.stringify(G));gt=v([gt],this.posX+this.margin[3],-et+Ke+this.ctx.prevPageLastElemOffset)[0];var zr=(Ie>Ne||Ie<Ae)&&g.call(this);zr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,wt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,R),zr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",G.x,G.y,G.w,G.h,null,null,R)};var b=function(M,K,ee){var de=[];K=K||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":de.push(Math.floor((M.y+ue)/ee)+1);break;case"arc":de.push(Math.floor((M.y+ue-M.radius)/ee)+1),de.push(Math.floor((M.y+ue+M.radius)/ee)+1);break;case"qct":var z=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);de.push(Math.floor((z.y+ue)/ee)+1),de.push(Math.floor((z.y+z.h+ue)/ee)+1);break;case"bct":var V=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);de.push(Math.floor((V.y+ue)/ee)+1),de.push(Math.floor((V.y+V.h+ue)/ee)+1);break;case"rect":de.push(Math.floor((M.y+ue)/ee)+1),de.push(Math.floor((M.y+M.h+ue)/ee)+1)}for(var te=0;te<de.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<de[te];)m.call(this);return de},m=function(){var M=this.fillStyle,K=this.strokeStyle,ee=this.font,de=this.lineCap,ue=this.lineWidth,z=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=K,this.font=ee,this.lineCap=de,this.lineWidth=ue,this.lineJoin=z},v=function(M,K,ee){for(var de=0;de<M.length;de++)switch(M[de].type){case"bct":M[de].x2+=K,M[de].y2+=ee;case"qct":M[de].x1+=K,M[de].y1+=ee;case"mt":case"lt":case"arc":default:M[de].x+=K,M[de].y+=ee}return M},w=function(M){return M.sort(function(K,ee){return K-ee})},E=function(M,K){for(var ee,de,ue=this.fillStyle,z=this.strokeStyle,V=this.lineCap,te=this.lineWidth,ce=Math.abs(te*this.ctx.transform.scaleX),Z=this.lineJoin,J=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),H=[],be=0;be<Ee.length;be++)if(Ee[be].x!==void 0)for(var B=b.call(this,Ee[be]),j=0;j<B.length;j+=1)H.indexOf(B[j])===-1&&H.push(B[j]);for(var R=0;R<H.length;R++)for(;this.pdf.internal.getNumberOfPages()<H[R];)m.call(this);if(w(H),this.autoPaging)for(var W=H[0],G=H[H.length-1],ne=W;ne<G+1;ne++){this.pdf.setPage(ne),this.fillStyle=ue,this.strokeStyle=z,this.lineCap=V,this.lineWidth=ce,this.lineJoin=Z;var re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=ne===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=ne===1?0:Ne+(ne-2)*Ae;if(this.ctx.clip_path.length!==0){var Fe=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ee,this.posX+this.margin[3],-Ie+Se+this.ctx.prevPageLastElemOffset),P.call(this,M,!0),this.path=Fe}if(de=JSON.parse(JSON.stringify(J)),this.path=v(de,this.posX+this.margin[3],-Ie+Se+this.ctx.prevPageLastElemOffset),K===!1||ne===0){var Ke=(ne>W||ne<G)&&g.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],re,Ae,null).clip().discardPath()),P.call(this,M,K),Ke&&this.pdf.restoreGraphicsState()}this.lineWidth=te}else this.lineWidth=ce,P.call(this,M,K),this.lineWidth=te;this.path=J},P=function(M,K){if((M!=="stroke"||K||!y.call(this))&&(M==="stroke"||K||!h.call(this))){for(var ee,de,ue=[],z=this.path,V=0;V<z.length;V++){var te=z[V];switch(te.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:te,deltas:[],abs:[]});break;case"lt":var ce=ue.length;if(z[V-1]&&!isNaN(z[V-1].x)&&(ee=[te.x-z[V-1].x,te.y-z[V-1].y],ce>0)){for(;ce>=0;ce--)if(ue[ce-1].close!==!0&&ue[ce-1].begin!==!0){ue[ce-1].deltas.push(ee),ue[ce-1].abs.push(te);break}}break;case"bct":ee=[te.x1-z[V-1].x,te.y1-z[V-1].y,te.x2-z[V-1].x,te.y2-z[V-1].y,te.x-z[V-1].x,te.y-z[V-1].y],ue[ue.length-1].deltas.push(ee);break;case"qct":var Z=z[V-1].x+2/3*(te.x1-z[V-1].x),J=z[V-1].y+2/3*(te.y1-z[V-1].y),Ee=te.x+2/3*(te.x1-te.x),H=te.y+2/3*(te.y1-te.y),be=te.x,B=te.y;ee=[Z-z[V-1].x,J-z[V-1].y,Ee-z[V-1].x,H-z[V-1].y,be-z[V-1].x,B-z[V-1].y],ue[ue.length-1].deltas.push(ee);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(te)}}de=K?null:M==="stroke"?"stroke":"fill";for(var j=!1,R=0;R<ue.length;R++)if(ue[R].arc)for(var W=ue[R].abs,G=0;G<W.length;G++){var ne=W[G];ne.type==="arc"?N.call(this,ne.x,ne.y,ne.radius,ne.startAngle,ne.endAngle,ne.counterclockwise,void 0,K,!j):O.call(this,ne.x,ne.y),j=!0}else if(ue[R].close===!0)this.pdf.internal.out("h"),j=!1;else if(ue[R].begin!==!0){var re=ue[R].start.x,Se=ue[R].start.y;k.call(this,ue[R].deltas,re,Se),j=!0}de&&A.call(this,de),K&&D.call(this)}},$=function(M){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-ee;case"top":return M+K-ee;case"hanging":return M+K-2*ee;case"middle":return M+K/2-ee;case"ideographic":return M;case"alphabetic":default:return M}},C=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(K,ee){this.colorStops.push([K,ee])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(M,K,ee,de,ue,z,V,te,ce){for(var Z=ae.call(this,ee,de,ue,z),J=0;J<Z.length;J++){var Ee=Z[J];J===0&&(ce?F.call(this,Ee.x1+M,Ee.y1+K):O.call(this,Ee.x1+M,Ee.y1+K)),ie.call(this,M,K,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}te?D.call(this):A.call(this,V)},A=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(M,K){this.pdf.internal.out(r(M)+" "+n(K)+" m")},S=function(M){var K;switch(M.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var ee=this.pdf.getTextDimensions(M.text),de=$.call(this,M.y),ue=C.call(this,de)-ee.h,z=this.ctx.transform.applyToPoint(new s(M.x,de)),V=this.ctx.transform.decompose(),te=new l;te=(te=(te=te.multiply(V.translate)).multiply(V.skew)).multiply(V.scale);for(var ce,Z,J,Ee=this.ctx.transform.applyToRectangle(new o(M.x,de,ee.w,ee.h)),H=te.applyToRectangle(new o(M.x,ue,ee.w,ee.h)),be=b.call(this,H),B=[],j=0;j<be.length;j+=1)B.indexOf(be[j])===-1&&B.push(be[j]);if(w(B),this.autoPaging)for(var R=B[0],W=B[B.length-1],G=R;G<W+1;G++){this.pdf.setPage(G);var ne=G===1?this.posY+this.margin[0]:this.margin[0],re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[2],Ne=Se-this.margin[0],Ae=this.pdf.internal.pageSize.width-this.margin[1],Ie=Ae-this.margin[3],Fe=G===1?0:re+(G-2)*Ne;if(this.ctx.clip_path.length!==0){var Ke=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ce,this.posX+this.margin[3],-1*Fe+ne),P.call(this,"fill",!0),this.path=Ke}var nt=v([JSON.parse(JSON.stringify(H))],this.posX+this.margin[3],-Fe+ne+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*M.scale),J=this.lineWidth,this.lineWidth=J*M.scale);var wt=this.autoPaging!=="text";if(wt||nt.y+nt.h<=Se){if(wt||nt.y>=ne&&nt.x<=Ae){var et=wt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Ae-nt.x)[0],ar=v([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Fe+ne+this.ctx.prevPageLastElemOffset)[0],gt=wt&&(G>R||G<W)&&g.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Ne,null).clip().discardPath()),this.pdf.text(et,ar.x,ar.y,{angle:M.angle,align:K,renderingMode:M.renderingMode}),gt&&this.pdf.restoreGraphicsState()}}else nt.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-nt.y);M.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=J)}else M.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*M.scale),J=this.lineWidth,this.lineWidth=J*M.scale),this.pdf.text(M.text,z.x+this.posX,z.y+this.posY,{angle:M.angle,align:K,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=J)},O=function(M,K,ee,de){ee=ee||0,de=de||0,this.pdf.internal.out(r(M+ee)+" "+n(K+de)+" l")},k=function(M,K,ee){return this.pdf.lines(M,K,ee,null,null)},ie=function(M,K,ee,de,ue,z,V,te){this.pdf.internal.out([e(i(ee+M)),e(a(de+K)),e(i(ue+M)),e(a(z+K)),e(i(V+M)),e(a(te+K)),"c"].join(" "))},ae=function(M,K,ee,de){for(var ue=2*Math.PI,z=Math.PI/2;K>ee;)K-=ue;var V=Math.abs(ee-K);V<ue&&de&&(V=ue-V);for(var te=[],ce=de?-1:1,Z=K;V>1e-5;){var J=Z+ce*Math.min(V,z);te.push(Q.call(this,M,Z,J)),V-=Math.abs(J-Z),Z=J}return te},Q=function(M,K,ee){var de=(ee-K)/2,ue=M*Math.cos(de),z=M*Math.sin(de),V=ue,te=-z,ce=V*V+te*te,Z=ce+V*ue+te*z,J=4/3*(Math.sqrt(2*ce*Z)-Z)/(V*z-te*ue),Ee=V-J*te,H=te+J*V,be=Ee,B=-H,j=de+K,R=Math.cos(j),W=Math.sin(j);return{x1:M*Math.cos(K),y1:M*Math.sin(K),x2:Ee*R-H*W,y2:Ee*W+H*R,x3:be*R-B*W,y3:be*W+B*R,x4:M*Math.cos(ee),y4:M*Math.sin(ee)}},se=function(M){return 180*M/Math.PI},fe=function(M,K,ee,de,ue,z){var V=M+.5*(ee-M),te=K+.5*(de-K),ce=ue+.5*(ee-ue),Z=z+.5*(de-z),J=Math.min(M,ue,V,ce),Ee=Math.max(M,ue,V,ce),H=Math.min(K,z,te,Z),be=Math.max(K,z,te,Z);return new o(J,H,Ee-J,be-H)},we=function(M,K,ee,de,ue,z,V,te){var ce,Z,J,Ee,H,be,B,j,R,W,G,ne,re,Se,Ne=ee-M,Ae=de-K,Ie=ue-ee,Fe=z-de,Ke=V-ue,nt=te-z;for(Z=0;Z<41;Z++)R=(B=(J=M+(ce=Z/40)*Ne)+ce*((H=ee+ce*Ie)-J))+ce*(H+ce*(ue+ce*Ke-H)-B),W=(j=(Ee=K+ce*Ae)+ce*((be=de+ce*Fe)-Ee))+ce*(be+ce*(z+ce*nt-be)-j),Z==0?(G=R,ne=W,re=R,Se=W):(G=Math.min(G,R),ne=Math.min(ne,W),re=Math.max(re,R),Se=Math.max(Se,W));return new o(Math.round(G),Math.round(ne),Math.round(re-G),Math.round(Se-ne))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,K,ee=(M=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:K}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(xt.API),function(t){var e=function(a){var s,o,l,c,u,f,p,h,y,g;for(o=[],l=0,c=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;c>l;l+=4)(u=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(g=u%85))/85)-(y=u%85))/85)-(h=u%85))/85)-(p=u%85))/85)%85,o.push(f+33,p+33,h+33,y+33,g+33)):o.push(122);return function(b,m){for(var v=m;v>0;v--)b.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(a){var s,o,l,c,u,f=String,p="length",h=255,y="charCodeAt",g="slice",b="replace";for(a[g](-2),a=a[g](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],c=0,u=(a+=s="uuuuu"[g](a[p]%5||5))[p];u>c;c+=5)o=52200625*(a[y](c)-33)+614125*(a[y](c+1)-33)+7225*(a[y](c+2)-33)+85*(a[y](c+3)-33)+(a[y](c+4)-33),l.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(m,v){for(var w=v;w>0;w--)m.pop()}(l,s[p]),f.fromCharCode.apply(f,l)},n=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var o="",l=0;l<a.length;l+=2)o+=String.fromCharCode("0x"+(a[l]+a[l+1]));return o},i=function(a){for(var s=new Uint8Array(a.length),o=a.length;o--;)s[o]=a.charCodeAt(o);return a=(s=e4(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(a,s){var o=0,l=a||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(xt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,p=0,h=function(y){var g=y.length,b=[],m=String.fromCharCode;for(p=0;p<g;p+=1)b.push(m(255&y.charCodeAt(p)));return b.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(xt.API),function(t){function e(){return(St.html2canvas?Promise.resolve(St.html2canvas):YN(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(St.DOMPurify?Promise.resolve(St.DOMPurify):YN(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=mr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},a=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,o){return s.__proto__=o||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var h=c[p],y=h.src.find(function(g){return g.format==="truetype"});y&&l.addFont(y.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},a.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(s,o){return this.then(function(){var l=s in a.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},a.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return a.convert(u,this.__proto__)},a.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},a.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},a.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return a.convert(o,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,xt.getPageSize=function(s,o,l){if(mr(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var h,y=0,g=0;if(p.hasOwnProperty(f))y=p[f][1]/u,g=p[f][0]/u;else try{y=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",g>y&&(h=g,g=y,y=h);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",y>g&&(h=g,g=y,y=h)}return{width:g,height:y,unit:o,k:u,orientation:s}},t.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(s4):null;var l=new a(o);return o.worker?l:l.from(s).doCallback()}}(xt.API),xt.API.addJS=function(t){return JL=t,this.internal.events.subscribe("postPutResources",function(){i1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(i1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),XL=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+JL+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){i1!==void 0&&XL!==void 0&&this.internal.out("/Names <</JavaScript "+i1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=r.internal.newObject();u.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(xt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,g={width:0,height:0,numcomponents:1},b=4;b<y;b+=2){if(b+=h,e.indexOf(f.charCodeAt(b+1))!==-1){p=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:p,numcomponents:f.charCodeAt(b+9)};break}h=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(xt.API);var qh,a1,QL,ZL,e8,zEe=function(){var t,e,r;function n(a){var s,o,l,c,u,f,p,h,y,g,b,m,v,w;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),y=(function(){var E,P;for(P=[],E=0;E<4;++E)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,s-=4),a=(f!=null?f.data:void 0)||this.imgData,m=0;0<=s?m<s:m>s;0<=s?++m:--m)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(v=0;0<=g?v<g:v>g;0<=g?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":p=(b=this.read(s)).indexOf(0),h=String.fromCharCode.apply(String,b.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,b.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var s,o;for(o=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function u(f,p,h,y){var g,b,m,v,w,E,P,$,C,N,A,D,F,S,O,k,ie,ae,Q,se,fe,we=Math.ceil((c.width-f)/h),ve=Math.ceil((c.height-p)/y),M=c.width==we&&c.height==ve;for(S=s*we,D=M?o:new Uint8Array(S*ve),E=a.length,F=0,b=0;F<ve&&l<E;){switch(a[l++]){case 0:for(v=ie=0;ie<S;v=ie+=1)D[b++]=a[l++];break;case 1:for(v=ae=0;ae<S;v=ae+=1)g=a[l++],w=v<s?0:D[b-s],D[b++]=(g+w)%256;break;case 2:for(v=Q=0;Q<S;v=Q+=1)g=a[l++],m=(v-v%s)/s,O=F&&D[(F-1)*S+m*s+v%s],D[b++]=(O+g)%256;break;case 3:for(v=se=0;se<S;v=se+=1)g=a[l++],m=(v-v%s)/s,w=v<s?0:D[b-s],O=F&&D[(F-1)*S+m*s+v%s],D[b++]=(g+Math.floor((w+O)/2))%256;break;case 4:for(v=fe=0;fe<S;v=fe+=1)g=a[l++],m=(v-v%s)/s,w=v<s?0:D[b-s],F===0?O=k=0:(O=D[(F-1)*S+m*s+v%s],k=m&&D[(F-1)*S+(m-1)*s+v%s]),P=w+O-k,$=Math.abs(P-w),N=Math.abs(P-O),A=Math.abs(P-k),C=$<=N&&$<=A?w:N<=A?O:k,D[b++]=(g+C)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!M){var K=((p+F*y)*c.width+f)*s,ee=F*S;for(v=0;v<we;v+=1){for(var de=0;de<s;de+=1)o[K++]=D[ee++];K+=(h-1)*s}}F++}}return a=xEe(a),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var a,s,o,l,c,u,f,p,h;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,a=0,s=f=0,p=o.length;f<p;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(h=u[a++])!=null?h:255;return c},n.prototype.copyToImageData=function(a,s){var o,l,c,u,f,p,h,y,g,b,m;if(l=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),l=4,o=!0),y=(c=a.data||a).length,f=g||s,u=p=0,l===1)for(;u<y;)h=g?4*s[u/4]:p,b=f[h++],c[u++]=b,c[u++]=b,c[u++]=b,c[u++]=o?f[h++]:255,p=h;else for(;u<y;)h=g?4*s[u/4]:p,c[u++]=f[h++],c[u++]=f[h++],c[u++]=f[h++],c[u++]=o?f[h++]:255,p=h},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(St)==="[object Window]"){try{e=St.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var s;if(i()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var s,o,l,c,u,f,p,h;if(this.animation){for(h=[],o=u=0,f=(p=this.animation.frames).length;u<f;o=++u)s=p[o],l=a.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,h.push(s.image=t(l));return h}},n.prototype.renderFrame=function(a,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?a.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&a.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(a){var s,o,l,c,u,f,p=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var h,y;if(h=o++%c,y=l[h],p.renderFrame(a,h),c>1&&o/c<u)return p.animation._timeout=setTimeout(s,y.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var s,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function qEe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,p=null,h=0,y=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],!(1&g)&&(p=null),h=g>>2&7,e++;break;case 254:for(;;){if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,E=t[e++],P=E>>6&1,$=1<<(7&E)+1,C=o,N=l,A=!1;E>>7&&(A=!0,C=e,N=$,e+=3*$);var D=e;for(e++;;){var F;if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}u.push({x:b,y:m,width:v,height:w,has_local_palette:A,palette_offset:C,palette_size:N,data_offset:D,data_length:e-D,transparent_index:p,interlaced:!!P,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(S){if(S<0||S>=u.length)throw new Error("Frame index out of range.");return u[S]},this.decodeAndBlitFrameBGRA=function(S,O){var k=this.frameInfo(S),ie=k.width*k.height,ae=new Uint8Array(ie);t8(t,k.data_offset,ae,ie);var Q=k.palette_offset,se=k.transparent_index;se===null&&(se=256);var fe=k.width,we=r-fe,ve=fe,M=4*(k.y*r+k.x),K=4*((k.y+k.height)*r+k.x),ee=M,de=4*we;k.interlaced===!0&&(de+=4*r*7);for(var ue=8,z=0,V=ae.length;z<V;++z){var te=ae[z];if(ve===0&&(ve=fe,(ee+=de)>=K&&(de=4*we+4*r*(ue-1),ee=M+(fe+we)*(ue<<1),ue>>=1)),te===se)ee+=4;else{var ce=t[Q+3*te],Z=t[Q+3*te+1],J=t[Q+3*te+2];O[ee++]=J,O[ee++]=Z,O[ee++]=ce,O[ee++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(S,O){var k=this.frameInfo(S),ie=k.width*k.height,ae=new Uint8Array(ie);t8(t,k.data_offset,ae,ie);var Q=k.palette_offset,se=k.transparent_index;se===null&&(se=256);var fe=k.width,we=r-fe,ve=fe,M=4*(k.y*r+k.x),K=4*((k.y+k.height)*r+k.x),ee=M,de=4*we;k.interlaced===!0&&(de+=4*r*7);for(var ue=8,z=0,V=ae.length;z<V;++z){var te=ae[z];if(ve===0&&(ve=fe,(ee+=de)>=K&&(de=4*we+4*r*(ue-1),ee=M+(fe+we)*(ue<<1),ue>>=1)),te===se)ee+=4;else{var ce=t[Q+3*te],Z=t[Q+3*te+1],J=t[Q+3*te+2];O[ee++]=ce,O[ee++]=Z,O[ee++]=J,O[ee++]=255}--ve}}}function t8(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,p=0,h=t[e++],y=new Int32Array(4096),g=null;;){for(;u<16&&h!==0;)f|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var b=f&c;if(f>>=l,u-=l,b!==a){if(b===s)break;for(var m=b<o?b:g,v=0,w=m;w>a;)w=y[w]>>8,++v;var E=w;if(p+v+(m!==b?1:0)>n)return void Ar.log("Warning, gif stream longer than expected.");r[p++]=E;var P=p+=v;for(m!==b&&(r[p++]=E),w=m;v--;)w=y[w],r[--P]=255&w,w>>=8;g!==null&&o<4096&&(y[o++]=g<<8|E,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=b}else o=s+1,c=(1<<(l=i+1))-1,g=null}return p!==n&&Ar.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function R_(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),y=new Array(64),g=[],b=0,m=7,v=new Array(64),w=new Array(64),E=new Array(64),P=new Array(256),$=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(M,K){for(var ee=0,de=0,ue=new Array,z=1;z<=16;z++){for(var V=1;V<=M[z];V++)ue[K[de]]=[],ue[K[de]][0]=ee,ue[K[de]][1]=z,de++,ee++;ee*=2}return ue}function Q(M){for(var K=M[0],ee=M[1]-1;ee>=0;)K&1<<ee&&(b|=1<<m),ee--,--m<0&&(b==255?(se(255),se(0)):se(b),m=7,b=0)}function se(M){g.push(M)}function fe(M){se(M>>8&255),se(255&M)}function we(M,K,ee,de,ue){for(var z,V=ue[0],te=ue[240],ce=function(W,G){var ne,re,Se,Ne,Ae,Ie,Fe,Ke,nt,wt,et=0;for(nt=0;nt<8;++nt){ne=W[et],re=W[et+1],Se=W[et+2],Ne=W[et+3],Ae=W[et+4],Ie=W[et+5],Fe=W[et+6];var ar=ne+(Ke=W[et+7]),gt=ne-Ke,zr=re+Fe,$t=re-Fe,Mt=Se+Ie,ai=Se-Ie,Ft=Ne+Ae,ns=Ne-Ae,xr=ar+Ft,_n=ar-Ft,Bn=zr+Mt,nr=zr-Mt;W[et]=xr+Bn,W[et+4]=xr-Bn;var _t=.707106781*(nr+_n);W[et+2]=_n+_t,W[et+6]=_n-_t;var Xt=.382683433*((xr=ns+ai)-(nr=$t+gt)),is=.5411961*xr+Xt,En=1.306562965*nr+Xt,_i=.707106781*(Bn=ai+$t),ka=gt+_i,dt=gt-_i;W[et+5]=dt+is,W[et+3]=dt-is,W[et+1]=ka+En,W[et+7]=ka-En,et+=8}for(et=0,nt=0;nt<8;++nt){ne=W[et],re=W[et+8],Se=W[et+16],Ne=W[et+24],Ae=W[et+32],Ie=W[et+40],Fe=W[et+48];var na=ne+(Ke=W[et+56]),Ei=ne-Ke,Sn=re+Fe,sn=re-Fe,Xr=Se+Ie,An=Se-Ie,Bc=Ne+Ae,$s=Ne-Ae,Si=na+Bc,ia=na-Bc,zi=Sn+Xr,qi=Sn-Xr;W[et]=Si+zi,W[et+32]=Si-zi;var on=.707106781*(qi+ia);W[et+16]=ia+on,W[et+48]=ia-on;var Ia=.382683433*((Si=$s+An)-(qi=sn+Ei)),Co=.5411961*Si+Ia,ko=1.306562965*qi+Ia,Io=.707106781*(zi=An+sn),Nl=Ei+Io,Tl=Ei-Io;W[et+40]=Tl+Co,W[et+24]=Tl-Co,W[et+8]=Nl+ko,W[et+56]=Nl-ko,et++}for(nt=0;nt<64;++nt)wt=W[nt]*G[nt],h[nt]=wt>0?wt+.5|0:wt-.5|0;return h}(M,K),Z=0;Z<64;++Z)y[C[Z]]=ce[Z];var J=y[0]-ee;ee=y[0],J==0?Q(de[0]):(Q(de[p[z=32767+J]]),Q(f[z]));for(var Ee=63;Ee>0&&y[Ee]==0;)Ee--;if(Ee==0)return Q(V),ee;for(var H,be=1;be<=Ee;){for(var B=be;y[be]==0&&be<=Ee;)++be;var j=be-B;if(j>=16){H=j>>4;for(var R=1;R<=H;++R)Q(te);j&=15}z=32767+y[be],Q(ue[(j<<4)+p[z]]),Q(f[z]),be++}return Ee!=63&&Q(V),ee}function ve(M){M=Math.min(Math.max(M,1),100),a!=M&&(function(K){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],de=0;de<64;de++){var ue=s((ee[de]*K+50)/100);ue=Math.min(Math.max(ue,1),255),o[C[de]]=ue}for(var z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],V=0;V<64;V++){var te=s((z[V]*K+50)/100);te=Math.min(Math.max(te,1),255),l[C[V]]=te}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Z=0,J=0;J<8;J++)for(var Ee=0;Ee<8;Ee++)c[Z]=1/(o[C[Z]]*ce[J]*ce[Ee]*8),u[Z]=1/(l[C[Z]]*ce[J]*ce[Ee]*8),Z++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,K){K&&ve(K),g=new Array,b=0,m=7,fe(65496),fe(65504),fe(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),fe(1),fe(1),se(0),se(0),function(){fe(65499),fe(132),se(0);for(var re=0;re<64;re++)se(o[re]);se(1);for(var Se=0;Se<64;Se++)se(l[Se])}(),function(re,Se){fe(65472),fe(17),se(8),fe(Se),fe(re),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(M.width,M.height),function(){fe(65476),fe(418),se(0);for(var re=0;re<16;re++)se(N[re+1]);for(var Se=0;Se<=11;Se++)se(A[Se]);se(16);for(var Ne=0;Ne<16;Ne++)se(D[Ne+1]);for(var Ae=0;Ae<=161;Ae++)se(F[Ae]);se(1);for(var Ie=0;Ie<16;Ie++)se(S[Ie+1]);for(var Fe=0;Fe<=11;Fe++)se(O[Fe]);se(17);for(var Ke=0;Ke<16;Ke++)se(k[Ke+1]);for(var nt=0;nt<=161;nt++)se(ie[nt])}(),fe(65498),fe(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var ee=0,de=0,ue=0;b=0,m=7,this.encode.displayName="_encode_";for(var z,V,te,ce,Z,J,Ee,H,be,B=M.data,j=M.width,R=M.height,W=4*j,G=0;G<R;){for(z=0;z<W;){for(Z=W*G+z,Ee=-1,H=0,be=0;be<64;be++)J=Z+(H=be>>3)*W+(Ee=4*(7&be)),G+H>=R&&(J-=W*(G+1+H-R)),z+Ee>=W&&(J-=z+Ee-W+4),V=B[J++],te=B[J++],ce=B[J++],v[be]=($[V]+$[te+256>>0]+$[ce+512>>0]>>16)-128,w[be]=($[V+768>>0]+$[te+1024>>0]+$[ce+1280>>0]>>16)-128,E[be]=($[V+1280>>0]+$[te+1536>>0]+$[ce+1792>>0]>>16)-128;ee=we(v,c,ee,e,n),de=we(w,u,de,r,i),ue=we(E,u,ue,r,i),z+=32}G+=8}if(m>=0){var ne=[];ne[1]=m+1,ne[0]=(1<<m+1)-1,Q(ne)}return fe(65497),new Uint8Array(g)},t=t||50,function(){for(var M=String.fromCharCode,K=0;K<256;K++)P[K]=M(K)}(),e=ae(N,A),r=ae(S,O),n=ae(D,F),i=ae(k,ie),function(){for(var M=1,K=2,ee=1;ee<=15;ee++){for(var de=M;de<K;de++)p[32767+de]=ee,f[32767+de]=[],f[32767+de][1]=ee,f[32767+de][0]=de;for(var ue=-(K-1);ue<=-M;ue++)p[32767+ue]=ee,f[32767+ue]=[],f[32767+ue][1]=ee,f[32767+ue][0]=K-1+ue;M<<=1,K<<=1}}(),function(){for(var M=0;M<256;M++)$[M]=19595*M,$[M+256>>0]=38470*M,$[M+512>>0]=7471*M+32768,$[M+768>>0]=-11059*M,$[M+1024>>0]=-21709*M,$[M+1280>>0]=32768*M+8421375,$[M+1536>>0]=-27439*M,$[M+1792>>0]=-5329*M}(),ve(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function r8(t){function e(N){if(!N)throw Error("assert :P")}function r(N,A,D){for(var F=0;4>F;F++)if(N[A+F]!=D.charCodeAt(F))return!0;return!1}function n(N,A,D,F,S){for(var O=0;O<S;O++)N[A+O]=D[F+O]}function i(N,A,D,F){for(var S=0;S<F;S++)N[A+S]=D}function a(N){return new Int32Array(N)}function s(N,A){for(var D=[],F=0;F<N;F++)D.push(new A);return D}function o(N,A){var D=[];return function F(S,O,k){for(var ie=k[O],ae=0;ae<ie&&(S.push(k.length>O+1?[]:new A),!(k.length<O+1));ae++)F(S[ae],O+1,k)}(D,0,N),D}var l=function(){var N=this;function A(x,T){for(var U=1<<T-1>>>0;x&U;)U>>>=1;return U?(x&U-1)+U:x}function D(x,T,U,Y,le){e(!(Y%U));do x[T+(Y-=U)]=le;while(0<Y)}function F(x,T,U,Y,le){if(e(2328>=le),512>=le)var he=a(512);else if((he=a(le))==null)return 0;return function(pe,ge,ye,xe,Pe,Le){var De,Re,He=ge,Be=1<<ye,Ce=a(16),ke=a(16);for(e(Pe!=0),e(xe!=null),e(pe!=null),e(0<ye),Re=0;Re<Pe;++Re){if(15<xe[Re])return 0;++Ce[xe[Re]]}if(Ce[0]==Pe)return 0;for(ke[1]=0,De=1;15>De;++De){if(Ce[De]>1<<De)return 0;ke[De+1]=ke[De]+Ce[De]}for(Re=0;Re<Pe;++Re)De=xe[Re],0<xe[Re]&&(Le[ke[De]++]=Re);if(ke[15]==1)return(xe=new S).g=0,xe.value=Le[0],D(pe,He,1,Be,xe),Be;var ze,Ye=-1,qe=Be-1,ct=0,it=1,Et=1,st=1<<ye;for(Re=0,De=1,Pe=2;De<=ye;++De,Pe<<=1){if(it+=Et<<=1,0>(Et-=Ce[De]))return 0;for(;0<Ce[De];--Ce[De])(xe=new S).g=De,xe.value=Le[Re++],D(pe,He+ct,Pe,st,xe),ct=A(ct,De)}for(De=ye+1,Pe=2;15>=De;++De,Pe<<=1){if(it+=Et<<=1,0>(Et-=Ce[De]))return 0;for(;0<Ce[De];--Ce[De]){if(xe=new S,(ct&qe)!=Ye){for(He+=st,ze=1<<(Ye=De)-ye;15>Ye&&!(0>=(ze-=Ce[Ye]));)++Ye,ze<<=1;Be+=st=1<<(ze=Ye-ye),pe[ge+(Ye=ct&qe)].g=ze+ye,pe[ge+Ye].value=He-ge-Ye}xe.g=De-ye,xe.value=Le[Re++],D(pe,He+(ct>>ye),Pe,st,xe),ct=A(ct,De)}}return it!=2*ke[15]-1?0:Be}(x,T,U,Y,le,he)}function S(){this.value=this.g=0}function O(){this.value=this.g=0}function k(){this.G=s(5,S),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(li,O)}function ie(x,T,U,Y){e(x!=null),e(T!=null),e(2147483648>Y),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=T,x.pa=U,x.Jd=T,x.Yc=U+Y,x.Zc=4<=Y?U+Y-4+1:U,z(x)}function ae(x,T){for(var U=0;0<T--;)U|=te(x,128)<<T;return U}function Q(x,T){var U=ae(x,T);return V(x)?-U:U}function se(x,T,U,Y){var le,he=0;for(e(x!=null),e(T!=null),e(4294967288>Y),x.Sb=Y,x.Ra=0,x.u=0,x.h=0,4<Y&&(Y=4),le=0;le<Y;++le)he+=T[U+le]<<8*le;x.Ra=he,x.bb=Y,x.oa=T,x.pa=U}function fe(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Th-8>>>0,++x.bb,x.u-=8;ee(x)&&(x.h=1,x.u=0)}function we(x,T){if(e(0<=T),!x.h&&T<=Nh){var U=K(x)&Ah[T];return x.u+=T,fe(x),U}return x.h=1,x.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(x){return x.Ra>>>(x.u&Th-1)>>>0}function ee(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Th}function de(x,T){x.u=T,x.h=ee(x)}function ue(x){x.u>=Xm&&(e(x.u>=Xm),fe(x))}function z(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function V(x){return ae(x,1)}function te(x,T){var U=x.Ca;0>x.b&&z(x);var Y=x.b,le=U*T>>>8,he=(x.I>>>Y>le)+0;for(he?(U-=le,x.I-=le+1<<Y>>>0):U=le+1,Y=U,le=0;256<=Y;)le+=8,Y>>=8;return Y=7^le+sa[Y],x.b-=Y,x.Ca=(U<<Y)-1,he}function ce(x,T,U){x[T+0]=U>>24&255,x[T+1]=U>>16&255,x[T+2]=U>>8&255,x[T+3]=U>>0&255}function Z(x,T){return x[T+0]<<0|x[T+1]<<8}function J(x,T){return Z(x,T)|x[T+2]<<16}function Ee(x,T){return Z(x,T)|Z(x,T+2)<<16}function H(x,T){var U=1<<T;return e(x!=null),e(0<T),x.X=a(U),x.X==null?0:(x.Mb=32-T,x.Xa=T,1)}function be(x,T){e(x!=null),e(T!=null),e(x.Xa==T.Xa),n(T.X,0,x.X,0,1<<T.Xa)}function B(){this.X=[],this.Xa=this.Mb=0}function j(x,T,U,Y){e(U!=null),e(Y!=null);var le=U[0],he=Y[0];return le==0&&(le=(x*he+T/2)/T),he==0&&(he=(T*le+x/2)/x),0>=le||0>=he?0:(U[0]=le,Y[0]=he,1)}function R(x,T){return x+(1<<T)-1>>>T}function W(x,T){return((4278255360&x)+(4278255360&T)>>>0&4278255360)+((16711935&x)+(16711935&T)>>>0&16711935)>>>0}function G(x,T){N[T]=function(U,Y,le,he,pe,ge,ye){var xe;for(xe=0;xe<pe;++xe){var Pe=N[x](ge[ye+xe-1],le,he+xe);ge[ye+xe]=W(U[Y+xe],Pe)}}}function ne(){this.ud=this.hd=this.jd=0}function re(x,T){return((4278124286&(x^T))>>>1)+(x&T)>>>0}function Se(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Ne(x,T){return Se(x+(x-T+.5>>1))}function Ae(x,T,U){return Math.abs(T-U)-Math.abs(x-U)}function Ie(x,T,U,Y,le,he,pe){for(Y=he[pe-1],U=0;U<le;++U)he[pe+U]=Y=W(x[T+U],Y)}function Fe(x,T,U,Y,le){var he;for(he=0;he<U;++he){var pe=x[T+he],ge=pe>>8&255,ye=16711935&(ye=(ye=16711935&pe)+((ge<<16)+ge));Y[le+he]=(4278255360&pe)+ye>>>0}}function Ke(x,T){T.jd=x>>0&255,T.hd=x>>8&255,T.ud=x>>16&255}function nt(x,T,U,Y,le,he){var pe;for(pe=0;pe<Y;++pe){var ge=T[U+pe],ye=ge>>>8,xe=ge,Pe=255&(Pe=(Pe=ge>>>16)+((x.jd<<24>>24)*(ye<<24>>24)>>>5));xe=255&(xe=(xe=xe+((x.hd<<24>>24)*(ye<<24>>24)>>>5))+((x.ud<<24>>24)*(Pe<<24>>24)>>>5)),le[he+pe]=(4278255360&ge)+(Pe<<16)+xe}}function wt(x,T,U,Y,le){N[T]=function(he,pe,ge,ye,xe,Pe,Le,De,Re){for(ye=Le;ye<De;++ye)for(Le=0;Le<Re;++Le)xe[Pe++]=le(ge[Y(he[pe++])])},N[x]=function(he,pe,ge,ye,xe,Pe,Le){var De=8>>he.b,Re=he.Ea,He=he.K[0],Be=he.w;if(8>De)for(he=(1<<he.b)-1,Be=(1<<De)-1;pe<ge;++pe){var Ce,ke=0;for(Ce=0;Ce<Re;++Ce)Ce&he||(ke=Y(ye[xe++])),Pe[Le++]=le(He[ke&Be]),ke>>=De}else N["VP8LMapColor"+U](ye,xe,He,Be,Pe,Le,pe,ge,Re)}}function et(x,T,U,Y,le){for(U=T+U;T<U;){var he=x[T++];Y[le++]=he>>16&255,Y[le++]=he>>8&255,Y[le++]=he>>0&255}}function ar(x,T,U,Y,le){for(U=T+U;T<U;){var he=x[T++];Y[le++]=he>>16&255,Y[le++]=he>>8&255,Y[le++]=he>>0&255,Y[le++]=he>>24&255}}function gt(x,T,U,Y,le){for(U=T+U;T<U;){var he=(pe=x[T++])>>16&240|pe>>12&15,pe=pe>>0&240|pe>>28&15;Y[le++]=he,Y[le++]=pe}}function zr(x,T,U,Y,le){for(U=T+U;T<U;){var he=(pe=x[T++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;Y[le++]=he,Y[le++]=pe}}function $t(x,T,U,Y,le){for(U=T+U;T<U;){var he=x[T++];Y[le++]=he>>0&255,Y[le++]=he>>8&255,Y[le++]=he>>16&255}}function Mt(x,T,U,Y,le,he){if(he==0)for(U=T+U;T<U;)ce(Y,((he=x[T++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),le+=32;else n(Y,le,x,T,U)}function ai(x,T){N[T][0]=N[x+"0"],N[T][1]=N[x+"1"],N[T][2]=N[x+"2"],N[T][3]=N[x+"3"],N[T][4]=N[x+"4"],N[T][5]=N[x+"5"],N[T][6]=N[x+"6"],N[T][7]=N[x+"7"],N[T][8]=N[x+"8"],N[T][9]=N[x+"9"],N[T][10]=N[x+"10"],N[T][11]=N[x+"11"],N[T][12]=N[x+"12"],N[T][13]=N[x+"13"],N[T][14]=N[x+"0"],N[T][15]=N[x+"0"]}function Ft(x){return x==G2||x==K2||x==nv||x==Y2}function ns(){this.eb=[],this.size=this.A=this.fb=0}function xr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _n(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ns,this.f.kb=new xr,this.sd=null}function Bn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _t(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Xt(x,T){var U=x.T,Y=T.ba.f.RGBA,le=Y.eb,he=Y.fb+x.ka*Y.A,pe=ds[T.ba.S],ge=x.y,ye=x.O,xe=x.f,Pe=x.N,Le=x.ea,De=x.W,Re=T.cc,He=T.dc,Be=T.Mc,Ce=T.Nc,ke=x.ka,ze=x.ka+x.T,Ye=x.U,qe=Ye+1>>1;for(ke==0?pe(ge,ye,null,null,xe,Pe,Le,De,xe,Pe,Le,De,le,he,null,null,Ye):(pe(T.ec,T.fc,ge,ye,Re,He,Be,Ce,xe,Pe,Le,De,le,he-Y.A,le,he,Ye),++U);ke+2<ze;ke+=2)Re=xe,He=Pe,Be=Le,Ce=De,Pe+=x.Rc,De+=x.Rc,he+=2*Y.A,pe(ge,(ye+=2*x.fa)-x.fa,ge,ye,Re,He,Be,Ce,xe,Pe,Le,De,le,he-Y.A,le,he,Ye);return ye+=x.fa,x.j+ze<x.o?(n(T.ec,T.fc,ge,ye,Ye),n(T.cc,T.dc,xe,Pe,qe),n(T.Mc,T.Nc,Le,De,qe),U--):1&ze||pe(ge,ye,null,null,xe,Pe,Le,De,xe,Pe,Le,De,le,he+Y.A,null,null,Ye),U}function is(x,T,U){var Y=x.F,le=[x.J];if(Y!=null){var he=x.U,pe=T.ba.S,ge=pe==rv||pe==nv;T=T.ba.f.RGBA;var ye=[0],xe=x.ka;ye[0]=x.T,x.Kb&&(xe==0?--ye[0]:(--xe,le[0]-=x.width),x.j+x.ka+x.T==x.o&&(ye[0]=x.o-x.j-xe));var Pe=T.eb;xe=T.fb+xe*T.A,x=Cr(Y,le[0],x.width,he,ye,Pe,xe+(ge?0:3),T.A),e(U==ye),x&&Ft(pe)&&cs(Pe,xe,ge,he,ye,T.A)}return 0}function En(x){var T=x.ma,U=T.ba.S,Y=11>U,le=U==ev||U==tv||U==rv||U==H2||U==12||Ft(U);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Km(T.Oa,x,le?11:12))return 0;if(le&&Ft(U)&&Xe(),x.da)alert("todo:use_scaling");else{if(Y){if(T.Ib=_t,x.Kb){if(U=x.U+1>>1,T.memory=a(x.U+2*U),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+x.U,T.Mc=T.cc,T.Nc=T.dc+U,T.Ib=Xt,Xe()}}else alert("todo:EmitYUV");le&&(T.Jb=is,Y&&Oe())}if(Y&&!eC){for(x=0;256>x;++x)VG[x]=89858*(x-128)+av>>iv,WG[x]=-22014*(x-128)+av,qG[x]=-45773*(x-128),zG[x]=113618*(x-128)+av>>iv;for(x=ng;x<Q2;++x)T=76283*(x-16)+av>>iv,HG[x-ng]=or(T,255),GG[x-ng]=or(T+8>>4,15);eC=1}return 1}function _i(x){var T=x.ma,U=x.U,Y=x.T;return e(!(1&x.ka)),0>=U||0>=Y?0:(U=T.Ib(x,T),T.Jb!=null&&T.Jb(x,T,U),T.Dc+=U,1)}function ka(x){x.ma.memory=null}function dt(x,T,U,Y){return we(x,8)!=47?0:(T[0]=we(x,14)+1,U[0]=we(x,14)+1,Y[0]=we(x,1),we(x,3)!=0?0:!x.h)}function na(x,T){if(4>x)return x+1;var U=x-2>>1;return(2+(1&x)<<U)+we(T,U)+1}function Ei(x,T){return 120<T?T-120:1<=(U=((U=PG[T-1])>>4)*x+(8-(15&U)))?U:1;var U}function Sn(x,T,U){var Y=K(U),le=x[T+=255&Y].g-8;return 0<le&&(de(U,U.u+8),Y=K(U),T+=x[T].value,T+=Y&(1<<le)-1),de(U,U.u+x[T].g),x[T].value}function sn(x,T,U){return U.g+=x.g,U.value+=x.value<<T>>>0,e(8>=U.g),x.g}function Xr(x,T,U){var Y=x.xc;return e((T=Y==0?0:x.vc[x.md*(U>>Y)+(T>>Y)])<x.Wb),x.Ya[T]}function An(x,T,U,Y){var le=x.ab,he=x.c*T,pe=x.C;T=pe+T;var ge=U,ye=Y;for(Y=x.Ta,U=x.Ua;0<le--;){var xe=x.gc[le],Pe=pe,Le=T,De=ge,Re=ye,He=(ye=Y,ge=U,xe.Ea);switch(e(Pe<Le),e(Le<=xe.nc),xe.hc){case 2:Gy(De,Re,(Le-Pe)*He,ye,ge);break;case 0:var Be=Pe,Ce=Le,ke=ye,ze=ge,Ye=(st=xe).Ea;Be==0&&(q2(De,Re,null,null,1,ke,ze),Ie(De,Re+1,0,0,Ye-1,ke,ze+1),Re+=Ye,ze+=Ye,++Be);for(var qe=1<<st.b,ct=qe-1,it=R(Ye,st.b),Et=st.K,st=st.w+(Be>>st.b)*it;Be<Ce;){var ir=Et,ur=st,Jt=1;for(Jm(De,Re,ke,ze-Ye,1,ke,ze);Jt<Ye;){var zt=(Jt&~ct)+qe;zt>Ye&&(zt=Ye),(0,nu[ir[ur++]>>8&15])(De,Re+ +Jt,ke,ze+Jt-Ye,zt-Jt,ke,ze+Jt),Jt=zt}Re+=Ye,ze+=Ye,++Be&ct||(st+=it)}Le!=xe.nc&&n(ye,ge-He,ye,ge+(Le-Pe-1)*He,He);break;case 1:for(He=De,Ce=Re,Ye=(De=xe.Ea)-(ze=De&~(ke=(Re=1<<xe.b)-1)),Be=R(De,xe.b),qe=xe.K,xe=xe.w+(Pe>>xe.b)*Be;Pe<Le;){for(ct=qe,it=xe,Et=new ne,st=Ce+ze,ir=Ce+De;Ce<st;)Ke(ct[it++],Et),Vd(Et,He,Ce,Re,ye,ge),Ce+=Re,ge+=Re;Ce<ir&&(Ke(ct[it++],Et),Vd(Et,He,Ce,Ye,ye,ge),Ce+=Ye,ge+=Ye),++Pe&ke||(xe+=Be)}break;case 3:if(De==ye&&Re==ge&&0<xe.b){for(Ce=ye,De=He=ge+(Le-Pe)*He-(ze=(Le-Pe)*R(xe.Ea,xe.b)),Re=ye,ke=ge,Be=[],ze=(Ye=ze)-1;0<=ze;--ze)Be[ze]=Re[ke+ze];for(ze=Ye-1;0<=ze;--ze)Ce[De+ze]=Be[ze];ss(xe,Pe,Le,ye,He,ye,ge)}else ss(xe,Pe,Le,De,Re,ye,ge)}ge=Y,ye=U}ye!=U&&n(Y,U,ge,ye,he)}function Bc(x,T){var U=x.V,Y=x.Ba+x.c*x.C,le=T-x.C;if(e(T<=x.l.o),e(16>=le),0<le){var he=x.l,pe=x.Ta,ge=x.Ua,ye=he.width;if(An(x,le,U,Y),le=ge=[ge],e((U=x.C)<(Y=T)),e(he.v<he.va),Y>he.o&&(Y=he.o),U<he.j){var xe=he.j-U;U=he.j,le[0]+=xe*ye}if(U>=Y?U=0:(le[0]+=4*he.v,he.ka=U-he.j,he.U=he.va-he.v,he.T=Y-U,U=1),U){if(ge=ge[0],11>(U=x.ca).S){var Pe=U.f.RGBA,Le=(Y=U.S,le=he.U,he=he.T,xe=Pe.eb,Pe.A),De=he;for(Pe=Pe.fb+x.Ma*Pe.A;0<De--;){var Re=pe,He=ge,Be=le,Ce=xe,ke=Pe;switch(Y){case Zy:oa(Re,He,Be,Ce,ke);break;case ev:Hi(Re,He,Be,Ce,ke);break;case G2:Hi(Re,He,Be,Ce,ke),cs(Ce,ke,0,Be,1,0);break;case q6:Fl(Re,He,Be,Ce,ke);break;case tv:Mt(Re,He,Be,Ce,ke,1);break;case K2:Mt(Re,He,Be,Ce,ke,1),cs(Ce,ke,0,Be,1,0);break;case rv:Mt(Re,He,Be,Ce,ke,0);break;case nv:Mt(Re,He,Be,Ce,ke,0),cs(Ce,ke,1,Be,1,0);break;case H2:iu(Re,He,Be,Ce,ke);break;case Y2:iu(Re,He,Be,Ce,ke),Pr(Ce,ke,Be,1,0);break;case W6:Ml(Re,He,Be,Ce,ke);break;default:e(0)}ge+=ye,Pe+=Le}x.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=U.height)}}x.C=T,e(x.C<=x.i)}function $s(x){var T;if(0<x.ua)return 0;for(T=0;T<x.Wb;++T){var U=x.Ya[T].G,Y=x.Ya[T].H;if(0<U[1][Y[1]+0].g||0<U[2][Y[2]+0].g||0<U[3][Y[3]+0].g)return 0}return 1}function Si(x,T,U,Y,le,he){if(x.Z!=0){var pe=x.qd,ge=x.rd;for(e(lu[x.Z]!=null);T<U;++T)lu[x.Z](pe,ge,Y,le,Y,le,he),pe=Y,ge=le,le+=he;x.qd=pe,x.rd=ge}}function ia(x,T){var U=x.l.ma,Y=U.Z==0||U.Z==1?x.l.j:x.C;if(Y=x.C<Y?Y:x.C,e(T<=x.l.o),T>Y){var le=x.l.width,he=U.ca,pe=U.tb+le*Y,ge=x.V,ye=x.Ba+x.c*Y,xe=x.gc;e(x.ab==1),e(xe[0].hc==3),Ky(xe[0],Y,T,ge,ye,he,pe),Si(U,Y,T,he,pe,le)}x.C=x.Ma=T}function zi(x,T,U,Y,le,he,pe){var ge=x.$/Y,ye=x.$%Y,xe=x.m,Pe=x.s,Le=U+x.$,De=Le;le=U+Y*le;var Re=U+Y*he,He=280+Pe.ua,Be=x.Pb?ge:16777216,Ce=0<Pe.ua?Pe.Wa:null,ke=Pe.wc,ze=Le<Re?Xr(Pe,ye,ge):null;e(x.C<he),e(Re<=le);var Ye=!1;e:for(;;){for(;Ye||Le<Re;){var qe=0;if(ge>=Be){var ct=Le-U;e((Be=x).Pb),Be.wd=Be.m,Be.xd=ct,0<Be.s.ua&&be(Be.s.Wa,Be.s.vb),Be=ge+kG}if(ye&ke||(ze=Xr(Pe,ye,ge)),e(ze!=null),ze.Qb&&(T[Le]=ze.qb,Ye=!0),!Ye)if(ue(xe),ze.jc){qe=xe,ct=T;var it=Le,Et=ze.pd[K(qe)&li-1];e(ze.jc),256>Et.g?(de(qe,qe.u+Et.g),ct[it]=Et.value,qe=0):(de(qe,qe.u+Et.g-256),e(256<=Et.value),qe=Et.value),qe==0&&(Ye=!0)}else qe=Sn(ze.G[0],ze.H[0],xe);if(xe.h)break;if(Ye||256>qe){if(!Ye)if(ze.nd)T[Le]=(ze.qb|qe<<8)>>>0;else{if(ue(xe),Ye=Sn(ze.G[1],ze.H[1],xe),ue(xe),ct=Sn(ze.G[2],ze.H[2],xe),it=Sn(ze.G[3],ze.H[3],xe),xe.h)break;T[Le]=(it<<24|Ye<<16|qe<<8|ct)>>>0}if(Ye=!1,++Le,++ye>=Y&&(ye=0,++ge,pe!=null&&ge<=he&&!(ge%16)&&pe(x,ge),Ce!=null))for(;De<Le;)qe=T[De++],Ce.X[(506832829*qe&4294967295)>>>Ce.Mb]=qe}else if(280>qe){if(qe=na(qe-256,xe),ct=Sn(ze.G[4],ze.H[4],xe),ue(xe),ct=Ei(Y,ct=na(ct,xe)),xe.h)break;if(Le-U<ct||le-Le<qe)break e;for(it=0;it<qe;++it)T[Le+it]=T[Le+it-ct];for(Le+=qe,ye+=qe;ye>=Y;)ye-=Y,++ge,pe!=null&&ge<=he&&!(ge%16)&&pe(x,ge);if(e(Le<=le),ye&ke&&(ze=Xr(Pe,ye,ge)),Ce!=null)for(;De<Le;)qe=T[De++],Ce.X[(506832829*qe&4294967295)>>>Ce.Mb]=qe}else{if(!(qe<He))break e;for(Ye=qe-280,e(Ce!=null);De<Le;)qe=T[De++],Ce.X[(506832829*qe&4294967295)>>>Ce.Mb]=qe;qe=Le,e(!(Ye>>>(ct=Ce).Xa)),T[qe]=ct.X[Ye],Ye=!0}Ye||e(xe.h==ee(xe))}if(x.Pb&&xe.h&&Le<le)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&be(x.s.vb,x.s.Wa);else{if(xe.h)break e;pe!=null&&pe(x,ge>he?he:ge),x.a=0,x.$=Le-U}return 1}return x.a=3,0}function qi(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var T=x.Wa;T!=null&&(T.X=null),x.vb=null,e(x!=null)}function on(){var x=new Eh;return x==null?null:(x.a=0,x.xb=K6,ai("Predictor","VP8LPredictors"),ai("Predictor","VP8LPredictors_C"),ai("PredictorAdd","VP8LPredictorsAdd"),ai("PredictorAdd","VP8LPredictorsAdd_C"),Gy=Fe,Vd=nt,oa=et,Hi=ar,iu=gt,Ml=zr,Fl=$t,N.VP8LMapColor32b=Ph,N.VP8LMapColor8b=Yy,x)}function Ia(x,T,U,Y,le){var he=1,pe=[x],ge=[T],ye=Y.m,xe=Y.s,Pe=null,Le=0;e:for(;;){if(U)for(;he&&we(ye,1);){var De=pe,Re=ge,He=Y,Be=1,Ce=He.m,ke=He.gc[He.ab],ze=we(Ce,2);if(He.Oc&1<<ze)he=0;else{switch(He.Oc|=1<<ze,ke.hc=ze,ke.Ea=De[0],ke.nc=Re[0],ke.K=[null],++He.ab,e(4>=He.ab),ze){case 0:case 1:ke.b=we(Ce,3)+2,Be=Ia(R(ke.Ea,ke.b),R(ke.nc,ke.b),0,He,ke.K),ke.K=ke.K[0];break;case 3:var Ye,qe=we(Ce,8)+1,ct=16<qe?0:4<qe?1:2<qe?2:3;if(De[0]=R(ke.Ea,ct),ke.b=ct,Ye=Be=Ia(qe,1,0,He,ke.K)){var it,Et=qe,st=ke,ir=1<<(8>>st.b),ur=a(ir);if(ur==null)Ye=0;else{var Jt=st.K[0],zt=st.w;for(ur[0]=st.K[0][0],it=1;it<1*Et;++it)ur[it]=W(Jt[zt+it],ur[it-1]);for(;it<4*ir;++it)ur[it]=0;st.K[0]=null,st.K[0]=ur,Ye=1}}Be=Ye;break;case 2:break;default:e(0)}he=Be}}if(pe=pe[0],ge=ge[0],he&&we(ye,1)&&!(he=1<=(Le=we(ye,4))&&11>=Le)){Y.a=3;break e}var Er;if(Er=he)t:{var yr,Rt,Nn,la=Y,Tn=pe,ca=ge,dr=Le,Da=U,Ma=la.m,Gn=la.s,ci=[null],Ki=1,fs=0,Uo=CG[dr];r:for(;;){if(Da&&we(Ma,1)){var Kn=we(Ma,3)+2,Vl=R(Tn,Kn),Gd=R(ca,Kn),Oh=Vl*Gd;if(!Ia(Vl,Gd,0,la,ci))break r;for(ci=ci[0],Gn.xc=Kn,yr=0;yr<Oh;++yr){var cu=ci[yr]>>8&65535;ci[yr]=cu,cu>=Ki&&(Ki=cu+1)}}if(Ma.h)break r;for(Rt=0;5>Rt;++Rt){var Qr=H6[Rt];!Rt&&0<dr&&(Qr+=1<<dr),fs<Qr&&(fs=Qr)}var Z2=s(Ki*Uo,S),nC=Ki,iC=s(nC,k);if(iC==null)var ov=null;else e(65536>=nC),ov=iC;var ig=a(fs);if(ov==null||ig==null||Z2==null){la.a=1;break r}var lv=Z2;for(yr=Nn=0;yr<Ki;++yr){var Xs=ov[yr],Rh=Xs.G,Lh=Xs.H,aC=0,cv=1,sC=0;for(Rt=0;5>Rt;++Rt){Qr=H6[Rt],Rh[Rt]=lv,Lh[Rt]=Nn,!Rt&&0<dr&&(Qr+=1<<dr);i:{var uv,e5=Qr,dv=la,ag=ig,XG=lv,JG=Nn,t5=0,uu=dv.m,QG=we(uu,1);if(i(ag,0,0,e5),QG){var ZG=we(uu,1)+1,eK=we(uu,1),oC=we(uu,eK==0?1:8);ag[oC]=1,ZG==2&&(ag[oC=we(uu,8)]=1);var fv=1}else{var lC=a(19),cC=we(uu,4)+4;if(19<cC){dv.a=3;var hv=0;break i}for(uv=0;uv<cC;++uv)lC[TG[uv]]=we(uu,3);var r5=void 0,sg=void 0,uC=dv,tK=lC,pv=e5,dC=ag,n5=0,du=uC.m,fC=8,hC=s(128,S);n:for(;F(hC,0,7,tK,19);){if(we(du,1)){var rK=2+2*we(du,3);if((r5=2+we(du,rK))>pv)break n}else r5=pv;for(sg=0;sg<pv&&r5--;){ue(du);var pC=hC[0+(127&K(du))];de(du,du.u+pC.g);var Dh=pC.value;if(16>Dh)dC[sg++]=Dh,Dh!=0&&(fC=Dh);else{var nK=Dh==16,mC=Dh-16,iK=AG[mC],gC=we(du,SG[mC])+iK;if(sg+gC>pv)break n;for(var aK=nK?fC:0;0<gC--;)dC[sg++]=aK}}n5=1;break n}n5||(uC.a=3),fv=n5}(fv=fv&&!uu.h)&&(t5=F(XG,JG,8,ag,e5)),fv&&t5!=0?hv=t5:(dv.a=3,hv=0)}if(hv==0)break r;if(cv&&NG[Rt]==1&&(cv=lv[Nn].g==0),aC+=lv[Nn].g,Nn+=hv,3>=Rt){var og,i5=ig[0];for(og=1;og<Qr;++og)ig[og]>i5&&(i5=ig[og]);sC+=i5}}if(Xs.nd=cv,Xs.Qb=0,cv&&(Xs.qb=(Rh[3][Lh[3]+0].value<<24|Rh[1][Lh[1]+0].value<<16|Rh[2][Lh[2]+0].value)>>>0,aC==0&&256>Rh[0][Lh[0]+0].value&&(Xs.Qb=1,Xs.qb+=Rh[0][Lh[0]+0].value<<8)),Xs.jc=!Xs.Qb&&6>sC,Xs.jc){var mv,zl=Xs;for(mv=0;mv<li;++mv){var fu=mv,hu=zl.pd[fu],gv=zl.G[0][zl.H[0]+fu];256<=gv.value?(hu.g=gv.g+256,hu.value=gv.value):(hu.g=0,hu.value=0,fu>>=sn(gv,8,hu),fu>>=sn(zl.G[1][zl.H[1]+fu],16,hu),fu>>=sn(zl.G[2][zl.H[2]+fu],0,hu),sn(zl.G[3][zl.H[3]+fu],24,hu))}}}Gn.vc=ci,Gn.Wb=Ki,Gn.Ya=ov,Gn.yc=Z2,Er=1;break t}Er=0}if(!(he=Er)){Y.a=3;break e}if(0<Le){if(xe.ua=1<<Le,!H(xe.Wa,Le)){Y.a=1,he=0;break e}}else xe.ua=0;var a5=Y,yC=pe,sK=ge,s5=a5.s,o5=s5.xc;if(a5.c=yC,a5.i=sK,s5.md=R(yC,o5),s5.wc=o5==0?-1:(1<<o5)-1,U){Y.xb=MG;break e}if((Pe=a(pe*ge))==null){Y.a=1,he=0;break e}he=(he=zi(Y,Pe,0,pe,ge,ge,null))&&!ye.h;break e}return he?(le!=null?le[0]=Pe:(e(Pe==null),e(U)),Y.$=0,U||qi(xe)):qi(xe),he}function Co(x,T){var U=x.c*x.i,Y=U+T+16*T;return e(x.c<=T),x.V=a(Y),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+U+T,1)}function ko(x,T){var U=x.C,Y=T-U,le=x.V,he=x.Ba+x.c*U;for(e(T<=x.l.o);0<Y;){var pe=16<Y?16:Y,ge=x.l.ma,ye=x.l.width,xe=ye*pe,Pe=ge.ca,Le=ge.tb+ye*U,De=x.Ta,Re=x.Ua;An(x,pe,le,he),cn(De,Re,Pe,Le,xe),Si(ge,U,U+pe,Pe,Le,ye),Y-=pe,le+=pe*x.c,U+=pe}e(U==T),x.C=x.Ma=T}function Io(){this.ub=this.yd=this.td=this.Rb=0}function Nl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Tl(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function hh(){this.Yb=function(){var x=[];return function T(U,Y,le){for(var he=le[Y],pe=0;pe<he&&(U.push(le.length>Y+1?[]:0),!(le.length<Y+1));pe++)T(U[pe],Y+1,le)}(x,0,[3,11]),x}()}function $c(){this.jb=a(3),this.Wc=o([4,8],hh),this.Xc=o([4,17],hh)}function ph(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function jo(){this.ld=this.La=this.dd=this.tc=0}function Oo(){this.Na=this.la=0}function Us(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qm(){this.uc=this.M=this.Nb=0,this.wa=Array(new jo),this.Y=0,this.ya=Array(new Pl),this.aa=0,this.l=new Cl}function Pd(){this.y=a(16),this.f=a(8),this.ea=a(8)}function mh(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new Io,this.Kc=new Nl,this.ed=new ph,this.Qa=new Tl,this.Ic=this.$c=this.Aa=0,this.D=new qm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ve),this.ia=0,this.pb=s(4,Us),this.Pa=new $c,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pd),this.Hd=0,this.rb=Array(new Oo),this.sb=0,this.wa=Array(new jo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pl),this.L=this.aa=0,this.gd=o([4,2],jo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Cl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Cd(){var x=new mh;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,rg||(rg=gh)),x}function Or(x,T,U){return x.a==0&&(x.a=T,x.sc=U,x.cb=0),0}function kd(x,T,U){return 3<=U&&x[T+0]==157&&x[T+1]==1&&x[T+2]==42}function Id(x,T){if(x==null)return 0;if(x.a=0,x.sc="OK",T==null)return Or(x,2,"null VP8Io passed to VP8GetHeaders()");var U=T.data,Y=T.w,le=T.ha;if(4>le)return Or(x,7,"Truncated header.");var he=U[Y+0]|U[Y+1]<<8|U[Y+2]<<16,pe=x.Od;if(pe.Rb=!(1&he),pe.td=he>>1&7,pe.yd=he>>4&1,pe.ub=he>>5,3<pe.td)return Or(x,3,"Incorrect keyframe parameters.");if(!pe.yd)return Or(x,4,"Frame not displayable.");Y+=3,le-=3;var ge=x.Kc;if(pe.Rb){if(7>le)return Or(x,7,"cannot parse picture header");if(!kd(U,Y,le))return Or(x,3,"Bad code word");ge.c=16383&(U[Y+4]<<8|U[Y+3]),ge.Td=U[Y+4]>>6,ge.i=16383&(U[Y+6]<<8|U[Y+5]),ge.Ud=U[Y+6]>>6,Y+=7,le-=7,x.za=ge.c+15>>4,x.Ub=ge.i+15>>4,T.width=ge.c,T.height=ge.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((he=x.Pa).jb,0,255,he.jb.length),e((he=x.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,i(he.Zb,0,0,he.Zb.length),i(he.Lb,0,0,he.Lb)}if(pe.ub>le)return Or(x,7,"bad partition length");ie(he=x.m,U,Y,pe.ub),Y+=pe.ub,le-=pe.ub,pe.Rb&&(ge.Ld=V(he),ge.Kd=V(he)),ge=x.Qa;var ye,xe=x.Pa;if(e(he!=null),e(ge!=null),ge.Cb=V(he),ge.Cb){if(ge.Bb=V(he),V(he)){for(ge.Fb=V(he),ye=0;4>ye;++ye)ge.Zb[ye]=V(he)?Q(he,7):0;for(ye=0;4>ye;++ye)ge.Lb[ye]=V(he)?Q(he,6):0}if(ge.Bb)for(ye=0;3>ye;++ye)xe.jb[ye]=V(he)?ae(he,8):255}else ge.Bb=0;if(he.Ka)return Or(x,3,"cannot parse segment header");if((ge=x.ed).zd=V(he),ge.Tb=ae(he,6),ge.wb=ae(he,3),ge.Pc=V(he),ge.Pc&&V(he)){for(xe=0;4>xe;++xe)V(he)&&(ge.vd[xe]=Q(he,6));for(xe=0;4>xe;++xe)V(he)&&(ge.od[xe]=Q(he,6))}if(x.L=ge.Tb==0?0:ge.zd?1:2,he.Ka)return Or(x,3,"cannot parse filter header");var Pe=le;if(le=ye=Y,Y=ye+Pe,ge=Pe,x.Xb=(1<<ae(x.m,2))-1,Pe<3*(xe=x.Xb))U=7;else{for(ye+=3*xe,ge-=3*xe,Pe=0;Pe<xe;++Pe){var Le=U[le+0]|U[le+1]<<8|U[le+2]<<16;Le>ge&&(Le=ge),ie(x.Jc[+Pe],U,ye,Le),ye+=Le,ge-=Le,le+=3}ie(x.Jc[+xe],U,ye,ge),U=ye<Y?0:5}if(U!=0)return Or(x,U,"cannot parse partitions");for(U=ae(ye=x.m,7),le=V(ye)?Q(ye,4):0,Y=V(ye)?Q(ye,4):0,ge=V(ye)?Q(ye,4):0,xe=V(ye)?Q(ye,4):0,ye=V(ye)?Q(ye,4):0,Pe=x.Qa,Le=0;4>Le;++Le){if(Pe.Cb){var De=Pe.Zb[Le];Pe.Fb||(De+=U)}else{if(0<Le){x.pb[Le]=x.pb[0];continue}De=U}var Re=x.pb[Le];Re.Sc[0]=X2[or(De+le,127)],Re.Sc[1]=J2[or(De+0,127)],Re.Eb[0]=2*X2[or(De+Y,127)],Re.Eb[1]=101581*J2[or(De+ge,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=X2[or(De+xe,117)],Re.Qc[1]=J2[or(De+ye,127)],Re.lc=De+ye}if(!pe.Rb)return Or(x,4,"Not a key frame.");for(V(he),pe=x.Pa,U=0;4>U;++U){for(le=0;8>le;++le)for(Y=0;3>Y;++Y)for(ge=0;11>ge;++ge)xe=te(he,LG[U][le][Y][ge])?ae(he,8):OG[U][le][Y][ge],pe.Wc[U][le].Yb[Y][ge]=xe;for(le=0;17>le;++le)pe.Xc[U][le]=pe.Wc[U][DG[le]]}return x.kc=V(he),x.kc&&(x.Bd=ae(he,8)),x.cb=1}function gh(x,T,U,Y,le,he,pe){var ge=T[le].Yb[U];for(U=0;16>le;++le){if(!te(x,ge[U+0]))return le;for(;!te(x,ge[U+1]);)if(ge=T[++le].Yb[0],U=0,le==16)return 16;var ye=T[le+1].Yb;if(te(x,ge[U+2])){var xe=x,Pe=0;if(te(xe,(De=ge)[(Le=U)+3]))if(te(xe,De[Le+6])){for(ge=0,Le=2*(Pe=te(xe,De[Le+8]))+(De=te(xe,De[Le+9+Pe])),Pe=0,De=IG[Le];De[ge];++ge)Pe+=Pe+te(xe,De[ge]);Pe+=3+(8<<Le)}else te(xe,De[Le+7])?(Pe=7+2*te(xe,165),Pe+=te(xe,145)):Pe=5+te(xe,159);else Pe=te(xe,De[Le+4])?3+te(xe,De[Le+5]):2;ge=ye[2]}else Pe=1,ge=ye[1];ye=pe+jG[le],0>(xe=x).b&&z(xe);var Le,De=xe.b,Re=(Le=xe.Ca>>1)-(xe.I>>De)>>31;--xe.b,xe.Ca+=Re,xe.Ca|=1,xe.I-=(Le+1&Re)<<De,he[ye]=((Pe^Re)-Re)*Y[(0<le)+0]}return 16}function jd(x){var T=x.rb[x.sb-1];T.la=0,T.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function yh(x,T){if(x==null)return 0;if(T==null)return Or(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!Id(x,T))return 0;if(e(x.cb),T.ac==null||T.ac(T)){T.ob&&(x.L=0);var U=sv[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=T.v-U>>4,x.zb=T.j-U>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=T.o+15+U>>4,x.Hb=T.va+15+U>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var Y=x.ed;for(U=0;4>U;++U){var le;if(x.Qa.Cb){var he=x.Qa.Lb[U];x.Qa.Fb||(he+=Y.Tb)}else he=Y.Tb;for(le=0;1>=le;++le){var pe=x.gd[U][le],ge=he;if(Y.Pc&&(ge+=Y.vd[0],le&&(ge+=Y.od[0])),0<(ge=0>ge?0:63<ge?63:ge)){var ye=ge;0<Y.wb&&(ye=4<Y.wb?ye>>2:ye>>1)>9-Y.wb&&(ye=9-Y.wb),1>ye&&(ye=1),pe.dd=ye,pe.tc=2*ge+ye,pe.ld=40<=ge?2:15<=ge?1:0}else pe.tc=0;pe.La=le}}}U=0}else Or(x,6,"Frame setup failed"),U=x.a;if(U=U==0){if(U){x.$c=0,0<x.Aa||(x.Ic=YG);e:{U=x.Ic,Y=4*(ye=x.za);var xe=32*ye,Pe=ye+1,Le=0<x.L?ye*(0<x.Aa?2:1):0,De=(x.Aa==2?2:1)*ye;if((pe=Y+832+(le=3*(16*U+sv[x.L])/2*xe)+(he=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=pe)U=0;else{if(pe>x.Vb){if(x.Vb=0,x.Ec=a(pe),x.Fc=0,x.Ec==null){U=Or(x,1,"no memory during frame initialization.");break e}x.Vb=pe}pe=x.Ec,ge=x.Fc,x.Ac=pe,x.Bc=ge,ge+=Y,x.Gd=s(xe,Pd),x.Hd=0,x.rb=s(Pe+1,Oo),x.sb=1,x.wa=Le?s(Le,jo):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=ye),e(!0),x.oc=pe,x.pc=ge,ge+=832,x.ya=s(De,Pl),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=ye),x.R=16*ye,x.B=8*ye,ye=(xe=sv[x.L])*x.R,xe=xe/2*x.B,x.sa=pe,x.ta=ge+ye,x.qa=x.sa,x.ra=x.ta+16*U*x.R+xe,x.Ha=x.qa,x.Ia=x.ra+8*U*x.B+xe,x.$c=0,ge+=le,x.mb=he?pe:null,x.nb=he?ge:null,e(ge+he<=x.Fc+x.Vb),jd(x),i(x.Ac,x.Bc,0,Y),U=1}}if(U){if(T.ka=0,T.y=x.sa,T.O=x.ta,T.f=x.qa,T.N=x.ra,T.ea=x.Ha,T.Vd=x.Ia,T.fa=x.R,T.Rc=x.B,T.F=null,T.J=0,!Jy){for(U=-255;255>=U;++U)Un[255+U]=0>U?-U:U;for(U=-1020;1020>=U;++U)$l[1020+U]=-128>U?-128:127<U?127:U;for(U=-112;112>=U;++U)tg[112+U]=-16>U?-16:15<U?15:U;for(U=-255;510>=U;++U)jh[255+U]=0>U?0:255<U?255:U;Jy=1}Ch=jl,Bl=Vc,Qm=Od,Gi=cr,os=Il,ln=kl,kh=Yc,Xy=Hs,Zm=Jc,zd=Ud,qd=Xc,au=Rl,Wd=Qc,Ih=Mo,Hd=Ol,su=Ra,eg=$n,ls=_h,Ys[0]=as,Ys[1]=Wm,Ys[2]=Lo,Ys[3]=Gm,Ys[4]=wh,Ys[5]=Wc,Ys[6]=ja,Ys[7]=Ld,Ys[8]=Gc,Ys[9]=Hc,ou[0]=Ro,ou[1]=Hm,ou[2]=zs,ou[3]=zc,ou[4]=Rr,ou[5]=bh,ou[6]=Rd,Ul[0]=Ws,Ul[1]=vh,Ul[2]=xh,Ul[3]=qs,Ul[4]=sr,Ul[5]=Dd,Ul[6]=Md,U=1}else U=0}U&&(U=function(Re,He){for(Re.M=0;Re.M<Re.Va;++Re.M){var Be,Ce=Re.Jc[Re.M&Re.Xb],ke=Re.m,ze=Re;for(Be=0;Be<ze.za;++Be){var Ye=ke,qe=ze,ct=qe.Ac,it=qe.Bc+4*Be,Et=qe.zc,st=qe.ya[qe.aa+Be];if(qe.Qa.Bb?st.$b=te(Ye,qe.Pa.jb[0])?2+te(Ye,qe.Pa.jb[2]):te(Ye,qe.Pa.jb[1]):st.$b=0,qe.kc&&(st.Ad=te(Ye,qe.Bd)),st.Za=!te(Ye,145)+0,st.Za){var ir=st.Ob,ur=0;for(qe=0;4>qe;++qe){var Jt,zt=Et[0+qe];for(Jt=0;4>Jt;++Jt){zt=RG[ct[it+Jt]][zt];for(var Er=G6[te(Ye,zt[0])];0<Er;)Er=G6[2*Er+te(Ye,zt[Er])];zt=-Er,ct[it+Jt]=zt}n(ir,ur,ct,it,4),ur+=4,Et[0+qe]=zt}}else zt=te(Ye,156)?te(Ye,128)?1:3:te(Ye,163)?2:0,st.Ob[0]=zt,i(ct,it,zt,4),i(Et,0,zt,4);st.Dd=te(Ye,142)?te(Ye,114)?te(Ye,183)?1:3:2:0}if(ze.m.Ka)return Or(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(ze=Ce,Ye=(ke=Re).rb[ke.sb-1],ct=ke.rb[ke.sb+ke.ja],Be=ke.ya[ke.aa+ke.ja],it=ke.kc?Be.Ad:0)Ye.la=ct.la=0,Be.Za||(Ye.Na=ct.Na=0),Be.Hc=0,Be.Gc=0,Be.ia=0;else{var yr,Rt;if(Ye=ct,ct=ze,it=ke.Pa.Xc,Et=ke.ya[ke.aa+ke.ja],st=ke.pb[Et.$b],qe=Et.ad,ir=0,ur=ke.rb[ke.sb-1],zt=Jt=0,i(qe,ir,0,384),Et.Za)var Nn=0,la=it[3];else{Er=a(16);var Tn=Ye.Na+ur.Na;if(Tn=rg(ct,it[1],Tn,st.Eb,0,Er,0),Ye.Na=ur.Na=(0<Tn)+0,1<Tn)Ch(Er,0,qe,ir);else{var ca=Er[0]+3>>3;for(Er=0;256>Er;Er+=16)qe[ir+Er]=ca}Nn=1,la=it[0]}var dr=15&Ye.la,Da=15&ur.la;for(Er=0;4>Er;++Er){var Ma=1&Da;for(ca=Rt=0;4>ca;++ca)dr=dr>>1|(Ma=(Tn=rg(ct,la,Tn=Ma+(1&dr),st.Sc,Nn,qe,ir))>Nn)<<7,Rt=Rt<<2|(3<Tn?3:1<Tn?2:qe[ir+0]!=0),ir+=16;dr>>=4,Da=Da>>1|Ma<<7,Jt=(Jt<<8|Rt)>>>0}for(la=dr,Nn=Da>>4,yr=0;4>yr;yr+=2){for(Rt=0,dr=Ye.la>>4+yr,Da=ur.la>>4+yr,Er=0;2>Er;++Er){for(Ma=1&Da,ca=0;2>ca;++ca)Tn=Ma+(1&dr),dr=dr>>1|(Ma=0<(Tn=rg(ct,it[2],Tn,st.Qc,0,qe,ir)))<<3,Rt=Rt<<2|(3<Tn?3:1<Tn?2:qe[ir+0]!=0),ir+=16;dr>>=2,Da=Da>>1|Ma<<5}zt|=Rt<<4*yr,la|=dr<<4<<yr,Nn|=(240&Da)<<yr}Ye.la=la,ur.la=Nn,Et.Hc=Jt,Et.Gc=zt,Et.ia=43690&zt?0:st.ia,it=!(Jt|zt)}if(0<ke.L&&(ke.wa[ke.Y+ke.ja]=ke.gd[Be.$b][Be.Za],ke.wa[ke.Y+ke.ja].La|=!it),ze.Ka)return Or(Re,7,"Premature end-of-file encountered.")}if(jd(Re),ke=He,ze=1,Be=(Ce=Re).D,Ye=0<Ce.L&&Ce.M>=Ce.zb&&Ce.M<=Ce.Va,Ce.Aa==0)e:{if(Be.M=Ce.M,Be.uc=Ye,Bo(Ce,Be),ze=1,Be=(Rt=Ce.D).Nb,Ye=(zt=sv[Ce.L])*Ce.R,ct=zt/2*Ce.B,Er=16*Be*Ce.R,ca=8*Be*Ce.B,it=Ce.sa,Et=Ce.ta-Ye+Er,st=Ce.qa,qe=Ce.ra-ct+ca,ir=Ce.Ha,ur=Ce.Ia-ct+ca,Da=(dr=Rt.M)==0,Jt=dr>=Ce.Va-1,Ce.Aa==2&&Bo(Ce,Rt),Rt.uc)for(Ma=(Tn=Ce).D.M,e(Tn.D.uc),Rt=Tn.yb;Rt<Tn.Hb;++Rt){Nn=Rt,la=Ma;var Gn=(ci=(Qr=Tn).D).Nb;yr=Qr.R;var ci=ci.wa[ci.Y+Nn],Ki=Qr.sa,fs=Qr.ta+16*Gn*yr+16*Nn,Uo=ci.dd,Kn=ci.tc;if(Kn!=0)if(e(3<=Kn),Qr.L==1)0<Nn&&su(Ki,fs,yr,Kn+4),ci.La&&ls(Ki,fs,yr,Kn),0<la&&Hd(Ki,fs,yr,Kn+4),ci.La&&eg(Ki,fs,yr,Kn);else{var Vl=Qr.B,Gd=Qr.qa,Oh=Qr.ra+8*Gn*Vl+8*Nn,cu=Qr.Ha,Qr=Qr.Ia+8*Gn*Vl+8*Nn;Gn=ci.ld,0<Nn&&(Xy(Ki,fs,yr,Kn+4,Uo,Gn),zd(Gd,Oh,cu,Qr,Vl,Kn+4,Uo,Gn)),ci.La&&(au(Ki,fs,yr,Kn,Uo,Gn),Ih(Gd,Oh,cu,Qr,Vl,Kn,Uo,Gn)),0<la&&(kh(Ki,fs,yr,Kn+4,Uo,Gn),Zm(Gd,Oh,cu,Qr,Vl,Kn+4,Uo,Gn)),ci.La&&(qd(Ki,fs,yr,Kn,Uo,Gn),Wd(Gd,Oh,cu,Qr,Vl,Kn,Uo,Gn))}}if(Ce.ia&&alert("todo:DitherRow"),ke.put!=null){if(Rt=16*dr,dr=16*(dr+1),Da?(ke.y=Ce.sa,ke.O=Ce.ta+Er,ke.f=Ce.qa,ke.N=Ce.ra+ca,ke.ea=Ce.Ha,ke.W=Ce.Ia+ca):(Rt-=zt,ke.y=it,ke.O=Et,ke.f=st,ke.N=qe,ke.ea=ir,ke.W=ur),Jt||(dr-=zt),dr>ke.o&&(dr=ke.o),ke.F=null,ke.J=null,Ce.Fa!=null&&0<Ce.Fa.length&&Rt<dr&&(ke.J=ru(Ce,ke,Rt,dr-Rt),ke.F=Ce.mb,ke.F==null&&ke.F.length==0)){ze=Or(Ce,3,"Could not decode alpha data.");break e}Rt<ke.j&&(zt=ke.j-Rt,Rt=ke.j,e(!(1&zt)),ke.O+=Ce.R*zt,ke.N+=Ce.B*(zt>>1),ke.W+=Ce.B*(zt>>1),ke.F!=null&&(ke.J+=ke.width*zt)),Rt<dr&&(ke.O+=ke.v,ke.N+=ke.v>>1,ke.W+=ke.v>>1,ke.F!=null&&(ke.J+=ke.v),ke.ka=Rt-ke.j,ke.U=ke.va-ke.v,ke.T=dr-Rt,ze=ke.put(ke))}Be+1!=Ce.Ic||Jt||(n(Ce.sa,Ce.ta-Ye,it,Et+16*Ce.R,Ye),n(Ce.qa,Ce.ra-ct,st,qe+8*Ce.B,ct),n(Ce.Ha,Ce.Ia-ct,ir,ur+8*Ce.B,ct))}if(!ze)return Or(Re,6,"Output aborted.")}return 1}(x,T)),T.bc!=null&&T.bc(T),U&=1}return U?(x.cb=0,U):0}function aa(x,T,U,Y,le){le=x[T+U+32*Y]+(le>>3),x[T+U+32*Y]=-256&le?0>le?0:255:le}function Uc(x,T,U,Y,le,he){aa(x,T,0,U,Y+le),aa(x,T,1,U,Y+he),aa(x,T,2,U,Y-he),aa(x,T,3,U,Y-le)}function Jr(x){return(20091*x>>16)+x}function Wi(x,T,U,Y){var le,he=0,pe=a(16);for(le=0;4>le;++le){var ge=x[T+0]+x[T+8],ye=x[T+0]-x[T+8],xe=(35468*x[T+4]>>16)-Jr(x[T+12]),Pe=Jr(x[T+4])+(35468*x[T+12]>>16);pe[he+0]=ge+Pe,pe[he+1]=ye+xe,pe[he+2]=ye-xe,pe[he+3]=ge-Pe,he+=4,T++}for(le=he=0;4>le;++le)ge=(x=pe[he+0]+4)+pe[he+8],ye=x-pe[he+8],xe=(35468*pe[he+4]>>16)-Jr(pe[he+12]),aa(U,Y,0,0,ge+(Pe=Jr(pe[he+4])+(35468*pe[he+12]>>16))),aa(U,Y,1,0,ye+xe),aa(U,Y,2,0,ye-xe),aa(U,Y,3,0,ge-Pe),he++,Y+=32}function kl(x,T,U,Y){var le=x[T+0]+4,he=35468*x[T+4]>>16,pe=Jr(x[T+4]),ge=35468*x[T+1]>>16;Uc(U,Y,0,le+pe,x=Jr(x[T+1]),ge),Uc(U,Y,1,le+he,x,ge),Uc(U,Y,2,le-he,x,ge),Uc(U,Y,3,le-pe,x,ge)}function Vc(x,T,U,Y,le){Wi(x,T,U,Y),le&&Wi(x,T+16,U,Y+4)}function Od(x,T,U,Y){Bl(x,T+0,U,Y,1),Bl(x,T+32,U,Y+128,1)}function cr(x,T,U,Y){var le;for(x=x[T+0]+4,le=0;4>le;++le)for(T=0;4>T;++T)aa(U,Y,T,le,x)}function Il(x,T,U,Y){x[T+0]&&Gi(x,T+0,U,Y),x[T+16]&&Gi(x,T+16,U,Y+4),x[T+32]&&Gi(x,T+32,U,Y+128),x[T+48]&&Gi(x,T+48,U,Y+128+4)}function jl(x,T,U,Y){var le,he=a(16);for(le=0;4>le;++le){var pe=x[T+0+le]+x[T+12+le],ge=x[T+4+le]+x[T+8+le],ye=x[T+4+le]-x[T+8+le],xe=x[T+0+le]-x[T+12+le];he[0+le]=pe+ge,he[8+le]=pe-ge,he[4+le]=xe+ye,he[12+le]=xe-ye}for(le=0;4>le;++le)pe=(x=he[0+4*le]+3)+he[3+4*le],ge=he[1+4*le]+he[2+4*le],ye=he[1+4*le]-he[2+4*le],xe=x-he[3+4*le],U[Y+0]=pe+ge>>3,U[Y+16]=xe+ye>>3,U[Y+32]=pe-ge>>3,U[Y+48]=xe-ye>>3,Y+=64}function Vs(x,T,U){var Y,le=T-32,he=La,pe=255-x[le-1];for(Y=0;Y<U;++Y){var ge,ye=he,xe=pe+x[T-1];for(ge=0;ge<U;++ge)x[T+ge]=ye[xe+x[le+ge]];T+=32}}function Wm(x,T){Vs(x,T,4)}function vh(x,T){Vs(x,T,8)}function Hm(x,T){Vs(x,T,16)}function zs(x,T){var U;for(U=0;16>U;++U)n(x,T+32*U,x,T-32,16)}function zc(x,T){var U;for(U=16;0<U;--U)i(x,T,x[T-1],16),T+=32}function qc(x,T,U){var Y;for(Y=0;16>Y;++Y)i(T,U+32*Y,x,16)}function Ro(x,T){var U,Y=16;for(U=0;16>U;++U)Y+=x[T-1+32*U]+x[T+U-32];qc(Y>>5,x,T)}function Rr(x,T){var U,Y=8;for(U=0;16>U;++U)Y+=x[T-1+32*U];qc(Y>>4,x,T)}function bh(x,T){var U,Y=8;for(U=0;16>U;++U)Y+=x[T+U-32];qc(Y>>4,x,T)}function Rd(x,T){qc(128,x,T)}function Tt(x,T,U){return x+2*T+U+2>>2}function Lo(x,T){var U,Y=T-32;for(Y=new Uint8Array([Tt(x[Y-1],x[Y+0],x[Y+1]),Tt(x[Y+0],x[Y+1],x[Y+2]),Tt(x[Y+1],x[Y+2],x[Y+3]),Tt(x[Y+2],x[Y+3],x[Y+4])]),U=0;4>U;++U)n(x,T+32*U,Y,0,Y.length)}function Gm(x,T){var U=x[T-1],Y=x[T-1+32],le=x[T-1+64],he=x[T-1+96];ce(x,T+0,16843009*Tt(x[T-1-32],U,Y)),ce(x,T+32,16843009*Tt(U,Y,le)),ce(x,T+64,16843009*Tt(Y,le,he)),ce(x,T+96,16843009*Tt(le,he,he))}function as(x,T){var U,Y=4;for(U=0;4>U;++U)Y+=x[T+U-32]+x[T-1+32*U];for(Y>>=3,U=0;4>U;++U)i(x,T+32*U,Y,4)}function wh(x,T){var U=x[T-1+0],Y=x[T-1+32],le=x[T-1+64],he=x[T-1-32],pe=x[T+0-32],ge=x[T+1-32],ye=x[T+2-32],xe=x[T+3-32];x[T+0+96]=Tt(Y,le,x[T-1+96]),x[T+1+96]=x[T+0+64]=Tt(U,Y,le),x[T+2+96]=x[T+1+64]=x[T+0+32]=Tt(he,U,Y),x[T+3+96]=x[T+2+64]=x[T+1+32]=x[T+0+0]=Tt(pe,he,U),x[T+3+64]=x[T+2+32]=x[T+1+0]=Tt(ge,pe,he),x[T+3+32]=x[T+2+0]=Tt(ye,ge,pe),x[T+3+0]=Tt(xe,ye,ge)}function ja(x,T){var U=x[T+1-32],Y=x[T+2-32],le=x[T+3-32],he=x[T+4-32],pe=x[T+5-32],ge=x[T+6-32],ye=x[T+7-32];x[T+0+0]=Tt(x[T+0-32],U,Y),x[T+1+0]=x[T+0+32]=Tt(U,Y,le),x[T+2+0]=x[T+1+32]=x[T+0+64]=Tt(Y,le,he),x[T+3+0]=x[T+2+32]=x[T+1+64]=x[T+0+96]=Tt(le,he,pe),x[T+3+32]=x[T+2+64]=x[T+1+96]=Tt(he,pe,ge),x[T+3+64]=x[T+2+96]=Tt(pe,ge,ye),x[T+3+96]=Tt(ge,ye,ye)}function Wc(x,T){var U=x[T-1+0],Y=x[T-1+32],le=x[T-1+64],he=x[T-1-32],pe=x[T+0-32],ge=x[T+1-32],ye=x[T+2-32],xe=x[T+3-32];x[T+0+0]=x[T+1+64]=he+pe+1>>1,x[T+1+0]=x[T+2+64]=pe+ge+1>>1,x[T+2+0]=x[T+3+64]=ge+ye+1>>1,x[T+3+0]=ye+xe+1>>1,x[T+0+96]=Tt(le,Y,U),x[T+0+64]=Tt(Y,U,he),x[T+0+32]=x[T+1+96]=Tt(U,he,pe),x[T+1+32]=x[T+2+96]=Tt(he,pe,ge),x[T+2+32]=x[T+3+96]=Tt(pe,ge,ye),x[T+3+32]=Tt(ge,ye,xe)}function Ld(x,T){var U=x[T+0-32],Y=x[T+1-32],le=x[T+2-32],he=x[T+3-32],pe=x[T+4-32],ge=x[T+5-32],ye=x[T+6-32],xe=x[T+7-32];x[T+0+0]=U+Y+1>>1,x[T+1+0]=x[T+0+64]=Y+le+1>>1,x[T+2+0]=x[T+1+64]=le+he+1>>1,x[T+3+0]=x[T+2+64]=he+pe+1>>1,x[T+0+32]=Tt(U,Y,le),x[T+1+32]=x[T+0+96]=Tt(Y,le,he),x[T+2+32]=x[T+1+96]=Tt(le,he,pe),x[T+3+32]=x[T+2+96]=Tt(he,pe,ge),x[T+3+64]=Tt(pe,ge,ye),x[T+3+96]=Tt(ge,ye,xe)}function Hc(x,T){var U=x[T-1+0],Y=x[T-1+32],le=x[T-1+64],he=x[T-1+96];x[T+0+0]=U+Y+1>>1,x[T+2+0]=x[T+0+32]=Y+le+1>>1,x[T+2+32]=x[T+0+64]=le+he+1>>1,x[T+1+0]=Tt(U,Y,le),x[T+3+0]=x[T+1+32]=Tt(Y,le,he),x[T+3+32]=x[T+1+64]=Tt(le,he,he),x[T+3+64]=x[T+2+64]=x[T+0+96]=x[T+1+96]=x[T+2+96]=x[T+3+96]=he}function Gc(x,T){var U=x[T-1+0],Y=x[T-1+32],le=x[T-1+64],he=x[T-1+96],pe=x[T-1-32],ge=x[T+0-32],ye=x[T+1-32],xe=x[T+2-32];x[T+0+0]=x[T+2+32]=U+pe+1>>1,x[T+0+32]=x[T+2+64]=Y+U+1>>1,x[T+0+64]=x[T+2+96]=le+Y+1>>1,x[T+0+96]=he+le+1>>1,x[T+3+0]=Tt(ge,ye,xe),x[T+2+0]=Tt(pe,ge,ye),x[T+1+0]=x[T+3+32]=Tt(U,pe,ge),x[T+1+32]=x[T+3+64]=Tt(Y,U,pe),x[T+1+64]=x[T+3+96]=Tt(le,Y,U),x[T+1+96]=Tt(he,le,Y)}function xh(x,T){var U;for(U=0;8>U;++U)n(x,T+32*U,x,T-32,8)}function qs(x,T){var U;for(U=0;8>U;++U)i(x,T,x[T-1],8),T+=32}function Oa(x,T,U){var Y;for(Y=0;8>Y;++Y)i(T,U+32*Y,x,8)}function Ws(x,T){var U,Y=8;for(U=0;8>U;++U)Y+=x[T+U-32]+x[T-1+32*U];Oa(Y>>4,x,T)}function Dd(x,T){var U,Y=4;for(U=0;8>U;++U)Y+=x[T+U-32];Oa(Y>>3,x,T)}function sr(x,T){var U,Y=4;for(U=0;8>U;++U)Y+=x[T-1+32*U];Oa(Y>>3,x,T)}function Md(x,T){Oa(128,x,T)}function Kc(x,T,U){var Y=x[T-U],le=x[T+0],he=3*(le-Y)+W2[1020+x[T-2*U]-x[T+U]],pe=Qy[112+(he+4>>3)];x[T-U]=La[255+Y+Qy[112+(he+3>>3)]],x[T+0]=La[255+le-pe]}function Fd(x,T,U,Y){var le=x[T+0],he=x[T+U];return us[255+x[T-2*U]-x[T-U]]>Y||us[255+he-le]>Y}function Bd(x,T,U,Y){return 4*us[255+x[T-U]-x[T+0]]+us[255+x[T-2*U]-x[T+U]]<=Y}function $d(x,T,U,Y,le){var he=x[T-3*U],pe=x[T-2*U],ge=x[T-U],ye=x[T+0],xe=x[T+U],Pe=x[T+2*U],Le=x[T+3*U];return 4*us[255+ge-ye]+us[255+pe-xe]>Y?0:us[255+x[T-4*U]-he]<=le&&us[255+he-pe]<=le&&us[255+pe-ge]<=le&&us[255+Le-Pe]<=le&&us[255+Pe-xe]<=le&&us[255+xe-ye]<=le}function Ol(x,T,U,Y){var le=2*Y+1;for(Y=0;16>Y;++Y)Bd(x,T+Y,U,le)&&Kc(x,T+Y,U)}function Ra(x,T,U,Y){var le=2*Y+1;for(Y=0;16>Y;++Y)Bd(x,T+Y*U,1,le)&&Kc(x,T+Y*U,1)}function $n(x,T,U,Y){var le;for(le=3;0<le;--le)Ol(x,T+=4*U,U,Y)}function _h(x,T,U,Y){var le;for(le=3;0<le;--le)Ra(x,T+=4,U,Y)}function Do(x,T,U,Y,le,he,pe,ge){for(he=2*he+1;0<le--;){if($d(x,T,U,he,pe))if(Fd(x,T,U,ge))Kc(x,T,U);else{var ye=x,xe=T,Pe=U,Le=ye[xe-2*Pe],De=ye[xe-Pe],Re=ye[xe+0],He=ye[xe+Pe],Be=ye[xe+2*Pe],Ce=27*(ze=W2[1020+3*(Re-De)+W2[1020+Le-He]])+63>>7,ke=18*ze+63>>7,ze=9*ze+63>>7;ye[xe-3*Pe]=La[255+ye[xe-3*Pe]+ze],ye[xe-2*Pe]=La[255+Le+ke],ye[xe-Pe]=La[255+De+Ce],ye[xe+0]=La[255+Re-Ce],ye[xe+Pe]=La[255+He-ke],ye[xe+2*Pe]=La[255+Be-ze]}T+=Y}}function si(x,T,U,Y,le,he,pe,ge){for(he=2*he+1;0<le--;){if($d(x,T,U,he,pe))if(Fd(x,T,U,ge))Kc(x,T,U);else{var ye=x,xe=T,Pe=U,Le=ye[xe-Pe],De=ye[xe+0],Re=ye[xe+Pe],He=Qy[112+((Be=3*(De-Le))+4>>3)],Be=Qy[112+(Be+3>>3)],Ce=He+1>>1;ye[xe-2*Pe]=La[255+ye[xe-2*Pe]+Ce],ye[xe-Pe]=La[255+Le+Be],ye[xe+0]=La[255+De-He],ye[xe+Pe]=La[255+Re-Ce]}T+=Y}}function Yc(x,T,U,Y,le,he){Do(x,T,U,1,16,Y,le,he)}function Hs(x,T,U,Y,le,he){Do(x,T,1,U,16,Y,le,he)}function Xc(x,T,U,Y,le,he){var pe;for(pe=3;0<pe;--pe)si(x,T+=4*U,U,1,16,Y,le,he)}function Rl(x,T,U,Y,le,he){var pe;for(pe=3;0<pe;--pe)si(x,T+=4,1,U,16,Y,le,he)}function Jc(x,T,U,Y,le,he,pe,ge){Do(x,T,le,1,8,he,pe,ge),Do(U,Y,le,1,8,he,pe,ge)}function Ud(x,T,U,Y,le,he,pe,ge){Do(x,T,1,le,8,he,pe,ge),Do(U,Y,1,le,8,he,pe,ge)}function Qc(x,T,U,Y,le,he,pe,ge){si(x,T+4*le,le,1,8,he,pe,ge),si(U,Y+4*le,le,1,8,he,pe,ge)}function Mo(x,T,U,Y,le,he,pe,ge){si(x,T+4,1,le,8,he,pe,ge),si(U,Y+4,1,le,8,he,pe,ge)}function Ll(){this.ba=new _n,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Zc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Dl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function eu(){this.ua=0,this.Wa=new B,this.vb=new B,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new k,this.yc=new S}function Eh(){this.xb=this.a=0,this.l=new Cl,this.ca=new _n,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new eu,this.ab=0,this.gc=s(4,Dl),this.Oc=0}function Gs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fo(x,T,U,Y,le,he,pe){for(x=x==null?0:x[T+0],T=0;T<pe;++T)le[he+T]=x+U[Y+T]&255,x=le[he+T]}function tu(x,T,U,Y,le,he,pe){var ge;if(x==null)Fo(null,null,U,Y,le,he,pe);else for(ge=0;ge<pe;++ge)le[he+ge]=x[T+ge]+U[Y+ge]&255}function Ai(x,T,U,Y,le,he,pe){if(x==null)Fo(null,null,U,Y,le,he,pe);else{var ge,ye=x[T+0],xe=ye,Pe=ye;for(ge=0;ge<pe;++ge)xe=Pe+(ye=x[T+ge])-xe,Pe=U[Y+ge]+(-256&xe?0>xe?0:255:xe)&255,xe=ye,le[he+ge]=Pe}}function ru(x,T,U,Y){var le=T.width,he=T.o;if(e(x!=null&&T!=null),0>U||0>=Y||U+Y>he)return null;if(!x.Cc){if(x.ga==null){var pe;if(x.ga=new Gs,(pe=x.ga==null)||(pe=T.width*T.o,e(x.Gb.length==0),x.Gb=a(pe),x.Uc=0,x.Gb==null?pe=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,pe=1),pe=!pe),!pe){pe=x.ga;var ge=x.Fa,ye=x.P,xe=x.qc,Pe=x.mb,Le=x.nb,De=ye+1,Re=xe-1,He=pe.l;if(e(ge!=null&&Pe!=null&&T!=null),lu[0]=null,lu[1]=Fo,lu[2]=tu,lu[3]=Ai,pe.ca=Pe,pe.tb=Le,pe.c=T.width,pe.i=T.height,e(0<pe.c&&0<pe.i),1>=xe)T=0;else if(pe.$a=ge[ye+0]>>0&3,pe.Z=ge[ye+0]>>2&3,pe.Lc=ge[ye+0]>>4&3,ye=ge[ye+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||ye)T=0;else if(He.put=_i,He.ac=En,He.bc=ka,He.ma=pe,He.width=T.width,He.height=T.height,He.Da=T.Da,He.v=T.v,He.va=T.va,He.j=T.j,He.o=T.o,pe.$a)e:{e(pe.$a==1),T=on();t:for(;;){if(T==null){T=0;break e}if(e(pe!=null),pe.mc=T,T.c=pe.c,T.i=pe.i,T.l=pe.l,T.l.ma=pe,T.l.width=pe.c,T.l.height=pe.i,T.a=0,se(T.m,ge,De,Re),!Ia(pe.c,pe.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&$s(T.s)?(pe.ic=1,ge=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(ge),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(pe.ic=0,T=Co(T,pe.c)),!T))break t;T=1;break e}pe.mc=null,T=0}else T=Re>=pe.c*pe.i;pe=!T}if(pe)return null;x.ga.Lc!=1?x.Ga=0:Y=he-U}e(x.ga!=null),e(U+Y<=he);e:{if(T=(ge=x.ga).c,he=ge.l.o,ge.$a==0){if(De=x.rc,Re=x.Vc,He=x.Fa,ye=x.P+1+U*T,xe=x.mb,Pe=x.nb+U*T,e(ye<=x.P+x.qc),ge.Z!=0)for(e(lu[ge.Z]!=null),pe=0;pe<Y;++pe)lu[ge.Z](De,Re,He,ye,xe,Pe,T),De=xe,Re=Pe,Pe+=T,ye+=T;else for(pe=0;pe<Y;++pe)n(xe,Pe,He,ye,T),De=xe,Re=Pe,Pe+=T,ye+=T;x.rc=De,x.Vc=Re}else{if(e(ge.mc!=null),T=U+Y,e((pe=ge.mc)!=null),e(T<=pe.i),pe.C>=T)T=1;else if(ge.ic||Oe(),ge.ic){ge=pe.V,De=pe.Ba,Re=pe.c;var Be=pe.i,Ce=(He=1,ye=pe.$/Re,xe=pe.$%Re,Pe=pe.m,Le=pe.s,pe.$),ke=Re*Be,ze=Re*T,Ye=Le.wc,qe=Ce<ze?Xr(Le,xe,ye):null;e(Ce<=ke),e(T<=Be),e($s(Le));t:for(;;){for(;!Pe.h&&Ce<ze;){if(xe&Ye||(qe=Xr(Le,xe,ye)),e(qe!=null),ue(Pe),256>(Be=Sn(qe.G[0],qe.H[0],Pe)))ge[De+Ce]=Be,++Ce,++xe>=Re&&(xe=0,++ye<=T&&!(ye%16)&&ia(pe,ye));else{if(!(280>Be)){He=0;break t}Be=na(Be-256,Pe);var ct,it=Sn(qe.G[4],qe.H[4],Pe);if(ue(Pe),!(Ce>=(it=Ei(Re,it=na(it,Pe)))&&ke-Ce>=Be)){He=0;break t}for(ct=0;ct<Be;++ct)ge[De+Ce+ct]=ge[De+Ce+ct-it];for(Ce+=Be,xe+=Be;xe>=Re;)xe-=Re,++ye<=T&&!(ye%16)&&ia(pe,ye);Ce<ze&&xe&Ye&&(qe=Xr(Le,xe,ye))}e(Pe.h==ee(Pe))}ia(pe,ye>T?T:ye);break t}!He||Pe.h&&Ce<ke?(He=0,pe.a=Pe.h?5:3):pe.$=Ce,T=He}else T=zi(pe,pe.V,pe.Ba,pe.c,pe.i,T,ko);if(!T){Y=0;break e}}U+Y>=he&&(x.Cc=1),Y=1}if(!Y)return null;if(x.Cc&&((Y=x.ga)!=null&&(Y.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+U*le}function L(x,T,U,Y,le,he){for(;0<le--;){var pe,ge=x,ye=T+(U?1:0),xe=x,Pe=T+(U?0:3);for(pe=0;pe<Y;++pe){var Le=xe[Pe+4*pe];Le!=255&&(Le*=32897,ge[ye+4*pe+0]=ge[ye+4*pe+0]*Le>>23,ge[ye+4*pe+1]=ge[ye+4*pe+1]*Le>>23,ge[ye+4*pe+2]=ge[ye+4*pe+2]*Le>>23)}T+=he}}function oe(x,T,U,Y,le){for(;0<Y--;){var he;for(he=0;he<U;++he){var pe=x[T+2*he+0],ge=15&(xe=x[T+2*he+1]),ye=4369*ge,xe=(240&xe|xe>>4)*ye>>16;x[T+2*he+0]=(240&pe|pe>>4)*ye>>16&240|(15&pe|pe<<4)*ye>>16>>4&15,x[T+2*he+1]=240&xe|ge}T+=le}}function _e(x,T,U,Y,le,he,pe,ge){var ye,xe,Pe=255;for(xe=0;xe<le;++xe){for(ye=0;ye<Y;++ye){var Le=x[T+ye];he[pe+4*ye]=Le,Pe&=Le}T+=U,pe+=ge}return Pe!=255}function Te(x,T,U,Y,le){var he;for(he=0;he<le;++he)U[Y+he]=x[T+he]>>8}function Oe(){cs=L,Pr=oe,Cr=_e,cn=Te}function Ue(x,T,U){N[x]=function(Y,le,he,pe,ge,ye,xe,Pe,Le,De,Re,He,Be,Ce,ke,ze,Ye){var qe,ct=Ye-1>>1,it=ge[ye+0]|xe[Pe+0]<<16,Et=Le[De+0]|Re[He+0]<<16;e(Y!=null);var st=3*it+Et+131074>>2;for(T(Y[le+0],255&st,st>>16,Be,Ce),he!=null&&(st=3*Et+it+131074>>2,T(he[pe+0],255&st,st>>16,ke,ze)),qe=1;qe<=ct;++qe){var ir=ge[ye+qe]|xe[Pe+qe]<<16,ur=Le[De+qe]|Re[He+qe]<<16,Jt=it+ir+Et+ur+524296,zt=Jt+2*(ir+Et)>>3;st=zt+it>>1,it=(Jt=Jt+2*(it+ur)>>3)+ir>>1,T(Y[le+2*qe-1],255&st,st>>16,Be,Ce+(2*qe-1)*U),T(Y[le+2*qe-0],255&it,it>>16,Be,Ce+(2*qe-0)*U),he!=null&&(st=Jt+Et>>1,it=zt+ur>>1,T(he[pe+2*qe-1],255&st,st>>16,ke,ze+(2*qe-1)*U),T(he[pe+2*qe+0],255&it,it>>16,ke,ze+(2*qe+0)*U)),it=ir,Et=ur}1&Ye||(st=3*it+Et+131074>>2,T(Y[le+Ye-1],255&st,st>>16,Be,Ce+(Ye-1)*U),he!=null&&(st=3*Et+it+131074>>2,T(he[pe+Ye-1],255&st,st>>16,ke,ze+(Ye-1)*U)))}}function Xe(){ds[Zy]=FG,ds[ev]=Y6,ds[q6]=BG,ds[tv]=X6,ds[rv]=J6,ds[H2]=Q6,ds[W6]=$G,ds[G2]=Y6,ds[K2]=X6,ds[nv]=J6,ds[Y2]=Q6}function at(x){return x&~UG?0>x?0:255:x>>Z6}function _(x,T){return at((19077*x>>8)+(26149*T>>8)-14234)}function q(x,T,U){return at((19077*x>>8)-(6419*T>>8)-(13320*U>>8)+8708)}function X(x,T){return at((19077*x>>8)+(33050*T>>8)-17685)}function me(x,T,U,Y,le){Y[le+0]=_(x,U),Y[le+1]=q(x,T,U),Y[le+2]=X(x,T)}function je(x,T,U,Y,le){Y[le+0]=X(x,T),Y[le+1]=q(x,T,U),Y[le+2]=_(x,U)}function Me(x,T,U,Y,le){var he=q(x,T,U);T=he<<3&224|X(x,T)>>3,Y[le+0]=248&_(x,U)|he>>5,Y[le+1]=T}function Je(x,T,U,Y,le){var he=240&X(x,T)|15;Y[le+0]=240&_(x,U)|q(x,T,U)>>4,Y[le+1]=he}function kt(x,T,U,Y,le){Y[le+0]=255,me(x,T,U,Y,le+1)}function Vt(x,T,U,Y,le){je(x,T,U,Y,le),Y[le+3]=255}function It(x,T,U,Y,le){me(x,T,U,Y,le),Y[le+3]=255}function or(x,T){return 0>x?0:x>T?T:x}function _r(x,T,U){N[x]=function(Y,le,he,pe,ge,ye,xe,Pe,Le){for(var De=Pe+(-2&Le)*U;Pe!=De;)T(Y[le+0],he[pe+0],ge[ye+0],xe,Pe),T(Y[le+1],he[pe+0],ge[ye+0],xe,Pe+U),le+=2,++pe,++ye,Pe+=2*U;1&Le&&T(Y[le+0],he[pe+0],ge[ye+0],xe,Pe)}}function Ks(x,T,U){return U==0?x==0?T==0?6:5:T==0?4:0:U}function oi(x,T,U,Y,le){switch(x>>>30){case 3:Bl(T,U,Y,le,0);break;case 2:ln(T,U,Y,le);break;case 1:Gi(T,U,Y,le)}}function Bo(x,T){var U,Y,le=T.M,he=T.Nb,pe=x.oc,ge=x.pc+40,ye=x.oc,xe=x.pc+584,Pe=x.oc,Le=x.pc+600;for(U=0;16>U;++U)pe[ge+32*U-1]=129;for(U=0;8>U;++U)ye[xe+32*U-1]=129,Pe[Le+32*U-1]=129;for(0<le?pe[ge-1-32]=ye[xe-1-32]=Pe[Le-1-32]=129:(i(pe,ge-32-1,127,21),i(ye,xe-32-1,127,9),i(Pe,Le-32-1,127,9)),Y=0;Y<x.za;++Y){var De=T.ya[T.aa+Y];if(0<Y){for(U=-1;16>U;++U)n(pe,ge+32*U-4,pe,ge+32*U+12,4);for(U=-1;8>U;++U)n(ye,xe+32*U-4,ye,xe+32*U+4,4),n(Pe,Le+32*U-4,Pe,Le+32*U+4,4)}var Re=x.Gd,He=x.Hd+Y,Be=De.ad,Ce=De.Hc;if(0<le&&(n(pe,ge-32,Re[He].y,0,16),n(ye,xe-32,Re[He].f,0,8),n(Pe,Le-32,Re[He].ea,0,8)),De.Za){var ke=pe,ze=ge-32+16;for(0<le&&(Y>=x.za-1?i(ke,ze,Re[He].y[15],4):n(ke,ze,Re[He+1].y,0,4)),U=0;4>U;U++)ke[ze+128+U]=ke[ze+256+U]=ke[ze+384+U]=ke[ze+0+U];for(U=0;16>U;++U,Ce<<=2)ke=pe,ze=ge+tC[U],Ys[De.Ob[U]](ke,ze),oi(Ce,Be,16*+U,ke,ze)}else if(ke=Ks(Y,le,De.Ob[0]),ou[ke](pe,ge),Ce!=0)for(U=0;16>U;++U,Ce<<=2)oi(Ce,Be,16*+U,pe,ge+tC[U]);for(U=De.Gc,ke=Ks(Y,le,De.Dd),Ul[ke](ye,xe),Ul[ke](Pe,Le),Ce=Be,ke=ye,ze=xe,255&(De=U>>0)&&(170&De?Qm(Ce,256,ke,ze):os(Ce,256,ke,ze)),De=Pe,Ce=Le,255&(U>>=8)&&(170&U?Qm(Be,320,De,Ce):os(Be,320,De,Ce)),le<x.Ub-1&&(n(Re[He].y,0,pe,ge+480,16),n(Re[He].f,0,ye,xe+224,8),n(Re[He].ea,0,Pe,Le+224,8)),U=8*he*x.B,Re=x.sa,He=x.ta+16*Y+16*he*x.R,Be=x.qa,De=x.ra+8*Y+U,Ce=x.Ha,ke=x.Ia+8*Y+U,U=0;16>U;++U)n(Re,He+U*x.R,pe,ge+32*U,16);for(U=0;8>U;++U)n(Be,De+U*x.B,ye,xe+32*U,8),n(Ce,ke+U*x.B,Pe,Le+32*U,8)}}function $o(x,T,U,Y,le,he,pe,ge,ye){var xe=[0],Pe=[0],Le=0,De=ye!=null?ye.kd:0,Re=ye??new Zc;if(x==null||12>U)return 7;Re.data=x,Re.w=T,Re.ha=U,T=[T],U=[U],Re.gb=[Re.gb];e:{var He=T,Be=U,Ce=Re.gb;if(e(x!=null),e(Be!=null),e(Ce!=null),Ce[0]=0,12<=Be[0]&&!r(x,He[0],"RIFF")){if(r(x,He[0]+8,"WEBP")){Ce=3;break e}var ke=Ee(x,He[0]+4);if(12>ke||4294967286<ke){Ce=3;break e}if(De&&ke>Be[0]-8){Ce=7;break e}Ce[0]=ke,He[0]+=12,Be[0]-=12}Ce=0}if(Ce!=0)return Ce;for(ke=0<Re.gb[0],U=U[0];;){e:{var ze=x;Be=T,Ce=U;var Ye=xe,qe=Pe,ct=He=[0];if((st=Le=[Le])[0]=0,8>Ce[0])Ce=7;else{if(!r(ze,Be[0],"VP8X")){if(Ee(ze,Be[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var it=Ee(ze,Be[0]+8),Et=1+J(ze,Be[0]+12);if(2147483648<=Et*(ze=1+J(ze,Be[0]+15))){Ce=3;break e}ct!=null&&(ct[0]=it),Ye!=null&&(Ye[0]=Et),qe!=null&&(qe[0]=ze),Be[0]+=18,Ce[0]-=18,st[0]=1}Ce=0}}if(Le=Le[0],He=He[0],Ce!=0)return Ce;if(Be=!!(2&He),!ke&&Le)return 3;if(he!=null&&(he[0]=!!(16&He)),pe!=null&&(pe[0]=Be),ge!=null&&(ge[0]=0),pe=xe[0],He=Pe[0],Le&&Be&&ye==null){Ce=0;break}if(4>U){Ce=7;break}if(ke&&Le||!ke&&!Le&&!r(x,T[0],"ALPH")){U=[U],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{it=x,Ce=T,ke=U;var st=Re.gb;Ye=Re.na,qe=Re.P,ct=Re.Sa,Et=22,e(it!=null),e(ke!=null),ze=Ce[0];var ir=ke[0];for(e(Ye!=null),e(ct!=null),Ye[0]=null,qe[0]=null,ct[0]=0;;){if(Ce[0]=ze,ke[0]=ir,8>ir){Ce=7;break e}var ur=Ee(it,ze+4);if(4294967286<ur){Ce=3;break e}var Jt=8+ur+1&-2;if(Et+=Jt,0<st&&Et>st){Ce=3;break e}if(!r(it,ze,"VP8 ")||!r(it,ze,"VP8L")){Ce=0;break e}if(ir[0]<Jt){Ce=7;break e}r(it,ze,"ALPH")||(Ye[0]=it,qe[0]=ze+8,ct[0]=ur),ze+=Jt,ir-=Jt}}if(U=U[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Ce!=0)break}U=[U],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(st=x,Ce=T,ke=U,Ye=Re.gb[0],qe=Re.Ja,ct=Re.xa,it=Ce[0],ze=!r(st,it,"VP8 "),Et=!r(st,it,"VP8L"),e(st!=null),e(ke!=null),e(qe!=null),e(ct!=null),8>ke[0])Ce=7;else{if(ze||Et){if(st=Ee(st,it+4),12<=Ye&&st>Ye-12){Ce=3;break e}if(De&&st>ke[0]-8){Ce=7;break e}qe[0]=st,Ce[0]+=8,ke[0]-=8,ct[0]=Et}else ct[0]=5<=ke[0]&&st[it+0]==47&&!(st[it+4]>>5),qe[0]=ke[0];Ce=0}if(U=U[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],T=T[0],Ce!=0)break;if(4294967286<Re.Ja)return 3;if(ge==null||Be||(ge[0]=Re.xa?2:1),pe=[pe],He=[He],Re.xa){if(5>U){Ce=7;break}ge=pe,De=He,Be=he,x==null||5>U?x=0:5<=U&&x[T+0]==47&&!(x[T+4]>>5)?(ke=[0],st=[0],Ye=[0],se(qe=new M,x,T,U),dt(qe,ke,st,Ye)?(ge!=null&&(ge[0]=ke[0]),De!=null&&(De[0]=st[0]),Be!=null&&(Be[0]=Ye[0]),x=1):x=0):x=0}else{if(10>U){Ce=7;break}ge=He,x==null||10>U||!kd(x,T+3,U-3)?x=0:(De=x[T+0]|x[T+1]<<8|x[T+2]<<16,Be=16383&(x[T+7]<<8|x[T+6]),x=16383&(x[T+9]<<8|x[T+8]),1&De||3<(De>>1&7)||!(De>>4&1)||De>>5>=Re.Ja||!Be||!x?x=0:(pe&&(pe[0]=Be),ge&&(ge[0]=x),x=1))}if(!x||(pe=pe[0],He=He[0],Le&&(xe[0]!=pe||Pe[0]!=He)))return 3;ye!=null&&(ye[0]=Re,ye.offset=T-ye.w,e(4294967286>T-ye.w),e(ye.offset==ye.ha-U));break}return Ce==0||Ce==7&&Le&&ye==null?(he!=null&&(he[0]|=Re.na!=null&&0<Re.na.length),Y!=null&&(Y[0]=pe),le!=null&&(le[0]=He),0):Ce}function Km(x,T,U){var Y=T.width,le=T.height,he=0,pe=0,ge=Y,ye=le;if(T.Da=x!=null&&0<x.Da,T.Da&&(ge=x.cd,ye=x.bd,he=x.v,pe=x.j,11>U||(he&=-2,pe&=-2),0>he||0>pe||0>=ge||0>=ye||he+ge>Y||pe+ye>le))return 0;if(T.v=he,T.j=pe,T.va=he+ge,T.o=pe+ye,T.U=ge,T.T=ye,T.da=x!=null&&0<x.da,T.da){if(!j(ge,ye,U=[x.ib],he=[x.hb]))return 0;T.ib=U[0],T.hb=he[0]}return T.ob=x!=null&&x.ob,T.Kb=x==null||!x.Sd,T.da&&(T.ob=T.ib<3*Y/4&&T.hb<3*le/4,T.Kb=0),1}function Ym(x){if(x==null)return 2;if(11>x.S){var T=x.f.RGBA;T.fb+=(x.height-1)*T.A,T.A=-T.A}else T=x.f.kb,x=x.height,T.O+=(x-1)*T.fa,T.fa=-T.fa,T.N+=(x-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(x-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(x-1)*T.lb,T.lb=-T.lb);return 0}function Sh(x,T,U,Y){if(Y==null||0>=x||0>=T)return 2;if(U!=null){if(U.Da){var le=U.cd,he=U.bd,pe=-2&U.v,ge=-2&U.j;if(0>pe||0>ge||0>=le||0>=he||pe+le>x||ge+he>T)return 2;x=le,T=he}if(U.da){if(!j(x,T,le=[U.ib],he=[U.hb]))return 2;x=le[0],T=he[0]}}Y.width=x,Y.height=T;e:{var ye=Y.width,xe=Y.height;if(x=Y.S,0>=ye||0>=xe||!(x>=Zy&&13>x))x=2;else{if(0>=Y.Rd&&Y.sd==null){pe=he=le=T=0;var Pe=(ge=ye*rC[x])*xe;if(11>x||(he=(xe+1)/2*(T=(ye+1)/2),x==12&&(pe=(le=ye)*xe)),(xe=a(Pe+2*he+pe))==null){x=1;break e}Y.sd=xe,11>x?((ye=Y.f.RGBA).eb=xe,ye.fb=0,ye.A=ge,ye.size=Pe):((ye=Y.f.kb).y=xe,ye.O=0,ye.fa=ge,ye.Fd=Pe,ye.f=xe,ye.N=0+Pe,ye.Ab=T,ye.Cd=he,ye.ea=xe,ye.W=0+Pe+he,ye.Db=T,ye.Ed=he,x==12&&(ye.F=xe,ye.J=0+Pe+2*he),ye.Tc=pe,ye.lb=le)}if(T=1,le=Y.S,he=Y.width,pe=Y.height,le>=Zy&&13>le)if(11>le)x=Y.f.RGBA,T&=(ge=Math.abs(x.A))*(pe-1)+he<=x.size,T&=ge>=he*rC[le],T&=x.eb!=null;else{x=Y.f.kb,ge=(he+1)/2,Pe=(pe+1)/2,ye=Math.abs(x.fa),xe=Math.abs(x.Ab);var Le=Math.abs(x.Db),De=Math.abs(x.lb),Re=De*(pe-1)+he;T&=ye*(pe-1)+he<=x.Fd,T&=xe*(Pe-1)+ge<=x.Cd,T=(T&=Le*(Pe-1)+ge<=x.Ed)&ye>=he&xe>=ge&Le>=ge,T&=x.y!=null,T&=x.f!=null,T&=x.ea!=null,le==12&&(T&=De>=he,T&=Re<=x.Tc,T&=x.F!=null)}else T=0;x=T?0:2}}return x!=0||U!=null&&U.fd&&(x=Ym(Y)),x}var li=64,Ah=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Nh=24,Th=32,Xm=8,sa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];G("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(x){return x},N.Predictor2=function(x,T,U){return T[U+0]},N.Predictor3=function(x,T,U){return T[U+1]},N.Predictor4=function(x,T,U){return T[U-1]},N.Predictor5=function(x,T,U){return re(re(x,T[U+1]),T[U+0])},N.Predictor6=function(x,T,U){return re(x,T[U-1])},N.Predictor7=function(x,T,U){return re(x,T[U+0])},N.Predictor8=function(x,T,U){return re(T[U-1],T[U+0])},N.Predictor9=function(x,T,U){return re(T[U+0],T[U+1])},N.Predictor10=function(x,T,U){return re(re(x,T[U-1]),re(T[U+0],T[U+1]))},N.Predictor11=function(x,T,U){var Y=T[U+0];return 0>=Ae(Y>>24&255,x>>24&255,(T=T[U-1])>>24&255)+Ae(Y>>16&255,x>>16&255,T>>16&255)+Ae(Y>>8&255,x>>8&255,T>>8&255)+Ae(255&Y,255&x,255&T)?Y:x},N.Predictor12=function(x,T,U){var Y=T[U+0];return(Se((x>>24&255)+(Y>>24&255)-((T=T[U-1])>>24&255))<<24|Se((x>>16&255)+(Y>>16&255)-(T>>16&255))<<16|Se((x>>8&255)+(Y>>8&255)-(T>>8&255))<<8|Se((255&x)+(255&Y)-(255&T)))>>>0},N.Predictor13=function(x,T,U){var Y=T[U-1];return(Ne((x=re(x,T[U+0]))>>24&255,Y>>24&255)<<24|Ne(x>>16&255,Y>>16&255)<<16|Ne(x>>8&255,Y>>8&255)<<8|Ne(x>>0&255,Y>>0&255))>>>0};var q2=N.PredictorAdd0;N.PredictorAdd1=Ie,G("Predictor2","PredictorAdd2"),G("Predictor3","PredictorAdd3"),G("Predictor4","PredictorAdd4"),G("Predictor5","PredictorAdd5"),G("Predictor6","PredictorAdd6"),G("Predictor7","PredictorAdd7"),G("Predictor8","PredictorAdd8"),G("Predictor9","PredictorAdd9"),G("Predictor10","PredictorAdd10"),G("Predictor11","PredictorAdd11"),G("Predictor12","PredictorAdd12"),G("Predictor13","PredictorAdd13");var Jm=N.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Gy,ss=N.ColorIndexInverseTransform,Ph=N.MapARGB,Ky=N.VP8LColorIndexInverseTransformAlpha,Yy=N.MapAlpha,nu=N.VP8LPredictorsAdd=[];nu.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Vd,oa,Hi,iu,Ml,Fl,Ch,Bl,ln,Qm,Gi,os,kh,Xy,Zm,zd,qd,au,Wd,Ih,Hd,su,eg,ls,cs,Pr,Cr,cn,Un=a(511),$l=a(2041),tg=a(225),jh=a(767),Jy=0,W2=$l,Qy=tg,La=jh,us=Un,Zy=0,ev=1,q6=2,tv=3,rv=4,H2=5,W6=6,G2=7,K2=8,nv=9,Y2=10,SG=[2,3,7],AG=[3,3,11],H6=[280,256,256,256,40],NG=[0,1,1,1,0],TG=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],PG=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],CG=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],kG=8,X2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],J2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rg=null,IG=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jG=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],G6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],OG=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],RG=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],LG=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],DG=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ou=[],Ys=[],Ul=[],MG=1,K6=2,lu=[],ds=[];Ue("UpsampleRgbLinePair",me,3),Ue("UpsampleBgrLinePair",je,3),Ue("UpsampleRgbaLinePair",It,4),Ue("UpsampleBgraLinePair",Vt,4),Ue("UpsampleArgbLinePair",kt,4),Ue("UpsampleRgba4444LinePair",Je,2),Ue("UpsampleRgb565LinePair",Me,2);var FG=N.UpsampleRgbLinePair,BG=N.UpsampleBgrLinePair,Y6=N.UpsampleRgbaLinePair,X6=N.UpsampleBgraLinePair,J6=N.UpsampleArgbLinePair,Q6=N.UpsampleRgba4444LinePair,$G=N.UpsampleRgb565LinePair,iv=16,av=1<<iv-1,ng=-227,Q2=482,Z6=6,UG=(256<<Z6)-1,eC=0,VG=a(256),zG=a(256),qG=a(256),WG=a(256),HG=a(Q2-ng),GG=a(Q2-ng);_r("YuvToRgbRow",me,3),_r("YuvToBgrRow",je,3),_r("YuvToRgbaRow",It,4),_r("YuvToBgraRow",Vt,4),_r("YuvToArgbRow",kt,4),_r("YuvToRgba4444Row",Je,2),_r("YuvToRgb565Row",Me,2);var tC=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],sv=[0,2,8],KG=[8,7,6,4,4,2,2,2,1,1,1,1],YG=1;this.WebPDecodeRGBA=function(x,T,U,Y,le){var he=ev,pe=new Ll,ge=new _n;pe.ba=ge,ge.S=he,ge.width=[ge.width],ge.height=[ge.height];var ye=ge.width,xe=ge.height,Pe=new Bn;if(Pe==null||x==null)var Le=2;else e(Pe!=null),Le=$o(x,T,U,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(Le!=0?ye=0:(ye!=null&&(ye[0]=Pe.width[0]),xe!=null&&(xe[0]=Pe.height[0]),ye=1),ye){ge.width=ge.width[0],ge.height=ge.height[0],Y!=null&&(Y[0]=ge.width),le!=null&&(le[0]=ge.height);e:{if(Y=new Cl,(le=new Zc).data=x,le.w=T,le.ha=U,le.kd=1,T=[0],e(le!=null),((x=$o(le.data,le.w,le.ha,null,null,null,T,null,le))==0||x==7)&&T[0]&&(x=4),(T=x)==0){if(e(pe!=null),Y.data=le.data,Y.w=le.w+le.offset,Y.ha=le.ha-le.offset,Y.put=_i,Y.ac=En,Y.bc=ka,Y.ma=pe,le.xa){if((x=on())==null){pe=1;break e}if(function(De,Re){var He=[0],Be=[0],Ce=[0];t:for(;;){if(De==null)return 0;if(Re==null)return De.a=2,0;if(De.l=Re,De.a=0,se(De.m,Re.data,Re.w,Re.ha),!dt(De.m,He,Be,Ce)){De.a=3;break t}if(De.xb=K6,Re.width=He[0],Re.height=Be[0],!Ia(He[0],Be[0],1,De,null))break t;return 1}return e(De.a!=0),0}(x,Y)){if(Y=(T=Sh(Y.width,Y.height,pe.Oa,pe.ba))==0){t:{Y=x;r:for(;;){if(Y==null){Y=0;break t}if(e(Y.s.yc!=null),e(Y.s.Ya!=null),e(0<Y.s.Wb),e((U=Y.l)!=null),e((le=U.ma)!=null),Y.xb!=0){if(Y.ca=le.ba,Y.tb=le.tb,e(Y.ca!=null),!Km(le.Oa,U,tv)){Y.a=2;break r}if(!Co(Y,U.width)||U.da)break r;if((U.da||Ft(Y.ca.S))&&Oe(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&Oe()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!H(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break r}Y.xb=0}if(!zi(Y,Y.V,Y.Ba,Y.c,Y.i,U.o,Bc))break r;le.Dc=Y.Ma,Y=1;break t}e(Y.a!=0),Y=0}Y=!Y}Y&&(T=x.a)}else T=x.a}else{if((x=new Cd)==null){pe=1;break e}if(x.Fa=le.na,x.P=le.P,x.qc=le.Sa,Id(x,Y)){if((T=Sh(Y.width,Y.height,pe.Oa,pe.ba))==0){if(x.Aa=0,U=pe.Oa,e((le=x)!=null),U!=null){if(0<(ye=0>(ye=U.Md)?0:100<ye?255:255*ye/100)){for(xe=Pe=0;4>xe;++xe)12>(Le=le.pb[xe]).lc&&(Le.ia=ye*KG[0>Le.lc?0:Le.lc]>>3),Pe|=Le.ia;Pe&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=U.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}yh(x,Y)||(T=x.a)}}else T=x.a}T==0&&pe.Oa!=null&&pe.Oa.fd&&(T=Ym(pe.ba))}pe=T}he=pe!=0?null:11>he?ge.f.RGBA.eb:ge.f.kb.y}else he=null;return he};var rC=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(N,A){for(var D="",F=0;F<4;F++)D+=String.fromCharCode(N[A++]);return D}function u(N,A){return(N[A+0]<<0|N[A+1]<<8|N[A+2]<<16)>>>0}function f(N,A){return(N[A+0]<<0|N[A+1]<<8|N[A+2]<<16|N[A+3]<<24)>>>0}new l;var p=[0],h=[0],y=[],g=new l,b=t,m=function(N,A){var D={},F=0,S=!1,O=0,k=0;if(D.frames=[],!function(K,ee,de,ue){for(var z=0;z<ue;z++)if(K[ee+z]!=de.charCodeAt(z))return!0;return!1}(N,A,"RIFF",4)){for(f(N,A+=4),A+=8;A<N.length;){var ie=c(N,A),ae=f(N,A+=4);A+=4;var Q=ae+(1&ae);switch(ie){case"VP8 ":case"VP8L":D.frames[F]===void 0&&(D.frames[F]={}),(we=D.frames[F]).src_off=S?k:A-8,we.src_size=O+ae+8,F++,S&&(S=!1,O=0,k=0);break;case"VP8X":(we=D.header={}).feature_flags=N[A];var se=A+4;we.canvas_width=1+u(N,se),se+=3,we.canvas_height=1+u(N,se),se+=3;break;case"ALPH":S=!0,O=Q+8,k=A-8;break;case"ANIM":(we=D.header).bgcolor=f(N,A),se=A+4,we.loop_count=(ve=N)[(M=se)+0]<<0|ve[M+1]<<8,se+=2;break;case"ANMF":var fe,we;(we=D.frames[F]={}).offset_x=2*u(N,A),A+=3,we.offset_y=2*u(N,A),A+=3,we.width=1+u(N,A),A+=3,we.height=1+u(N,A),A+=3,we.duration=u(N,A),A+=3,fe=N[A++],we.dispose=1&fe,we.blend=fe>>1&1}ie!="ANMF"&&(A+=Q)}var ve,M;return D}}(b,0);m.response=b,m.rgbaoutput=!0,m.dataurl=!1;var v=m.header?m.header:null,w=m.frames?m.frames:null;if(v){v.loop_counter=v.loop_count,p=[v.canvas_height],h=[v.canvas_width];for(var E=0;E<w.length&&w[E].blend!=0;E++);}var P=w[0],$=g.WebPDecodeRGBA(b,P.src_off,P.src_size,h,p);P.rgba=$,P.imgwidth=h[0],P.imgheight=p[0];for(var C=0;C<h[0]*p[0]*4;C++)y[C]=$[C];return this.width=h,this.height=p,this.data=y,this}(function(t){var e=function(){return typeof e4=="function"},r=function(p,h,y,g){var b=4,m=s;switch(g){case t.image_compression.FAST:b=1,m=a;break;case t.image_compression.MEDIUM:b=6,m=o;break;case t.image_compression.SLOW:b=9,m=l}p=n(p,h,y,m);var v=e4(p,{level:b});return t.__addimage__.arrayBufferToBinaryString(v)},n=function(p,h,y,g){for(var b,m,v,w=p.length/h,E=new Uint8Array(p.length+w),P=u(),$=0;$<w;$+=1){if(v=$*h,b=p.subarray(v,v+h),g)E.set(g(b,y,m),v+$);else{for(var C,N=P.length,A=[];C<N;C+=1)A[C]=P[C](b,y,m);var D=f(A.concat());E.set(A[D],v+$)}m=b}return E},i=function(p){var h=Array.apply([],p);return h.unshift(0),h},a=function(p,h){var y,g=[],b=p.length;g[0]=1;for(var m=0;m<b;m+=1)y=p[m-h]||0,g[m+1]=p[m]-y+256&255;return g},s=function(p,h,y){var g,b=[],m=p.length;b[0]=2;for(var v=0;v<m;v+=1)g=y&&y[v]||0,b[v+1]=p[v]-g+256&255;return b},o=function(p,h,y){var g,b,m=[],v=p.length;m[0]=3;for(var w=0;w<v;w+=1)g=p[w-h]||0,b=y&&y[w]||0,m[w+1]=p[w]+256-(g+b>>>1)&255;return m},l=function(p,h,y){var g,b,m,v,w=[],E=p.length;w[0]=4;for(var P=0;P<E;P+=1)g=p[P-h]||0,b=y&&y[P]||0,m=y&&y[P-h]||0,v=c(g,b,m),w[P+1]=p[P]-v+256&255;return w},c=function(p,h,y){if(p===h&&h===y)return p;var g=Math.abs(h-y),b=Math.abs(p-y),m=Math.abs(p+h-y-y);return g<=b&&g<=m?p:b<=m?h:y},u=function(){return[i,a,s,o,l]},f=function(p){var h=p.map(function(y){return y.reduce(function(g,b){return g+Math.abs(b)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(p,h,y,g){var b,m,v,w,E,P,$,C,N,A,D,F,S,O,k,ie=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(v=new zEe(p)).imgData,m=v.bits,b=v.colorSpace,E=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){N=(C=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,D=new Uint8Array(N*v.colors),A=new Uint8Array(N);var Q,se=v.pixelBitlength-v.bits;for(O=0,k=0;O<N;O++){for(S=C[O],Q=0;Q<se;)D[k++]=S>>>Q&255,Q+=v.bits;A[O]=S>>>Q&255}}if(v.bits===16){N=(C=new Uint32Array(v.decodePixels().buffer)).length,D=new Uint8Array(N*(32/v.pixelBitlength)*v.colors),A=new Uint8Array(N*(32/v.pixelBitlength)),F=v.colors>1,O=0,k=0;for(var fe=0;O<N;)S=C[O++],D[k++]=S>>>0&255,F&&(D[k++]=S>>>16&255,S=C[O++],D[k++]=S>>>0&255),A[fe++]=S>>>16&255;m=8}g!==t.image_compression.NONE&&e()?(p=r(D,v.width*v.colors,v.colors,g),$=r(A,v.width,1,g)):(p=D,$=A,ie=void 0)}if(v.colorType===3&&(b=this.color_spaces.INDEXED,P=v.palette,v.transparency.indexed)){var we=v.transparency.indexed,ve=0;for(O=0,N=we.length;O<N;++O)ve+=we[O];if((ve/=255)===N-1&&we.indexOf(0)!==-1)w=[we.indexOf(0)];else if(ve!==N){for(C=v.decodePixels(),A=new Uint8Array(C.length),O=0,N=C.length;O<N;O++)A[O]=we[C[O]];$=r(A,v.width,1)}}var M=function(K){var ee;switch(K){case t.image_compression.FAST:ee=11;break;case t.image_compression.MEDIUM:ee=13;break;case t.image_compression.SLOW:ee=14;break;default:ee=12}return ee}(g);return ie===this.decode.FLATE_DECODE&&(ae="/Predictor "+M+" "),ae+="/Colors "+E+" /BitsPerComponent "+m+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:y,data:p,index:h,filter:ie,decodeParameters:ae,transparency:w,palette:P,sMask:$,predictor:M,width:v.width,height:v.height,bitsPerComponent:m,colorSpace:b}}}})(xt.API),function(t){t.processGIF89A=function(e,r,n,i){var a=new qEe(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new R_(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(xt.API),Zs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ar.log("bit decode error:"+r)}},Zs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Zs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Zs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Zs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Zs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Zs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Zs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Zs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new Zs(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new R_(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(xt.API),r8.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new r8(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new R_(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(xt.API),xt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],p=n[c+2],h=n[c+3];a[o++]=u,a[o++]=f,a[o++]=p,s[l++]=h}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},xt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qh=xt.API,a1=qh.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,h=t.length,y=0,g=o[0]||l,b=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&mr(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/u:0,b.push((o[n]||g)/l+p)),y=n;return b},QL=qh.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return qh.processArabic&&(t=qh.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:a1.apply(this,arguments).reduce(function(a,s){return a+s},0)},ZL=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},e8=function(t,e,r){r||(r={});var n,i,a,s,o,l,c,u=[],f=[u],p=r.textIndent||0,h=0,y=0,g=t.split(" "),b=a1.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var m=Array(l).join(" "),v=[];g.map(function(E){(E=E.split(/\s*\n/)).length>1?v=v.concat(E.map(function(P,$){return($&&P.length?`
`:"")+P})):v.push(E[0])}),g=v,l=QL.apply(this,[m,r])}for(a=0,s=g.length;a<s;a++){var w=0;if(n=g[a],l&&n[0]==`
`&&(n=n.substr(1),w=1),p+h+(y=(i=a1.apply(this,[n,r])).reduce(function(E,P){return E+P},0))>e||w){if(y>e){for(o=ZL.apply(this,[n,i,e-(p+h),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);y=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(E,P){return E+P},0)}else u=[n];f.push(u),p=y+l,h=b}else u.push(n),p+=h+y,h=b}return c=l?function(E,P){return(P?m:"")+E.join(" ")}:function(E){return E.join(" ")},f.map(c)},qh.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(e8.apply(this,[n[o],s,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},s=t.__fontmetrics__.compress=function(f){var p,h,y,g,b=["{"];for(var m in f){if(p=f[m],isNaN(parseInt(m,10))?h="'"+m+"'":(m=parseInt(m,10),h=(h=a(m).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof p=="number")p<0?(y=a(p).slice(3),g="-"):(y=a(p).slice(2),g=""),y=g+y.slice(0,-1)+n[y.slice(-1)];else{if(mr(p)!=="object")throw new Error("Don't know what to do with value type "+mr(p)+".");y=s(p)}b.push(h+y)}return b.push("}"),b.join("")},o=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,y,g,b={},m=1,v=b,w=[],E="",P="",$=f.length-1,C=1;C<$;C+=1)(g=f[C])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(w.push([v,y]),v={},y=void 0):g=="}"?((h=w.pop())[0][h[1]]=v,y=void 0,v=h[0]):g=="-"?m=-1:y===void 0?r.hasOwnProperty(g)?(E+=r[g],y=parseInt(E,16)*m,m=1,E=""):E+=g:r.hasOwnProperty(g)?(P+=r[g],v[y]=parseInt(P,16)*m,m=1,y=void 0,P=""):P+=g;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var p=f.font,h=u.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var y=c.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])}(xt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(g0(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(xt),function(t){function e(){return(St.canvg?Promise.resolve(St.canvg):YN(()=>import("./index.es-B_nxEqhw.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}xt.API.addSvgAsImage=function(r,n,i,a,s,o,l,c){if(isNaN(n)||isNaN(i))throw Ar.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Ar.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(y){return y.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),n,i,a,s,l,c)})}}(),xt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},xt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function p(y,g){var b,m=!1;for(b=0;b<y.length;b+=1)y[b]===g&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(mr(t)==="object"){for(i in t)if(a=t[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?g.push("/"+y+" /"+r[y].value):g.push("/"+y+" "+r[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(xt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,y){return h-y})).length;f<p;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",y=0;y<p.length;y++)h+=String.fromCharCode(p[y]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var b=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var m=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Qh(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var v=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Qh(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Qh(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var g=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var b=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Qh(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Qh(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,y=f.fonts,g=h,b="",m=0,v="",w=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(v=o,g=h,Array.isArray(o)&&(v=o[0]),m=0;m<v.length;m+=1)y[g].metadata.hasOwnProperty("cmap")&&(s=y[g].metadata.cmap.unicode.codeMap[v[m].charCodeAt(0)]),s||v[m].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?b+=v[m]:b+="";var E="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?E=p(b,g).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(E=r(b,y[g])),f.isHex=!0,{text:E,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(xt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(xt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,w=0;this.__bidiEngine__={};var E=function(F){var S=F.charCodeAt(),O=S>>8,k=g[O];return k!==void 0?f[256*k+(255&S)]:O===252||O===253?"AL":m.test(O)?"L":O===8?"R":"N"},P=function(F){for(var S,O=0;O<F.length;O++){if((S=E(F.charAt(O)))==="L")return!1;if(S==="R")return!0}return!1},$=function(F,S,O,k){var ie,ae,Q,se,fe=S[k];switch(fe){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(fe="AN");break;case"AL":v=!0,fe="R";break;case"WS":fe="N";break;case"CS":k<1||k+1>=S.length||(ie=O[k-1])!=="EN"&&ie!=="AN"||(ae=S[k+1])!=="EN"&&ae!=="AN"?fe="N":v&&(ae="AN"),fe=ae===ie?ae:"N";break;case"ES":fe=(ie=k>0?O[k-1]:"B")==="EN"&&k+1<S.length&&S[k+1]==="EN"?"EN":"N";break;case"ET":if(k>0&&O[k-1]==="EN"){fe="EN";break}if(v){fe="N";break}for(Q=k+1,se=S.length;Q<se&&S[Q]==="ET";)Q++;fe=Q<se&&S[Q]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(se=S.length,Q=k+1;Q<se&&S[Q]==="NSM";)Q++;if(Q<se){var we=F[k],ve=we>=1425&&we<=2303||we===64286;if(ie=S[Q],ve&&(ie==="R"||ie==="AL")){fe="R";break}}}fe=k<1||(ie=S[k-1])==="B"?"N":O[k-1];break;case"B":v=!1,i=!0,fe=w;break;case"S":a=!0,fe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":fe="N"}return fe},C=function(F,S,O){var k=F.split("");return O&&N(k,O,{hiLevel:w}),k.reverse(),S&&S.reverse(),k.join("")},N=function(F,S,O){var k,ie,ae,Q,se,fe=-1,we=F.length,ve=0,M=[],K=w?h:p,ee=[];for(v=!1,i=!1,a=!1,ie=0;ie<we;ie++)ee[ie]=E(F[ie]);for(ae=0;ae<we;ae++){if(se=ve,M[ae]=$(F,ee,M,ae),k=240&(ve=K[se][y[M[ae]]]),ve&=15,S[ae]=Q=K[ve][5],k>0)if(k===16){for(ie=fe;ie<ae;ie++)S[ie]=1;fe=-1}else fe=-1;if(K[ve][6])fe===-1&&(fe=ae);else if(fe>-1){for(ie=fe;ie<ae;ie++)S[ie]=Q;fe=-1}ee[ae]==="B"&&(S[ae]=0),O.hiLevel|=Q}a&&function(de,ue,z){for(var V=0;V<z;V++)if(de[V]==="S"){ue[V]=w;for(var te=V-1;te>=0&&de[te]==="WS";te--)ue[te]=w}}(ee,S,we)},A=function(F,S,O,k,ie){if(!(ie.hiLevel<F)){if(F===1&&w===1&&!i)return S.reverse(),void(O&&O.reverse());for(var ae,Q,se,fe,we=S.length,ve=0;ve<we;){if(k[ve]>=F){for(se=ve+1;se<we&&k[se]>=F;)se++;for(fe=ve,Q=se-1;fe<Q;fe++,Q--)ae=S[fe],S[fe]=S[Q],S[Q]=ae,O&&(ae=O[fe],O[fe]=O[Q],O[Q]=ae);ve=se}ve++}}},D=function(F,S,O){var k=F.split(""),ie={hiLevel:w};return O||(O=[]),N(k,O,ie),function(ae,Q,se){if(se.hiLevel!==0&&u)for(var fe,we=0;we<ae.length;we++)Q[we]===1&&(fe=b.indexOf(ae[we]))>=0&&(ae[we]=b[fe+1])}(k,O,ie),A(2,k,S,O,ie),A(1,k,S,O,ie),k.join("")};return this.__bidiEngine__.doBidiReorder=function(F,S,O){if(function(ie,ae){if(ae)for(var Q=0;Q<ie.length;Q++)ae[Q]=Q;o===void 0&&(o=P(ie)),c===void 0&&(c=P(ie))}(F,S),s||!l||c)if(s&&l&&o^c)w=o?1:0,F=C(F,S,O);else if(!s&&l&&c)w=o?1:0,F=D(F,S,O),F=C(F,S);else if(!s||o||l||c){if(s&&!l&&o^c)F=C(F,S),o?(w=0,F=D(F,S,O)):(w=1,F=D(F,S,O),F=C(F,S));else if(s&&o&&!l&&c)w=1,F=D(F,S,O),F=C(F,S);else if(!s&&!l&&o^c){var k=u;o?(w=1,F=D(F,S,O),w=0,u=!1,F=D(F,S,O),u=k):(w=0,F=D(F,S,O),F=C(F,S),w=1,u=!1,F=D(F,S,O),u=k,F=C(F,S))}}else w=0,F=D(F,S,O);else w=o?1:0,F=D(F,S,O);return F},this.__bidiEngine__.setOptions=function(F){F&&(s=F.isInputVisual,l=F.isOutputVisual,o=F.isInputRtl,c=F.isOutputRtl,u=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(xt),xt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ud(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new aSe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new WEe(this.contents),this.head=new GEe(this),this.name=new QEe(this),this.cmap=new MH(this),this.toUnicode={},this.hhea=new KEe(this),this.maxp=new ZEe(this),this.hmtx=new eSe(this),this.post=new XEe(this),this.os2=new YEe(this),this.loca=new iSe(this),this.glyf=new tSe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Po,ud=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),WEe=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,l,c,u,f,p,h,y,g;for(g in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new ud).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,y=[],r)for(p=r[g],i.writeString(g),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),y=y.concat(p),g==="head"&&(o=c),c+=p.length;c%4;)y.push(0),c++;return i.write(y),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=FH.call(r);r.length%4;)r.push(0);for(a=new ud(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),HEe={}.hasOwnProperty,Sl=function(t,e){for(var r in e)HEe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Po=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var GEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sl(e,Po),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new ud).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),n8=function(){function t(e,r){var n,i,a,s,o,l,c,u,f,p,h,y,g,b,m,v,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,a=function(){var E,P;for(P=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)P.push(e.readUInt16());return P}(),e.pos+=2,g=function(){var E,P;for(P=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)P.push(e.readUInt16());return P}(),c=function(){var E,P;for(P=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)P.push(e.readUInt16());return P}(),u=function(){var E,P;for(P=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)P.push(e.readUInt16());return P}(),i=(this.length-e.pos+this.offset)/2,o=function(){var E,P;for(P=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)P.push(e.readUInt16());return P}(),l=m=0,w=a.length;m<w;l=++m)for(b=a[l],n=v=y=g[l];y<=b?v<=b:v>=b;n=y<=b?++v:--v)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-y)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,y,g,b,m,v,w,E,P,$,C,N,A,D,F,S,O,k,ie,ae,Q,se,fe,we,ve,M,K,ee,de,ue,z,V,te,ce,Z,J;switch(k=new ud,s=Object.keys(e).sort(function(Ee,H){return Ee-H}),r){case"macroman":for(g=0,b=function(){var Ee=[];for(y=0;y<256;++y)Ee.push(0);return Ee}(),v={0:0},a={},ie=0,fe=s.length;ie<fe;ie++)v[te=e[i=s[ie]]]==null&&(v[te]=++g),a[i]={old:e[i],new:v[e[i]]},b[i]=v[e[i]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(b),{charMap:a,subtable:k.data,maxGlyphID:g+1};case"unicode":for(S=[],f=[],w=0,v={},n={},m=c=null,ae=0,we=s.length;ae<we;ae++)v[P=e[i=s[ae]]]==null&&(v[P]=++w),n[i]={old:P,new:v[P]},o=v[P]-i,m!=null&&o===c||(m&&f.push(m),S.push(i),c=o),m=i;for(m&&f.push(m),f.push(65535),S.push(65535),D=2*(A=S.length),N=2*Math.pow(Math.log(A)/Math.LN2,2),p=Math.log(N/2)/Math.LN2,C=2*A-N,l=[],$=[],h=[],y=Q=0,ve=S.length;Q<ve;y=++Q){if(F=S[y],u=f[y],F===65535){l.push(0),$.push(0);break}if(F-(O=n[F].new)>=32768)for(l.push(0),$.push(2*(h.length+A-y)),i=se=F;F<=u?se<=u:se>=u;i=F<=u?++se:--se)h.push(n[i].new);else l.push(O-F),$.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*A+2*h.length),k.writeUInt16(0),k.writeUInt16(D),k.writeUInt16(N),k.writeUInt16(p),k.writeUInt16(C),z=0,M=f.length;z<M;z++)i=f[z],k.writeUInt16(i);for(k.writeUInt16(0),V=0,K=S.length;V<K;V++)i=S[V],k.writeUInt16(i);for(ce=0,ee=l.length;ce<ee;ce++)o=l[ce],k.writeUInt16(o);for(Z=0,de=$.length;Z<de;Z++)E=$[Z],k.writeUInt16(E);for(J=0,ue=h.length;J<ue;J++)g=h[J],k.writeUInt16(g);return{charMap:n,subtable:k.data,maxGlyphID:w+1}}},t}(),MH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sl(e,Po),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new n8(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,a;return n==null&&(n="macroman"),i=n8.encode(r,n),(a=new ud).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),KEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sl(e,Po),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),YEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sl(e,Po),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),XEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sl(e,Po),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(i=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},e}(),JEe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},QEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sl(e,Po),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,a,s,o,l,c,u,f,p,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,p=i.length;f<p;s=++f)a=i[s],r.pos=a.offset,u=r.readString(a.length),o=new JEe(u,a),c[h=a.nameID]==null&&(c[h]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),ZEe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sl(e,Po),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),eSe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sl(e,Po),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,a,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=a?u<a:u>a;n=0<=a?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,p,h;for(h=[],u=0,f=(p=this.metrics).length;u<f;u++)s=p[u],h.push(s.advance);return h}).call(this),i=this.widths[this.widths.length-1],c=[],n=o=0;0<=a?o<a:o>a;n=0<=a?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),FH=[].slice,tSe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sl(e,Po),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,a,s,o,l,c,u,f,p;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(r),(a=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new ud(n.read(a))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new nSe(l,u,p,c,f):new rSe(l,o,u,p,c,f),this.cache[r]))},e.prototype.encode=function(r,n,i){var a,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)a=r[n[l]],s.push(o.length),a&&(o=o.concat(a.encode(i)));return s.push(o.length),{table:o,offsets:s}},e}(),rSe=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),nSe=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new ud(FH.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),iSe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sl(e,Po),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(r.readUInt32());return s}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<i.length;++o)if(i[o]=a,s<n.length&&n[s]==o){++s,i[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*i.length),f=0;f<i.length;++f)u[4*f+3]=255&i[f],u[4*f+2]=(65280&i[f])>>8,u[4*f+1]=(16711680&i[f])>>16,u[4*f]=(4278190080&i[f])>>24;return u},e}(),aSe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,y,g,b,m;for(i in n=MH.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},m=n.charMap)h[(l=m[i]).old]=l.new;for(y in p=n.maxGlyphID,s)y in h||(h[y]=p++);return u=function(v){var w,E;for(w in E={},v)E[v[w]]=w;return E}(h),f=Object.keys(u).sort(function(v,w){return v-w}),g=function(){var v,w,E;for(E=[],v=0,w=f.length;v<w;v++)o=f[v],E.push(u[o]);return E}(),a=this.font.glyf.encode(s,g,h),c=this.font.loca.encode(a.offsets,g),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();xt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();const sSe=Ds({clientName:lt().required("Nome do cliente é obrigatório"),clientCpf:lt().required("CPF do cliente é obrigatório"),clientRg:lt().required("RG do cliente é obrigatório"),clientAddress:lt().required("Endereço do cliente é obrigatório"),lawyers:Om().min(1,"Pelo menos um advogado é obrigatório"),type:lt().required("Tipo de procuração é obrigatório"),object:lt().required("Objeto da procuração é obrigatório"),location:lt().required("Local é obrigatório"),date:lt().required("Data é obrigatória")});function oSe({onBack:t,onSave:e}){const[r,n]=wr.useState([]),[i,a]=wr.useState([]),[s,o]=wr.useState(!1),{register:l,handleSubmit:c,formState:{errors:u}}=_l({resolver:El(sSe),defaultValues:{type:"Ad Judicia",date:new Date().toISOString().split("T")[0]}});wr.useEffect(()=>{(async()=>{try{const b=(await rt.getLawyers()).filter(m=>m.status==="Ativo");n(b)}catch(g){console.error("Erro ao carregar advogados:",g)}})()},[]);const f=y=>{a(g=>g.includes(y)?g.filter(b=>b!==y):[...g,y])},p=y=>{const g=new xt,b=[37,99,235],m=[245,158,11],v=[55,65,81],w=[156,163,175];g.setFillColor(...b),g.rect(0,0,210,25,"F"),g.setTextColor(255,255,255),g.setFontSize(24),g.setFont(void 0,"bold"),g.text("Legal",20,17),g.setTextColor(...m),g.text("X",50,17),g.setTextColor(255,255,255),g.setFontSize(10),g.setFont(void 0,"normal"),g.text("Sistema de Gestão Jurídica",20,22),g.setTextColor(...v),g.setFontSize(20),g.setFont(void 0,"bold"),g.text("PROCURAÇÃO",105,45,{align:"center"}),g.setDrawColor(...m),g.setLineWidth(2),g.line(20,50,190,50),g.setTextColor(...v),g.setFontSize(11),g.setFont(void 0,"normal");let E=65;const P=6,$=i.length>1?`os(as) Srs(as). ${i.join(", ")}`:`o(a) Sr(a). ${i[0]}`,C=i.map(F=>{const S=r.find(O=>O.fullName===F);return S?`${F} (OAB ${S.oab})`:F}).join(", "),N=`
Pelo presente instrumento particular de procuração, eu, ${y.clientName}, 
${y.clientCpf.includes("."),"CPF"} nº ${y.clientCpf}, RG nº ${y.clientRg}, 
residente e domiciliado em ${y.clientAddress}, 

NOMEIO e CONSTITUO como ${i.length>1?"meus bastantes procuradores":"meu bastante procurador"} ${$}, 
${i.length>1?"inscritos na OAB":"inscrito(a) na OAB"} (${C}), para o fim específico de:

${y.object}

Outorgo-lhe poderes para representar-me ${y.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos"}, 
podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento 
do presente mandato.

Por ser verdade, firmo a presente.

${y.location}, ${new Date(y.date).toLocaleDateString("pt-BR")}.


_________________________________
${y.clientName}
Outorgante
    `.trim();g.splitTextToSize(N,170).forEach(F=>{E>270&&(g.addPage(),E=30),g.text(F,20,E),E+=P}),g.setDrawColor(...w),g.setLineWidth(.5),g.line(20,280,190,280),g.setTextColor(...w),g.setFontSize(8),g.setFont(void 0,"normal"),g.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),g.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290);const D=g.internal.getNumberOfPages();if(D>1)for(let F=1;F<=D;F++)g.setPage(F),g.text(`Página ${F} de ${D}`,190,290,{align:"right"});g.save(`procuracao_${y.clientName.replace(/\s+/g,"_").toLowerCase()}.pdf`)},h=async y=>{if(i.length===0){alert("Selecione pelo menos um advogado.");return}try{o(!0);const g=await rt.saveDocument({type:"Procuração",client:y.clientName,data:{type:y.type,object:y.object,location:y.location,date:y.date,lawyers:i}});console.log("Procuração salva no sistema:",g),e&&await e(),p({...y,lawyers:i})}catch(g){console.error("Erro ao salvar procuração:",g),alert("Erro ao salvar procuração no sistema. Tente novamente.")}finally{o(!1)}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:s,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nova Procuração"}),d.jsx("p",{className:"text-gray-600",children:"Preencha os dados para gerar a procuração"})]})]}),d.jsx("form",{onSubmit:c(h),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Cliente (Outorgante)"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),d.jsx("input",{...l("clientName"),type:"text",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Nome completo do cliente"}),u.clientName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...l("clientCpf"),type:"text",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"000.000.000-00"}),u.clientCpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientCpf.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RG *"}),d.jsx("input",{...l("clientRg"),type:"text",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"00.000.000-0"}),u.clientRg&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientRg.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço Completo *"}),d.jsx("input",{...l("clientAddress"),type:"text",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Rua, número, bairro, cidade, estado"}),u.clientAddress&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.clientAddress.message})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Advogado (Outorgado)"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advogados Outorgados *"}),d.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto",children:r.length>0?d.jsx("div",{className:"space-y-2",children:r.map(y=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",disabled:s,checked:i.includes(y.fullName),onChange:()=>f(y.fullName),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[y.fullName," - OAB: ",y.oab]})]},y.id))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum advogado disponível"})}),i.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Selecionados:"}),d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:i.map((y,g)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[y,d.jsx("button",{type:"button",disabled:s,onClick:()=>f(y),className:"ml-1 text-blue-600 hover:text-blue-800 disabled:opacity-50",children:d.jsx(_a,{className:"w-3 h-3"})})]},g))})]}),i.length===0&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Pelo menos um advogado é obrigatório"}),r.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:'Nenhum advogado ativo encontrado. Cadastre advogados na aba "Advogados".'})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalhes da Procuração"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo *"}),d.jsxs("select",{...l("type"),disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"Ad Judicia",children:"Ad Judicia"}),d.jsx("option",{value:"Para fins específicos",children:"Para fins específicos"})]}),u.type&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Local *"}),d.jsx("input",{...l("location"),type:"text",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"São Paulo - SP"}),u.location&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.location.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...l("date"),type:"date",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),u.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.date.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objeto da Procuração *"}),d.jsx("textarea",{...l("object"),rows:4,disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Descreva o objeto/finalidade da procuração..."}),u.object&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.object.message})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsxs("button",{type:"submit",disabled:s,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[d.jsx(ET,{className:"w-5 h-5 mr-2"}),s?"Processando...":"Gerar Procuração PDF"]})]})]})})]})}const lSe=Ds({clientName:lt().required("Nome do cliente é obrigatório"),amount:jm().positive("Valor deve ser positivo").required("Valor é obrigatório"),description:lt().required("Descrição é obrigatória"),paymentMethod:lt().required("Forma de pagamento é obrigatória"),lawyerName:lt().required("Nome do advogado é obrigatório"),lawyerOab:lt().required("OAB do advogado é obrigatória"),lawyerCpf:lt().required("CPF do advogado é obrigatório"),date:lt().required("Data é obrigatória")});function cSe({onBack:t,onSave:e}){const[r,n]=wr.useState([]),[i,a]=wr.useState(!1),{register:s,handleSubmit:o,setValue:l,formState:{errors:c}}=_l({resolver:El(lSe),defaultValues:{paymentMethod:"PIX",date:new Date().toISOString().split("T")[0]}});wr.useEffect(()=>{(async()=>{try{const b=(await rt.getLawyers()).filter(m=>m.status==="Ativo");n(b)}catch(g){console.error("Erro ao carregar advogados:",g)}})()},[]);const u=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),f=y=>{const g=["","um","dois","três","quatro","cinco","seis","sete","oito","nove"],b=["dez","onze","doze","treze","quatorze","quinze","dezesseis","dezessete","dezoito","dezenove"],m=["","","vinte","trinta","quarenta","cinquenta","sessenta","setenta","oitenta","noventa"],v=["","cento","duzentos","trezentos","quatrocentos","quinhentos","seiscentos","setecentos","oitocentos","novecentos"];if(y===0)return"zero";if(y===100)return"cem";let w="";if(y>=1e3){const E=Math.floor(y/1e3);w+=f(E)+" mil",y%=1e3,y>0&&(w+=" e ")}if(y>=100&&(w+=v[Math.floor(y/100)],y%=100,y>0&&(w+=" e ")),y>=20)w+=m[Math.floor(y/10)],y%=10,y>0&&(w+=" e ");else if(y>=10)return w+=b[y-10],w;return y>0&&(w+=g[y]),w.trim()},p=y=>{const g=new xt,b=[37,99,235],m=[245,158,11],v=[55,65,81],w=[156,163,175],E=[34,197,94];g.setFillColor(...b),g.rect(0,0,210,25,"F"),g.setTextColor(255,255,255),g.setFontSize(24),g.setFont(void 0,"bold"),g.text("Legal",20,17),g.setTextColor(...m),g.text("X",50,17),g.setTextColor(255,255,255),g.setFontSize(10),g.setFont(void 0,"normal"),g.text("Sistema de Gestão Jurídica",20,22),g.setTextColor(...v),g.setFontSize(20),g.setFont(void 0,"bold"),g.text("RECIBO",105,45,{align:"center"}),g.setDrawColor(...m),g.setLineWidth(2),g.line(20,50,190,50),g.setFillColor(248,250,252),g.setDrawColor(...E),g.setLineWidth(1),g.roundedRect(20,55,170,20,3,3,"FD"),g.setTextColor(...E),g.setFontSize(16),g.setFont(void 0,"bold"),g.text(`Valor: ${u(y.amount)}`,105,67,{align:"center"}),g.setTextColor(...v),g.setFontSize(11),g.setFont(void 0,"normal");let P=85;const $=6,C=f(Math.floor(y.amount)),N=Math.round(y.amount%1*100),A=N>0?` e ${f(N)} centavos`:"",D=`
Recebi de ${y.clientName} a importância de ${u(y.amount)} 
(${C} reais${A}), referente a ${y.description}.

Forma de pagamento: ${y.paymentMethod}

Para clareza firmo o presente recibo.

${new Date(y.date).toLocaleDateString("pt-BR")}


_________________________________
${y.lawyerName}
OAB/SP nº ${y.lawyerOab}
CPF: ${y.lawyerCpf}
    `.trim();g.splitTextToSize(D,170).forEach(O=>{P>270&&(g.addPage(),P=30),g.text(O,20,P),P+=$}),g.setDrawColor(...w),g.setLineWidth(.5),g.line(20,280,190,280),g.setTextColor(...w),g.setFontSize(8),g.setFont(void 0,"normal"),g.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),g.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290);const S=g.internal.getNumberOfPages();if(S>1)for(let O=1;O<=S;O++)g.setPage(O),g.text(`Página ${O} de ${S}`,190,290,{align:"right"});g.save(`recibo_${y.clientName.replace(/\s+/g,"_").toLowerCase()}.pdf`)},h=async y=>{try{a(!0);const g=await rt.saveDocument({type:"Recibo",client:y.clientName,data:{amount:y.amount,description:y.description,paymentMethod:y.paymentMethod,date:y.date,lawyerName:y.lawyerName,lawyerOab:y.lawyerOab}});console.log("Recibo salvo no sistema:",g),e&&await e(),p(y)}catch(g){console.error("Erro ao salvar recibo:",g),alert("Erro ao salvar recibo no sistema. Tente novamente.")}finally{a(!1)}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:i,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Recibo"}),d.jsx("p",{className:"text-gray-600",children:"Preencha os dados para gerar o recibo"})]})]}),d.jsx("form",{onSubmit:o(h),className:"max-w-2xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Cliente"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Cliente *"}),d.jsx("input",{...s("clientName"),type:"text",disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Nome completo do cliente"}),c.clientName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.clientName.message})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Serviço"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor *"}),d.jsx("input",{...s("amount",{valueAsNumber:!0}),type:"number",step:"0.01",min:"0",disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"0.00"}),c.amount&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.amount.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Forma de Pagamento *"}),d.jsxs("select",{...s("paymentMethod"),disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"PIX",children:"PIX"}),d.jsx("option",{value:"Dinheiro",children:"Dinheiro"}),d.jsx("option",{value:"Cartão de Crédito",children:"Cartão de Crédito"}),d.jsx("option",{value:"Cartão de Débito",children:"Cartão de Débito"}),d.jsx("option",{value:"Transferência Bancária",children:"Transferência Bancária"}),d.jsx("option",{value:"Cheque",children:"Cheque"})]}),c.paymentMethod&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.paymentMethod.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição do Serviço *"}),d.jsx("textarea",{...s("description"),rows:3,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"Ex: Honorários advocatícios referentes à consultoria jurídica"}),c.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.description.message})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dados do Advogado"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Advogado *"}),d.jsxs("select",{...s("lawyerName"),disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",onChange:y=>{const g=r.find(b=>b.fullName===y.target.value);g&&(l("lawyerOab",g.oab),l("lawyerCpf",g.cpf))},children:[d.jsx("option",{value:"",children:"Selecione um advogado"}),r.map(y=>d.jsxs("option",{value:y.fullName,children:[y.fullName," - OAB: ",y.oab]},y.id))]}),c.lawyerName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.lawyerName.message}),r.length===0&&d.jsx("p",{className:"text-amber-600 text-sm mt-1",children:'Nenhum advogado ativo encontrado. Cadastre advogados na aba "Advogados".'})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB *"}),d.jsx("input",{...s("lawyerOab"),type:"text",readOnly:!0,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"00000/UF"}),c.lawyerOab&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.lawyerOab.message}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preenchido automaticamente ao selecionar o advogado"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...s("lawyerCpf"),type:"text",readOnly:!0,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"000.000.000-00"}),c.lawyerCpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.lawyerCpf.message}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preenchido automaticamente ao selecionar o advogado"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),d.jsx("input",{...s("date"),type:"date",disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),c.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.date.message})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:t,disabled:i,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsxs("button",{type:"submit",disabled:i,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[d.jsx(ET,{className:"w-5 h-5 mr-2"}),i?"Processando...":"Gerar Recibo PDF"]})]})]})})]})}var uSe=Object.defineProperty,dSe=Object.defineProperties,fSe=Object.getOwnPropertyDescriptors,i8=Object.getOwnPropertySymbols,hSe=Object.prototype.hasOwnProperty,pSe=Object.prototype.propertyIsEnumerable,o4=(t,e,r)=>e in t?uSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yt=(t,e)=>{for(var r in e||(e={}))hSe.call(e,r)&&o4(t,r,e[r]);if(i8)for(var r of i8(e))pSe.call(e,r)&&o4(t,r,e[r]);return t},fm=(t,e)=>dSe(t,fSe(e)),We=(t,e,r)=>o4(t,typeof e!="symbol"?e+"":e,r),mSe=(t,e,r)=>new Promise((n,i)=>{var a=l=>{try{o(r.next(l))}catch(c){i(c)}},s=l=>{try{o(r.throw(l))}catch(c){i(c)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(a,s);o((r=r.apply(t,e)).next())});class Ow{constructor(e){We(this,"rootKey"),this.rootKey=e}}const gSe=Object.seal({});class Qe extends Ow{constructor(e){super(e),We(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(i=>i instanceof Ow?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:gSe}}addChildElement(e){return this.root.push(e),this}}class L2 extends Qe{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Pt extends Ow{constructor(e){super("_attr"),We(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const a=this.xmlKeys&&this.xmlKeys[n]||n;r[a]=i}}),{_attr:r}}}class D2 extends Ow{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:a})=>fm(Yt({},n),{[i]:a}),{})}}}class wn extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BH(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L_={},s1={exports:{}},a8;function I6(){if(a8)return s1.exports;a8=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(P,$,C){return Function.prototype.apply.call(P,$,C)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:r=function(P){return Object.getOwnPropertyNames(P)};function n(E){console&&console.warn&&console.warn(E)}var i=Number.isNaN||function(P){return P!==P};function a(){a.init.call(this)}s1.exports=a,s1.exports.once=m,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");s=E}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function l(E){return E._maxListeners===void 0?a.defaultMaxListeners:E._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(P){for(var $=[],C=1;C<arguments.length;C++)$.push(arguments[C]);var N=P==="error",A=this._events;if(A!==void 0)N=N&&A.error===void 0;else if(!N)return!1;if(N){var D;if($.length>0&&(D=$[0]),D instanceof Error)throw D;var F=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw F.context=D,F}var S=A[P];if(S===void 0)return!1;if(typeof S=="function")e(S,this,$);else for(var O=S.length,k=y(S,O),C=0;C<O;++C)e(k[C],this,$);return!0};function c(E,P,$,C){var N,A,D;if(o($),A=E._events,A===void 0?(A=E._events=Object.create(null),E._eventsCount=0):(A.newListener!==void 0&&(E.emit("newListener",P,$.listener?$.listener:$),A=E._events),D=A[P]),D===void 0)D=A[P]=$,++E._eventsCount;else if(typeof D=="function"?D=A[P]=C?[$,D]:[D,$]:C?D.unshift($):D.push($),N=l(E),N>0&&D.length>N&&!D.warned){D.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=E,F.type=P,F.count=D.length,n(F)}return E}a.prototype.addListener=function(P,$){return c(this,P,$,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(P,$){return c(this,P,$,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(E,P,$){var C={fired:!1,wrapFn:void 0,target:E,type:P,listener:$},N=u.bind(C);return N.listener=$,C.wrapFn=N,N}a.prototype.once=function(P,$){return o($),this.on(P,f(this,P,$)),this},a.prototype.prependOnceListener=function(P,$){return o($),this.prependListener(P,f(this,P,$)),this},a.prototype.removeListener=function(P,$){var C,N,A,D,F;if(o($),N=this._events,N===void 0)return this;if(C=N[P],C===void 0)return this;if(C===$||C.listener===$)--this._eventsCount===0?this._events=Object.create(null):(delete N[P],N.removeListener&&this.emit("removeListener",P,C.listener||$));else if(typeof C!="function"){for(A=-1,D=C.length-1;D>=0;D--)if(C[D]===$||C[D].listener===$){F=C[D].listener,A=D;break}if(A<0)return this;A===0?C.shift():g(C,A),C.length===1&&(N[P]=C[0]),N.removeListener!==void 0&&this.emit("removeListener",P,F||$)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(P){var $,C,N;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[P]),this;if(arguments.length===0){var A=Object.keys(C),D;for(N=0;N<A.length;++N)D=A[N],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if($=C[P],typeof $=="function")this.removeListener(P,$);else if($!==void 0)for(N=$.length-1;N>=0;N--)this.removeListener(P,$[N]);return this};function p(E,P,$){var C=E._events;if(C===void 0)return[];var N=C[P];return N===void 0?[]:typeof N=="function"?$?[N.listener||N]:[N]:$?b(N):y(N,N.length)}a.prototype.listeners=function(P){return p(this,P,!0)},a.prototype.rawListeners=function(P){return p(this,P,!1)},a.listenerCount=function(E,P){return typeof E.listenerCount=="function"?E.listenerCount(P):h.call(E,P)},a.prototype.listenerCount=h;function h(E){var P=this._events;if(P!==void 0){var $=P[E];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function y(E,P){for(var $=new Array(P),C=0;C<P;++C)$[C]=E[C];return $}function g(E,P){for(;P+1<E.length;P++)E[P]=E[P+1];E.pop()}function b(E){for(var P=new Array(E.length),$=0;$<P.length;++$)P[$]=E[$].listener||E[$];return P}function m(E,P){return new Promise(function($,C){function N(D){E.removeListener(P,A),C(D)}function A(){typeof E.removeListener=="function"&&E.removeListener("error",N),$([].slice.call(arguments))}w(E,P,A,{once:!0}),P!=="error"&&v(E,N,{once:!0})})}function v(E,P,$){typeof E.on=="function"&&w(E,"error",P,$)}function w(E,P,$,C){if(typeof E.on=="function")C.once?E.once(P,$):E.on(P,$);else if(typeof E.addEventListener=="function")E.addEventListener(P,function N(A){C.once&&E.removeEventListener(P,N),$(A)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return s1.exports}var o1={exports:{}},s8;function Nd(){return s8||(s8=1,typeof Object.create=="function"?o1.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:o1.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),o1.exports}function ySe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $H={exports:{}},xn=$H.exports={},Yo,Xo;function l4(){throw new Error("setTimeout has not been defined")}function c4(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Yo=setTimeout:Yo=l4}catch{Yo=l4}try{typeof clearTimeout=="function"?Xo=clearTimeout:Xo=c4}catch{Xo=c4}})();function UH(t){if(Yo===setTimeout)return setTimeout(t,0);if((Yo===l4||!Yo)&&setTimeout)return Yo=setTimeout,setTimeout(t,0);try{return Yo(t,0)}catch{try{return Yo.call(null,t,0)}catch{return Yo.call(this,t,0)}}}function vSe(t){if(Xo===clearTimeout)return clearTimeout(t);if((Xo===c4||!Xo)&&clearTimeout)return Xo=clearTimeout,clearTimeout(t);try{return Xo(t)}catch{try{return Xo.call(null,t)}catch{return Xo.call(this,t)}}}var oc=[],Dp=!1,wf,J1=-1;function bSe(){!Dp||!wf||(Dp=!1,wf.length?oc=wf.concat(oc):J1=-1,oc.length&&VH())}function VH(){if(!Dp){var t=UH(bSe);Dp=!0;for(var e=oc.length;e;){for(wf=oc,oc=[];++J1<e;)wf&&wf[J1].run();J1=-1,e=oc.length}wf=null,Dp=!1,vSe(t)}}xn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];oc.push(new zH(t,e)),oc.length===1&&!Dp&&UH(VH)};function zH(t,e){this.fun=t,this.array=e}zH.prototype.run=function(){this.fun.apply(null,this.array)};xn.title="browser";xn.browser=!0;xn.env={};xn.argv=[];xn.version="";xn.versions={};function Fc(){}xn.on=Fc;xn.addListener=Fc;xn.once=Fc;xn.off=Fc;xn.removeListener=Fc;xn.removeAllListeners=Fc;xn.emit=Fc;xn.prependListener=Fc;xn.prependOnceListener=Fc;xn.listeners=function(t){return[]};xn.binding=function(t){throw new Error("process.binding is not supported")};xn.cwd=function(){return"/"};xn.chdir=function(t){throw new Error("process.chdir is not supported")};xn.umask=function(){return 0};var wSe=$H.exports;const Bt=ySe(wSe);var D_,o8;function qH(){return o8||(o8=1,D_=I6().EventEmitter),D_}var M_={},Ig={},l8;function xSe(){if(l8)return Ig;l8=1,Ig.byteLength=o,Ig.toByteArray=c,Ig.fromByteArray=p;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=n.length;i<a;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(h){var y=h.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=h.indexOf("=");g===-1&&(g=y);var b=g===y?0:4-g%4;return[g,b]}function o(h){var y=s(h),g=y[0],b=y[1];return(g+b)*3/4-b}function l(h,y,g){return(y+g)*3/4-g}function c(h){var y,g=s(h),b=g[0],m=g[1],v=new r(l(h,b,m)),w=0,E=m>0?b-4:b,P;for(P=0;P<E;P+=4)y=e[h.charCodeAt(P)]<<18|e[h.charCodeAt(P+1)]<<12|e[h.charCodeAt(P+2)]<<6|e[h.charCodeAt(P+3)],v[w++]=y>>16&255,v[w++]=y>>8&255,v[w++]=y&255;return m===2&&(y=e[h.charCodeAt(P)]<<2|e[h.charCodeAt(P+1)]>>4,v[w++]=y&255),m===1&&(y=e[h.charCodeAt(P)]<<10|e[h.charCodeAt(P+1)]<<4|e[h.charCodeAt(P+2)]>>2,v[w++]=y>>8&255,v[w++]=y&255),v}function u(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function f(h,y,g){for(var b,m=[],v=y;v<g;v+=3)b=(h[v]<<16&16711680)+(h[v+1]<<8&65280)+(h[v+2]&255),m.push(u(b));return m.join("")}function p(h){for(var y,g=h.length,b=g%3,m=[],v=16383,w=0,E=g-b;w<E;w+=v)m.push(f(h,w,w+v>E?E:w+v));return b===1?(y=h[g-1],m.push(t[y>>2]+t[y<<4&63]+"==")):b===2&&(y=(h[g-2]<<8)+h[g-1],m.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),m.join("")}return Ig}var l1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var c8;function _Se(){return c8||(c8=1,l1.read=function(t,e,r,n,i){var a,s,o=i*8-n-1,l=(1<<o)-1,c=l>>1,u=-7,f=r?i-1:0,p=r?-1:1,h=t[e+f];for(f+=p,a=h&(1<<-u)-1,h>>=-u,u+=o;u>0;a=a*256+t[e+f],f+=p,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=s*256+t[e+f],f+=p,u-=8);if(a===0)a=1-c;else{if(a===l)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-c}return(h?-1:1)*s*Math.pow(2,a-n)},l1.write=function(t,e,r,n,i,a){var s,o,l,c=a*8-i-1,u=(1<<c)-1,f=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,y=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+f>=1?e+=p/l:e+=p*Math.pow(2,1-f),e*l>=2&&(s++,l/=2),s+f>=u?(o=0,s=u):s+f>=1?(o=(e*l-1)*Math.pow(2,i),s=s+f):(o=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[r+h]=o&255,h+=y,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;t[r+h]=s&255,h+=y,s/=256,c-=8);t[r+h-y]|=g*128}),l1}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var u8;function M2(){return u8||(u8=1,function(t){var e=xSe(),r=_Se(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var B=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(B,j),B.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(B){if(B>i)throw new RangeError('The value "'+B+'" is invalid for option "size"');var j=new Uint8Array(B);return Object.setPrototypeOf(j,o.prototype),j}function o(B,j,R){if(typeof B=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(B)}return l(B,j,R)}o.poolSize=8192;function l(B,j,R){if(typeof B=="string")return p(B,j);if(ArrayBuffer.isView(B))return y(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Ee(B,ArrayBuffer)||B&&Ee(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ee(B,SharedArrayBuffer)||B&&Ee(B.buffer,SharedArrayBuffer)))return g(B,j,R);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var W=B.valueOf&&B.valueOf();if(W!=null&&W!==B)return o.from(W,j,R);var G=b(B);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return o.from(B[Symbol.toPrimitive]("string"),j,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}o.from=function(B,j,R){return l(B,j,R)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function u(B,j,R){return c(B),B<=0?s(B):j!==void 0?typeof R=="string"?s(B).fill(j,R):s(B).fill(j):s(B)}o.alloc=function(B,j,R){return u(B,j,R)};function f(B){return c(B),s(B<0?0:m(B)|0)}o.allocUnsafe=function(B){return f(B)},o.allocUnsafeSlow=function(B){return f(B)};function p(B,j){if((typeof j!="string"||j==="")&&(j="utf8"),!o.isEncoding(j))throw new TypeError("Unknown encoding: "+j);var R=w(B,j)|0,W=s(R),G=W.write(B,j);return G!==R&&(W=W.slice(0,G)),W}function h(B){for(var j=B.length<0?0:m(B.length)|0,R=s(j),W=0;W<j;W+=1)R[W]=B[W]&255;return R}function y(B){if(Ee(B,Uint8Array)){var j=new Uint8Array(B);return g(j.buffer,j.byteOffset,j.byteLength)}return h(B)}function g(B,j,R){if(j<0||B.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<j+(R||0))throw new RangeError('"length" is outside of buffer bounds');var W;return j===void 0&&R===void 0?W=new Uint8Array(B):R===void 0?W=new Uint8Array(B,j):W=new Uint8Array(B,j,R),Object.setPrototypeOf(W,o.prototype),W}function b(B){if(o.isBuffer(B)){var j=m(B.length)|0,R=s(j);return R.length===0||B.copy(R,0,0,j),R}if(B.length!==void 0)return typeof B.length!="number"||H(B.length)?s(0):h(B);if(B.type==="Buffer"&&Array.isArray(B.data))return h(B.data)}function m(B){if(B>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return B|0}function v(B){return+B!=B&&(B=0),o.alloc(+B)}o.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==o.prototype},o.compare=function(j,R){if(Ee(j,Uint8Array)&&(j=o.from(j,j.offset,j.byteLength)),Ee(R,Uint8Array)&&(R=o.from(R,R.offset,R.byteLength)),!o.isBuffer(j)||!o.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===R)return 0;for(var W=j.length,G=R.length,ne=0,re=Math.min(W,G);ne<re;++ne)if(j[ne]!==R[ne]){W=j[ne],G=R[ne];break}return W<G?-1:G<W?1:0},o.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(j,R){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return o.alloc(0);var W;if(R===void 0)for(R=0,W=0;W<j.length;++W)R+=j[W].length;var G=o.allocUnsafe(R),ne=0;for(W=0;W<j.length;++W){var re=j[W];if(Ee(re,Uint8Array))ne+re.length>G.length?o.from(re).copy(G,ne):Uint8Array.prototype.set.call(G,re,ne);else if(o.isBuffer(re))re.copy(G,ne);else throw new TypeError('"list" argument must be an Array of Buffers');ne+=re.length}return G};function w(B,j){if(o.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Ee(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);var R=B.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&R===0)return 0;for(var G=!1;;)switch(j){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return V(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return Z(B).length;default:if(G)return W?-1:V(B).length;j=(""+j).toLowerCase(),G=!0}}o.byteLength=w;function E(B,j,R){var W=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,j>>>=0,R<=j))return"";for(B||(B="utf8");;)switch(B){case"hex":return fe(this,j,R);case"utf8":case"utf-8":return k(this,j,R);case"ascii":return Q(this,j,R);case"latin1":case"binary":return se(this,j,R);case"base64":return O(this,j,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,j,R);default:if(W)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),W=!0}}o.prototype._isBuffer=!0;function P(B,j,R){var W=B[j];B[j]=B[R],B[R]=W}o.prototype.swap16=function(){var j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<j;R+=2)P(this,R,R+1);return this},o.prototype.swap32=function(){var j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<j;R+=4)P(this,R,R+3),P(this,R+1,R+2);return this},o.prototype.swap64=function(){var j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<j;R+=8)P(this,R,R+7),P(this,R+1,R+6),P(this,R+2,R+5),P(this,R+3,R+4);return this},o.prototype.toString=function(){var j=this.length;return j===0?"":arguments.length===0?k(this,0,j):E.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(j){if(!o.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:o.compare(this,j)===0},o.prototype.inspect=function(){var j="",R=t.INSPECT_MAX_BYTES;return j=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(j+=" ... "),"<Buffer "+j+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(j,R,W,G,ne){if(Ee(j,Uint8Array)&&(j=o.from(j,j.offset,j.byteLength)),!o.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(R===void 0&&(R=0),W===void 0&&(W=j?j.length:0),G===void 0&&(G=0),ne===void 0&&(ne=this.length),R<0||W>j.length||G<0||ne>this.length)throw new RangeError("out of range index");if(G>=ne&&R>=W)return 0;if(G>=ne)return-1;if(R>=W)return 1;if(R>>>=0,W>>>=0,G>>>=0,ne>>>=0,this===j)return 0;for(var re=ne-G,Se=W-R,Ne=Math.min(re,Se),Ae=this.slice(G,ne),Ie=j.slice(R,W),Fe=0;Fe<Ne;++Fe)if(Ae[Fe]!==Ie[Fe]){re=Ae[Fe],Se=Ie[Fe];break}return re<Se?-1:Se<re?1:0};function $(B,j,R,W,G){if(B.length===0)return-1;if(typeof R=="string"?(W=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,H(R)&&(R=G?0:B.length-1),R<0&&(R=B.length+R),R>=B.length){if(G)return-1;R=B.length-1}else if(R<0)if(G)R=0;else return-1;if(typeof j=="string"&&(j=o.from(j,W)),o.isBuffer(j))return j.length===0?-1:C(B,j,R,W,G);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(B,j,R):Uint8Array.prototype.lastIndexOf.call(B,j,R):C(B,[j],R,W,G);throw new TypeError("val must be string, number or Buffer")}function C(B,j,R,W,G){var ne=1,re=B.length,Se=j.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(B.length<2||j.length<2)return-1;ne=2,re/=2,Se/=2,R/=2}function Ne(nt,wt){return ne===1?nt[wt]:nt.readUInt16BE(wt*ne)}var Ae;if(G){var Ie=-1;for(Ae=R;Ae<re;Ae++)if(Ne(B,Ae)===Ne(j,Ie===-1?0:Ae-Ie)){if(Ie===-1&&(Ie=Ae),Ae-Ie+1===Se)return Ie*ne}else Ie!==-1&&(Ae-=Ae-Ie),Ie=-1}else for(R+Se>re&&(R=re-Se),Ae=R;Ae>=0;Ae--){for(var Fe=!0,Ke=0;Ke<Se;Ke++)if(Ne(B,Ae+Ke)!==Ne(j,Ke)){Fe=!1;break}if(Fe)return Ae}return-1}o.prototype.includes=function(j,R,W){return this.indexOf(j,R,W)!==-1},o.prototype.indexOf=function(j,R,W){return $(this,j,R,W,!0)},o.prototype.lastIndexOf=function(j,R,W){return $(this,j,R,W,!1)};function N(B,j,R,W){R=Number(R)||0;var G=B.length-R;W?(W=Number(W),W>G&&(W=G)):W=G;var ne=j.length;W>ne/2&&(W=ne/2);for(var re=0;re<W;++re){var Se=parseInt(j.substr(re*2,2),16);if(H(Se))return re;B[R+re]=Se}return re}function A(B,j,R,W){return J(V(j,B.length-R),B,R,W)}function D(B,j,R,W){return J(te(j),B,R,W)}function F(B,j,R,W){return J(Z(j),B,R,W)}function S(B,j,R,W){return J(ce(j,B.length-R),B,R,W)}o.prototype.write=function(j,R,W,G){if(R===void 0)G="utf8",W=this.length,R=0;else if(W===void 0&&typeof R=="string")G=R,W=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(W)?(W=W>>>0,G===void 0&&(G="utf8")):(G=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ne=this.length-R;if((W===void 0||W>ne)&&(W=ne),j.length>0&&(W<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");for(var re=!1;;)switch(G){case"hex":return N(this,j,R,W);case"utf8":case"utf-8":return A(this,j,R,W);case"ascii":case"latin1":case"binary":return D(this,j,R,W);case"base64":return F(this,j,R,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,j,R,W);default:if(re)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),re=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(B,j,R){return j===0&&R===B.length?e.fromByteArray(B):e.fromByteArray(B.slice(j,R))}function k(B,j,R){R=Math.min(B.length,R);for(var W=[],G=j;G<R;){var ne=B[G],re=null,Se=ne>239?4:ne>223?3:ne>191?2:1;if(G+Se<=R){var Ne,Ae,Ie,Fe;switch(Se){case 1:ne<128&&(re=ne);break;case 2:Ne=B[G+1],(Ne&192)===128&&(Fe=(ne&31)<<6|Ne&63,Fe>127&&(re=Fe));break;case 3:Ne=B[G+1],Ae=B[G+2],(Ne&192)===128&&(Ae&192)===128&&(Fe=(ne&15)<<12|(Ne&63)<<6|Ae&63,Fe>2047&&(Fe<55296||Fe>57343)&&(re=Fe));break;case 4:Ne=B[G+1],Ae=B[G+2],Ie=B[G+3],(Ne&192)===128&&(Ae&192)===128&&(Ie&192)===128&&(Fe=(ne&15)<<18|(Ne&63)<<12|(Ae&63)<<6|Ie&63,Fe>65535&&Fe<1114112&&(re=Fe))}}re===null?(re=65533,Se=1):re>65535&&(re-=65536,W.push(re>>>10&1023|55296),re=56320|re&1023),W.push(re),G+=Se}return ae(W)}var ie=4096;function ae(B){var j=B.length;if(j<=ie)return String.fromCharCode.apply(String,B);for(var R="",W=0;W<j;)R+=String.fromCharCode.apply(String,B.slice(W,W+=ie));return R}function Q(B,j,R){var W="";R=Math.min(B.length,R);for(var G=j;G<R;++G)W+=String.fromCharCode(B[G]&127);return W}function se(B,j,R){var W="";R=Math.min(B.length,R);for(var G=j;G<R;++G)W+=String.fromCharCode(B[G]);return W}function fe(B,j,R){var W=B.length;(!j||j<0)&&(j=0),(!R||R<0||R>W)&&(R=W);for(var G="",ne=j;ne<R;++ne)G+=be[B[ne]];return G}function we(B,j,R){for(var W=B.slice(j,R),G="",ne=0;ne<W.length-1;ne+=2)G+=String.fromCharCode(W[ne]+W[ne+1]*256);return G}o.prototype.slice=function(j,R){var W=this.length;j=~~j,R=R===void 0?W:~~R,j<0?(j+=W,j<0&&(j=0)):j>W&&(j=W),R<0?(R+=W,R<0&&(R=0)):R>W&&(R=W),R<j&&(R=j);var G=this.subarray(j,R);return Object.setPrototypeOf(G,o.prototype),G};function ve(B,j,R){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+j>R)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(j,R,W){j=j>>>0,R=R>>>0,W||ve(j,R,this.length);for(var G=this[j],ne=1,re=0;++re<R&&(ne*=256);)G+=this[j+re]*ne;return G},o.prototype.readUintBE=o.prototype.readUIntBE=function(j,R,W){j=j>>>0,R=R>>>0,W||ve(j,R,this.length);for(var G=this[j+--R],ne=1;R>0&&(ne*=256);)G+=this[j+--R]*ne;return G},o.prototype.readUint8=o.prototype.readUInt8=function(j,R){return j=j>>>0,R||ve(j,1,this.length),this[j]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(j,R){return j=j>>>0,R||ve(j,2,this.length),this[j]|this[j+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(j,R){return j=j>>>0,R||ve(j,2,this.length),this[j]<<8|this[j+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(j,R){return j=j>>>0,R||ve(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(j,R){return j=j>>>0,R||ve(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},o.prototype.readIntLE=function(j,R,W){j=j>>>0,R=R>>>0,W||ve(j,R,this.length);for(var G=this[j],ne=1,re=0;++re<R&&(ne*=256);)G+=this[j+re]*ne;return ne*=128,G>=ne&&(G-=Math.pow(2,8*R)),G},o.prototype.readIntBE=function(j,R,W){j=j>>>0,R=R>>>0,W||ve(j,R,this.length);for(var G=R,ne=1,re=this[j+--G];G>0&&(ne*=256);)re+=this[j+--G]*ne;return ne*=128,re>=ne&&(re-=Math.pow(2,8*R)),re},o.prototype.readInt8=function(j,R){return j=j>>>0,R||ve(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},o.prototype.readInt16LE=function(j,R){j=j>>>0,R||ve(j,2,this.length);var W=this[j]|this[j+1]<<8;return W&32768?W|4294901760:W},o.prototype.readInt16BE=function(j,R){j=j>>>0,R||ve(j,2,this.length);var W=this[j+1]|this[j]<<8;return W&32768?W|4294901760:W},o.prototype.readInt32LE=function(j,R){return j=j>>>0,R||ve(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},o.prototype.readInt32BE=function(j,R){return j=j>>>0,R||ve(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},o.prototype.readFloatLE=function(j,R){return j=j>>>0,R||ve(j,4,this.length),r.read(this,j,!0,23,4)},o.prototype.readFloatBE=function(j,R){return j=j>>>0,R||ve(j,4,this.length),r.read(this,j,!1,23,4)},o.prototype.readDoubleLE=function(j,R){return j=j>>>0,R||ve(j,8,this.length),r.read(this,j,!0,52,8)},o.prototype.readDoubleBE=function(j,R){return j=j>>>0,R||ve(j,8,this.length),r.read(this,j,!1,52,8)};function M(B,j,R,W,G,ne){if(!o.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>G||j<ne)throw new RangeError('"value" argument is out of bounds');if(R+W>B.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(j,R,W,G){if(j=+j,R=R>>>0,W=W>>>0,!G){var ne=Math.pow(2,8*W)-1;M(this,j,R,W,ne,0)}var re=1,Se=0;for(this[R]=j&255;++Se<W&&(re*=256);)this[R+Se]=j/re&255;return R+W},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(j,R,W,G){if(j=+j,R=R>>>0,W=W>>>0,!G){var ne=Math.pow(2,8*W)-1;M(this,j,R,W,ne,0)}var re=W-1,Se=1;for(this[R+re]=j&255;--re>=0&&(Se*=256);)this[R+re]=j/Se&255;return R+W},o.prototype.writeUint8=o.prototype.writeUInt8=function(j,R,W){return j=+j,R=R>>>0,W||M(this,j,R,1,255,0),this[R]=j&255,R+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(j,R,W){return j=+j,R=R>>>0,W||M(this,j,R,2,65535,0),this[R]=j&255,this[R+1]=j>>>8,R+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(j,R,W){return j=+j,R=R>>>0,W||M(this,j,R,2,65535,0),this[R]=j>>>8,this[R+1]=j&255,R+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(j,R,W){return j=+j,R=R>>>0,W||M(this,j,R,4,4294967295,0),this[R+3]=j>>>24,this[R+2]=j>>>16,this[R+1]=j>>>8,this[R]=j&255,R+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(j,R,W){return j=+j,R=R>>>0,W||M(this,j,R,4,4294967295,0),this[R]=j>>>24,this[R+1]=j>>>16,this[R+2]=j>>>8,this[R+3]=j&255,R+4},o.prototype.writeIntLE=function(j,R,W,G){if(j=+j,R=R>>>0,!G){var ne=Math.pow(2,8*W-1);M(this,j,R,W,ne-1,-ne)}var re=0,Se=1,Ne=0;for(this[R]=j&255;++re<W&&(Se*=256);)j<0&&Ne===0&&this[R+re-1]!==0&&(Ne=1),this[R+re]=(j/Se>>0)-Ne&255;return R+W},o.prototype.writeIntBE=function(j,R,W,G){if(j=+j,R=R>>>0,!G){var ne=Math.pow(2,8*W-1);M(this,j,R,W,ne-1,-ne)}var re=W-1,Se=1,Ne=0;for(this[R+re]=j&255;--re>=0&&(Se*=256);)j<0&&Ne===0&&this[R+re+1]!==0&&(Ne=1),this[R+re]=(j/Se>>0)-Ne&255;return R+W},o.prototype.writeInt8=function(j,R,W){return j=+j,R=R>>>0,W||M(this,j,R,1,127,-128),j<0&&(j=255+j+1),this[R]=j&255,R+1},o.prototype.writeInt16LE=function(j,R,W){return j=+j,R=R>>>0,W||M(this,j,R,2,32767,-32768),this[R]=j&255,this[R+1]=j>>>8,R+2},o.prototype.writeInt16BE=function(j,R,W){return j=+j,R=R>>>0,W||M(this,j,R,2,32767,-32768),this[R]=j>>>8,this[R+1]=j&255,R+2},o.prototype.writeInt32LE=function(j,R,W){return j=+j,R=R>>>0,W||M(this,j,R,4,2147483647,-2147483648),this[R]=j&255,this[R+1]=j>>>8,this[R+2]=j>>>16,this[R+3]=j>>>24,R+4},o.prototype.writeInt32BE=function(j,R,W){return j=+j,R=R>>>0,W||M(this,j,R,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[R]=j>>>24,this[R+1]=j>>>16,this[R+2]=j>>>8,this[R+3]=j&255,R+4};function K(B,j,R,W,G,ne){if(R+W>B.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function ee(B,j,R,W,G){return j=+j,R=R>>>0,G||K(B,j,R,4),r.write(B,j,R,W,23,4),R+4}o.prototype.writeFloatLE=function(j,R,W){return ee(this,j,R,!0,W)},o.prototype.writeFloatBE=function(j,R,W){return ee(this,j,R,!1,W)};function de(B,j,R,W,G){return j=+j,R=R>>>0,G||K(B,j,R,8),r.write(B,j,R,W,52,8),R+8}o.prototype.writeDoubleLE=function(j,R,W){return de(this,j,R,!0,W)},o.prototype.writeDoubleBE=function(j,R,W){return de(this,j,R,!1,W)},o.prototype.copy=function(j,R,W,G){if(!o.isBuffer(j))throw new TypeError("argument should be a Buffer");if(W||(W=0),!G&&G!==0&&(G=this.length),R>=j.length&&(R=j.length),R||(R=0),G>0&&G<W&&(G=W),G===W||j.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),j.length-R<G-W&&(G=j.length-R+W);var ne=G-W;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,W,G):Uint8Array.prototype.set.call(j,this.subarray(W,G),R),ne},o.prototype.fill=function(j,R,W,G){if(typeof j=="string"){if(typeof R=="string"?(G=R,R=0,W=this.length):typeof W=="string"&&(G=W,W=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!o.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(j.length===1){var ne=j.charCodeAt(0);(G==="utf8"&&ne<128||G==="latin1")&&(j=ne)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(R<0||this.length<R||this.length<W)throw new RangeError("Out of range index");if(W<=R)return this;R=R>>>0,W=W===void 0?this.length:W>>>0,j||(j=0);var re;if(typeof j=="number")for(re=R;re<W;++re)this[re]=j;else{var Se=o.isBuffer(j)?j:o.from(j,G),Ne=Se.length;if(Ne===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(re=0;re<W-R;++re)this[re+R]=Se[re%Ne]}return this};var ue=/[^+/0-9A-Za-z-_]/g;function z(B){if(B=B.split("=")[0],B=B.trim().replace(ue,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function V(B,j){j=j||1/0;for(var R,W=B.length,G=null,ne=[],re=0;re<W;++re){if(R=B.charCodeAt(re),R>55295&&R<57344){if(!G){if(R>56319){(j-=3)>-1&&ne.push(239,191,189);continue}else if(re+1===W){(j-=3)>-1&&ne.push(239,191,189);continue}G=R;continue}if(R<56320){(j-=3)>-1&&ne.push(239,191,189),G=R;continue}R=(G-55296<<10|R-56320)+65536}else G&&(j-=3)>-1&&ne.push(239,191,189);if(G=null,R<128){if((j-=1)<0)break;ne.push(R)}else if(R<2048){if((j-=2)<0)break;ne.push(R>>6|192,R&63|128)}else if(R<65536){if((j-=3)<0)break;ne.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((j-=4)<0)break;ne.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ne}function te(B){for(var j=[],R=0;R<B.length;++R)j.push(B.charCodeAt(R)&255);return j}function ce(B,j){for(var R,W,G,ne=[],re=0;re<B.length&&!((j-=2)<0);++re)R=B.charCodeAt(re),W=R>>8,G=R%256,ne.push(G),ne.push(W);return ne}function Z(B){return e.toByteArray(z(B))}function J(B,j,R,W){for(var G=0;G<W&&!(G+R>=j.length||G>=B.length);++G)j[G+R]=B[G];return G}function Ee(B,j){return B instanceof j||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===j.name}function H(B){return B!==B}var be=function(){for(var B="0123456789abcdef",j=new Array(256),R=0;R<16;++R)for(var W=R*16,G=0;G<16;++G)j[W+G]=B[R]+B[G];return j}()}(M_)),M_}var F_={},B_={},$_,d8;function WH(){return d8||(d8=1,$_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),$_}var U_,f8;function j6(){if(f8)return U_;f8=1;var t=WH();return U_=function(){return t()&&!!Symbol.toStringTag},U_}var V_,h8;function HH(){return h8||(h8=1,V_=Object),V_}var z_,p8;function ESe(){return p8||(p8=1,z_=Error),z_}var q_,m8;function SSe(){return m8||(m8=1,q_=EvalError),q_}var W_,g8;function ASe(){return g8||(g8=1,W_=RangeError),W_}var H_,y8;function NSe(){return y8||(y8=1,H_=ReferenceError),H_}var G_,v8;function GH(){return v8||(v8=1,G_=SyntaxError),G_}var K_,b8;function Vy(){return b8||(b8=1,K_=TypeError),K_}var Y_,w8;function TSe(){return w8||(w8=1,Y_=URIError),Y_}var X_,x8;function PSe(){return x8||(x8=1,X_=Math.abs),X_}var J_,_8;function CSe(){return _8||(_8=1,J_=Math.floor),J_}var Q_,E8;function kSe(){return E8||(E8=1,Q_=Math.max),Q_}var Z_,S8;function ISe(){return S8||(S8=1,Z_=Math.min),Z_}var eE,A8;function jSe(){return A8||(A8=1,eE=Math.pow),eE}var tE,N8;function OSe(){return N8||(N8=1,tE=Math.round),tE}var rE,T8;function RSe(){return T8||(T8=1,rE=Number.isNaN||function(e){return e!==e}),rE}var nE,P8;function LSe(){if(P8)return nE;P8=1;var t=RSe();return nE=function(r){return t(r)||r===0?r:r<0?-1:1},nE}var iE,C8;function DSe(){return C8||(C8=1,iE=Object.getOwnPropertyDescriptor),iE}var aE,k8;function zy(){if(k8)return aE;k8=1;var t=DSe();if(t)try{t([],"length")}catch{t=null}return aE=t,aE}var sE,I8;function F2(){if(I8)return sE;I8=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return sE=t,sE}var oE,j8;function MSe(){if(j8)return oE;j8=1;var t=typeof Symbol<"u"&&Symbol,e=WH();return oE=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},oE}var lE,O8;function KH(){return O8||(O8=1,lE=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),lE}var cE,R8;function YH(){if(R8)return cE;R8=1;var t=HH();return cE=t.getPrototypeOf||null,cE}var uE,L8;function FSe(){if(L8)return uE;L8=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,c){for(var u=[],f=0;f<l.length;f+=1)u[f]=l[f];for(var p=0;p<c.length;p+=1)u[p+l.length]=c[p];return u},a=function(l,c){for(var u=[],f=c,p=0;f<l.length;f+=1,p+=1)u[p]=l[f];return u},s=function(o,l){for(var c="",u=0;u<o.length;u+=1)c+=o[u],u+1<o.length&&(c+=l);return c};return uE=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var u=a(arguments,1),f,p=function(){if(this instanceof f){var m=c.apply(this,i(u,arguments));return Object(m)===m?m:this}return c.apply(l,i(u,arguments))},h=r(0,c.length-u.length),y=[],g=0;g<h;g++)y[g]="$"+g;if(f=Function("binder","return function ("+s(y,",")+"){ return binder.apply(this,arguments); }")(p),c.prototype){var b=function(){};b.prototype=c.prototype,f.prototype=new b,b.prototype=null}return f},uE}var dE,D8;function qy(){if(D8)return dE;D8=1;var t=FSe();return dE=Function.prototype.bind||t,dE}var fE,M8;function O6(){return M8||(M8=1,fE=Function.prototype.call),fE}var hE,F8;function XH(){return F8||(F8=1,hE=Function.prototype.apply),hE}var pE,B8;function BSe(){return B8||(B8=1,pE=typeof Reflect<"u"&&Reflect&&Reflect.apply),pE}var mE,$8;function $Se(){if($8)return mE;$8=1;var t=qy(),e=XH(),r=O6(),n=BSe();return mE=n||t.call(r,e),mE}var gE,U8;function USe(){if(U8)return gE;U8=1;var t=qy(),e=Vy(),r=O6(),n=$Se();return gE=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(t,r,a)},gE}var yE,V8;function VSe(){if(V8)return yE;V8=1;var t=USe(),e=zy(),r;try{r=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return yE=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(o){return a(o==null?o:i(o))}:!1,yE}var vE,z8;function zSe(){if(z8)return vE;z8=1;var t=KH(),e=YH(),r=VSe();return vE=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,vE}var bE,q8;function qSe(){if(q8)return bE;q8=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=qy();return bE=r.call(t,e),bE}var wE,W8;function R6(){if(W8)return wE;W8=1;var t,e=HH(),r=ESe(),n=SSe(),i=ASe(),a=NSe(),s=GH(),o=Vy(),l=TSe(),c=PSe(),u=CSe(),f=kSe(),p=ISe(),h=jSe(),y=OSe(),g=LSe(),b=Function,m=function(te){try{return b('"use strict"; return ('+te+").constructor;")()}catch{}},v=zy(),w=F2(),E=function(){throw new o},P=v?function(){try{return arguments.callee,E}catch{try{return v(arguments,"callee").get}catch{return E}}}():E,$=MSe()(),C=zSe(),N=YH(),A=KH(),D=XH(),F=O6(),S={},O=typeof Uint8Array>"u"||!C?t:C(Uint8Array),k={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":$&&C?C([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":S,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$&&C?C(C([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$||!C?t:C(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":v,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$||!C?t:C(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$&&C?C(""[Symbol.iterator]()):t,"%Symbol%":$?Symbol:t,"%SyntaxError%":s,"%ThrowTypeError%":P,"%TypedArray%":O,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":D,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":N,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":f,"%Math.min%":p,"%Math.pow%":h,"%Math.round%":y,"%Math.sign%":g,"%Reflect.getPrototypeOf%":A};if(C)try{null.error}catch(te){var ie=C(C(te));k["%Error.prototype%"]=ie}var ae=function te(ce){var Z;if(ce==="%AsyncFunction%")Z=m("async function () {}");else if(ce==="%GeneratorFunction%")Z=m("function* () {}");else if(ce==="%AsyncGeneratorFunction%")Z=m("async function* () {}");else if(ce==="%AsyncGenerator%"){var J=te("%AsyncGeneratorFunction%");J&&(Z=J.prototype)}else if(ce==="%AsyncIteratorPrototype%"){var Ee=te("%AsyncGenerator%");Ee&&C&&(Z=C(Ee.prototype))}return k[ce]=Z,Z},Q={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},se=qy(),fe=qSe(),we=se.call(F,Array.prototype.concat),ve=se.call(D,Array.prototype.splice),M=se.call(F,String.prototype.replace),K=se.call(F,String.prototype.slice),ee=se.call(F,RegExp.prototype.exec),de=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ue=/\\(\\)?/g,z=function(ce){var Z=K(ce,0,1),J=K(ce,-1);if(Z==="%"&&J!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(J==="%"&&Z!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var Ee=[];return M(ce,de,function(H,be,B,j){Ee[Ee.length]=B?M(j,ue,"$1"):be||H}),Ee},V=function(ce,Z){var J=ce,Ee;if(fe(Q,J)&&(Ee=Q[J],J="%"+Ee[0]+"%"),fe(k,J)){var H=k[J];if(H===S&&(H=ae(J)),typeof H>"u"&&!Z)throw new o("intrinsic "+ce+" exists, but is not available. Please file an issue!");return{alias:Ee,name:J,value:H}}throw new s("intrinsic "+ce+" does not exist!")};return wE=function(ce,Z){if(typeof ce!="string"||ce.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Z!="boolean")throw new o('"allowMissing" argument must be a boolean');if(ee(/^%?[^%]*%?$/,ce)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var J=z(ce),Ee=J.length>0?J[0]:"",H=V("%"+Ee+"%",Z),be=H.name,B=H.value,j=!1,R=H.alias;R&&(Ee=R[0],ve(J,we([0,1],R)));for(var W=1,G=!0;W<J.length;W+=1){var ne=J[W],re=K(ne,0,1),Se=K(ne,-1);if((re==='"'||re==="'"||re==="`"||Se==='"'||Se==="'"||Se==="`")&&re!==Se)throw new s("property names with quotes must have matching quotes");if((ne==="constructor"||!G)&&(j=!0),Ee+="."+ne,be="%"+Ee+"%",fe(k,be))B=k[be];else if(B!=null){if(!(ne in B)){if(!Z)throw new o("base intrinsic for "+ce+" exists, but the property is not available.");return}if(v&&W+1>=J.length){var Ne=v(B,ne);G=!!Ne,G&&"get"in Ne&&!("originalValue"in Ne.get)?B=Ne.get:B=B[ne]}else G=fe(B,ne),B=B[ne];G&&!j&&(k[be]=B)}}return B},wE}var xE={exports:{}},_E,H8;function WSe(){if(H8)return _E;H8=1;var t=F2(),e=GH(),r=Vy(),n=zy();return _E=function(a,s,o){if(!a||typeof a!="object"&&typeof a!="function")throw new r("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,p=!!n&&n(a,s);if(t)t(a,s,{configurable:u===null&&p?p.configurable:!u,enumerable:l===null&&p?p.enumerable:!l,value:o,writable:c===null&&p?p.writable:!c});else if(f||!l&&!c&&!u)a[s]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},_E}var EE,G8;function HSe(){if(G8)return EE;G8=1;var t=F2(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},EE=e,EE}var SE,K8;function GSe(){if(K8)return SE;K8=1;var t=R6(),e=WSe(),r=HSe()(),n=zy(),i=Vy(),a=t("%Math.floor%");return SE=function(o,l){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||a(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,f=!0;if("length"in o&&n){var p=n(o,"length");p&&!p.configurable&&(u=!1),p&&!p.writable&&(f=!1)}return(u||f||!c)&&(r?e(o,"length",l,!0,!0):e(o,"length",l)),o},SE}var Y8;function JH(){return Y8||(Y8=1,function(t){var e=qy(),r=R6(),n=GSe(),i=Vy(),a=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(s,a),l=F2(),c=r("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var h=o(e,s,arguments);return n(h,1+c(0,p.length-(arguments.length-1)),!0)};var u=function(){return o(e,a,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u}(xE)),xE.exports}var AE,X8;function QH(){if(X8)return AE;X8=1;var t=R6(),e=JH(),r=e(t("String.prototype.indexOf"));return AE=function(i,a){var s=t(i,!!a);return typeof s=="function"&&r(i,".prototype.")>-1?e(s):s},AE}var NE,J8;function KSe(){if(J8)return NE;J8=1;var t=j6()(),e=QH(),r=e("Object.prototype.toString"),n=function(o){return t&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},a=function(){return n(arguments)}();return n.isLegacyArguments=i,NE=a?n:i,NE}var TE,Q8;function YSe(){if(Q8)return TE;Q8=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=j6()(),i=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},s;return TE=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!n){var c=t.call(l);return c==="[object GeneratorFunction]"}if(!i)return!1;if(typeof s>"u"){var u=a();s=u?i(u):!1}return i(l)===s},TE}var PE,Z8;function XSe(){if(Z8)return PE;Z8=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(v){v!==n&&(e=null)}else e=null;var i=/^\s*class\b/,a=function(w){try{var E=t.call(w);return i.test(E)}catch{return!1}},s=function(w){try{return a(w)?!1:(t.call(w),!0)}catch{return!1}},o=Object.prototype.toString,l="[object Object]",c="[object Function]",u="[object GeneratorFunction]",f="[object HTMLAllCollection]",p="[object HTML document.all class]",h="[object HTMLCollection]",y=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var m=document.all;o.call(m)===o.call(document.all)&&(b=function(w){if((g||!w)&&(typeof w>"u"||typeof w=="object"))try{var E=o.call(w);return(E===f||E===p||E===h||E===l)&&w("")==null}catch{}return!1})}return PE=e?function(w){if(b(w))return!0;if(!w||typeof w!="function"&&typeof w!="object")return!1;try{e(w,null,r)}catch(E){if(E!==n)return!1}return!a(w)&&s(w)}:function(w){if(b(w))return!0;if(!w||typeof w!="function"&&typeof w!="object")return!1;if(y)return s(w);if(a(w))return!1;var E=o.call(w);return E!==c&&E!==u&&!/^\[object HTML/.test(E)?!1:s(w)},PE}var CE,eD;function JSe(){if(eD)return CE;eD=1;var t=XSe(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,c,u){for(var f=0,p=l.length;f<p;f++)r.call(l,f)&&(u==null?c(l[f],f,l):c.call(u,l[f],f,l))},i=function(l,c,u){for(var f=0,p=l.length;f<p;f++)u==null?c(l.charAt(f),f,l):c.call(u,l.charAt(f),f,l)},a=function(l,c,u){for(var f in l)r.call(l,f)&&(u==null?c(l[f],f,l):c.call(u,l[f],f,l))},s=function(l,c,u){if(!t(c))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=u),e.call(l)==="[object Array]"?n(l,c,f):typeof l=="string"?i(l,c,f):a(l,c,f)};return CE=s,CE}var kE,tD;function QSe(){return tD||(tD=1,kE=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),kE}var IE,rD;function ZSe(){if(rD)return IE;rD=1;var t=QSe(),e=typeof globalThis>"u"?nl:globalThis;return IE=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},IE}var jE,nD;function ZH(){if(nD)return jE;nD=1;var t=JSe(),e=ZSe(),r=JH(),n=QH(),i=zy(),a=n("Object.prototype.toString"),s=j6()(),o=typeof globalThis>"u"?nl:globalThis,l=e(),c=n("String.prototype.slice"),u=Object.getPrototypeOf,f=n("Array.prototype.indexOf",!0)||function(b,m){for(var v=0;v<b.length;v+=1)if(b[v]===m)return v;return-1},p={__proto__:null};s&&i&&u?t(l,function(g){var b=new o[g];if(Symbol.toStringTag in b){var m=u(b),v=i(m,Symbol.toStringTag);if(!v){var w=u(m);v=i(w,Symbol.toStringTag)}p["$"+g]=r(v.get)}}):t(l,function(g){var b=new o[g],m=b.slice||b.set;m&&(p["$"+g]=r(m))});var h=function(b){var m=!1;return t(p,function(v,w){if(!m)try{"$"+v(b)===w&&(m=c(w,1))}catch{}}),m},y=function(b){var m=!1;return t(p,function(v,w){if(!m)try{v(b),m=c(w,1)}catch{}}),m};return jE=function(b){if(!b||typeof b!="object")return!1;if(!s){var m=c(a(b),8,-1);return f(l,m)>-1?m:m!=="Object"?!1:y(b)}return i?h(b):null},jE}var OE,iD;function eAe(){if(iD)return OE;iD=1;var t=ZH();return OE=function(r){return!!t(r)},OE}var aD;function tAe(){return aD||(aD=1,function(t){var e=KSe(),r=YSe(),n=ZH(),i=eAe();function a(W){return W.call.bind(W)}var s=typeof BigInt<"u",o=typeof Symbol<"u",l=a(Object.prototype.toString),c=a(Number.prototype.valueOf),u=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(s)var p=a(BigInt.prototype.valueOf);if(o)var h=a(Symbol.prototype.valueOf);function y(W,G){if(typeof W!="object")return!1;try{return G(W),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function g(W){return typeof Promise<"u"&&W instanceof Promise||W!==null&&typeof W=="object"&&typeof W.then=="function"&&typeof W.catch=="function"}t.isPromise=g;function b(W){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(W):i(W)||K(W)}t.isArrayBufferView=b;function m(W){return n(W)==="Uint8Array"}t.isUint8Array=m;function v(W){return n(W)==="Uint8ClampedArray"}t.isUint8ClampedArray=v;function w(W){return n(W)==="Uint16Array"}t.isUint16Array=w;function E(W){return n(W)==="Uint32Array"}t.isUint32Array=E;function P(W){return n(W)==="Int8Array"}t.isInt8Array=P;function $(W){return n(W)==="Int16Array"}t.isInt16Array=$;function C(W){return n(W)==="Int32Array"}t.isInt32Array=C;function N(W){return n(W)==="Float32Array"}t.isFloat32Array=N;function A(W){return n(W)==="Float64Array"}t.isFloat64Array=A;function D(W){return n(W)==="BigInt64Array"}t.isBigInt64Array=D;function F(W){return n(W)==="BigUint64Array"}t.isBigUint64Array=F;function S(W){return l(W)==="[object Map]"}S.working=typeof Map<"u"&&S(new Map);function O(W){return typeof Map>"u"?!1:S.working?S(W):W instanceof Map}t.isMap=O;function k(W){return l(W)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function ie(W){return typeof Set>"u"?!1:k.working?k(W):W instanceof Set}t.isSet=ie;function ae(W){return l(W)==="[object WeakMap]"}ae.working=typeof WeakMap<"u"&&ae(new WeakMap);function Q(W){return typeof WeakMap>"u"?!1:ae.working?ae(W):W instanceof WeakMap}t.isWeakMap=Q;function se(W){return l(W)==="[object WeakSet]"}se.working=typeof WeakSet<"u"&&se(new WeakSet);function fe(W){return se(W)}t.isWeakSet=fe;function we(W){return l(W)==="[object ArrayBuffer]"}we.working=typeof ArrayBuffer<"u"&&we(new ArrayBuffer);function ve(W){return typeof ArrayBuffer>"u"?!1:we.working?we(W):W instanceof ArrayBuffer}t.isArrayBuffer=ve;function M(W){return l(W)==="[object DataView]"}M.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&M(new DataView(new ArrayBuffer(1),0,1));function K(W){return typeof DataView>"u"?!1:M.working?M(W):W instanceof DataView}t.isDataView=K;var ee=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function de(W){return l(W)==="[object SharedArrayBuffer]"}function ue(W){return typeof ee>"u"?!1:(typeof de.working>"u"&&(de.working=de(new ee)),de.working?de(W):W instanceof ee)}t.isSharedArrayBuffer=ue;function z(W){return l(W)==="[object AsyncFunction]"}t.isAsyncFunction=z;function V(W){return l(W)==="[object Map Iterator]"}t.isMapIterator=V;function te(W){return l(W)==="[object Set Iterator]"}t.isSetIterator=te;function ce(W){return l(W)==="[object Generator]"}t.isGeneratorObject=ce;function Z(W){return l(W)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Z;function J(W){return y(W,c)}t.isNumberObject=J;function Ee(W){return y(W,u)}t.isStringObject=Ee;function H(W){return y(W,f)}t.isBooleanObject=H;function be(W){return s&&y(W,p)}t.isBigIntObject=be;function B(W){return o&&y(W,h)}t.isSymbolObject=B;function j(W){return J(W)||Ee(W)||H(W)||be(W)||B(W)}t.isBoxedPrimitive=j;function R(W){return typeof Uint8Array<"u"&&(ve(W)||ue(W))}t.isAnyArrayBuffer=R,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(W){Object.defineProperty(t,W,{enumerable:!1,value:function(){throw new Error(W+" is not supported in userland")}})})}(B_)),B_}var RE,sD;function rAe(){return sD||(sD=1,RE=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),RE}var oD;function eG(){return oD||(oD=1,function(t){var e=Object.getOwnPropertyDescriptors||function(K){for(var ee=Object.keys(K),de={},ue=0;ue<ee.length;ue++)de[ee[ue]]=Object.getOwnPropertyDescriptor(K,ee[ue]);return de},r=/%[sdj%]/g;t.format=function(M){if(!P(M)){for(var K=[],ee=0;ee<arguments.length;ee++)K.push(s(arguments[ee]));return K.join(" ")}for(var ee=1,de=arguments,ue=de.length,z=String(M).replace(r,function(te){if(te==="%%")return"%";if(ee>=ue)return te;switch(te){case"%s":return String(de[ee++]);case"%d":return Number(de[ee++]);case"%j":try{return JSON.stringify(de[ee++])}catch{return"[Circular]"}default:return te}}),V=de[ee];ee<ue;V=de[++ee])v(V)||!A(V)?z+=" "+V:z+=" "+s(V);return z},t.deprecate=function(M,K){if(typeof Bt<"u"&&Bt.noDeprecation===!0)return M;if(typeof Bt>"u")return function(){return t.deprecate(M,K).apply(this,arguments)};var ee=!1;function de(){if(!ee){if(Bt.throwDeprecation)throw new Error(K);Bt.traceDeprecation?console.trace(K):console.error(K),ee=!0}return M.apply(this,arguments)}return de};var n={},i=/^$/;if(Bt.env.NODE_DEBUG){var a=Bt.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+a+"$","i")}t.debuglog=function(M){if(M=M.toUpperCase(),!n[M])if(i.test(M)){var K=Bt.pid;n[M]=function(){var ee=t.format.apply(t,arguments);console.error("%s %d: %s",M,K,ee)}}else n[M]=function(){};return n[M]};function s(M,K){var ee={seen:[],stylize:l};return arguments.length>=3&&(ee.depth=arguments[2]),arguments.length>=4&&(ee.colors=arguments[3]),m(K)?ee.showHidden=K:K&&t._extend(ee,K),C(ee.showHidden)&&(ee.showHidden=!1),C(ee.depth)&&(ee.depth=2),C(ee.colors)&&(ee.colors=!1),C(ee.customInspect)&&(ee.customInspect=!0),ee.colors&&(ee.stylize=o),u(ee,M,ee.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(M,K){var ee=s.styles[K];return ee?"\x1B["+s.colors[ee][0]+"m"+M+"\x1B["+s.colors[ee][1]+"m":M}function l(M,K){return M}function c(M){var K={};return M.forEach(function(ee,de){K[ee]=!0}),K}function u(M,K,ee){if(M.customInspect&&K&&S(K.inspect)&&K.inspect!==t.inspect&&!(K.constructor&&K.constructor.prototype===K)){var de=K.inspect(ee,M);return P(de)||(de=u(M,de,ee)),de}var ue=f(M,K);if(ue)return ue;var z=Object.keys(K),V=c(z);if(M.showHidden&&(z=Object.getOwnPropertyNames(K)),F(K)&&(z.indexOf("message")>=0||z.indexOf("description")>=0))return p(K);if(z.length===0){if(S(K)){var te=K.name?": "+K.name:"";return M.stylize("[Function"+te+"]","special")}if(N(K))return M.stylize(RegExp.prototype.toString.call(K),"regexp");if(D(K))return M.stylize(Date.prototype.toString.call(K),"date");if(F(K))return p(K)}var ce="",Z=!1,J=["{","}"];if(b(K)&&(Z=!0,J=["[","]"]),S(K)){var Ee=K.name?": "+K.name:"";ce=" [Function"+Ee+"]"}if(N(K)&&(ce=" "+RegExp.prototype.toString.call(K)),D(K)&&(ce=" "+Date.prototype.toUTCString.call(K)),F(K)&&(ce=" "+p(K)),z.length===0&&(!Z||K.length==0))return J[0]+ce+J[1];if(ee<0)return N(K)?M.stylize(RegExp.prototype.toString.call(K),"regexp"):M.stylize("[Object]","special");M.seen.push(K);var H;return Z?H=h(M,K,ee,V,z):H=z.map(function(be){return y(M,K,ee,V,be,Z)}),M.seen.pop(),g(H,ce,J)}function f(M,K){if(C(K))return M.stylize("undefined","undefined");if(P(K)){var ee="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return M.stylize(ee,"string")}if(E(K))return M.stylize(""+K,"number");if(m(K))return M.stylize(""+K,"boolean");if(v(K))return M.stylize("null","null")}function p(M){return"["+Error.prototype.toString.call(M)+"]"}function h(M,K,ee,de,ue){for(var z=[],V=0,te=K.length;V<te;++V)se(K,String(V))?z.push(y(M,K,ee,de,String(V),!0)):z.push("");return ue.forEach(function(ce){ce.match(/^\d+$/)||z.push(y(M,K,ee,de,ce,!0))}),z}function y(M,K,ee,de,ue,z){var V,te,ce;if(ce=Object.getOwnPropertyDescriptor(K,ue)||{value:K[ue]},ce.get?ce.set?te=M.stylize("[Getter/Setter]","special"):te=M.stylize("[Getter]","special"):ce.set&&(te=M.stylize("[Setter]","special")),se(de,ue)||(V="["+ue+"]"),te||(M.seen.indexOf(ce.value)<0?(v(ee)?te=u(M,ce.value,null):te=u(M,ce.value,ee-1),te.indexOf(`
`)>-1&&(z?te=te.split(`
`).map(function(Z){return"  "+Z}).join(`
`).slice(2):te=`
`+te.split(`
`).map(function(Z){return"   "+Z}).join(`
`))):te=M.stylize("[Circular]","special")),C(V)){if(z&&ue.match(/^\d+$/))return te;V=JSON.stringify(""+ue),V.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.slice(1,-1),V=M.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=M.stylize(V,"string"))}return V+": "+te}function g(M,K,ee){var de=M.reduce(function(ue,z){return z.indexOf(`
`)>=0,ue+z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return de>60?ee[0]+(K===""?"":K+`
 `)+" "+M.join(`,
  `)+" "+ee[1]:ee[0]+K+" "+M.join(", ")+" "+ee[1]}t.types=tAe();function b(M){return Array.isArray(M)}t.isArray=b;function m(M){return typeof M=="boolean"}t.isBoolean=m;function v(M){return M===null}t.isNull=v;function w(M){return M==null}t.isNullOrUndefined=w;function E(M){return typeof M=="number"}t.isNumber=E;function P(M){return typeof M=="string"}t.isString=P;function $(M){return typeof M=="symbol"}t.isSymbol=$;function C(M){return M===void 0}t.isUndefined=C;function N(M){return A(M)&&k(M)==="[object RegExp]"}t.isRegExp=N,t.types.isRegExp=N;function A(M){return typeof M=="object"&&M!==null}t.isObject=A;function D(M){return A(M)&&k(M)==="[object Date]"}t.isDate=D,t.types.isDate=D;function F(M){return A(M)&&(k(M)==="[object Error]"||M instanceof Error)}t.isError=F,t.types.isNativeError=F;function S(M){return typeof M=="function"}t.isFunction=S;function O(M){return M===null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||typeof M=="symbol"||typeof M>"u"}t.isPrimitive=O,t.isBuffer=rAe();function k(M){return Object.prototype.toString.call(M)}function ie(M){return M<10?"0"+M.toString(10):M.toString(10)}var ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Q(){var M=new Date,K=[ie(M.getHours()),ie(M.getMinutes()),ie(M.getSeconds())].join(":");return[M.getDate(),ae[M.getMonth()],K].join(" ")}t.log=function(){console.log("%s - %s",Q(),t.format.apply(t,arguments))},t.inherits=Nd(),t._extend=function(M,K){if(!K||!A(K))return M;for(var ee=Object.keys(K),de=ee.length;de--;)M[ee[de]]=K[ee[de]];return M};function se(M,K){return Object.prototype.hasOwnProperty.call(M,K)}var fe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');if(fe&&K[fe]){var ee=K[fe];if(typeof ee!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ee,fe,{value:ee,enumerable:!1,writable:!1,configurable:!0}),ee}function ee(){for(var de,ue,z=new Promise(function(ce,Z){de=ce,ue=Z}),V=[],te=0;te<arguments.length;te++)V.push(arguments[te]);V.push(function(ce,Z){ce?ue(ce):de(Z)});try{K.apply(this,V)}catch(ce){ue(ce)}return z}return Object.setPrototypeOf(ee,Object.getPrototypeOf(K)),fe&&Object.defineProperty(ee,fe,{value:ee,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ee,e(K))},t.promisify.custom=fe;function we(M,K){if(!M){var ee=new Error("Promise was rejected with a falsy value");ee.reason=M,M=ee}return K(M)}function ve(M){if(typeof M!="function")throw new TypeError('The "original" argument must be of type Function');function K(){for(var ee=[],de=0;de<arguments.length;de++)ee.push(arguments[de]);var ue=ee.pop();if(typeof ue!="function")throw new TypeError("The last argument must be of type Function");var z=this,V=function(){return ue.apply(z,arguments)};M.apply(this,ee).then(function(te){Bt.nextTick(V.bind(null,null,te))},function(te){Bt.nextTick(we.bind(null,te,V))})}return Object.setPrototypeOf(K,Object.getPrototypeOf(M)),Object.defineProperties(K,e(M)),K}t.callbackify=ve}(F_)),F_}var LE,lD;function nAe(){if(lD)return LE;lD=1;function t(p,h){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(p);h&&(g=g.filter(function(b){return Object.getOwnPropertyDescriptor(p,b).enumerable})),y.push.apply(y,g)}return y}function e(p){for(var h=1;h<arguments.length;h++){var y=arguments[h]!=null?arguments[h]:{};h%2?t(Object(y),!0).forEach(function(g){r(p,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):t(Object(y)).forEach(function(g){Object.defineProperty(p,g,Object.getOwnPropertyDescriptor(y,g))})}return p}function r(p,h,y){return h in p?Object.defineProperty(p,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[h]=y,p}function n(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function i(p,h){for(var y=0;y<h.length;y++){var g=h[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}function a(p,h,y){return h&&i(p.prototype,h),p}var s=M2(),o=s.Buffer,l=eG(),c=l.inspect,u=c&&c.custom||"inspect";function f(p,h,y){o.prototype.copy.call(p,h,y)}return LE=function(){function p(){n(this,p),this.head=null,this.tail=null,this.length=0}return a(p,[{key:"push",value:function(y){var g={data:y,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(y){var g={data:y,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var g=this.head,b=""+g.data;g=g.next;)b+=y+g.data;return b}},{key:"concat",value:function(y){if(this.length===0)return o.alloc(0);for(var g=o.allocUnsafe(y>>>0),b=this.head,m=0;b;)f(b.data,g,m),m+=b.data.length,b=b.next;return g}},{key:"consume",value:function(y,g){var b;return y<this.head.data.length?(b=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?b=this.shift():b=g?this._getString(y):this._getBuffer(y),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var g=this.head,b=1,m=g.data;for(y-=m.length;g=g.next;){var v=g.data,w=y>v.length?v.length:y;if(w===v.length?m+=v:m+=v.slice(0,y),y-=w,y===0){w===v.length?(++b,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=v.slice(w));break}++b}return this.length-=b,m}},{key:"_getBuffer",value:function(y){var g=o.allocUnsafe(y),b=this.head,m=1;for(b.data.copy(g),y-=b.data.length;b=b.next;){var v=b.data,w=y>v.length?v.length:y;if(v.copy(g,g.length-y,0,w),y-=w,y===0){w===v.length?(++m,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=v.slice(w));break}++m}return this.length-=m,g}},{key:u,value:function(y,g){return c(this,e({},g,{depth:0,customInspect:!1}))}}]),p}(),LE}var DE,cD;function tG(){if(cD)return DE;cD=1;function t(s,o){var l=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(o?o(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Bt.nextTick(i,this,s)):Bt.nextTick(i,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(f){!o&&f?l._writableState?l._writableState.errorEmitted?Bt.nextTick(r,l):(l._writableState.errorEmitted=!0,Bt.nextTick(e,l,f)):Bt.nextTick(e,l,f):o?(Bt.nextTick(r,l),o(f)):Bt.nextTick(r,l)}),this)}function e(s,o){i(s,o),r(s)}function r(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(s,o){s.emit("error",o)}function a(s,o){var l=s._readableState,c=s._writableState;l&&l.autoDestroy||c&&c.autoDestroy?s.destroy(o):s.emit("error",o)}return DE={destroy:t,undestroy:n,errorOrDestroy:a},DE}var ME={},uD;function zm(){if(uD)return ME;uD=1;function t(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var e={};function r(o,l,c){c||(c=Error);function u(p,h,y){return typeof l=="string"?l:l(p,h,y)}var f=function(p){t(h,p);function h(y,g,b){return p.call(this,u(y,g,b))||this}return h}(c);f.prototype.name=c.name,f.prototype.code=o,e[o]=f}function n(o,l){if(Array.isArray(o)){var c=o.length;return o=o.map(function(u){return String(u)}),c>2?"one of ".concat(l," ").concat(o.slice(0,c-1).join(", "),", or ")+o[c-1]:c===2?"one of ".concat(l," ").concat(o[0]," or ").concat(o[1]):"of ".concat(l," ").concat(o[0])}else return"of ".concat(l," ").concat(String(o))}function i(o,l,c){return o.substr(0,l.length)===l}function a(o,l,c){return(c===void 0||c>o.length)&&(c=o.length),o.substring(c-l.length,c)===l}function s(o,l,c){return typeof c!="number"&&(c=0),c+l.length>o.length?!1:o.indexOf(l,c)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,l){return'The value "'+l+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,l,c){var u;typeof l=="string"&&i(l,"not ")?(u="must not be",l=l.replace(/^not /,"")):u="must be";var f;if(a(o," argument"))f="The ".concat(o," ").concat(u," ").concat(n(l,"type"));else{var p=s(o,".")?"property":"argument";f='The "'.concat(o,'" ').concat(p," ").concat(u," ").concat(n(l,"type"))}return f+=". Received type ".concat(typeof c),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ME.codes=e,ME}var FE,dD;function rG(){if(dD)return FE;dD=1;var t=zm().codes.ERR_INVALID_OPT_VALUE;function e(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,s){var o=e(i,s,a);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var l=s?a:"highWaterMark";throw new t(l,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return FE={getHighWaterMark:r},FE}var BE,fD;function iAe(){if(fD)return BE;fD=1,BE=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function a(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return a}function e(r){try{if(!nl.localStorage)return!1}catch{return!1}var n=nl.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return BE}var $E,hD;function nG(){if(hD)return $E;hD=1,$E=N;function t(ue){var z=this;this.next=null,this.entry=null,this.finish=function(){de(z,ue)}}var e;N.WritableState=$;var r={deprecate:iAe()},n=qH(),i=M2().Buffer,a=nl.Uint8Array||function(){};function s(ue){return i.from(ue)}function o(ue){return i.isBuffer(ue)||ue instanceof a}var l=tG(),c=rG(),u=c.getHighWaterMark,f=zm().codes,p=f.ERR_INVALID_ARG_TYPE,h=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,m=f.ERR_STREAM_NULL_VALUES,v=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;Nd()(N,n);function P(){}function $(ue,z,V){e=e||hm(),ue=ue||{},typeof V!="boolean"&&(V=z instanceof e),this.objectMode=!!ue.objectMode,V&&(this.objectMode=this.objectMode||!!ue.writableObjectMode),this.highWaterMark=u(this,ue,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=ue.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=ue.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){ae(z,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ue.emitClose!==!1,this.autoDestroy=!!ue.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}$.prototype.getBuffer=function(){for(var z=this.bufferedRequest,V=[];z;)V.push(z),z=z.next;return V},function(){try{Object.defineProperty($.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(z){return C.call(this,z)?!0:this!==N?!1:z&&z._writableState instanceof $}})):C=function(z){return z instanceof this};function N(ue){e=e||hm();var z=this instanceof e;if(!z&&!C.call(N,this))return new N(ue);this._writableState=new $(ue,this,z),this.writable=!0,ue&&(typeof ue.write=="function"&&(this._write=ue.write),typeof ue.writev=="function"&&(this._writev=ue.writev),typeof ue.destroy=="function"&&(this._destroy=ue.destroy),typeof ue.final=="function"&&(this._final=ue.final)),n.call(this)}N.prototype.pipe=function(){E(this,new g)};function A(ue,z){var V=new v;E(ue,V),Bt.nextTick(z,V)}function D(ue,z,V,te){var ce;return V===null?ce=new m:typeof V!="string"&&!z.objectMode&&(ce=new p("chunk",["string","Buffer"],V)),ce?(E(ue,ce),Bt.nextTick(te,ce),!1):!0}N.prototype.write=function(ue,z,V){var te=this._writableState,ce=!1,Z=!te.objectMode&&o(ue);return Z&&!i.isBuffer(ue)&&(ue=s(ue)),typeof z=="function"&&(V=z,z=null),Z?z="buffer":z||(z=te.defaultEncoding),typeof V!="function"&&(V=P),te.ending?A(this,V):(Z||D(this,te,ue,V))&&(te.pendingcb++,ce=S(this,te,Z,ue,z,V)),ce},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var ue=this._writableState;ue.corked&&(ue.corked--,!ue.writing&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&fe(this,ue))},N.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((z+"").toLowerCase())>-1))throw new w(z);return this._writableState.defaultEncoding=z,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(ue,z,V){return!ue.objectMode&&ue.decodeStrings!==!1&&typeof z=="string"&&(z=i.from(z,V)),z}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function S(ue,z,V,te,ce,Z){if(!V){var J=F(z,te,ce);te!==J&&(V=!0,ce="buffer",te=J)}var Ee=z.objectMode?1:te.length;z.length+=Ee;var H=z.length<z.highWaterMark;if(H||(z.needDrain=!0),z.writing||z.corked){var be=z.lastBufferedRequest;z.lastBufferedRequest={chunk:te,encoding:ce,isBuf:V,callback:Z,next:null},be?be.next=z.lastBufferedRequest:z.bufferedRequest=z.lastBufferedRequest,z.bufferedRequestCount+=1}else O(ue,z,!1,Ee,te,ce,Z);return H}function O(ue,z,V,te,ce,Z,J){z.writelen=te,z.writecb=J,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new b("write")):V?ue._writev(ce,z.onwrite):ue._write(ce,Z,z.onwrite),z.sync=!1}function k(ue,z,V,te,ce){--z.pendingcb,V?(Bt.nextTick(ce,te),Bt.nextTick(K,ue,z),ue._writableState.errorEmitted=!0,E(ue,te)):(ce(te),ue._writableState.errorEmitted=!0,E(ue,te),K(ue,z))}function ie(ue){ue.writing=!1,ue.writecb=null,ue.length-=ue.writelen,ue.writelen=0}function ae(ue,z){var V=ue._writableState,te=V.sync,ce=V.writecb;if(typeof ce!="function")throw new y;if(ie(V),z)k(ue,V,te,z,ce);else{var Z=we(V)||ue.destroyed;!Z&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&fe(ue,V),te?Bt.nextTick(Q,ue,V,Z,ce):Q(ue,V,Z,ce)}}function Q(ue,z,V,te){V||se(ue,z),z.pendingcb--,te(),K(ue,z)}function se(ue,z){z.length===0&&z.needDrain&&(z.needDrain=!1,ue.emit("drain"))}function fe(ue,z){z.bufferProcessing=!0;var V=z.bufferedRequest;if(ue._writev&&V&&V.next){var te=z.bufferedRequestCount,ce=new Array(te),Z=z.corkedRequestsFree;Z.entry=V;for(var J=0,Ee=!0;V;)ce[J]=V,V.isBuf||(Ee=!1),V=V.next,J+=1;ce.allBuffers=Ee,O(ue,z,!0,z.length,ce,"",Z.finish),z.pendingcb++,z.lastBufferedRequest=null,Z.next?(z.corkedRequestsFree=Z.next,Z.next=null):z.corkedRequestsFree=new t(z),z.bufferedRequestCount=0}else{for(;V;){var H=V.chunk,be=V.encoding,B=V.callback,j=z.objectMode?1:H.length;if(O(ue,z,!1,j,H,be,B),V=V.next,z.bufferedRequestCount--,z.writing)break}V===null&&(z.lastBufferedRequest=null)}z.bufferedRequest=V,z.bufferProcessing=!1}N.prototype._write=function(ue,z,V){V(new h("_write()"))},N.prototype._writev=null,N.prototype.end=function(ue,z,V){var te=this._writableState;return typeof ue=="function"?(V=ue,ue=null,z=null):typeof z=="function"&&(V=z,z=null),ue!=null&&this.write(ue,z),te.corked&&(te.corked=1,this.uncork()),te.ending||ee(this,te,V),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function we(ue){return ue.ending&&ue.length===0&&ue.bufferedRequest===null&&!ue.finished&&!ue.writing}function ve(ue,z){ue._final(function(V){z.pendingcb--,V&&E(ue,V),z.prefinished=!0,ue.emit("prefinish"),K(ue,z)})}function M(ue,z){!z.prefinished&&!z.finalCalled&&(typeof ue._final=="function"&&!z.destroyed?(z.pendingcb++,z.finalCalled=!0,Bt.nextTick(ve,ue,z)):(z.prefinished=!0,ue.emit("prefinish")))}function K(ue,z){var V=we(z);if(V&&(M(ue,z),z.pendingcb===0&&(z.finished=!0,ue.emit("finish"),z.autoDestroy))){var te=ue._readableState;(!te||te.autoDestroy&&te.endEmitted)&&ue.destroy()}return V}function ee(ue,z,V){z.ending=!0,K(ue,z),V&&(z.finished?Bt.nextTick(V):ue.once("finish",V)),z.ended=!0,ue.writable=!1}function de(ue,z,V){var te=ue.entry;for(ue.entry=null;te;){var ce=te.callback;z.pendingcb--,ce(V),te=te.next}z.corkedRequestsFree.next=ue}return Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(z){this._writableState&&(this._writableState.destroyed=z)}}),N.prototype.destroy=l.destroy,N.prototype._undestroy=l.undestroy,N.prototype._destroy=function(ue,z){z(ue)},$E}var UE,pD;function hm(){if(pD)return UE;pD=1;var t=Object.keys||function(c){var u=[];for(var f in c)u.push(f);return u};UE=s;var e=iG(),r=nG();Nd()(s,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var a=n[i];s.prototype[a]||(s.prototype[a]=r.prototype[a])}function s(c){if(!(this instanceof s))return new s(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||Bt.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),UE}var VE={},c1={exports:{}},mD;function aAe(){return mD||(mD=1,function(t,e){var r=M2(),n=r.Buffer;function i(s,o){for(var l in s)o[l]=s[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a);function a(s,o,l){return n(s,o,l)}i(n,a),a.from=function(s,o,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,l)},a.alloc=function(s,o,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=n(s);return o!==void 0?typeof l=="string"?c.fill(o,l):c.fill(o):c.fill(0),c},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}(c1,c1.exports)),c1.exports}var gD;function u4(){if(gD)return VE;gD=1;var t=aAe().Buffer,e=t.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var v;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(v)return;m=(""+m).toLowerCase(),v=!0}}function n(m){var v=r(m);if(typeof v!="string"&&(t.isEncoding===e||!e(m)))throw new Error("Unknown encoding: "+m);return v||m}VE.StringDecoder=i;function i(m){this.encoding=n(m);var v;switch(this.encoding){case"utf16le":this.text=f,this.end=p,v=4;break;case"utf8":this.fillLast=l,v=4;break;case"base64":this.text=h,this.end=y,v=3;break;default:this.write=g,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(v)}i.prototype.write=function(m){if(m.length===0)return"";var v,w;if(this.lastNeed){if(v=this.fillLast(m),v===void 0)return"";w=this.lastNeed,this.lastNeed=0}else w=0;return w<m.length?v?v+this.text(m,w):this.text(m,w):v||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function a(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function s(m,v,w){var E=v.length-1;if(E<w)return 0;var P=a(v[E]);return P>=0?(P>0&&(m.lastNeed=P-1),P):--E<w||P===-2?0:(P=a(v[E]),P>=0?(P>0&&(m.lastNeed=P-2),P):--E<w||P===-2?0:(P=a(v[E]),P>=0?(P>0&&(P===2?P=0:m.lastNeed=P-3),P):0))}function o(m,v,w){if((v[0]&192)!==128)return m.lastNeed=0,"�";if(m.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return m.lastNeed=1,"�";if(m.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return m.lastNeed=2,"�"}}function l(m){var v=this.lastTotal-this.lastNeed,w=o(this,m);if(w!==void 0)return w;if(this.lastNeed<=m.length)return m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,v,0,m.length),this.lastNeed-=m.length}function c(m,v){var w=s(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=w;var E=m.length-(w-this.lastNeed);return m.copy(this.lastChar,0,E),m.toString("utf8",v,E)}function u(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"�":v}function f(m,v){if((m.length-v)%2===0){var w=m.toString("utf16le",v);if(w){var E=w.charCodeAt(w.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],w.slice(0,-1)}return w}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function p(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var w=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,w)}return v}function h(m,v){var w=(m.length-v)%3;return w===0?m.toString("base64",v):(this.lastNeed=3-w,this.lastTotal=3,w===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-w))}function y(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(m){return m.toString(this.encoding)}function b(m){return m&&m.length?this.write(m):""}return VE}var zE,yD;function L6(){if(yD)return zE;yD=1;var t=zm().codes.ERR_STREAM_PREMATURE_CLOSE;function e(a){var s=!1;return function(){if(!s){s=!0;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];a.apply(this,l)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,s,o){if(typeof s=="function")return i(a,null,s);s||(s={}),o=e(o||r);var l=s.readable||s.readable!==!1&&a.readable,c=s.writable||s.writable!==!1&&a.writable,u=function(){a.writable||p()},f=a._writableState&&a._writableState.finished,p=function(){c=!1,f=!0,l||o.call(a)},h=a._readableState&&a._readableState.endEmitted,y=function(){l=!1,h=!0,c||o.call(a)},g=function(w){o.call(a,w)},b=function(){var w;if(l&&!h)return(!a._readableState||!a._readableState.ended)&&(w=new t),o.call(a,w);if(c&&!f)return(!a._writableState||!a._writableState.ended)&&(w=new t),o.call(a,w)},m=function(){a.req.on("finish",p)};return n(a)?(a.on("complete",p),a.on("abort",b),a.req?m():a.on("request",m)):c&&!a._writableState&&(a.on("end",u),a.on("close",u)),a.on("end",y),a.on("finish",p),s.error!==!1&&a.on("error",g),a.on("close",b),function(){a.removeListener("complete",p),a.removeListener("abort",b),a.removeListener("request",m),a.req&&a.req.removeListener("finish",p),a.removeListener("end",u),a.removeListener("close",u),a.removeListener("finish",p),a.removeListener("end",y),a.removeListener("error",g),a.removeListener("close",b)}}return zE=i,zE}var qE,vD;function sAe(){if(vD)return qE;vD=1;var t;function e(m,v,w){return v in m?Object.defineProperty(m,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):m[v]=w,m}var r=L6(),n=Symbol("lastResolve"),i=Symbol("lastReject"),a=Symbol("error"),s=Symbol("ended"),o=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(m,v){return{value:m,done:v}}function f(m){var v=m[n];if(v!==null){var w=m[c].read();w!==null&&(m[o]=null,m[n]=null,m[i]=null,v(u(w,!1)))}}function p(m){Bt.nextTick(f,m)}function h(m,v){return function(w,E){m.then(function(){if(v[s]){w(u(void 0,!0));return}v[l](w,E)},E)}}var y=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var v=this,w=this[a];if(w!==null)return Promise.reject(w);if(this[s])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise(function(C,N){Bt.nextTick(function(){v[a]?N(v[a]):C(u(void 0,!0))})});var E=this[o],P;if(E)P=new Promise(h(E,this));else{var $=this[c].read();if($!==null)return Promise.resolve(u($,!1));P=new Promise(this[l])}return this[o]=P,P}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var v=this;return new Promise(function(w,E){v[c].destroy(null,function(P){if(P){E(P);return}w(u(void 0,!0))})})}),t),y),b=function(v){var w,E=Object.create(g,(w={},e(w,c,{value:v,writable:!0}),e(w,n,{value:null,writable:!0}),e(w,i,{value:null,writable:!0}),e(w,a,{value:null,writable:!0}),e(w,s,{value:v._readableState.endEmitted,writable:!0}),e(w,l,{value:function($,C){var N=E[c].read();N?(E[o]=null,E[n]=null,E[i]=null,$(u(N,!1))):(E[n]=$,E[i]=C)},writable:!0}),w));return E[o]=null,r(v,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $=E[i];$!==null&&(E[o]=null,E[n]=null,E[i]=null,$(P)),E[a]=P;return}var C=E[n];C!==null&&(E[o]=null,E[n]=null,E[i]=null,C(u(void 0,!0))),E[s]=!0}),v.on("readable",p.bind(null,E)),E};return qE=b,qE}var WE,bD;function oAe(){return bD||(bD=1,WE=function(){throw new Error("Readable.from is not available in the browser")}),WE}var HE,wD;function iG(){if(wD)return HE;wD=1,HE=A;var t;A.ReadableState=N,I6().EventEmitter;var e=function(J,Ee){return J.listeners(Ee).length},r=qH(),n=M2().Buffer,i=nl.Uint8Array||function(){};function a(Z){return n.from(Z)}function s(Z){return n.isBuffer(Z)||Z instanceof i}var o=eG(),l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var c=nAe(),u=tG(),f=rG(),p=f.getHighWaterMark,h=zm().codes,y=h.ERR_INVALID_ARG_TYPE,g=h.ERR_STREAM_PUSH_AFTER_EOF,b=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,w,E;Nd()(A,r);var P=u.errorOrDestroy,$=["error","close","destroy","pause","resume"];function C(Z,J,Ee){if(typeof Z.prependListener=="function")return Z.prependListener(J,Ee);!Z._events||!Z._events[J]?Z.on(J,Ee):Array.isArray(Z._events[J])?Z._events[J].unshift(Ee):Z._events[J]=[Ee,Z._events[J]]}function N(Z,J,Ee){t=t||hm(),Z=Z||{},typeof Ee!="boolean"&&(Ee=J instanceof t),this.objectMode=!!Z.objectMode,Ee&&(this.objectMode=this.objectMode||!!Z.readableObjectMode),this.highWaterMark=p(this,Z,"readableHighWaterMark",Ee),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(v||(v=u4().StringDecoder),this.decoder=new v(Z.encoding),this.encoding=Z.encoding)}function A(Z){if(t=t||hm(),!(this instanceof A))return new A(Z);var J=this instanceof t;this._readableState=new N(Z,this,J),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),r.call(this)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(J){this._readableState&&(this._readableState.destroyed=J)}}),A.prototype.destroy=u.destroy,A.prototype._undestroy=u.undestroy,A.prototype._destroy=function(Z,J){J(Z)},A.prototype.push=function(Z,J){var Ee=this._readableState,H;return Ee.objectMode?H=!0:typeof Z=="string"&&(J=J||Ee.defaultEncoding,J!==Ee.encoding&&(Z=n.from(Z,J),J=""),H=!0),D(this,Z,J,!1,H)},A.prototype.unshift=function(Z){return D(this,Z,null,!0,!1)};function D(Z,J,Ee,H,be){l("readableAddChunk",J);var B=Z._readableState;if(J===null)B.reading=!1,ae(Z,B);else{var j;if(be||(j=S(B,J)),j)P(Z,j);else if(B.objectMode||J&&J.length>0)if(typeof J!="string"&&!B.objectMode&&Object.getPrototypeOf(J)!==n.prototype&&(J=a(J)),H)B.endEmitted?P(Z,new m):F(Z,B,J,!0);else if(B.ended)P(Z,new g);else{if(B.destroyed)return!1;B.reading=!1,B.decoder&&!Ee?(J=B.decoder.write(J),B.objectMode||J.length!==0?F(Z,B,J,!1):fe(Z,B)):F(Z,B,J,!1)}else H||(B.reading=!1,fe(Z,B))}return!B.ended&&(B.length<B.highWaterMark||B.length===0)}function F(Z,J,Ee,H){J.flowing&&J.length===0&&!J.sync?(J.awaitDrain=0,Z.emit("data",Ee)):(J.length+=J.objectMode?1:Ee.length,H?J.buffer.unshift(Ee):J.buffer.push(Ee),J.needReadable&&Q(Z)),fe(Z,J)}function S(Z,J){var Ee;return!s(J)&&typeof J!="string"&&J!==void 0&&!Z.objectMode&&(Ee=new y("chunk",["string","Buffer","Uint8Array"],J)),Ee}A.prototype.isPaused=function(){return this._readableState.flowing===!1},A.prototype.setEncoding=function(Z){v||(v=u4().StringDecoder);var J=new v(Z);this._readableState.decoder=J,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ee=this._readableState.buffer.head,H="";Ee!==null;)H+=J.write(Ee.data),Ee=Ee.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this};var O=1073741824;function k(Z){return Z>=O?Z=O:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function ie(Z,J){return Z<=0||J.length===0&&J.ended?0:J.objectMode?1:Z!==Z?J.flowing&&J.length?J.buffer.head.data.length:J.length:(Z>J.highWaterMark&&(J.highWaterMark=k(Z)),Z<=J.length?Z:J.ended?J.length:(J.needReadable=!0,0))}A.prototype.read=function(Z){l("read",Z),Z=parseInt(Z,10);var J=this._readableState,Ee=Z;if(Z!==0&&(J.emittedReadable=!1),Z===0&&J.needReadable&&((J.highWaterMark!==0?J.length>=J.highWaterMark:J.length>0)||J.ended))return l("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?V(this):Q(this),null;if(Z=ie(Z,J),Z===0&&J.ended)return J.length===0&&V(this),null;var H=J.needReadable;l("need readable",H),(J.length===0||J.length-Z<J.highWaterMark)&&(H=!0,l("length less than watermark",H)),J.ended||J.reading?(H=!1,l("reading or ended",H)):H&&(l("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(Z=ie(Ee,J)));var be;return Z>0?be=z(Z,J):be=null,be===null?(J.needReadable=J.length<=J.highWaterMark,Z=0):(J.length-=Z,J.awaitDrain=0),J.length===0&&(J.ended||(J.needReadable=!0),Ee!==Z&&J.ended&&V(this)),be!==null&&this.emit("data",be),be};function ae(Z,J){if(l("onEofChunk"),!J.ended){if(J.decoder){var Ee=J.decoder.end();Ee&&Ee.length&&(J.buffer.push(Ee),J.length+=J.objectMode?1:Ee.length)}J.ended=!0,J.sync?Q(Z):(J.needReadable=!1,J.emittedReadable||(J.emittedReadable=!0,se(Z)))}}function Q(Z){var J=Z._readableState;l("emitReadable",J.needReadable,J.emittedReadable),J.needReadable=!1,J.emittedReadable||(l("emitReadable",J.flowing),J.emittedReadable=!0,Bt.nextTick(se,Z))}function se(Z){var J=Z._readableState;l("emitReadable_",J.destroyed,J.length,J.ended),!J.destroyed&&(J.length||J.ended)&&(Z.emit("readable"),J.emittedReadable=!1),J.needReadable=!J.flowing&&!J.ended&&J.length<=J.highWaterMark,ue(Z)}function fe(Z,J){J.readingMore||(J.readingMore=!0,Bt.nextTick(we,Z,J))}function we(Z,J){for(;!J.reading&&!J.ended&&(J.length<J.highWaterMark||J.flowing&&J.length===0);){var Ee=J.length;if(l("maybeReadMore read 0"),Z.read(0),Ee===J.length)break}J.readingMore=!1}A.prototype._read=function(Z){P(this,new b("_read()"))},A.prototype.pipe=function(Z,J){var Ee=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=Z;break;case 1:H.pipes=[H.pipes,Z];break;default:H.pipes.push(Z);break}H.pipesCount+=1,l("pipe count=%d opts=%j",H.pipesCount,J);var be=(!J||J.end!==!1)&&Z!==Bt.stdout&&Z!==Bt.stderr,B=be?R:Ie;H.endEmitted?Bt.nextTick(B):Ee.once("end",B),Z.on("unpipe",j);function j(Fe,Ke){l("onunpipe"),Fe===Ee&&Ke&&Ke.hasUnpiped===!1&&(Ke.hasUnpiped=!0,ne())}function R(){l("onend"),Z.end()}var W=ve(Ee);Z.on("drain",W);var G=!1;function ne(){l("cleanup"),Z.removeListener("close",Ne),Z.removeListener("finish",Ae),Z.removeListener("drain",W),Z.removeListener("error",Se),Z.removeListener("unpipe",j),Ee.removeListener("end",R),Ee.removeListener("end",Ie),Ee.removeListener("data",re),G=!0,H.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&W()}Ee.on("data",re);function re(Fe){l("ondata");var Ke=Z.write(Fe);l("dest.write",Ke),Ke===!1&&((H.pipesCount===1&&H.pipes===Z||H.pipesCount>1&&ce(H.pipes,Z)!==-1)&&!G&&(l("false write response, pause",H.awaitDrain),H.awaitDrain++),Ee.pause())}function Se(Fe){l("onerror",Fe),Ie(),Z.removeListener("error",Se),e(Z,"error")===0&&P(Z,Fe)}C(Z,"error",Se);function Ne(){Z.removeListener("finish",Ae),Ie()}Z.once("close",Ne);function Ae(){l("onfinish"),Z.removeListener("close",Ne),Ie()}Z.once("finish",Ae);function Ie(){l("unpipe"),Ee.unpipe(Z)}return Z.emit("pipe",Ee),H.flowing||(l("pipe resume"),Ee.resume()),Z};function ve(Z){return function(){var Ee=Z._readableState;l("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&e(Z,"data")&&(Ee.flowing=!0,ue(Z))}}A.prototype.unpipe=function(Z){var J=this._readableState,Ee={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return Z&&Z!==J.pipes?this:(Z||(Z=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,Z&&Z.emit("unpipe",this,Ee),this);if(!Z){var H=J.pipes,be=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var B=0;B<be;B++)H[B].emit("unpipe",this,{hasUnpiped:!1});return this}var j=ce(J.pipes,Z);return j===-1?this:(J.pipes.splice(j,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),Z.emit("unpipe",this,Ee),this)},A.prototype.on=function(Z,J){var Ee=r.prototype.on.call(this,Z,J),H=this._readableState;return Z==="data"?(H.readableListening=this.listenerCount("readable")>0,H.flowing!==!1&&this.resume()):Z==="readable"&&!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,l("on readable",H.length,H.reading),H.length?Q(this):H.reading||Bt.nextTick(K,this)),Ee},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(Z,J){var Ee=r.prototype.removeListener.call(this,Z,J);return Z==="readable"&&Bt.nextTick(M,this),Ee},A.prototype.removeAllListeners=function(Z){var J=r.prototype.removeAllListeners.apply(this,arguments);return(Z==="readable"||Z===void 0)&&Bt.nextTick(M,this),J};function M(Z){var J=Z._readableState;J.readableListening=Z.listenerCount("readable")>0,J.resumeScheduled&&!J.paused?J.flowing=!0:Z.listenerCount("data")>0&&Z.resume()}function K(Z){l("readable nexttick read 0"),Z.read(0)}A.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(l("resume"),Z.flowing=!Z.readableListening,ee(this,Z)),Z.paused=!1,this};function ee(Z,J){J.resumeScheduled||(J.resumeScheduled=!0,Bt.nextTick(de,Z,J))}function de(Z,J){l("resume",J.reading),J.reading||Z.read(0),J.resumeScheduled=!1,Z.emit("resume"),ue(Z),J.flowing&&!J.reading&&Z.read(0)}A.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ue(Z){var J=Z._readableState;for(l("flow",J.flowing);J.flowing&&Z.read()!==null;);}A.prototype.wrap=function(Z){var J=this,Ee=this._readableState,H=!1;Z.on("end",function(){if(l("wrapped end"),Ee.decoder&&!Ee.ended){var j=Ee.decoder.end();j&&j.length&&J.push(j)}J.push(null)}),Z.on("data",function(j){if(l("wrapped data"),Ee.decoder&&(j=Ee.decoder.write(j)),!(Ee.objectMode&&j==null)&&!(!Ee.objectMode&&(!j||!j.length))){var R=J.push(j);R||(H=!0,Z.pause())}});for(var be in Z)this[be]===void 0&&typeof Z[be]=="function"&&(this[be]=function(R){return function(){return Z[R].apply(Z,arguments)}}(be));for(var B=0;B<$.length;B++)Z.on($[B],this.emit.bind(this,$[B]));return this._read=function(j){l("wrapped _read",j),H&&(H=!1,Z.resume())},this},typeof Symbol=="function"&&(A.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=sAe()),w(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(J){this._readableState&&(this._readableState.flowing=J)}}),A._fromList=z,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function z(Z,J){if(J.length===0)return null;var Ee;return J.objectMode?Ee=J.buffer.shift():!Z||Z>=J.length?(J.decoder?Ee=J.buffer.join(""):J.buffer.length===1?Ee=J.buffer.first():Ee=J.buffer.concat(J.length),J.buffer.clear()):Ee=J.buffer.consume(Z,J.decoder),Ee}function V(Z){var J=Z._readableState;l("endReadable",J.endEmitted),J.endEmitted||(J.ended=!0,Bt.nextTick(te,J,Z))}function te(Z,J){if(l("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,J.readable=!1,J.emit("end"),Z.autoDestroy)){var Ee=J._writableState;(!Ee||Ee.autoDestroy&&Ee.finished)&&J.destroy()}}typeof Symbol=="function"&&(A.from=function(Z,J){return E===void 0&&(E=oAe()),E(A,Z,J)});function ce(Z,J){for(var Ee=0,H=Z.length;Ee<H;Ee++)if(Z[Ee]===J)return Ee;return-1}return HE}var GE,xD;function aG(){if(xD)return GE;xD=1,GE=o;var t=zm().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=hm();Nd()(o,a);function s(u,f){var p=this._transformState;p.transforming=!1;var h=p.writecb;if(h===null)return this.emit("error",new r);p.writechunk=null,p.writecb=null,f!=null&&this.push(f),h(u);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function o(u){if(!(this instanceof o))return new o(u);a.call(this,u),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function l(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,p){c(u,f,p)}):c(this,null,null)}o.prototype.push=function(u,f){return this._transformState.needTransform=!1,a.prototype.push.call(this,u,f)},o.prototype._transform=function(u,f,p){p(new e("_transform()"))},o.prototype._write=function(u,f,p){var h=this._transformState;if(h.writecb=p,h.writechunk=u,h.writeencoding=f,!h.transforming){var y=this._readableState;(h.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},o.prototype._read=function(u){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},o.prototype._destroy=function(u,f){a.prototype._destroy.call(this,u,function(p){f(p)})};function c(u,f,p){if(f)return u.emit("error",f);if(p!=null&&u.push(p),u._writableState.length)throw new i;if(u._transformState.transforming)throw new n;return u.push(null)}return GE}var KE,_D;function lAe(){if(_D)return KE;_D=1,KE=e;var t=aG();Nd()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},KE}var YE,ED;function cAe(){if(ED)return YE;ED=1;var t;function e(p){var h=!1;return function(){h||(h=!0,p.apply(void 0,arguments))}}var r=zm().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(p){if(p)throw p}function s(p){return p.setHeader&&typeof p.abort=="function"}function o(p,h,y,g){g=e(g);var b=!1;p.on("close",function(){b=!0}),t===void 0&&(t=L6()),t(p,{readable:h,writable:y},function(v){if(v)return g(v);b=!0,g()});var m=!1;return function(v){if(!b&&!m){if(m=!0,s(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();g(v||new i("pipe"))}}}function l(p){p()}function c(p,h){return p.pipe(h)}function u(p){return!p.length||typeof p[p.length-1]!="function"?a:p.pop()}function f(){for(var p=arguments.length,h=new Array(p),y=0;y<p;y++)h[y]=arguments[y];var g=u(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var b,m=h.map(function(v,w){var E=w<h.length-1,P=w>0;return o(v,E,P,function($){b||(b=$),$&&m.forEach(l),!E&&(m.forEach(l),g(b))})});return h.reduce(c)}return YE=f,YE}var XE,SD;function D6(){if(SD)return XE;SD=1,XE=r;var t=I6().EventEmitter,e=Nd();e(r,t),r.Readable=iG(),r.Writable=nG(),r.Duplex=hm(),r.Transform=aG(),r.PassThrough=lAe(),r.finished=L6(),r.pipeline=cAe(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,i){var a=this;function s(h){n.writable&&n.write(h)===!1&&a.pause&&a.pause()}a.on("data",s);function o(){a.readable&&a.resume&&a.resume()}n.on("drain",o),!n._isStdio&&(!i||i.end!==!1)&&(a.on("end",c),a.on("close",u));var l=!1;function c(){l||(l=!0,n.end())}function u(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function f(h){if(p(),t.listenerCount(this,"error")===0)throw h}a.on("error",f),n.on("error",f);function p(){a.removeListener("data",s),n.removeListener("drain",o),a.removeListener("end",c),a.removeListener("close",u),a.removeListener("error",f),n.removeListener("error",f),a.removeListener("end",p),a.removeListener("close",p),n.removeListener("close",p)}return a.on("end",p),a.on("close",p),n.on("close",p),n.emit("pipe",a),n},XE}var AD;function uAe(){return AD||(AD=1,function(t){(function(e){e.parser=function(z,V){return new n(z,V)},e.SAXParser=n,e.SAXStream=u,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(z,V){if(!(this instanceof n))return new n(z,V);var te=this;a(te),te.q=te.c="",te.bufferCheckPosition=e.MAX_BUFFER_LENGTH,te.opt=V||{},te.opt.lowercase=te.opt.lowercase||te.opt.lowercasetags,te.looseCase=te.opt.lowercase?"toLowerCase":"toUpperCase",te.tags=[],te.closed=te.closedRoot=te.sawRoot=!1,te.tag=te.error=null,te.strict=!!z,te.noscript=!!(z||te.opt.noscript),te.state=A.BEGIN,te.strictEntities=te.opt.strictEntities,te.ENTITIES=te.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),te.attribList=[],te.opt.xmlns&&(te.ns=Object.create(g)),te.trackPosition=te.opt.position!==!1,te.trackPosition&&(te.position=te.line=te.column=0),F(te,"onready")}Object.create||(Object.create=function(z){function V(){}V.prototype=z;var te=new V;return te}),Object.keys||(Object.keys=function(z){var V=[];for(var te in z)z.hasOwnProperty(te)&&V.push(te);return V});function i(z){for(var V=Math.max(e.MAX_BUFFER_LENGTH,10),te=0,ce=0,Z=r.length;ce<Z;ce++){var J=z[r[ce]].length;if(J>V)switch(r[ce]){case"textNode":O(z);break;case"cdata":S(z,"oncdata",z.cdata),z.cdata="";break;case"script":S(z,"onscript",z.script),z.script="";break;default:ie(z,"Max buffer length exceeded: "+r[ce])}te=Math.max(te,J)}var Ee=e.MAX_BUFFER_LENGTH-te;z.bufferCheckPosition=Ee+z.position}function a(z){for(var V=0,te=r.length;V<te;V++)z[r[V]]=""}function s(z){O(z),z.cdata!==""&&(S(z,"oncdata",z.cdata),z.cdata=""),z.script!==""&&(S(z,"onscript",z.script),z.script="")}n.prototype={end:function(){ae(this)},write:ue,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var o;try{o=D6().Stream}catch{o=function(){}}var l=e.EVENTS.filter(function(z){return z!=="error"&&z!=="end"});function c(z,V){return new u(z,V)}function u(z,V){if(!(this instanceof u))return new u(z,V);o.apply(this),this._parser=new n(z,V),this.writable=!0,this.readable=!0;var te=this;this._parser.onend=function(){te.emit("end")},this._parser.onerror=function(ce){te.emit("error",ce),te._parser.error=null},this._decoder=null,l.forEach(function(ce){Object.defineProperty(te,"on"+ce,{get:function(){return te._parser["on"+ce]},set:function(Z){if(!Z)return te.removeAllListeners(ce),te._parser["on"+ce]=Z,Z;te.on(ce,Z)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(o.prototype,{constructor:{value:u}}),u.prototype.write=function(z){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(z)){if(!this._decoder){var V=u4().StringDecoder;this._decoder=new V("utf8")}z=this._decoder.write(z)}return this._parser.write(z.toString()),this.emit("data",z),!0},u.prototype.end=function(z){return z&&z.length&&this.write(z),this._parser.end(),!0},u.prototype.on=function(z,V){var te=this;return!te._parser["on"+z]&&l.indexOf(z)!==-1&&(te._parser["on"+z]=function(){var ce=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ce.splice(0,0,z),te.emit.apply(te,ce)}),o.prototype.on.call(te,z,V)};var f="[CDATA[",p="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",g={xml:h,xmlns:y},b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function E(z){return z===" "||z===`
`||z==="\r"||z==="	"}function P(z){return z==='"'||z==="'"}function $(z){return z===">"||E(z)}function C(z,V){return z.test(V)}function N(z,V){return!C(z,V)}var A=0;e.STATE={BEGIN:A++,BEGIN_WHITESPACE:A++,TEXT:A++,TEXT_ENTITY:A++,OPEN_WAKA:A++,SGML_DECL:A++,SGML_DECL_QUOTED:A++,DOCTYPE:A++,DOCTYPE_QUOTED:A++,DOCTYPE_DTD:A++,DOCTYPE_DTD_QUOTED:A++,COMMENT_STARTING:A++,COMMENT:A++,COMMENT_ENDING:A++,COMMENT_ENDED:A++,CDATA:A++,CDATA_ENDING:A++,CDATA_ENDING_2:A++,PROC_INST:A++,PROC_INST_BODY:A++,PROC_INST_ENDING:A++,OPEN_TAG:A++,OPEN_TAG_SLASH:A++,ATTRIB:A++,ATTRIB_NAME:A++,ATTRIB_NAME_SAW_WHITE:A++,ATTRIB_VALUE:A++,ATTRIB_VALUE_QUOTED:A++,ATTRIB_VALUE_CLOSED:A++,ATTRIB_VALUE_UNQUOTED:A++,ATTRIB_VALUE_ENTITY_Q:A++,ATTRIB_VALUE_ENTITY_U:A++,CLOSE_TAG:A++,CLOSE_TAG_SAW_WHITE:A++,SCRIPT:A++,SCRIPT_ENDING:A++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(z){var V=e.ENTITIES[z],te=typeof V=="number"?String.fromCharCode(V):V;e.ENTITIES[z]=te});for(var D in e.STATE)e.STATE[e.STATE[D]]=D;A=e.STATE;function F(z,V,te){z[V]&&z[V](te)}function S(z,V,te){z.textNode&&O(z),F(z,V,te)}function O(z){z.textNode=k(z.opt,z.textNode),z.textNode&&F(z,"ontext",z.textNode),z.textNode=""}function k(z,V){return z.trim&&(V=V.trim()),z.normalize&&(V=V.replace(/\s+/g," ")),V}function ie(z,V){return O(z),z.trackPosition&&(V+=`
Line: `+z.line+`
Column: `+z.column+`
Char: `+z.c),V=new Error(V),z.error=V,F(z,"onerror",V),z}function ae(z){return z.sawRoot&&!z.closedRoot&&Q(z,"Unclosed root tag"),z.state!==A.BEGIN&&z.state!==A.BEGIN_WHITESPACE&&z.state!==A.TEXT&&ie(z,"Unexpected end"),O(z),z.c="",z.closed=!0,F(z,"onend"),n.call(z,z.strict,z.opt),z}function Q(z,V){if(typeof z!="object"||!(z instanceof n))throw new Error("bad call to strictFail");z.strict&&ie(z,V)}function se(z){z.strict||(z.tagName=z.tagName[z.looseCase]());var V=z.tags[z.tags.length-1]||z,te=z.tag={name:z.tagName,attributes:{}};z.opt.xmlns&&(te.ns=V.ns),z.attribList.length=0,S(z,"onopentagstart",te)}function fe(z,V){var te=z.indexOf(":"),ce=te<0?["",z]:z.split(":"),Z=ce[0],J=ce[1];return V&&z==="xmlns"&&(Z="xmlns",J=""),{prefix:Z,local:J}}function we(z){if(z.strict||(z.attribName=z.attribName[z.looseCase]()),z.attribList.indexOf(z.attribName)!==-1||z.tag.attributes.hasOwnProperty(z.attribName)){z.attribName=z.attribValue="";return}if(z.opt.xmlns){var V=fe(z.attribName,!0),te=V.prefix,ce=V.local;if(te==="xmlns")if(ce==="xml"&&z.attribValue!==h)Q(z,"xml: prefix must be bound to "+h+`
Actual: `+z.attribValue);else if(ce==="xmlns"&&z.attribValue!==y)Q(z,"xmlns: prefix must be bound to "+y+`
Actual: `+z.attribValue);else{var Z=z.tag,J=z.tags[z.tags.length-1]||z;Z.ns===J.ns&&(Z.ns=Object.create(J.ns)),Z.ns[ce]=z.attribValue}z.attribList.push([z.attribName,z.attribValue])}else z.tag.attributes[z.attribName]=z.attribValue,S(z,"onattribute",{name:z.attribName,value:z.attribValue});z.attribName=z.attribValue=""}function ve(z,V){if(z.opt.xmlns){var te=z.tag,ce=fe(z.tagName);te.prefix=ce.prefix,te.local=ce.local,te.uri=te.ns[ce.prefix]||"",te.prefix&&!te.uri&&(Q(z,"Unbound namespace prefix: "+JSON.stringify(z.tagName)),te.uri=ce.prefix);var Z=z.tags[z.tags.length-1]||z;te.ns&&Z.ns!==te.ns&&Object.keys(te.ns).forEach(function(re){S(z,"onopennamespace",{prefix:re,uri:te.ns[re]})});for(var J=0,Ee=z.attribList.length;J<Ee;J++){var H=z.attribList[J],be=H[0],B=H[1],j=fe(be,!0),R=j.prefix,W=j.local,G=R===""?"":te.ns[R]||"",ne={name:be,value:B,prefix:R,local:W,uri:G};R&&R!=="xmlns"&&!G&&(Q(z,"Unbound namespace prefix: "+JSON.stringify(R)),ne.uri=R),z.tag.attributes[be]=ne,S(z,"onattribute",ne)}z.attribList.length=0}z.tag.isSelfClosing=!!V,z.sawRoot=!0,z.tags.push(z.tag),S(z,"onopentag",z.tag),V||(!z.noscript&&z.tagName.toLowerCase()==="script"?z.state=A.SCRIPT:z.state=A.TEXT,z.tag=null,z.tagName=""),z.attribName=z.attribValue="",z.attribList.length=0}function M(z){if(!z.tagName){Q(z,"Weird empty close tag."),z.textNode+="</>",z.state=A.TEXT;return}if(z.script){if(z.tagName!=="script"){z.script+="</"+z.tagName+">",z.tagName="",z.state=A.SCRIPT;return}S(z,"onscript",z.script),z.script=""}var V=z.tags.length,te=z.tagName;z.strict||(te=te[z.looseCase]());for(var ce=te;V--;){var Z=z.tags[V];if(Z.name!==ce)Q(z,"Unexpected close tag");else break}if(V<0){Q(z,"Unmatched closing tag: "+z.tagName),z.textNode+="</"+z.tagName+">",z.state=A.TEXT;return}z.tagName=te;for(var J=z.tags.length;J-- >V;){var Ee=z.tag=z.tags.pop();z.tagName=z.tag.name,S(z,"onclosetag",z.tagName);var H={};for(var be in Ee.ns)H[be]=Ee.ns[be];var B=z.tags[z.tags.length-1]||z;z.opt.xmlns&&Ee.ns!==B.ns&&Object.keys(Ee.ns).forEach(function(j){var R=Ee.ns[j];S(z,"onclosenamespace",{prefix:j,uri:R})})}V===0&&(z.closedRoot=!0),z.tagName=z.attribValue=z.attribName="",z.attribList.length=0,z.state=A.TEXT}function K(z){var V=z.entity,te=V.toLowerCase(),ce,Z="";return z.ENTITIES[V]?z.ENTITIES[V]:z.ENTITIES[te]?z.ENTITIES[te]:(V=te,V.charAt(0)==="#"&&(V.charAt(1)==="x"?(V=V.slice(2),ce=parseInt(V,16),Z=ce.toString(16)):(V=V.slice(1),ce=parseInt(V,10),Z=ce.toString(10))),V=V.replace(/^0+/,""),isNaN(ce)||Z.toLowerCase()!==V?(Q(z,"Invalid character entity"),"&"+z.entity+";"):String.fromCodePoint(ce))}function ee(z,V){V==="<"?(z.state=A.OPEN_WAKA,z.startTagPosition=z.position):E(V)||(Q(z,"Non-whitespace before first tag."),z.textNode=V,z.state=A.TEXT)}function de(z,V){var te="";return V<z.length&&(te=z.charAt(V)),te}function ue(z){var V=this;if(this.error)throw this.error;if(V.closed)return ie(V,"Cannot write after close. Assign an onready handler.");if(z===null)return ae(V);typeof z=="object"&&(z=z.toString());for(var te=0,ce="";ce=de(z,te++),V.c=ce,!!ce;)switch(V.trackPosition&&(V.position++,ce===`
`?(V.line++,V.column=0):V.column++),V.state){case A.BEGIN:if(V.state=A.BEGIN_WHITESPACE,ce==="\uFEFF")continue;ee(V,ce);continue;case A.BEGIN_WHITESPACE:ee(V,ce);continue;case A.TEXT:if(V.sawRoot&&!V.closedRoot){for(var Z=te-1;ce&&ce!=="<"&&ce!=="&";)ce=de(z,te++),ce&&V.trackPosition&&(V.position++,ce===`
`?(V.line++,V.column=0):V.column++);V.textNode+=z.substring(Z,te-1)}ce==="<"&&!(V.sawRoot&&V.closedRoot&&!V.strict)?(V.state=A.OPEN_WAKA,V.startTagPosition=V.position):(!E(ce)&&(!V.sawRoot||V.closedRoot)&&Q(V,"Text data outside of root node."),ce==="&"?V.state=A.TEXT_ENTITY:V.textNode+=ce);continue;case A.SCRIPT:ce==="<"?V.state=A.SCRIPT_ENDING:V.script+=ce;continue;case A.SCRIPT_ENDING:ce==="/"?V.state=A.CLOSE_TAG:(V.script+="<"+ce,V.state=A.SCRIPT);continue;case A.OPEN_WAKA:if(ce==="!")V.state=A.SGML_DECL,V.sgmlDecl="";else if(!E(ce))if(C(b,ce))V.state=A.OPEN_TAG,V.tagName=ce;else if(ce==="/")V.state=A.CLOSE_TAG,V.tagName="";else if(ce==="?")V.state=A.PROC_INST,V.procInstName=V.procInstBody="";else{if(Q(V,"Unencoded <"),V.startTagPosition+1<V.position){var J=V.position-V.startTagPosition;ce=new Array(J).join(" ")+ce}V.textNode+="<"+ce,V.state=A.TEXT}continue;case A.SGML_DECL:(V.sgmlDecl+ce).toUpperCase()===f?(S(V,"onopencdata"),V.state=A.CDATA,V.sgmlDecl="",V.cdata=""):V.sgmlDecl+ce==="--"?(V.state=A.COMMENT,V.comment="",V.sgmlDecl=""):(V.sgmlDecl+ce).toUpperCase()===p?(V.state=A.DOCTYPE,(V.doctype||V.sawRoot)&&Q(V,"Inappropriately located doctype declaration"),V.doctype="",V.sgmlDecl=""):ce===">"?(S(V,"onsgmldeclaration",V.sgmlDecl),V.sgmlDecl="",V.state=A.TEXT):(P(ce)&&(V.state=A.SGML_DECL_QUOTED),V.sgmlDecl+=ce);continue;case A.SGML_DECL_QUOTED:ce===V.q&&(V.state=A.SGML_DECL,V.q=""),V.sgmlDecl+=ce;continue;case A.DOCTYPE:ce===">"?(V.state=A.TEXT,S(V,"ondoctype",V.doctype),V.doctype=!0):(V.doctype+=ce,ce==="["?V.state=A.DOCTYPE_DTD:P(ce)&&(V.state=A.DOCTYPE_QUOTED,V.q=ce));continue;case A.DOCTYPE_QUOTED:V.doctype+=ce,ce===V.q&&(V.q="",V.state=A.DOCTYPE);continue;case A.DOCTYPE_DTD:V.doctype+=ce,ce==="]"?V.state=A.DOCTYPE:P(ce)&&(V.state=A.DOCTYPE_DTD_QUOTED,V.q=ce);continue;case A.DOCTYPE_DTD_QUOTED:V.doctype+=ce,ce===V.q&&(V.state=A.DOCTYPE_DTD,V.q="");continue;case A.COMMENT:ce==="-"?V.state=A.COMMENT_ENDING:V.comment+=ce;continue;case A.COMMENT_ENDING:ce==="-"?(V.state=A.COMMENT_ENDED,V.comment=k(V.opt,V.comment),V.comment&&S(V,"oncomment",V.comment),V.comment=""):(V.comment+="-"+ce,V.state=A.COMMENT);continue;case A.COMMENT_ENDED:ce!==">"?(Q(V,"Malformed comment"),V.comment+="--"+ce,V.state=A.COMMENT):V.state=A.TEXT;continue;case A.CDATA:ce==="]"?V.state=A.CDATA_ENDING:V.cdata+=ce;continue;case A.CDATA_ENDING:ce==="]"?V.state=A.CDATA_ENDING_2:(V.cdata+="]"+ce,V.state=A.CDATA);continue;case A.CDATA_ENDING_2:ce===">"?(V.cdata&&S(V,"oncdata",V.cdata),S(V,"onclosecdata"),V.cdata="",V.state=A.TEXT):ce==="]"?V.cdata+="]":(V.cdata+="]]"+ce,V.state=A.CDATA);continue;case A.PROC_INST:ce==="?"?V.state=A.PROC_INST_ENDING:E(ce)?V.state=A.PROC_INST_BODY:V.procInstName+=ce;continue;case A.PROC_INST_BODY:if(!V.procInstBody&&E(ce))continue;ce==="?"?V.state=A.PROC_INST_ENDING:V.procInstBody+=ce;continue;case A.PROC_INST_ENDING:ce===">"?(S(V,"onprocessinginstruction",{name:V.procInstName,body:V.procInstBody}),V.procInstName=V.procInstBody="",V.state=A.TEXT):(V.procInstBody+="?"+ce,V.state=A.PROC_INST_BODY);continue;case A.OPEN_TAG:C(m,ce)?V.tagName+=ce:(se(V),ce===">"?ve(V):ce==="/"?V.state=A.OPEN_TAG_SLASH:(E(ce)||Q(V,"Invalid character in tag name"),V.state=A.ATTRIB));continue;case A.OPEN_TAG_SLASH:ce===">"?(ve(V,!0),M(V)):(Q(V,"Forward-slash in opening tag not followed by >"),V.state=A.ATTRIB);continue;case A.ATTRIB:if(E(ce))continue;ce===">"?ve(V):ce==="/"?V.state=A.OPEN_TAG_SLASH:C(b,ce)?(V.attribName=ce,V.attribValue="",V.state=A.ATTRIB_NAME):Q(V,"Invalid attribute name");continue;case A.ATTRIB_NAME:ce==="="?V.state=A.ATTRIB_VALUE:ce===">"?(Q(V,"Attribute without value"),V.attribValue=V.attribName,we(V),ve(V)):E(ce)?V.state=A.ATTRIB_NAME_SAW_WHITE:C(m,ce)?V.attribName+=ce:Q(V,"Invalid attribute name");continue;case A.ATTRIB_NAME_SAW_WHITE:if(ce==="=")V.state=A.ATTRIB_VALUE;else{if(E(ce))continue;Q(V,"Attribute without value"),V.tag.attributes[V.attribName]="",V.attribValue="",S(V,"onattribute",{name:V.attribName,value:""}),V.attribName="",ce===">"?ve(V):C(b,ce)?(V.attribName=ce,V.state=A.ATTRIB_NAME):(Q(V,"Invalid attribute name"),V.state=A.ATTRIB)}continue;case A.ATTRIB_VALUE:if(E(ce))continue;P(ce)?(V.q=ce,V.state=A.ATTRIB_VALUE_QUOTED):(Q(V,"Unquoted attribute value"),V.state=A.ATTRIB_VALUE_UNQUOTED,V.attribValue=ce);continue;case A.ATTRIB_VALUE_QUOTED:if(ce!==V.q){ce==="&"?V.state=A.ATTRIB_VALUE_ENTITY_Q:V.attribValue+=ce;continue}we(V),V.q="",V.state=A.ATTRIB_VALUE_CLOSED;continue;case A.ATTRIB_VALUE_CLOSED:E(ce)?V.state=A.ATTRIB:ce===">"?ve(V):ce==="/"?V.state=A.OPEN_TAG_SLASH:C(b,ce)?(Q(V,"No whitespace between attributes"),V.attribName=ce,V.attribValue="",V.state=A.ATTRIB_NAME):Q(V,"Invalid attribute name");continue;case A.ATTRIB_VALUE_UNQUOTED:if(!$(ce)){ce==="&"?V.state=A.ATTRIB_VALUE_ENTITY_U:V.attribValue+=ce;continue}we(V),ce===">"?ve(V):V.state=A.ATTRIB;continue;case A.CLOSE_TAG:if(V.tagName)ce===">"?M(V):C(m,ce)?V.tagName+=ce:V.script?(V.script+="</"+V.tagName,V.tagName="",V.state=A.SCRIPT):(E(ce)||Q(V,"Invalid tagname in closing tag"),V.state=A.CLOSE_TAG_SAW_WHITE);else{if(E(ce))continue;N(b,ce)?V.script?(V.script+="</"+ce,V.state=A.SCRIPT):Q(V,"Invalid tagname in closing tag."):V.tagName=ce}continue;case A.CLOSE_TAG_SAW_WHITE:if(E(ce))continue;ce===">"?M(V):Q(V,"Invalid characters in closing tag");continue;case A.TEXT_ENTITY:case A.ATTRIB_VALUE_ENTITY_Q:case A.ATTRIB_VALUE_ENTITY_U:var Ee,H;switch(V.state){case A.TEXT_ENTITY:Ee=A.TEXT,H="textNode";break;case A.ATTRIB_VALUE_ENTITY_Q:Ee=A.ATTRIB_VALUE_QUOTED,H="attribValue";break;case A.ATTRIB_VALUE_ENTITY_U:Ee=A.ATTRIB_VALUE_UNQUOTED,H="attribValue";break}ce===";"?(V[H]+=K(V),V.entity="",V.state=Ee):C(V.entity.length?w:v,ce)?V.entity+=ce:(Q(V,"Invalid character in entity name"),V[H]+="&"+V.entity+ce,V.entity="",V.state=Ee);continue;default:throw new Error(V,"Unknown state: "+V.state)}return V.position>=V.bufferCheckPosition&&i(V),V}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var z=String.fromCharCode,V=Math.floor,te=function(){var ce=16384,Z=[],J,Ee,H=-1,be=arguments.length;if(!be)return"";for(var B="";++H<be;){var j=Number(arguments[H]);if(!isFinite(j)||j<0||j>1114111||V(j)!==j)throw RangeError("Invalid code point: "+j);j<=65535?Z.push(j):(j-=65536,J=(j>>10)+55296,Ee=j%1024+56320,Z.push(J,Ee)),(H+1===be||Z.length>ce)&&(B+=z.apply(null,Z),Z.length=0)}return B};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:te,configurable:!0,writable:!0}):String.fromCodePoint=te}()})(t)}(L_)),L_}var JE,ND;function M6(){return ND||(ND=1,JE={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),JE}var QE,TD;function F6(){if(TD)return QE;TD=1;var t=M6().isArray;return QE={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},QE}var ZE,PD;function sG(){if(PD)return ZE;PD=1;var t=uAe(),e=F6(),r=M6().isArray,n,i;function a(m){return n=e.copyOptions(m),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function s(m){var v=Number(m);if(!isNaN(v))return v;var w=m.toLowerCase();return w==="true"?!0:w==="false"?!1:m}function o(m,v){var w;if(n.compact){if(!i[n[m+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[m+"Key"])!==-1:n.alwaysArray)&&(i[n[m+"Key"]]=[]),i[n[m+"Key"]]&&!r(i[n[m+"Key"]])&&(i[n[m+"Key"]]=[i[n[m+"Key"]]]),m+"Fn"in n&&typeof v=="string"&&(v=n[m+"Fn"](v,i)),m==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(w in v)if(v.hasOwnProperty(w))if("instructionFn"in n)v[w]=n.instructionFn(v[w],w,i);else{var E=v[w];delete v[w],v[n.instructionNameFn(w,E,i)]=E}}r(i[n[m+"Key"]])?i[n[m+"Key"]].push(v):i[n[m+"Key"]]=v}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var P={};if(P[n.typeKey]=m,m==="instruction"){for(w in v)if(v.hasOwnProperty(w))break;P[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(w,v,i):w,n.instructionHasAttributes?(P[n.attributesKey]=v[w][n.attributesKey],"instructionFn"in n&&(P[n.attributesKey]=n.instructionFn(P[n.attributesKey],w,i))):("instructionFn"in n&&(v[w]=n.instructionFn(v[w],w,i)),P[n.instructionKey]=v[w])}else m+"Fn"in n&&(v=n[m+"Fn"](v,i)),P[n[m+"Key"]]=v;n.addParent&&(P[n.parentKey]=i),i[n.elementsKey].push(P)}}function l(m){if("attributesFn"in n&&m&&(m=n.attributesFn(m,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&m){var v;for(v in m)if(m.hasOwnProperty(v)&&(n.trim&&(m[v]=m[v].trim()),n.nativeTypeAttributes&&(m[v]=s(m[v])),"attributeValueFn"in n&&(m[v]=n.attributeValueFn(m[v],v,i)),"attributeNameFn"in n)){var w=m[v];delete m[v],m[n.attributeNameFn(v,m[v],i)]=w}}return m}function c(m){var v={};if(m.body&&(m.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var w=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,E;(E=w.exec(m.body))!==null;)v[E[1]]=E[2]||E[3]||E[4];v=l(v)}if(m.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(v).length&&(i[n.declarationKey][n.attributesKey]=v),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(m.body=m.body.trim());var P={};n.instructionHasAttributes&&Object.keys(v).length?(P[m.name]={},P[m.name][n.attributesKey]=v):P[m.name]=m.body,o("instruction",P)}}function u(m,v){var w;if(typeof m=="object"&&(v=m.attributes,m=m.name),v=l(v),"elementNameFn"in n&&(m=n.elementNameFn(m,i)),n.compact){if(w={},!n.ignoreAttributes&&v&&Object.keys(v).length){w[n.attributesKey]={};var E;for(E in v)v.hasOwnProperty(E)&&(w[n.attributesKey][E]=v[E])}!(m in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(m)!==-1:n.alwaysArray)&&(i[m]=[]),i[m]&&!r(i[m])&&(i[m]=[i[m]]),r(i[m])?i[m].push(w):i[m]=w}else i[n.elementsKey]||(i[n.elementsKey]=[]),w={},w[n.typeKey]="element",w[n.nameKey]=m,!n.ignoreAttributes&&v&&Object.keys(v).length&&(w[n.attributesKey]=v),n.alwaysChildren&&(w[n.elementsKey]=[]),i[n.elementsKey].push(w);w[n.parentKey]=i,i=w}function f(m){n.ignoreText||!m.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(m=m.trim()),n.nativeType&&(m=s(m)),n.sanitize&&(m=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",m))}function p(m){n.ignoreComment||(n.trim&&(m=m.trim()),o("comment",m))}function h(m){var v=i[n.parentKey];n.addParent||delete i[n.parentKey],i=v}function y(m){n.ignoreCdata||(n.trim&&(m=m.trim()),o("cdata",m))}function g(m){n.ignoreDoctype||(m=m.replace(/^ /,""),n.trim&&(m=m.trim()),o("doctype",m))}function b(m){m.note=m}return ZE=function(m,v){var w=t.parser(!0,{}),E={};if(i=E,n=a(v),w.opt={strictEntities:!0},w.onopentag=u,w.ontext=f,w.oncomment=p,w.onclosetag=h,w.onerror=b,w.oncdata=y,w.ondoctype=g,w.onprocessinginstruction=c,w.write(m).close(),E[n.elementsKey]){var P=E[n.elementsKey];delete E[n.elementsKey],E[n.elementsKey]=P,delete E.text}return E},ZE}var eS,CD;function dAe(){if(CD)return eS;CD=1;var t=F6(),e=sG();function r(n){var i=t.copyOptions(n);return t.ensureSpacesExists(i),i}return eS=function(n,i){var a,s,o,l;return a=r(i),s=e(n,a),l="compact"in a&&a.compact?"_parent":"parent","addParent"in a&&a.addParent?o=JSON.stringify(s,function(c,u){return c===l?"_":u},a.spaces):o=JSON.stringify(s,null,a.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},eS}var tS,kD;function oG(){if(kD)return tS;kD=1;var t=F6(),e=M6().isArray,r,n;function i(w){var E=t.copyOptions(w);return t.ensureFlagExists("ignoreDeclaration",E),t.ensureFlagExists("ignoreInstruction",E),t.ensureFlagExists("ignoreAttributes",E),t.ensureFlagExists("ignoreText",E),t.ensureFlagExists("ignoreComment",E),t.ensureFlagExists("ignoreCdata",E),t.ensureFlagExists("ignoreDoctype",E),t.ensureFlagExists("compact",E),t.ensureFlagExists("indentText",E),t.ensureFlagExists("indentCdata",E),t.ensureFlagExists("indentAttributes",E),t.ensureFlagExists("indentInstruction",E),t.ensureFlagExists("fullTagEmptyElement",E),t.ensureFlagExists("noQuotesForNativeAttributes",E),t.ensureSpacesExists(E),typeof E.spaces=="number"&&(E.spaces=Array(E.spaces+1).join(" ")),t.ensureKeyExists("declaration",E),t.ensureKeyExists("instruction",E),t.ensureKeyExists("attributes",E),t.ensureKeyExists("text",E),t.ensureKeyExists("comment",E),t.ensureKeyExists("cdata",E),t.ensureKeyExists("doctype",E),t.ensureKeyExists("type",E),t.ensureKeyExists("name",E),t.ensureKeyExists("elements",E),t.checkFnExists("doctype",E),t.checkFnExists("instruction",E),t.checkFnExists("cdata",E),t.checkFnExists("comment",E),t.checkFnExists("text",E),t.checkFnExists("instructionName",E),t.checkFnExists("elementName",E),t.checkFnExists("attributeName",E),t.checkFnExists("attributeValue",E),t.checkFnExists("attributes",E),t.checkFnExists("fullTagEmptyElement",E),E}function a(w,E,P){return(!P&&w.spaces?`
`:"")+Array(E+1).join(w.spaces)}function s(w,E,P){if(E.ignoreAttributes)return"";"attributesFn"in E&&(w=E.attributesFn(w,n,r));var $,C,N,A,D=[];for($ in w)w.hasOwnProperty($)&&w[$]!==null&&w[$]!==void 0&&(A=E.noQuotesForNativeAttributes&&typeof w[$]!="string"?"":'"',C=""+w[$],C=C.replace(/"/g,"&quot;"),N="attributeNameFn"in E?E.attributeNameFn($,C,n,r):$,D.push(E.spaces&&E.indentAttributes?a(E,P+1,!1):" "),D.push(N+"="+A+("attributeValueFn"in E?E.attributeValueFn(C,$,n,r):C)+A));return w&&Object.keys(w).length&&E.spaces&&E.indentAttributes&&D.push(a(E,P,!1)),D.join("")}function o(w,E,P){return r=w,n="xml",E.ignoreDeclaration?"":"<?xml"+s(w[E.attributesKey],E,P)+"?>"}function l(w,E,P){if(E.ignoreInstruction)return"";var $;for($ in w)if(w.hasOwnProperty($))break;var C="instructionNameFn"in E?E.instructionNameFn($,w[$],n,r):$;if(typeof w[$]=="object")return r=w,n=C,"<?"+C+s(w[$][E.attributesKey],E,P)+"?>";var N=w[$]?w[$]:"";return"instructionFn"in E&&(N=E.instructionFn(N,$,n,r)),"<?"+C+(N?" "+N:"")+"?>"}function c(w,E){return E.ignoreComment?"":"<!--"+("commentFn"in E?E.commentFn(w,n,r):w)+"-->"}function u(w,E){return E.ignoreCdata?"":"<![CDATA["+("cdataFn"in E?E.cdataFn(w,n,r):w.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(w,E){return E.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in E?E.doctypeFn(w,n,r):w)+">"}function p(w,E){return E.ignoreText?"":(w=""+w,w=w.replace(/&amp;/g,"&"),w=w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in E?E.textFn(w,n,r):w)}function h(w,E){var P;if(w.elements&&w.elements.length)for(P=0;P<w.elements.length;++P)switch(w.elements[P][E.typeKey]){case"text":if(E.indentText)return!0;break;case"cdata":if(E.indentCdata)return!0;break;case"instruction":if(E.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function y(w,E,P){r=w,n=w.name;var $=[],C="elementNameFn"in E?E.elementNameFn(w.name,w):w.name;$.push("<"+C),w[E.attributesKey]&&$.push(s(w[E.attributesKey],E,P));var N=w[E.elementsKey]&&w[E.elementsKey].length||w[E.attributesKey]&&w[E.attributesKey]["xml:space"]==="preserve";return N||("fullTagEmptyElementFn"in E?N=E.fullTagEmptyElementFn(w.name,w):N=E.fullTagEmptyElement),N?($.push(">"),w[E.elementsKey]&&w[E.elementsKey].length&&($.push(g(w[E.elementsKey],E,P+1)),r=w,n=w.name),$.push(E.spaces&&h(w,E)?`
`+Array(P+1).join(E.spaces):""),$.push("</"+C+">")):$.push("/>"),$.join("")}function g(w,E,P,$){return w.reduce(function(C,N){var A=a(E,P,$&&!C);switch(N.type){case"element":return C+A+y(N,E,P);case"comment":return C+A+c(N[E.commentKey],E);case"doctype":return C+A+f(N[E.doctypeKey],E);case"cdata":return C+(E.indentCdata?A:"")+u(N[E.cdataKey],E);case"text":return C+(E.indentText?A:"")+p(N[E.textKey],E);case"instruction":var D={};return D[N[E.nameKey]]=N[E.attributesKey]?N:N[E.instructionKey],C+(E.indentInstruction?A:"")+l(D,E,P)}},"")}function b(w,E,P){var $;for($ in w)if(w.hasOwnProperty($))switch($){case E.parentKey:case E.attributesKey:break;case E.textKey:if(E.indentText||P)return!0;break;case E.cdataKey:if(E.indentCdata||P)return!0;break;case E.instructionKey:if(E.indentInstruction||P)return!0;break;case E.doctypeKey:case E.commentKey:return!0;default:return!0}return!1}function m(w,E,P,$,C){r=w,n=E;var N="elementNameFn"in P?P.elementNameFn(E,w):E;if(typeof w>"u"||w===null||w==="")return"fullTagEmptyElementFn"in P&&P.fullTagEmptyElementFn(E,w)||P.fullTagEmptyElement?"<"+N+"></"+N+">":"<"+N+"/>";var A=[];if(E){if(A.push("<"+N),typeof w!="object")return A.push(">"+p(w,P)+"</"+N+">"),A.join("");w[P.attributesKey]&&A.push(s(w[P.attributesKey],P,$));var D=b(w,P,!0)||w[P.attributesKey]&&w[P.attributesKey]["xml:space"]==="preserve";if(D||("fullTagEmptyElementFn"in P?D=P.fullTagEmptyElementFn(E,w):D=P.fullTagEmptyElement),D)A.push(">");else return A.push("/>"),A.join("")}return A.push(v(w,P,$+1,!1)),r=w,n=E,E&&A.push((C?a(P,$,!1):"")+"</"+N+">"),A.join("")}function v(w,E,P,$){var C,N,A,D=[];for(N in w)if(w.hasOwnProperty(N))for(A=e(w[N])?w[N]:[w[N]],C=0;C<A.length;++C){switch(N){case E.declarationKey:D.push(o(A[C],E,P));break;case E.instructionKey:D.push((E.indentInstruction?a(E,P,$):"")+l(A[C],E,P));break;case E.attributesKey:case E.parentKey:break;case E.textKey:D.push((E.indentText?a(E,P,$):"")+p(A[C],E));break;case E.cdataKey:D.push((E.indentCdata?a(E,P,$):"")+u(A[C],E));break;case E.doctypeKey:D.push(a(E,P,$)+f(A[C],E));break;case E.commentKey:D.push(a(E,P,$)+c(A[C],E));break;default:D.push(a(E,P,$)+m(A[C],N,E,P,b(A[C],E)))}$=$&&!D.length}return D.join("")}return tS=function(w,E){E=i(E);var P=[];return r=w,n="_root_",E.compact?P.push(v(w,E,0,!0)):(w[E.declarationKey]&&P.push(o(w[E.declarationKey],E,0)),w[E.elementsKey]&&w[E.elementsKey].length&&P.push(g(w[E.elementsKey],E,0,!P.length))),P.join("")},tS}var rS,ID;function fAe(){if(ID)return rS;ID=1;var t=oG();return rS=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},rS}var nS,jD;function hAe(){if(jD)return nS;jD=1;var t=sG(),e=dAe(),r=oG(),n=fAe();return nS={xml2js:t,xml2json:e,js2xml:r,json2xml:n},nS}var lG=hAe();const B6=t=>{switch(t.type){case void 0:case"element":const e=new mAe(t.name,t.attributes),r=t.elements||[];for(const n of r){const i=B6(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class pAe extends Pt{}class mAe extends Qe{static fromXmlString(e){const r=lG.xml2js(e,{compact:!1});return B6(r)}constructor(e,r){super(e),r&&this.root.push(new pAe(r))}push(e){this.root.push(e)}}class gAe extends Qe{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class cG extends Qe{constructor(e,r){super(e),r&&(this.root=r.root)}}const Sa=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},B2=t=>{const e=Sa(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},uG=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},OD=t=>uG(t,1),dG=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},fG=t=>{const e=dG(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},pm=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return uG(e,3)},xf=t=>typeof t=="string"?dG(t):Sa(t),yAe=t=>typeof t=="string"?fG(t):B2(t),fo=t=>typeof t=="string"?fG(t):B2(t),vAe=B2,bAe=B2,wAe=t=>t.toISOString();class Ze extends Qe{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new wn({val:r}))}}class iS extends Qe{constructor(e,r){super(e),this.root.push(new wn({val:yAe(r)}))}}class Mp extends Qe{constructor(e,r){super(e),this.root.push(new wn({val:r}))}}const jg=(t,e)=>new wl({name:t,attributes:{value:{key:"w:val",value:e}}});class y0 extends Qe{constructor(e,r){super(e),this.root.push(new wn({val:r}))}}class Yd extends Qe{constructor(e,r){super(e),this.root.push(r)}}class wl extends Qe{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new D2(r)),n&&this.root.push(...n)}}const Gt={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class xAe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class _Ae extends Qe{constructor(e){super("w:jc"),this.root.push(new xAe({val:e}))}}class tn extends Qe{constructor(e,{color:r,size:n,space:i,style:a}){super(e),this.root.push(new EAe({style:a,color:r===void 0?void 0:pm(r),size:n===void 0?void 0:vAe(n),space:i===void 0?void 0:bAe(i)}))}}class EAe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const $6={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class SAe extends L2{constructor(e){super("w:pBdr"),e.top&&this.root.push(new tn("w:top",e.top)),e.bottom&&this.root.push(new tn("w:bottom",e.bottom)),e.left&&this.root.push(new tn("w:left",e.left)),e.right&&this.root.push(new tn("w:right",e.right))}}class AAe extends Qe{constructor(){super("w:pBdr");const e=new tn("w:bottom",{color:"auto",space:1,style:$6.SINGLE,size:6});this.root.push(e)}}class NAe extends Qe{constructor({start:e,end:r,left:n,right:i,hanging:a,firstLine:s}){super("w:ind"),this.root.push(new D2({start:{key:"w:start",value:e===void 0?void 0:xf(e)},end:{key:"w:end",value:r===void 0?void 0:xf(r)},left:{key:"w:left",value:n===void 0?void 0:xf(n)},right:{key:"w:right",value:i===void 0?void 0:xf(i)},hanging:{key:"w:hanging",value:a===void 0?void 0:fo(a)},firstLine:{key:"w:firstLine",value:s===void 0?void 0:fo(s)}}))}}let TAe=class extends Qe{constructor(){super("w:br")}};const U6={BEGIN:"begin",END:"end",SEPARATE:"separate"};class V6 extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class u1 extends Qe{constructor(e){super("w:fldChar"),this.root.push(new V6({type:U6.BEGIN,dirty:e}))}}class d1 extends Qe{constructor(e){super("w:fldChar"),this.root.push(new V6({type:U6.SEPARATE,dirty:e}))}}class f1 extends Qe{constructor(e){super("w:fldChar"),this.root.push(new V6({type:U6.END,dirty:e}))}}const mm={DEFAULT:"default",PRESERVE:"preserve"};class gm extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{space:"xml:space"})}}class PAe extends Qe{constructor(){super("w:instrText"),this.root.push(new gm({space:mm.PRESERVE})),this.root.push("PAGE")}}class CAe extends Qe{constructor(){super("w:instrText"),this.root.push(new gm({space:mm.PRESERVE})),this.root.push("NUMPAGES")}}class kAe extends Qe{constructor(){super("w:instrText"),this.root.push(new gm({space:mm.PRESERVE})),this.root.push("SECTIONPAGES")}}class IAe extends Qe{constructor(){super("w:instrText"),this.root.push(new gm({space:mm.PRESERVE})),this.root.push("SECTION")}}class jAe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class hG extends Qe{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new jAe({fill:e===void 0?void 0:pm(e),color:r===void 0?void 0:pm(r),type:n}))}}class OAe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const RAe={DOT:"dot"};class LAe extends Qe{constructor(e){super("w:em"),this.root.push(new wn({val:e}))}}class DAe extends LAe{constructor(e=RAe.DOT){super(e)}}class MAe extends Qe{constructor(e){super("w:spacing"),this.root.push(new wn({val:xf(e)}))}}class FAe extends Qe{constructor(e){super("w:color"),this.root.push(new wn({val:pm(e)}))}}class BAe extends Qe{constructor(e){super("w:highlight"),this.root.push(new wn({val:e}))}}class $Ae extends Qe{constructor(e){super("w:highlightCs"),this.root.push(new wn({val:e}))}}const UAe=t=>new wl({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class RD extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class aS extends Qe{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new RD({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new RD(n))}}}let pG=class extends Qe{constructor(e){super("w:vertAlign"),this.root.push(new wn({val:e}))}};class VAe extends pG{constructor(){super("superscript")}}class zAe extends pG{constructor(){super("subscript")}}const mG={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class qAe extends Qe{constructor(e=mG.SINGLE,r){super("w:u"),this.root.push(new wn({val:e,color:r===void 0?void 0:pm(r)}))}}class dh extends L2{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new Mp("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new aS(e.font)):"name"in e.font?this.push(new aS(e.font.name,e.font.hint)):this.push(new aS(e.font))),e.bold!==void 0&&this.push(new Ze("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Ze("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new Ze("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Ze("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new Ze("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Ze("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Ze("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Ze("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new Ze("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Ze("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new Ze("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new Ze("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Ze("w:vanish",e.vanish)),e.color&&this.push(new FAe(e.color)),e.characterSpacing&&this.push(new MAe(e.characterSpacing)),e.scale!==void 0&&this.push(new y0("w:w",e.scale)),e.kern&&this.push(new iS("w:kern",e.kern)),e.position&&this.push(new Mp("w:position",e.position)),e.size!==void 0&&this.push(new iS("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new iS("w:szCs",i)),e.highlight&&this.push(new BAe(e.highlight));const a=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;a&&this.push(new $Ae(a)),e.underline&&this.push(new qAe(e.underline.type,e.underline.color)),e.effect&&this.push(new Mp("w:effect",e.effect)),e.border&&this.push(new tn("w:bdr",e.border)),e.shading&&this.push(new hG(e.shading)),e.subScript&&this.push(new zAe),e.superScript&&this.push(new VAe),e.rightToLeft!==void 0&&this.push(new Ze("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new DAe(e.emphasisMark.type)),e.language&&this.push(UAe(e.language)),e.specVanish&&this.push(new Ze("w:specVanish",e.vanish)),e.math&&this.push(new Ze("w:oMath",e.math)),e.revision&&this.push(new WAe(e.revision))}push(e){this.root.push(e)}}class WAe extends Qe{constructor(e){super("w:rPrChange"),this.root.push(new OAe({id:e.id,author:e.author,date:e.date})),this.addChildElement(new dh(e))}}class LD extends Qe{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new gm({space:mm.PRESERVE})),this.root.push(e)):(this.root.push(new gm({space:(r=e.space)!=null?r:mm.DEFAULT})),this.root.push(e.text))}}const h1={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class $2 extends Qe{constructor(e){if(super("w:r"),We(this,"properties"),this.properties=new dh(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new TAe);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case h1.CURRENT:this.root.push(new u1),this.root.push(new PAe),this.root.push(new d1),this.root.push(new f1);break;case h1.TOTAL_PAGES:this.root.push(new u1),this.root.push(new CAe),this.root.push(new d1),this.root.push(new f1);break;case h1.TOTAL_PAGES_IN_SECTION:this.root.push(new u1),this.root.push(new kAe),this.root.push(new d1),this.root.push(new f1);break;case h1.CURRENT_SECTION:this.root.push(new u1),this.root.push(new IAe),this.root.push(new d1),this.root.push(new f1);break;default:this.root.push(new LD(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new LD(e.text))}}class Lt extends $2{constructor(e){super(typeof e=="string"?{text:e}:e)}}var sS={},vr={},oS,DD;function Wy(){if(DD)return oS;DD=1,oS=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},oS}var MD;function Al(){if(MD)return vr;MD=1;var t=Wy(),e=Nd();vr.inherits=e;function r(S,O){return(S.charCodeAt(O)&64512)!==55296||O<0||O+1>=S.length?!1:(S.charCodeAt(O+1)&64512)===56320}function n(S,O){if(Array.isArray(S))return S.slice();if(!S)return[];var k=[];if(typeof S=="string")if(O){if(O==="hex")for(S=S.replace(/[^a-z0-9]+/ig,""),S.length%2!==0&&(S="0"+S),ae=0;ae<S.length;ae+=2)k.push(parseInt(S[ae]+S[ae+1],16))}else for(var ie=0,ae=0;ae<S.length;ae++){var Q=S.charCodeAt(ae);Q<128?k[ie++]=Q:Q<2048?(k[ie++]=Q>>6|192,k[ie++]=Q&63|128):r(S,ae)?(Q=65536+((Q&1023)<<10)+(S.charCodeAt(++ae)&1023),k[ie++]=Q>>18|240,k[ie++]=Q>>12&63|128,k[ie++]=Q>>6&63|128,k[ie++]=Q&63|128):(k[ie++]=Q>>12|224,k[ie++]=Q>>6&63|128,k[ie++]=Q&63|128)}else for(ae=0;ae<S.length;ae++)k[ae]=S[ae]|0;return k}vr.toArray=n;function i(S){for(var O="",k=0;k<S.length;k++)O+=o(S[k].toString(16));return O}vr.toHex=i;function a(S){var O=S>>>24|S>>>8&65280|S<<8&16711680|(S&255)<<24;return O>>>0}vr.htonl=a;function s(S,O){for(var k="",ie=0;ie<S.length;ie++){var ae=S[ie];O==="little"&&(ae=a(ae)),k+=l(ae.toString(16))}return k}vr.toHex32=s;function o(S){return S.length===1?"0"+S:S}vr.zero2=o;function l(S){return S.length===7?"0"+S:S.length===6?"00"+S:S.length===5?"000"+S:S.length===4?"0000"+S:S.length===3?"00000"+S:S.length===2?"000000"+S:S.length===1?"0000000"+S:S}vr.zero8=l;function c(S,O,k,ie){var ae=k-O;t(ae%4===0);for(var Q=new Array(ae/4),se=0,fe=O;se<Q.length;se++,fe+=4){var we;ie==="big"?we=S[fe]<<24|S[fe+1]<<16|S[fe+2]<<8|S[fe+3]:we=S[fe+3]<<24|S[fe+2]<<16|S[fe+1]<<8|S[fe],Q[se]=we>>>0}return Q}vr.join32=c;function u(S,O){for(var k=new Array(S.length*4),ie=0,ae=0;ie<S.length;ie++,ae+=4){var Q=S[ie];O==="big"?(k[ae]=Q>>>24,k[ae+1]=Q>>>16&255,k[ae+2]=Q>>>8&255,k[ae+3]=Q&255):(k[ae+3]=Q>>>24,k[ae+2]=Q>>>16&255,k[ae+1]=Q>>>8&255,k[ae]=Q&255)}return k}vr.split32=u;function f(S,O){return S>>>O|S<<32-O}vr.rotr32=f;function p(S,O){return S<<O|S>>>32-O}vr.rotl32=p;function h(S,O){return S+O>>>0}vr.sum32=h;function y(S,O,k){return S+O+k>>>0}vr.sum32_3=y;function g(S,O,k,ie){return S+O+k+ie>>>0}vr.sum32_4=g;function b(S,O,k,ie,ae){return S+O+k+ie+ae>>>0}vr.sum32_5=b;function m(S,O,k,ie){var ae=S[O],Q=S[O+1],se=ie+Q>>>0,fe=(se<ie?1:0)+k+ae;S[O]=fe>>>0,S[O+1]=se}vr.sum64=m;function v(S,O,k,ie){var ae=O+ie>>>0,Q=(ae<O?1:0)+S+k;return Q>>>0}vr.sum64_hi=v;function w(S,O,k,ie){var ae=O+ie;return ae>>>0}vr.sum64_lo=w;function E(S,O,k,ie,ae,Q,se,fe){var we=0,ve=O;ve=ve+ie>>>0,we+=ve<O?1:0,ve=ve+Q>>>0,we+=ve<Q?1:0,ve=ve+fe>>>0,we+=ve<fe?1:0;var M=S+k+ae+se+we;return M>>>0}vr.sum64_4_hi=E;function P(S,O,k,ie,ae,Q,se,fe){var we=O+ie+Q+fe;return we>>>0}vr.sum64_4_lo=P;function $(S,O,k,ie,ae,Q,se,fe,we,ve){var M=0,K=O;K=K+ie>>>0,M+=K<O?1:0,K=K+Q>>>0,M+=K<Q?1:0,K=K+fe>>>0,M+=K<fe?1:0,K=K+ve>>>0,M+=K<ve?1:0;var ee=S+k+ae+se+we+M;return ee>>>0}vr.sum64_5_hi=$;function C(S,O,k,ie,ae,Q,se,fe,we,ve){var M=O+ie+Q+fe+ve;return M>>>0}vr.sum64_5_lo=C;function N(S,O,k){var ie=O<<32-k|S>>>k;return ie>>>0}vr.rotr64_hi=N;function A(S,O,k){var ie=S<<32-k|O>>>k;return ie>>>0}vr.rotr64_lo=A;function D(S,O,k){return S>>>k}vr.shr64_hi=D;function F(S,O,k){var ie=S<<32-k|O>>>k;return ie>>>0}return vr.shr64_lo=F,vr}var lS={},FD;function Hy(){if(FD)return lS;FD=1;var t=Al(),e=Wy();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return lS.BlockHash=r,r.prototype.update=function(i,a){if(i=t.toArray(i,a),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var s=i.length%this._delta8;this.pending=i.slice(i.length-s,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-s,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,a=this._delta8,s=a-(i+this.padLength)%a,o=new Array(s+this.padLength);o[0]=128;for(var l=1;l<s;l++)o[l]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)o[l++]=0;o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=i>>>24&255,o[l++]=i>>>16&255,o[l++]=i>>>8&255,o[l++]=i&255}else for(o[l++]=i&255,o[l++]=i>>>8&255,o[l++]=i>>>16&255,o[l++]=i>>>24&255,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,c=8;c<this.padLength;c++)o[l++]=0;return o},lS}var Xd={},zo={},BD;function gG(){if(BD)return zo;BD=1;var t=Al(),e=t.rotr32;function r(u,f,p,h){if(u===0)return n(f,p,h);if(u===1||u===3)return a(f,p,h);if(u===2)return i(f,p,h)}zo.ft_1=r;function n(u,f,p){return u&f^~u&p}zo.ch32=n;function i(u,f,p){return u&f^u&p^f&p}zo.maj32=i;function a(u,f,p){return u^f^p}zo.p32=a;function s(u){return e(u,2)^e(u,13)^e(u,22)}zo.s0_256=s;function o(u){return e(u,6)^e(u,11)^e(u,25)}zo.s1_256=o;function l(u){return e(u,7)^e(u,18)^u>>>3}zo.g0_256=l;function c(u){return e(u,17)^e(u,19)^u>>>10}return zo.g1_256=c,zo}var cS,$D;function HAe(){if($D)return cS;$D=1;var t=Al(),e=Hy(),r=gG(),n=t.rotl32,i=t.sum32,a=t.sum32_5,s=r.ft_1,o=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(c,o),cS=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(f,p){for(var h=this.W,y=0;y<16;y++)h[y]=f[p+y];for(;y<h.length;y++)h[y]=n(h[y-3]^h[y-8]^h[y-14]^h[y-16],1);var g=this.h[0],b=this.h[1],m=this.h[2],v=this.h[3],w=this.h[4];for(y=0;y<h.length;y++){var E=~~(y/20),P=a(n(g,5),s(E,b,m,v),w,h[y],l[E]);w=v,v=m,m=n(b,30),b=g,g=P}this.h[0]=i(this.h[0],g),this.h[1]=i(this.h[1],b),this.h[2]=i(this.h[2],m),this.h[3]=i(this.h[3],v),this.h[4]=i(this.h[4],w)},c.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},cS}var uS,UD;function yG(){if(UD)return uS;UD=1;var t=Al(),e=Hy(),r=gG(),n=Wy(),i=t.sum32,a=t.sum32_4,s=t.sum32_5,o=r.ch32,l=r.maj32,c=r.s0_256,u=r.s1_256,f=r.g0_256,p=r.g1_256,h=e.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}return t.inherits(g,h),uS=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(m,v){for(var w=this.W,E=0;E<16;E++)w[E]=m[v+E];for(;E<w.length;E++)w[E]=a(p(w[E-2]),w[E-7],f(w[E-15]),w[E-16]);var P=this.h[0],$=this.h[1],C=this.h[2],N=this.h[3],A=this.h[4],D=this.h[5],F=this.h[6],S=this.h[7];for(n(this.k.length===w.length),E=0;E<w.length;E++){var O=s(S,u(A),o(A,D,F),this.k[E],w[E]),k=i(c(P),l(P,$,C));S=F,F=D,D=A,A=i(N,O),N=C,C=$,$=P,P=i(O,k)}this.h[0]=i(this.h[0],P),this.h[1]=i(this.h[1],$),this.h[2]=i(this.h[2],C),this.h[3]=i(this.h[3],N),this.h[4]=i(this.h[4],A),this.h[5]=i(this.h[5],D),this.h[6]=i(this.h[6],F),this.h[7]=i(this.h[7],S)},g.prototype._digest=function(m){return m==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},uS}var dS,VD;function GAe(){if(VD)return dS;VD=1;var t=Al(),e=yG();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),dS=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},dS}var fS,zD;function vG(){if(zD)return fS;zD=1;var t=Al(),e=Hy(),r=Wy(),n=t.rotr64_hi,i=t.rotr64_lo,a=t.shr64_hi,s=t.shr64_lo,o=t.sum64,l=t.sum64_hi,c=t.sum64_lo,u=t.sum64_4_hi,f=t.sum64_4_lo,p=t.sum64_5_hi,h=t.sum64_5_lo,y=e.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}t.inherits(b,y),fS=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(k,ie){for(var ae=this.W,Q=0;Q<32;Q++)ae[Q]=k[ie+Q];for(;Q<ae.length;Q+=2){var se=F(ae[Q-4],ae[Q-3]),fe=S(ae[Q-4],ae[Q-3]),we=ae[Q-14],ve=ae[Q-13],M=A(ae[Q-30],ae[Q-29]),K=D(ae[Q-30],ae[Q-29]),ee=ae[Q-32],de=ae[Q-31];ae[Q]=u(se,fe,we,ve,M,K,ee,de),ae[Q+1]=f(se,fe,we,ve,M,K,ee,de)}},b.prototype._update=function(k,ie){this._prepareBlock(k,ie);var ae=this.W,Q=this.h[0],se=this.h[1],fe=this.h[2],we=this.h[3],ve=this.h[4],M=this.h[5],K=this.h[6],ee=this.h[7],de=this.h[8],ue=this.h[9],z=this.h[10],V=this.h[11],te=this.h[12],ce=this.h[13],Z=this.h[14],J=this.h[15];r(this.k.length===ae.length);for(var Ee=0;Ee<ae.length;Ee+=2){var H=Z,be=J,B=C(de,ue),j=N(de,ue),R=m(de,ue,z,V,te),W=v(de,ue,z,V,te,ce),G=this.k[Ee],ne=this.k[Ee+1],re=ae[Ee],Se=ae[Ee+1],Ne=p(H,be,B,j,R,W,G,ne,re,Se),Ae=h(H,be,B,j,R,W,G,ne,re,Se);H=P(Q,se),be=$(Q,se),B=w(Q,se,fe,we,ve),j=E(Q,se,fe,we,ve,M);var Ie=l(H,be,B,j),Fe=c(H,be,B,j);Z=te,J=ce,te=z,ce=V,z=de,V=ue,de=l(K,ee,Ne,Ae),ue=c(ee,ee,Ne,Ae),K=ve,ee=M,ve=fe,M=we,fe=Q,we=se,Q=l(Ne,Ae,Ie,Fe),se=c(Ne,Ae,Ie,Fe)}o(this.h,0,Q,se),o(this.h,2,fe,we),o(this.h,4,ve,M),o(this.h,6,K,ee),o(this.h,8,de,ue),o(this.h,10,z,V),o(this.h,12,te,ce),o(this.h,14,Z,J)},b.prototype._digest=function(k){return k==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function m(O,k,ie,ae,Q){var se=O&ie^~O&Q;return se<0&&(se+=4294967296),se}function v(O,k,ie,ae,Q,se){var fe=k&ae^~k&se;return fe<0&&(fe+=4294967296),fe}function w(O,k,ie,ae,Q){var se=O&ie^O&Q^ie&Q;return se<0&&(se+=4294967296),se}function E(O,k,ie,ae,Q,se){var fe=k&ae^k&se^ae&se;return fe<0&&(fe+=4294967296),fe}function P(O,k){var ie=n(O,k,28),ae=n(k,O,2),Q=n(k,O,7),se=ie^ae^Q;return se<0&&(se+=4294967296),se}function $(O,k){var ie=i(O,k,28),ae=i(k,O,2),Q=i(k,O,7),se=ie^ae^Q;return se<0&&(se+=4294967296),se}function C(O,k){var ie=n(O,k,14),ae=n(O,k,18),Q=n(k,O,9),se=ie^ae^Q;return se<0&&(se+=4294967296),se}function N(O,k){var ie=i(O,k,14),ae=i(O,k,18),Q=i(k,O,9),se=ie^ae^Q;return se<0&&(se+=4294967296),se}function A(O,k){var ie=n(O,k,1),ae=n(O,k,8),Q=a(O,k,7),se=ie^ae^Q;return se<0&&(se+=4294967296),se}function D(O,k){var ie=i(O,k,1),ae=i(O,k,8),Q=s(O,k,7),se=ie^ae^Q;return se<0&&(se+=4294967296),se}function F(O,k){var ie=n(O,k,19),ae=n(k,O,29),Q=a(O,k,6),se=ie^ae^Q;return se<0&&(se+=4294967296),se}function S(O,k){var ie=i(O,k,19),ae=i(k,O,29),Q=s(O,k,6),se=ie^ae^Q;return se<0&&(se+=4294967296),se}return fS}var hS,qD;function KAe(){if(qD)return hS;qD=1;var t=Al(),e=vG();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),hS=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},hS}var WD;function YAe(){return WD||(WD=1,Xd.sha1=HAe(),Xd.sha224=GAe(),Xd.sha256=yG(),Xd.sha384=KAe(),Xd.sha512=vG()),Xd}var pS={},HD;function XAe(){if(HD)return pS;HD=1;var t=Al(),e=Hy(),r=t.rotl32,n=t.sum32,i=t.sum32_3,a=t.sum32_4,s=e.BlockHash;function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(o,s),pS.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(b,m){for(var v=this.h[0],w=this.h[1],E=this.h[2],P=this.h[3],$=this.h[4],C=v,N=w,A=E,D=P,F=$,S=0;S<80;S++){var O=n(r(a(v,l(S,w,E,P),b[f[S]+m],c(S)),h[S]),$);v=$,$=P,P=r(E,10),E=w,w=O,O=n(r(a(C,l(79-S,N,A,D),b[p[S]+m],u(S)),y[S]),F),C=F,F=D,D=r(A,10),A=N,N=O}O=i(this.h[1],E,D),this.h[1]=i(this.h[2],P,F),this.h[2]=i(this.h[3],$,C),this.h[3]=i(this.h[4],v,N),this.h[4]=i(this.h[0],w,A),this.h[0]=O},o.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(g,b,m,v){return g<=15?b^m^v:g<=31?b&m|~b&v:g<=47?(b|~m)^v:g<=63?b&v|m&~v:b^(m|~v)}function c(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function u(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return pS}var mS,GD;function JAe(){if(GD)return mS;GD=1;var t=Al(),e=Wy();function r(n,i,a){if(!(this instanceof r))return new r(n,i,a);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,a))}return mS=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var a=i.length;a<this.blockSize;a++)i.push(0);for(a=0;a<i.length;a++)i[a]^=54;for(this.inner=new this.Hash().update(i),a=0;a<i.length;a++)i[a]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,a){return this.inner.update(i,a),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},mS}var KD;function QAe(){return KD||(KD=1,function(t){var e=t;e.utils=Al(),e.common=Hy(),e.sha=YAe(),e.ripemd=XAe(),e.hmac=JAe(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(sS)),sS}QAe();let ZAe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",eNe=(t,e=21)=>(r=e)=>{let n="",i=r|0;for(;i--;)n+=t[Math.random()*t.length|0];return n},tNe=(t=21)=>{let e="",r=t|0;for(;r--;)e+=ZAe[Math.random()*64|0];return e};const eo=t=>Math.floor(t*72*20),z6=(t=0)=>{let e=t;return()=>++e},rNe=()=>z6(),nNe=()=>z6(1),iNe=()=>z6(),aNe=()=>tNe().toLowerCase(),Og=t=>eNe("1234567890abcdef",t)(),sNe=()=>`${Og(8)}-${Og(4)}-${Og(4)}-${Og(4)}-${Og(12)}`;class oNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns"})}}class lNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const cNe={EXTERNAL:"External"};class uNe extends Qe{constructor(e,r,n,i){super("Relationship"),this.root.push(new lNe({id:e,type:r,target:n,targetMode:i}))}}class fh extends Qe{constructor(){super("Relationships"),this.root.push(new oNe({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){const a=new uNe(`rId${e}`,r,n,i);return this.root.push(a),a}get RelationshipCount(){return this.root.length-1}}class dNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class fNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class hNe extends Qe{constructor({id:e,initials:r,author:n,date:i=new Date,children:a}){super("w:comment"),this.root.push(new dNe({id:e,initials:r,author:n,date:i.toISOString()}));for(const s of a)this.root.push(s)}}class pNe extends Qe{constructor({children:e}){super("w:comments"),We(this,"relationships"),this.root.push(new fNe({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new hNe(r));this.relationships=new fh}get Relationships(){return this.relationships}}class mNe extends Qe{constructor(){super("w:pageBreakBefore")}}const d4={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class gNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class yNe extends Qe{constructor(e){super("w:spacing"),this.root.push(new gNe(e))}}let p1=class extends Qe{constructor(e){super("w:pStyle"),this.root.push(new wn({val:e}))}};class vNe extends Qe{constructor(e){super("w:tabs");for(const r of e)this.root.push(new wNe(r))}}const YD={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class bNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class wNe extends Qe{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new bNe({val:e,pos:r,leader:n}))}}class gS extends Qe{constructor(e,r){super("w:numPr"),this.root.push(new xNe(r)),this.root.push(new _Ne(e))}}class xNe extends Qe{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new wn({val:e}))}}class _Ne extends Qe{constructor(e){super("w:numId"),this.root.push(new wn({val:typeof e=="string"?`{${e}}`:e}))}}class ENe extends Qe{constructor(){super(...arguments),We(this,"fileChild",Symbol())}}class SNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class ANe extends Qe{constructor(e,r,n){super("w:hyperlink"),We(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},a=new SNe(i);this.root.push(a),e.forEach(s=>{this.root.push(s)})}}class NNe extends Qe{constructor(e){super("w:externalHyperlink"),this.options=e}}class TNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class PNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{id:"w:id"})}}class CNe{constructor(e){We(this,"bookmarkUniqueNumericId",iNe()),We(this,"start"),We(this,"children"),We(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new kNe(e.id,r),this.children=e.children,this.end=new INe(r)}}class kNe extends Qe{constructor(e,r){super("w:bookmarkStart");const n=new TNe({name:e,id:r});this.root.push(n)}}class INe extends Qe{constructor(e){super("w:bookmarkEnd");const r=new PNe({id:e});this.root.push(r)}}class jNe extends Qe{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new wn({val:e}))}}const ONe={TOP:"top",CENTER:"center",BOTTOM:"bottom"};fm(Yt({},ONe),{BOTH:"both"});class RNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{verticalAlign:"w:val"})}}class LNe extends Qe{constructor(e){super("w:vAlign"),this.root.push(new RNe({verticalAlign:e}))}}class DNe extends Qe{constructor({space:e,count:r,separate:n,equalWidth:i,children:a}){super("w:cols"),this.root.push(new D2({space:{key:"w:space",value:e===void 0?void 0:fo(e)},count:{key:"w:num",value:r===void 0?void 0:Sa(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&a&&a.forEach(s=>this.addChildElement(s))}}const MNe=({type:t,linePitch:e,charSpace:r})=>new wl({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Sa(e)},charSpace:{key:"w:charSpace",value:r?Sa(r):void 0}}}),Fp={DEFAULT:"default",FIRST:"first",EVEN:"even"};class FNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const XD={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class yS extends Qe{constructor(e,r){super(e),this.root.push(new FNe({type:r.type||Fp.DEFAULT,id:`rId${r.id}`}))}}const BNe=({countBy:t,start:e,restart:r,distance:n})=>new wl({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Sa(t)},start:{key:"w:start",value:e===void 0?void 0:Sa(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:fo(n)}}});class JD extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class $Ne extends L2{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new JD({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new JD({})),e.pageBorderTop&&this.root.push(new tn("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new tn("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new tn("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new tn("w:right",e.pageBorderRight))}}class UNe extends Qe{constructor(e,r,n,i,a,s,o){super("w:pgMar"),this.root.push(new D2({top:{key:"w:top",value:xf(e)},right:{key:"w:right",value:fo(r)},bottom:{key:"w:bottom",value:xf(n)},left:{key:"w:left",value:fo(i)},header:{key:"w:header",value:fo(a)},footer:{key:"w:footer",value:fo(s)},gutter:{key:"w:gutter",value:fo(o)}}))}}class VNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class zNe extends Qe{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new VNe({start:e===void 0?void 0:Sa(e),formatType:r,separator:n}))}}const f4={PORTRAIT:"portrait",LANDSCAPE:"landscape"},qNe=({width:t,height:e,orientation:r,code:n})=>{const i=fo(t),a=fo(e);return new wl({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===f4.LANDSCAPE?a:i},height:{key:"w:h",value:r===f4.LANDSCAPE?i:a},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class WNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class HNe extends Qe{constructor(e){super("w:textDirection"),this.root.push(new WNe({val:e}))}}class GNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class KNe extends Qe{constructor(e){super("w:type"),this.root.push(new GNe({val:e}))}}const Jd={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},vS={WIDTH:11906,HEIGHT:16838,ORIENTATION:f4.PORTRAIT};class YNe extends Qe{constructor({page:{size:{width:e=vS.WIDTH,height:r=vS.HEIGHT,orientation:n=vS.ORIENTATION}={},margin:{top:i=Jd.TOP,right:a=Jd.RIGHT,bottom:s=Jd.BOTTOM,left:o=Jd.LEFT,header:l=Jd.HEADER,footer:c=Jd.FOOTER,gutter:u=Jd.GUTTER}={},pageNumbers:f={},borders:p,textDirection:h}={},grid:{linePitch:y=360,charSpace:g,type:b}={},headerWrapperGroup:m={},footerWrapperGroup:v={},lineNumbers:w,titlePage:E,verticalAlign:P,column:$,type:C}={}){super("w:sectPr"),this.addHeaderFooterGroup(XD.HEADER,m),this.addHeaderFooterGroup(XD.FOOTER,v),C&&this.root.push(new KNe(C)),this.root.push(qNe({width:e,height:r,orientation:n})),this.root.push(new UNe(i,a,s,o,l,c,u)),p&&this.root.push(new $Ne(p)),w&&this.root.push(BNe(w)),this.root.push(new zNe(f)),$&&this.root.push(new DNe($)),P&&this.root.push(new LNe(P)),E!==void 0&&this.root.push(new Ze("w:titlePg",E)),h&&this.root.push(new HNe(h)),this.root.push(MNe({linePitch:y,charSpace:g,type:b}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new yS(e,{type:Fp.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new yS(e,{type:Fp.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new yS(e,{type:Fp.EVEN,id:r.even.View.ReferenceId}))}}class XNe extends Qe{constructor(){super("w:body"),We(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new YNe(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new br({}),n=new ym({});return n.push(e),r.addChildElement(n),r}}const QD={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class U2 extends Pt{constructor(e,r){super(Yt({Ignorable:r},Object.fromEntries(e.map(n=>[n,QD[n]])))),We(this,"xmlKeys",Yt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(QD).map(n=>[n,`xmlns:${n}`]))))}}class JNe extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class QNe extends Qe{constructor(e){super("w:background"),this.root.push(new JNe({color:e.color===void 0?void 0:pm(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:OD(e.themeShade),themeTint:e.themeTint===void 0?void 0:OD(e.themeTint)}))}}class ZNe extends Qe{constructor(e){super("w:document"),We(this,"body"),this.root.push(new U2(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new XNe,e.background&&this.root.push(new QNe(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class bG{constructor(e){We(this,"document"),We(this,"relationships"),this.document=new ZNe(e),this.relationships=new fh}get View(){return this.document}get Relationships(){return this.relationships}}class e4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class t4e extends Qe{constructor(){super("w:wordWrap"),this.root.push(new e4e({val:0}))}}const r4e=t=>{var e,r;return new wl({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class ym extends L2{constructor(e){var r,n;if(super("w:pPr"),We(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new p1(e.heading)),e.bullet&&this.push(new p1("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new p1("ListParagraph"))),e.style&&this.push(new p1(e.style)),e.keepNext!==void 0&&this.push(new Ze("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Ze("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new mNe),e.frame&&this.push(r4e(e.frame)),e.widowControl!==void 0&&this.push(new Ze("w:widowControl",e.widowControl)),e.bullet&&this.push(new gS(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new gS(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new gS(0,0)),e.border&&this.push(new SAe(e.border)),e.thematicBreak&&this.push(new AAe),e.shading&&this.push(new hG(e.shading)),e.wordWrap&&this.push(new t4e),e.overflowPunctuation&&this.push(new Ze("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:YD.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:YD.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new vNe(i)),e.bidirectional!==void 0&&this.push(new Ze("w:bidi",e.bidirectional)),e.spacing&&this.push(new yNe(e.spacing)),e.indent&&this.push(new NAe(e.indent)),e.contextualSpacing!==void 0&&this.push(new Ze("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new _Ae(e.alignment)),e.outlineLevel!==void 0&&this.push(new jNe(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Ze("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Ze("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new dh(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof bG)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class br extends ENe{constructor(e){if(super("w:p"),We(this,"properties"),typeof e=="string")return this.properties=new ym({}),this.root.push(this.properties),this.root.push(new Lt(e)),this;if(this.properties=new ym(e),this.root.push(this.properties),e.text&&this.root.push(new Lt(e.text)),e.children)for(const r of e.children){if(r instanceof CNe){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof NNe){const n=this.root.indexOf(r),i=new ANe(r.options.children,aNe());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,cNe.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const Wh={style:$6.NONE,size:0,color:"auto"},Hh={style:$6.SINGLE,size:4,color:"auto"};class n4e extends Qe{constructor(e){super("w:tblBorders"),e.top?this.root.push(new tn("w:top",e.top)):this.root.push(new tn("w:top",Hh)),e.left?this.root.push(new tn("w:left",e.left)):this.root.push(new tn("w:left",Hh)),e.bottom?this.root.push(new tn("w:bottom",e.bottom)):this.root.push(new tn("w:bottom",Hh)),e.right?this.root.push(new tn("w:right",e.right)):this.root.push(new tn("w:right",Hh)),e.insideHorizontal?this.root.push(new tn("w:insideH",e.insideHorizontal)):this.root.push(new tn("w:insideH",Hh)),e.insideVertical?this.root.push(new tn("w:insideV",e.insideVertical)):this.root.push(new tn("w:insideV",Hh))}}We(n4e,"NONE",{top:Wh,bottom:Wh,left:Wh,right:Wh,insideHorizontal:Wh,insideVertical:Wh});class i4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class a4e extends Qe{constructor(){super("Properties"),this.root.push(new i4e({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class s4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns"})}}class o4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Gl extends Qe{constructor(e,r){super("Default"),this.root.push(new o4e({contentType:e,extension:r}))}}class l4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class gs extends Qe{constructor(e,r){super("Override"),this.root.push(new l4e({contentType:e,partName:r}))}}class c4e extends Qe{constructor(){super("Types"),this.root.push(new s4e({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Gl("image/png","png")),this.root.push(new Gl("image/jpeg","jpeg")),this.root.push(new Gl("image/jpeg","jpg")),this.root.push(new Gl("image/bmp","bmp")),this.root.push(new Gl("image/gif","gif")),this.root.push(new Gl("image/svg+xml","svg")),this.root.push(new Gl("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Gl("application/xml","xml")),this.root.push(new Gl("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new gs("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new gs("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new gs("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new gs("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new gs("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new gs("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new gs("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new gs("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new gs("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new gs("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new gs("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new gs("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class u4e extends Qe{constructor(e){super("cp:coreProperties"),this.root.push(new U2(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Yd("dc:title",e.title)),e.subject&&this.root.push(new Yd("dc:subject",e.subject)),e.creator&&this.root.push(new Yd("dc:creator",e.creator)),e.keywords&&this.root.push(new Yd("cp:keywords",e.keywords)),e.description&&this.root.push(new Yd("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Yd("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Yd("cp:revision",String(e.revision))),this.root.push(new ZD("dcterms:created")),this.root.push(new ZD("dcterms:modified"))}}class d4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{type:"xsi:type"})}}class ZD extends Qe{constructor(e){super(e),this.root.push(new d4e({type:"dcterms:W3CDTF"})),this.root.push(wAe(new Date))}}class f4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class h4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class p4e extends Qe{constructor(e,r){super("property"),this.root.push(new h4e({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new m4e(r.value))}}class m4e extends Qe{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class g4e extends Qe{constructor(e){super("Properties"),We(this,"nextId"),We(this,"properties",[]),this.root.push(new f4e({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new p4e(this.nextId++,e))}}const m1=({id:t,fontKey:e,subsetted:r},n)=>new wl({name:n,attributes:Yt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new Ze("w:subsetted",r)]:[]]}),y4e=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:a,pitch:s,sig:o,embedRegular:l,embedBold:c,embedItalic:u,embedBoldItalic:f})=>new wl({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[jg("w:altName",e)]:[],...r?[jg("w:panose1",r)]:[],...n?[jg("w:charset",n)]:[],jg("w:family",i),...a?[new Ze("w:notTrueType",a)]:[],jg("w:pitch",s),...o?[new wl({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...l?[m1(l,"w:embedRegular")]:[],...c?[m1(c,"w:embedBold")]:[],...u?[m1(u,"w:embedItalic")]:[],...f?[m1(f,"w:embedBoldItalic")]:[]]}),v4e=({name:t,index:e,fontKey:r,characterSet:n})=>y4e({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),b4e=t=>new wl({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>v4e({name:e.name,index:r+1,fontKey:e.fontKey}))});class w4e{constructor(e){We(this,"fontTable"),We(this,"relationships"),We(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>fm(Yt({},r),{fontKey:sNe()})),this.fontTable=b4e(this.fontOptionsWithKey),this.relationships=new fh;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class x4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let _4e=class extends cG{constructor(e,r){super("w:ftr",r),We(this,"refId"),this.refId=e,r||this.root.push(new x4e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class E4e{constructor(e,r,n){We(this,"footer"),We(this,"relationships"),this.media=e,this.footer=new _4e(r,n),this.relationships=new fh}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class S4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class A4e extends Qe{constructor(){super("w:footnoteRef")}}class N4e extends $2{constructor(){super({style:"FootnoteReference"}),this.root.push(new A4e)}}const e7={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class bS extends Qe{constructor(e){super("w:footnote"),this.root.push(new S4e({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new N4e),this.root.push(n)}}}class T4e extends Qe{constructor(){super("w:continuationSeparator")}}class P4e extends $2{constructor(){super({}),this.root.push(new T4e)}}class C4e extends Qe{constructor(){super("w:separator")}}class k4e extends $2{constructor(){super({}),this.root.push(new C4e)}}class I4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class j4e extends Qe{constructor(){super("w:footnotes"),this.root.push(new I4e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new bS({id:-1,type:e7.SEPERATOR,children:[new br({spacing:{after:0,line:240,lineRule:d4.AUTO},children:[new k4e]})]});this.root.push(e);const r=new bS({id:0,type:e7.CONTINUATION_SEPERATOR,children:[new br({spacing:{after:0,line:240,lineRule:d4.AUTO},children:[new P4e]})]});this.root.push(r)}createFootNote(e,r){const n=new bS({id:e,children:r});this.root.push(n)}}class O4e{constructor(){We(this,"footnotess"),We(this,"relationships"),this.footnotess=new j4e,this.relationships=new fh}get View(){return this.footnotess}get Relationships(){return this.relationships}}class R4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let L4e=class extends cG{constructor(e,r){super("w:hdr",r),We(this,"refId"),this.refId=e,r||this.root.push(new R4e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class D4e{constructor(e,r,n){We(this,"header"),We(this,"relationships"),this.media=e,this.header=new L4e(r,n),this.relationships=new fh}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class M4e{constructor(){We(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const Kl={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class F4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class B4e extends Qe{constructor(e){super("w:numFmt"),this.root.push(new wn({val:e}))}}class $4e extends Qe{constructor(e){super("w:lvlText"),this.root.push(new wn({val:e}))}}class U4e extends Qe{constructor(e){super("w:lvlJc"),this.root.push(new wn({val:e}))}}class V4e extends Qe{constructor(e){super("w:suff"),this.root.push(new wn({val:e}))}}class z4e extends Qe{constructor(){super("w:isLgl")}}class q4e extends Qe{constructor({level:e,format:r,text:n,alignment:i=Gt.START,start:a=1,style:s,suffix:o,isLegalNumberingStyle:l}){if(super("w:lvl"),We(this,"paragraphProperties"),We(this,"runProperties"),this.root.push(new y0("w:start",Sa(a))),r&&this.root.push(new B4e(r)),o&&this.root.push(new V4e(o)),l&&this.root.push(new z4e),n&&this.root.push(new $4e(n)),this.root.push(new U4e(i)),this.paragraphProperties=new ym(s&&s.paragraph),this.runProperties=new dh(s&&s.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new F4e({ilvl:Sa(e),tentative:1}))}}class W4e extends q4e{}class H4e extends Qe{constructor(e){super("w:multiLevelType"),this.root.push(new wn({val:e}))}}class G4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class t7 extends Qe{constructor(e,r){super("w:abstractNum"),We(this,"id"),this.root.push(new G4e({abstractNumId:Sa(e),restartNumberingAfterBreak:0})),this.root.push(new H4e("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new W4e(n))}}class K4e extends Qe{constructor(e){super("w:abstractNumId"),this.root.push(new wn({val:e}))}}class Y4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{numId:"w:numId"})}}class r7 extends Qe{constructor(e){if(super("w:num"),We(this,"numId"),We(this,"reference"),We(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new Y4e({numId:Sa(e.numId)})),this.root.push(new K4e(Sa(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new J4e(r.num,r.start))}}class X4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{ilvl:"w:ilvl"})}}class J4e extends Qe{constructor(e,r){super("w:lvlOverride"),this.root.push(new X4e({ilvl:e})),r!==void 0&&this.root.push(new Z4e(r))}}class Q4e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class Z4e extends Qe{constructor(e){super("w:startOverride"),this.root.push(new Q4e({val:e}))}}class e3e extends Qe{constructor(e){super("w:numbering"),We(this,"abstractNumberingMap",new Map),We(this,"concreteNumberingMap",new Map),We(this,"referenceConfigMap",new Map),We(this,"abstractNumUniqueNumericId",rNe()),We(this,"concreteNumUniqueNumericId",nNe()),this.root.push(new U2(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new t7(this.abstractNumUniqueNumericId(),[{level:0,format:Kl.BULLET,text:"●",alignment:Gt.LEFT,style:{paragraph:{indent:{left:eo(.5),hanging:eo(.25)}}}},{level:1,format:Kl.BULLET,text:"○",alignment:Gt.LEFT,style:{paragraph:{indent:{left:eo(1),hanging:eo(.25)}}}},{level:2,format:Kl.BULLET,text:"■",alignment:Gt.LEFT,style:{paragraph:{indent:{left:2160,hanging:eo(.25)}}}},{level:3,format:Kl.BULLET,text:"●",alignment:Gt.LEFT,style:{paragraph:{indent:{left:2880,hanging:eo(.25)}}}},{level:4,format:Kl.BULLET,text:"○",alignment:Gt.LEFT,style:{paragraph:{indent:{left:3600,hanging:eo(.25)}}}},{level:5,format:Kl.BULLET,text:"■",alignment:Gt.LEFT,style:{paragraph:{indent:{left:4320,hanging:eo(.25)}}}},{level:6,format:Kl.BULLET,text:"●",alignment:Gt.LEFT,style:{paragraph:{indent:{left:5040,hanging:eo(.25)}}}},{level:7,format:Kl.BULLET,text:"●",alignment:Gt.LEFT,style:{paragraph:{indent:{left:5760,hanging:eo(.25)}}}},{level:8,format:Kl.BULLET,text:"●",alignment:Gt.LEFT,style:{paragraph:{indent:{left:6480,hanging:eo(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new r7({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new t7(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;const a=this.referenceConfigMap.get(e),s=a&&a[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[s&&Number.isInteger(s)?{num:0,start:s}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new r7(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class t3e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class r3e extends Qe{constructor(e){super("w:compatSetting"),this.root.push(new t3e({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class n3e extends Qe{constructor(e){super("w:compat"),e.version&&this.root.push(new r3e(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Ze("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Ze("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Ze("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Ze("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Ze("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Ze("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Ze("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Ze("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Ze("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Ze("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Ze("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Ze("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Ze("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Ze("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Ze("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Ze("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Ze("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Ze("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Ze("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Ze("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Ze("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Ze("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Ze("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Ze("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Ze("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Ze("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Ze("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Ze("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Ze("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Ze("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Ze("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Ze("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Ze("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Ze("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Ze("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Ze("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Ze("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Ze("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Ze("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Ze("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Ze("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Ze("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Ze("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Ze("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Ze("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Ze("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Ze("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Ze("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Ze("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Ze("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Ze("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Ze("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Ze("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Ze("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Ze("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Ze("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Ze("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Ze("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Ze("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Ze("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Ze("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Ze("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Ze("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Ze("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Ze("w:cachedColBalance",e.cachedColumnBalance))}}class i3e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}let a3e=class extends Qe{constructor(e){var r,n,i,a,s,o,l,c;super("w:settings"),this.root.push(new i3e({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Ze("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Ze("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Ze("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Ze("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new y0("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new Ze("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new y0("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new y0("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((a=e.hyphenation)==null?void 0:a.doNotHyphenateCaps)!==void 0&&this.root.push(new Ze("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new n3e(fm(Yt({},(s=e.compatibility)!=null?s:{}),{version:(c=(l=(o=e.compatibility)==null?void 0:o.version)!=null?l:e.compatibilityModeVersion)!=null?c:15})))}};class wG extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{val:"w:val"})}}class s3e extends Qe{constructor(e){super("w:name"),this.root.push(new wG({val:e}))}}class o3e extends Qe{constructor(e){super("w:uiPriority"),this.root.push(new wG({val:Sa(e)}))}}class l3e extends Pt{constructor(){super(...arguments),We(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class xG extends Qe{constructor(e,r){super("w:style"),this.root.push(new l3e(e)),r.name&&this.root.push(new s3e(r.name)),r.basedOn&&this.root.push(new Mp("w:basedOn",r.basedOn)),r.next&&this.root.push(new Mp("w:next",r.next)),r.link&&this.root.push(new Mp("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new o3e(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Ze("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Ze("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Ze("w:qFormat",r.quickFormat))}}class V2 extends xG{constructor(e){super({type:"paragraph",styleId:e.id},e),We(this,"paragraphProperties"),We(this,"runProperties"),this.paragraphProperties=new ym(e.paragraph),this.runProperties=new dh(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class z2 extends xG{constructor(e){super({type:"character",styleId:e.id},Yt({uiPriority:99,unhideWhenUsed:!0},e)),We(this,"runProperties"),this.runProperties=new dh(e.run),this.root.push(this.runProperties)}}class Td extends V2{constructor(e){super(Yt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class c3e extends Td{constructor(e){super(Yt({id:"Title",name:"Title"},e))}}class u3e extends Td{constructor(e){super(Yt({id:"Heading1",name:"Heading 1"},e))}}class d3e extends Td{constructor(e){super(Yt({id:"Heading2",name:"Heading 2"},e))}}class f3e extends Td{constructor(e){super(Yt({id:"Heading3",name:"Heading 3"},e))}}class h3e extends Td{constructor(e){super(Yt({id:"Heading4",name:"Heading 4"},e))}}class p3e extends Td{constructor(e){super(Yt({id:"Heading5",name:"Heading 5"},e))}}class m3e extends Td{constructor(e){super(Yt({id:"Heading6",name:"Heading 6"},e))}}class g3e extends Td{constructor(e){super(Yt({id:"Strong",name:"Strong"},e))}}class y3e extends V2{constructor(e){super(Yt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class v3e extends V2{constructor(e){super(Yt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:d4.AUTO}},run:{size:20}},e))}}class b3e extends z2{constructor(e){super(Yt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class w3e extends z2{constructor(e){super(Yt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class x3e extends z2{constructor(e){super(Yt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:mG.SINGLE}}},e))}}class h4 extends Qe{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new V2(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new z2(r))}}class _3e extends Qe{constructor(e){super("w:pPrDefault"),this.root.push(new ym(e))}}class E3e extends Qe{constructor(e){super("w:rPrDefault"),this.root.push(new dh(e))}}class S3e extends Qe{constructor(e){super("w:docDefaults"),We(this,"runPropertiesDefaults"),We(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new E3e(e.run),this.paragraphPropertiesDefaults=new _3e(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class A3e{newInstance(e){const r=lG.xml2js(e,{compact:!1});let n;for(const s of r.elements||[])s.name==="w:styles"&&(n=s);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new h4({initialStyles:new gAe(n.attributes),importedStyles:i.map(s=>B6(s))})}}class n7{newInstance(e={}){var r;return{initialStyles:new U2(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new S3e((r=e.document)!=null?r:{}),new c3e(Yt({run:{size:56}},e.title)),new u3e(Yt({run:{color:"2E74B5",size:32}},e.heading1)),new d3e(Yt({run:{color:"2E74B5",size:26}},e.heading2)),new f3e(Yt({run:{color:"1F4D78",size:24}},e.heading3)),new h3e(Yt({run:{color:"2E74B5",italics:!0}},e.heading4)),new p3e(Yt({run:{color:"2E74B5"}},e.heading5)),new m3e(Yt({run:{color:"1F4D78"}},e.heading6)),new g3e(Yt({run:{bold:!0}},e.strong)),new y3e(e.listParagraph||{}),new x3e(e.hyperlink||{}),new b3e(e.footnoteReference||{}),new v3e(e.footnoteText||{}),new w3e(e.footnoteTextChar||{})]}}}let i7=class{constructor(e){We(this,"currentRelationshipId",1),We(this,"documentWrapper"),We(this,"headers",[]),We(this,"footers",[]),We(this,"coreProperties"),We(this,"numbering"),We(this,"media"),We(this,"fileRelationships"),We(this,"footnotesWrapper"),We(this,"settings"),We(this,"contentTypes"),We(this,"customProperties"),We(this,"appProperties"),We(this,"styles"),We(this,"comments"),We(this,"fontWrapper");var r,n,i,a,s,o,l,c,u,f,p,h;if(this.coreProperties=new u4e(fm(Yt({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new e3e(e.numbering?e.numbering:{config:[]}),this.comments=new pNe((a=e.comments)!=null?a:{children:[]}),this.fileRelationships=new fh,this.customProperties=new g4e((s=e.customProperties)!=null?s:[]),this.appProperties=new a4e,this.footnotesWrapper=new O4e,this.contentTypes=new c4e,this.documentWrapper=new bG({background:e.background}),this.settings=new a3e({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(o=e.features)==null?void 0:o.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(c=e.hyphenation)==null?void 0:c.autoHyphenation,hyphenationZone:(u=e.hyphenation)==null?void 0:u.hyphenationZone,consecutiveHyphenLimit:(f=e.hyphenation)==null?void 0:f.consecutiveHyphenLimit,doNotHyphenateCaps:(p=e.hyphenation)==null?void 0:p.doNotHyphenateCaps}}),this.media=new M4e,e.externalStyles!==void 0){const y=new A3e;this.styles=y.newInstance(e.externalStyles)}else if(e.styles){const g=new n7().newInstance(e.styles.default);this.styles=new h4(Yt(Yt({},g),e.styles))}else{const y=new n7;this.styles=new h4(y.newInstance())}this.addDefaultRelationships();for(const y of e.sections)this.addSection(y);if(e.footnotes)for(const y in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),e.footnotes[y].children);this.fontWrapper=new w4e((h=e.fonts)!=null?h:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(fm(Yt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const a of n)this.documentWrapper.View.add(a)}createHeader(e){const r=new D4e(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new E4e(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Fp.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Fp.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var N3e=D6();function g1(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wS={exports:{}},a7;function T3e(){return a7||(a7=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function s(c,u){if(!i[c]){if(!n[c]){var f=typeof g1=="function"&&g1;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var h=i[c]={exports:{}};n[c][0].call(h.exports,function(y){var g=n[c][1][y];return s(g||y)},h,h.exports,r,n,i,a)}return i[c].exports}for(var o=typeof g1=="function"&&g1,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(r,n,i){var a=r("./utils"),s=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,f,p,h,y,g,b=[],m=0,v=l.length,w=v,E=a.getTypeOf(l)!=="string";m<l.length;)w=v-m,f=E?(c=l[m++],u=m<v?l[m++]:0,m<v?l[m++]:0):(c=l.charCodeAt(m++),u=m<v?l.charCodeAt(m++):0,m<v?l.charCodeAt(m++):0),p=c>>2,h=(3&c)<<4|u>>4,y=1<w?(15&u)<<2|f>>6:64,g=2<w?63&f:64,b.push(o.charAt(p)+o.charAt(h)+o.charAt(y)+o.charAt(g));return b.join("")},i.decode=function(l){var c,u,f,p,h,y,g=0,b=0,m="data:";if(l.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var v,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=s.uint8array?new Uint8Array(0|w):new Array(0|w);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(p=o.indexOf(l.charAt(g++)))>>4,u=(15&p)<<4|(h=o.indexOf(l.charAt(g++)))>>2,f=(3&h)<<6|(y=o.indexOf(l.charAt(g++))),v[b++]=c,h!==64&&(v[b++]=u),y!==64&&(v[b++]=f);return v}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),s=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,f,p,h,y){this.compressedSize=u,this.uncompressedSize=f,this.crc32=p,this.compression=h,this.compressedContent=y}c.prototype={getContentWorker:function(){var u=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,p){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),s=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();n.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(c,u,f,p){var h=s,y=p+f;c^=-1;for(var g=p;g<y;g++)c=c>>>8^h[255&(c^u[g])];return-1^c}(0|l,o,o.length,0):function(c,u,f,p){var h=s,y=p+f;c^=-1;for(var g=p;g<y;g++)c=c>>>8^h[255&(c^u.charCodeAt(g))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),c=a?"uint8array":"array";function u(f,p){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(h,y){var g,b="";for(g=0;g<y;g++)b+=String.fromCharCode(255&h),h>>>=8;return b}function s(h,y,g,b,m,v){var w,E,P=h.file,$=h.compression,C=v!==c.utf8encode,N=o.transformTo("string",v(P.name)),A=o.transformTo("string",c.utf8encode(P.name)),D=P.comment,F=o.transformTo("string",v(D)),S=o.transformTo("string",c.utf8encode(D)),O=A.length!==P.name.length,k=S.length!==D.length,ie="",ae="",Q="",se=P.dir,fe=P.date,we={crc32:0,compressedSize:0,uncompressedSize:0};y&&!g||(we.crc32=h.crc32,we.compressedSize=h.compressedSize,we.uncompressedSize=h.uncompressedSize);var ve=0;y&&(ve|=8),C||!O&&!k||(ve|=2048);var M=0,K=0;se&&(M|=16),m==="UNIX"?(K=798,M|=function(de,ue){var z=de;return de||(z=ue?16893:33204),(65535&z)<<16}(P.unixPermissions,se)):(K=20,M|=function(de){return 63&(de||0)}(P.dosPermissions)),w=fe.getUTCHours(),w<<=6,w|=fe.getUTCMinutes(),w<<=5,w|=fe.getUTCSeconds()/2,E=fe.getUTCFullYear()-1980,E<<=4,E|=fe.getUTCMonth()+1,E<<=5,E|=fe.getUTCDate(),O&&(ae=a(1,1)+a(u(N),4)+A,ie+="up"+a(ae.length,2)+ae),k&&(Q=a(1,1)+a(u(F),4)+S,ie+="uc"+a(Q.length,2)+Q);var ee="";return ee+=`
\0`,ee+=a(ve,2),ee+=$.magic,ee+=a(w,2),ee+=a(E,2),ee+=a(we.crc32,4),ee+=a(we.compressedSize,4),ee+=a(we.uncompressedSize,4),ee+=a(N.length,2),ee+=a(ie.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ee+N+ie,dirRecord:f.CENTRAL_FILE_HEADER+a(K,2)+ee+a(F.length,2)+"\0\0\0\0"+a(M,4)+a(b,4)+N+ie+F}}var o=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),f=r("../signature");function p(h,y,g,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=g,this.encodeFileName=b,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,l),p.prototype.push=function(h){var y=h.meta.percent||0,g=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:g?(y+100*(g-b-1))/g:100}}))},p.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var y=this.streamFiles&&!h.file.dir;if(y){var g=s(h,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(h){this.accumulate=!1;var y=this.streamFiles&&!h.file.dir,g=s(h,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),y)this.push({data:function(b){return f.DATA_DESCRIPTOR+a(b.crc32,4)+a(b.compressedSize,4)+a(b.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var h=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var g=this.bytesWritten-h,b=function(m,v,w,E,P){var $=o.transformTo("string",P(E));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(m,2)+a(m,2)+a(v,4)+a(w,4)+a($.length,2)+$}(this.dirRecords.length,g,h,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(h){this._sources.push(h);var y=this;return h.on("data",function(g){y.processChunk(g)}),h.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),h.on("error",function(g){y.error(g)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(h){var y=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var g=0;g<y.length;g++)try{y[g].error(h)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,y=0;y<h.length;y++)h[y].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),s=r("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(p,h){f++;var y=function(v,w){var E=v||w,P=a[E];if(!P)throw new Error(E+" is not a valid compression method !");return P}(h.options.compression,l.compression),g=h.options.compressionOptions||l.compressionOptions||{},b=h.dir,m=h.date;h._compressWorker(y,g).withStreamInfo("file",{name:p,dir:b,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),s=r("./external"),o=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function f(p){return new s.Promise(function(h,y){var g=p.decompressed.getContentWorker().pipe(new c);g.on("error",function(b){y(b)}).on("end",function(){g.streamInfo.crc32!==p.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(p,h){var y=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,h.optimizedBinaryString,h.base64).then(function(g){var b=new l(h);return b.load(g),b}).then(function(g){var b=[s.Promise.resolve(g)],m=g.files;if(h.checkCRC32)for(var v=0;v<m.length;v++)b.push(f(m[v]));return s.Promise.all(b)}).then(function(g){for(var b=g.shift(),m=b.files,v=0;v<m.length;v++){var w=m[v],E=w.fileNameStr,P=a.resolve(w.fileNameStr);y.file(P,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:h.createFolders}),w.dir||(y.file(P).unsafeOriginalName=E)}return b.zipComment.length&&(y.comment=b.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),s=r("../stream/GenericWorker");function o(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(o,s),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function s(o,l,c){a.call(this,l),this._helper=o;var u=this;o.on("data",function(f,p){u.push(f)||u._helper.pause(),c&&c(p)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}r("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(P,$,C){var N,A=o.getTypeOf($),D=o.extend(C||{},u);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(P=m(P)),D.createFolders&&(N=b(P))&&v.call(this,N,!0);var F=A==="string"&&D.binary===!1&&D.base64===!1;C&&C.binary!==void 0||(D.binary=!F),($ instanceof f&&$.uncompressedSize===0||D.dir||!$||$.length===0)&&(D.base64=!1,D.binary=!0,$="",D.compression="STORE",A="string");var S=null;S=$ instanceof f||$ instanceof l?$:y.isNode&&y.isStream($)?new g(P,$):o.prepareContent(P,$,D.binary,D.optimizedBinaryString,D.base64);var O=new p(P,S,D);this.files[P]=O}var s=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),f=r("./compressedObject"),p=r("./zipObject"),h=r("./generate"),y=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),b=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var $=P.lastIndexOf("/");return 0<$?P.substring(0,$):""},m=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},v=function(P,$){return $=$!==void 0?$:u.createFolders,P=m(P),this.files[P]||a.call(this,P,null,{dir:!0,createFolders:$}),this.files[P]};function w(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var $,C,N;for($ in this.files)N=this.files[$],(C=$.slice(this.root.length,$.length))&&$.slice(0,this.root.length)===this.root&&P(C,N)},filter:function(P){var $=[];return this.forEach(function(C,N){P(C,N)&&$.push(N)}),$},file:function(P,$,C){if(arguments.length!==1)return P=this.root+P,a.call(this,P,$,C),this;if(w(P)){var N=P;return this.filter(function(D,F){return!F.dir&&N.test(D)})}var A=this.files[this.root+P];return A&&!A.dir?A:null},folder:function(P){if(!P)return this;if(w(P))return this.filter(function(A,D){return D.dir&&P.test(A)});var $=this.root+P,C=v.call(this,$),N=this.clone();return N.root=C.name,N},remove:function(P){P=this.root+P;var $=this.files[P];if($||(P.slice(-1)!=="/"&&(P+="/"),$=this.files[P]),$&&!$.dir)delete this.files[P];else for(var C=this.filter(function(A,D){return D.name.slice(0,P.length)===P}),N=0;N<C.length;N++)delete this.files[C[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var $,C={};try{if((C=o.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");o.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var N=C.comment||this.comment||"";$=h.generateWorker(this,C,N)}catch(A){($=new l("error")).error(A)}return new c($,C.type||"string",C.mimeType)},generateAsync:function(P,$){return this.generateInternalStream(P).accumulate($)},generateNodeStream:function(P,$){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream($)}};n.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===f)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&f===p[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=s},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),s=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(f){var p=a.getTypeOf(f);return a.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new c(f):s.uint8array?new u(a.transformTo("uint8array",f)):new o(a.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),s=r("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),s=r("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),s=r("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),s=r("./GenericWorker");function o(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=a.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),s=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),f=null;if(c.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(y,g){return new u.Promise(function(b,m){var v=[],w=y._internalType,E=y._outputType,P=y._mimeType;y.on("data",function($,C){v.push($),g&&g(C)}).on("error",function($){v=[],m($)}).on("end",function(){try{var $=function(C,N,A){switch(C){case"blob":return a.newBlob(a.transformTo("arraybuffer",N),A);case"base64":return l.encode(N);default:return a.transformTo(C,N)}}(E,function(C,N){var A,D=0,F=null,S=0;for(A=0;A<N.length;A++)S+=N[A].length;switch(C){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(F=new Uint8Array(S),A=0;A<N.length;A++)F.set(N[A],D),D+=N[A].length;return F;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+C+"'")}}(w,v),P);b($)}catch(C){m(C)}v=[]}).resume()})}function h(y,g,b){var m=g;switch(g){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=g,this._mimeType=b,a.checkSupport(m),this._worker=y.pipe(new s(m)),y.lock()}catch(v){this._worker=new o("error"),this._worker.error(v)}}h.prototype={accumulate:function(y){return p(this,y)},on:function(y,g){var b=this;return y==="data"?this._worker.on(y,function(m){g.call(b,m.data,m.meta)}):this._worker.on(y,function(){a.delay(g,arguments,b)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),s=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?o.newBufferFrom(h,"utf-8"):function(y){var g,b,m,v,w,E=y.length,P=0;for(v=0;v<E;v++)(64512&(b=y.charCodeAt(v)))==55296&&v+1<E&&(64512&(m=y.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(m-56320),v++),P+=b<128?1:b<2048?2:b<65536?3:4;for(g=s.uint8array?new Uint8Array(P):new Array(P),v=w=0;w<P;v++)(64512&(b=y.charCodeAt(v)))==55296&&v+1<E&&(64512&(m=y.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(m-56320),v++),b<128?g[w++]=b:(b<2048?g[w++]=192|b>>>6:(b<65536?g[w++]=224|b>>>12:(g[w++]=240|b>>>18,g[w++]=128|b>>>12&63),g[w++]=128|b>>>6&63),g[w++]=128|63&b);return g}(h)},i.utf8decode=function(h){return s.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):function(y){var g,b,m,v,w=y.length,E=new Array(2*w);for(g=b=0;g<w;)if((m=y[g++])<128)E[b++]=m;else if(4<(v=c[m]))E[b++]=65533,g+=v-1;else{for(m&=v===2?31:v===3?15:7;1<v&&g<w;)m=m<<6|63&y[g++],v--;1<v?E[b++]=65533:m<65536?E[b++]=m:(m-=65536,E[b++]=55296|m>>10&1023,E[b++]=56320|1023&m)}return E.length!==b&&(E.subarray?E=E.subarray(0,b):E.length=b),a.applyFromCharCode(E)}(h=a.transformTo(s.uint8array?"uint8array":"array",h))},a.inherits(f,l),f.prototype.processChunk=function(h){var y=a.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var g=y;(y=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),y.set(g,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var b=function(v,w){var E;for((w=w||v.length)>v.length&&(w=v.length),E=w-1;0<=E&&(192&v[E])==128;)E--;return E<0||E===0?w:E+c[v[E]]>w?E:w}(y),m=y;b!==y.length&&(s.uint8array?(m=y.subarray(0,b),this.leftOver=y.subarray(b,y.length)):(m=y.slice(0,b),this.leftOver=y.slice(b,y.length))),this.push({data:i.utf8decode(m),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,a.inherits(p,l),p.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),s=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function c(g){return g}function u(g,b){for(var m=0;m<g.length;++m)b[m]=255&g.charCodeAt(m);return b}r("setimmediate"),i.newBlob=function(g,b){i.checkSupport("blob");try{return new Blob([g],{type:b})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(g),m.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,b,m){var v=[],w=0,E=g.length;if(E<=m)return String.fromCharCode.apply(null,g);for(;w<E;)b==="array"||b==="nodebuffer"?v.push(String.fromCharCode.apply(null,g.slice(w,Math.min(w+m,E)))):v.push(String.fromCharCode.apply(null,g.subarray(w,Math.min(w+m,E)))),w+=m;return v.join("")},stringifyByChar:function(g){for(var b="",m=0;m<g.length;m++)b+=String.fromCharCode(g[m]);return b},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(g){var b=65536,m=i.getTypeOf(g),v=!0;if(m==="uint8array"?v=f.applyCanBeUsed.uint8array:m==="nodebuffer"&&(v=f.applyCanBeUsed.nodebuffer),v)for(;1<b;)try{return f.stringifyByChunk(g,m,b)}catch{b=Math.floor(b/2)}return f.stringifyByChar(g)}function h(g,b){for(var m=0;m<g.length;m++)b[m]=g[m];return b}i.applyFromCharCode=p;var y={};y.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return y.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,o.allocBuffer(g.length))}},y.array={string:p,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},y.arraybuffer={string:function(g){return p(new Uint8Array(g))},array:function(g){return h(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},y.uint8array={string:p,array:function(g){return h(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},y.nodebuffer={string:p,array:function(g){return h(g,new Array(g.length))},arraybuffer:function(g){return y.nodebuffer.uint8array(g).buffer},uint8array:function(g){return h(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,b){if(b=b||"",!g)return b;i.checkSupport(g);var m=i.getTypeOf(b);return y[m][g](b)},i.resolve=function(g){for(var b=g.split("/"),m=[],v=0;v<b.length;v++){var w=b[v];w==="."||w===""&&v!==0&&v!==b.length-1||(w===".."?m.pop():m.push(w))}return m.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(g)?"nodebuffer":a.uint8array&&g instanceof Uint8Array?"uint8array":a.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!a[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var b,m,v="";for(m=0;m<(g||"").length;m++)v+="\\x"+((b=g.charCodeAt(m))<16?"0":"")+b.toString(16).toUpperCase();return v},i.delay=function(g,b,m){setImmediate(function(){g.apply(m||null,b||[])})},i.inherits=function(g,b){function m(){}m.prototype=b.prototype,g.prototype=new m},i.extend=function(){var g,b,m={};for(g=0;g<arguments.length;g++)for(b in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],b)&&m[b]===void 0&&(m[b]=arguments[g][b]);return m},i.prepareContent=function(g,b,m,v,w){return l.Promise.resolve(b).then(function(E){return a.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(P,$){var C=new FileReader;C.onload=function(N){P(N.target.result)},C.onerror=function(N){$(N.target.error)},C.readAsArrayBuffer(E)}):E}).then(function(E){var P=i.getTypeOf(E);return P?(P==="arraybuffer"?E=i.transformTo("uint8array",E):P==="string"&&(w?E=s.decode(E):m&&v!==!0&&(E=function($){return u($,a.uint8array?new Uint8Array($.length):new Array($.length))}(E))),E):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),s=r("./utils"),o=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(f)+")")}},isSignature:function(f,p){var h=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===p;return this.reader.setIndex(h),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",h=s.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,h,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),p=this.reader.readInt(4),h=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var y=p-h;if(0<y)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),s=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),f=r("./support");function p(h,y){this.options=h,this.loadOptions=y}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var y,g;if(h.skip(22),this.fileNameLength=h.readInt(2),g=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(b){for(var m in u)if(Object.prototype.hasOwnProperty.call(u,m)&&u[m].magic===b)return u[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var y=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(y),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var y,g,b,m=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<m;)y=h.readInt(2),g=h.readInt(2),b=h.readData(g),this.extraFields[y]={id:y,length:g,value:b};h.setIndex(m)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var g=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var m=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:c.utf8decode(y.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:c.utf8decode(y.readData(h.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(y,g,b){this.name=y,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=g,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");a.prototype={internalStream:function(y){var g=null,b="string";try{if(!y)throw new Error("No output type specified.");var m=(b=y.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),g=this._decompressWorker();var v=!this._dataBinary;v&&!m&&(g=g.pipe(new l.Utf8EncodeWorker)),!v&&m&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(w){(g=new u("error")).error(w)}return new s(g,b,"")},async:function(y,g){return this.internalStream(y).accumulate(g)},nodeStream:function(y,g){return this.internalStream(y||"nodebuffer").toNodejsStream(g)},_compressWorker:function(y,g){if(this._data instanceof c&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,y,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)a.prototype[f[h]]=p;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var c=0,u=new l(y),f=a.document.createTextNode("");u.observe(f,{characterData:!0}),s=function(){f.data=c=++c%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var g=a.document.createElement("script");g.onreadystatechange=function(){y(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},a.document.documentElement.appendChild(g)}:function(){setTimeout(y,0)};else{var p=new a.MessageChannel;p.port1.onmessage=y,s=function(){p.port2.postMessage(0)}}var h=[];function y(){var g,b;o=!0;for(var m=h.length;m;){for(b=h,h=[],g=-1;++g<m;)b[g]();m=h.length}o=!1}n.exports=function(g){h.push(g)!==1||o||s()}}).call(this,typeof nl<"u"?nl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function s(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,m!==s&&g(this,m)}function p(m,v,w){this.promise=m,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function h(m,v,w){a(function(){var E;try{E=v(w)}catch(P){return o.reject(m,P)}E===m?o.reject(m,new TypeError("Cannot resolve promise with itself")):o.resolve(m,E)})}function y(m){var v=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof v=="function")return function(){v.apply(m,arguments)}}function g(m,v){var w=!1;function E(C){w||(w=!0,o.reject(m,C))}function P(C){w||(w=!0,o.resolve(m,C))}var $=b(function(){v(P,E)});$.status==="error"&&E($.value)}function b(m,v){var w={};try{w.value=m(v),w.status="success"}catch(E){w.status="error",w.value=E}return w}(n.exports=f).prototype.finally=function(m){if(typeof m!="function")return this;var v=this.constructor;return this.then(function(w){return v.resolve(m()).then(function(){return w})},function(w){return v.resolve(m()).then(function(){throw w})})},f.prototype.catch=function(m){return this.then(null,m)},f.prototype.then=function(m,v){if(typeof m!="function"&&this.state===c||typeof v!="function"&&this.state===l)return this;var w=new this.constructor(s);return this.state!==u?h(w,this.state===c?m:v,this.outcome):this.queue.push(new p(w,m,v)),w},p.prototype.callFulfilled=function(m){o.resolve(this.promise,m)},p.prototype.otherCallFulfilled=function(m){h(this.promise,this.onFulfilled,m)},p.prototype.callRejected=function(m){o.reject(this.promise,m)},p.prototype.otherCallRejected=function(m){h(this.promise,this.onRejected,m)},o.resolve=function(m,v){var w=b(y,v);if(w.status==="error")return o.reject(m,w.value);var E=w.value;if(E)g(m,E);else{m.state=c,m.outcome=v;for(var P=-1,$=m.queue.length;++P<$;)m.queue[P].callFulfilled(v)}return m},o.reject=function(m,v){m.state=l,m.outcome=v;for(var w=-1,E=m.queue.length;++w<E;)m.queue[w].callRejected(v);return m},f.resolve=function(m){return m instanceof this?m:o.resolve(new this(s),m)},f.reject=function(m){var v=new this(s);return o.reject(v,m)},f.all=function(m){var v=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=m.length,E=!1;if(!w)return this.resolve([]);for(var P=new Array(w),$=0,C=-1,N=new this(s);++C<w;)A(m[C],C);return N;function A(D,F){v.resolve(D).then(function(S){P[F]=S,++$!==w||E||(E=!0,o.resolve(N,P))},function(S){E||(E=!0,o.reject(N,S))})}},f.race=function(m){var v=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=m.length,E=!1;if(!w)return this.resolve([]);for(var P=-1,$=new this(s);++P<w;)C=m[P],v.resolve(C).then(function(N){E||(E=!0,o.resolve($,N))},function(N){E||(E=!0,o.reject($,N))});var C;return $}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),s=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,f=0,p=-1,h=0,y=8;function g(m){if(!(this instanceof g))return new g(m);this.options=s.assign({level:p,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},m||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=a.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(w!==f)throw new Error(l[w]);if(v.header&&a.deflateSetHeader(this.strm,v.header),v.dictionary){var E;if(E=typeof v.dictionary=="string"?o.string2buf(v.dictionary):u.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(w=a.deflateSetDictionary(this.strm,E))!==f)throw new Error(l[w]);this._dict_set=!0}}function b(m,v){var w=new g(v);if(w.push(m,!0),w.err)throw w.msg||l[w.err];return w.result}g.prototype.push=function(m,v){var w,E,P=this.strm,$=this.options.chunkSize;if(this.ended)return!1;E=v===~~v?v:v===!0?4:0,typeof m=="string"?P.input=o.string2buf(m):u.call(m)==="[object ArrayBuffer]"?P.input=new Uint8Array(m):P.input=m,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new s.Buf8($),P.next_out=0,P.avail_out=$),(w=a.deflate(P,E))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(P.output,P.next_out))):this.onData(s.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&w!==1);return E===4?(w=a.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):E!==2||(this.onEnd(f),!(P.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=g,i.deflate=b,i.deflateRaw=function(m,v){return(v=v||{}).raw=!0,b(m,v)},i.gzip=function(m,v){return(v=v||{}).gzip=!0,b(m,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),s=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),f=r("./zlib/gzheader"),p=Object.prototype.toString;function h(g){if(!(this instanceof h))return new h(g);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},g||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||g&&g.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var m=a.inflateInit2(this.strm,b.windowBits);if(m!==l.Z_OK)throw new Error(c[m]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function y(g,b){var m=new h(b);if(m.push(g,!0),m.err)throw m.msg||c[m.err];return m.result}h.prototype.push=function(g,b){var m,v,w,E,P,$,C=this.strm,N=this.options.chunkSize,A=this.options.dictionary,D=!1;if(this.ended)return!1;v=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?C.input=o.binstring2buf(g):p.call(g)==="[object ArrayBuffer]"?C.input=new Uint8Array(g):C.input=g,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(N),C.next_out=0,C.avail_out=N),(m=a.inflate(C,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&A&&($=typeof A=="string"?o.string2buf(A):p.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,m=a.inflateSetDictionary(this.strm,$)),m===l.Z_BUF_ERROR&&D===!0&&(m=l.Z_OK,D=!1),m!==l.Z_STREAM_END&&m!==l.Z_OK)return this.onEnd(m),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&m!==l.Z_STREAM_END&&(C.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(C.output,C.next_out),E=C.next_out-w,P=o.buf2string(C.output,w),C.next_out=E,C.avail_out=N-E,E&&s.arraySet(C.output,C.output,w,E,0),this.onData(P)):this.onData(s.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(D=!0)}while((0<C.avail_in||C.avail_out===0)&&m!==l.Z_STREAM_END);return m===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(m=a.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(C.avail_out=0))},h.prototype.onData=function(g){this.chunks.push(g)},h.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=h,i.inflate=y,i.inflateRaw=function(g,b){return(b=b||{}).raw=!0,y(g,b)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,f,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),p);else for(var h=0;h<f;h++)l[p+h]=c[u+h]},flattenChunks:function(l){var c,u,f,p,h,y;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(y=new Uint8Array(f),c=p=0,u=l.length;c<u;c++)h=l[c],y.set(h,p),p+=h.length;return y}},o={arraySet:function(l,c,u,f,p){for(var h=0;h<f;h++)l[p+h]=c[u+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,p){if(p<65537&&(f.subarray&&o||!f.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(f,p));for(var h="",y=0;y<p;y++)h+=String.fromCharCode(f[y]);return h}l[254]=l[254]=1,i.string2buf=function(f){var p,h,y,g,b,m=f.length,v=0;for(g=0;g<m;g++)(64512&(h=f.charCodeAt(g)))==55296&&g+1<m&&(64512&(y=f.charCodeAt(g+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),g++),v+=h<128?1:h<2048?2:h<65536?3:4;for(p=new a.Buf8(v),g=b=0;b<v;g++)(64512&(h=f.charCodeAt(g)))==55296&&g+1<m&&(64512&(y=f.charCodeAt(g+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),g++),h<128?p[b++]=h:(h<2048?p[b++]=192|h>>>6:(h<65536?p[b++]=224|h>>>12:(p[b++]=240|h>>>18,p[b++]=128|h>>>12&63),p[b++]=128|h>>>6&63),p[b++]=128|63&h);return p},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var p=new a.Buf8(f.length),h=0,y=p.length;h<y;h++)p[h]=f.charCodeAt(h);return p},i.buf2string=function(f,p){var h,y,g,b,m=p||f.length,v=new Array(2*m);for(h=y=0;h<m;)if((g=f[h++])<128)v[y++]=g;else if(4<(b=l[g]))v[y++]=65533,h+=b-1;else{for(g&=b===2?31:b===3?15:7;1<b&&h<m;)g=g<<6|63&f[h++],b--;1<b?v[y++]=65533:g<65536?v[y++]=g:(g-=65536,v[y++]=55296|g>>10&1023,v[y++]=56320|1023&g)}return u(v,y)},i.utf8border=function(f,p){var h;for((p=p||f.length)>f.length&&(p=f.length),h=p-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?p:h+l[f[h]]>p?h:p}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,s,o,l){for(var c=65535&a|0,u=a>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;u=u+(c=c+s[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();n.exports=function(s,o,l,c){var u=a,f=c+l;s^=-1;for(var p=c;p<f;p++)s=s>>>8^u[255&(s^o[p])];return-1^s}},{}],46:[function(r,n,i){var a,s=r("../utils/common"),o=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),f=0,p=4,h=0,y=-2,g=-1,b=4,m=2,v=8,w=9,E=286,P=30,$=19,C=2*E+1,N=15,A=3,D=258,F=D+A+1,S=42,O=113,k=1,ie=2,ae=3,Q=4;function se(H,be){return H.msg=u[be],be}function fe(H){return(H<<1)-(4<H?9:0)}function we(H){for(var be=H.length;0<=--be;)H[be]=0}function ve(H){var be=H.state,B=be.pending;B>H.avail_out&&(B=H.avail_out),B!==0&&(s.arraySet(H.output,be.pending_buf,be.pending_out,B,H.next_out),H.next_out+=B,be.pending_out+=B,H.total_out+=B,H.avail_out-=B,be.pending-=B,be.pending===0&&(be.pending_out=0))}function M(H,be){o._tr_flush_block(H,0<=H.block_start?H.block_start:-1,H.strstart-H.block_start,be),H.block_start=H.strstart,ve(H.strm)}function K(H,be){H.pending_buf[H.pending++]=be}function ee(H,be){H.pending_buf[H.pending++]=be>>>8&255,H.pending_buf[H.pending++]=255&be}function de(H,be){var B,j,R=H.max_chain_length,W=H.strstart,G=H.prev_length,ne=H.nice_match,re=H.strstart>H.w_size-F?H.strstart-(H.w_size-F):0,Se=H.window,Ne=H.w_mask,Ae=H.prev,Ie=H.strstart+D,Fe=Se[W+G-1],Ke=Se[W+G];H.prev_length>=H.good_match&&(R>>=2),ne>H.lookahead&&(ne=H.lookahead);do if(Se[(B=be)+G]===Ke&&Se[B+G-1]===Fe&&Se[B]===Se[W]&&Se[++B]===Se[W+1]){W+=2,B++;do;while(Se[++W]===Se[++B]&&Se[++W]===Se[++B]&&Se[++W]===Se[++B]&&Se[++W]===Se[++B]&&Se[++W]===Se[++B]&&Se[++W]===Se[++B]&&Se[++W]===Se[++B]&&Se[++W]===Se[++B]&&W<Ie);if(j=D-(Ie-W),W=Ie-D,G<j){if(H.match_start=be,ne<=(G=j))break;Fe=Se[W+G-1],Ke=Se[W+G]}}while((be=Ae[be&Ne])>re&&--R!=0);return G<=H.lookahead?G:H.lookahead}function ue(H){var be,B,j,R,W,G,ne,re,Se,Ne,Ae=H.w_size;do{if(R=H.window_size-H.lookahead-H.strstart,H.strstart>=Ae+(Ae-F)){for(s.arraySet(H.window,H.window,Ae,Ae,0),H.match_start-=Ae,H.strstart-=Ae,H.block_start-=Ae,be=B=H.hash_size;j=H.head[--be],H.head[be]=Ae<=j?j-Ae:0,--B;);for(be=B=Ae;j=H.prev[--be],H.prev[be]=Ae<=j?j-Ae:0,--B;);R+=Ae}if(H.strm.avail_in===0)break;if(G=H.strm,ne=H.window,re=H.strstart+H.lookahead,Se=R,Ne=void 0,Ne=G.avail_in,Se<Ne&&(Ne=Se),B=Ne===0?0:(G.avail_in-=Ne,s.arraySet(ne,G.input,G.next_in,Ne,re),G.state.wrap===1?G.adler=l(G.adler,ne,Ne,re):G.state.wrap===2&&(G.adler=c(G.adler,ne,Ne,re)),G.next_in+=Ne,G.total_in+=Ne,Ne),H.lookahead+=B,H.lookahead+H.insert>=A)for(W=H.strstart-H.insert,H.ins_h=H.window[W],H.ins_h=(H.ins_h<<H.hash_shift^H.window[W+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[W+A-1])&H.hash_mask,H.prev[W&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=W,W++,H.insert--,!(H.lookahead+H.insert<A)););}while(H.lookahead<F&&H.strm.avail_in!==0)}function z(H,be){for(var B,j;;){if(H.lookahead<F){if(ue(H),H.lookahead<F&&be===f)return k;if(H.lookahead===0)break}if(B=0,H.lookahead>=A&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+A-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),B!==0&&H.strstart-B<=H.w_size-F&&(H.match_length=de(H,B)),H.match_length>=A)if(j=o._tr_tally(H,H.strstart-H.match_start,H.match_length-A),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=A){for(H.match_length--;H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+A-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart,--H.match_length!=0;);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else j=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(j&&(M(H,!1),H.strm.avail_out===0))return k}return H.insert=H.strstart<A-1?H.strstart:A-1,be===p?(M(H,!0),H.strm.avail_out===0?ae:Q):H.last_lit&&(M(H,!1),H.strm.avail_out===0)?k:ie}function V(H,be){for(var B,j,R;;){if(H.lookahead<F){if(ue(H),H.lookahead<F&&be===f)return k;if(H.lookahead===0)break}if(B=0,H.lookahead>=A&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+A-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=A-1,B!==0&&H.prev_length<H.max_lazy_match&&H.strstart-B<=H.w_size-F&&(H.match_length=de(H,B),H.match_length<=5&&(H.strategy===1||H.match_length===A&&4096<H.strstart-H.match_start)&&(H.match_length=A-1)),H.prev_length>=A&&H.match_length<=H.prev_length){for(R=H.strstart+H.lookahead-A,j=o._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-A),H.lookahead-=H.prev_length-1,H.prev_length-=2;++H.strstart<=R&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+A-1])&H.hash_mask,B=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),--H.prev_length!=0;);if(H.match_available=0,H.match_length=A-1,H.strstart++,j&&(M(H,!1),H.strm.avail_out===0))return k}else if(H.match_available){if((j=o._tr_tally(H,0,H.window[H.strstart-1]))&&M(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return k}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(j=o._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<A-1?H.strstart:A-1,be===p?(M(H,!0),H.strm.avail_out===0?ae:Q):H.last_lit&&(M(H,!1),H.strm.avail_out===0)?k:ie}function te(H,be,B,j,R){this.good_length=H,this.max_lazy=be,this.nice_length=B,this.max_chain=j,this.func=R}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*C),this.dyn_dtree=new s.Buf16(2*(2*P+1)),this.bl_tree=new s.Buf16(2*(2*$+1)),we(this.dyn_ltree),we(this.dyn_dtree),we(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(N+1),this.heap=new s.Buf16(2*E+1),we(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*E+1),we(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(H){var be;return H&&H.state?(H.total_in=H.total_out=0,H.data_type=m,(be=H.state).pending=0,be.pending_out=0,be.wrap<0&&(be.wrap=-be.wrap),be.status=be.wrap?S:O,H.adler=be.wrap===2?0:1,be.last_flush=f,o._tr_init(be),h):se(H,y)}function J(H){var be=Z(H);return be===h&&function(B){B.window_size=2*B.w_size,we(B.head),B.max_lazy_match=a[B.level].max_lazy,B.good_match=a[B.level].good_length,B.nice_match=a[B.level].nice_length,B.max_chain_length=a[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=A-1,B.match_available=0,B.ins_h=0}(H.state),be}function Ee(H,be,B,j,R,W){if(!H)return y;var G=1;if(be===g&&(be=6),j<0?(G=0,j=-j):15<j&&(G=2,j-=16),R<1||w<R||B!==v||j<8||15<j||be<0||9<be||W<0||b<W)return se(H,y);j===8&&(j=9);var ne=new ce;return(H.state=ne).strm=H,ne.wrap=G,ne.gzhead=null,ne.w_bits=j,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=R+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+A-1)/A),ne.window=new s.Buf8(2*ne.w_size),ne.head=new s.Buf16(ne.hash_size),ne.prev=new s.Buf16(ne.w_size),ne.lit_bufsize=1<<R+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new s.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=be,ne.strategy=W,ne.method=B,J(H)}a=[new te(0,0,0,0,function(H,be){var B=65535;for(B>H.pending_buf_size-5&&(B=H.pending_buf_size-5);;){if(H.lookahead<=1){if(ue(H),H.lookahead===0&&be===f)return k;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var j=H.block_start+B;if((H.strstart===0||H.strstart>=j)&&(H.lookahead=H.strstart-j,H.strstart=j,M(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-F&&(M(H,!1),H.strm.avail_out===0))return k}return H.insert=0,be===p?(M(H,!0),H.strm.avail_out===0?ae:Q):(H.strstart>H.block_start&&(M(H,!1),H.strm.avail_out),k)}),new te(4,4,8,4,z),new te(4,5,16,8,z),new te(4,6,32,32,z),new te(4,4,16,16,V),new te(8,16,32,32,V),new te(8,16,128,128,V),new te(8,32,128,256,V),new te(32,128,258,1024,V),new te(32,258,258,4096,V)],i.deflateInit=function(H,be){return Ee(H,be,v,15,8,0)},i.deflateInit2=Ee,i.deflateReset=J,i.deflateResetKeep=Z,i.deflateSetHeader=function(H,be){return H&&H.state?H.state.wrap!==2?y:(H.state.gzhead=be,h):y},i.deflate=function(H,be){var B,j,R,W;if(!H||!H.state||5<be||be<0)return H?se(H,y):y;if(j=H.state,!H.output||!H.input&&H.avail_in!==0||j.status===666&&be!==p)return se(H,H.avail_out===0?-5:y);if(j.strm=H,B=j.last_flush,j.last_flush=be,j.status===S)if(j.wrap===2)H.adler=0,K(j,31),K(j,139),K(j,8),j.gzhead?(K(j,(j.gzhead.text?1:0)+(j.gzhead.hcrc?2:0)+(j.gzhead.extra?4:0)+(j.gzhead.name?8:0)+(j.gzhead.comment?16:0)),K(j,255&j.gzhead.time),K(j,j.gzhead.time>>8&255),K(j,j.gzhead.time>>16&255),K(j,j.gzhead.time>>24&255),K(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),K(j,255&j.gzhead.os),j.gzhead.extra&&j.gzhead.extra.length&&(K(j,255&j.gzhead.extra.length),K(j,j.gzhead.extra.length>>8&255)),j.gzhead.hcrc&&(H.adler=c(H.adler,j.pending_buf,j.pending,0)),j.gzindex=0,j.status=69):(K(j,0),K(j,0),K(j,0),K(j,0),K(j,0),K(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),K(j,3),j.status=O);else{var G=v+(j.w_bits-8<<4)<<8;G|=(2<=j.strategy||j.level<2?0:j.level<6?1:j.level===6?2:3)<<6,j.strstart!==0&&(G|=32),G+=31-G%31,j.status=O,ee(j,G),j.strstart!==0&&(ee(j,H.adler>>>16),ee(j,65535&H.adler)),H.adler=1}if(j.status===69)if(j.gzhead.extra){for(R=j.pending;j.gzindex<(65535&j.gzhead.extra.length)&&(j.pending!==j.pending_buf_size||(j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),ve(H),R=j.pending,j.pending!==j.pending_buf_size));)K(j,255&j.gzhead.extra[j.gzindex]),j.gzindex++;j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),j.gzindex===j.gzhead.extra.length&&(j.gzindex=0,j.status=73)}else j.status=73;if(j.status===73)if(j.gzhead.name){R=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),ve(H),R=j.pending,j.pending===j.pending_buf_size)){W=1;break}W=j.gzindex<j.gzhead.name.length?255&j.gzhead.name.charCodeAt(j.gzindex++):0,K(j,W)}while(W!==0);j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),W===0&&(j.gzindex=0,j.status=91)}else j.status=91;if(j.status===91)if(j.gzhead.comment){R=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),ve(H),R=j.pending,j.pending===j.pending_buf_size)){W=1;break}W=j.gzindex<j.gzhead.comment.length?255&j.gzhead.comment.charCodeAt(j.gzindex++):0,K(j,W)}while(W!==0);j.gzhead.hcrc&&j.pending>R&&(H.adler=c(H.adler,j.pending_buf,j.pending-R,R)),W===0&&(j.status=103)}else j.status=103;if(j.status===103&&(j.gzhead.hcrc?(j.pending+2>j.pending_buf_size&&ve(H),j.pending+2<=j.pending_buf_size&&(K(j,255&H.adler),K(j,H.adler>>8&255),H.adler=0,j.status=O)):j.status=O),j.pending!==0){if(ve(H),H.avail_out===0)return j.last_flush=-1,h}else if(H.avail_in===0&&fe(be)<=fe(B)&&be!==p)return se(H,-5);if(j.status===666&&H.avail_in!==0)return se(H,-5);if(H.avail_in!==0||j.lookahead!==0||be!==f&&j.status!==666){var ne=j.strategy===2?function(re,Se){for(var Ne;;){if(re.lookahead===0&&(ue(re),re.lookahead===0)){if(Se===f)return k;break}if(re.match_length=0,Ne=o._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,Ne&&(M(re,!1),re.strm.avail_out===0))return k}return re.insert=0,Se===p?(M(re,!0),re.strm.avail_out===0?ae:Q):re.last_lit&&(M(re,!1),re.strm.avail_out===0)?k:ie}(j,be):j.strategy===3?function(re,Se){for(var Ne,Ae,Ie,Fe,Ke=re.window;;){if(re.lookahead<=D){if(ue(re),re.lookahead<=D&&Se===f)return k;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=A&&0<re.strstart&&(Ae=Ke[Ie=re.strstart-1])===Ke[++Ie]&&Ae===Ke[++Ie]&&Ae===Ke[++Ie]){Fe=re.strstart+D;do;while(Ae===Ke[++Ie]&&Ae===Ke[++Ie]&&Ae===Ke[++Ie]&&Ae===Ke[++Ie]&&Ae===Ke[++Ie]&&Ae===Ke[++Ie]&&Ae===Ke[++Ie]&&Ae===Ke[++Ie]&&Ie<Fe);re.match_length=D-(Fe-Ie),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=A?(Ne=o._tr_tally(re,1,re.match_length-A),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(Ne=o._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),Ne&&(M(re,!1),re.strm.avail_out===0))return k}return re.insert=0,Se===p?(M(re,!0),re.strm.avail_out===0?ae:Q):re.last_lit&&(M(re,!1),re.strm.avail_out===0)?k:ie}(j,be):a[j.level].func(j,be);if(ne!==ae&&ne!==Q||(j.status=666),ne===k||ne===ae)return H.avail_out===0&&(j.last_flush=-1),h;if(ne===ie&&(be===1?o._tr_align(j):be!==5&&(o._tr_stored_block(j,0,0,!1),be===3&&(we(j.head),j.lookahead===0&&(j.strstart=0,j.block_start=0,j.insert=0))),ve(H),H.avail_out===0))return j.last_flush=-1,h}return be!==p?h:j.wrap<=0?1:(j.wrap===2?(K(j,255&H.adler),K(j,H.adler>>8&255),K(j,H.adler>>16&255),K(j,H.adler>>24&255),K(j,255&H.total_in),K(j,H.total_in>>8&255),K(j,H.total_in>>16&255),K(j,H.total_in>>24&255)):(ee(j,H.adler>>>16),ee(j,65535&H.adler)),ve(H),0<j.wrap&&(j.wrap=-j.wrap),j.pending!==0?h:1)},i.deflateEnd=function(H){var be;return H&&H.state?(be=H.state.status)!==S&&be!==69&&be!==73&&be!==91&&be!==103&&be!==O&&be!==666?se(H,y):(H.state=null,be===O?se(H,-3):h):y},i.deflateSetDictionary=function(H,be){var B,j,R,W,G,ne,re,Se,Ne=be.length;if(!H||!H.state||(W=(B=H.state).wrap)===2||W===1&&B.status!==S||B.lookahead)return y;for(W===1&&(H.adler=l(H.adler,be,Ne,0)),B.wrap=0,Ne>=B.w_size&&(W===0&&(we(B.head),B.strstart=0,B.block_start=0,B.insert=0),Se=new s.Buf8(B.w_size),s.arraySet(Se,be,Ne-B.w_size,B.w_size,0),be=Se,Ne=B.w_size),G=H.avail_in,ne=H.next_in,re=H.input,H.avail_in=Ne,H.next_in=0,H.input=be,ue(B);B.lookahead>=A;){for(j=B.strstart,R=B.lookahead-(A-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[j+A-1])&B.hash_mask,B.prev[j&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=j,j++,--R;);B.strstart=j,B.lookahead=A-1,ue(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=A-1,B.match_available=0,H.next_in=ne,H.input=re,H.avail_in=G,B.wrap=W,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,s){var o,l,c,u,f,p,h,y,g,b,m,v,w,E,P,$,C,N,A,D,F,S,O,k,ie;o=a.state,l=a.next_in,k=a.input,c=l+(a.avail_in-5),u=a.next_out,ie=a.output,f=u-(s-a.avail_out),p=u+(a.avail_out-257),h=o.dmax,y=o.wsize,g=o.whave,b=o.wnext,m=o.window,v=o.hold,w=o.bits,E=o.lencode,P=o.distcode,$=(1<<o.lenbits)-1,C=(1<<o.distbits)-1;e:do{w<15&&(v+=k[l++]<<w,w+=8,v+=k[l++]<<w,w+=8),N=E[v&$];t:for(;;){if(v>>>=A=N>>>24,w-=A,(A=N>>>16&255)===0)ie[u++]=65535&N;else{if(!(16&A)){if(!(64&A)){N=E[(65535&N)+(v&(1<<A)-1)];continue t}if(32&A){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}D=65535&N,(A&=15)&&(w<A&&(v+=k[l++]<<w,w+=8),D+=v&(1<<A)-1,v>>>=A,w-=A),w<15&&(v+=k[l++]<<w,w+=8,v+=k[l++]<<w,w+=8),N=P[v&C];r:for(;;){if(v>>>=A=N>>>24,w-=A,!(16&(A=N>>>16&255))){if(!(64&A)){N=P[(65535&N)+(v&(1<<A)-1)];continue r}a.msg="invalid distance code",o.mode=30;break e}if(F=65535&N,w<(A&=15)&&(v+=k[l++]<<w,(w+=8)<A&&(v+=k[l++]<<w,w+=8)),h<(F+=v&(1<<A)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(v>>>=A,w-=A,(A=u-f)<F){if(g<(A=F-A)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(O=m,(S=0)===b){if(S+=y-A,A<D){for(D-=A;ie[u++]=m[S++],--A;);S=u-F,O=ie}}else if(b<A){if(S+=y+b-A,(A-=b)<D){for(D-=A;ie[u++]=m[S++],--A;);if(S=0,b<D){for(D-=A=b;ie[u++]=m[S++],--A;);S=u-F,O=ie}}}else if(S+=b-A,A<D){for(D-=A;ie[u++]=m[S++],--A;);S=u-F,O=ie}for(;2<D;)ie[u++]=O[S++],ie[u++]=O[S++],ie[u++]=O[S++],D-=3;D&&(ie[u++]=O[S++],1<D&&(ie[u++]=O[S++]))}else{for(S=u-F;ie[u++]=ie[S++],ie[u++]=ie[S++],ie[u++]=ie[S++],2<(D-=3););D&&(ie[u++]=ie[S++],1<D&&(ie[u++]=ie[S++]))}break}}break}}while(l<c&&u<p);l-=D=w>>3,v&=(1<<(w-=D<<3))-1,a.next_in=l,a.next_out=u,a.avail_in=l<c?c-l+5:5-(l-c),a.avail_out=u<p?p-u+257:257-(u-p),o.hold=v,o.bits=w}},{}],49:[function(r,n,i){var a=r("../utils/common"),s=r("./adler32"),o=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,f=2,p=0,h=-2,y=1,g=852,b=592;function m(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(S){var O;return S&&S.state?(O=S.state,S.total_in=S.total_out=O.total=0,S.msg="",O.wrap&&(S.adler=1&O.wrap),O.mode=y,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new a.Buf32(g),O.distcode=O.distdyn=new a.Buf32(b),O.sane=1,O.back=-1,p):h}function E(S){var O;return S&&S.state?((O=S.state).wsize=0,O.whave=0,O.wnext=0,w(S)):h}function P(S,O){var k,ie;return S&&S.state?(ie=S.state,O<0?(k=0,O=-O):(k=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?h:(ie.window!==null&&ie.wbits!==O&&(ie.window=null),ie.wrap=k,ie.wbits=O,E(S))):h}function $(S,O){var k,ie;return S?(ie=new v,(S.state=ie).window=null,(k=P(S,O))!==p&&(S.state=null),k):h}var C,N,A=!0;function D(S){if(A){var O;for(C=new a.Buf32(512),N=new a.Buf32(32),O=0;O<144;)S.lens[O++]=8;for(;O<256;)S.lens[O++]=9;for(;O<280;)S.lens[O++]=7;for(;O<288;)S.lens[O++]=8;for(c(u,S.lens,0,288,C,0,S.work,{bits:9}),O=0;O<32;)S.lens[O++]=5;c(f,S.lens,0,32,N,0,S.work,{bits:5}),A=!1}S.lencode=C,S.lenbits=9,S.distcode=N,S.distbits=5}function F(S,O,k,ie){var ae,Q=S.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new a.Buf8(Q.wsize)),ie>=Q.wsize?(a.arraySet(Q.window,O,k-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(ie<(ae=Q.wsize-Q.wnext)&&(ae=ie),a.arraySet(Q.window,O,k-ie,ae,Q.wnext),(ie-=ae)?(a.arraySet(Q.window,O,k-ie,ie,0),Q.wnext=ie,Q.whave=Q.wsize):(Q.wnext+=ae,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=ae))),0}i.inflateReset=E,i.inflateReset2=P,i.inflateResetKeep=w,i.inflateInit=function(S){return $(S,15)},i.inflateInit2=$,i.inflate=function(S,O){var k,ie,ae,Q,se,fe,we,ve,M,K,ee,de,ue,z,V,te,ce,Z,J,Ee,H,be,B,j,R=0,W=new a.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return h;(k=S.state).mode===12&&(k.mode=13),se=S.next_out,ae=S.output,we=S.avail_out,Q=S.next_in,ie=S.input,fe=S.avail_in,ve=k.hold,M=k.bits,K=fe,ee=we,be=p;e:for(;;)switch(k.mode){case y:if(k.wrap===0){k.mode=13;break}for(;M<16;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}if(2&k.wrap&&ve===35615){W[k.check=0]=255&ve,W[1]=ve>>>8&255,k.check=o(k.check,W,2,0),M=ve=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&ve)<<8)+(ve>>8))%31){S.msg="incorrect header check",k.mode=30;break}if((15&ve)!=8){S.msg="unknown compression method",k.mode=30;break}if(M-=4,H=8+(15&(ve>>>=4)),k.wbits===0)k.wbits=H;else if(H>k.wbits){S.msg="invalid window size",k.mode=30;break}k.dmax=1<<H,S.adler=k.check=1,k.mode=512&ve?10:12,M=ve=0;break;case 2:for(;M<16;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}if(k.flags=ve,(255&k.flags)!=8){S.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){S.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=ve>>8&1),512&k.flags&&(W[0]=255&ve,W[1]=ve>>>8&255,k.check=o(k.check,W,2,0)),M=ve=0,k.mode=3;case 3:for(;M<32;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}k.head&&(k.head.time=ve),512&k.flags&&(W[0]=255&ve,W[1]=ve>>>8&255,W[2]=ve>>>16&255,W[3]=ve>>>24&255,k.check=o(k.check,W,4,0)),M=ve=0,k.mode=4;case 4:for(;M<16;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}k.head&&(k.head.xflags=255&ve,k.head.os=ve>>8),512&k.flags&&(W[0]=255&ve,W[1]=ve>>>8&255,k.check=o(k.check,W,2,0)),M=ve=0,k.mode=5;case 5:if(1024&k.flags){for(;M<16;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}k.length=ve,k.head&&(k.head.extra_len=ve),512&k.flags&&(W[0]=255&ve,W[1]=ve>>>8&255,k.check=o(k.check,W,2,0)),M=ve=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(fe<(de=k.length)&&(de=fe),de&&(k.head&&(H=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),a.arraySet(k.head.extra,ie,Q,de,H)),512&k.flags&&(k.check=o(k.check,ie,de,Q)),fe-=de,Q+=de,k.length-=de),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(fe===0)break e;for(de=0;H=ie[Q+de++],k.head&&H&&k.length<65536&&(k.head.name+=String.fromCharCode(H)),H&&de<fe;);if(512&k.flags&&(k.check=o(k.check,ie,de,Q)),fe-=de,Q+=de,H)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(fe===0)break e;for(de=0;H=ie[Q+de++],k.head&&H&&k.length<65536&&(k.head.comment+=String.fromCharCode(H)),H&&de<fe;);if(512&k.flags&&(k.check=o(k.check,ie,de,Q)),fe-=de,Q+=de,H)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;M<16;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}if(ve!==(65535&k.check)){S.msg="header crc mismatch",k.mode=30;break}M=ve=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),S.adler=k.check=0,k.mode=12;break;case 10:for(;M<32;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}S.adler=k.check=m(ve),M=ve=0,k.mode=11;case 11:if(k.havedict===0)return S.next_out=se,S.avail_out=we,S.next_in=Q,S.avail_in=fe,k.hold=ve,k.bits=M,2;S.adler=k.check=1,k.mode=12;case 12:if(O===5||O===6)break e;case 13:if(k.last){ve>>>=7&M,M-=7&M,k.mode=27;break}for(;M<3;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}switch(k.last=1&ve,M-=1,3&(ve>>>=1)){case 0:k.mode=14;break;case 1:if(D(k),k.mode=20,O!==6)break;ve>>>=2,M-=2;break e;case 2:k.mode=17;break;case 3:S.msg="invalid block type",k.mode=30}ve>>>=2,M-=2;break;case 14:for(ve>>>=7&M,M-=7&M;M<32;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}if((65535&ve)!=(ve>>>16^65535)){S.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&ve,M=ve=0,k.mode=15,O===6)break e;case 15:k.mode=16;case 16:if(de=k.length){if(fe<de&&(de=fe),we<de&&(de=we),de===0)break e;a.arraySet(ae,ie,Q,de,se),fe-=de,Q+=de,we-=de,se+=de,k.length-=de;break}k.mode=12;break;case 17:for(;M<14;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}if(k.nlen=257+(31&ve),ve>>>=5,M-=5,k.ndist=1+(31&ve),ve>>>=5,M-=5,k.ncode=4+(15&ve),ve>>>=4,M-=4,286<k.nlen||30<k.ndist){S.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;M<3;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}k.lens[G[k.have++]]=7&ve,ve>>>=3,M-=3}for(;k.have<19;)k.lens[G[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,B={bits:k.lenbits},be=c(0,k.lens,0,19,k.lencode,0,k.work,B),k.lenbits=B.bits,be){S.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;te=(R=k.lencode[ve&(1<<k.lenbits)-1])>>>16&255,ce=65535&R,!((V=R>>>24)<=M);){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}if(ce<16)ve>>>=V,M-=V,k.lens[k.have++]=ce;else{if(ce===16){for(j=V+2;M<j;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}if(ve>>>=V,M-=V,k.have===0){S.msg="invalid bit length repeat",k.mode=30;break}H=k.lens[k.have-1],de=3+(3&ve),ve>>>=2,M-=2}else if(ce===17){for(j=V+3;M<j;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}M-=V,H=0,de=3+(7&(ve>>>=V)),ve>>>=3,M-=3}else{for(j=V+7;M<j;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}M-=V,H=0,de=11+(127&(ve>>>=V)),ve>>>=7,M-=7}if(k.have+de>k.nlen+k.ndist){S.msg="invalid bit length repeat",k.mode=30;break}for(;de--;)k.lens[k.have++]=H}}if(k.mode===30)break;if(k.lens[256]===0){S.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,B={bits:k.lenbits},be=c(u,k.lens,0,k.nlen,k.lencode,0,k.work,B),k.lenbits=B.bits,be){S.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,B={bits:k.distbits},be=c(f,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,B),k.distbits=B.bits,be){S.msg="invalid distances set",k.mode=30;break}if(k.mode=20,O===6)break e;case 20:k.mode=21;case 21:if(6<=fe&&258<=we){S.next_out=se,S.avail_out=we,S.next_in=Q,S.avail_in=fe,k.hold=ve,k.bits=M,l(S,ee),se=S.next_out,ae=S.output,we=S.avail_out,Q=S.next_in,ie=S.input,fe=S.avail_in,ve=k.hold,M=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;te=(R=k.lencode[ve&(1<<k.lenbits)-1])>>>16&255,ce=65535&R,!((V=R>>>24)<=M);){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}if(te&&!(240&te)){for(Z=V,J=te,Ee=ce;te=(R=k.lencode[Ee+((ve&(1<<Z+J)-1)>>Z)])>>>16&255,ce=65535&R,!(Z+(V=R>>>24)<=M);){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}ve>>>=Z,M-=Z,k.back+=Z}if(ve>>>=V,M-=V,k.back+=V,k.length=ce,te===0){k.mode=26;break}if(32&te){k.back=-1,k.mode=12;break}if(64&te){S.msg="invalid literal/length code",k.mode=30;break}k.extra=15&te,k.mode=22;case 22:if(k.extra){for(j=k.extra;M<j;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}k.length+=ve&(1<<k.extra)-1,ve>>>=k.extra,M-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;te=(R=k.distcode[ve&(1<<k.distbits)-1])>>>16&255,ce=65535&R,!((V=R>>>24)<=M);){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}if(!(240&te)){for(Z=V,J=te,Ee=ce;te=(R=k.distcode[Ee+((ve&(1<<Z+J)-1)>>Z)])>>>16&255,ce=65535&R,!(Z+(V=R>>>24)<=M);){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}ve>>>=Z,M-=Z,k.back+=Z}if(ve>>>=V,M-=V,k.back+=V,64&te){S.msg="invalid distance code",k.mode=30;break}k.offset=ce,k.extra=15&te,k.mode=24;case 24:if(k.extra){for(j=k.extra;M<j;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}k.offset+=ve&(1<<k.extra)-1,ve>>>=k.extra,M-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){S.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(we===0)break e;if(de=ee-we,k.offset>de){if((de=k.offset-de)>k.whave&&k.sane){S.msg="invalid distance too far back",k.mode=30;break}ue=de>k.wnext?(de-=k.wnext,k.wsize-de):k.wnext-de,de>k.length&&(de=k.length),z=k.window}else z=ae,ue=se-k.offset,de=k.length;for(we<de&&(de=we),we-=de,k.length-=de;ae[se++]=z[ue++],--de;);k.length===0&&(k.mode=21);break;case 26:if(we===0)break e;ae[se++]=k.length,we--,k.mode=21;break;case 27:if(k.wrap){for(;M<32;){if(fe===0)break e;fe--,ve|=ie[Q++]<<M,M+=8}if(ee-=we,S.total_out+=ee,k.total+=ee,ee&&(S.adler=k.check=k.flags?o(k.check,ae,ee,se-ee):s(k.check,ae,ee,se-ee)),ee=we,(k.flags?ve:m(ve))!==k.check){S.msg="incorrect data check",k.mode=30;break}M=ve=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;M<32;){if(fe===0)break e;fe--,ve+=ie[Q++]<<M,M+=8}if(ve!==(4294967295&k.total)){S.msg="incorrect length check",k.mode=30;break}M=ve=0}k.mode=29;case 29:be=1;break e;case 30:be=-3;break e;case 31:return-4;case 32:default:return h}return S.next_out=se,S.avail_out=we,S.next_in=Q,S.avail_in=fe,k.hold=ve,k.bits=M,(k.wsize||ee!==S.avail_out&&k.mode<30&&(k.mode<27||O!==4))&&F(S,S.output,S.next_out,ee-S.avail_out)?(k.mode=31,-4):(K-=S.avail_in,ee-=S.avail_out,S.total_in+=K,S.total_out+=ee,k.total+=ee,k.wrap&&ee&&(S.adler=k.check=k.flags?o(k.check,ae,ee,S.next_out-ee):s(k.check,ae,ee,S.next_out-ee)),S.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(K==0&&ee===0||O===4)&&be===p&&(be=-5),be)},i.inflateEnd=function(S){if(!S||!S.state)return h;var O=S.state;return O.window&&(O.window=null),S.state=null,p},i.inflateGetHeader=function(S,O){var k;return S&&S.state&&2&(k=S.state).wrap?((k.head=O).done=!1,p):h},i.inflateSetDictionary=function(S,O){var k,ie=O.length;return S&&S.state?(k=S.state).wrap!==0&&k.mode!==11?h:k.mode===11&&s(1,O,ie,0)!==k.check?-3:F(S,O,ie,ie)?(k.mode=31,-4):(k.havedict=1,p):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,f,p,h,y,g,b,m){var v,w,E,P,$,C,N,A,D,F=m.bits,S=0,O=0,k=0,ie=0,ae=0,Q=0,se=0,fe=0,we=0,ve=0,M=null,K=0,ee=new a.Buf16(16),de=new a.Buf16(16),ue=null,z=0;for(S=0;S<=15;S++)ee[S]=0;for(O=0;O<h;O++)ee[f[p+O]]++;for(ae=F,ie=15;1<=ie&&ee[ie]===0;ie--);if(ie<ae&&(ae=ie),ie===0)return y[g++]=20971520,y[g++]=20971520,m.bits=1,0;for(k=1;k<ie&&ee[k]===0;k++);for(ae<k&&(ae=k),S=fe=1;S<=15;S++)if(fe<<=1,(fe-=ee[S])<0)return-1;if(0<fe&&(u===0||ie!==1))return-1;for(de[1]=0,S=1;S<15;S++)de[S+1]=de[S]+ee[S];for(O=0;O<h;O++)f[p+O]!==0&&(b[de[f[p+O]]++]=O);if(C=u===0?(M=ue=b,19):u===1?(M=s,K-=257,ue=o,z-=257,256):(M=l,ue=c,-1),S=k,$=g,se=O=ve=0,E=-1,P=(we=1<<(Q=ae))-1,u===1&&852<we||u===2&&592<we)return 1;for(;;){for(N=S-se,D=b[O]<C?(A=0,b[O]):b[O]>C?(A=ue[z+b[O]],M[K+b[O]]):(A=96,0),v=1<<S-se,k=w=1<<Q;y[$+(ve>>se)+(w-=v)]=N<<24|A<<16|D|0,w!==0;);for(v=1<<S-1;ve&v;)v>>=1;if(v!==0?(ve&=v-1,ve+=v):ve=0,O++,--ee[S]==0){if(S===ie)break;S=f[p+b[O]]}if(ae<S&&(ve&P)!==E){for(se===0&&(se=ae),$+=k,fe=1<<(Q=S-se);Q+se<ie&&!((fe-=ee[Q+se])<=0);)Q++,fe<<=1;if(we+=1<<Q,u===1&&852<we||u===2&&592<we)return 1;y[E=ve&P]=ae<<24|Q<<16|$-g|0}}return ve!==0&&(y[$+ve]=S-se<<24|64<<16|0),m.bits=ae,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),s=0,o=1;function l(R){for(var W=R.length;0<=--W;)R[W]=0}var c=0,u=29,f=256,p=f+1+u,h=30,y=19,g=2*p+1,b=15,m=16,v=7,w=256,E=16,P=17,$=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(p+2));l(F);var S=new Array(2*h);l(S);var O=new Array(512);l(O);var k=new Array(256);l(k);var ie=new Array(u);l(ie);var ae,Q,se,fe=new Array(h);function we(R,W,G,ne,re){this.static_tree=R,this.extra_bits=W,this.extra_base=G,this.elems=ne,this.max_length=re,this.has_stree=R&&R.length}function ve(R,W){this.dyn_tree=R,this.max_code=0,this.stat_desc=W}function M(R){return R<256?O[R]:O[256+(R>>>7)]}function K(R,W){R.pending_buf[R.pending++]=255&W,R.pending_buf[R.pending++]=W>>>8&255}function ee(R,W,G){R.bi_valid>m-G?(R.bi_buf|=W<<R.bi_valid&65535,K(R,R.bi_buf),R.bi_buf=W>>m-R.bi_valid,R.bi_valid+=G-m):(R.bi_buf|=W<<R.bi_valid&65535,R.bi_valid+=G)}function de(R,W,G){ee(R,G[2*W],G[2*W+1])}function ue(R,W){for(var G=0;G|=1&R,R>>>=1,G<<=1,0<--W;);return G>>>1}function z(R,W,G){var ne,re,Se=new Array(b+1),Ne=0;for(ne=1;ne<=b;ne++)Se[ne]=Ne=Ne+G[ne-1]<<1;for(re=0;re<=W;re++){var Ae=R[2*re+1];Ae!==0&&(R[2*re]=ue(Se[Ae]++,Ae))}}function V(R){var W;for(W=0;W<p;W++)R.dyn_ltree[2*W]=0;for(W=0;W<h;W++)R.dyn_dtree[2*W]=0;for(W=0;W<y;W++)R.bl_tree[2*W]=0;R.dyn_ltree[2*w]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function te(R){8<R.bi_valid?K(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function ce(R,W,G,ne){var re=2*W,Se=2*G;return R[re]<R[Se]||R[re]===R[Se]&&ne[W]<=ne[G]}function Z(R,W,G){for(var ne=R.heap[G],re=G<<1;re<=R.heap_len&&(re<R.heap_len&&ce(W,R.heap[re+1],R.heap[re],R.depth)&&re++,!ce(W,ne,R.heap[re],R.depth));)R.heap[G]=R.heap[re],G=re,re<<=1;R.heap[G]=ne}function J(R,W,G){var ne,re,Se,Ne,Ae=0;if(R.last_lit!==0)for(;ne=R.pending_buf[R.d_buf+2*Ae]<<8|R.pending_buf[R.d_buf+2*Ae+1],re=R.pending_buf[R.l_buf+Ae],Ae++,ne===0?de(R,re,W):(de(R,(Se=k[re])+f+1,W),(Ne=C[Se])!==0&&ee(R,re-=ie[Se],Ne),de(R,Se=M(--ne),G),(Ne=N[Se])!==0&&ee(R,ne-=fe[Se],Ne)),Ae<R.last_lit;);de(R,w,W)}function Ee(R,W){var G,ne,re,Se=W.dyn_tree,Ne=W.stat_desc.static_tree,Ae=W.stat_desc.has_stree,Ie=W.stat_desc.elems,Fe=-1;for(R.heap_len=0,R.heap_max=g,G=0;G<Ie;G++)Se[2*G]!==0?(R.heap[++R.heap_len]=Fe=G,R.depth[G]=0):Se[2*G+1]=0;for(;R.heap_len<2;)Se[2*(re=R.heap[++R.heap_len]=Fe<2?++Fe:0)]=1,R.depth[re]=0,R.opt_len--,Ae&&(R.static_len-=Ne[2*re+1]);for(W.max_code=Fe,G=R.heap_len>>1;1<=G;G--)Z(R,Se,G);for(re=Ie;G=R.heap[1],R.heap[1]=R.heap[R.heap_len--],Z(R,Se,1),ne=R.heap[1],R.heap[--R.heap_max]=G,R.heap[--R.heap_max]=ne,Se[2*re]=Se[2*G]+Se[2*ne],R.depth[re]=(R.depth[G]>=R.depth[ne]?R.depth[G]:R.depth[ne])+1,Se[2*G+1]=Se[2*ne+1]=re,R.heap[1]=re++,Z(R,Se,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(Ke,nt){var wt,et,ar,gt,zr,$t,Mt=nt.dyn_tree,ai=nt.max_code,Ft=nt.stat_desc.static_tree,ns=nt.stat_desc.has_stree,xr=nt.stat_desc.extra_bits,_n=nt.stat_desc.extra_base,Bn=nt.stat_desc.max_length,nr=0;for(gt=0;gt<=b;gt++)Ke.bl_count[gt]=0;for(Mt[2*Ke.heap[Ke.heap_max]+1]=0,wt=Ke.heap_max+1;wt<g;wt++)Bn<(gt=Mt[2*Mt[2*(et=Ke.heap[wt])+1]+1]+1)&&(gt=Bn,nr++),Mt[2*et+1]=gt,ai<et||(Ke.bl_count[gt]++,zr=0,_n<=et&&(zr=xr[et-_n]),$t=Mt[2*et],Ke.opt_len+=$t*(gt+zr),ns&&(Ke.static_len+=$t*(Ft[2*et+1]+zr)));if(nr!==0){do{for(gt=Bn-1;Ke.bl_count[gt]===0;)gt--;Ke.bl_count[gt]--,Ke.bl_count[gt+1]+=2,Ke.bl_count[Bn]--,nr-=2}while(0<nr);for(gt=Bn;gt!==0;gt--)for(et=Ke.bl_count[gt];et!==0;)ai<(ar=Ke.heap[--wt])||(Mt[2*ar+1]!==gt&&(Ke.opt_len+=(gt-Mt[2*ar+1])*Mt[2*ar],Mt[2*ar+1]=gt),et--)}}(R,W),z(Se,Fe,R.bl_count)}function H(R,W,G){var ne,re,Se=-1,Ne=W[1],Ae=0,Ie=7,Fe=4;for(Ne===0&&(Ie=138,Fe=3),W[2*(G+1)+1]=65535,ne=0;ne<=G;ne++)re=Ne,Ne=W[2*(ne+1)+1],++Ae<Ie&&re===Ne||(Ae<Fe?R.bl_tree[2*re]+=Ae:re!==0?(re!==Se&&R.bl_tree[2*re]++,R.bl_tree[2*E]++):Ae<=10?R.bl_tree[2*P]++:R.bl_tree[2*$]++,Se=re,Fe=(Ae=0)===Ne?(Ie=138,3):re===Ne?(Ie=6,3):(Ie=7,4))}function be(R,W,G){var ne,re,Se=-1,Ne=W[1],Ae=0,Ie=7,Fe=4;for(Ne===0&&(Ie=138,Fe=3),ne=0;ne<=G;ne++)if(re=Ne,Ne=W[2*(ne+1)+1],!(++Ae<Ie&&re===Ne)){if(Ae<Fe)for(;de(R,re,R.bl_tree),--Ae!=0;);else re!==0?(re!==Se&&(de(R,re,R.bl_tree),Ae--),de(R,E,R.bl_tree),ee(R,Ae-3,2)):Ae<=10?(de(R,P,R.bl_tree),ee(R,Ae-3,3)):(de(R,$,R.bl_tree),ee(R,Ae-11,7));Se=re,Fe=(Ae=0)===Ne?(Ie=138,3):re===Ne?(Ie=6,3):(Ie=7,4)}}l(fe);var B=!1;function j(R,W,G,ne){ee(R,(c<<1)+(ne?1:0),3),function(re,Se,Ne,Ae){te(re),K(re,Ne),K(re,~Ne),a.arraySet(re.pending_buf,re.window,Se,Ne,re.pending),re.pending+=Ne}(R,W,G)}i._tr_init=function(R){B||(function(){var W,G,ne,re,Se,Ne=new Array(b+1);for(re=ne=0;re<u-1;re++)for(ie[re]=ne,W=0;W<1<<C[re];W++)k[ne++]=re;for(k[ne-1]=re,re=Se=0;re<16;re++)for(fe[re]=Se,W=0;W<1<<N[re];W++)O[Se++]=re;for(Se>>=7;re<h;re++)for(fe[re]=Se<<7,W=0;W<1<<N[re]-7;W++)O[256+Se++]=re;for(G=0;G<=b;G++)Ne[G]=0;for(W=0;W<=143;)F[2*W+1]=8,W++,Ne[8]++;for(;W<=255;)F[2*W+1]=9,W++,Ne[9]++;for(;W<=279;)F[2*W+1]=7,W++,Ne[7]++;for(;W<=287;)F[2*W+1]=8,W++,Ne[8]++;for(z(F,p+1,Ne),W=0;W<h;W++)S[2*W+1]=5,S[2*W]=ue(W,5);ae=new we(F,C,f+1,p,b),Q=new we(S,N,0,h,b),se=new we(new Array(0),A,0,y,v)}(),B=!0),R.l_desc=new ve(R.dyn_ltree,ae),R.d_desc=new ve(R.dyn_dtree,Q),R.bl_desc=new ve(R.bl_tree,se),R.bi_buf=0,R.bi_valid=0,V(R)},i._tr_stored_block=j,i._tr_flush_block=function(R,W,G,ne){var re,Se,Ne=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(Ae){var Ie,Fe=4093624447;for(Ie=0;Ie<=31;Ie++,Fe>>>=1)if(1&Fe&&Ae.dyn_ltree[2*Ie]!==0)return s;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return o;for(Ie=32;Ie<f;Ie++)if(Ae.dyn_ltree[2*Ie]!==0)return o;return s}(R)),Ee(R,R.l_desc),Ee(R,R.d_desc),Ne=function(Ae){var Ie;for(H(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),H(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),Ee(Ae,Ae.bl_desc),Ie=y-1;3<=Ie&&Ae.bl_tree[2*D[Ie]+1]===0;Ie--);return Ae.opt_len+=3*(Ie+1)+5+5+4,Ie}(R),re=R.opt_len+3+7>>>3,(Se=R.static_len+3+7>>>3)<=re&&(re=Se)):re=Se=G+5,G+4<=re&&W!==-1?j(R,W,G,ne):R.strategy===4||Se===re?(ee(R,2+(ne?1:0),3),J(R,F,S)):(ee(R,4+(ne?1:0),3),function(Ae,Ie,Fe,Ke){var nt;for(ee(Ae,Ie-257,5),ee(Ae,Fe-1,5),ee(Ae,Ke-4,4),nt=0;nt<Ke;nt++)ee(Ae,Ae.bl_tree[2*D[nt]+1],3);be(Ae,Ae.dyn_ltree,Ie-1),be(Ae,Ae.dyn_dtree,Fe-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,Ne+1),J(R,R.dyn_ltree,R.dyn_dtree)),V(R),ne&&te(R)},i._tr_tally=function(R,W,G){return R.pending_buf[R.d_buf+2*R.last_lit]=W>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&W,R.pending_buf[R.l_buf+R.last_lit]=255&G,R.last_lit++,W===0?R.dyn_ltree[2*G]++:(R.matches++,W--,R.dyn_ltree[2*(k[G]+f+1)]++,R.dyn_dtree[2*M(W)]++),R.last_lit===R.lit_bufsize-1},i._tr_align=function(R){ee(R,2,3),de(R,w,F),function(W){W.bi_valid===16?(K(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(s,o){if(!s.setImmediate){var l,c,u,f,p=1,h={},y=!1,g=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,l={}.toString.call(s.process)==="[object process]"?function(E){Bt.nextTick(function(){v(E)})}:function(){if(s.postMessage&&!s.importScripts){var E=!0,P=s.onmessage;return s.onmessage=function(){E=!1},s.postMessage("","*"),s.onmessage=P,E}}()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",w,!1):s.attachEvent("onmessage",w),function(E){s.postMessage(f+E,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(E){v(E.data)},function(E){u.port2.postMessage(E)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(E){var P=g.createElement("script");P.onreadystatechange=function(){v(E),P.onreadystatechange=null,c.removeChild(P),P=null},c.appendChild(P)}):function(E){setTimeout(v,0,E)},b.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var P=new Array(arguments.length-1),$=0;$<P.length;$++)P[$]=arguments[$+1];var C={callback:E,args:P};return h[p]=C,l(p),p++},b.clearImmediate=m}function m(E){delete h[E]}function v(E){if(y)setTimeout(v,0,E);else{var P=h[E];if(P){y=!0;try{(function($){var C=$.callback,N=$.args;switch(N.length){case 0:C();break;case 1:C(N[0]);break;case 2:C(N[0],N[1]);break;case 3:C(N[0],N[1],N[2]);break;default:C.apply(o,N)}})(P)}finally{m(E),y=!1}}}}function w(E){E.source===s&&typeof E.data=="string"&&E.data.indexOf(f)===0&&v(+E.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof nl<"u"?nl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(wS)),wS.exports}var P3e=T3e();const C3e=BH(P3e);var Rg={exports:{}},xS,s7;function k3e(){if(s7)return xS;s7=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return t[i]}):r}return xS=e,xS}var o7;function I3e(){if(o7)return Rg.exports;o7=1;var t=k3e(),e=D6().Stream,r="    ";function n(c,u){typeof u!="object"&&(u={indent:u});var f=u.stream?new e:null,p="",h=!1,y=u.indent?u.indent===!0?r:u.indent:"",g=!0;function b(P){g?Bt.nextTick(P):P()}function m(P,$){if($!==void 0&&(p+=$),P&&!h&&(f=f||new e,h=!0),P&&h){var C=p;b(function(){f.emit("data",C)}),p=""}}function v(P,$){o(m,s(P,y,y?1:0),$)}function w(){if(f){var P=p;b(function(){f.emit("data",P),f.emit("end"),f.readable=!1,f.emit("close")})}}function E(P){var $=P.encoding||"UTF-8",C={version:"1.0",encoding:$};P.standalone&&(C.standalone=P.standalone),v({"?xml":{_attr:C}}),p=p.replace("/>","?>")}return b(function(){g=!1}),u.declaration&&E(u.declaration),c&&c.forEach?c.forEach(function(P,$){var C;$+1===c.length&&(C=w),v(P,C)}):v(c,w),f?(f.readable=!0,f):p}function i(){var c=Array.prototype.slice.call(arguments),u={_elem:s(c)};return u.push=function(f){if(!this.append)throw new Error("not assigned to a parent!");var p=this,h=this._elem.indent;o(this.append,s(f,h,this._elem.icount+(h?1:0)),function(){p.append(!0)})},u.close=function(f){f!==void 0&&this.push(f),this.end&&this.end()},u}function a(c,u){return new Array(u||0).join(c||"")}function s(c,u,f){f=f||0;var p=a(u,f),h,y=c,g=!1;if(typeof c=="object"){var b=Object.keys(c);if(h=b[0],y=c[h],y&&y._elem)return y._elem.name=h,y._elem.icount=f,y._elem.indent=u,y._elem.indents=p,y._elem.interrupt=y,y._elem}var m=[],v=[],w;function E(P){var $=Object.keys(P);$.forEach(function(C){m.push(l(C,P[C]))})}switch(typeof y){case"object":if(y===null)break;y._attr&&E(y._attr),y._cdata&&v.push(("<![CDATA["+y._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),y.forEach&&(w=!1,v.push(""),y.forEach(function(P){if(typeof P=="object"){var $=Object.keys(P)[0];$=="_attr"?E(P._attr):v.push(s(P,u,f+1))}else v.pop(),w=!0,v.push(t(P))}),w||v.push(""));break;default:v.push(t(y))}return{name:h,interrupt:g,attributes:m,content:v,icount:f,indents:p,indent:u}}function o(c,u,f){if(typeof u!="object")return c(!1,u);var p=u.interrupt?1:u.content.length;function h(){for(;u.content.length;){var g=u.content.shift();if(g!==void 0){if(y(g))return;o(c,g)}}c(!1,(p>1?u.indents:"")+(u.name?"</"+u.name+">":"")+(u.indent&&!f?`
`:"")),f&&f()}function y(g){return g.interrupt?(g.interrupt.append=c,g.interrupt.end=h,g.interrupt=!1,c(!0),!0):!1}if(c(!1,u.indents+(u.name?"<"+u.name:"")+(u.attributes.length?" "+u.attributes.join(" "):"")+(p?u.name?">":"":u.name?"/>":"")+(u.indent&&p>1?`
`:"")),!p)return c(!1,u.indent?`
`:"");y(u)||h()}function l(c,u){return c+'="'+t(u)+'"'}return Rg.exports=n,Rg.exports.element=Rg.exports.Element=i,Rg.exports}var j3e=I3e();const Zr=BH(j3e),Lg=0,_S=32,O3e=32,R3e=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==O3e)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const s=t.slice(Lg,_S).map((l,c)=>l^i[c%i.length]),o=new Uint8Array(Lg+s.length+Math.max(0,t.length-_S));return o.set(t.slice(0,Lg)),o.set(s,Lg),o.set(t.slice(_S),Lg+s.length),o};class L3e{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class D3e{replace(e,r,n){let i=e;return r.forEach((a,s)=>{i=i.replace(new RegExp(`{${a.fileName}}`,"g"),(n+s).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class M3e{replace(e,r){let n=e;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class F3e{constructor(){We(this,"formatter"),We(this,"imageReplacer"),We(this,"numberingReplacer"),this.formatter=new L3e,this.imageReplacer=new D3e,this.numberingReplacer=new M3e}compile(e,r,n=[]){const i=new C3e,a=this.xmlifyFile(e,r),s=new Map(Object.entries(a));for(const[,o]of s)if(Array.isArray(o))for(const l of o)i.file(l.path,l.data);else i.file(o.path,o.data);for(const o of n)i.file(o.path,o.data);for(const o of e.Media.Array)o.type!=="svg"?i.file(`word/media/${o.fileName}`,o.data):(i.file(`word/media/${o.fileName}`,o.data),i.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(const{data:o,name:l,fontKey:c}of e.FontTable.fontOptionsWithKey){const[u]=l.split(".");i.file(`word/fonts/${u}.odttf`,R3e(o,c))}return i}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,i=Zr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=e.Comments.Relationships.RelationshipCount+1,s=Zr(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,e.Media),l=this.imageReplacer.getMediaData(s,e.Media);return{Relationships:{data:(o.forEach((c,u)=>{e.Document.Relationships.createRelationship(n+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Zr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const c=this.imageReplacer.replace(i,o,n);return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const c=Zr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Zr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Zr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Zr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((c,u)=>{const f=Zr(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,y)=>{c.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Zr(this.formatter.format(c.Relationships,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${u+1}.xml.rels`}}),FooterRelationships:e.Footers.map((c,u)=>{const f=Zr(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,y)=>{c.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Zr(this.formatter.format(c.Relationships,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${u+1}.xml.rels`}}),Headers:e.Headers.map((c,u)=>{const f=Zr(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,p,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/header${u+1}.xml`}}),Footers:e.Footers.map((c,u)=>{const f=Zr(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),p=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,p,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/footer${u+1}.xml`}}),ContentTypes:{data:Zr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Zr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Zr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Zr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Zr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Zr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const c=this.imageReplacer.replace(s,l,a);return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((c,u)=>{e.Comments.Relationships.createRelationship(a+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),Zr(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Zr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Zr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const B3e={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},l7=t=>t===!0?B3e.WITH_2_BLANKS:t===!1?void 0:t,_G=class Zh{static pack(e,r,n){return mSe(this,arguments,function*(i,a,s,o=[]){return this.compiler.compile(i,l7(s),o).generateAsync({type:a,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return Zh.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return Zh.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return Zh.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return Zh.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return Zh.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){const i=new N3e.Stream;return this.compiler.compile(e,l7(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(s=>{i.emit("data",s),i.emit("end")}),i}};We(_G,"compiler",new F3e);let $3e=_G;var EG={exports:{}};(function(t,e){(function(r,n){n()})(lg,function(){function r(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,u,f){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,u,f)},p.onerror=function(){console.error("could not download file")},p.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function a(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof lg=="object"&&lg.global===lg?lg:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,f){var p=s.URL||s.webkitURL,h=document.createElement("a");u=u||c.name||"download",h.download=u,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin===location.origin?a(h):i(h.href)?n(c,u,f):a(h,h.target="_blank")):(h.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(h.href)},4e4),setTimeout(function(){a(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,f),u);else if(i(c))n(c,u,f);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){a(p)})}}:function(c,u,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return n(c,u,f);var h=c.type==="application/octet-stream",y=/constructor/i.test(s.HTMLElement)||s.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||h&&y||o)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var w=b.result;w=g?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=w:location=w,p=null},b.readAsDataURL(c)}else{var m=s.URL||s.webkitURL,v=m.createObjectURL(c);p?p.location=v:location.href=v,p=null,setTimeout(function(){m.revokeObjectURL(v)},4e4)}});s.saveAs=l.saveAs=l,t.exports=l})})(EG);var U3e=EG.exports;function V3e({document:t,onBack:e}){const r=c=>Pa(new Date(c),"dd/MM/yyyy HH:mm",{locale:yi}),n=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),i=c=>{const u=new xt,f=[37,99,235],p=[245,158,11],h=[55,65,81],y=[156,163,175];u.setFillColor(...f),u.rect(0,0,210,25,"F"),u.setTextColor(255,255,255),u.setFontSize(24),u.setFont(void 0,"bold"),u.text("Legal",20,17),u.setTextColor(...p),u.text("X",50,17),u.setTextColor(255,255,255),u.setFontSize(10),u.setFont(void 0,"normal"),u.text("Sistema de Gestão Jurídica",20,22),u.setTextColor(...h),u.setFontSize(20),u.setFont(void 0,"bold"),u.text("PROCURAÇÃO",105,45,{align:"center"}),u.setDrawColor(...p),u.setLineWidth(2),u.line(20,50,190,50),u.setTextColor(...h),u.setFontSize(11),u.setFont(void 0,"normal");let g=65;const b=6,m=c.lawyers&&c.lawyers.length>1?`os(as) Srs(as). ${c.lawyers.join(", ")}`:`o(a) Sr(a). ${c.lawyers?c.lawyers[0]:"Advogado"}`,v=`
Pelo presente instrumento particular de procuração, eu, ${t.client}, 
nomeio e constituo como ${c.lawyers&&c.lawyers.length>1?"meus bastantes procuradores":"meu bastante procurador"} ${m}, 
para o fim específico de:

${c.object||"Representação jurídica"}

Outorgo-lhe poderes para representar-me ${c.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos"}, 
podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento 
do presente mandato.

Por ser verdade, firmo a presente.

${c.location||"São Paulo"}, ${c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}.


_________________________________
${t.client}
Outorgante
    `.trim();u.splitTextToSize(v,170).forEach(E=>{g>270&&(u.addPage(),g=30),u.text(E,20,g),g+=b}),u.setDrawColor(...y),u.setLineWidth(.5),u.line(20,280,190,280),u.setTextColor(...y),u.setFontSize(8),u.setFont(void 0,"normal"),u.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),u.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290),u.save(`procuracao_${t.client.replace(/\s+/g,"_").toLowerCase()}.pdf`)},a=c=>{const u=new xt,f=[37,99,235],p=[245,158,11],h=[55,65,81],y=[156,163,175],g=[34,197,94];u.setFillColor(...f),u.rect(0,0,210,25,"F"),u.setTextColor(255,255,255),u.setFontSize(24),u.setFont(void 0,"bold"),u.text("Legal",20,17),u.setTextColor(...p),u.text("X",50,17),u.setTextColor(255,255,255),u.setFontSize(10),u.setFont(void 0,"normal"),u.text("Sistema de Gestão Jurídica",20,22),u.setTextColor(...h),u.setFontSize(20),u.setFont(void 0,"bold"),u.text("RECIBO",105,45,{align:"center"}),u.setDrawColor(...p),u.setLineWidth(2),u.line(20,50,190,50),u.setFillColor(248,250,252),u.setDrawColor(...g),u.setLineWidth(1),u.roundedRect(20,55,170,20,3,3,"FD"),u.setTextColor(...g),u.setFontSize(16),u.setFont(void 0,"bold"),u.text(`Valor: ${n(c.amount||0)}`,105,67,{align:"center"}),u.setTextColor(...h),u.setFontSize(11),u.setFont(void 0,"normal");let b=85;const m=`
Recebi de ${t.client} a importância de ${n(c.amount||0)}, 
referente a ${c.description||"serviços jurídicos"}.

Forma de pagamento: ${c.paymentMethod||"Não especificado"}

Para clareza firmo o presente recibo.

${c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}


_________________________________
${c.lawyerName||"Advogado"}
OAB: ${c.lawyerOab||""}
CPF: ${c.lawyerCpf||""}
    `.trim();u.splitTextToSize(m,170).forEach(w=>{b>270&&(u.addPage(),b=30),u.text(w,20,b),b+=6}),u.setDrawColor(...y),u.setLineWidth(.5),u.line(20,280,190,280),u.setTextColor(...y),u.setFontSize(8),u.setFont(void 0,"normal"),u.text("Documento gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),u.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290),u.save(`recibo_${t.client.replace(/\s+/g,"_").toLowerCase()}.pdf`)},s=()=>{let c;if(t.type==="Procuração"){const u=t.data,f=u.lawyers&&u.lawyers.length>1?`os(as) Srs(as). ${u.lawyers.join(", ")}`:`o(a) Sr(a). ${u.lawyers?u.lawyers[0]:"Advogado"}`;c=new i7({sections:[{properties:{},children:[new br({children:[new Lt({text:"LegalX",bold:!0,size:32,color:"2563eb"}),new Lt({text:" - Sistema de Gestão Jurídica",size:20,color:"6b7280"})],alignment:Gt.CENTER,spacing:{after:400}}),new br({children:[new Lt({text:"PROCURAÇÃO",bold:!0,size:32})],alignment:Gt.CENTER,spacing:{after:600}}),new br({children:[new Lt({text:"Pelo presente instrumento particular de procuração, eu, "}),new Lt({text:t.client,bold:!0}),new Lt({text:`, nomeio e constituo como ${u.lawyers&&u.lawyers.length>1?"meus bastantes procuradores":"meu bastante procurador"} `}),new Lt({text:f,bold:!0}),new Lt({text:", para o fim específico de:"})],alignment:Gt.JUSTIFIED,spacing:{after:300}}),new br({children:[new Lt({text:u.object||"Representação jurídica",bold:!0,italics:!0})],alignment:Gt.JUSTIFIED,spacing:{after:300}}),new br({children:[new Lt({text:`Outorgo-lhe poderes para representar-me ${u.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos"}, podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento do presente mandato.`})],alignment:Gt.JUSTIFIED,spacing:{after:400}}),new br({children:[new Lt({text:"Por ser verdade, firmo a presente."})],alignment:Gt.JUSTIFIED,spacing:{after:600}}),new br({children:[new Lt({text:`${u.location||"São Paulo"}, ${u.date?new Date(u.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}.`})],alignment:Gt.RIGHT,spacing:{after:800}}),new br({children:[new Lt({text:"_________________________________"})],alignment:Gt.CENTER,spacing:{after:100}}),new br({children:[new Lt({text:t.client,bold:!0})],alignment:Gt.CENTER,spacing:{after:100}}),new br({children:[new Lt({text:"Outorgante",size:20,color:"6b7280"})],alignment:Gt.CENTER,spacing:{after:800}}),new br({children:[new Lt({text:"Documento gerado pelo LegalX - Sistema de Gestão Jurídica",size:16,color:"9ca3af"})],alignment:Gt.CENTER,spacing:{after:100}}),new br({children:[new Lt({text:`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,size:16,color:"9ca3af"})],alignment:Gt.CENTER})]}]})}else if(t.type==="Recibo"){const u=t.data;c=new i7({sections:[{properties:{},children:[new br({children:[new Lt({text:"LegalX",bold:!0,size:32,color:"2563eb"}),new Lt({text:" - Sistema de Gestão Jurídica",size:20,color:"6b7280"})],alignment:Gt.CENTER,spacing:{after:400}}),new br({children:[new Lt({text:"RECIBO",bold:!0,size:32})],alignment:Gt.CENTER,spacing:{after:400}}),new br({children:[new Lt({text:`Valor: ${n(u.amount||0)}`,bold:!0,size:28,color:"22c55e"})],alignment:Gt.CENTER,spacing:{after:600}}),new br({children:[new Lt({text:"Recebi de "}),new Lt({text:t.client,bold:!0}),new Lt({text:" a importância de "}),new Lt({text:n(u.amount||0),bold:!0}),new Lt({text:", referente a "}),new Lt({text:u.description||"serviços jurídicos",bold:!0}),new Lt({text:"."})],alignment:Gt.JUSTIFIED,spacing:{after:300}}),new br({children:[new Lt({text:"Forma de pagamento: "}),new Lt({text:u.paymentMethod||"Não especificado",bold:!0})],alignment:Gt.JUSTIFIED,spacing:{after:400}}),new br({children:[new Lt({text:"Para clareza firmo o presente recibo."})],alignment:Gt.JUSTIFIED,spacing:{after:600}}),new br({children:[new Lt({text:u.date?new Date(u.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")})],alignment:Gt.RIGHT,spacing:{after:800}}),new br({children:[new Lt({text:"_________________________________"})],alignment:Gt.CENTER,spacing:{after:100}}),new br({children:[new Lt({text:u.lawyerName||"Advogado",bold:!0})],alignment:Gt.CENTER,spacing:{after:100}}),new br({children:[new Lt({text:`OAB: ${u.lawyerOab||""}`,size:20,color:"6b7280"})],alignment:Gt.CENTER,spacing:{after:100}}),new br({children:[new Lt({text:`CPF: ${u.lawyerCpf||""}`,size:20,color:"6b7280"})],alignment:Gt.CENTER,spacing:{after:800}}),new br({children:[new Lt({text:"Documento gerado pelo LegalX - Sistema de Gestão Jurídica",size:16,color:"9ca3af"})],alignment:Gt.CENTER,spacing:{after:100}}),new br({children:[new Lt({text:`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,size:16,color:"9ca3af"})],alignment:Gt.CENTER})]}]})}c&&$3e.toBlob(c).then(u=>{U3e.saveAs(u,`${t.type.toLowerCase()}_${t.client.replace(/\s+/g,"_").toLowerCase()}.docx`)}).catch(u=>{console.error("Erro ao gerar documento Word:",u),alert("Erro ao gerar documento Word. Tente novamente.")})},o=()=>{t.type==="Procuração"?i(t.data):t.type==="Recibo"&&a(t.data)},l=()=>{if(t.type==="Procuração"){const c=t.data;return d.jsxs("div",{className:"prose max-w-none",children:[d.jsx("h2",{className:"text-center text-xl font-bold mb-6",children:"PROCURAÇÃO"}),d.jsxs("p",{className:"text-justify leading-relaxed",children:["Pelo presente instrumento particular de procuração, eu, ",d.jsx("strong",{children:t.client}),", nomeio e constituo como ",c.lawyers&&c.lawyers.length>1?"meus bastantes procuradores":"meu bastante procurador"," "," ",d.jsx("strong",{children:c.lawyers?c.lawyers.join(", "):"Advogado"}),", para o fim específico de:"]}),d.jsx("p",{className:"text-justify leading-relaxed my-4",children:d.jsx("strong",{children:c.object||"Representação jurídica"})}),d.jsxs("p",{className:"text-justify leading-relaxed",children:["Outorgo-lhe poderes para representar-me ",c.type==="Ad Judicia"?"em juízo":"para os fins específicos acima descritos",", podendo para tanto praticar todos os atos necessários ao bom e fiel cumprimento do presente mandato."]}),d.jsx("p",{className:"text-justify leading-relaxed mt-6",children:"Por ser verdade, firmo a presente."}),d.jsxs("p",{className:"text-right mt-8",children:[c.location||"São Paulo",", ",c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR"),"."]}),d.jsxs("div",{className:"text-center mt-12",children:[d.jsx("div",{className:"border-t border-gray-400 w-64 mx-auto mb-2"}),d.jsx("p",{children:d.jsx("strong",{children:t.client})}),d.jsx("p",{className:"text-sm text-gray-600",children:"Outorgante"})]})]})}else if(t.type==="Recibo"){const c=t.data;return d.jsxs("div",{className:"prose max-w-none",children:[d.jsx("h2",{className:"text-center text-xl font-bold mb-6",children:"RECIBO"}),d.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 text-center mb-6",children:d.jsxs("p",{className:"text-lg font-bold text-green-700",children:["Valor: ",n(c.amount||0)]})}),d.jsxs("p",{className:"text-justify leading-relaxed",children:["Recebi de ",d.jsx("strong",{children:t.client})," a importância de ",d.jsx("strong",{children:n(c.amount||0)}),", referente a ",d.jsx("strong",{children:c.description||"serviços jurídicos"}),"."]}),d.jsxs("p",{className:"text-justify leading-relaxed mt-4",children:["Forma de pagamento: ",d.jsx("strong",{children:c.paymentMethod||"Não especificado"})]}),d.jsx("p",{className:"text-justify leading-relaxed mt-6",children:"Para clareza firmo o presente recibo."}),d.jsx("p",{className:"text-right mt-8",children:c.date?new Date(c.date).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")}),d.jsxs("div",{className:"text-center mt-12",children:[d.jsx("div",{className:"border-t border-gray-400 w-64 mx-auto mb-2"}),d.jsx("p",{children:d.jsx("strong",{children:c.lawyerName||"Advogado"})}),d.jsxs("p",{className:"text-sm text-gray-600",children:["OAB: ",c.lawyerOab||""]}),d.jsxs("p",{className:"text-sm text-gray-600",children:["CPF: ",c.lawyerCpf||""]})]})]})}return null};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.type}),d.jsxs("p",{className:"text-gray-600",children:["Cliente: ",t.client]})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(ET,{className:"w-5 h-5 mr-2"}),"Baixar PDF"]}),d.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Ny,{className:"w-5 h-5 mr-2"}),"Baixar Word"]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Documento"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Tipo"}),d.jsx("p",{className:"text-gray-900",children:t.type})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cliente"}),d.jsx("p",{className:"text-gray-900",children:t.client})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Criação"}),d.jsx("p",{className:"text-gray-900",children:r(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-8",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Visualização do Documento"}),d.jsx("div",{className:"border border-gray-200 rounded-lg p-8 bg-gray-50 min-h-96",children:l()})]}),d.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[d.jsx("p",{children:"Documento gerado pelo LegalX - Sistema de Gestão Jurídica"}),d.jsxs("p",{children:["Criado em ",r(t.createdAt)]})]})]})}function z3e({quickActionType:t,onClearQuickAction:e}){const[r,n]=I.useState(null),[i,a]=I.useState(null),[s,o]=I.useState([]),[l,c]=I.useState(!1),{hasPermission:u}=rs(),{isSoloMode:f,activeTeam:p}=Aa(),h=u("documentos");u("documentos"),I.useEffect(()=>{t==="power-of-attorney"&&h?(n("power-of-attorney"),e()):t==="receipt"&&h?(n("receipt"),e()):(t==="power-of-attorney"||t==="receipt")&&!h&&(alert("Você não possui permissão para criar documentos."),e())},[t,e,h]),I.useEffect(()=>{y()},[]);const y=async()=>{try{c(!0);const v=await rt.getDocuments();o(v)}catch(v){console.error("Erro ao carregar documentos:",v)}finally{c(!1)}},g=v=>{a(v)},b=()=>{a(null)},m=v=>{if(!h){alert("Você não possui permissão para criar documentos.");return}n(v)};return r==="power-of-attorney"?d.jsx(oSe,{onBack:()=>n(null),onSave:y}):r==="receipt"?d.jsx(cSe,{onBack:()=>n(null),onSave:y}):i?d.jsx(V3e,{document:i,onBack:b}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerador de Documentos"}),d.jsx("p",{className:"text-gray-600",children:"Crie documentos jurídicos profissionais"}),!f&&p&&d.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["📄 Visualizando documentos da equipe: ",p.name]})]}),!h&&!f&&d.jsx("div",{className:"mb-6 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-amber-800",children:"⚠️ Você possui acesso somente leitura. Não é possível criar novos documentos."})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl",children:[d.jsx("div",{onClick:()=>m("power-of-attorney"),className:`bg-white rounded-lg shadow-md border-2 transition-all ${h?"border-transparent hover:border-blue-300 cursor-pointer group":"border-gray-200 opacity-60 cursor-not-allowed"}`,children:d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:`w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 transition-colors ${h?"group-hover:bg-blue-200":""}`,children:d.jsx(Ny,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Procuração"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Gere procurações jurídicas com todos os dados necessários"}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[d.jsx("p",{children:"• Procuração Ad Judicia"}),d.jsx("p",{children:"• Procuração para fins específicos"}),d.jsx("p",{children:"• Geração em PDF e DOCX"})]}),d.jsx("button",{disabled:!h,className:`mt-6 w-full px-4 py-2 rounded-lg transition-colors ${h?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:h?"Criar Procuração":"Sem Permissão"})]})}),d.jsx("div",{onClick:()=>m("receipt"),className:`bg-white rounded-lg shadow-md border-2 transition-all ${h?"border-transparent hover:border-green-300 cursor-pointer group":"border-gray-200 opacity-60 cursor-not-allowed"}`,children:d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:`w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 transition-colors ${h?"group-hover:bg-green-200":""}`,children:d.jsx(Wle,{className:"w-8 h-8 text-green-600"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Recibo"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Emita recibos profissionais para honorários e serviços"}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[d.jsx("p",{children:"• Recibo de honorários advocatícios"}),d.jsx("p",{children:"• Recibo de consultoria jurídica"}),d.jsx("p",{children:"• Geração em PDF"})]}),d.jsx("button",{disabled:!h,className:`mt-6 w-full px-4 py-2 rounded-lg transition-colors ${h?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:h?"Criar Recibo":"Sem Permissão"})]})})]}),d.jsxs("div",{className:"mt-12",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentos Recentes"}),d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l?d.jsx("div",{className:"p-6",children:d.jsx("p",{className:"text-gray-500 text-center",children:"Carregando documentos..."})}):s.length===0?d.jsx("div",{className:"p-6",children:d.jsx("p",{className:"text-gray-500 text-center",children:h?"Nenhum documento gerado ainda. Clique em um dos tipos acima para começar.":"Nenhum documento gerado ainda."})}):d.jsx("div",{className:"divide-y divide-gray-200",children:s.slice(0,10).map(v=>d.jsx("div",{className:"p-4 hover:bg-gray-50",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900",children:v.type}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",v.client]}),d.jsxs("p",{className:"text-xs text-gray-400",children:["Criado em ",Pa(new Date(v.createdAt),"dd/MM/yyyy HH:mm",{locale:yi})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.type==="Procuração"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:v.type}),d.jsxs("button",{onClick:()=>g(v),className:"flex items-center px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors ml-2",title:"Visualizar documento",children:[d.jsx(Sc,{className:"w-3 h-3 mr-1"}),"Ver"]})]})]})},v.id))})})]})]})}const q3e=Uy(z3e,"documentos","any",{showMessage:!0});function W3e(){const[t,e]=I.useState("month"),[r,n]=I.useState([]),[i,a]=I.useState([]),[s,o]=I.useState({totalRevenue:0,totalExpenses:0,balance:0,monthlyData:[]}),[l,c]=I.useState(!0),{hasPermission:u}=rs(),{isSoloMode:f,activeTeam:p}=Aa(),h=u("relatorios");I.useEffect(()=>{y()},[]);const y=async()=>{try{const[D,F,S]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getFinancialSummary()]);n(D),a(F),o(S),console.log("Dados do relatório carregados")}catch(D){console.error("Erro ao carregar dados do relatório:",D)}finally{c(!1)}},g=s.totalRevenue,b=s.totalExpenses,m=g-b,v=r.filter(D=>D.status==="Em andamento").length,w=r.filter(D=>D.status==="Concluído").length,E=i.length,P=i.filter(D=>D.status==="Concluído").length,$=[{name:"Em andamento",value:v,color:"#f59e0b"},{name:"Concluídos",value:w,color:"#10b981"}],C=s.monthlyData.map(D=>({...D,profit:D.revenue-D.expenses})),N=D=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D),A=()=>{if(!h){alert("Você não possui permissão para exportar relatórios.");return}const D=new xt,F=[37,99,235],S=[245,158,11],O=[55,65,81],k=[156,163,175],ie=[34,197,94],ae=[239,68,68];D.setFillColor(...F),D.rect(0,0,210,25,"F"),D.setTextColor(255,255,255),D.setFontSize(24),D.setFont(void 0,"bold"),D.text("Legal",20,17),D.setTextColor(...S),D.text("X",50,17),D.setTextColor(255,255,255),D.setFontSize(10),D.setFont(void 0,"normal"),D.text("Sistema de Gestão Jurídica",20,22),D.setTextColor(...O),D.setFontSize(18),D.setFont(void 0,"bold"),D.text("RELATÓRIO FINANCEIRO E OPERACIONAL",105,45,{align:"center"}),D.setDrawColor(...S),D.setLineWidth(2),D.line(20,50,190,50),D.setTextColor(...k),D.setFontSize(10),D.setFont(void 0,"normal"),D.text(`Período: ${t==="month"?"Mês Atual":t==="quarter"?"Trimestre":"Ano"}`,105,55,{align:"center"});let Q=70;D.setTextColor(...O),D.setFontSize(14),D.setFont(void 0,"bold"),D.text("RESUMO FINANCEIRO",20,Q),Q+=15,D.setFillColor(240,253,244),D.setDrawColor(...ie),D.setLineWidth(.5),D.roundedRect(20,Q-5,170,12,2,2,"FD"),D.setTextColor(...ie),D.setFontSize(11),D.setFont(void 0,"normal"),D.text(`✓ Total de Receitas: ${N(g)}`,25,Q+3),Q+=10,D.setFillColor(254,242,242),D.setDrawColor(...ae),D.roundedRect(20,Q-5,170,12,2,2,"FD"),D.setTextColor(...ae),D.text(`✗ Total de Despesas: ${N(b)}`,25,Q+3),Q+=10;const se=m>=0?ie:ae,fe=m>=0?[240,253,244]:[254,242,242];D.setFillColor(...fe),D.setDrawColor(...se),D.setLineWidth(1),D.roundedRect(20,Q-5,170,12,2,2,"FD"),D.setTextColor(...se),D.setFont(void 0,"bold"),D.text(`${m>=0?"↗":"↘"} Lucro Líquido: ${N(m)}`,25,Q+3),Q+=20,D.setTextColor(...O),D.setFontSize(14),D.setFont(void 0,"bold"),D.text("RESUMO DE PROCESSOS",20,Q),Q+=15,D.setTextColor(...O),D.setFontSize(11),D.setFont(void 0,"normal"),D.text(`• Processos em Andamento: ${v}`,25,Q),Q+=10,D.text(`• Processos Concluídos: ${w}`,25,Q),Q+=10,D.text(`• Total de Processos: ${v+w}`,25,Q),Q+=20,D.setTextColor(...O),D.setFontSize(14),D.setFont(void 0,"bold"),D.text("RESUMO DE EVENTOS",20,Q),Q+=15,D.setTextColor(...O),D.setFontSize(11),D.setFont(void 0,"normal"),D.text(`• Total de Eventos: ${E}`,25,Q),Q+=10,D.text(`• Eventos Concluídos: ${P}`,25,Q),Q+=10,D.text(`• Taxa de Conclusão: ${E>0?(P/E*100).toFixed(1):0}%`,25,Q),D.setDrawColor(...k),D.setLineWidth(.5),D.line(20,280,190,280),D.setTextColor(...k),D.setFontSize(8),D.setFont(void 0,"normal"),D.text("Relatório gerado pelo LegalX - Sistema de Gestão Jurídica",20,285),D.text(`Data de geração: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,20,290),D.text("Página 1 de 1",190,290,{align:"right"}),D.save(`relatorio_${t}_${new Date().toISOString().split("T")[0]}.pdf`)};return d.jsxs("div",{className:"p-6",children:[l&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"Carregando dados do relatório..."})}),d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatórios"}),d.jsx("p",{className:"text-gray-600",children:"Análise completa dos dados do escritório"}),!f&&p&&d.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["📊 Visualizando relatórios da equipe: ",p.name]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("select",{value:t,onChange:D=>e(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"month",children:"Mês Atual"}),d.jsx("option",{value:"quarter",children:"Trimestre"}),d.jsx("option",{value:"year",children:"Ano"})]}),d.jsxs("button",{onClick:A,disabled:!h,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${h?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:h?"Exportar PDF":"Sem permissão para exportar relatórios",children:[d.jsx(uU,{className:"w-5 h-5 mr-2"}),"Exportar PDF"]})]})]}),!h&&!f&&d.jsx("div",{className:"mb-6 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-amber-800",children:"ℹ️ Você pode visualizar os relatórios, mas não possui permissão para exportá-los."})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(JA,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-green-100 text-sm",children:"Receitas"}),d.jsx("p",{className:"text-2xl font-bold",children:N(g)})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(JA,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-100 text-sm",children:"Despesas"}),d.jsx("p",{className:"text-2xl font-bold",children:N(b)})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Cx,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-100 text-sm",children:"Processos Ativos"}),d.jsx("p",{className:"text-2xl font-bold",children:v})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(_T,{className:"w-8 h-8 mr-3"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-purple-100 text-sm",children:"Eventos do Mês"}),d.jsx("p",{className:"text-2xl font-bold",children:E})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fluxo Financeiro Mensal"}),d.jsx("div",{className:"h-64",children:d.jsx(BN,{width:"100%",height:"100%",children:d.jsxs(dH,{data:C,children:[d.jsx(S6,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),d.jsx(k2,{dataKey:"month",stroke:"#6b7280",fontSize:12}),d.jsx(I2,{stroke:"#6b7280",fontSize:12}),d.jsx(FN,{formatter:D=>[N(D),""]}),d.jsx(If,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Receitas"}),d.jsx(If,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:2,name:"Despesas"}),d.jsx(If,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Lucro"})]})})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status dos Processos"}),d.jsx("div",{className:"h-64",children:d.jsx(BN,{width:"100%",height:"100%",children:d.jsxs(c5e,{children:[d.jsx(b6,{data:$,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:D,value:F})=>`${D}: ${F}`,children:$.map((D,F)=>d.jsx(N2,{fill:D.color},`cell-${F}`))}),d.jsx(FN,{})]})})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Financeira"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Receita Bruta"}),d.jsx("span",{className:"font-semibold text-green-600",children:N(g)})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Despesas Totais"}),d.jsx("span",{className:"font-semibold text-red-600",children:N(b)})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded border-2 border-blue-200",children:[d.jsx("span",{className:"text-gray-900 font-medium",children:"Lucro Líquido"}),d.jsx("span",{className:"font-bold text-blue-600",children:N(m)})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Margem de Lucro"}),d.jsxs("span",{className:"font-semibold",children:[g>0?(m/g*100).toFixed(1):0,"%"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Operacional"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Total de Processos"}),d.jsx("span",{className:"font-semibold",children:v+w})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Processos Concluídos"}),d.jsx("span",{className:"font-semibold text-green-600",children:w})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Taxa de Conclusão"}),d.jsxs("span",{className:"font-semibold",children:[v+w>0?(w/(v+w)*100).toFixed(1):0,"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-gray-600",children:"Eventos Realizados"}),d.jsxs("span",{className:"font-semibold",children:[P,"/",E]})]})]})]})]})]})}const H3e=Uy(W3e,"relatorios","any",{showMessage:!0});function G3e(){const[t,e]=I.useState(null),[r,n]=I.useState(null),[i,a]=I.useState(null),[s,o]=I.useState(!1),[l,c]=I.useState(!0);I.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const[m,v]=await Promise.all([rt.getGeneralStats(),rt.getFinancialSummary()]);e(m),n(v)}catch(m){console.error("Erro ao carregar estatísticas:",m),e(null),n(null)}finally{c(!1)}},f=async()=>{o(!0);try{const[m,v,w,E,P,$]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getRevenues(),rt.getExpenses(),rt.getLawyers(),rt.getEmployees()]),C=[];let N=!0;m.forEach((A,D)=>{A.processNumber||(C.push(`Processo ${D+1}: Número do processo ausente`),N=!1),A.client||(C.push(`Processo ${D+1}: Cliente ausente`),N=!1)}),v.forEach((A,D)=>{A.title||(C.push(`Evento ${D+1}: Título ausente`),N=!1),A.date||(C.push(`Evento ${D+1}: Data ausente`),N=!1)}),w.forEach((A,D)=>{A.source||(C.push(`Receita ${D+1}: Fonte ausente`),N=!1),A.amount<=0&&(C.push(`Receita ${D+1}: Valor inválido`),N=!1)}),E.forEach((A,D)=>{A.type||(C.push(`Despesa ${D+1}: Tipo ausente`),N=!1),A.amount<=0&&(C.push(`Despesa ${D+1}: Valor inválido`),N=!1)}),P.forEach((A,D)=>{A.oab||(C.push(`Advogado ${D+1}: OAB ausente`),N=!1),A.fullName||(C.push(`Advogado ${D+1}: Nome completo ausente`),N=!1)}),$.forEach((A,D)=>{A.fullName||(C.push(`Colaborador ${D+1}: Nome completo ausente`),N=!1),A.position||(C.push(`Colaborador ${D+1}: Cargo ausente`),N=!1)}),a({isValid:N,errors:C,summary:{totalProcesses:m.length,totalEvents:v.length,totalRevenues:w.length,totalExpenses:E.length,totalLawyers:P.length,totalEmployees:$.length}})}catch(m){console.error("Erro ao validar dados:",m),a({isValid:!1,errors:["Erro ao acessar os dados para validação"],summary:null})}finally{o(!1)}},p=async()=>{var m;try{o(!0);const[v,w,E,P,$,C,N]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getRevenues(),rt.getExpenses(),rt.getDocuments(),rt.getLawyers(),rt.getEmployees()]),A={version:"1.0",timestamp:new Date().toISOString(),user:(m=Ur.currentUser)==null?void 0:m.uid,data:{processes:v,events:w,revenues:E,expenses:P,documents:$,lawyers:C,employees:N}},D=JSON.stringify(A,null,2),F=new Blob([D],{type:"application/json"}),S=URL.createObjectURL(F),O=document.createElement("a");O.href=S,O.download=`legalx_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(S),alert("Backup criado com sucesso!")}catch(v){console.error("Erro ao criar backup:",v),alert("Erro ao criar backup. Tente novamente.")}finally{o(!1)}},h=async m=>{var w;const v=(w=m.target.files)==null?void 0:w[0];if(v)try{o(!0);const E=await v.text(),P=JSON.parse(E);if(!P.data||!P.version)throw new Error("Arquivo de backup inválido");const $=`
Esta ação irá substituir todos os dados atuais pelos dados do backup.
Backup criado em: ${new Date(P.timestamp).toLocaleString("pt-BR")}

Deseja continuar?
      `.trim();if(!confirm($))return;alert("Funcionalidade de restauração em desenvolvimento. Por segurança, esta operação requer implementação adicional para evitar perda de dados.")}catch(E){console.error("Erro ao importar backup:",E),alert("Erro ao importar backup. Verifique se o arquivo está correto.")}finally{o(!1),m.target.value=""}},y=async()=>{const m=`
⚠️ ATENÇÃO: Esta ação irá excluir TODOS os seus dados permanentemente!

Isso inclui:
- Todos os processos
- Todos os eventos da agenda
- Todas as receitas e despesas
- Todos os documentos
- Todos os advogados e colaboradores

Esta ação NÃO PODE ser desfeita!

Digite "CONFIRMAR EXCLUSÃO" para prosseguir:
    `.trim();if(prompt(m)!=="CONFIRMAR EXCLUSÃO"){alert("Operação cancelada.");return}try{o(!0);const[w,E,P,$,C,N,A]=await Promise.all([rt.getProcesses(),rt.getEvents(),rt.getRevenues(),rt.getExpenses(),rt.getDocuments(),rt.getLawyers(),rt.getEmployees()]),D=[...w.map(F=>rt.deleteProcess(F.id)),...E.map(F=>rt.deleteEvent(F.id)),...P.map(F=>rt.deleteRevenue(F.id)),...$.map(F=>rt.deleteExpense(F.id)),...C.map(F=>rt.deleteDocument(F.id)),...N.map(F=>rt.deleteLawyer(F.id)),...A.map(F=>rt.deleteEmployee(F.id))];await Promise.all(D),await u(),alert("Todos os dados foram excluídos com sucesso!")}catch(w){console.error("Erro ao limpar dados:",w),alert("Erro ao limpar dados. Alguns dados podem não ter sido excluídos.")}finally{o(!1)}},g=async()=>{if(confirm("Deseja criar dados de exemplo? Isso adicionará dados fictícios ao sistema."))try{o(!0);const m=await rt.saveLawyer({fullName:"Dr. João Silva Santos",oab:"SP123456",email:"joao.silva@exemplo.com",phone:"(11) 99999-9999",specialties:["Direito Civil","Direito Empresarial"],status:"Ativo"}),v=await rt.saveEmployee({fullName:"Maria Oliveira",position:"Secretária",email:"maria.oliveira@exemplo.com",phone:"(11) 88888-8888",status:"Ativo"}),w=await rt.saveProcess({processNumber:"1234567-89.2024.8.26.0001",client:"Empresa ABC Ltda",description:"Ação de cobrança contra fornecedor",status:"Em andamento",court:"Vara Cível Central",responsibleLawyers:m?[m.fullName]:[],value:5e4,area:"Direito Empresarial"});await rt.saveEvent({title:"Audiência de Conciliação",date:new Date().toISOString().split("T")[0],time:"14:00",type:"Audiência",client:"Empresa ABC Ltda",processNumber:"1234567-89.2024.8.26.0001",lawyers:m?[m.fullName]:[],location:"Fórum Central",priority:"Alta",status:"Pendente"}),await rt.saveRevenue({date:new Date().toISOString().split("T")[0],amount:15e3,source:"Empresa ABC Ltda",category:"Honorário",client:"Empresa ABC Ltda",responsibleLawyers:m?[m.fullName]:[],description:"Honorários advocatícios - entrada do processo"}),await rt.saveExpense({date:new Date().toISOString().split("T")[0],amount:1200,type:"Aluguel do escritório",category:"Aluguel",description:"Aluguel mensal do escritório",responsibleMembers:v?[v.fullName]:[]}),await u(),alert("Dados de exemplo criados com sucesso!")}catch(m){console.error("Erro ao criar dados de exemplo:",m),alert("Erro ao criar dados de exemplo. Tente novamente.")}finally{o(!1)}},b=m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m);return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configurações do Sistema"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie dados, backup e configurações gerais"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(dU,{className:"w-5 h-5 mr-2"}),"Estatísticas do Sistema"]}),l?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando estatísticas..."})]}):t&&r?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-blue-600",children:"Processos"}),d.jsx("p",{className:"text-xl font-bold text-blue-700",children:t.totalProcesses}),d.jsxs("p",{className:"text-xs text-blue-500",children:[t.activeProcesses," ativos, ",t.completedProcesses," concluídos"]})]}),d.jsxs("div",{className:"bg-green-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-green-600",children:"Eventos"}),d.jsx("p",{className:"text-xl font-bold text-green-700",children:t.totalEvents}),d.jsxs("p",{className:"text-xs text-green-500",children:[t.pendingEvents," pendentes, ",t.completedEvents," concluídos"]})]}),d.jsxs("div",{className:"bg-purple-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-purple-600",children:"Receitas"}),d.jsx("p",{className:"text-lg font-bold text-purple-700",children:b(r.totalRevenue)})]}),d.jsxs("div",{className:"bg-red-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-red-600",children:"Despesas"}),d.jsx("p",{className:"text-lg font-bold text-red-700",children:b(r.totalExpenses)})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Documentos"}),d.jsx("p",{className:"text-lg font-bold text-gray-700",children:t.totalDocuments})]}),d.jsxs("div",{className:"bg-indigo-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-indigo-600",children:"Equipe"}),d.jsx("p",{className:"text-lg font-bold text-indigo-700",children:t.totalLawyers+t.totalEmployees}),d.jsxs("p",{className:"text-xs text-indigo-500",children:[t.activeLawyers," advogados, ",t.activeEmployees," colaboradores"]})]})]}),d.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Armazenamento (Firestore)"}),d.jsxs("div",{className:"flex items-center mt-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"5%"}})}),d.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Ilimitado (Cloud Firestore)"})]})]})]}):d.jsx("p",{className:"text-red-500",children:"Erro ao carregar estatísticas"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(yl,{className:"w-5 h-5 mr-2"}),"Validação de Dados"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:f,disabled:s,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:s?"Validando...":"Validar Integridade dos Dados"}),i&&d.jsxs("div",{className:`p-4 rounded-lg ${i.isValid?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[d.jsxs("div",{className:"flex items-center mb-2",children:[i.isValid?d.jsx(yl,{className:"w-5 h-5 text-green-600 mr-2"}):d.jsx(Pp,{className:"w-5 h-5 text-red-600 mr-2"}),d.jsx("span",{className:`font-medium ${i.isValid?"text-green-800":"text-red-800"}`,children:i.isValid?"Dados íntegros":"Problemas encontrados"})]}),i.summary&&d.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Analisados: ",i.summary.totalProcesses," processos, "," ",i.summary.totalEvents," eventos, "," ",i.summary.totalRevenues," receitas, "," ",i.summary.totalExpenses," despesas"]}),i.errors.length>0&&d.jsx("ul",{className:"text-sm text-red-700 space-y-1 max-h-32 overflow-y-auto",children:i.errors.map((m,v)=>d.jsxs("li",{children:["• ",m]},v))})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Backup e Restauração"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:p,disabled:s,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[d.jsx(uU,{className:"w-5 h-5 mr-2"}),s?"Criando Backup...":"Fazer Backup dos Dados"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Restaurar Backup"}),d.jsx("input",{type:"file",accept:".json",onChange:h,disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecione um arquivo de backup (.json) para restaurar"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gerenciamento de Dados"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:g,disabled:s,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[d.jsx(Ele,{className:"w-5 h-5 mr-2"}),s?"Criando...":"Criar Dados de Exemplo"]}),d.jsxs("div",{className:"border-t pt-4",children:[d.jsxs("button",{onClick:y,disabled:s,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:[d.jsx(Ac,{className:"w-5 h-5 mr-2"}),s?"Limpando...":"Limpar Todos os Dados"]}),d.jsx("p",{className:"text-xs text-red-500 mt-1",children:"⚠️ Esta ação não pode ser desfeita"})]})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Instruções de Uso"}),d.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Backup:"})," Recomendamos fazer backup regularmente dos seus dados. Os dados são exportados em formato JSON."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Validação:"})," Execute a validação periodicamente para garantir a integridade dos dados no Firestore."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Armazenamento:"})," Os dados são salvos no Cloud Firestore com isolamento por usuário."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Dados de Exemplo:"})," Use para testar o sistema com dados fictícios (advogado, colaborador, processo, evento, receita e despesa)."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Segurança:"})," Todos os dados são associados ao seu usuário autenticado e não são visíveis a outros usuários."]})]})]})]})}function c7({onNewLawyer:t,onNewEmployee:e,onViewLawyer:r,onViewEmployee:n,onEditLawyer:i,onEditEmployee:a}){const[s,o]=I.useState([]),[l,c]=I.useState([]),[u,f]=I.useState("lawyers"),[p,h]=I.useState(""),[y,g]=I.useState("all"),[b,m]=I.useState(!0),[v,w]=I.useState(null);I.useEffect(()=>{E()},[]);const E=async()=>{try{m(!0),w(null),console.log("Iniciando carregamento dos dados da equipe...");const[S,O]=await Promise.all([rt.getLawyers().catch(k=>(console.warn("Erro ao carregar advogados:",k),[])),rt.getEmployees().catch(k=>(console.warn("Erro ao carregar colaboradores:",k),[]))]);o(S||[]),c(O||[]),console.log(`${S.length} advogados e ${O.length} colaboradores carregados`)}catch(S){console.error("Erro ao carregar dados da equipe:",S),w("Erro ao carregar dados da equipe. Verifique sua conexão e tente novamente.")}finally{m(!1)}},P=async(S,O)=>{if(confirm(`Tem certeza que deseja excluir o advogado "${O}"?`))try{m(!0),await rt.deleteLawyer(S),o(k=>k.filter(ie=>ie.id!==S)),console.log("Advogado excluído com sucesso")}catch(k){console.error("Erro ao excluir advogado:",k),alert("Erro ao excluir advogado. Tente novamente.")}finally{m(!1)}},$=async(S,O)=>{if(confirm(`Tem certeza que deseja excluir o colaborador "${O}"?`))try{m(!0),await rt.deleteEmployee(S),c(k=>k.filter(ie=>ie.id!==S)),console.log("Colaborador excluído com sucesso")}catch(k){console.error("Erro ao excluir colaborador:",k),alert("Erro ao excluir colaborador. Tente novamente.")}finally{m(!1)}},C=s.filter(S=>{var ae,Q,se,fe;const O=p.toLowerCase(),k=((ae=S.fullName)==null?void 0:ae.toLowerCase().includes(O))||((Q=S.oab)==null?void 0:Q.toLowerCase().includes(O))||((se=S.cpf)==null?void 0:se.toLowerCase().includes(O))||((fe=S.email)==null?void 0:fe.toLowerCase().includes(O)),ie=y==="all"||S.status===y;return k&&ie}),N=l.filter(S=>{var ae,Q,se,fe;const O=p.toLowerCase(),k=((ae=S.fullName)==null?void 0:ae.toLowerCase().includes(O))||((Q=S.position)==null?void 0:Q.toLowerCase().includes(O))||((se=S.cpf)==null?void 0:se.toLowerCase().includes(O))||((fe=S.email)==null?void 0:fe.toLowerCase().includes(O)),ie=y==="all"||S.status===y;return k&&ie}),A=S=>{try{return Pa(new Date(S),"dd/MM/yyyy",{locale:yi})}catch{return"Data inválida"}},D=S=>{if(!S)return"N/A";const O=S.replace(/\D/g,"");return O.length!==11?S:O.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")},F=S=>typeof S!="number"||isNaN(S)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S);return v?d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),d.jsx("div",{className:"mt-2 text-sm text-red-700",children:d.jsx("p",{children:v})}),d.jsx("div",{className:"mt-4",children:d.jsx("button",{type:"button",className:"bg-red-100 px-2 py-1.5 rounded-md text-sm font-medium text-red-800 hover:bg-red-200 transition-colors",onClick:()=>{w(null),E()},children:"Tentar novamente"})})]})]})})}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Equipe"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie advogados e colaboradores do escritório"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:t,disabled:b,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(fl,{className:"w-5 h-5 mr-2"}),"Novo Advogado"]}),d.jsxs("button",{onClick:e,disabled:b,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(W1,{className:"w-5 h-5 mr-2"}),"Novo Colaborador"]})]})]}),d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[d.jsxs("button",{onClick:()=>f("lawyers"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${u==="lawyers"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Advogados (",s.length,")"]}),d.jsxs("button",{onClick:()=>f("employees"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${u==="employees"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Colaboradores (",l.length,")"]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(ST,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:p,onChange:S=>h(S.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(kx,{className:"w-5 h-5 text-gray-400"}),d.jsxs("select",{value:y,onChange:S=>g(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"Todos os Status"}),d.jsx("option",{value:"Ativo",children:"Ativo"}),d.jsx("option",{value:"Inativo",children:"Inativo"})]})]})]})]}),b&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando equipe..."})]}),!b&&d.jsxs(d.Fragment,{children:[u==="lawyers"?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(S=>d.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[S.photo?d.jsx("img",{src:S.photo,alt:S.fullName||"Advogado",className:"w-12 h-12 rounded-full object-cover mr-3",onError:O=>{console.warn("Erro ao carregar foto do advogado"),O.currentTarget.style.display="none"}}):d.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:d.jsx(fl,{className:"w-6 h-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.fullName||"Nome não informado"}),d.jsxs("p",{className:"text-sm text-gray-500",children:["OAB: ",S.oab||"Não informado"]})]})]}),d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${S.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.status||"Indefinido"})]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"CPF:"}),d.jsx("span",{className:"text-gray-900",children:D(S.cpf)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Comissão:"}),d.jsxs("span",{className:"text-gray-900",children:[S.commission||0,"%"]})]}),S.email&&d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Email:"}),d.jsx("span",{className:"text-gray-900 truncate",title:S.email,children:S.email})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Cadastrado:"}),d.jsx("span",{className:"text-gray-900",children:A(S.createdAt)})]})]}),S.specialties&&S.specialties.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Especialidades:"}),d.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.specialties.slice(0,3).map((O,k)=>d.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",title:O,children:O},k)),S.specialties.length>3&&d.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",title:`Mais especialidades: ${S.specialties.slice(3).join(", ")}`,children:["+",S.specialties.length-3]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[d.jsx("button",{onClick:()=>r(S),className:"text-blue-600 hover:text-blue-900 p-2 rounded hover:bg-blue-50 transition-colors",title:"Visualizar",children:d.jsx(Sc,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>i(S),className:"text-amber-600 hover:text-amber-900 p-2 rounded hover:bg-amber-50 transition-colors",title:"Editar",children:d.jsx(js,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>P(S.id,S.fullName||"Advogado"),className:"text-red-600 hover:text-red-900 p-2 rounded hover:bg-red-50 transition-colors",title:"Excluir",disabled:b,children:d.jsx(Ac,{className:"w-4 h-4"})})]})]})},S.id))}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(S=>d.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[S.photo?d.jsx("img",{src:S.photo,alt:S.fullName||"Colaborador",className:"w-12 h-12 rounded-full object-cover mr-3",onError:O=>{console.warn("Erro ao carregar foto do colaborador"),O.currentTarget.style.display="none"}}):d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-3",children:d.jsx(W1,{className:"w-6 h-6 text-green-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.fullName||"Nome não informado"}),d.jsx("p",{className:"text-sm text-gray-500",children:S.position||"Função não informada"})]})]}),d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${S.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.status||"Indefinido"})]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"CPF:"}),d.jsx("span",{className:"text-gray-900",children:D(S.cpf)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Salário:"}),d.jsx("span",{className:"text-gray-900",children:F(S.salary)})]}),S.email&&d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Email:"}),d.jsx("span",{className:"text-gray-900 truncate",title:S.email,children:S.email})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Cadastrado:"}),d.jsx("span",{className:"text-gray-900",children:A(S.createdAt)})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[d.jsx("button",{onClick:()=>n(S),className:"text-blue-600 hover:text-blue-900 p-2 rounded hover:bg-blue-50 transition-colors",title:"Visualizar",children:d.jsx(Sc,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>a(S),className:"text-amber-600 hover:text-amber-900 p-2 rounded hover:bg-amber-50 transition-colors",title:"Editar",children:d.jsx(js,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>$(S.id,S.fullName||"Colaborador"),className:"text-red-600 hover:text-red-900 p-2 rounded hover:bg-red-50 transition-colors",title:"Excluir",disabled:b,children:d.jsx(Ac,{className:"w-4 h-4"})})]})]})},S.id))}),u==="lawyers"&&C.length===0&&!b&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(fl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:s.length===0?'Nenhum advogado cadastrado. Clique em "Novo Advogado" para começar.':"Nenhum advogado encontrado com os filtros aplicados."})]}),u==="employees"&&N.length===0&&!b&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(W1,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:l.length===0?'Nenhum colaborador cadastrado. Clique em "Novo Colaborador" para começar.':"Nenhum colaborador encontrado com os filtros aplicados."})]})]})]})}const K3e=Ds({fullName:lt().required("Nome completo é obrigatório"),cpf:lt().required("CPF é obrigatório"),oab:lt().required("OAB é obrigatória"),commission:jm().min(0,"Comissão deve ser positiva").max(100,"Comissão não pode ser maior que 100%").required("Comissão é obrigatória"),email:lt().email("Email inválido").nullable(),phone:lt().nullable(),address:lt().nullable(),status:lt().required("Status é obrigatório")});function Y3e({lawyer:t,onBack:e,onSave:r}){const[n,i]=I.useState((t==null?void 0:t.specialties)||[]),[a,s]=I.useState(""),[o,l]=I.useState((t==null?void 0:t.photo)||""),[c,u]=I.useState(!1),{hasPermission:f}=rs(),p=f("equipe"),{register:h,handleSubmit:y,formState:{errors:g},setValue:b,reset:m}=_l({resolver:El(K3e),defaultValues:{status:"Ativo",commission:10,fullName:"",cpf:"",oab:"",email:"",phone:"",address:"",...t}});I.useEffect(()=>{t&&(m({...t}),i(t.specialties||[]),l(t.photo||""))},[t,m]);const v=async N=>{var A,D,F,S,O,k;if(!p){alert("Você não possui permissão para salvar advogados.");return}if(!c)try{if(u(!0),!((A=N.fullName)!=null&&A.trim())||!((D=N.cpf)!=null&&D.trim())||!((F=N.oab)!=null&&F.trim())){alert("Por favor, preencha todos os campos obrigatórios.");return}const ie={fullName:N.fullName.trim(),cpf:N.cpf.replace(/\D/g,""),oab:N.oab.trim(),commission:Number(N.commission)||10,email:((S=N.email)==null?void 0:S.trim())||"",phone:((O=N.phone)==null?void 0:O.trim())||"",address:((k=N.address)==null?void 0:k.trim())||"",status:N.status||"Ativo",specialties:n.filter(ae=>ae.trim().length>0),photo:o};if(t!=null&&t.id){const ae=await rt.updateLawyer(t.id,ie);if(ae)console.log("Advogado atualizado com sucesso"),r(ae);else throw new Error("Erro ao atualizar advogado")}else{const ae=await rt.saveLawyer(ie);console.log("Novo advogado criado com sucesso"),r(ae)}}catch(ie){console.error("Erro ao salvar advogado:",ie);const ae=ie instanceof Error?ie.message:"Erro desconhecido";alert(`Erro ao salvar advogado: ${ae}`)}finally{u(!1)}},w=()=>{if(!p)return;const N=a.trim();N&&!n.includes(N)&&(i([...n,N]),s(""))},E=N=>{p&&i(n.filter((A,D)=>D!==N))},P=N=>{var D;if(!p)return;const A=(D=N.target.files)==null?void 0:D[0];if(A){if(A.size>2*1024*1024){alert("Arquivo muito grande. Escolha uma imagem menor que 2MB.");return}const F=new FileReader;F.onload=S=>{var k;const O=(k=S.target)==null?void 0:k.result;l(O)},F.onerror=()=>{alert("Erro ao processar imagem. Tente novamente.")},F.readAsDataURL(A)}},$=N=>N.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),C=N=>{const A=N.replace(/\D/g,"");return A.length<=10?A.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2"):A.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2")};return p?d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:c,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Advogado":"Novo Advogado"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do advogado":"Cadastre um novo advogado na equipe"})]})]}),d.jsx("form",{onSubmit:y(v),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Foto do Advogado"}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("div",{className:"flex-shrink-0",children:o?d.jsx("img",{src:o,alt:"Preview",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200",onError:N=>{console.error("Erro ao carregar imagem preview"),l("")}}):d.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center",children:d.jsx(G0,{className:"w-8 h-8 text-gray-400"})})}),d.jsxs("div",{children:[d.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/gif",onChange:P,className:"hidden",id:"photo-upload",disabled:c||!p}),d.jsxs("label",{htmlFor:"photo-upload",className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors ${c||!p?"opacity-50 cursor-not-allowed":""}`,children:[d.jsx(G0,{className:"w-4 h-4 mr-2"}),"Escolher Foto"]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG ou GIF até 2MB"}),o&&p&&d.jsx("button",{type:"button",onClick:()=>l(""),className:"text-red-600 hover:text-red-800 text-xs mt-1 block",disabled:c,children:"Remover foto"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),d.jsx("input",{...h("fullName"),type:"text",disabled:c||!p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Nome completo do advogado"}),g.fullName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.fullName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...h("cpf"),type:"text",maxLength:14,disabled:c||!p,onChange:N=>{const A=$(N.target.value);N.target.value=A,b("cpf",A)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"000.000.000-00"}),g.cpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.cpf.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB *"}),d.jsx("input",{...h("oab"),type:"text",disabled:c||!p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"123456/SP"}),g.oab&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.oab.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comissão (%) *"}),d.jsx("input",{...h("commission",{valueAsNumber:!0,setValueAs:N=>{const A=parseFloat(N);return isNaN(A)?10:A}}),type:"number",min:"0",max:"100",step:"0.1",disabled:c||!p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"10.0"}),g.commission&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.commission.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{...h("email"),type:"email",disabled:c||!p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"email@exemplo.com"}),g.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),d.jsx("input",{...h("phone"),type:"text",maxLength:15,disabled:c||!p,onChange:N=>{const A=C(N.target.value);N.target.value=A,b("phone",A)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"(11) 99999-9999"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),d.jsx("input",{...h("address"),type:"text",disabled:c||!p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Endereço completo"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),d.jsxs("select",{...h("status"),disabled:c||!p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[d.jsx("option",{value:"Ativo",children:"Ativo"}),d.jsx("option",{value:"Inativo",children:"Inativo"})]}),g.status&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.status.message})]})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Especialidades"})}),d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx("input",{type:"text",value:a,onChange:N=>s(N.target.value),onKeyPress:N=>{N.key==="Enter"&&(N.preventDefault(),w())},disabled:c||!p,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Ex: Direito Trabalhista"}),d.jsxs("button",{type:"button",onClick:w,disabled:c||!p||!a.trim(),className:"flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(od,{className:"w-4 h-4 mr-2"}),"Adicionar"]})]}),n.length>0?d.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((N,A)=>d.jsxs("div",{className:"flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[d.jsx("span",{children:N}),p&&d.jsx("button",{type:"button",onClick:()=>E(A),disabled:c,className:"ml-2 text-blue-600 hover:text-blue-800 disabled:opacity-50",children:d.jsx(_a,{className:"w-4 h-4"})})]},A))}):d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma especialidade adicionada"})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:e,disabled:c,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:c||!p,className:`px-6 py-2 rounded-lg transition-colors flex items-center ${p&&!c?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:c?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):`${t?"Atualizar":"Salvar"} Advogado`})]})]})})]}):d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(_a,{className:"w-8 h-8 text-red-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sem Permissão"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["Você não possui permissão para ",t?"editar":"criar"," advogados."]}),d.jsx("button",{onClick:e,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar"})]})})}function X3e({lawyer:t,onBack:e,onEdit:r,onUpdate:n}){const{hasPermission:i}=rs(),a=i("equipe"),s=u=>Pa(new Date(u),"dd/MM/yyyy",{locale:yi}),o=u=>u.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),l=async()=>{if(!a){alert("Você não possui permissão para alterar o status do advogado.");return}const u=t.status==="Ativo"?"Inativo":"Ativo";if(confirm(`Tem certeza que deseja ${u==="Ativo"?"ativar":"inativar"} este advogado?`))try{const p=await rt.updateLawyer(t.id,{status:u});p&&n&&n(p)}catch(p){console.error("Erro ao atualizar status do advogado:",p),alert("Erro ao atualizar advogado. Tente novamente.")}},c=()=>{if(!a){alert("Você não possui permissão para editar advogados.");return}r()};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsx("p",{className:"text-gray-600",children:"Informações detalhadas do advogado"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("button",{onClick:l,disabled:!a,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${a?t.status==="Ativo"?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:a?void 0:"Sem permissão para alterar status",children:t.status==="Ativo"?"Inativar":"Ativar"}),d.jsxs("button",{onClick:c,disabled:!a,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${a?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:a?"Editar advogado":"Sem permissão para editar",children:[d.jsx(js,{className:"w-5 h-5 mr-2"}),"Editar"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[t.photo?d.jsx("img",{src:t.photo,alt:t.fullName,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):d.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(fl,{className:"w-12 h-12 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsxs("p",{className:"text-lg text-gray-600",children:["OAB: ",t.oab]}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full mt-2 ${t.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]})]})}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"CPF"}),d.jsx("p",{className:"text-gray-900",children:o(t.cpf)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Comissão"}),d.jsxs("p",{className:"text-gray-900 font-semibold",children:[t.commission,"%"]})]}),t.email&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Email"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Qp,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.email})]})]}),t.phone&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Telefone"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(AT,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.phone})]})]}),t.address&&d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Endereço"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(fU,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.address})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Cadastro"}),d.jsx("p",{className:"text-gray-900",children:s(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Especialidades"}),t.specialties&&t.specialties.length>0?d.jsx("div",{className:"flex flex-wrap gap-2",children:t.specialties.map((u,f)=>d.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:u},f))}):d.jsx("p",{className:"text-gray-500",children:"Nenhuma especialidade cadastrada"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatísticas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"0"}),d.jsx("p",{className:"text-sm text-blue-600",children:"Processos Ativos"})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-green-600",children:"0"}),d.jsx("p",{className:"text-sm text-green-600",children:"Processos Concluídos"})]}),d.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"R$ 0,00"}),d.jsx("p",{className:"text-sm text-purple-600",children:"Comissões do Mês"})]})]})]})]})]})}const J3e=Ds({fullName:lt().required("Nome completo é obrigatório"),cpf:lt().required("CPF é obrigatório"),salary:jm().min(0,"Salário deve ser positivo").required("Salário é obrigatório"),position:lt().required("Função é obrigatória"),email:lt().email("Email inválido").nullable(),phone:lt().nullable(),address:lt().nullable(),status:lt().required("Status é obrigatório")});function Q3e({employee:t,onBack:e,onSave:r}){const[n,i]=I.useState((t==null?void 0:t.photo)||""),[a,s]=I.useState(!1),{hasPermission:o}=rs(),l=o("equipe"),{register:c,handleSubmit:u,formState:{errors:f},setValue:p,reset:h}=_l({resolver:El(J3e),defaultValues:{status:"Ativo",salary:0,fullName:"",cpf:"",position:"",email:"",phone:"",address:"",...t}});I.useEffect(()=>{t&&(h({...t}),i(t.photo||""))},[t,h]);const y=async v=>{var w,E,P,$,C,N;if(!l){alert("Você não possui permissão para salvar colaboradores.");return}if(!a)try{if(s(!0),!((w=v.fullName)!=null&&w.trim())||!((E=v.cpf)!=null&&E.trim())||!((P=v.position)!=null&&P.trim())){alert("Por favor, preencha todos os campos obrigatórios.");return}const A={fullName:v.fullName.trim(),cpf:v.cpf.replace(/\D/g,""),salary:Number(v.salary)||0,position:v.position.trim(),email:(($=v.email)==null?void 0:$.trim())||"",phone:((C=v.phone)==null?void 0:C.trim())||"",address:((N=v.address)==null?void 0:N.trim())||"",status:v.status||"Ativo",photo:n};if(t!=null&&t.id){const D=await rt.updateEmployee(t.id,A);if(D)console.log("Colaborador atualizado com sucesso"),r(D);else throw new Error("Erro ao atualizar colaborador")}else{const D=await rt.saveEmployee(A);console.log("Novo colaborador criado com sucesso"),r(D)}}catch(A){console.error("Erro ao salvar colaborador:",A);const D=A instanceof Error?A.message:"Erro desconhecido";alert(`Erro ao salvar colaborador: ${D}`)}finally{s(!1)}},g=v=>{var E;if(!l)return;const w=(E=v.target.files)==null?void 0:E[0];if(w){if(w.size>2*1024*1024){alert("Arquivo muito grande. Escolha uma imagem menor que 2MB.");return}const P=new FileReader;P.onload=$=>{var N;const C=(N=$.target)==null?void 0:N.result;i(C)},P.onerror=()=>{alert("Erro ao processar imagem. Tente novamente.")},P.readAsDataURL(w)}},b=v=>v.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),m=v=>{const w=v.replace(/\D/g,"");return w.length<=10?w.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2"):w.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2")};return l?d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",disabled:a,children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Colaborador":"Novo Colaborador"}),d.jsx("p",{className:"text-gray-600",children:t?"Atualize as informações do colaborador":"Cadastre um novo colaborador na equipe"})]})]}),d.jsx("form",{onSubmit:u(y),className:"max-w-4xl",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Foto do Colaborador"}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("div",{className:"flex-shrink-0",children:n?d.jsx("img",{src:n,alt:"Preview",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200",onError:v=>{console.error("Erro ao carregar imagem preview"),i("")}}):d.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center",children:d.jsx(G0,{className:"w-8 h-8 text-gray-400"})})}),d.jsxs("div",{children:[d.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/gif",onChange:g,className:"hidden",id:"photo-upload",disabled:a||!l}),d.jsxs("label",{htmlFor:"photo-upload",className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors ${a||!l?"opacity-50 cursor-not-allowed":""}`,children:[d.jsx(G0,{className:"w-4 h-4 mr-2"}),"Escolher Foto"]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG ou GIF até 2MB"}),n&&l&&d.jsx("button",{type:"button",onClick:()=>i(""),className:"text-red-600 hover:text-red-800 text-xs mt-1 block",disabled:a,children:"Remover foto"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),d.jsx("input",{...c("fullName"),type:"text",disabled:a||!l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Nome completo do colaborador"}),f.fullName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.fullName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),d.jsx("input",{...c("cpf"),type:"text",maxLength:14,disabled:a||!l,onChange:v=>{const w=b(v.target.value);v.target.value=w,p("cpf",w)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"000.000.000-00"}),f.cpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.cpf.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função/Cargo *"}),d.jsx("input",{...c("position"),type:"text",disabled:a||!l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Ex: Secretária, Assistente Jurídico"}),f.position&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.position.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salário (R$) *"}),d.jsx("input",{...c("salary",{valueAsNumber:!0,setValueAs:v=>{const w=parseFloat(v);return isNaN(w)?0:w}}),type:"number",min:"0",step:"0.01",disabled:a||!l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"0.00"}),f.salary&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.salary.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{...c("email"),type:"email",disabled:a||!l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"email@exemplo.com"}),f.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),d.jsx("input",{...c("phone"),type:"text",maxLength:15,disabled:a||!l,onChange:v=>{const w=m(v.target.value);v.target.value=w,p("phone",w)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"(11) 99999-9999"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço"}),d.jsx("input",{...c("address"),type:"text",disabled:a||!l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Endereço completo"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),d.jsxs("select",{...c("status"),disabled:a||!l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[d.jsx("option",{value:"Ativo",children:"Ativo"}),d.jsx("option",{value:"Inativo",children:"Inativo"})]}),f.status&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.status.message})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:e,disabled:a,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:a||!l,className:`px-6 py-2 rounded-lg transition-colors flex items-center ${l&&!a?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:a?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):`${t?"Atualizar":"Salvar"} Colaborador`})]})]})})]}):d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(_a,{className:"w-8 h-8 text-red-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sem Permissão"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["Você não possui permissão para ",t?"editar":"criar"," colaboradores."]}),d.jsx("button",{onClick:e,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar"})]})})}function Z3e({employee:t,onBack:e,onEdit:r,onUpdate:n}){const i=l=>Pa(new Date(l),"dd/MM/yyyy",{locale:yi}),a=l=>l.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),s=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),o=async()=>{const l=t.status==="Ativo"?"Inativo":"Ativo";if(confirm(`Tem certeza que deseja ${l==="Ativo"?"ativar":"inativar"} este colaborador?`))try{const u=await rt.updateEmployee(t.id,{status:l});u&&n&&n(u)}catch(u){console.error("Erro ao atualizar status do colaborador:",u),alert("Erro ao atualizar colaborador. Tente novamente.")}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsx("p",{className:"text-gray-600",children:"Informações detalhadas do colaborador"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("button",{onClick:o,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${t.status==="Ativo"?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:t.status==="Ativo"?"Inativar":"Ativar"}),d.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(js,{className:"w-5 h-5 mr-2"}),"Editar"]})]})]}),d.jsxs("div",{className:"max-w-4xl space-y-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[t.photo?d.jsx("img",{src:t.photo,alt:t.fullName,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):d.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center",children:d.jsx(W1,{className:"w-12 h-12 text-green-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),d.jsx("p",{className:"text-lg text-gray-600",children:t.position}),d.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full mt-2 ${t.status==="Ativo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]})]})}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"CPF"}),d.jsx("p",{className:"text-gray-900",children:a(t.cpf)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Salário"}),d.jsx("p",{className:"text-gray-900 font-semibold",children:s(t.salary)})]}),t.email&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Email"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Qp,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.email})]})]}),t.phone&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Telefone"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(AT,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.phone})]})]}),t.address&&d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Endereço"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(fU,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("p",{className:"text-gray-900",children:t.address})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data de Cadastro"}),d.jsx("p",{className:"text-gray-900",children:i(t.createdAt)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatísticas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"0"}),d.jsx("p",{className:"text-sm text-blue-600",children:"Tarefas Concluídas"})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-green-600",children:"0"}),d.jsx("p",{className:"text-sm text-green-600",children:"Projetos Ativos"})]}),d.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s(t.salary*12)}),d.jsx("p",{className:"text-sm text-purple-600",children:"Salário Anual"})]})]})]})]})]})}const eTe=Ds({name:lt().required("Nome do escritório é obrigatório"),cpfCnpj:lt().required("CPF/CNPJ é obrigatório"),oab:lt().required("OAB é obrigatória"),ccm:lt(),email:lt().email("Email inválido"),website:lt().url("URL inválida"),areaOfPractice:lt()});function tTe({team:t,onUpdate:e}){const[r,n]=I.useState([]),[i,a]=I.useState({type:"Comercial",cep:"",street:"",city:"",state:"",country:"Brasil",complement:""}),[s,o]=I.useState(""),[l,c]=I.useState(null),[u,f]=I.useState(!1),[p,h]=I.useState(null),{isOwner:y,isSoloMode:g}=Aa(),b=g||y,{register:m,handleSubmit:v,formState:{errors:w},setValue:E,watch:P,reset:$}=_l({resolver:El(eTe),defaultValues:{name:"",cpfCnpj:"",oab:"",ccm:"",email:"",website:"",areaOfPractice:""}}),C=P("cpfCnpj");I.useEffect(()=>{t&&(console.log("Inicializando formulário com dados da equipe:",t),$({name:t.name||"",cpfCnpj:t.cpfCnpj||"",oab:t.oab||"",ccm:t.ccm||"",email:t.email||"",website:t.website||"",areaOfPractice:t.areaOfPractice||""}),n(t.phones||[]),t.address&&a({type:t.address.type||"Comercial",cep:t.address.cep||"",street:t.address.street||"",city:t.address.city||"",state:t.address.state||"",country:t.address.country||"Brasil",complement:t.address.complement||""}),o(t.logoUrl||""))},[t,$]),I.useEffect(()=>{if(C){const k=Rn.formatCpfCnpj(C);k!==C&&E("cpfCnpj",k)}},[C,E]);const N=()=>{if(!b)return;const k={id:Date.now().toString(),type:"Telefone comercial",number:"",operator:""};n([...r,k])},A=(k,ie,ae)=>{b&&n(r.map(Q=>Q.id===k?{...Q,[ie]:ae,...ie==="type"&&ae==="WhatsApp"?{operator:""}:{}}:Q))},D=k=>{b&&n(r.filter(ie=>ie.id!==k))},F=k=>{var ae;if(!b)return;const ie=(ae=k.target.files)==null?void 0:ae[0];if(ie){if(ie.size>500*1024){alert("O arquivo deve ter no máximo 500KB");return}if(!["image/jpeg","image/png","image/svg+xml"].includes(ie.type)){alert("Apenas arquivos JPG, PNG ou SVG são permitidos");return}c(ie);const se=new FileReader;se.onload=fe=>{var we;o((we=fe.target)==null?void 0:we.result)},se.readAsDataURL(ie)}},S=async k=>{if(!t||!b){h("Sem permissão para editar");return}try{f(!0),h(null),console.log("Salvando dados do escritório:",k);let ie=t.logoUrl;if(l){console.log("Fazendo upload do logo...");const se=await Rn.uploadLogo(l,t.id);se&&(ie=se,console.log("Logo salvo em base64"))}const ae={...k,phones:r.filter(se=>se.number),address:i,logoUrl:ie};console.log("Dados a serem salvos:",ae);const Q=await Rn.updateTeam(t.id,ae);if(Q)console.log("Equipe atualizada com sucesso"),e(Q),alert("Dados do escritório salvos com sucesso!"),c(null);else throw new Error("Falha ao atualizar equipe")}catch(ie){console.error("Erro ao salvar dados do escritório:",ie);const ae=ie.message||"Erro ao salvar dados. Tente novamente.";h(ae),alert(ae)}finally{f(!1)}},O=(k,ie)=>{b&&a(ae=>({...ae,[k]:ie}))};return b?d.jsxs("div",{className:"space-y-8",children:[p&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[d.jsx("p",{className:"text-red-600",children:p}),d.jsx("button",{onClick:()=>h(null),className:"text-red-800 underline text-sm mt-2",children:"Fechar"})]}),d.jsxs("form",{onSubmit:v(S),className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Logo do Escritório"}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("div",{className:"flex-shrink-0",children:s?d.jsx("img",{src:s,alt:"Logo",className:"w-24 h-24 rounded-lg object-cover border-2 border-gray-200"}):d.jsx("div",{className:"w-24 h-24 rounded-lg bg-gray-100 flex items-center justify-center border-2 border-gray-200",children:d.jsx(cle,{className:"w-8 h-8 text-gray-400"})})}),d.jsxs("div",{children:[d.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/svg+xml",onChange:F,className:"hidden",id:"logo-upload",disabled:u||!b}),d.jsxs("label",{htmlFor:"logo-upload",className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors ${u||!b?"opacity-50 cursor-not-allowed":""}`,children:[d.jsx(G0,{className:"w-4 h-4 mr-2"}),"Escolher Logo"]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG ou SVG até 500KB"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Escritório *"}),d.jsx("input",{...m("name"),type:"text",disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"Ex: Silva & Associados Advocacia"}),w.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF/CNPJ *"}),d.jsx("input",{...m("cpfCnpj"),type:"text",disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"000.000.000-00 ou 00.000.000/0000-00"}),w.cpfCnpj&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.cpfCnpj.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAB *"}),d.jsx("input",{...m("oab"),type:"text",disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"123456/SP"}),w.oab&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.oab.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CCM"}),d.jsx("input",{...m("ccm"),type:"text",disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"Cadastro de Contribuintes Mobiliários"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Principal"}),d.jsx("input",{...m("email"),type:"email",disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"contato@escritorio.com"}),w.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site"}),d.jsx("input",{...m("website"),type:"url",disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"https://www.escritorio.com"}),w.website&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.website.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Área de Atuação"}),d.jsx("textarea",{...m("areaOfPractice"),rows:3,disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"Ex: Direito Civil, Direito Trabalhista, Direito Empresarial..."})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Telefones"}),d.jsxs("button",{type:"button",onClick:N,disabled:u||!b,className:"flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(od,{className:"w-4 h-4 mr-2"}),"Adicionar Telefone"]})]}),d.jsxs("div",{className:"space-y-3",children:[r.map(k=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[d.jsxs("select",{value:k.type,onChange:ie=>A(k.id,"type",ie.target.value),disabled:u||!b,className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",children:[d.jsx("option",{value:"Telefone comercial",children:"Telefone comercial"}),d.jsx("option",{value:"Celular comercial",children:"Celular comercial"}),d.jsx("option",{value:"Fax",children:"Fax"}),d.jsx("option",{value:"Telefone pessoal",children:"Telefone pessoal"}),d.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),d.jsx("option",{value:"Outro",children:"Outro"})]}),d.jsx("input",{type:"text",value:k.number,onChange:ie=>A(k.id,"number",Rn.formatPhone(ie.target.value)),disabled:u||!b,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"(11) 99999-9999"}),k.type!=="WhatsApp"&&d.jsx("input",{type:"text",value:k.operator||"",onChange:ie=>A(k.id,"operator",ie.target.value),disabled:u||!b,className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"Operadora"}),d.jsx("button",{type:"button",onClick:()=>D(k.id),disabled:u||!b,className:"text-red-600 hover:text-red-800 p-2 rounded hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(_a,{className:"w-4 h-4"})})]},k.id)),r.length===0&&d.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum telefone cadastrado"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Endereço"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Endereço"}),d.jsxs("select",{value:i.type,onChange:k=>O("type",k.target.value),disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",children:[d.jsx("option",{value:"Comercial",children:"Comercial"}),d.jsx("option",{value:"Pessoal",children:"Pessoal"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP"}),d.jsx("input",{type:"text",value:i.cep,onChange:k=>O("cep",Rn.formatCep(k.target.value)),disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"00000-000"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rua"}),d.jsx("input",{type:"text",value:i.street,onChange:k=>O("street",k.target.value),disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"Rua, número"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complemento"}),d.jsx("input",{type:"text",value:i.complement||"",onChange:k=>O("complement",k.target.value),disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"Sala, andar, etc."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade"}),d.jsx("input",{type:"text",value:i.city,onChange:k=>O("city",k.target.value),disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"São Paulo"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),d.jsxs("select",{value:i.state,onChange:k=>O("state",k.target.value),disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",children:[d.jsx("option",{value:"",children:"Selecione o estado"}),d.jsx("option",{value:"AC",children:"Acre"}),d.jsx("option",{value:"AL",children:"Alagoas"}),d.jsx("option",{value:"AP",children:"Amapá"}),d.jsx("option",{value:"AM",children:"Amazonas"}),d.jsx("option",{value:"BA",children:"Bahia"}),d.jsx("option",{value:"CE",children:"Ceará"}),d.jsx("option",{value:"DF",children:"Distrito Federal"}),d.jsx("option",{value:"ES",children:"Espírito Santo"}),d.jsx("option",{value:"GO",children:"Goiás"}),d.jsx("option",{value:"MA",children:"Maranhão"}),d.jsx("option",{value:"MT",children:"Mato Grosso"}),d.jsx("option",{value:"MS",children:"Mato Grosso do Sul"}),d.jsx("option",{value:"MG",children:"Minas Gerais"}),d.jsx("option",{value:"PA",children:"Pará"}),d.jsx("option",{value:"PB",children:"Paraíba"}),d.jsx("option",{value:"PR",children:"Paraná"}),d.jsx("option",{value:"PE",children:"Pernambuco"}),d.jsx("option",{value:"PI",children:"Piauí"}),d.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),d.jsx("option",{value:"RN",children:"Rio Grande do Norte"}),d.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),d.jsx("option",{value:"RO",children:"Rondônia"}),d.jsx("option",{value:"RR",children:"Roraima"}),d.jsx("option",{value:"SC",children:"Santa Catarina"}),d.jsx("option",{value:"SP",children:"São Paulo"}),d.jsx("option",{value:"SE",children:"Sergipe"}),d.jsx("option",{value:"TO",children:"Tocantins"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"País"}),d.jsx("input",{type:"text",value:i.country,onChange:k=>O("country",k.target.value),disabled:u||!b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:bg-gray-100",placeholder:"Brasil"})]})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:()=>window.location.reload(),disabled:u||!b,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:u||!b,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:u?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):"Salvar Dados"})]})]})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:d.jsx("p",{className:"text-sm text-amber-800",children:"⚠️ Apenas o proprietário pode editar as configurações do escritório."})}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Escritório"}),d.jsxs("div",{className:"space-y-4",children:[(t==null?void 0:t.logoUrl)&&d.jsx("div",{className:"mb-4",children:d.jsx("img",{src:t.logoUrl,alt:"Logo",className:"w-24 h-24 rounded-lg object-cover border-2 border-gray-200"})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),d.jsx("p",{className:"text-gray-900",children:(t==null?void 0:t.name)||"Não informado"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF/CNPJ"}),d.jsx("p",{className:"text-gray-900",children:(t==null?void 0:t.cpfCnpj)||"Não informado"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OAB"}),d.jsx("p",{className:"text-gray-900",children:(t==null?void 0:t.oab)||"Não informado"})]}),(t==null?void 0:t.email)&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("p",{className:"text-gray-900",children:t.email})]}),(t==null?void 0:t.website)&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),d.jsx("p",{className:"text-gray-900",children:t.website})]})]})]})]})}function rTe({team:t}){const[e,r]=I.useState([]),[n,i]=I.useState(!1),[a,s]=I.useState(""),[o,l]=I.useState("viewer"),[c,u]=I.useState(!1),[f,p]=I.useState(!0),[h,y]=I.useState(null),[g,b]=I.useState(!1),{isOwner:m,isSoloMode:v,checkPermission:w}=Aa(),E=v||m||w("equipe");I.useEffect(()=>{t&&P()},[t]);const P=async()=>{if(t)try{p(!0);const ae=await Rn.getTeamInvitations(t.id);r(ae)}catch(ae){console.error("Erro ao carregar convites:",ae)}finally{p(!1)}},$=async()=>{var ae,Q;if(!(!t||!a.trim()||!E))try{u(!0);const se=await Rn.createInvitation(t.id,a.trim(),o);se?(y(se.link),await P(),i(!1),s(""),l("viewer"),alert("Convite criado com sucesso! Copie o link seguro para enviar.")):alert("Erro ao criar convite. Verifique se o e-mail já não foi convidado.")}catch(se){console.error("Erro ao criar convite:",se),(ae=se.message)!=null&&ae.includes("já existe")?alert("Já existe um convite pendente para este e-mail."):(Q=se.message)!=null&&Q.includes("já é membro")?alert("Este usuário já é membro da equipe."):alert("Erro ao criar convite. Tente novamente.")}finally{u(!1)}},C=async ae=>{if(!E){alert("Você não possui permissão para cancelar convites.");return}if(confirm("Tem certeza que deseja cancelar este convite?"))try{await Rn.cancelInvitation(ae)&&await P()}catch(Q){console.error("Erro ao cancelar convite:",Q),alert("Erro ao cancelar convite.")}},N=async ae=>{try{await navigator.clipboard.writeText(ae),b(!0),setTimeout(()=>b(!1),2e3)}catch(Q){console.error("Erro ao copiar:",Q);const se=document.createElement("textarea");se.value=ae,document.body.appendChild(se),se.select();try{document.execCommand("copy"),b(!0),setTimeout(()=>b(!1),2e3)}catch{alert("Não foi possível copiar automaticamente. Link: "+ae)}document.body.removeChild(se)}},A=(ae,Q)=>{const se=encodeURIComponent(`Convite para ${t==null?void 0:t.name} - LegalX`),fe=encodeURIComponent(`
Olá!

Você foi convidado(a) para fazer parte da equipe "${t==null?void 0:t.name}" no LegalX - Sistema de Gestão Jurídica.

Para aceitar o convite, clique no link abaixo:
${Q}

Este convite expira em 72 horas.

Se você ainda não possui uma conta, será direcionado para criar uma.

Atenciosamente,
Equipe LegalX
    `.trim()),we=`mailto:${ae}?subject=${se}&body=${fe}`;window.open(we,"_blank")},D=ae=>{switch(ae){case"pending":return d.jsx(H0,{className:"w-4 h-4 text-amber-500"});case"accepted":return d.jsx(yl,{className:"w-4 h-4 text-green-500"});case"expired":case"cancelled":case"revoked":return d.jsx(Pp,{className:"w-4 h-4 text-red-500"});default:return d.jsx(H0,{className:"w-4 h-4 text-gray-500"})}},F=ae=>{switch(ae){case"pending":return"bg-amber-100 text-amber-800 border-amber-200";case"accepted":return"bg-green-100 text-green-800 border-green-200";case"expired":return"bg-red-100 text-red-800 border-red-200";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-200";case"revoked":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=ae=>{switch(ae){case"pending":return"Pendente";case"accepted":return"Aceito";case"expired":return"Expirado";case"cancelled":return"Cancelado";case"revoked":return"Revogado";default:return ae}},O=ae=>{switch(ae){case"admin":return d.jsx(Xu,{className:"w-4 h-4 text-blue-500"});case"editor":return d.jsx(od,{className:"w-4 h-4 text-green-500"});case"viewer":return d.jsx(Sc,{className:"w-4 h-4 text-gray-500"});default:return d.jsx(Sc,{className:"w-4 h-4 text-gray-500"})}},k=ae=>{try{return Pa(new Date(ae),"dd/MM/yyyy HH:mm",{locale:yi})}catch{return"Data inválida"}},ie=ae=>{const Q=new Date,fe=(new Date(ae).getTime()-Q.getTime())/(1e3*60*60);return fe<=6&&fe>0};return E?t?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Convites"}),d.jsx("p",{className:"text-gray-600",children:"Convide pessoas com links seguros que expiram automaticamente"})]}),d.jsxs("button",{onClick:()=>i(!n),disabled:c,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[d.jsx(od,{className:"w-5 h-5 mr-2"}),"Novo Convite"]})]}),n&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[d.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Criar Novo Convite Seguro"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-mail do Convidado *"}),d.jsx("input",{type:"email",value:a,onChange:ae=>s(ae.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"usuario@exemplo.com",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função *"}),d.jsxs("select",{value:o,onChange:ae=>l(ae.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"viewer",children:"Visualizador"}),d.jsx("option",{value:"editor",children:"Editor"}),d.jsx("option",{value:"admin",children:"Administrador"})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>i(!1),disabled:c,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"button",onClick:$,disabled:c||!a.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:c?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Criando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Xu,{className:"w-4 h-4 mr-2"}),"Criar Link Seguro"]})})]})]}),h&&d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(yl,{className:"w-6 h-6 text-green-600 mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"text-md font-semibold text-green-900 mb-2",children:"Convite Criado com Sucesso!"}),d.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Copie o link seguro abaixo e envie para o convidado:"}),d.jsx("div",{className:"bg-white border border-green-200 rounded-lg p-3 mb-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("code",{className:"text-xs text-gray-800 break-all flex-1 mr-2",children:h}),d.jsxs("button",{onClick:()=>N(h),className:"flex items-center px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors",children:[d.jsx(yle,{className:"w-3 h-3 mr-1"}),g?"Copiado!":"Copiar"]})]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("button",{onClick:()=>A(a,h),className:"flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Qp,{className:"w-4 h-4 mr-2"}),"Abrir E-mail"]}),d.jsxs("button",{onClick:()=>y(null),className:"flex items-center px-3 py-2 bg-gray-600 text-white text-sm rounded-lg hover:bg-gray-700 transition-colors",children:[d.jsx(_a,{className:"w-4 h-4 mr-2"}),"Fechar"]})]}),d.jsxs("div",{className:"mt-3 text-xs text-green-600",children:[d.jsx("p",{children:d.jsx("strong",{children:"⚠️ Importante:"})}),d.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[d.jsxs("li",{children:["Este link expira em ",d.jsx("strong",{children:"72 horas"})]}),d.jsx("li",{children:"Só pode ser usado pelo e-mail especificado"}),d.jsx("li",{children:"Contém token de segurança único"})]})]})]})]})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Convites Enviados"}),f?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando convites..."})]}):e.length===0?d.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx(Qp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"Nenhum convite enviado ainda"}),d.jsx("p",{className:"text-gray-400 text-sm",children:'Clique em "Novo Convite" para começar'})]}):d.jsx("div",{className:"space-y-3",children:e.map(ae=>d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[D(ae.status),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("p",{className:"font-medium text-gray-900",children:ae.email}),O(ae.role),ie(ae.expiresAt)&&ae.status==="pending"&&d.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:"Expira em breve"})]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[d.jsxs("span",{children:["Função: ",d.jsx("span",{className:"capitalize font-medium",children:ae.role})]}),d.jsxs("span",{children:["Criado: ",k(ae.createdAt)]}),d.jsxs("span",{children:["Expira: ",k(ae.expiresAt)]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${F(ae.status)}`,children:S(ae.status)}),ae.status==="pending"&&d.jsx("button",{onClick:()=>C(ae.id),className:"flex items-center px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",title:"Cancelar convite",children:d.jsx(_a,{className:"w-3 h-3"})})]})]}),ae.status==="accepted"&&ae.usedAt&&d.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:d.jsxs("p",{className:"text-xs text-green-600",children:["✓ Aceito em ",k(ae.usedAt),ae.acceptedBy&&d.jsxs("span",{className:"text-gray-500",children:[" por ",ae.acceptedBy]})]})}),ae.status==="expired"&&d.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:d.jsx("p",{className:"text-xs text-red-600",children:"⚠️ Convite expirado. Crie um novo convite se necessário."})})]},ae.id))})]}),d.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[d.jsxs("h4",{className:"text-sm font-semibold text-amber-800 mb-2 flex items-center",children:[d.jsx(Xu,{className:"w-4 h-4 mr-2"}),"Sistema de Convites Seguros"]}),d.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[d.jsxs("li",{children:["• Cada convite possui um ",d.jsx("strong",{children:"token único criptografado"})]}),d.jsxs("li",{children:["• Links expiram automaticamente em ",d.jsx("strong",{children:"72 horas"})]}),d.jsx("li",{children:"• Validação de e-mail: só funciona com o e-mail correto"}),d.jsx("li",{children:"• Tokens não são salvos no banco - apenas hash SHA-256"}),d.jsx("li",{children:"• Usuários não autenticados podem ver o convite mas devem fazer login para aceitar"})]}),d.jsxs("div",{className:"mt-3 p-2 bg-amber-100 rounded text-xs text-amber-800",children:[d.jsx("p",{children:d.jsx("strong",{children:"Como funciona:"})}),d.jsx("p",{children:"1. Crie o convite → 2. Copie o link seguro → 3. Envie via e-mail/WhatsApp → 4. Convidado clica e faz login → 5. Convite é validado e aceito automaticamente"})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"💡 Como Enviar Convites"}),d.jsxs("div",{className:"text-sm text-blue-700 space-y-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Opção 1:"}),' Use o botão "Abrir E-mail" para enviar via seu cliente de e-mail padrão']}),d.jsxs("p",{children:[d.jsx("strong",{children:"Opção 2:"})," Copie o link e envie via WhatsApp, Telegram, ou qualquer mensageiro"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Opção 3:"})," Copie o link e cole em seu cliente de e-mail personalizado"]})]}),d.jsx("div",{className:"mt-2 text-xs text-blue-600",children:d.jsxs("p",{children:["⚠️ ",d.jsx("strong",{children:"Importante:"})," Cada link funciona apenas para o e-mail especificado e expira em 72h. Não compartilhe links entre pessoas diferentes."]})})]})]}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"Carregando dados da equipe..."})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:d.jsx("p",{className:"text-sm text-amber-800",children:"⚠️ Você não possui permissão para gerenciar convites da equipe."})}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Convites da Equipe"}),f?d.jsx("p",{className:"text-gray-500",children:"Carregando..."}):d.jsxs("p",{className:"text-gray-600",children:[e.length," convite(s) registrado(s)"]})]})]})}function nTe({team:t}){const[e,r]=I.useState([]),[n,i]=I.useState(null),[a,s]=I.useState(null),[o,l]=I.useState("viewer"),[c,u]=I.useState(!0),[f,p]=I.useState(!1),{isOwner:h,isSoloMode:y}=Aa(),g=y||h;I.useEffect(()=>{t&&b()},[t]);const b=async()=>{if(t)try{u(!0);const A=await Rn.getTeamMembers(t.id);r(A)}catch(A){console.error("Erro ao carregar membros:",A)}finally{u(!1)}},m=A=>{if(!g){alert("Apenas o proprietário pode editar permissões.");return}i(A),s(A.permissions),l(A.role)},v=async()=>{if(!(!n||!a||!t||!g))try{p(!0),await Rn.updateMemberPermissions(t.id,n.uid,a,o)?(await b(),i(null),s(null),alert("Permissões atualizadas com sucesso!")):alert("Erro ao atualizar permissões.")}catch(A){console.error("Erro ao salvar permissões:",A),alert("Erro ao salvar permissões.")}finally{p(!1)}},w=async A=>{if(!g){alert("Apenas o proprietário pode remover membros.");return}if(A.role==="owner"){alert("Não é possível remover o proprietário da equipe.");return}if(confirm(`Tem certeza que deseja remover ${A.email} da equipe?`))try{await Rn.removeMember(t.id,A.uid)&&await b()}catch(D){console.error("Erro ao remover membro:",D),alert("Erro ao remover membro.")}},E=(A,D)=>{!a||!g||s({...a,[A]:D})},P=A=>{g&&(l(A),s(HA[A]))},$=A=>{switch(A){case"owner":return d.jsx(fl,{className:"w-4 h-4 text-amber-500"});case"admin":return d.jsx(Xu,{className:"w-4 h-4 text-blue-500"});case"editor":return d.jsx(js,{className:"w-4 h-4 text-green-500"});default:return d.jsx(fl,{className:"w-4 h-4 text-gray-500"})}},C=A=>{switch(A){case"owner":return"bg-amber-100 text-amber-800";case"admin":return"bg-blue-100 text-blue-800";case"editor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},N=A=>Pa(new Date(A),"dd/MM/yyyy",{locale:yi});return!g&&!c?d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Zp,{className:"w-5 h-5 text-amber-600 mr-2"}),d.jsx("p",{className:"text-sm text-amber-800",children:"Apenas o proprietário da equipe pode gerenciar acessos e permissões."})]})}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Membros da Equipe"}),d.jsxs("p",{className:"text-gray-600",children:[e.length," membro(s) na equipe"]})]})]}):c?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando membros..."})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Controle de Acesso"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie permissões e funções dos membros da equipe"})]}),d.jsx("div",{className:"space-y-4",children:e.map(A=>d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(fl,{className:"w-6 h-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("p",{className:"font-medium text-gray-900",children:A.email}),$(A.role)]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${C(A.role)}`,children:A.role==="owner"?"Proprietário":A.role==="admin"?"Administrador":A.role==="editor"?"Editor":"Visualizador"}),d.jsxs("span",{children:["Adicionado: ",N(A.addedAt)]}),d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${A.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.status==="active"?"Ativo":"Inativo"})]})]})]}),d.jsx("div",{className:"flex items-center space-x-2",children:A.role!=="owner"&&g&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>m(A),disabled:!g,className:`flex items-center px-3 py-1 text-xs rounded-lg transition-colors ${g?"bg-blue-100 text-blue-700 hover:bg-blue-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:g?"Editar":"Sem permissão",children:[d.jsx(js,{className:"w-3 h-3 mr-1"}),"Editar"]}),d.jsxs("button",{onClick:()=>w(A),disabled:!g,className:`flex items-center px-3 py-1 text-xs rounded-lg transition-colors ${g?"bg-red-100 text-red-700 hover:bg-red-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:g?"Remover":"Sem permissão",children:[d.jsx(Ac,{className:"w-3 h-3 mr-1"}),"Remover"]})]})})]}),d.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[d.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Permissões:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(A.permissions).map(([D,F])=>d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F?"bg-green-100 text-green-800":"bg-gray-100 text-gray-500"}`,children:D.charAt(0).toUpperCase()+D.slice(1)},D))})]})]},A.uid))}),n&&a&&g&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Editar Permissões - ",n.email]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função"}),d.jsxs("select",{value:o,onChange:A=>P(A.target.value),disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"viewer",children:"Visualizador"}),d.jsx("option",{value:"editor",children:"Editor"}),d.jsx("option",{value:"admin",children:"Administrador"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permissões por Módulo"}),d.jsx("div",{className:"space-y-3",children:Object.entries(a).map(([A,D])=>d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:D,onChange:F=>E(A,F.target.checked),disabled:f,className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),d.jsx("span",{className:"text-sm text-gray-700 capitalize",children:A.charAt(0).toUpperCase()+A.slice(1)})]},A))})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>{i(null),s(null)},disabled:f,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"}),d.jsx("button",{type:"button",onClick:v,disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:f?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):"Salvar Alterações"})]})]})})}),e.length===0&&d.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[d.jsx(K0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"Nenhum membro na equipe ainda"}),d.jsx("p",{className:"text-gray-400 text-sm",children:'Use a aba "Grupo de Envolvidos" para convidar pessoas'})]})]})}function iTe({onBack:t}){const[e,r]=I.useState("office"),[n,i]=I.useState(null),[a,s]=I.useState(!0),[o,l]=I.useState(null),{isOwner:c,isSoloMode:u,checkPermission:f}=Aa(),p=u||c||f("configuracoes");I.useEffect(()=>{if(!p&&!a){alert("Você não possui permissão para acessar a área administrativa."),t();return}h()},[p]);const h=async()=>{try{if(s(!0),l(null),Ur.currentUser||(console.log("Aguardando autenticação..."),await new Promise(m=>{const v=Ur.onAuthStateChanged(w=>{v(),m(w)})})),!Ur.currentUser)throw new Error("Usuário não autenticado. Faça login novamente.");console.log("Usuário autenticado:",Ur.currentUser.uid),console.log("Carregando dados da equipe...");const b=await Rn.getTeam();console.log("Dados da equipe carregados:",b),i(b)}catch(b){console.error("Erro ao carregar dados da administração:",b);let m="Erro ao carregar dados da administração";b.code==="permission-denied"?m="Sem permissão para acessar os dados. Verifique as regras do Firestore.":b.code==="unavailable"?m="Serviço temporariamente indisponível. Tente novamente em alguns momentos.":b.message.includes("não autenticado")?m="Sessão expirada. Faça login novamente.":b.message&&(m=b.message),l(m)}finally{s(!1)}},y=b=>{i(b)},g=async()=>{try{if(s(!0),l(null),!Ur.currentUser)throw new Error("Usuário não autenticado");console.log("Criando nova equipe...");const b=await Rn.createTeam({name:"Meu Escritório",phones:[],settings:{allowInvitations:!0,defaultRole:"viewer",modules:["processos","agenda","documentos","relatorios"]}});if(b)i(b),console.log("Equipe criada com sucesso:",b);else throw new Error("Falha ao criar equipe")}catch(b){console.error("Erro ao criar equipe:",b),l(b.message||"Erro ao criar equipe")}finally{s(!1)}};return!p&&!a?d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(h0,{className:"w-8 h-8 text-red-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Negado"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Você não possui permissão para acessar a área administrativa."}),d.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar"})]})}):a?d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Carregando administração..."})]})})}):o?d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"flex items-center mb-6",children:d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]})}),d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro"}),d.jsx("p",{className:"text-red-600 mb-4",children:o}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{onClick:h,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 mr-2",children:"Tentar Novamente"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Recarregar Página"})]})]})]}):n?d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(h0,{className:"w-8 h-8 text-blue-600 mr-3"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Administração"}),d.jsx("p",{className:"text-gray-600",children:"Gerencie seu escritório e equipe"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("nav",{className:"flex space-x-8 px-6",children:[d.jsx("button",{onClick:()=>r("office"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="office"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Escritório"}),d.jsx("button",{onClick:()=>r("team"),disabled:!c&&!f("equipe"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="team"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} ${!c&&!f("equipe")?"opacity-50 cursor-not-allowed":""}`,children:"Grupo de Envolvidos"}),d.jsx("button",{onClick:()=>r("access"),disabled:!c,className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="access"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} ${c?"":"opacity-50 cursor-not-allowed"}`,title:c?"":"Apenas o proprietário pode gerenciar acessos",children:"Acesso"})]})}),d.jsxs("div",{className:"p-6",children:[e==="office"&&d.jsx(tTe,{team:n,onUpdate:y}),e==="team"&&d.jsx(rTe,{team:n}),e==="access"&&d.jsx(nTe,{team:n})]})]})]}):d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"flex items-center mb-6",children:d.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[d.jsx(ea,{className:"w-5 h-5 mr-2"}),"Voltar"]})}),d.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[d.jsx(h0,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configure seu Escritório"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Para começar a usar o sistema de administração, você precisa configurar seu escritório."}),d.jsx("button",{onClick:g,disabled:a,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:a?"Criando...":"Criar Meu Escritório"})]})]})}function aTe(){const[t]=QJ(),e=u3(),[r,n]=I.useState(null),[i,a]=I.useState(null),[s,o]=I.useState(!0),[l,c]=I.useState(!1),[u,f]=I.useState(null),p=t.get("inviteId"),h=t.get("token");I.useEffect(()=>{p&&h?y():(f({success:!1,message:"Link de convite inválido - parâmetros obrigatórios não encontrados",isError:!0}),o(!1))},[p,h]),I.useEffect(()=>{setTimeout(async()=>{try{const P=await Rn.processPendingInvites();P.processed>0&&console.log(`${P.processed} convites pendentes processados automaticamente`)}catch(P){console.error("Erro ao processar convites pendentes:",P)}},1e3)},[]);const y=async()=>{if(!(!p||!h))try{o(!0),console.log("Validando convite:",{inviteId:p,tokenLength:h.length});const E=await Rn.validateInvitation(p,h);if(a(E),!E.valid){f({success:!1,message:E.error||"Convite inválido",isError:!0});return}E.invitation&&(n(E.invitation),console.log("Convite válido:",E))}catch(E){console.error("Erro ao validar convite:",E),f({success:!1,message:"Erro interno ao processar convite. Verifique sua conexão e tente novamente.",isError:!0})}finally{o(!1)}},g=async()=>{if(!(!p||!h))try{c(!0),console.log("Tentando aceitar convite:",p);const E=await Rn.acceptInvitation(p,h);console.log("Resposta do acceptInvitation:",E),f({success:E.success,message:E.message,requiresAuth:E.requiresAuth,isError:!E.success&&!E.requiresAuth}),E.success?setTimeout(()=>{e("/",{replace:!0})},3e3):E.requiresAuth&&setTimeout(()=>{e("/login",{replace:!0,state:{message:"Faça login para aceitar o convite",inviteInfo:{email:r==null?void 0:r.email,teamName:"equipe"}}})},2e3)}catch(E){console.error("Erro ao aceitar convite:",E),f({success:!1,message:"Erro interno. Verifique sua conexão e tente novamente.",isError:!0})}finally{c(!1)}},b=()=>{e("/login",{state:{message:"Faça login com o e-mail correto para aceitar o convite",inviteInfo:{email:r==null?void 0:r.email,teamName:"equipe"},returnTo:window.location.pathname+window.location.search}})},m=()=>{e("/register",{state:{message:"Crie sua conta para aceitar o convite",inviteInfo:{email:r==null?void 0:r.email,teamName:"equipe"},returnTo:window.location.pathname+window.location.search}})},v=E=>({owner:"Proprietário",admin:"Administrador",editor:"Editor",viewer:"Visualizador"})[E]||E,w=E=>{const P=new Date,C=new Date(E).getTime()-P.getTime();if(C<=0)return"Expirado";const N=Math.floor(C/(1e3*60*60)),A=Math.floor(C%(1e3*60*60)/(1e3*60));return N>0?`${N}h ${A}m restantes`:`${A}m restantes`};return s?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Validando convite..."}),d.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Verificando token de segurança"}),d.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:d.jsx("p",{className:"text-xs text-blue-700",children:"🔐 Validando token criptográfico e verificando expiração"})})]})}):u?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsx("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:u.success?d.jsxs(d.Fragment,{children:[d.jsx(yl,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Convite Aceito!"}),d.jsx("p",{className:"text-gray-600 mb-6",children:u.message}),d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:d.jsxs("p",{className:"text-sm text-green-700",children:["✓ Você foi adicionado à equipe com sucesso",d.jsx("br",{}),"✓ Suas permissões foram configuradas automaticamente"]})}),d.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Redirecionando para o sistema..."]})]}):u.requiresAuth?d.jsxs(d.Fragment,{children:[d.jsx(xg,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Login Necessário"}),d.jsx("p",{className:"text-gray-600 mb-4",children:u.message}),r&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[d.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:[d.jsx("strong",{children:"Convite para:"})," ",r.email]}),d.jsx("p",{className:"text-xs text-blue-600",children:"O convite foi salvo e será processado automaticamente após o login"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[d.jsx(xg,{className:"w-5 h-5 mr-2"}),"Fazer Login"]}),d.jsxs("button",{onClick:m,className:"w-full flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[d.jsx(xg,{className:"w-5 h-5 mr-2"}),"Criar Conta"]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:["Você deve usar o e-mail ",d.jsx("strong",{children:r==null?void 0:r.email})," para aceitar este convite"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx(Pp,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.isError?"Erro no Convite":"Convite Inválido"}),d.jsx("p",{className:"text-gray-600 mb-6",children:u.message}),d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[d.jsx("p",{className:"text-sm text-red-700",children:"⚠️ Possíveis causas:"}),d.jsxs("ul",{className:"text-xs text-red-600 mt-2 list-disc list-inside space-y-1",children:[d.jsx("li",{children:"Link expirado (convites expiram em 72 horas)"}),d.jsx("li",{children:"Convite já foi aceito anteriormente"}),d.jsx("li",{children:"Convite foi cancelado pelo administrador"}),d.jsx("li",{children:"Token de segurança inválido"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:()=>e("/"),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Ir para o Sistema"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Tentar Novamente"})]})]})})}):!r||!(i!=null&&i.valid)?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[d.jsx(Pp,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Convite Inválido"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Este link de convite não é válido ou não pode ser processado."}),d.jsx("button",{onClick:()=>e("/"),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Ir para o Sistema"})]})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:["Legal",d.jsx("span",{className:"text-amber-400",children:"X"})]}),d.jsx("p",{className:"text-blue-600",children:"Sistema de Gestão Jurídica"})]}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Xu,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Convite para Equipe"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["Você foi convidado para fazer parte da equipe como"," ",d.jsx("strong",{className:"text-blue-600",children:v(r.role)})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"E-mail:"}),d.jsx("span",{className:"font-medium text-blue-800",children:r.email})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Função:"}),d.jsx("span",{className:"font-medium text-blue-800",children:v(r.role)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Expira em:"}),d.jsx("span",{className:"font-medium text-amber-700",children:w(r.expiresAt)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Criado em:"}),d.jsx("span",{className:"font-medium text-gray-700",children:Pa(new Date(r.createdAt),"dd/MM/yyyy HH:mm",{locale:yi})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Status:"}),d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:r.status==="pending"?"Pendente":r.status})]})]}),d.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:d.jsxs("div",{className:"flex items-center text-xs text-blue-700",children:[d.jsx(Xu,{className:"w-3 h-3 mr-1"}),d.jsx("span",{children:"Convite seguro com token criptografado"})]})})]})]}),(i==null?void 0:i.requiresAuth)&&d.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(Pp,{className:"w-5 h-5 text-amber-400 mr-2 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-amber-800 font-medium mb-1",children:"Login necessário"}),d.jsxs("p",{className:"text-xs text-amber-700",children:["Você precisa fazer login com o e-mail ",d.jsx("strong",{children:r.email})," para aceitar este convite. Se não possui conta, você pode criar uma."]})]})]})}),d.jsxs("div",{className:"space-y-3",children:[i!=null&&i.requiresAuth?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:b,disabled:l,className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 font-medium",children:[d.jsx(xg,{className:"w-5 h-5 mr-2"}),"Fazer Login"]}),d.jsxs("button",{onClick:m,disabled:l,className:"w-full flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 font-medium",children:[d.jsx(xg,{className:"w-5 h-5 mr-2"}),"Criar Nova Conta"]}),d.jsx("p",{className:"text-xs text-center text-gray-500",children:"O convite será salvo e processado automaticamente após o login"})]}):d.jsx("button",{onClick:g,disabled:l,className:"w-full flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 font-medium",children:l?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Aceitando Convite..."]}):d.jsxs(d.Fragment,{children:[d.jsx(yl,{className:"w-5 h-5 mr-2"}),"Aceitar Convite"]})}),d.jsx("button",{onClick:()=>e("/"),disabled:l,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancelar"})]}),d.jsxs("div",{className:"mt-6 space-y-3",children:[d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[d.jsxs("h4",{className:"text-xs font-semibold text-green-800 mb-1 flex items-center",children:[d.jsx(Xu,{className:"w-3 h-3 mr-1"}),"Processo Seguro"]}),d.jsxs("ul",{className:"text-xs text-green-700 space-y-0.5",children:[d.jsx("li",{children:"• Token único validado via SHA-256"}),d.jsx("li",{children:"• Verificação automática de expiração"}),d.jsx("li",{children:"• Validação de e-mail obrigatória"}),d.jsx("li",{children:"• Convite salvo localmente se necessário"})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-xs text-gray-500",children:"Este convite possui token de segurança e expira automaticamente."}),d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Ao aceitar, você terá acesso aos módulos permitidos pela sua função."})]})]}),!1]})})}function sTe(){const[t,e]=I.useState("dashboard"),[r,n]=I.useState(!1),[i,a]=I.useState(null),[s,o]=I.useState(null),[l,c]=I.useState(null),[u,f]=I.useState(null),[p,h]=I.useState("lawyer"),[y,g]=I.useState("list"),[b,m]=I.useState(null),v=async()=>{try{await Im.logout()}catch(O){console.error("Erro ao fazer logout:",O),window.location.reload()}},w=O=>{e(O),n(!1),g("list"),a(null),o(null),c(null),f(null),m(null)},E=()=>{n(!0),e("")},P=()=>{n(!1),e("dashboard")},$=O=>{switch(n(!1),O){case"new-power-of-attorney":e("documents"),m("power-of-attorney");break;case"new-receipt":e("documents"),m("receipt");break;case"new-revenue":e("financial"),m("revenue");break;case"new-expense":e("financial"),m("expense");break;case"new-process":e("processes"),g("form"),a(null);break;case"new-event":e("calendar"),m("event");break;case"new-lawyer":e("team"),g("form"),c(null),h("lawyer");break;case"new-employee":e("team"),g("form"),f(null),h("employee");break}},C=()=>{g("form"),a(null)},N=O=>{a(O),g("view")},A=O=>{a(O),g("form")},D=()=>{g("list"),a(null),o(null),c(null),f(null),m(null)},F=()=>{if(r)return d.jsx(iTe,{onBack:P});switch(t){case"dashboard":return d.jsx(LL,{});case"processes":switch(y){case"form":return d.jsx(K_e,{process:i,onBack:D,onSave:D});case"view":return d.jsx(Y_e,{process:i,onBack:D,onEdit:()=>g("form"),onUpdate:O=>{a(O)}});default:return d.jsx(H_e,{onNewProcess:C,onViewProcess:N,onEditProcess:A})}case"calendar":return d.jsx(tEe,{quickActionType:b,onClearQuickAction:()=>m(null)});case"financial":return d.jsx(sEe,{quickActionType:b,onClearQuickAction:()=>m(null)});case"documents":return d.jsx(q3e,{quickActionType:b,onClearQuickAction:()=>m(null)});case"reports":return d.jsx(H3e,{});case"settings":return d.jsx(G3e,{});case"team":switch(y){case"form":return p==="lawyer"?d.jsx(Y3e,{lawyer:l,onBack:D,onSave:D}):d.jsx(Q3e,{employee:u,onBack:D,onSave:D});case"view":return l?d.jsx(X3e,{lawyer:l,onBack:D,onEdit:()=>{h("lawyer"),g("form")},onUpdate:O=>{c(O)}}):u?d.jsx(Z3e,{employee:u,onBack:D,onEdit:()=>{h("employee"),g("form")},onUpdate:O=>{f(O)}}):d.jsx(c7,{onNewLawyer:()=>{},onNewEmployee:()=>{},onViewLawyer:()=>{},onViewEmployee:()=>{},onEditLawyer:()=>{},onEditEmployee:()=>{}});default:return d.jsx(c7,{onNewLawyer:()=>{g("form"),c(null),h("lawyer")},onNewEmployee:()=>{g("form"),f(null),h("employee")},onViewLawyer:O=>{c(O),g("view")},onViewEmployee:O=>{f(O),g("view")},onEditLawyer:O=>{c(O),h("lawyer"),g("form")},onEditEmployee:O=>{f(O),h("employee"),g("form")}})}default:return d.jsx(LL,{})}},S=O=>d.jsxs(uce,{children:[" ",d.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[d.jsx(fce,{user:O,onLogout:v,onOpenAdmin:E}),d.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d.jsx(yce,{activeSection:t,onSectionChange:w,onQuickAction:$}),d.jsx("main",{className:"flex-1 overflow-auto",children:F()})]})]})]});return d.jsxs(EJ,{children:[d.jsx(gA,{path:"/aceitar",element:d.jsx(aTe,{})}),d.jsx(gA,{path:"/*",element:d.jsx(lce,{children:S})})]})}_F(document.getElementById("root")).render(d.jsx(I.StrictMode,{children:d.jsx(GJ,{children:d.jsx(sTe,{})})}));export{mr as _,lg as c,Eo as g};
